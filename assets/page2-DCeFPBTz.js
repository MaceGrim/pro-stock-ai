import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jh(Ia){return Ia&&Ia.__esModule&&Object.prototype.hasOwnProperty.call(Ia,"default")?Ia.default:Ia}var Uh={exports:{}};(function(Ia,ou){/*! For license information please see plotly.min.js.LICENSE.txt */(function(es,wi){Ia.exports=wi()})(self,function(){return function(){var es={79288:function(ee,D,e){var M=e(3400),k={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in k){var T=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");M.addStyleRule(T,k[a])}},86712:function(ee,D,e){ee.exports=e(84224)},37240:function(ee,D,e){ee.exports=e(51132)},29744:function(ee,D,e){ee.exports=e(94456)},29352:function(ee,D,e){ee.exports=e(67244)},96144:function(ee,D,e){ee.exports=e(97776)},53219:function(ee,D,e){ee.exports=e(61712)},4624:function(ee,D,e){ee.exports=e(95856)},54543:function(ee,D,e){ee.exports=e(54272)},45e3:function(ee,D,e){ee.exports=e(85404)},62300:function(ee,D,e){ee.exports=e(26048)},6920:function(ee,D,e){ee.exports=e(66240)},10264:function(ee,D,e){ee.exports=e(40448)},32016:function(ee,D,e){ee.exports=e(64884)},27528:function(ee,D,e){ee.exports=e(15088)},75556:function(ee,D,e){ee.exports=e(76744)},39204:function(ee,D,e){ee.exports=e(94704)},73996:function(ee,D,e){ee.exports=e(62396)},16489:function(ee,D,e){ee.exports=e(32028)},5e3:function(ee,D,e){ee.exports=e(81932)},77280:function(ee,D,e){ee.exports=e(45536)},33992:function(ee,D,e){ee.exports=e(42600)},17600:function(ee,D,e){ee.exports=e(21536)},49116:function(ee,D,e){ee.exports=e(65664)},46808:function(ee,D,e){ee.exports=e(29044)},36168:function(ee,D,e){ee.exports=e(48928)},13792:function(ee,D,e){var M=e(32016);M.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),ee.exports=M},3920:function(ee,D,e){ee.exports=e(43480)},25120:function(ee,D,e){ee.exports=e(6296)},4340:function(ee,D,e){ee.exports=e(7404)},86152:function(ee,D,e){ee.exports=e(65456)},56816:function(ee,D,e){ee.exports=e(22020)},89296:function(ee,D,e){ee.exports=e(29928)},20260:function(ee,D,e){ee.exports=e(75792)},32140:function(ee,D,e){ee.exports=e(156)},84764:function(ee,D,e){ee.exports=e(45499)},48824:function(ee,D,e){ee.exports=e(3296)},69967:function(ee,D,e){ee.exports=e(4184)},8363:function(ee,D,e){ee.exports=e(36952)},86636:function(ee,D,e){ee.exports=e(38983)},70192:function(ee,D,e){ee.exports=e(11572)},81604:function(ee,D,e){ee.exports=e(76924)},63796:function(ee,D,e){ee.exports=e(62944)},89336:function(ee,D,e){ee.exports=e(95443)},67484:function(ee,D,e){ee.exports=e(34864)},97312:function(ee,D,e){ee.exports=e(76272)},42192:function(ee,D,e){ee.exports=e(97924)},29800:function(ee,D,e){ee.exports=e(15436)},63560:function(ee,D,e){ee.exports=e(5621)},89904:function(ee,D,e){ee.exports=e(91304)},50248:function(ee,D,e){ee.exports=e(41724)},65832:function(ee,D,e){ee.exports=e(31991)},79440:function(ee,D,e){ee.exports=e(22869)},13752:function(ee,D,e){ee.exports=e(67776)},83096:function(ee,D,e){ee.exports=e(95952)},72196:function(ee){ee.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(ee,D,e){var M=e(72196),k=e(25376),a=e(33816),T=e(31780).templatedArray;e(36208),ee.exports=T("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:M.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:M.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:k({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(ee,D,e){var M=e(3400),k=e(54460),a=e(23816).draw;function T(g){var s=g._fullLayout;M.filterVisible(s.annotations).forEach(function(t){var i=k.getFromId(g,t.xref),r=k.getFromId(g,t.yref),n=k.getRefType(t.xref),o=k.getRefType(t.yref);t._extremes={},n==="range"&&b(t,i),o==="range"&&b(t,r)})}function b(g,s){var t,i=s._id,r=i.charAt(0),n=g[r],o=g["a"+r],l=g[r+"ref"],u=g["a"+r+"ref"],d=g["_"+r+"padplus"],c=g["_"+r+"padminus"],m={x:1,y:-1}[r]*g[r+"shift"],f=3*g.arrowsize*g.arrowwidth||0,p=f+m,v=f-m,y=3*g.startarrowsize*g.arrowwidth||0,x=y+m,_=y-m;if(u===l){var h=k.findExtremes(s,[s.r2c(n)],{ppadplus:p,ppadminus:v}),S=k.findExtremes(s,[s.r2c(o)],{ppadplus:Math.max(d,x),ppadminus:Math.max(c,_)});t={min:[h.min[0],S.min[0]],max:[h.max[0],S.max[0]]}}else x=o?x+o:x,_=o?_-o:_,t=k.findExtremes(s,[s.r2c(n)],{ppadplus:Math.max(d,p,x),ppadminus:Math.max(c,v,_)});g._extremes[i]=t}ee.exports=function(g){var s=g._fullLayout;if(M.filterVisible(s.annotations).length&&g._fullData.length)return M.syncOrAsync([a,T],g)}},42300:function(ee,D,e){var M=e(3400),k=e(24040),a=e(31780).arrayEditor;function T(g,s){var t,i,r,n,o,l,u,d=g._fullLayout.annotations,c=[],m=[],f=[],p=(s||[]).length;for(t=0;t<d.length;t++)if(n=(r=d[t]).clicktoshow){for(i=0;i<p;i++)if(l=(o=s[i]).xaxis,u=o.yaxis,l._id===r.xref&&u._id===r.yref&&l.d2r(o.x)===b(r._xclick,l)&&u.d2r(o.y)===b(r._yclick,u)){(r.visible?n==="onout"?m:f:c).push(t);break}i===p&&r.visible&&n==="onout"&&m.push(t)}return{on:c,off:m,explicitOff:f}}function b(g,s){return s.type==="log"?s.l2r(g):s.d2r(g)}ee.exports={hasClickToShow:function(g,s){var t=T(g,s);return t.on.length>0||t.explicitOff.length>0},onClick:function(g,s){var t,i,r=T(g,s),n=r.on,o=r.off.concat(r.explicitOff),l={},u=g._fullLayout.annotations;if(n.length||o.length){for(t=0;t<n.length;t++)(i=a(g.layout,"annotations",u[n[t]])).modifyItem("visible",!0),M.extendFlat(l,i.getUpdateObj());for(t=0;t<o.length;t++)(i=a(g.layout,"annotations",u[o[t]])).modifyItem("visible",!1),M.extendFlat(l,i.getUpdateObj());return k.call("update",g,{},l)}}}},87192:function(ee,D,e){var M=e(3400),k=e(76308);ee.exports=function(a,T,b,g){g("opacity");var s=g("bgcolor"),t=g("bordercolor"),i=k.opacity(t);g("borderpad");var r=g("borderwidth"),n=g("showarrow");if(g("text",n?" ":b._dfltTitle.annotation),g("textangle"),M.coerceFont(g,"font",b.font),g("width"),g("align"),g("height")&&g("valign"),n){var o,l,u=g("arrowside");u.indexOf("end")!==-1&&(o=g("arrowhead"),l=g("arrowsize")),u.indexOf("start")!==-1&&(g("startarrowhead",o),g("startarrowsize",l)),g("arrowcolor",i?T.bordercolor:k.defaultLine),g("arrowwidth",2*(i&&r||1)),g("standoff"),g("startstandoff")}var d=g("hovertext"),c=b.hoverlabel||{};if(d){var m=g("hoverlabel.bgcolor",c.bgcolor||(k.opacity(s)?k.rgb(s):k.defaultLine)),f=g("hoverlabel.bordercolor",c.bordercolor||k.contrast(m));M.coerceFont(g,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||f})}g("captureevents",!!d)}},26828:function(ee,D,e){var M=e(38248),k=e(36896);ee.exports=function(a,T,b,g){T=T||{};var s=b==="log"&&T.type==="linear",t=b==="linear"&&T.type==="log";if(s||t)for(var i,r,n=a._fullLayout.annotations,o=T._id.charAt(0),l=0;l<n.length;l++)i=n[l],r="annotations["+l+"].",i[o+"ref"]===T._id&&u(o),i["a"+o+"ref"]===T._id&&u("a"+o);function u(d){var c=i[d],m=null;m=s?k(c,T.range):Math.pow(10,c),M(m)||(m=null),g(r+d,m)}}},45216:function(ee,D,e){var M=e(3400),k=e(54460),a=e(51272),T=e(87192),b=e(13916);function g(s,t,i){function r(S,w){return M.coerce(s,t,b,S,w)}var n=r("visible"),o=r("clicktoshow");if(n||o){T(s,t,i,r);for(var l=t.showarrow,u=["x","y"],d=[-10,-30],c={_fullLayout:i},m=0;m<2;m++){var f=u[m],p=k.coerceRef(s,t,c,f,"","paper");if(p!=="paper"&&k.getFromId(c,p)._annIndices.push(t._index),k.coercePosition(t,c,r,p,f,.5),l){var v="a"+f,y=k.coerceRef(s,t,c,v,"pixel",["pixel","paper"]);y!=="pixel"&&y!==p&&(y=t[v]="pixel");var x=y==="pixel"?d[m]:.4;k.coercePosition(t,c,r,y,v,x)}r(f+"anchor"),r(f+"shift")}if(M.noneOrAll(s,t,["x","y"]),l&&M.noneOrAll(s,t,["ax","ay"]),o){var _=r("xclick"),h=r("yclick");t._xclick=_===void 0?t.x:k.cleanPosition(_,c,t.xref),t._yclick=h===void 0?t.y:k.cleanPosition(h,c,t.yref)}}}ee.exports=function(s,t){a(s,t,{name:"annotations",handleItemDefaults:g})}},23816:function(ee,D,e){var M=e(33428),k=e(24040),a=e(7316),T=e(3400),b=T.strTranslate,g=e(54460),s=e(76308),t=e(43616),i=e(93024),r=e(72736),n=e(93972),o=e(86476),l=e(31780).arrayEditor,u=e(33652);function d(f,p){var v=f._fullLayout.annotations[p]||{},y=g.getFromId(f,v.xref),x=g.getFromId(f,v.yref);y&&y.setScale(),x&&x.setScale(),m(f,v,p,!1,y,x)}function c(f,p,v,y,x){var _=x[v],h=x[v+"ref"],S=v.indexOf("y")!==-1,w=g.getRefType(h)==="domain",E=S?y.h:y.w;return f?w?_+(S?-p:p)/f._length:f.p2r(f.r2p(_)+p):_+(S?-p:p)/E}function m(f,p,v,y,x,_){var h,S,w=f._fullLayout,E=f._fullLayout._size,C=f._context.edits;y?(h="annotation-"+y,S=y+".annotations"):(h="annotation",S="annotations");var P=l(f.layout,S,p),O=P.modifyBase,R=P.modifyItem,U=P.getUpdateObj;w._infolayer.selectAll("."+h+'[data-index="'+v+'"]').remove();var z="clip"+w._uid+"_ann"+v;if(p._input&&p.visible!==!1){var N={x:{},y:{}},W=+p.textangle||0,F=w._infolayer.append("g").classed(h,!0).attr("data-index",String(v)).style("opacity",p.opacity),V=F.append("g").classed("annotation-text-g",!0),j=C[p.showarrow?"annotationTail":"annotationPosition"],te=p.captureevents||C.annotationText||j,J=V.append("g").style("pointer-events",te?"all":null).call(n,"pointer").on("click",function(){f._dragging=!1,f.emit("plotly_clickannotation",de(M.event))});p.hovertext&&J.on("mouseover",function(){var me=p.hoverlabel,ge=me.font,ke=this.getBoundingClientRect(),we=f.getBoundingClientRect();i.loneHover({x0:ke.left-we.left,x1:ke.right-we.left,y:(ke.top+ke.bottom)/2-we.top,text:p.hovertext,color:me.bgcolor,borderColor:me.bordercolor,fontFamily:ge.family,fontSize:ge.size,fontColor:ge.color},{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:f})}).on("mouseout",function(){i.loneUnhover(w._hoverlayer.node())});var K=p.borderwidth,Z=p.borderpad,X=K+Z,Q=J.append("rect").attr("class","bg").style("stroke-width",K+"px").call(s.stroke,p.bordercolor).call(s.fill,p.bgcolor),re=p.width||p.height,ae=w._topclips.selectAll("#"+z).data(re?[0]:[]);ae.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),ae.exit().remove();var ie=p.font,le=w._meta?T.templateString(p.text,w._meta):p.text,pe=J.append("text").classed("annotation-text",!0).text(le);C.annotationText?pe.call(r.makeEditable,{delegate:J,gd:f}).call(ve).on("edit",function(me){p.text=me,this.call(ve),R("text",me),x&&x.autorange&&O(x._name+".autorange",!0),_&&_.autorange&&O(_._name+".autorange",!0),k.call("_guiRelayout",f,U())}):pe.call(ve)}else M.selectAll("#"+z).remove();function de(me){var ge={index:v,annotation:p._input,fullAnnotation:p,event:me};return y&&(ge.subplotId=y),ge}function ve(me){return me.call(t.font,ie).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),r.convertToTspans(me,f,be),me}function be(){var me=pe.selectAll("a");me.size()===1&&me.text()===pe.text()&&J.insert("a",":first-child").attr({"xlink:xlink:href":me.attr("xlink:href"),"xlink:xlink:show":me.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(Q.node());var ge=J.select(".annotation-text-math-group"),ke=!ge.empty(),we=t.bBox((ke?ge:pe).node()),ue=we.width,oe=we.height,he=p.width||ue,Ee=p.height||oe,Te=Math.round(he+2*X),Me=Math.round(Ee+2*X);function Se(dt,ut){return ut==="auto"&&(ut=dt<.3333333333333333?"left":dt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ut]}for(var ze=!1,fe=["x","y"],xe=0;xe<fe.length;xe++){var _e,Oe,De,Pe,Ue,Ve=fe[xe],Xe=p[Ve+"ref"]||Ve,it=p["a"+Ve+"ref"],tt={x,y:_}[Ve],pt=(W+(Ve==="x"?0:-90))*Math.PI/180,mt=Te*Math.cos(pt),gt=Me*Math.sin(pt),et=Math.abs(mt)+Math.abs(gt),$e=p[Ve+"anchor"],_t=p[Ve+"shift"]*(Ve==="x"?1:-1),Pt=N[Ve],Ot=g.getRefType(Xe);if(tt&&Ot!=="domain"){var Lt=tt.r2fraction(p[Ve]);(Lt<0||Lt>1)&&(it===Xe?((Lt=tt.r2fraction(p["a"+Ve]))<0||Lt>1)&&(ze=!0):ze=!0),_e=tt._offset+tt.r2p(p[Ve]),Pe=.5}else{var He=Ot==="domain";Ve==="x"?(De=p[Ve],_e=He?tt._offset+tt._length*De:_e=E.l+E.w*De):(De=1-p[Ve],_e=He?tt._offset+tt._length*De:_e=E.t+E.h*De),Pe=p.showarrow?.5:De}if(p.showarrow){Pt.head=_e;var We=p["a"+Ve];if(Ue=mt*Se(.5,p.xanchor)-gt*Se(.5,p.yanchor),it===Xe){var Be=g.getRefType(it);Be==="domain"?(Ve==="y"&&(We=1-We),Pt.tail=tt._offset+tt._length*We):Be==="paper"?Ve==="y"?(We=1-We,Pt.tail=E.t+E.h*We):Pt.tail=E.l+E.w*We:Pt.tail=tt._offset+tt.r2p(We),Oe=Ue}else Pt.tail=_e+We,Oe=Ue+We;Pt.text=Pt.tail+Ue;var Ge=w[Ve==="x"?"width":"height"];if(Xe==="paper"&&(Pt.head=T.constrain(Pt.head,1,Ge-1)),it==="pixel"){var at=-Math.max(Pt.tail-3,Pt.text),nt=Math.min(Pt.tail+3,Pt.text)-Ge;at>0?(Pt.tail+=at,Pt.text+=at):nt>0&&(Pt.tail-=nt,Pt.text-=nt)}Pt.tail+=_t,Pt.head+=_t}else Oe=Ue=et*Se(Pe,$e),Pt.text=_e+Ue;Pt.text+=_t,Ue+=_t,Oe+=_t,p["_"+Ve+"padplus"]=et/2+Oe,p["_"+Ve+"padminus"]=et/2-Oe,p["_"+Ve+"size"]=et,p["_"+Ve+"shift"]=Ue}if(ze)J.remove();else{var Re=0,Fe=0;if(p.align!=="left"&&(Re=(he-ue)*(p.align==="center"?.5:1)),p.valign!=="top"&&(Fe=(Ee-oe)*(p.valign==="middle"?.5:1)),ke)ge.select("svg").attr({x:X+Re-1,y:X+Fe}).call(t.setClipUrl,re?z:null,f);else{var rt=X+Fe-we.top,Ye=X+Re-we.left;pe.call(r.positionText,Ye,rt).call(t.setClipUrl,re?z:null,f)}ae.select("rect").call(t.setRect,X,X,he,Ee),Q.call(t.setRect,K/2,K/2,Te-K,Me-K),J.call(t.setTranslate,Math.round(N.x.text-Te/2),Math.round(N.y.text-Me/2)),V.attr({transform:"rotate("+W+","+N.x.text+","+N.y.text+")"});var ct,ht=function(dt,ut){F.selectAll(".annotation-arrow-g").remove();var kt=N.x.head,xt=N.y.head,vt=N.x.tail+dt,Mt=N.y.tail+ut,St=N.x.text+dt,It=N.y.text+ut,Gt=T.rotationXYMatrix(W,St,It),en=T.apply2DTransform(Gt),Nt=T.apply2DTransform2(Gt),jt=+Q.attr("width"),Jt=+Q.attr("height"),An=St-.5*jt,_n=An+jt,un=It-.5*Jt,Wt=un+Jt,rn=[[An,un,An,Wt],[An,Wt,_n,Wt],[_n,Wt,_n,un],[_n,un,An,un]].map(Nt);if(!rn.reduce(function(ir,Yn){return ir^!!T.segmentsIntersect(kt,xt,kt+1e6,xt+1e6,Yn[0],Yn[1],Yn[2],Yn[3])},!1)){rn.forEach(function(ir){var Yn=T.segmentsIntersect(vt,Mt,kt,xt,ir[0],ir[1],ir[2],ir[3]);Yn&&(vt=Yn.x,Mt=Yn.y)});var $t=p.arrowwidth,sn=p.arrowcolor,xn=p.arrowside,wn=F.append("g").style({opacity:s.opacity(sn)}).classed("annotation-arrow-g",!0),Pn=wn.append("path").attr("d","M"+vt+","+Mt+"L"+kt+","+xt).style("stroke-width",$t+"px").call(s.stroke,s.rgb(sn));if(u(Pn,xn,p),C.annotationPosition&&Pn.node().parentNode&&!y){var Cn=kt,Sn=xt;if(p.standoff){var Nn=Math.sqrt(Math.pow(kt-vt,2)+Math.pow(xt-Mt,2));Cn+=p.standoff*(vt-kt)/Nn,Sn+=p.standoff*(Mt-xt)/Nn}var zn,er,nr=wn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(vt-Cn)+","+(Mt-Sn),transform:b(Cn,Sn)}).style("stroke-width",$t+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");o.init({element:nr.node(),gd:f,prepFn:function(){var ir=t.getTranslate(J);zn=ir.x,er=ir.y,x&&x.autorange&&O(x._name+".autorange",!0),_&&_.autorange&&O(_._name+".autorange",!0)},moveFn:function(ir,Yn){var mr=en(zn,er),Bt=mr[0]+ir,Qt=mr[1]+Yn;J.call(t.setTranslate,Bt,Qt),R("x",c(x,ir,"x",E,p)),R("y",c(_,Yn,"y",E,p)),p.axref===p.xref&&R("ax",c(x,ir,"ax",E,p)),p.ayref===p.yref&&R("ay",c(_,Yn,"ay",E,p)),wn.attr("transform",b(ir,Yn)),V.attr({transform:"rotate("+W+","+Bt+","+Qt+")"})},doneFn:function(){k.call("_guiRelayout",f,U());var ir=document.querySelector(".js-notes-box-panel");ir&&ir.redraw(ir.selectedObj)}})}}};p.showarrow&&ht(0,0),j&&o.init({element:J.node(),gd:f,prepFn:function(){ct=V.attr("transform")},moveFn:function(dt,ut){var kt="pointer";if(p.showarrow)p.axref===p.xref?R("ax",c(x,dt,"ax",E,p)):R("ax",p.ax+dt),p.ayref===p.yref?R("ay",c(_,ut,"ay",E.w,p)):R("ay",p.ay+ut),ht(dt,ut);else{if(y)return;var xt,vt;if(x)xt=c(x,dt,"x",E,p);else{var Mt=p._xsize/E.w,St=p.x+(p._xshift-p.xshift)/E.w-Mt/2;xt=o.align(St+dt/E.w,Mt,0,1,p.xanchor)}if(_)vt=c(_,ut,"y",E,p);else{var It=p._ysize/E.h,Gt=p.y-(p._yshift+p.yshift)/E.h-It/2;vt=o.align(Gt-ut/E.h,It,0,1,p.yanchor)}R("x",xt),R("y",vt),x&&_||(kt=o.getCursor(x?.5:xt,_?.5:vt,p.xanchor,p.yanchor))}V.attr({transform:b(dt,ut)+ct}),n(J,kt)},clickFn:function(dt,ut){p.captureevents&&f.emit("plotly_clickannotation",de(ut))},doneFn:function(){n(J),k.call("_guiRelayout",f,U());var dt=document.querySelector(".js-notes-box-panel");dt&&dt.redraw(dt.selectedObj)}})}}}ee.exports={draw:function(f){var p=f._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var v=0;v<p.annotations.length;v++)p.annotations[v].visible&&d(f,v);return a.previousPromises(f)},drawOne:d,drawRaw:m}},33652:function(ee,D,e){var M=e(33428),k=e(76308),a=e(72196),T=e(3400),b=T.strScale,g=T.strRotate,s=T.strTranslate;ee.exports=function(t,i,r){var n,o,l,u,d=t.node(),c=a[r.arrowhead||0],m=a[r.startarrowhead||0],f=(r.arrowwidth||1)*(r.arrowsize||1),p=(r.arrowwidth||1)*(r.startarrowsize||1),v=i.indexOf("start")>=0,y=i.indexOf("end")>=0,x=c.backoff*f+r.standoff,_=m.backoff*p+r.startstandoff;if(d.nodeName==="line"){n={x:+t.attr("x1"),y:+t.attr("y1")},o={x:+t.attr("x2"),y:+t.attr("y2")};var h=n.x-o.x,S=n.y-o.y;if(u=(l=Math.atan2(S,h))+Math.PI,x&&_&&x+_>Math.sqrt(h*h+S*S))return void F();if(x){if(x*x>h*h+S*S)return void F();var w=x*Math.cos(l),E=x*Math.sin(l);o.x+=w,o.y+=E,t.attr({x2:o.x,y2:o.y})}if(_){if(_*_>h*h+S*S)return void F();var C=_*Math.cos(l),P=_*Math.sin(l);n.x-=C,n.y-=P,t.attr({x1:n.x,y1:n.y})}}else if(d.nodeName==="path"){var O=d.getTotalLength(),R="";if(O<x+_)return void F();var U=d.getPointAtLength(0),z=d.getPointAtLength(.1);l=Math.atan2(U.y-z.y,U.x-z.x),n=d.getPointAtLength(Math.min(_,O)),R="0px,"+_+"px,";var N=d.getPointAtLength(O),W=d.getPointAtLength(O-.1);u=Math.atan2(N.y-W.y,N.x-W.x),o=d.getPointAtLength(Math.max(0,O-x)),R+=O-(R?_+x:x)+"px,"+O+"px",t.style("stroke-dasharray",R)}function F(){t.style("stroke-dasharray","0px,100px")}function V(j,te,J,K){j.path&&(j.noRotate&&(J=0),M.select(d.parentNode).append("path").attr({class:t.attr("class"),d:j.path,transform:s(te.x,te.y)+g(180*J/Math.PI)+b(K)}).style({fill:k.rgb(r.arrowcolor),"stroke-width":0}))}v&&V(m,n,l,p),y&&V(c,o,u,f)}},79180:function(ee,D,e){var M=e(23816),k=e(42300);ee.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:M.draw,drawOne:M.drawOne,drawRaw:M.drawRaw,hasClickToShow:k.hasClickToShow,onClick:k.onClick,convertCoords:e(26828)}},45899:function(ee,D,e){var M=e(13916),k=e(67824).overrideAll,a=e(31780).templatedArray;ee.exports=k(a("annotation",{visible:M.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:M.xanchor,xshift:M.xshift,yanchor:M.yanchor,yshift:M.yshift,text:M.text,textangle:M.textangle,font:M.font,width:M.width,height:M.height,opacity:M.opacity,align:M.align,valign:M.valign,bgcolor:M.bgcolor,bordercolor:M.bordercolor,borderpad:M.borderpad,borderwidth:M.borderwidth,showarrow:M.showarrow,arrowcolor:M.arrowcolor,arrowhead:M.arrowhead,startarrowhead:M.startarrowhead,arrowside:M.arrowside,arrowsize:M.arrowsize,startarrowsize:M.startarrowsize,arrowwidth:M.arrowwidth,standoff:M.standoff,startstandoff:M.startstandoff,hovertext:M.hovertext,hoverlabel:M.hoverlabel,captureevents:M.captureevents}),"calc","from-root")},42456:function(ee,D,e){var M=e(3400),k=e(54460);function a(T,b){var g=b.fullSceneLayout.domain,s=b.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};T._xa={},M.extendFlat(T._xa,t),k.setConvert(T._xa),T._xa._offset=s.l+g.x[0]*s.w,T._xa.l2p=function(){return .5*(1+T._pdata[0]/T._pdata[3])*s.w*(g.x[1]-g.x[0])},T._ya={},M.extendFlat(T._ya,t),k.setConvert(T._ya),T._ya._offset=s.t+(1-g.y[1])*s.h,T._ya.l2p=function(){return .5*(1-T._pdata[1]/T._pdata[3])*s.h*(g.y[1]-g.y[0])}}ee.exports=function(T){for(var b=T.fullSceneLayout.annotations,g=0;g<b.length;g++)a(b[g],T);T.fullLayout._infolayer.selectAll(".annotation-"+T.id).remove()}},52808:function(ee,D,e){var M=e(3400),k=e(54460),a=e(51272),T=e(87192),b=e(45899);function g(s,t,i,r){function n(l,u){return M.coerce(s,t,b,l,u)}function o(l){var u=l+"axis",d={_fullLayout:{}};return d._fullLayout[u]=i[u],k.coercePosition(t,d,n,l,l,.5)}n("visible")&&(T(s,t,r.fullLayout,n),o("x"),o("y"),o("z"),M.noneOrAll(s,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),M.noneOrAll(s,t,["ax","ay"])))}ee.exports=function(s,t,i){a(s,t,{name:"annotations",handleItemDefaults:g,fullLayout:i.fullLayout})}},71836:function(ee,D,e){var M=e(23816).drawRaw,k=e(94424),a=["x","y","z"];ee.exports=function(T){for(var b=T.fullSceneLayout,g=T.dataScale,s=b.annotations,t=0;t<s.length;t++){for(var i=s[t],r=!1,n=0;n<3;n++){var o=a[n],l=i[o],u=b[o+"axis"].r2fraction(l);if(u<0||u>1){r=!0;break}}r?T.fullLayout._infolayer.select(".annotation-"+T.id+'[data-index="'+t+'"]').remove():(i._pdata=k(T.glplot.cameraParams,[b.xaxis.r2l(i.x)*g[0],b.yaxis.r2l(i.y)*g[1],b.zaxis.r2l(i.z)*g[2]]),M(T.graphDiv,i,t,T.id,i._xa,i._ya))}}},56864:function(ee,D,e){var M=e(24040),k=e(3400);ee.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:function(a,T){var b=M.subplotsRegistry.gl3d;if(b)for(var g=b.attrRegex,s=Object.keys(a),t=0;t<s.length;t++){var i=s[t];g.test(i)&&(a[i].annotations||[]).length&&(k.pushUnique(T._basePlotModules,b),k.pushUnique(T._subplots.gl3d,i))}},convert:e(42456),draw:e(71836)}},54976:function(ee,D,e){ee.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(ee,D,e){var M=e(54976),k=e(3400),a=e(39032),T=a.EPOCHJD,b=a.ONEDAY,g={valType:"enumerated",values:k.sortObjectKeys(M.calendars),editType:"calc",dflt:"gregorian"},s=function(f,p,v,y){var x={};return x[v]=g,k.coerce(f,p,x,v,y)},t="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function n(f){var p=r[f];return p||(r[f]=M.instance(f))}function o(f){return k.extendFlat({},g,{description:f})}function l(f){return"Sets the calendar system to use with `"+f+"` date data."}var u={xcalendar:o(l("x"))},d=k.extendFlat({},u,{ycalendar:o(l("y"))}),c=k.extendFlat({},d,{zcalendar:o(l("z"))}),m=o(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ee.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:c,surface:c,mesh3d:c,scattergl:d,ohlc:u,candlestick:u},layout:{calendar:o(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:m},yaxis:{calendar:m},scene:{xaxis:{calendar:m},yaxis:{calendar:m},zaxis:{calendar:m}},polar:{radialaxis:{calendar:m}}},transforms:{filter:{valuecalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:g,handleDefaults:s,handleTraceDefaults:function(f,p,v,y){for(var x=0;x<v.length;x++)s(f,p,v[x]+"calendar",y.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:n,worldCalFmt:function(f,p,v){for(var y,x,_,h,S,w=Math.floor((p+.05)/b)+T,E=n(v).fromJD(w),C=0;(C=f.indexOf("%",C))!==-1;)(y=f.charAt(C+1))==="0"||y==="-"||y==="_"?(_=3,x=f.charAt(C+2),y==="_"&&(y="-")):(x=y,y="0",_=2),(h=i[x])?(S=h===t?t:E.formatDate(h[y]),f=f.substr(0,C)+S+f.substr(C+_),C+=S.length):C+=_;return f}}},22548:function(ee,D){D.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],D.defaultLine="#444",D.lightLine="#eee",D.background="#fff",D.borderLine="#BEC8D9",D.lightFraction=90.9090909090909},76308:function(ee,D,e){var M=e(49760),k=e(38248),a=e(38116).isTypedArray,T=ee.exports={},b=e(22548);T.defaults=b.defaults;var g=T.defaultLine=b.defaultLine;T.lightLine=b.lightLine;var s=T.background=b.background;function t(i){if(k(i)||typeof i!="string")return i;var r=i.trim();if(r.substr(0,3)!=="rgb")return i;var n=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return i;var o=n[1].trim().split(/\s*[\s,]\s*/),l=r.charAt(3)==="a"&&o.length===4;if(!l&&o.length!==3)return i;for(var u=0;u<o.length;u++){if(!o[u].length||(o[u]=Number(o[u]),!(o[u]>=0)))return i;if(u===3)o[u]>1&&(o[u]=1);else if(o[u]>=1)return i}var d=Math.round(255*o[0])+", "+Math.round(255*o[1])+", "+Math.round(255*o[2]);return l?"rgba("+d+", "+o[3]+")":"rgb("+d+")"}T.tinyRGB=function(i){var r=i.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"},T.rgb=function(i){return T.tinyRGB(M(i))},T.opacity=function(i){return i?M(i).getAlpha():0},T.addOpacity=function(i,r){var n=M(i).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+r+")"},T.combine=function(i,r){var n=M(i).toRgb();if(n.a===1)return M(i).toRgbString();var o=M(r||s).toRgb(),l=o.a===1?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a},u={r:l.r*(1-n.a)+n.r*n.a,g:l.g*(1-n.a)+n.g*n.a,b:l.b*(1-n.a)+n.b*n.a};return M(u).toRgbString()},T.interpolate=function(i,r,n){var o=M(i).toRgb(),l=M(r).toRgb(),u={r:n*o.r+(1-n)*l.r,g:n*o.g+(1-n)*l.g,b:n*o.b+(1-n)*l.b};return M(u).toRgbString()},T.contrast=function(i,r,n){var o=M(i);return o.getAlpha()!==1&&(o=M(T.combine(i,s))),(o.isDark()?r?o.lighten(r):s:n?o.darken(n):g).toString()},T.stroke=function(i,r){var n=M(r);i.style({stroke:T.tinyRGB(n),"stroke-opacity":n.getAlpha()})},T.fill=function(i,r){var n=M(r);i.style({fill:T.tinyRGB(n),"fill-opacity":n.getAlpha()})},T.clean=function(i){if(i&&typeof i=="object"){var r,n,o,l,u=Object.keys(i);for(r=0;r<u.length;r++)if(l=i[o=u[r]],o.substr(o.length-5)==="color")if(Array.isArray(l))for(n=0;n<l.length;n++)l[n]=t(l[n]);else i[o]=t(l);else if(o.substr(o.length-10)==="colorscale"&&Array.isArray(l))for(n=0;n<l.length;n++)Array.isArray(l[n])&&(l[n][1]=t(l[n][1]));else if(Array.isArray(l)){var d=l[0];if(!Array.isArray(d)&&d&&typeof d=="object")for(n=0;n<l.length;n++)T.clean(l[n])}else l&&typeof l=="object"&&!a(l)&&T.clean(l)}}},42996:function(ee,D,e){var M=e(94724),k=e(25376),a=e(92880).extendFlat,T=e(67824).overrideAll;ee.exports=T({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:M.linecolor,outlinewidth:M.linewidth,bordercolor:M.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:M.minor.tickmode,nticks:M.nticks,tick0:M.tick0,dtick:M.dtick,tickvals:M.tickvals,ticktext:M.ticktext,ticks:a({},M.ticks,{dflt:""}),ticklabeloverflow:a({},M.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:M.ticklen,tickwidth:M.tickwidth,tickcolor:M.tickcolor,ticklabelstep:M.ticklabelstep,showticklabels:M.showticklabels,labelalias:M.labelalias,tickfont:k({}),tickangle:M.tickangle,tickformat:M.tickformat,tickformatstops:M.tickformatstops,tickprefix:M.tickprefix,showtickprefix:M.showtickprefix,ticksuffix:M.ticksuffix,showticksuffix:M.showticksuffix,separatethousands:M.separatethousands,exponentformat:M.exponentformat,minexponent:M.minexponent,showexponent:M.showexponent,title:{text:{valType:"string"},font:k({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:k({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(ee){ee.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(ee,D,e){var M=e(3400),k=e(31780),a=e(26332),T=e(25404),b=e(95936),g=e(42568),s=e(42996);ee.exports=function(t,i,r){var n=k.newContainer(i,"colorbar"),o=t.colorbar||{};function l(R,U){return M.coerce(o,n,s,R,U)}var u=r.margin||{t:0,b:0,l:0,r:0},d=r.width-u.l-u.r,c=r.height-u.t-u.b,m=l("orientation")==="v",f=l("thicknessmode");l("thickness",f==="fraction"?30/(m?d:c):30);var p=l("lenmode");l("len",p==="fraction"?1:m?c:d);var v,y,x,_=l("yref")==="paper",h=l("xref")==="paper",S="left";m?(x="middle",S=h?"left":"right",v=h?1.02:1,y=.5):(x=_?"bottom":"top",S="center",v=.5,y=_?1.02:1),M.coerce(o,n,{x:{valType:"number",min:h?-2:0,max:h?3:1,dflt:v}},"x"),M.coerce(o,n,{y:{valType:"number",min:_?-2:0,max:_?3:1,dflt:y}},"y"),l("xanchor",S),l("xpad"),l("yanchor",x),l("ypad"),M.noneOrAll(o,n,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var w=M.coerce(o,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:m?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",w.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(o,n,l,"linear");var E=r.font,C={noAutotickangles:!0,outerTicks:!1,font:E};w.indexOf("inside")!==-1&&(C.bgColor="black"),g(o,n,l,"linear",C),b(o,n,l,"linear",C),T(o,n,l,"linear",C),l("title.text",r._dfltTitle.colorbar);var P=n.showticklabels?n.tickfont:E,O=M.extendFlat({},P,{color:E.color,size:M.bigFont(P.size)});M.coerceFont(l,"title.font",O),l("title.side",m?"top":"right")}},37848:function(ee,D,e){var M=e(33428),k=e(49760),a=e(7316),T=e(24040),b=e(54460),g=e(86476),s=e(3400),t=s.strTranslate,i=e(92880).extendFlat,r=e(93972),n=e(43616),o=e(76308),l=e(81668),u=e(72736),d=e(94288).flipScale,c=e(28336),m=e(37668),f=e(94724),p=e(84284),v=p.LINE_SPACING,y=p.FROM_TL,x=p.FROM_BR,_=e(63964).cn;ee.exports={draw:function(h){var S=h._fullLayout._infolayer.selectAll("g."+_.colorbar).data(function(w){var E,C,P,O,R=w._fullLayout,U=w.calcdata,z=[];function N(re){return i(re,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function W(){typeof O.calc=="function"?O.calc(w,P,E):(E._fillgradient=C.reversescale?d(C.colorscale):C.colorscale,E._zrange=[C[O.min],C[O.max]])}for(var F=0;F<U.length;F++){var V=U[F];if((P=V[0].trace)._module){var j=P._module.colorbar;if(P.visible===!0&&j)for(var te=Array.isArray(j),J=te?j:[j],K=0;K<J.length;K++){var Z=(O=J[K]).container;(C=Z?P[Z]:P)&&C.showscale&&((E=N(C.colorbar))._id="cb"+P.uid+(te&&Z?"-"+Z:""),E._traceIndex=P.index,E._propPrefix=(Z?Z+".":"")+"colorbar.",E._meta=P._meta,W(),z.push(E))}}}for(var X in R._colorAxes)if((C=R[X]).showscale){var Q=R._colorAxes[X];(E=N(C.colorbar))._id="cb"+X,E._propPrefix=X+".colorbar.",E._meta=R._meta,O={min:"cmin",max:"cmax"},Q[0]!=="heatmap"&&(P=Q[1],O.calc=P._module.colorbar.calc),W(),z.push(E)}return z}(h),function(w){return w._id});S.enter().append("g").attr("class",function(w){return w._id}).classed(_.colorbar,!0),S.each(function(w){var E=M.select(this);s.ensureSingle(E,"rect",_.cbbg),s.ensureSingle(E,"g",_.cbfills),s.ensureSingle(E,"g",_.cblines),s.ensureSingle(E,"g",_.cbaxis,function(P){P.classed(_.crisp,!0)}),s.ensureSingle(E,"g",_.cbtitleunshift,function(P){P.append("g").classed(_.cbtitle,!0)}),s.ensureSingle(E,"rect",_.cboutline);var C=function(P,O,R){var U=O.orientation==="v",z=O.len,N=O.lenmode,W=O.thickness,F=O.thicknessmode,V=O.outlinewidth,j=O.borderwidth,te=O.bgcolor,J=O.xanchor,K=O.yanchor,Z=O.xpad,X=O.ypad,Q=O.x,re=U?O.y:1-O.y,ae=O.yref==="paper",ie=O.xref==="paper",le=R._fullLayout,pe=le._size,de=O._fillcolor,ve=O._line,be=O.title,me=be.side,ge=O._zrange||M.extent((typeof de=="function"?de:ve.color).domain()),ke=typeof ve.color=="function"?ve.color:function(){return ve.color},we=typeof de=="function"?de:function(){return de},ue=O._levels,oe=function(Be,Ge,at){var nt,Re,Fe=Ge._levels,rt=[],Ye=[],ct=Fe.end+Fe.size/100,ht=Fe.size,dt=1.001*at[0]-.001*at[1],ut=1.001*at[1]-.001*at[0];for(Re=0;Re<1e5&&(nt=Fe.start+Re*ht,!(ht>0?nt>=ct:nt<=ct));Re++)nt>dt&&nt<ut&&rt.push(nt);if(Ge._fillgradient)Ye=[0];else if(typeof Ge._fillcolor=="function"){var kt=Ge._filllevels;if(kt)for(ct=kt.end+kt.size/100,ht=kt.size,Re=0;Re<1e5&&(nt=kt.start+Re*ht,!(ht>0?nt>=ct:nt<=ct));Re++)nt>at[0]&&nt<at[1]&&Ye.push(nt);else(Ye=rt.map(function(xt){return xt-Fe.size/2})).push(Ye[Ye.length-1]+Fe.size)}else Ge._fillcolor&&typeof Ge._fillcolor=="string"&&(Ye=[0]);return Fe.size<0&&(rt.reverse(),Ye.reverse()),{line:rt,fill:Ye}}(0,O,ge),he=oe.fill,Ee=oe.line,Te=Math.round(W*(F==="fraction"?U?pe.w:pe.h:1)),Me=Te/(U?pe.w:pe.h),Se=Math.round(z*(N==="fraction"?U?pe.h:pe.w:1)),ze=Se/(U?pe.h:pe.w),fe=ie?pe.w:R._fullLayout.width,xe=ae?pe.h:R._fullLayout.height,_e=Math.round(U?Q*fe+Z:re*xe+X),Oe={center:.5,right:1}[J]||0,De={top:1,middle:.5}[K]||0,Pe=U?Q-Oe*Me:re-De*Me,Ue=U?re-De*ze:Q-Oe*ze,Ve=Math.round(U?xe*(1-Ue):fe*Ue);O._lenFrac=ze,O._thickFrac=Me,O._uFrac=Pe,O._vFrac=Ue;var Xe=O._axis=function(Be,Ge,at){var nt=Be._fullLayout,Re=Ge.orientation==="v",Fe={type:"linear",range:at,tickmode:Ge.tickmode,nticks:Ge.nticks,tick0:Ge.tick0,dtick:Ge.dtick,tickvals:Ge.tickvals,ticktext:Ge.ticktext,ticks:Ge.ticks,ticklen:Ge.ticklen,tickwidth:Ge.tickwidth,tickcolor:Ge.tickcolor,showticklabels:Ge.showticklabels,labelalias:Ge.labelalias,ticklabelposition:Ge.ticklabelposition,ticklabeloverflow:Ge.ticklabeloverflow,ticklabelstep:Ge.ticklabelstep,tickfont:Ge.tickfont,tickangle:Ge.tickangle,tickformat:Ge.tickformat,exponentformat:Ge.exponentformat,minexponent:Ge.minexponent,separatethousands:Ge.separatethousands,showexponent:Ge.showexponent,showtickprefix:Ge.showtickprefix,tickprefix:Ge.tickprefix,showticksuffix:Ge.showticksuffix,ticksuffix:Ge.ticksuffix,title:Ge.title,showline:!0,anchor:"free",side:Re?"right":"bottom",position:1},rt=Re?"y":"x",Ye={type:"linear",_id:rt+Ge._id},ct={letter:rt,font:nt.font,noAutotickangles:rt==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:nt.calendar};function ht(dt,ut){return s.coerce(Fe,Ye,f,dt,ut)}return c(Fe,Ye,ht,ct,nt),m(Fe,Ye,ht,ct),Ye}(R,O,ge);Xe.position=Me+(U?Q+Z/pe.w:re+X/pe.h);var it=["top","bottom"].indexOf(me)!==-1;if(U&&it&&(Xe.title.side=me,Xe.titlex=Q+Z/pe.w,Xe.titley=Ue+(be.side==="top"?ze-X/pe.h:X/pe.h)),U||it||(Xe.title.side=me,Xe.titley=re+X/pe.h,Xe.titlex=Ue+Z/pe.w),ve.color&&O.tickmode==="auto"){Xe.tickmode="linear",Xe.tick0=ue.start;var tt=ue.size,pt=s.constrain(Se/50,4,15)+1,mt=(ge[1]-ge[0])/((O.nticks||pt)*tt);if(mt>1){var gt=Math.pow(10,Math.floor(Math.log(mt)/Math.LN10));tt*=gt*s.roundUp(mt/gt,[2,5,10]),(Math.abs(ue.start)/ue.size+1e-6)%1<2e-6&&(Xe.tick0=0)}Xe.dtick=tt}Xe.domain=U?[Ue+X/pe.h,Ue+ze-X/pe.h]:[Ue+Z/pe.w,Ue+ze-Z/pe.w],Xe.setScale(),P.attr("transform",t(Math.round(pe.l),Math.round(pe.t)));var et,$e=P.select("."+_.cbtitleunshift).attr("transform",t(-Math.round(pe.l),-Math.round(pe.t))),_t=Xe.ticklabelposition,Pt=Xe.title.font.size,Ot=P.select("."+_.cbaxis),Lt=0,He=0;function We(Be,Ge){var at={propContainer:Xe,propName:O._propPrefix+"title",traceIndex:O._traceIndex,_meta:O._meta,placeholder:le._dfltTitle.colorbar,containerGroup:P.select("."+_.cbtitle)},nt=Be.charAt(0)==="h"?Be.substr(1):"h"+Be;P.selectAll("."+nt+",."+nt+"-math-group").remove(),l.draw(R,Be,i(at,Ge||{}))}return s.syncOrAsync([a.previousPromises,function(){var Be,Ge;(U&&it||!U&&!it)&&(me==="top"&&(Be=Z+pe.l+fe*Q,Ge=X+pe.t+xe*(1-Ue-ze)+3+.75*Pt),me==="bottom"&&(Be=Z+pe.l+fe*Q,Ge=X+pe.t+xe*(1-Ue)-3-.25*Pt),me==="right"&&(Ge=X+pe.t+xe*re+3+.75*Pt,Be=Z+pe.l+fe*Ue),We(Xe._id+"title",{attributes:{x:Be,y:Ge,"text-anchor":U?"start":"middle"}}))},function(){if(!U&&!it||U&&it){var Be,Ge=P.select("."+_.cbtitle),at=Ge.select("text"),nt=[-V/2,V/2],Re=Ge.select(".h"+Xe._id+"title-math-group").node(),Fe=15.6;if(at.node()&&(Fe=parseInt(at.node().style.fontSize,10)*v),Re?(Be=n.bBox(Re),He=Be.width,(Lt=Be.height)>Fe&&(nt[1]-=(Lt-Fe)/2)):at.node()&&!at.classed(_.jsPlaceholder)&&(Be=n.bBox(at.node()),He=Be.width,Lt=Be.height),U){if(Lt){if(Lt+=5,me==="top")Xe.domain[1]-=Lt/pe.h,nt[1]*=-1;else{Xe.domain[0]+=Lt/pe.h;var rt=u.lineCount(at);nt[1]+=(1-rt)*Fe}Ge.attr("transform",t(nt[0],nt[1])),Xe.setScale()}}else He&&(me==="right"&&(Xe.domain[0]+=(He+Pt/2)/pe.w),Ge.attr("transform",t(nt[0],nt[1])),Xe.setScale())}P.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",U?t(0,Math.round(pe.h*(1-Xe.domain[1]))):t(Math.round(pe.w*Xe.domain[0]),0)),Ot.attr("transform",U?t(0,Math.round(-pe.t)):t(Math.round(-pe.l),0));var Ye=P.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(he);Ye.enter().append("rect").classed(_.cbfill,!0).attr("style",""),Ye.exit().remove();var ct=ge.map(Xe.c2p).map(Math.round).sort(function(xt,vt){return xt-vt});Ye.each(function(xt,vt){var Mt=[vt===0?ge[0]:(he[vt]+he[vt-1])/2,vt===he.length-1?ge[1]:(he[vt]+he[vt+1])/2].map(Xe.c2p).map(Math.round);U&&(Mt[1]=s.constrain(Mt[1]+(Mt[1]>Mt[0])?1:-1,ct[0],ct[1]));var St=M.select(this).attr(U?"x":"y",_e).attr(U?"y":"x",M.min(Mt)).attr(U?"width":"height",Math.max(Te,2)).attr(U?"height":"width",Math.max(M.max(Mt)-M.min(Mt),2));if(O._fillgradient)n.gradient(St,R,O._id,U?"vertical":"horizontalreversed",O._fillgradient,"fill");else{var It=we(xt).replace("e-","");St.attr("fill",k(It).toHexString())}});var ht=P.select("."+_.cblines).selectAll("path."+_.cbline).data(ve.color&&ve.width?Ee:[]);ht.enter().append("path").classed(_.cbline,!0),ht.exit().remove(),ht.each(function(xt){var vt=_e,Mt=Math.round(Xe.c2p(xt))+ve.width/2%1;M.select(this).attr("d","M"+(U?vt+","+Mt:Mt+","+vt)+(U?"h":"v")+Te).call(n.lineGroupStyle,ve.width,ke(xt),ve.dash)}),Ot.selectAll("g."+Xe._id+"tick,path").remove();var dt=_e+Te+(V||0)/2-(O.ticks==="outside"?1:0),ut=b.calcTicks(Xe),kt=b.getTickSigns(Xe)[2];return b.drawTicks(R,Xe,{vals:Xe.ticks==="inside"?b.clipEnds(Xe,ut):ut,layer:Ot,path:b.makeTickPath(Xe,dt,kt),transFn:b.makeTransTickFn(Xe)}),b.drawLabels(R,Xe,{vals:ut,layer:Ot,transFn:b.makeTransTickLabelFn(Xe),labelFns:b.makeLabelFns(Xe,dt)})},function(){if(U&&!it||!U&&it){var Be,Ge,at=Xe.position||0,nt=Xe._offset+Xe._length/2;if(me==="right")Ge=nt,Be=pe.l+fe*at+10+Pt*(Xe.showticklabels?1:.5);else if(Be=nt,me==="bottom"&&(Ge=pe.t+xe*at+10+(_t.indexOf("inside")===-1?Xe.tickfont.size:0)+(Xe.ticks!=="intside"&&O.ticklen||0)),me==="top"){var Re=be.text.split("<br>").length;Ge=pe.t+xe*at+10-Te-v*Pt*Re}We((U?"h":"v")+Xe._id+"title",{avoid:{selection:M.select(R).selectAll("g."+Xe._id+"tick"),side:me,offsetTop:U?0:pe.t,offsetLeft:U?pe.l:0,maxShift:U?le.width:le.height},attributes:{x:Be,y:Ge,"text-anchor":"middle"},transform:{rotate:U?-90:0,offset:0}})}},a.previousPromises,function(){var Be,Ge=Te+V/2;_t.indexOf("inside")===-1&&(Be=n.bBox(Ot.node()),Ge+=U?Be.width:Be.height),et=$e.select("text");var at=0,nt=U&&me==="top",Re=!U&&me==="right",Fe=0;if(et.node()&&!et.classed(_.jsPlaceholder)){var rt,Ye=$e.select(".h"+Xe._id+"title-math-group").node();Ye&&(U&&it||!U&&!it)?(at=(Be=n.bBox(Ye)).width,rt=Be.height):(at=(Be=n.bBox($e.node())).right-pe.l-(U?_e:Ve),rt=Be.bottom-pe.t-(U?Ve:_e),U||me!=="top"||(Ge+=Be.height,Fe=Be.height)),Re&&(et.attr("transform",t(at/2+Pt/2,0)),at*=2),Ge=Math.max(Ge,U?at:rt)}var ct=2*(U?Z:X)+Ge+j+V/2,ht=0;!U&&be.text&&K==="bottom"&&re<=0&&(ct+=ht=ct/2,Fe+=ht),le._hColorbarMoveTitle=ht,le._hColorbarMoveCBTitle=Fe;var dt=j+V,ut=(U?_e:Ve)-dt/2-(U?Z:0),kt=(U?Ve:_e)-(U?Se:X+Fe-ht);P.select("."+_.cbbg).attr("x",ut).attr("y",kt).attr(U?"width":"height",Math.max(ct-ht,2)).attr(U?"height":"width",Math.max(Se+dt,2)).call(o.fill,te).call(o.stroke,O.bordercolor).style("stroke-width",j);var xt=Re?Math.max(at-10,0):0;P.selectAll("."+_.cboutline).attr("x",(U?_e:Ve+Z)+xt).attr("y",(U?Ve+X-Se:_e)+(nt?Lt:0)).attr(U?"width":"height",Math.max(Te,2)).attr(U?"height":"width",Math.max(Se-(U?2*X+Lt:2*Z+xt),2)).call(o.stroke,O.outlinecolor).style({fill:"none","stroke-width":V});var vt=U?Oe*ct:0,Mt=U?0:(1-De)*ct-Fe;if(vt=ie?pe.l-vt:-vt,Mt=ae?pe.t-Mt:-Mt,P.attr("transform",t(vt,Mt)),!U&&(j||k(te).getAlpha()&&!k.equals(le.paper_bgcolor,te))){var St=Ot.selectAll("text"),It=St[0].length,Gt=P.select("."+_.cbbg).node(),en=n.bBox(Gt),Nt=n.getTranslate(P);St.each(function(xn,wn){var Pn=It-1;if(wn===0||wn===Pn){var Cn,Sn=n.bBox(this),Nn=n.getTranslate(this);if(wn===Pn){var zn=Sn.right+Nn.x;(Cn=en.right+Nt.x+Ve-j-2+Q-zn)>0&&(Cn=0)}else if(wn===0){var er=Sn.left+Nn.x;(Cn=en.left+Nt.x+Ve+j+2-er)<0&&(Cn=0)}Cn&&(It<3?this.setAttribute("transform","translate("+Cn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var jt={},Jt=y[J],An=x[J],_n=y[K],un=x[K],Wt=ct-Te;U?(N==="pixels"?(jt.y=re,jt.t=Se*_n,jt.b=Se*un):(jt.t=jt.b=0,jt.yt=re+z*_n,jt.yb=re-z*un),F==="pixels"?(jt.x=Q,jt.l=ct*Jt,jt.r=ct*An):(jt.l=Wt*Jt,jt.r=Wt*An,jt.xl=Q-W*Jt,jt.xr=Q+W*An)):(N==="pixels"?(jt.x=Q,jt.l=Se*Jt,jt.r=Se*An):(jt.l=jt.r=0,jt.xl=Q+z*Jt,jt.xr=Q-z*An),F==="pixels"?(jt.y=1-re,jt.t=ct*_n,jt.b=ct*un):(jt.t=Wt*_n,jt.b=Wt*un,jt.yt=re-W*_n,jt.yb=re+W*un));var rn=O.y<.5?"b":"t",$t=O.x<.5?"l":"r";R._fullLayout._reservedMargin[O._id]={};var sn={r:le.width-ut-vt,l:ut+jt.r,b:le.height-kt-Mt,t:kt+jt.b};ie&&ae?a.autoMargin(R,O._id,jt):ie?R._fullLayout._reservedMargin[O._id][rn]=sn[rn]:ae||U?R._fullLayout._reservedMargin[O._id][$t]=sn[$t]:R._fullLayout._reservedMargin[O._id][rn]=sn[rn]}],R)}(E,w,h);C&&C.then&&(h._promises||[]).push(C),h._context.edits.colorbarPosition&&function(P,O,R){var U,z,N,W=O.orientation==="v",F=R._fullLayout._size;g.init({element:P.node(),gd:R,prepFn:function(){U=P.attr("transform"),r(P)},moveFn:function(V,j){P.attr("transform",U+t(V,j)),z=g.align((W?O._uFrac:O._vFrac)+V/F.w,W?O._thickFrac:O._lenFrac,0,1,O.xanchor),N=g.align((W?O._vFrac:1-O._uFrac)-j/F.h,W?O._lenFrac:O._thickFrac,0,1,O.yanchor);var te=g.getCursor(z,N,O.xanchor,O.yanchor);r(P,te)},doneFn:function(){if(r(P),z!==void 0&&N!==void 0){var V={};V[O._propPrefix+"x"]=z,V[O._propPrefix+"y"]=N,O._traceIndex!==void 0?T.call("_guiRestyle",R,V,O._traceIndex):T.call("_guiRelayout",R,V)}}})}(E,w,h)}),S.exit().each(function(w){a.autoMargin(h,w._id)}).remove(),S.order()}}},90553:function(ee,D,e){var M=e(3400);ee.exports=function(k){return M.isPlainObject(k.colorbar)}},55080:function(ee,D,e){ee.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(ee,D,e){var M=e(42996),k=e(53756).counter,a=e(95376),T=e(88304).scales;function b(g){return"`"+g+"`"}a(T),ee.exports=function(g,s){g=g||"";var t,i=(s=s||{}).cLetter||"c",r=("onlyIfNumerical"in s&&s.onlyIfNumerical,"noScale"in s?s.noScale:g==="marker.line"),n="showScaleDflt"in s?s.showScaleDflt:i==="z",o=typeof s.colorscaleDflt=="string"?T[s.colorscaleDflt]:null,l=s.editTypeOverride||"",u=g?g+".":"";"colorAttr"in s?(t=s.colorAttr,s.colorAttr):b(u+(t={z:"z",c:"color"}[i]));var d=i+"auto",c=i+"min",m=i+"max",f=i+"mid",p={};p[c]=p[m]=void 0;var v={};v[d]=!1;var y={};return t==="color"&&(y.color={valType:"color",arrayOk:!0,editType:l||"style"},s.anim&&(y.color.anim=!0)),y[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:p},y[c]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:v},y[m]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:v},y[f]={valType:"number",dflt:null,editType:"calc",impliedEdits:p},y.colorscale={valType:"colorscale",editType:"calc",dflt:o,impliedEdits:{autocolorscale:!1}},y.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},y.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(y.showscale={valType:"boolean",dflt:n,editType:"calc"},y.colorbar=M),s.noColorAxis||(y.coloraxis={valType:"subplotid",regex:k("coloraxis"),dflt:null,editType:"calc"}),y}},47128:function(ee,D,e){var M=e(38248),k=e(3400),a=e(94288).extractOpts;ee.exports=function(T,b,g){var s,t=T._fullLayout,i=g.vals,r=g.containerStr,n=r?k.nestedProperty(b,r).get():b,o=a(n),l=o.auto!==!1,u=o.min,d=o.max,c=o.mid,m=function(){return k.aggNums(Math.min,null,i)},f=function(){return k.aggNums(Math.max,null,i)};u===void 0?u=m():l&&(u=n._colorAx&&M(u)?Math.min(u,m()):m()),d===void 0?d=f():l&&(d=n._colorAx&&M(d)?Math.max(d,f()):f()),l&&c!==void 0&&(d-c>c-u?u=c-(d-c):d-c<c-u&&(d=c+(c-u))),u===d&&(u-=.5,d+=.5),o._sync("min",u),o._sync("max",d),o.autocolorscale&&(s=u*d<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus,o._sync("colorscale",s))}},95504:function(ee,D,e){var M=e(3400),k=e(94288).hasColorscale,a=e(94288).extractOpts;ee.exports=function(T,b){function g(l,u){var d=l["_"+u];d!==void 0&&(l[u]=d)}function s(l,u){var d=u.container?M.nestedProperty(l,u.container).get():l;if(d)if(d.coloraxis)d._colorAx=b[d.coloraxis];else{var c=a(d),m=c.auto;(m||c.min===void 0)&&g(d,u.min),(m||c.max===void 0)&&g(d,u.max),c.autocolorscale&&g(d,"colorscale")}}for(var t=0;t<T.length;t++){var i=T[t],r=i._module.colorbar;if(r)if(Array.isArray(r))for(var n=0;n<r.length;n++)s(i,r[n]);else s(i,r);k(i,"marker.line")&&s(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var o in b._colorAxes)s(b[o],{min:"cmin",max:"cmax"})}},27260:function(ee,D,e){var M=e(38248),k=e(3400),a=e(90553),T=e(64013),b=e(88304).isValid,g=e(24040).traceIs;function s(t,i){var r=i.slice(0,i.length-1);return i?k.nestedProperty(t,r).get()||{}:t}ee.exports=function t(i,r,n,o,l){var u=l.prefix,d=l.cLetter,c="_module"in r,m=s(i,u),f=s(r,u),p=s(r._template||{},u)||{},v=function(){return delete i.coloraxis,delete r.coloraxis,t(i,r,n,o,l)};if(c){var y=n._colorAxes||{},x=o(u+"coloraxis");if(x){var _=g(r,"contour")&&k.nestedProperty(r,"contours.coloring").get()||"heatmap",h=y[x];return void(h?(h[2].push(v),h[0]!==_&&(h[0]=!1,k.warn(["Ignoring coloraxis:",x,"setting","as it is linked to incompatible colorscales."].join(" ")))):y[x]=[_,r,[v]])}}var S=m[d+"min"],w=m[d+"max"],E=M(S)&&M(w)&&S<w;o(u+d+"auto",!E)?o(u+d+"mid"):(o(u+d+"min"),o(u+d+"max"));var C,P,O=m.colorscale,R=p.colorscale;O!==void 0&&(C=!b(O)),R!==void 0&&(C=!b(R)),o(u+"autocolorscale",C),o(u+"colorscale"),o(u+"reversescale"),u!=="marker.line."&&(u&&c&&(P=a(m)),o(u+"showscale",P)&&(u&&p&&(f._template=p),T(m,f,n)))}},94288:function(ee,D,e){var M=e(33428),k=e(49760),a=e(38248),T=e(3400),b=e(76308),g=e(88304).isValid,s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(u){var d,c,m,f=u._colorAx,p=f||u,v={};for(c=0;c<s.length;c++)v[m=s[c]]=p[m];if(f)for(d="c",c=0;c<t.length;c++)v[m=t[c]]=p["c"+m];else{var y;for(c=0;c<t.length;c++)((y="c"+(m=t[c]))in p||(y="z"+m)in p)&&(v[m]=p[y]);d=y.charAt(0)}return v._sync=function(x,_){var h=t.indexOf(x)!==-1?d+x:x;p[h]=p["_"+h]=_},v}function r(u){for(var d=i(u),c=d.min,m=d.max,f=d.reversescale?n(d.colorscale):d.colorscale,p=f.length,v=new Array(p),y=new Array(p),x=0;x<p;x++){var _=f[x];v[x]=c+_[0]*(m-c),y[x]=_[1]}return{domain:v,range:y}}function n(u){for(var d=u.length,c=new Array(d),m=d-1,f=0;m>=0;m--,f++){var p=u[m];c[f]=[1-p[0],p[1]]}return c}function o(u,d){d=d||{};for(var c=u.domain,m=u.range,f=m.length,p=new Array(f),v=0;v<f;v++){var y=k(m[v]).toRgb();p[v]=[y.r,y.g,y.b,y.a]}var x,_=M.scale.linear().domain(c).range(p).clamp(!0),h=d.noNumericCheck,S=d.returnArray;return(x=h&&S?_:h?function(w){return l(_(w))}:S?function(w){return a(w)?_(w):k(w).isValid()?w:b.defaultLine}:function(w){return a(w)?l(_(w)):k(w).isValid()?w:b.defaultLine}).domain=_.domain,x.range=function(){return m},x}function l(u){var d={r:u[0],g:u[1],b:u[2],a:u[3]};return k(d).toRgbString()}ee.exports={hasColorscale:function(u,d,c){var m=d?T.nestedProperty(u,d).get()||{}:u,f=m[c||"color"];f&&f._inputArray&&(f=f._inputArray);var p=!1;if(T.isArrayOrTypedArray(f)){for(var v=0;v<f.length;v++)if(a(f[v])){p=!0;break}}return T.isPlainObject(m)&&(p||m.showscale===!0||a(m.cmin)&&a(m.cmax)||g(m.colorscale)||T.isPlainObject(m.colorbar))},extractOpts:i,extractScale:r,flipScale:n,makeColorScaleFunc:o,makeColorScaleFuncFromTrace:function(u,d){return o(r(u),d)}}},8932:function(ee,D,e){var M=e(88304),k=e(94288);ee.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:M.scales,defaultScale:M.defaultScale,getScale:M.get,isValidScale:M.isValid,hasColorscale:k.hasColorscale,extractOpts:k.extractOpts,extractScale:k.extractScale,flipScale:k.flipScale,makeColorScaleFunc:k.makeColorScaleFunc,makeColorScaleFuncFromTrace:k.makeColorScaleFuncFromTrace}},92332:function(ee,D,e){var M=e(92880).extendFlat,k=e(49084),a=e(88304).scales;ee.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:M({_isSubplotObj:!0,editType:"calc"},k("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(ee,D,e){var M=e(3400),k=e(31780),a=e(92332),T=e(27260);ee.exports=function(b,g){function s(d,c){return M.coerce(b,g,a,d,c)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var t,i,r=g._colorAxes;function n(d,c){return M.coerce(t,i,a.coloraxis,d,c)}for(var o in r){var l=r[o];if(l[0])t=b[o]||{},(i=k.newContainer(g,o,"coloraxis"))._name=o,T(t,i,g,n,{prefix:"",cLetter:"c"});else{for(var u=0;u<l[2].length;u++)l[2][u]();delete g._colorAxes[o]}}}},88304:function(ee,D,e){var M=e(49760),k={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=k.RdBu;function T(b){var g=0;if(!Array.isArray(b)||b.length<2||!b[0]||!b[b.length-1]||+b[0][0]!=0||+b[b.length-1][0]!=1)return!1;for(var s=0;s<b.length;s++){var t=b[s];if(t.length!==2||+t[0]<g||!M(t[1]).isValid())return!1;g=+t[0]}return!0}ee.exports={scales:k,defaultScale:a,get:function(b,g){if(g||(g=a),!b)return g;function s(){try{b=k[b]||JSON.parse(b)}catch{b=g}}return typeof b=="string"&&(s(),typeof b=="string"&&s()),T(b)?b:g},isValid:function(b){return k[b]!==void 0||T(b)}}},78316:function(ee){ee.exports=function(D,e,M,k,a){var T=(D-M)/(k-M),b=T+e/(k-M),g=(T+b)/2;return a==="left"||a==="bottom"?T:a==="center"||a==="middle"?g:a==="right"||a==="top"?b:T<.6666666666666666-g?T:b>1.3333333333333333-g?b:g}},67416:function(ee,D,e){var M=e(3400),k=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ee.exports=function(a,T,b,g){return a=b==="left"?0:b==="center"?1:b==="right"?2:M.constrain(Math.floor(3*a),0,2),T=g==="bottom"?0:g==="middle"?1:g==="top"?2:M.constrain(Math.floor(3*T),0,2),k[T][a]}},72760:function(ee,D){D.selectMode=function(e){return e==="lasso"||e==="select"},D.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},D.openMode=function(e){return e==="drawline"||e==="drawopenpath"},D.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},D.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},D.selectingOrDrawing=function(e){return D.freeMode(e)||D.rectMode(e)}},86476:function(ee,D,e){var M=e(29128),k=e(52264),a=e(89184),T=e(3400).removeElement,b=e(33816),g=ee.exports={};g.align=e(78316),g.getCursor=e(67416);var s=e(2616);function t(){var r=document.createElement("div");r.className="dragcover";var n=r.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(r),r}function i(r){return M(r.changedTouches?r.changedTouches[0]:r,document.body)}g.unhover=s.wrapped,g.unhoverRaw=s.raw,g.init=function(r){var n,o,l,u,d,c,m,f,p=r.gd,v=1,y=p._context.doubleClickDelay,x=r.element;p._mouseDownTime||(p._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=h,a?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=h,x.addEventListener("touchstart",h,{passive:!1})):x.ontouchstart=h;var _=r.clampFn||function(E,C,P){return Math.abs(E)<P&&(E=0),Math.abs(C)<P&&(C=0),[E,C]};function h(E){p._dragged=!1,p._dragging=!0;var C=i(E);n=C[0],o=C[1],m=E.target,c=E,f=E.buttons===2||E.ctrlKey,E.clientX===void 0&&E.clientY===void 0&&(E.clientX=n,E.clientY=o),(l=new Date().getTime())-p._mouseDownTime<y?v+=1:(v=1,p._mouseDownTime=l),r.prepFn&&r.prepFn(E,n,o),k&&!f?(d=t()).style.cursor=window.getComputedStyle(x).cursor:k||(d=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mouseup",w),document.addEventListener("touchend",w),r.dragmode!==!1&&(E.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(E){E.preventDefault();var C=i(E),P=r.minDrag||b.MINDRAG,O=_(C[0]-n,C[1]-o,P),R=O[0],U=O[1];(R||U)&&(p._dragged=!0,g.unhover(p,E)),p._dragged&&r.moveFn&&!f&&(p._dragdata={element:x,dx:R,dy:U},r.moveFn(R,U))}function w(E){if(delete p._dragdata,r.dragmode!==!1&&(E.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",w),document.removeEventListener("touchend",w),k?T(d):u&&(d.documentElement.style.cursor=u,u=null),p._dragging){if(p._dragging=!1,new Date().getTime()-p._mouseDownTime>y&&(v=Math.max(v-1,1)),p._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(v,c),!f){var C;try{C=new MouseEvent("click",E)}catch{var P=i(E);(C=document.createEvent("MouseEvents")).initMouseEvent("click",E.bubbles,E.cancelable,E.view,E.detail,E.screenX,E.screenY,P[0],P[1],E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget)}m.dispatchEvent(C)}p._dragging=!1,p._dragged=!1}else p._dragged=!1}},g.coverSlip=t},2616:function(ee,D,e){var M=e(95924),k=e(91200),a=e(52200).getGraphDiv,T=e(92456),b=ee.exports={};b.wrapped=function(g,s,t){(g=a(g))._fullLayout&&k.clear(g._fullLayout._uid+T.HOVERID),b.raw(g,s,t)},b.raw=function(g,s){var t=g._fullLayout,i=g._hoverdata;s||(s={}),s.target&&!g._dragged&&M.triggerHandler(g,"plotly_beforehover",s)===!1||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),g._hoverdata=void 0,s.target&&i&&g.emit("plotly_unhover",{event:s,points:i}))}},98192:function(ee,D){D.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},D.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(ee,D,e){var M=e(33428),k=e(3400),a=k.numberFormat,T=e(38248),b=e(49760),g=e(24040),s=e(76308),t=e(8932),i=k.strTranslate,r=e(72736),n=e(9616),o=e(84284).LINE_SPACING,l=e(13448).DESELECTDIM,u=e(43028),d=e(7152),c=e(10624).appendArrayPointValue,m=ee.exports={};function f(ge,ke,we,ue){var oe=ke.fillpattern,he=ke.fillgradient,Ee=oe&&m.getPatternAttr(oe.shape,0,"");if(Ee){var Te=m.getPatternAttr(oe.bgcolor,0,null),Me=m.getPatternAttr(oe.fgcolor,0,null),Se=oe.fgopacity,ze=m.getPatternAttr(oe.size,0,8),fe=m.getPatternAttr(oe.solidity,0,.3),xe=ke.uid;m.pattern(ge,"point",we,xe,Ee,ze,fe,void 0,oe.fillmode,Te,Me,Se)}else if(he&&he.type!=="none"){var _e,Oe,De=he.type,Pe="scatterfill-"+ke.uid;ue&&(Pe="legendfill-"+ke.uid),ue||he.start===void 0&&he.stop===void 0?(De==="horizontal"&&(De+="reversed"),ge.call(m.gradient,we,Pe,De,he.colorscale,"fill")):(De==="horizontal"?(_e={x:he.start,y:0},Oe={x:he.stop,y:0}):De==="vertical"&&(_e={x:0,y:he.start},Oe={x:0,y:he.stop}),_e.x=ke._xA.c2p(_e.x===void 0?ke._extremes.x.min[0].val:_e.x,!0),_e.y=ke._yA.c2p(_e.y===void 0?ke._extremes.y.min[0].val:_e.y,!0),Oe.x=ke._xA.c2p(Oe.x===void 0?ke._extremes.x.max[0].val:Oe.x,!0),Oe.y=ke._yA.c2p(Oe.y===void 0?ke._extremes.y.max[0].val:Oe.y,!0),ge.call(h,we,Pe,"linear",he.colorscale,"fill",_e,Oe,!0,!1))}else ke.fillcolor&&ge.call(s.fill,ke.fillcolor)}m.font=function(ge,ke,we,ue){k.isPlainObject(ke)&&(ue=ke.color,we=ke.size,ke=ke.family),ke&&ge.style("font-family",ke),we+1&&ge.style("font-size",we+"px"),ue&&ge.call(s.fill,ue)},m.setPosition=function(ge,ke,we){ge.attr("x",ke).attr("y",we)},m.setSize=function(ge,ke,we){ge.attr("width",ke).attr("height",we)},m.setRect=function(ge,ke,we,ue,oe){ge.call(m.setPosition,ke,we).call(m.setSize,ue,oe)},m.translatePoint=function(ge,ke,we,ue){var oe=we.c2p(ge.x),he=ue.c2p(ge.y);return!!(T(oe)&&T(he)&&ke.node())&&(ke.node().nodeName==="text"?ke.attr("x",oe).attr("y",he):ke.attr("transform",i(oe,he)),!0)},m.translatePoints=function(ge,ke,we){ge.each(function(ue){var oe=M.select(this);m.translatePoint(ue,oe,ke,we)})},m.hideOutsideRangePoint=function(ge,ke,we,ue,oe,he){ke.attr("display",we.isPtWithinRange(ge,oe)&&ue.isPtWithinRange(ge,he)?null:"none")},m.hideOutsideRangePoints=function(ge,ke){if(ke._hasClipOnAxisFalse){var we=ke.xaxis,ue=ke.yaxis;ge.each(function(oe){var he=oe[0].trace,Ee=he.xcalendar,Te=he.ycalendar,Me=g.traceIs(he,"bar-like")?".bartext":".point,.textpoint";ge.selectAll(Me).each(function(Se){m.hideOutsideRangePoint(Se,M.select(this),we,ue,Ee,Te)})})}},m.crispRound=function(ge,ke,we){return ke&&T(ke)?ge._context.staticPlot?ke:ke<1?1:Math.round(ke):we||0},m.singleLineStyle=function(ge,ke,we,ue,oe){ke.style("fill","none");var he=(((ge||[])[0]||{}).trace||{}).line||{},Ee=we||he.width||0,Te=oe||he.dash||"";s.stroke(ke,ue||he.color),m.dashLine(ke,Te,Ee)},m.lineGroupStyle=function(ge,ke,we,ue){ge.style("fill","none").each(function(oe){var he=(((oe||[])[0]||{}).trace||{}).line||{},Ee=ke||he.width||0,Te=ue||he.dash||"";M.select(this).call(s.stroke,we||he.color).call(m.dashLine,Te,Ee)})},m.dashLine=function(ge,ke,we){we=+we||0,ke=m.dashStyle(ke,we),ge.style({"stroke-dasharray":ke,"stroke-width":we+"px"})},m.dashStyle=function(ge,ke){ke=+ke||1;var we=Math.max(ke,3);return ge==="solid"?ge="":ge==="dot"?ge=we+"px,"+we+"px":ge==="dash"?ge=3*we+"px,"+3*we+"px":ge==="longdash"?ge=5*we+"px,"+5*we+"px":ge==="dashdot"?ge=3*we+"px,"+we+"px,"+we+"px,"+we+"px":ge==="longdashdot"&&(ge=5*we+"px,"+2*we+"px,"+we+"px,"+2*we+"px"),ge},m.singleFillStyle=function(ge,ke){var we=M.select(ge.node());f(ge,((we.data()[0]||[])[0]||{}).trace||{},ke,!1)},m.fillGroupStyle=function(ge,ke,we){ge.style("stroke-width",0).each(function(ue){var oe=M.select(this);ue[0].trace&&f(oe,ue[0].trace,ke,we)})};var p=e(71984);m.symbolNames=[],m.symbolFuncs=[],m.symbolBackOffs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(p).forEach(function(ge){var ke=p[ge],we=ke.n;m.symbolList.push(we,String(we),ge,we+100,String(we+100),ge+"-open"),m.symbolNames[we]=ge,m.symbolFuncs[we]=ke.f,m.symbolBackOffs[we]=ke.backoff||0,ke.needLine&&(m.symbolNeedLines[we]=!0),ke.noDot?m.symbolNoDot[we]=!0:m.symbolList.push(we+200,String(we+200),ge+"-dot",we+300,String(we+300),ge+"-open-dot"),ke.noFill&&(m.symbolNoFill[we]=!0)});var v=m.symbolNames.length;function y(ge,ke,we,ue){var oe=ge%100;return m.symbolFuncs[oe](ke,we,ue)+(ge>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}m.symbolNumber=function(ge){if(T(ge))ge=+ge;else if(typeof ge=="string"){var ke=0;ge.indexOf("-open")>0&&(ke=100,ge=ge.replace("-open","")),ge.indexOf("-dot")>0&&(ke+=200,ge=ge.replace("-dot","")),(ge=m.symbolNames.indexOf(ge))>=0&&(ge+=ke)}return ge%100>=v||ge>=400?0:Math.floor(Math.max(ge,0))};var x=a("~f"),_={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function h(ge,ke,we,ue,oe,he,Ee,Te,Me,Se){var ze,fe=oe.length;ue==="linear"?ze={node:"linearGradient",attrs:{x1:Ee.x,y1:Ee.y,x2:Te.x,y2:Te.y,gradientUnits:Me?"userSpaceOnUse":"objectBoundingBox"},reversed:Se}:ue==="radial"&&(ze={node:"radialGradient",reversed:Se});for(var xe=new Array(fe),_e=0;_e<fe;_e++)ze.reversed?xe[fe-1-_e]=[x(100*(1-oe[_e][0])),oe[_e][1]]:xe[_e]=[x(100*oe[_e][0]),oe[_e][1]];var Oe=ke._fullLayout,De="g"+Oe._uid+"-"+we,Pe=Oe._defs.select(".gradients").selectAll("#"+De).data([ue+xe.join(";")],k.identity);Pe.exit().remove(),Pe.enter().append(ze.node).each(function(){var Ue=M.select(this);ze.attrs&&Ue.attr(ze.attrs),Ue.attr("id",De);var Ve=Ue.selectAll("stop").data(xe);Ve.exit().remove(),Ve.enter().append("stop"),Ve.each(function(Xe){var it=b(Xe[1]);M.select(this).attr({offset:Xe[0]+"%","stop-color":s.tinyRGB(it),"stop-opacity":it.getAlpha()})})}),ge.style(he,te(De,ke)).style(he+"-opacity",null),ge.classed("gradient_filled",!0)}m.gradient=function(ge,ke,we,ue,oe,he){var Ee=_[ue];return h(ge,ke,we,Ee.type,oe,he,Ee.start,Ee.stop,!1,Ee.reversed)},m.pattern=function(ge,ke,we,ue,oe,he,Ee,Te,Me,Se,ze,fe){var xe=ke==="legend";Te&&(Me==="overlay"?(Se=Te,ze=s.contrast(Se)):(Se=void 0,ze=Te));var _e,Oe,De,Pe,Ue,Ve,Xe,it,tt,pt=we._fullLayout,mt="p"+pt._uid+"-"+ue,gt={},et=b(ze),$e=s.tinyRGB(et),_t=fe*et.getAlpha();switch(oe){case"/":_e=he*Math.sqrt(2),Oe=he*Math.sqrt(2),Ve="path",gt={d:De="M-"+_e/4+","+Oe/4+"l"+_e/2+",-"+Oe/2+"M0,"+Oe+"L"+_e+",0M"+_e/4*3+","+Oe/4*5+"l"+_e/2+",-"+Oe/2,opacity:_t,stroke:$e,"stroke-width":(Pe=Ee*he)+"px"};break;case"\\":_e=he*Math.sqrt(2),Oe=he*Math.sqrt(2),Ve="path",gt={d:De="M"+_e/4*3+",-"+Oe/4+"l"+_e/2+","+Oe/2+"M0,0L"+_e+","+Oe+"M-"+_e/4+","+Oe/4*3+"l"+_e/2+","+Oe/2,opacity:_t,stroke:$e,"stroke-width":(Pe=Ee*he)+"px"};break;case"x":_e=he*Math.sqrt(2),Oe=he*Math.sqrt(2),De="M-"+_e/4+","+Oe/4+"l"+_e/2+",-"+Oe/2+"M0,"+Oe+"L"+_e+",0M"+_e/4*3+","+Oe/4*5+"l"+_e/2+",-"+Oe/2+"M"+_e/4*3+",-"+Oe/4+"l"+_e/2+","+Oe/2+"M0,0L"+_e+","+Oe+"M-"+_e/4+","+Oe/4*3+"l"+_e/2+","+Oe/2,Pe=he-he*Math.sqrt(1-Ee),Ve="path",gt={d:De,opacity:_t,stroke:$e,"stroke-width":Pe+"px"};break;case"|":Ve="path",Ve="path",gt={d:De="M"+(_e=he)/2+",0L"+_e/2+","+(Oe=he),opacity:_t,stroke:$e,"stroke-width":(Pe=Ee*he)+"px"};break;case"-":Ve="path",Ve="path",gt={d:De="M0,"+(Oe=he)/2+"L"+(_e=he)+","+Oe/2,opacity:_t,stroke:$e,"stroke-width":(Pe=Ee*he)+"px"};break;case"+":Ve="path",De="M"+(_e=he)/2+",0L"+_e/2+","+(Oe=he)+"M0,"+Oe/2+"L"+_e+","+Oe/2,Pe=he-he*Math.sqrt(1-Ee),Ve="path",gt={d:De,opacity:_t,stroke:$e,"stroke-width":Pe+"px"};break;case".":_e=he,Oe=he,Ee<Math.PI/4?Ue=Math.sqrt(Ee*he*he/Math.PI):(Xe=Ee,it=Math.PI/4,Ue=(tt=he/2)+(he/Math.sqrt(2)-tt)*(Xe-it)/(1-it)),Ve="circle",gt={cx:_e/2,cy:Oe/2,r:Ue,opacity:_t,fill:$e}}var Pt=[oe||"noSh",Se||"noBg",ze||"noFg",he,Ee].join(";"),Ot=pt._defs.select(".patterns").selectAll("#"+mt).data([Pt],k.identity);Ot.exit().remove(),Ot.enter().append("pattern").each(function(){var Lt=M.select(this);if(Lt.attr({id:mt,width:_e+"px",height:Oe+"px",patternUnits:"userSpaceOnUse",patternTransform:xe?"scale(0.8)":""}),Se){var He=b(Se),We=s.tinyRGB(He),Be=He.getAlpha(),Ge=Lt.selectAll("rect").data([0]);Ge.exit().remove(),Ge.enter().append("rect").attr({width:_e+"px",height:Oe+"px",fill:We,"fill-opacity":Be})}var at=Lt.selectAll(Ve).data([0]);at.exit().remove(),at.enter().append(Ve).attr(gt)}),ge.style("fill",te(mt,we)).style("fill-opacity",null),ge.classed("pattern_filled",!0)},m.initGradients=function(ge){var ke=ge._fullLayout;k.ensureSingle(ke._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),M.select(ge).selectAll(".gradient_filled").classed("gradient_filled",!1)},m.initPatterns=function(ge){var ke=ge._fullLayout;k.ensureSingle(ke._defs,"g","patterns").selectAll("pattern").remove(),M.select(ge).selectAll(".pattern_filled").classed("pattern_filled",!1)},m.getPatternAttr=function(ge,ke,we){return ge&&k.isArrayOrTypedArray(ge)?ke<ge.length?ge[ke]:we:ge},m.pointStyle=function(ge,ke,we,ue){if(ge.size()){var oe=m.makePointStyleFns(ke);ge.each(function(he){m.singlePointStyle(he,M.select(this),ke,oe,we,ue)})}},m.singlePointStyle=function(ge,ke,we,ue,oe,he){var Ee=we.marker,Te=Ee.line;if(he&&he.i>=0&&ge.i===void 0&&(ge.i=he.i),ke.style("opacity",ue.selectedOpacityFn?ue.selectedOpacityFn(ge):ge.mo===void 0?Ee.opacity:ge.mo),ue.ms2mrc){var Me;Me=ge.ms==="various"||Ee.size==="various"?3:ue.ms2mrc(ge.ms),ge.mrc=Me,ue.selectedSizeFn&&(Me=ge.mrc=ue.selectedSizeFn(ge));var Se=m.symbolNumber(ge.mx||Ee.symbol)||0;ge.om=Se%200>=100;var ze=me(ge,we),fe=Z(ge,we);ke.attr("d",y(Se,Me,ze,fe))}var xe,_e,Oe,De=!1;if(ge.so)Oe=Te.outlierwidth,_e=Te.outliercolor,xe=Ee.outliercolor;else{var Pe=(Te||{}).width;Oe=(ge.mlw+1||Pe+1||(ge.trace?(ge.trace.marker.line||{}).width:0)+1)-1||0,_e="mlc"in ge?ge.mlcc=ue.lineScale(ge.mlc):k.isArrayOrTypedArray(Te.color)?s.defaultLine:Te.color,k.isArrayOrTypedArray(Ee.color)&&(xe=s.defaultLine,De=!0),xe="mc"in ge?ge.mcc=ue.markerScale(ge.mc):Ee.color||Ee.colors||"rgba(0,0,0,0)",ue.selectedColorFn&&(xe=ue.selectedColorFn(ge))}if(ge.om)ke.call(s.stroke,xe).style({"stroke-width":(Oe||1)+"px",fill:"none"});else{ke.style("stroke-width",(ge.isBlank?0:Oe)+"px");var Ue=Ee.gradient,Ve=ge.mgt;Ve?De=!0:Ve=Ue&&Ue.type,k.isArrayOrTypedArray(Ve)&&(Ve=Ve[0],_[Ve]||(Ve=0));var Xe=Ee.pattern,it=Xe&&m.getPatternAttr(Xe.shape,ge.i,"");if(Ve&&Ve!=="none"){var tt=ge.mgc;tt?De=!0:tt=Ue.color;var pt=we.uid;De&&(pt+="-"+ge.i),m.gradient(ke,oe,pt,Ve,[[0,tt],[1,xe]],"fill")}else if(it){var mt=!1,gt=Xe.fgcolor;!gt&&he&&he.color&&(gt=he.color,mt=!0);var et=m.getPatternAttr(gt,ge.i,he&&he.color||null),$e=m.getPatternAttr(Xe.bgcolor,ge.i,null),_t=Xe.fgopacity,Pt=m.getPatternAttr(Xe.size,ge.i,8),Ot=m.getPatternAttr(Xe.solidity,ge.i,.3);mt=mt||ge.mcc||k.isArrayOrTypedArray(Xe.shape)||k.isArrayOrTypedArray(Xe.bgcolor)||k.isArrayOrTypedArray(Xe.fgcolor)||k.isArrayOrTypedArray(Xe.size)||k.isArrayOrTypedArray(Xe.solidity);var Lt=we.uid;mt&&(Lt+="-"+ge.i),m.pattern(ke,"point",oe,Lt,it,Pt,Ot,ge.mcc,Xe.fillmode,$e,et,_t)}else k.isArrayOrTypedArray(xe)?s.fill(ke,xe[ge.i]):s.fill(ke,xe);Oe&&s.stroke(ke,_e)}},m.makePointStyleFns=function(ge){var ke={},we=ge.marker;return ke.markerScale=m.tryColorscale(we,""),ke.lineScale=m.tryColorscale(we,"line"),g.traceIs(ge,"symbols")&&(ke.ms2mrc=u.isBubble(ge)?d(ge):function(){return(we.size||6)/2}),ge.selectedpoints&&k.extendFlat(ke,m.makeSelectedPointStyleFns(ge)),ke},m.makeSelectedPointStyleFns=function(ge){var ke={},we=ge.selected||{},ue=ge.unselected||{},oe=ge.marker||{},he=we.marker||{},Ee=ue.marker||{},Te=oe.opacity,Me=he.opacity,Se=Ee.opacity,ze=Me!==void 0,fe=Se!==void 0;(k.isArrayOrTypedArray(Te)||ze||fe)&&(ke.selectedOpacityFn=function(it){var tt=it.mo===void 0?oe.opacity:it.mo;return it.selected?ze?Me:tt:fe?Se:l*tt});var xe=oe.color,_e=he.color,Oe=Ee.color;(_e||Oe)&&(ke.selectedColorFn=function(it){var tt=it.mcc||xe;return it.selected?_e||tt:Oe||tt});var De=oe.size,Pe=he.size,Ue=Ee.size,Ve=Pe!==void 0,Xe=Ue!==void 0;return g.traceIs(ge,"symbols")&&(Ve||Xe)&&(ke.selectedSizeFn=function(it){var tt=it.mrc||De/2;return it.selected?Ve?Pe/2:tt:Xe?Ue/2:tt}),ke},m.makeSelectedTextStyleFns=function(ge){var ke={},we=ge.selected||{},ue=ge.unselected||{},oe=ge.textfont||{},he=we.textfont||{},Ee=ue.textfont||{},Te=oe.color,Me=he.color,Se=Ee.color;return ke.selectedTextColorFn=function(ze){var fe=ze.tc||Te;return ze.selected?Me||fe:Se||(Me?fe:s.addOpacity(fe,l))},ke},m.selectedPointStyle=function(ge,ke){if(ge.size()&&ke.selectedpoints){var we=m.makeSelectedPointStyleFns(ke),ue=ke.marker||{},oe=[];we.selectedOpacityFn&&oe.push(function(he,Ee){he.style("opacity",we.selectedOpacityFn(Ee))}),we.selectedColorFn&&oe.push(function(he,Ee){s.fill(he,we.selectedColorFn(Ee))}),we.selectedSizeFn&&oe.push(function(he,Ee){var Te=Ee.mx||ue.symbol||0,Me=we.selectedSizeFn(Ee);he.attr("d",y(m.symbolNumber(Te),Me,me(Ee,ke),Z(Ee,ke))),Ee.mrc2=Me}),oe.length&&ge.each(function(he){for(var Ee=M.select(this),Te=0;Te<oe.length;Te++)oe[Te](Ee,he)})}},m.tryColorscale=function(ge,ke){var we=ke?k.nestedProperty(ge,ke).get():ge;if(we){var ue=we.color;if((we.colorscale||we._colorAx)&&k.isArrayOrTypedArray(ue))return t.makeColorScaleFuncFromTrace(we)}return k.identity};var S,w,E={start:1,end:-1,middle:0,bottom:1,top:-1};function C(ge,ke,we,ue,oe){var he=M.select(ge.node().parentNode),Ee=ke.indexOf("top")!==-1?"top":ke.indexOf("bottom")!==-1?"bottom":"middle",Te=ke.indexOf("left")!==-1?"end":ke.indexOf("right")!==-1?"start":"middle",Me=ue?ue/.8+1:0,Se=(r.lineCount(ge)-1)*o+1,ze=E[Te]*Me,fe=.75*we+E[Ee]*Me+(E[Ee]-1)*Se*we/2;ge.attr("text-anchor",Te),oe||he.attr("transform",i(ze,fe))}function P(ge,ke){var we=ge.ts||ke.textfont.size;return T(we)&&we>0?we:0}function O(ge,ke,we){return we&&(ge=F(ge)),ke?U(ge[1]):R(ge[0])}function R(ge){var ke=M.round(ge,2);return S=ke,ke}function U(ge){var ke=M.round(ge,2);return w=ke,ke}function z(ge,ke,we,ue){var oe=ge[0]-ke[0],he=ge[1]-ke[1],Ee=we[0]-ke[0],Te=we[1]-ke[1],Me=Math.pow(oe*oe+he*he,.25),Se=Math.pow(Ee*Ee+Te*Te,.25),ze=(Se*Se*oe-Me*Me*Ee)*ue,fe=(Se*Se*he-Me*Me*Te)*ue,xe=3*Se*(Me+Se),_e=3*Me*(Me+Se);return[[R(ke[0]+(xe&&ze/xe)),U(ke[1]+(xe&&fe/xe))],[R(ke[0]-(_e&&ze/_e)),U(ke[1]-(_e&&fe/_e))]]}m.textPointStyle=function(ge,ke,we){if(ge.size()){var ue;if(ke.selectedpoints){var oe=m.makeSelectedTextStyleFns(ke);ue=oe.selectedTextColorFn}var he=ke.texttemplate,Ee=we._fullLayout;ge.each(function(Te){var Me=M.select(this),Se=he?k.extractOption(Te,ke,"txt","texttemplate"):k.extractOption(Te,ke,"tx","text");if(Se||Se===0){if(he){var ze=ke._module.formatLabels,fe=ze?ze(Te,ke,Ee):{},xe={};c(xe,ke,Te.i);var _e=ke._meta||{};Se=k.texttemplateString(Se,fe,Ee._d3locale,xe,Te,_e)}var Oe=Te.tp||ke.textposition,De=P(Te,ke),Pe=ue?ue(Te):Te.tc||ke.textfont.color;Me.call(m.font,Te.tf||ke.textfont.family,De,Pe).text(Se).call(r.convertToTspans,we).call(C,Oe,De,Te.mrc)}else Me.remove()})}},m.selectedTextStyle=function(ge,ke){if(ge.size()&&ke.selectedpoints){var we=m.makeSelectedTextStyleFns(ke);ge.each(function(ue){var oe=M.select(this),he=we.selectedTextColorFn(ue),Ee=ue.tp||ke.textposition,Te=P(ue,ke);s.fill(oe,he);var Me=g.traceIs(ke,"bar-like");C(oe,Ee,Te,ue.mrc2||ue.mrc,Me)})}},m.smoothopen=function(ge,ke){if(ge.length<3)return"M"+ge.join("L");var we,ue="M"+ge[0],oe=[];for(we=1;we<ge.length-1;we++)oe.push(z(ge[we-1],ge[we],ge[we+1],ke));for(ue+="Q"+oe[0][0]+" "+ge[1],we=2;we<ge.length-1;we++)ue+="C"+oe[we-2][1]+" "+oe[we-1][0]+" "+ge[we];return ue+"Q"+oe[ge.length-3][1]+" "+ge[ge.length-1]},m.smoothclosed=function(ge,ke){if(ge.length<3)return"M"+ge.join("L")+"Z";var we,ue="M"+ge[0],oe=ge.length-1,he=[z(ge[oe],ge[0],ge[1],ke)];for(we=1;we<oe;we++)he.push(z(ge[we-1],ge[we],ge[we+1],ke));for(he.push(z(ge[oe-1],ge[oe],ge[0],ke)),we=1;we<=oe;we++)ue+="C"+he[we-1][1]+" "+he[we][0]+" "+ge[we];return ue+"C"+he[oe][1]+" "+he[0][0]+" "+ge[0]+"Z"};var N={hv:function(ge,ke,we){return"H"+R(ke[0])+"V"+O(ke,1,we)},vh:function(ge,ke,we){return"V"+U(ke[1])+"H"+O(ke,0,we)},hvh:function(ge,ke,we){return"H"+R((ge[0]+ke[0])/2)+"V"+U(ke[1])+"H"+O(ke,0,we)},vhv:function(ge,ke,we){return"V"+U((ge[1]+ke[1])/2)+"H"+R(ke[0])+"V"+O(ke,1,we)}},W=function(ge,ke,we){return"L"+O(ke,0,we)+","+O(ke,1,we)};function F(ge,ke){var we=ge.backoff,ue=ge.trace,oe=ge.d,he=ge.i;if(we&&ue&&ue.marker&&ue.marker.angle%360==0&&ue.line&&ue.line.shape!=="spline"){var Ee=k.isArrayOrTypedArray(we),Te=ge,Me=ke?ke[0]:S||0,Se=ke?ke[1]:w||0,ze=Te[0],fe=Te[1],xe=ze-Me,_e=fe-Se,Oe=Math.atan2(_e,xe),De=Ee?we[he]:we;if(De==="auto"){var Pe=Te.i;ue.type==="scatter"&&Pe--;var Ue=Te.marker,Ve=Ue.symbol;k.isArrayOrTypedArray(Ve)&&(Ve=Ve[Pe]);var Xe=Ue.size;k.isArrayOrTypedArray(Xe)&&(Xe=Xe[Pe]),De=Ue?m.symbolBackOffs[m.symbolNumber(Ve)]*Xe:0,De+=m.getMarkerStandoff(oe[Pe],ue)||0}var it=ze-De*Math.cos(Oe),tt=fe-De*Math.sin(Oe);(it<=ze&&it>=Me||it>=ze&&it<=Me)&&(tt<=fe&&tt>=Se||tt>=fe&&tt<=Se)&&(ge=[it,tt])}return ge}m.steps=function(ge){var ke=N[ge]||W;return function(we){for(var ue="M"+R(we[0][0])+","+U(we[0][1]),oe=we.length,he=1;he<oe;he++)ue+=ke(we[he-1],we[he],he===oe-1);return ue}},m.applyBackoff=F,m.makeTester=function(){var ge=k.ensureSingleById(M.select("body"),"svg","js-plotly-tester",function(we){we.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ke=k.ensureSingle(ge,"path","js-reference-point",function(we){we.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});m.tester=ge,m.testref=ke},m.savedBBoxes={};var V=0;function j(ge){var ke=ge.getAttribute("data-unformatted");if(ke!==null)return ke+ge.getAttribute("data-math")+ge.getAttribute("text-anchor")+ge.getAttribute("style")}function te(ge,ke){if(!ge)return null;var we=ke._context,ue=we._exportedPlot?"":we._baseUrl||"";return ue?"url('"+ue+"#"+ge+"')":"url(#"+ge+")"}m.bBox=function(ge,ke,we){var ue,oe,he;if(we||(we=j(ge)),we){if(ue=m.savedBBoxes[we])return k.extendFlat({},ue)}else if(ge.childNodes.length===1){var Ee=ge.childNodes[0];if(we=j(Ee)){var Te=+Ee.getAttribute("x")||0,Me=+Ee.getAttribute("y")||0,Se=Ee.getAttribute("transform");if(!Se){var ze=m.bBox(Ee,!1,we);return Te&&(ze.left+=Te,ze.right+=Te),Me&&(ze.top+=Me,ze.bottom+=Me),ze}if(we+="~"+Te+"~"+Me+"~"+Se,ue=m.savedBBoxes[we])return k.extendFlat({},ue)}}ke?oe=ge:(he=m.tester.node(),oe=ge.cloneNode(!0),he.appendChild(oe)),M.select(oe).attr("transform",null).call(r.positionText,0,0);var fe=oe.getBoundingClientRect(),xe=m.testref.node().getBoundingClientRect();ke||he.removeChild(oe);var _e={height:fe.height,width:fe.width,left:fe.left-xe.left,top:fe.top-xe.top,right:fe.right-xe.left,bottom:fe.bottom-xe.top};return V>=1e4&&(m.savedBBoxes={},V=0),we&&(m.savedBBoxes[we]=_e),V++,k.extendFlat({},_e)},m.setClipUrl=function(ge,ke,we){ge.attr("clip-path",te(ke,we))},m.getTranslate=function(ge){var ke=(ge[ge.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(we,ue,oe){return[ue,oe].join(" ")}).split(" ");return{x:+ke[0]||0,y:+ke[1]||0}},m.setTranslate=function(ge,ke,we){var ue=ge.attr?"attr":"getAttribute",oe=ge.attr?"attr":"setAttribute",he=ge[ue]("transform")||"";return ke=ke||0,we=we||0,he=he.replace(/(\btranslate\(.*?\);?)/,"").trim(),he=(he+=i(ke,we)).trim(),ge[oe]("transform",he),he},m.getScale=function(ge){var ke=(ge[ge.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(we,ue,oe){return[ue,oe].join(" ")}).split(" ");return{x:+ke[0]||1,y:+ke[1]||1}},m.setScale=function(ge,ke,we){var ue=ge.attr?"attr":"getAttribute",oe=ge.attr?"attr":"setAttribute",he=ge[ue]("transform")||"";return ke=ke||1,we=we||1,he=he.replace(/(\bscale\(.*?\);?)/,"").trim(),he=(he+="scale("+ke+","+we+")").trim(),ge[oe]("transform",he),he};var J=/\s*sc.*/;m.setPointGroupScale=function(ge,ke,we){if(ke=ke||1,we=we||1,ge){var ue=ke===1&&we===1?"":"scale("+ke+","+we+")";ge.each(function(){var oe=(this.getAttribute("transform")||"").replace(J,"");oe=(oe+=ue).trim(),this.setAttribute("transform",oe)})}};var K=/translate\([^)]*\)\s*$/;function Z(ge,ke){var we;return ge&&(we=ge.mf),we===void 0&&(we=ke.marker&&ke.marker.standoff||0),ke._geo||ke._xA?we:-we}m.setTextPointsScale=function(ge,ke,we){ge&&ge.each(function(){var ue,oe=M.select(this),he=oe.select("text");if(he.node()){var Ee=parseFloat(he.attr("x")||0),Te=parseFloat(he.attr("y")||0),Me=(oe.attr("transform")||"").match(K);ue=ke===1&&we===1?[]:[i(Ee,Te),"scale("+ke+","+we+")",i(-Ee,-Te)],Me&&ue.push(Me),oe.attr("transform",ue.join(""))}})},m.getMarkerStandoff=Z;var X,Q,re,ae,ie,le,pe=Math.atan2,de=Math.cos,ve=Math.sin;function be(ge,ke){var we=ke[0],ue=ke[1];return[we*de(ge)-ue*ve(ge),we*ve(ge)+ue*de(ge)]}function me(ge,ke){var we,ue,oe=ge.ma;oe===void 0&&((oe=ke.marker.angle)&&!k.isArrayOrTypedArray(oe)||(oe=0));var he=ke.marker.angleref;if(he==="previous"||he==="north"){if(ke._geo){var Ee=ke._geo.project(ge.lonlat);we=Ee[0],ue=Ee[1]}else{var Te=ke._xA,Me=ke._yA;if(!Te||!Me)return 90;we=Te.c2p(ge.x),ue=Me.c2p(ge.y)}if(ke._geo){var Se,ze=ge.lonlat[0],fe=ge.lonlat[1],xe=ke._geo.project([ze,fe+1e-5]),_e=ke._geo.project([ze+1e-5,fe]),Oe=pe(_e[1]-ue,_e[0]-we),De=pe(xe[1]-ue,xe[0]-we);if(he==="north")Se=oe/180*Math.PI;else if(he==="previous"){var Pe=ze/180*Math.PI,Ue=fe/180*Math.PI,Ve=X/180*Math.PI,Xe=Q/180*Math.PI,it=Ve-Pe,tt=de(Xe)*ve(it),pt=ve(Xe)*de(Ue)-de(Xe)*ve(Ue)*de(it);Se=-pe(tt,pt)-Math.PI,X=ze,Q=fe}var mt=be(Oe,[de(Se),0]),gt=be(De,[ve(Se),0]);oe=pe(mt[1]+gt[1],mt[0]+gt[0])/Math.PI*180,he!=="previous"||le===ke.uid&&ge.i===ie+1||(oe=null)}if(he==="previous"&&!ke._geo)if(le===ke.uid&&ge.i===ie+1&&T(we)&&T(ue)){var et=we-re,$e=ue-ae,_t=ke.line&&ke.line.shape||"",Pt=_t.slice(_t.length-1);Pt==="h"&&($e=0),Pt==="v"&&(et=0),oe+=pe($e,et)/Math.PI*180+90}else oe=null}return re=we,ae=ue,ie=ge.i,le=ke.uid,oe}m.getMarkerAngle=me},71984:function(ee,D,e){var M,k,a,T,b=e(21984),g=e(33428).round,s="M0,0Z",t=Math.sqrt(2),i=Math.sqrt(3),r=Math.PI,n=Math.cos,o=Math.sin;function l(d){return d===null}function u(d,c,m){if(!(d&&d%360!=0||c))return m;if(a===d&&T===c&&M===m)return k;function f(R,U){var z=n(R),N=o(R),W=U[0],F=U[1]+(c||0);return[W*z-F*N,W*N+F*z]}a=d,T=c,M=m;for(var p=d/180*r,v=0,y=0,x=b(m),_="",h=0;h<x.length;h++){var S=x[h],w=S[0],E=v,C=y;if(w==="M"||w==="L")v=+S[1],y=+S[2];else if(w==="m"||w==="l")v+=+S[1],y+=+S[2];else if(w==="H")v=+S[1];else if(w==="h")v+=+S[1];else if(w==="V")y=+S[1];else if(w==="v")y+=+S[1];else if(w==="A"){v=+S[1],y=+S[2];var P=f(p,[+S[6],+S[7]]);S[6]=P[0],S[7]=P[1],S[3]=+S[3]+d}w!=="H"&&w!=="V"||(w="L"),w!=="h"&&w!=="v"||(w="l"),w!=="m"&&w!=="l"||(v-=E,y-=C);var O=f(p,[v,y]);w!=="H"&&w!=="V"||(w="L"),w!=="M"&&w!=="L"&&w!=="m"&&w!=="l"||(S[1]=O[0],S[2]=O[1]),S[0]=w,_+=S[0]+S.slice(1).join(",")}return k=_,_}ee.exports={circle:{n:0,f:function(d,c,m){if(l(c))return s;var f=g(d,2),p="M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z";return m?u(c,m,p):p}},square:{n:1,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")}},diamond:{n:2,f:function(d,c,m){if(l(c))return s;var f=g(1.3*d,2);return u(c,m,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"Z")}},cross:{n:3,f:function(d,c,m){if(l(c))return s;var f=g(.4*d,2),p=g(1.2*d,2);return u(c,m,"M"+p+","+f+"H"+f+"V"+p+"H-"+f+"V"+f+"H-"+p+"V-"+f+"H-"+f+"V-"+p+"H"+f+"V-"+f+"H"+p+"Z")}},x:{n:4,f:function(d,c,m){if(l(c))return s;var f=g(.8*d/t,2),p="l"+f+","+f,v="l"+f+",-"+f,y="l-"+f+",-"+f,x="l-"+f+","+f;return u(c,m,"M0,"+f+p+v+y+v+y+x+y+x+p+x+p+"Z")}},"triangle-up":{n:5,f:function(d,c,m){if(l(c))return s;var f=g(2*d/i,2);return u(c,m,"M-"+f+","+g(d/2,2)+"H"+f+"L0,-"+g(d,2)+"Z")}},"triangle-down":{n:6,f:function(d,c,m){if(l(c))return s;var f=g(2*d/i,2);return u(c,m,"M-"+f+",-"+g(d/2,2)+"H"+f+"L0,"+g(d,2)+"Z")}},"triangle-left":{n:7,f:function(d,c,m){if(l(c))return s;var f=g(2*d/i,2);return u(c,m,"M"+g(d/2,2)+",-"+f+"V"+f+"L-"+g(d,2)+",0Z")}},"triangle-right":{n:8,f:function(d,c,m){if(l(c))return s;var f=g(2*d/i,2);return u(c,m,"M-"+g(d/2,2)+",-"+f+"V"+f+"L"+g(d,2)+",0Z")}},"triangle-ne":{n:9,f:function(d,c,m){if(l(c))return s;var f=g(.6*d,2),p=g(1.2*d,2);return u(c,m,"M-"+p+",-"+f+"H"+f+"V"+p+"Z")}},"triangle-se":{n:10,f:function(d,c,m){if(l(c))return s;var f=g(.6*d,2),p=g(1.2*d,2);return u(c,m,"M"+f+",-"+p+"V"+f+"H-"+p+"Z")}},"triangle-sw":{n:11,f:function(d,c,m){if(l(c))return s;var f=g(.6*d,2),p=g(1.2*d,2);return u(c,m,"M"+p+","+f+"H-"+f+"V-"+p+"Z")}},"triangle-nw":{n:12,f:function(d,c,m){if(l(c))return s;var f=g(.6*d,2),p=g(1.2*d,2);return u(c,m,"M-"+f+","+p+"V-"+f+"H"+p+"Z")}},pentagon:{n:13,f:function(d,c,m){if(l(c))return s;var f=g(.951*d,2),p=g(.588*d,2),v=g(-d,2),y=g(-.309*d,2);return u(c,m,"M"+f+","+y+"L"+p+","+g(.809*d,2)+"H-"+p+"L-"+f+","+y+"L0,"+v+"Z")}},hexagon:{n:14,f:function(d,c,m){if(l(c))return s;var f=g(d,2),p=g(d/2,2),v=g(d*i/2,2);return u(c,m,"M"+v+",-"+p+"V"+p+"L0,"+f+"L-"+v+","+p+"V-"+p+"L0,-"+f+"Z")}},hexagon2:{n:15,f:function(d,c,m){if(l(c))return s;var f=g(d,2),p=g(d/2,2),v=g(d*i/2,2);return u(c,m,"M-"+p+","+v+"H"+p+"L"+f+",0L"+p+",-"+v+"H-"+p+"L-"+f+",0Z")}},octagon:{n:16,f:function(d,c,m){if(l(c))return s;var f=g(.924*d,2),p=g(.383*d,2);return u(c,m,"M-"+p+",-"+f+"H"+p+"L"+f+",-"+p+"V"+p+"L"+p+","+f+"H-"+p+"L-"+f+","+p+"V-"+p+"Z")}},star:{n:17,f:function(d,c,m){if(l(c))return s;var f=1.4*d,p=g(.225*f,2),v=g(.951*f,2),y=g(.363*f,2),x=g(.588*f,2),_=g(-f,2),h=g(-.309*f,2),S=g(.118*f,2),w=g(.809*f,2);return u(c,m,"M"+p+","+h+"H"+v+"L"+y+","+S+"L"+x+","+w+"L0,"+g(.382*f,2)+"L-"+x+","+w+"L-"+y+","+S+"L-"+v+","+h+"H-"+p+"L0,"+_+"Z")}},hexagram:{n:18,f:function(d,c,m){if(l(c))return s;var f=g(.66*d,2),p=g(.38*d,2),v=g(.76*d,2);return u(c,m,"M-"+v+",0l-"+p+",-"+f+"h"+v+"l"+p+",-"+f+"l"+p+","+f+"h"+v+"l-"+p+","+f+"l"+p+","+f+"h-"+v+"l-"+p+","+f+"l-"+p+",-"+f+"h-"+v+"Z")}},"star-triangle-up":{n:19,f:function(d,c,m){if(l(c))return s;var f=g(d*i*.8,2),p=g(.8*d,2),v=g(1.6*d,2),y=g(4*d,2),x="A "+y+","+y+" 0 0 1 ";return u(c,m,"M-"+f+","+p+x+f+","+p+x+"0,-"+v+x+"-"+f+","+p+"Z")}},"star-triangle-down":{n:20,f:function(d,c,m){if(l(c))return s;var f=g(d*i*.8,2),p=g(.8*d,2),v=g(1.6*d,2),y=g(4*d,2),x="A "+y+","+y+" 0 0 1 ";return u(c,m,"M"+f+",-"+p+x+"-"+f+",-"+p+x+"0,"+v+x+f+",-"+p+"Z")}},"star-square":{n:21,f:function(d,c,m){if(l(c))return s;var f=g(1.1*d,2),p=g(2*d,2),v="A "+p+","+p+" 0 0 1 ";return u(c,m,"M-"+f+",-"+f+v+"-"+f+","+f+v+f+","+f+v+f+",-"+f+v+"-"+f+",-"+f+"Z")}},"star-diamond":{n:22,f:function(d,c,m){if(l(c))return s;var f=g(1.4*d,2),p=g(1.9*d,2),v="A "+p+","+p+" 0 0 1 ";return u(c,m,"M-"+f+",0"+v+"0,"+f+v+f+",0"+v+"0,-"+f+v+"-"+f+",0Z")}},"diamond-tall":{n:23,f:function(d,c,m){if(l(c))return s;var f=g(.7*d,2),p=g(1.4*d,2);return u(c,m,"M0,"+p+"L"+f+",0L0,-"+p+"L-"+f+",0Z")}},"diamond-wide":{n:24,f:function(d,c,m){if(l(c))return s;var f=g(1.4*d,2),p=g(.7*d,2);return u(c,m,"M0,"+p+"L"+f+",0L0,-"+p+"L-"+f+",0Z")}},hourglass:{n:25,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M"+f+","+f+"H-"+f+"L"+f+",-"+f+"H-"+f+"Z")},noDot:!0},bowtie:{n:26,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M"+f+","+f+"V-"+f+"L-"+f+","+f+"V-"+f+"Z")},noDot:!0},"circle-cross":{n:27,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(d,c,m){if(l(c))return s;var f=g(d,2),p=g(d/t,2);return u(c,m,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(d,c,m){if(l(c))return s;var f=g(1.3*d,2);return u(c,m,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM0,-"+f+"V"+f+"M-"+f+",0H"+f)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(d,c,m){if(l(c))return s;var f=g(1.3*d,2),p=g(.65*d,2);return u(c,m,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM-"+p+",-"+p+"L"+p+","+p+"M-"+p+","+p+"L"+p+",-"+p)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(d,c,m){if(l(c))return s;var f=g(1.4*d,2);return u(c,m,"M0,"+f+"V-"+f+"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(d,c,m){if(l(c))return s;var f=g(1.2*d,2),p=g(.85*d,2);return u(c,m,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(d,c,m){if(l(c))return s;var f=g(d/2,2),p=g(d,2);return u(c,m,"M"+f+","+p+"V-"+p+"M"+(f-p)+",-"+p+"V"+p+"M"+p+","+f+"H-"+p+"M-"+p+","+(f-p)+"H"+p)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(d,c,m){if(l(c))return s;var f=g(1.2*d,2),p=g(1.6*d,2),v=g(.8*d,2);return u(c,m,"M-"+f+","+v+"L0,0M"+f+","+v+"L0,0M0,-"+p+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(d,c,m){if(l(c))return s;var f=g(1.2*d,2),p=g(1.6*d,2),v=g(.8*d,2);return u(c,m,"M-"+f+",-"+v+"L0,0M"+f+",-"+v+"L0,0M0,"+p+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(d,c,m){if(l(c))return s;var f=g(1.2*d,2),p=g(1.6*d,2),v=g(.8*d,2);return u(c,m,"M"+v+","+f+"L0,0M"+v+",-"+f+"L0,0M-"+p+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(d,c,m){if(l(c))return s;var f=g(1.2*d,2),p=g(1.6*d,2),v=g(.8*d,2);return u(c,m,"M-"+v+","+f+"L0,0M-"+v+",-"+f+"L0,0M"+p+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(d,c,m){if(l(c))return s;var f=g(1.4*d,2);return u(c,m,"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(d,c,m){if(l(c))return s;var f=g(1.4*d,2);return u(c,m,"M0,"+f+"V-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M"+f+","+f+"L-"+f+",-"+f)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M0,0L-"+f+","+g(2*d,2)+"H"+f+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M0,0L-"+f+",-"+g(2*d,2)+"H"+f+"Z")},noDot:!0},"arrow-left":{n:47,f:function(d,c,m){if(l(c))return s;var f=g(2*d,2),p=g(d,2);return u(c,m,"M0,0L"+f+",-"+p+"V"+p+"Z")},noDot:!0},"arrow-right":{n:48,f:function(d,c,m){if(l(c))return s;var f=g(2*d,2),p=g(d,2);return u(c,m,"M0,0L-"+f+",-"+p+"V"+p+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M-"+f+",0H"+f+"M0,0L-"+f+","+g(2*d,2)+"H"+f+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(d,c,m){if(l(c))return s;var f=g(d,2);return u(c,m,"M-"+f+",0H"+f+"M0,0L-"+f+",-"+g(2*d,2)+"H"+f+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(d,c,m){if(l(c))return s;var f=g(2*d,2),p=g(d,2);return u(c,m,"M0,-"+p+"V"+p+"M0,0L"+f+",-"+p+"V"+p+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(d,c,m){if(l(c))return s;var f=g(2*d,2),p=g(d,2);return u(c,m,"M0,-"+p+"V"+p+"M0,0L-"+f+",-"+p+"V"+p+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(d,c,m){if(l(c))return s;var f=r/2.5,p=2*d*n(f),v=2*d*o(f);return u(c,m,"M0,0L"+-p+","+v+"L"+p+","+v+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(d,c,m){if(l(c))return s;var f=r/4,p=2*d*n(f),v=2*d*o(f);return u(c,m,"M0,0L"+-p+","+v+"A "+2*d+","+2*d+" 0 0 1 "+p+","+v+"Z")},backoff:.4,noDot:!0}}},97644:function(ee){ee.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(ee,D,e){var M=e(38248),k=e(24040),a=e(54460),T=e(3400),b=e(93792);function g(s,t,i,r){var n=t["error_"+r]||{},o=[];if(n.visible&&["linear","log"].indexOf(i.type)!==-1){for(var l=b(n),u=0;u<s.length;u++){var d=s[u],c=d.i;if(c===void 0)c=u;else if(c===null)continue;var m=d[r];if(M(i.c2l(m))){var f=l(m,c);if(M(f[0])&&M(f[1])){var p=d[r+"s"]=m-f[0],v=d[r+"h"]=m+f[1];o.push(p,v)}}}var y=i._id,x=t._extremes[y],_=a.findExtremes(i,o,T.extendFlat({tozero:x.opts.tozero},{padded:!0}));x.min=x.min.concat(_.min),x.max=x.max.concat(_.max)}}ee.exports=function(s){for(var t=s.calcdata,i=0;i<t.length;i++){var r=t[i],n=r[0].trace;if(n.visible===!0&&k.traceIs(n,"errorBarsOK")){var o=a.getFromId(s,n.xaxis),l=a.getFromId(s,n.yaxis);g(r,n,o,"x"),g(r,n,l,"y")}}}},93792:function(ee){function D(e,M){return e==="percent"?function(k){return Math.abs(k*M/100)}:e==="constant"?function(){return Math.abs(M)}:e==="sqrt"?function(k){return Math.sqrt(Math.abs(k))}:void 0}ee.exports=function(e){var M=e.type,k=e.symmetric;if(M==="data"){var a=e.array||[];if(k)return function(s,t){var i=+a[t];return[i,i]};var T=e.arrayminus||[];return function(s,t){var i=+a[t],r=+T[t];return isNaN(i)&&isNaN(r)?[NaN,NaN]:[r||0,i||0]}}var b=D(M,e.value),g=D(M,e.valueminus);return k||e.valueminus===void 0?function(s){var t=b(s);return[t,t]}:function(s){return[g(s),b(s)]}}},65200:function(ee,D,e){var M=e(38248),k=e(24040),a=e(3400),T=e(31780),b=e(97644);ee.exports=function(g,s,t,i){var r="error_"+i.axis,n=T.newContainer(s,r),o=g[r]||{};function l(m,f){return a.coerce(o,n,b,m,f)}if(l("visible",o.array!==void 0||o.value!==void 0||o.type==="sqrt")!==!1){var u=l("type","array"in o?"data":"percent"),d=!0;u!=="sqrt"&&(d=l("symmetric",!((u==="data"?"arrayminus":"valueminus")in o))),u==="data"?(l("array"),l("traceref"),d||(l("arrayminus"),l("tracerefminus"))):u!=="percent"&&u!=="constant"||(l("value"),d||l("valueminus"));var c="copy_"+i.inherit+"style";i.inherit&&(s["error_"+i.inherit]||{}).visible&&l(c,!(o.color||M(o.thickness)||M(o.width))),i.inherit&&n[c]||(l("color",t),l("thickness"),l("width",k.traceIs(s,"gl3d")?0:4))}}},64968:function(ee,D,e){var M=e(3400),k=e(67824).overrideAll,a=e(97644),T={error_x:M.extendFlat({},a),error_y:M.extendFlat({},a)};delete T.error_x.copy_zstyle,delete T.error_y.copy_zstyle,delete T.error_y.copy_ystyle;var b={error_x:M.extendFlat({},a),error_y:M.extendFlat({},a),error_z:M.extendFlat({},a)};delete b.error_x.copy_ystyle,delete b.error_y.copy_ystyle,delete b.error_z.copy_ystyle,delete b.error_z.copy_zstyle,ee.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:T,bar:T,histogram:T,scatter3d:k(b,"calc","nested"),scattergl:k(T,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:function(g,s,t){(s.error_y||{}).visible&&(t.yerr=g.yh-g.y,s.error_y.symmetric||(t.yerrneg=g.y-g.ys)),(s.error_x||{}).visible&&(t.xerr=g.xh-g.x,s.error_x.symmetric||(t.xerrneg=g.x-g.xs))}}},78512:function(ee,D,e){var M=e(33428),k=e(38248),a=e(43616),T=e(43028);ee.exports=function(b,g,s,t){var i=s.xaxis,r=s.yaxis,n=t&&t.duration>0,o=b._context.staticPlot;g.each(function(l){var u,d=l[0].trace,c=d.error_x||{},m=d.error_y||{};d.ids&&(u=function(y){return y.id});var f=T.hasMarkers(d)&&d.marker.maxdisplayed>0;m.visible||c.visible||(l=[]);var p=M.select(this).selectAll("g.errorbar").data(l,u);if(p.exit().remove(),l.length){c.visible||p.selectAll("path.xerror").remove(),m.visible||p.selectAll("path.yerror").remove(),p.style("opacity",1);var v=p.enter().append("g").classed("errorbar",!0);n&&v.style("opacity",0).transition().duration(t.duration).style("opacity",1),a.setClipUrl(p,s.layerClipId,b),p.each(function(y){var x=M.select(this),_=function(P,O,R){var U={x:O.c2p(P.x),y:R.c2p(P.y)};return P.yh!==void 0&&(U.yh=R.c2p(P.yh),U.ys=R.c2p(P.ys),k(U.ys)||(U.noYS=!0,U.ys=R.c2p(P.ys,!0))),P.xh!==void 0&&(U.xh=O.c2p(P.xh),U.xs=O.c2p(P.xs),k(U.xs)||(U.noXS=!0,U.xs=O.c2p(P.xs,!0))),U}(y,i,r);if(!f||y.vis){var h,S=x.select("path.yerror");if(m.visible&&k(_.x)&&k(_.yh)&&k(_.ys)){var w=m.width;h="M"+(_.x-w)+","+_.yh+"h"+2*w+"m-"+w+",0V"+_.ys,_.noYS||(h+="m-"+w+",0h"+2*w),S.size()?n&&(S=S.transition().duration(t.duration).ease(t.easing)):S=x.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",h)}else S.remove();var E=x.select("path.xerror");if(c.visible&&k(_.y)&&k(_.xh)&&k(_.xs)){var C=(c.copy_ystyle?m:c).width;h="M"+_.xh+","+(_.y-C)+"v"+2*C+"m0,-"+C+"H"+_.xs,_.noXS||(h+="m0,-"+C+"v"+2*C),E.size()?n&&(E=E.transition().duration(t.duration).ease(t.easing)):E=x.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("xerror",!0),E.attr("d",h)}else E.remove()}})}})}},92036:function(ee,D,e){var M=e(33428),k=e(76308);ee.exports=function(a){a.each(function(T){var b=T[0].trace,g=b.error_y||{},s=b.error_x||{},t=M.select(this);t.selectAll("path.yerror").style("stroke-width",g.thickness+"px").call(k.stroke,g.color),s.copy_ystyle&&(s=g),t.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(k.stroke,s.color)})}},55756:function(ee,D,e){var M=e(25376),k=e(65460).hoverlabel,a=e(92880).extendFlat;ee.exports={hoverlabel:{bgcolor:a({},k.bgcolor,{arrayOk:!0}),bordercolor:a({},k.bordercolor,{arrayOk:!0}),font:M({arrayOk:!0,editType:"none"}),align:a({},k.align,{arrayOk:!0}),namelength:a({},k.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(ee,D,e){var M=e(3400),k=e(24040);function a(T,b,g,s){s=s||M.identity,Array.isArray(T)&&(b[0][g]=s(T))}ee.exports=function(T){var b=T.calcdata,g=T._fullLayout;function s(o){return function(l){return M.coerceHoverinfo({hoverinfo:l},{_module:o._module},g)}}for(var t=0;t<b.length;t++){var i=b[t],r=i[0].trace;if(!k.traceIs(r,"pie-like")){var n=k.traceIs(r,"2dMap")?a:M.fillArray;n(r.hoverinfo,i,"hi",s(r)),r.hovertemplate&&n(r.hovertemplate,i,"ht"),r.hoverlabel&&(n(r.hoverlabel.bgcolor,i,"hbg"),n(r.hoverlabel.bordercolor,i,"hbc"),n(r.hoverlabel.font.size,i,"hts"),n(r.hoverlabel.font.color,i,"htc"),n(r.hoverlabel.font.family,i,"htf"),n(r.hoverlabel.namelength,i,"hnl"),n(r.hoverlabel.align,i,"hta"))}}}},62376:function(ee,D,e){var M=e(24040),k=e(83292).hover;ee.exports=function(a,T,b){var g=M.getComponentMethod("annotations","onClick")(a,a._hoverdata);function s(){a.emit("plotly_click",{points:a._hoverdata,event:T})}b!==void 0&&k(a,T,b,!0),a._hoverdata&&T&&T.target&&(g&&g.then?g.then(s):s(),T.stopImmediatePropagation&&T.stopImmediatePropagation())}},92456:function(ee){ee.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(ee,D,e){var M=e(3400),k=e(55756),a=e(16132);ee.exports=function(T,b,g,s){var t=M.extendFlat({},s.hoverlabel);b.hovertemplate&&(t.namelength=-1),a(T,b,function(i,r){return M.coerce(T,b,k,i,r)},t)}},10624:function(ee,D,e){var M=e(3400);D.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},D.isTraceInSubplots=function(s,t){if(s.type==="splom"){for(var i=s.xaxes||[],r=s.yaxes||[],n=0;n<i.length;n++)for(var o=0;o<r.length;o++)if(t.indexOf(i[n]+r[o])!==-1)return!0;return!1}return t.indexOf(D.getSubplot(s))!==-1},D.flat=function(s,t){for(var i=new Array(s.length),r=0;r<s.length;r++)i[r]=t;return i},D.p2c=function(s,t){for(var i=new Array(s.length),r=0;r<s.length;r++)i[r]=s[r].p2c(t);return i},D.getDistanceFunction=function(s,t,i,r){return s==="closest"?r||D.quadrature(t,i):s.charAt(0)==="x"?t:i},D.getClosest=function(s,t,i){if(i.index!==!1)i.index>=0&&i.index<s.length?i.distance=0:i.index=!1;else for(var r=0;r<s.length;r++){var n=t(s[r]);n<=i.distance&&(i.index=r,i.distance=n)}return i},D.inbox=function(s,t,i){return s*t<0||s===0?i:1/0},D.quadrature=function(s,t){return function(i){var r=s(i),n=t(i);return Math.sqrt(r*r+n*n)}},D.makeEventData=function(s,t,i){var r="index"in s?s.index:s.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:r};if(t._indexToPoints){var o=t._indexToPoints[r];o.length===1?n.pointIndex=o[0]:n.pointIndices=o}else n.pointIndex=r;return t._module.eventData?n=t._module.eventData(n,s,t,i,r):("xVal"in s?n.x=s.xVal:"x"in s&&(n.x=s.x),"yVal"in s?n.y=s.yVal:"y"in s&&(n.y=s.y),s.xa&&(n.xaxis=s.xa),s.ya&&(n.yaxis=s.ya),s.zLabelVal!==void 0&&(n.z=s.zLabelVal)),D.appendArrayPointValue(n,t,r),n},D.appendArrayPointValue=function(s,t,i){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var o=r[n],l=a(o);if(s[l]===void 0){var u=T(M.nestedProperty(t,o).get(),i);u!==void 0&&(s[l]=u)}}},D.appendArrayMultiPointValues=function(s,t,i){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var o=r[n],l=a(o);if(s[l]===void 0){for(var u=M.nestedProperty(t,o).get(),d=new Array(i.length),c=0;c<i.length;c++)d[c]=T(u,i[c]);s[l]=d}}};var k={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(s){return k[s]||s}function T(s,t){return Array.isArray(t)?Array.isArray(s)&&Array.isArray(s[t[0]])?s[t[0]][t[1]]:void 0:s[t]}var b={x:!0,y:!0},g={"x unified":!0,"y unified":!0};D.isUnifiedHover=function(s){return typeof s=="string"&&!!g[s]},D.isXYhover=function(s){return typeof s=="string"&&!!b[s]}},83292:function(ee,D,e){var M=e(33428),k=e(38248),a=e(49760),T=e(3400),b=T.strTranslate,g=T.strRotate,s=e(95924),t=e(72736),i=e(72213),r=e(43616),n=e(76308),o=e(86476),l=e(54460),u=e(24040),d=e(10624),c=e(92456),m=e(77864),f=e(31140),p=c.YANGLE,v=Math.PI*p/180,y=1/Math.sin(v),x=Math.cos(v),_=Math.sin(v),h=c.HOVERARROWSIZE,S=c.HOVERTEXTPAD,w={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function C(Z){return[Z.trace.index,Z.index,Z.x0,Z.y0,Z.name,Z.attr,Z.xa?Z.xa._id:"",Z.ya?Z.ya._id:""].join(",")}D.hover=function(Z,X,Q,re){Z=T.getGraphDiv(Z);var ae=X.target;T.throttle(Z._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){(function(ie,le,pe,de,ve){pe||(pe="xy");var be=Array.isArray(pe)?pe:[pe],me=ie._fullLayout,ge=me._plots||[],ke=ge[pe],we=me._has("cartesian");if(ke){var ue=ke.overlays.map(function(Bt){return Bt.id});be=be.concat(ue)}for(var oe=be.length,he=new Array(oe),Ee=new Array(oe),Te=!1,Me=0;Me<oe;Me++){var Se=be[Me];if(ge[Se])Te=!0,he[Me]=ge[Se].xaxis,Ee[Me]=ge[Se].yaxis;else{if(!me[Se]||!me[Se]._subplot)return void T.warn("Unrecognized subplot: "+Se);var ze=me[Se]._subplot;he[Me]=ze.xaxis,Ee[Me]=ze.yaxis}}var fe=le.hovermode||me.hovermode;if(fe&&!Te&&(fe="closest"),["x","y","closest","x unified","y unified"].indexOf(fe)===-1||!ie.calcdata||ie.querySelector(".zoombox")||ie._dragging)return o.unhoverRaw(ie,le);var xe=me.hoverdistance;xe===-1&&(xe=1/0);var _e=me.spikedistance;_e===-1&&(_e=1/0);var Oe,De,Pe,Ue,Ve,Xe,it,tt,pt,mt,gt,et,$e,_t=[],Pt=[],Ot={hLinePoint:null,vLinePoint:null},Lt=!1;if(Array.isArray(le))for(fe="array",Pe=0;Pe<le.length;Pe++)(Ve=ie.calcdata[le[Pe].curveNumber||0])&&(Xe=Ve[0].trace,Ve[0].trace.hoverinfo!=="skip"&&(Pt.push(Ve),Xe.orientation==="h"&&(Lt=!0)));else{for(Ue=0;Ue<ie.calcdata.length;Ue++)Ve=ie.calcdata[Ue],(Xe=Ve[0].trace).hoverinfo!=="skip"&&d.isTraceInSubplots(Xe,be)&&(Pt.push(Ve),Xe.orientation==="h"&&(Lt=!0));var He,We;if(ve){if(s.triggerHandler(ie,"plotly_beforehover",le)===!1)return;var Be=ve.getBoundingClientRect();He=le.clientX-Be.left,We=le.clientY-Be.top,me._calcInverseTransform(ie);var Ge=T.apply3DTransform(me._invTransform)(He,We);if(He=Ge[0],We=Ge[1],He<0||He>he[0]._length||We<0||We>Ee[0]._length)return o.unhoverRaw(ie,le)}else He="xpx"in le?le.xpx:he[0]._length/2,We="ypx"in le?le.ypx:Ee[0]._length/2;if(le.pointerX=He+he[0]._offset,le.pointerY=We+Ee[0]._offset,Oe="xval"in le?d.flat(be,le.xval):d.p2c(he,He),De="yval"in le?d.flat(be,le.yval):d.p2c(Ee,We),!k(Oe[0])||!k(De[0]))return T.warn("Fx.hover failed",le,ie),o.unhoverRaw(ie,le)}var at=1/0;function nt(Bt,Qt){for(Ue=0;Ue<Pt.length;Ue++)if((Ve=Pt[Ue])&&Ve[0]&&Ve[0].trace&&(Xe=Ve[0].trace).visible===!0&&Xe._length!==0&&["carpet","contourcarpet"].indexOf(Xe._module.name)===-1){if(Xe.type==="splom"?it=be[tt=0]:(it=d.getSubplot(Xe),tt=be.indexOf(it)),pt=fe,d.isUnifiedHover(pt)&&(pt=pt.charAt(0)),et={cd:Ve,trace:Xe,xa:he[tt],ya:Ee[tt],maxHoverDistance:xe,maxSpikeDistance:_e,index:!1,distance:Math.min(at,xe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Xe.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},me[it]&&(et.subplot=me[it]._subplot),me._splomScenes&&me._splomScenes[Xe.uid]&&(et.scene=me._splomScenes[Xe.uid]),$e=_t.length,pt==="array"){var vn=le[Ue];"pointNumber"in vn?(et.index=vn.pointNumber,pt="closest"):(pt="","xval"in vn&&(mt=vn.xval,pt="x"),"yval"in vn&&(gt=vn.yval,pt=pt?"closest":"y"))}else Bt!==void 0&&Qt!==void 0?(mt=Bt,gt=Qt):(mt=Oe[tt],gt=De[tt]);if(xe!==0)if(Xe._module&&Xe._module.hoverPoints){var fn=Xe._module.hoverPoints(et,mt,gt,pt,{finiteRange:!0,hoverLayer:me._hoverlayer});if(fn)for(var Tn,jn=0;jn<fn.length;jn++)Tn=fn[jn],k(Tn.x0)&&k(Tn.y0)&&_t.push(N(Tn,fe))}else T.log("Unrecognized trace type in hover:",Xe);if(fe==="closest"&&_t.length>$e&&(_t.splice(0,$e),at=_t[0].distance),we&&_e!==0&&_t.length===0){et.distance=_e,et.index=!1;var On=Xe._module.hoverPoints(et,mt,gt,"closest",{hoverLayer:me._hoverlayer});if(On&&(On=On.filter(function(Ht){return Ht.spikeDistance<=_e})),On&&On.length){var Dn,$n=On.filter(function(Ht){return Ht.xa.showspikes&&Ht.xa.spikesnap!=="hovered data"});if($n.length){var qt=$n[0];k(qt.x0)&&k(qt.y0)&&(Dn=Fe(qt),(!Ot.vLinePoint||Ot.vLinePoint.spikeDistance>Dn.spikeDistance)&&(Ot.vLinePoint=Dn))}var hn=On.filter(function(Ht){return Ht.ya.showspikes&&Ht.ya.spikesnap!=="hovered data"});if(hn.length){var Et=hn[0];k(Et.x0)&&k(Et.y0)&&(Dn=Fe(Et),(!Ot.hLinePoint||Ot.hLinePoint.spikeDistance>Dn.spikeDistance)&&(Ot.hLinePoint=Dn))}}}}}function Re(Bt,Qt,vn){for(var fn,Tn=null,jn=1/0,On=0;On<Bt.length;On++)fn=Bt[On].spikeDistance,vn&&On===0&&(fn=-1/0),fn<=jn&&fn<=Qt&&(Tn=Bt[On],jn=fn);return Tn}function Fe(Bt){return Bt?{xa:Bt.xa,ya:Bt.ya,x:Bt.xSpike!==void 0?Bt.xSpike:(Bt.x0+Bt.x1)/2,y:Bt.ySpike!==void 0?Bt.ySpike:(Bt.y0+Bt.y1)/2,distance:Bt.distance,spikeDistance:Bt.spikeDistance,curveNumber:Bt.trace.index,color:Bt.color,pointNumber:Bt.index}:null}nt();var rt={fullLayout:me,container:me._hoverlayer,event:le},Ye=ie._spikepoints,ct={vLinePoint:Ot.vLinePoint,hLinePoint:Ot.hLinePoint};ie._spikepoints=ct;var ht=function(){_t.sort(function(Bt,Qt){return Bt.distance-Qt.distance}),_t=function(Bt,Qt){for(var vn=Qt.charAt(0),fn=[],Tn=[],jn=[],On=0;On<Bt.length;On++){var Dn=Bt[On];u.traceIs(Dn.trace,"bar-like")||u.traceIs(Dn.trace,"box-violin")?jn.push(Dn):Dn.trace[vn+"period"]?Tn.push(Dn):fn.push(Dn)}return fn.concat(Tn).concat(jn)}(_t,fe)};ht();var dt=fe.charAt(0),ut=(dt==="x"||dt==="y")&&_t[0]&&E[_t[0].trace.type];if(we&&_e!==0&&_t.length!==0){var kt=Re(_t.filter(function(Bt){return Bt.ya.showspikes}),_e,ut);Ot.hLinePoint=Fe(kt);var xt=Re(_t.filter(function(Bt){return Bt.xa.showspikes}),_e,ut);Ot.vLinePoint=Fe(xt)}if(_t.length===0){var vt=o.unhoverRaw(ie,le);return!we||Ot.hLinePoint===null&&Ot.vLinePoint===null||F(Ye)&&W(ie,Ot,rt),vt}if(we&&F(Ye)&&W(ie,Ot,rt),d.isXYhover(pt)&&_t[0].length!==0&&_t[0].trace.type!=="splom"){var Mt=_t[0],St=(_t=w[Mt.trace.type]?_t.filter(function(Bt){return Bt.trace.index===Mt.trace.index}):[Mt]).length;nt(j("x",Mt,me),j("y",Mt,me));var It,Gt=[],en={},Nt=0,jt=function(Bt){var Qt=w[Bt.trace.type]?C(Bt):Bt.trace.index;if(en[Qt]){var vn=en[Qt]-1,fn=Gt[vn];vn>0&&Math.abs(Bt.distance)<Math.abs(fn.distance)&&(Gt[vn]=Bt)}else Nt++,en[Qt]=Nt,Gt.push(Bt)};for(It=0;It<St;It++)jt(_t[It]);for(It=_t.length-1;It>St-1;It--)jt(_t[It]);_t=Gt,ht()}var Jt=ie._hoverdata,An=[],_n=te(ie),un=J(ie);for(Pe=0;Pe<_t.length;Pe++){var Wt=_t[Pe],rn=d.makeEventData(Wt,Wt.trace,Wt.cd);if(Wt.hovertemplate!==!1){var $t=!1;Wt.cd[Wt.index]&&Wt.cd[Wt.index].ht&&($t=Wt.cd[Wt.index].ht),Wt.hovertemplate=$t||Wt.trace.hovertemplate||!1}if(Wt.xa&&Wt.ya){var sn=Wt.x0+Wt.xa._offset,xn=Wt.x1+Wt.xa._offset,wn=Wt.y0+Wt.ya._offset,Pn=Wt.y1+Wt.ya._offset,Cn=Math.min(sn,xn),Sn=Math.max(sn,xn),Nn=Math.min(wn,Pn),zn=Math.max(wn,Pn);rn.bbox={x0:Cn+un,x1:Sn+un,y0:Nn+_n,y1:zn+_n}}Wt.eventData=[rn],An.push(rn)}ie._hoverdata=An;var er=fe==="y"&&(Pt.length>1||_t.length>1)||fe==="closest"&&Lt&&_t.length>1,nr=n.combine(me.plot_bgcolor||n.background,me.paper_bgcolor),ir=O(_t,{gd:ie,hovermode:fe,rotateLabels:er,bgColor:nr,container:me._hoverlayer,outerContainer:me._paper.node(),commonLabelOpts:me.hoverlabel,hoverdistance:me.hoverdistance}),Yn=ir.hoverLabels;if(d.isUnifiedHover(fe)||(function(Bt,Qt,vn,fn){var Tn,jn,On,Dn,$n,qt,hn,Et=Qt?"xa":"ya",Ht=Qt?"ya":"xa",Kt=0,gn=1,pn=Bt.size(),yn=new Array(pn),on=0,Zt=fn.minX,Xt=fn.maxX,nn=fn.minY,ln=fn.maxY,kn=function(ar){return ar*vn._invScaleX},En=function(ar){return ar*vn._invScaleY};function Fn(ar){var lr=ar[0],tr=ar[ar.length-1];if(jn=lr.pmin-lr.pos-lr.dp+lr.size,On=tr.pos+tr.dp+tr.size-lr.pmax,jn>.01){for($n=ar.length-1;$n>=0;$n--)ar[$n].dp+=jn;Tn=!1}if(!(On<.01)){if(jn<-.01){for($n=ar.length-1;$n>=0;$n--)ar[$n].dp-=On;Tn=!1}if(Tn){var pr=0;for(Dn=0;Dn<ar.length;Dn++)(qt=ar[Dn]).pos+qt.dp+qt.size>lr.pmax&&pr++;for(Dn=ar.length-1;Dn>=0&&!(pr<=0);Dn--)(qt=ar[Dn]).pos>lr.pmax-1&&(qt.del=!0,pr--);for(Dn=0;Dn<ar.length&&!(pr<=0);Dn++)if((qt=ar[Dn]).pos<lr.pmin+1)for(qt.del=!0,pr--,On=2*qt.size,$n=ar.length-1;$n>=0;$n--)ar[$n].dp-=On;for(Dn=ar.length-1;Dn>=0&&!(pr<=0);Dn--)(qt=ar[Dn]).pos+qt.dp+qt.size>lr.pmax&&(qt.del=!0,pr--)}}}for(Bt.each(function(ar){var lr=ar[Et],tr=ar[Ht],pr=lr._id.charAt(0)==="x",_r=lr.range;on===0&&_r&&_r[0]>_r[1]!==pr&&(gn=-1);var Or=0,ri=pr?vn.width:vn.height;if(vn.hovermode==="x"||vn.hovermode==="y"){var ai,Pi,ei=U(ar,Qt),Ti=ar.anchor,ra=Ti==="end"?-1:1;if(Ti==="middle")Pi=(ai=ar.crossPos+(pr?En(ei.y-ar.by/2):kn(ar.bx/2+ar.tx2width/2)))+(pr?En(ar.by):kn(ar.bx));else if(pr)Pi=(ai=ar.crossPos+En(h+ei.y)-En(ar.by/2-h))+En(ar.by);else{var ia=kn(ra*h+ei.x),Bo=ia+kn(ra*ar.bx);ai=ar.crossPos+Math.min(ia,Bo),Pi=ar.crossPos+Math.max(ia,Bo)}pr?nn!==void 0&&ln!==void 0&&Math.min(Pi,ln)-Math.max(ai,nn)>1&&(tr.side==="left"?(Or=tr._mainLinePosition,ri=vn.width):ri=tr._mainLinePosition):Zt!==void 0&&Xt!==void 0&&Math.min(Pi,Xt)-Math.max(ai,Zt)>1&&(tr.side==="top"?(Or=tr._mainLinePosition,ri=vn.height):ri=tr._mainLinePosition)}yn[on++]=[{datum:ar,traceIndex:ar.trace.index,dp:0,pos:ar.pos,posref:ar.posref,size:ar.by*(pr?y:1)/2,pmin:Or,pmax:ri}]}),yn.sort(function(ar,lr){return ar[0].posref-lr[0].posref||gn*(lr[0].traceIndex-ar[0].traceIndex)});!Tn&&Kt<=pn;){for(Kt++,Tn=!0,Dn=0;Dn<yn.length-1;){var Bn=yn[Dn],Zn=yn[Dn+1],Vn=Bn[Bn.length-1],Xn=Zn[0];if((jn=Vn.pos+Vn.dp+Vn.size-Xn.pos-Xn.dp+Xn.size)>.01&&Vn.pmin===Xn.pmin&&Vn.pmax===Xn.pmax){for($n=Zn.length-1;$n>=0;$n--)Zn[$n].dp+=jn;for(Bn.push.apply(Bn,Zn),yn.splice(Dn+1,1),hn=0,$n=Bn.length-1;$n>=0;$n--)hn+=Bn[$n].dp;for(On=hn/Bn.length,$n=Bn.length-1;$n>=0;$n--)Bn[$n].dp-=On;Tn=!1}else Dn++}yn.forEach(Fn)}for(Dn=yn.length-1;Dn>=0;Dn--){var Kn=yn[Dn];for($n=Kn.length-1;$n>=0;$n--){var Wn=Kn[$n],fr=Wn.datum;fr.offset=Wn.dp,fr.del=Wn.del}}}(Yn,er,me,ir.commonLabelBoundingBox),z(Yn,er,me._invScaleX,me._invScaleY)),ve&&ve.tagName){var mr=u.getComponentMethod("annotations","hasClickToShow")(ie,An);i(M.select(ve),mr?"pointer":"")}ve&&!de&&function(Bt,Qt,vn){if(!vn||vn.length!==Bt._hoverdata.length)return!0;for(var fn=vn.length-1;fn>=0;fn--){var Tn=vn[fn],jn=Bt._hoverdata[fn];if(Tn.curveNumber!==jn.curveNumber||String(Tn.pointNumber)!==String(jn.pointNumber)||String(Tn.pointNumbers)!==String(jn.pointNumbers))return!0}return!1}(ie,0,Jt)&&(Jt&&ie.emit("plotly_unhover",{event:le,points:Jt}),ie.emit("plotly_hover",{event:le,points:ie._hoverdata,xaxes:he,yaxes:Ee,xvals:Oe,yvals:De}))})(Z,X,Q,re,ae)})},D.loneHover=function(Z,X){var Q=!0;Array.isArray(Z)||(Q=!1,Z=[Z]);var re=X.gd,ae=te(re),ie=J(re),le=O(Z.map(function(ve){var be=ve._x0||ve.x0||ve.x||0,me=ve._x1||ve.x1||ve.x||0,ge=ve._y0||ve.y0||ve.y||0,ke=ve._y1||ve.y1||ve.y||0,we=ve.eventData;if(we){var ue=Math.min(be,me),oe=Math.max(be,me),he=Math.min(ge,ke),Ee=Math.max(ge,ke),Te=ve.trace;if(u.traceIs(Te,"gl3d")){var Me=re._fullLayout[Te.scene]._scene.container,Se=Me.offsetLeft,ze=Me.offsetTop;ue+=Se,oe+=Se,he+=ze,Ee+=ze}we.bbox={x0:ue+ie,x1:oe+ie,y0:he+ae,y1:Ee+ae},X.inOut_bbox&&X.inOut_bbox.push(we.bbox)}else we=!1;return{color:ve.color||n.defaultLine,x0:ve.x0||ve.x||0,x1:ve.x1||ve.x||0,y0:ve.y0||ve.y||0,y1:ve.y1||ve.y||0,xLabel:ve.xLabel,yLabel:ve.yLabel,zLabel:ve.zLabel,text:ve.text,name:ve.name,idealAlign:ve.idealAlign,borderColor:ve.borderColor,fontFamily:ve.fontFamily,fontSize:ve.fontSize,fontColor:ve.fontColor,nameLength:ve.nameLength,textAlign:ve.textAlign,trace:ve.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ve.hovertemplate||!1,hovertemplateLabels:ve.hovertemplateLabels||!1,eventData:we}}),{gd:re,hovermode:"closest",rotateLabels:!1,bgColor:X.bgColor||n.background,container:M.select(X.container),outerContainer:X.outerContainer||X.container}).hoverLabels,pe=0,de=0;return le.sort(function(ve,be){return ve.y0-be.y0}).each(function(ve,be){var me=ve.y0-ve.by/2;ve.offset=me-5<pe?pe-me+5:0,pe=me+ve.by+ve.offset,be===X.anchorIndex&&(de=ve.offset)}).each(function(ve){ve.offset-=de}),z(le,!1,re._fullLayout._invScaleX,re._fullLayout._invScaleY),Q?le:le.node()};var P=/<extra>([\s\S]*)<\/extra>/;function O(Z,X){var Q=X.gd,re=Q._fullLayout,ae=X.hovermode,ie=X.rotateLabels,le=X.bgColor,pe=X.container,de=X.outerContainer,ve=X.commonLabelOpts||{};if(Z.length===0)return[[]];var be=X.fontFamily||c.HOVERFONT,me=X.fontSize||c.HOVERFONTSIZE,ge=Z[0],ke=ge.xa,we=ge.ya,ue=ae.charAt(0),oe=ue+"Label",he=ge[oe];if(he===void 0&&ke.type==="multicategory")for(var Ee=0;Ee<Z.length&&(he=Z[Ee][oe])===void 0;Ee++);var Te=K(Q,de),Me=Te.top,Se=Te.width,ze=Te.height,fe=he!==void 0&&ge.distance<=X.hoverdistance&&(ae==="x"||ae==="y");if(fe){var xe,_e,Oe=!0;for(xe=0;xe<Z.length;xe++)if(Oe&&Z[xe].zLabel===void 0&&(Oe=!1),_e=Z[xe].hoverinfo||Z[xe].trace.hoverinfo){var De=Array.isArray(_e)?_e:_e.split("+");if(De.indexOf("all")===-1&&De.indexOf(ae)===-1){fe=!1;break}}Oe&&(fe=!1)}var Pe=pe.selectAll("g.axistext").data(fe?[0]:[]);Pe.enter().append("g").classed("axistext",!0),Pe.exit().remove();var Ue={minX:0,maxX:0,minY:0,maxY:0};if(Pe.each(function(){var vt=M.select(this),Mt=T.ensureSingle(vt,"path","",function(zn){zn.style({"stroke-width":"1px"})}),St=T.ensureSingle(vt,"text","",function(zn){zn.attr("data-notex",1)}),It=ve.bgcolor||n.defaultLine,Gt=ve.bordercolor||n.contrast(It),en=n.contrast(It),Nt={family:ve.font.family||be,size:ve.font.size||me,color:ve.font.color||en};Mt.style({fill:It,stroke:Gt}),St.text(he).call(r.font,Nt).call(t.positionText,0,0).call(t.convertToTspans,Q),vt.attr("transform","");var jt,Jt,An=K(Q,St.node());if(ae==="x"){var _n=ke.side==="top"?"-":"";St.attr("text-anchor","middle").call(t.positionText,0,ke.side==="top"?Me-An.bottom-h-S:Me-An.top+h+S),jt=ke._offset+(ge.x0+ge.x1)/2,Jt=we._offset+(ke.side==="top"?0:we._length);var un=An.width/2+S,Wt=jt;jt<un?Wt=un:jt>re.width-un&&(Wt=re.width-un),Mt.attr("d","M"+(jt-Wt)+",0L"+(jt-Wt+h)+","+_n+h+"H"+un+"v"+_n+(2*S+An.height)+"H"+-un+"V"+_n+h+"H"+(jt-Wt-h)+"Z"),jt=Wt,Ue.minX=jt-un,Ue.maxX=jt+un,ke.side==="top"?(Ue.minY=Jt-(2*S+An.height),Ue.maxY=Jt-S):(Ue.minY=Jt+S,Ue.maxY=Jt+(2*S+An.height))}else{var rn,$t,sn;we.side==="right"?(rn="start",$t=1,sn="",jt=ke._offset+ke._length):(rn="end",$t=-1,sn="-",jt=ke._offset),Jt=we._offset+(ge.y0+ge.y1)/2,St.attr("text-anchor",rn),Mt.attr("d","M0,0L"+sn+h+","+h+"V"+(S+An.height/2)+"h"+sn+(2*S+An.width)+"V-"+(S+An.height/2)+"H"+sn+h+"V-"+h+"Z"),Ue.minY=Jt-(S+An.height/2),Ue.maxY=Jt+(S+An.height/2),we.side==="right"?(Ue.minX=jt+h,Ue.maxX=jt+h+(2*S+An.width)):(Ue.minX=jt-h-(2*S+An.width),Ue.maxX=jt-h);var xn,wn=An.height/2,Pn=Me-An.top-wn,Cn="clip"+re._uid+"commonlabel"+we._id;if(jt<An.width+2*S+h){xn="M-"+(h+S)+"-"+wn+"h-"+(An.width-S)+"V"+wn+"h"+(An.width-S)+"Z";var Sn=An.width-jt+S;t.positionText(St,Sn,Pn),rn==="end"&&St.selectAll("tspan").each(function(){var zn=M.select(this),er=r.tester.append("text").text(zn.text()).call(r.font,Nt),nr=K(Q,er.node());Math.round(nr.width)<Math.round(An.width)&&zn.attr("x",Sn-nr.width),er.remove()})}else t.positionText(St,$t*(S+h),Pn),xn=null;var Nn=re._topclips.selectAll("#"+Cn).data(xn?[0]:[]);Nn.enter().append("clipPath").attr("id",Cn).append("path"),Nn.exit().remove(),Nn.select("path").attr("d",xn),r.setClipUrl(St,xn?Cn:null,Q)}vt.attr("transform",b(jt,Jt))}),d.isUnifiedHover(ae)){pe.selectAll("g.hovertext").remove();var Ve=Z.filter(function(vt){return vt.hoverinfo!=="none"});if(Ve.length===0)return[];var Xe=re.hoverlabel,it=Xe.font,tt={showlegend:!0,legend:{title:{text:he,font:it},font:it,bgcolor:Xe.bgcolor,bordercolor:Xe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:re.legend?re.legend.traceorder:void 0,orientation:"v"}},pt={font:it};m(tt,pt,Q._fullData);var mt=pt.legend;mt.entries=[];for(var gt=0;gt<Ve.length;gt++){var et=Ve[gt];if(et.hoverinfo!=="none"){var $e=R(et,!0,ae,re,he),_t=$e[0],Pt=$e[1];et.name=Pt,et.text=Pt!==""?Pt+" : "+_t:_t;var Ot=et.cd[et.index];Ot&&(Ot.mc&&(et.mc=Ot.mc),Ot.mcc&&(et.mc=Ot.mcc),Ot.mlc&&(et.mlc=Ot.mlc),Ot.mlcc&&(et.mlc=Ot.mlcc),Ot.mlw&&(et.mlw=Ot.mlw),Ot.mrc&&(et.mrc=Ot.mrc),Ot.dir&&(et.dir=Ot.dir)),et._distinct=!0,mt.entries.push([et])}}mt.entries.sort(function(vt,Mt){return vt[0].trace.index-Mt[0].trace.index}),mt.layer=pe,mt._inHover=!0,mt._groupTitleFont=Xe.grouptitlefont,f(Q,mt);var Lt,He,We,Be,Ge=pe.select("g.legend"),at=K(Q,Ge.node()),nt=at.width+2*S,Re=at.height+2*S,Fe=Ve[0],rt=(Fe.x0+Fe.x1)/2,Ye=(Fe.y0+Fe.y1)/2,ct=!(u.traceIs(Fe.trace,"bar-like")||u.traceIs(Fe.trace,"box-violin"));ue==="y"?ct?(He=Ye-S,Lt=Ye+S):(He=Math.min.apply(null,Ve.map(function(vt){return Math.min(vt.y0,vt.y1)})),Lt=Math.max.apply(null,Ve.map(function(vt){return Math.max(vt.y0,vt.y1)}))):He=Lt=T.mean(Ve.map(function(vt){return(vt.y0+vt.y1)/2}))-Re/2,ue==="x"?ct?(We=rt+S,Be=rt-S):(We=Math.max.apply(null,Ve.map(function(vt){return Math.max(vt.x0,vt.x1)})),Be=Math.min.apply(null,Ve.map(function(vt){return Math.min(vt.x0,vt.x1)}))):We=Be=T.mean(Ve.map(function(vt){return(vt.x0+vt.x1)/2}))-nt/2;var ht,dt,ut=ke._offset,kt=we._offset;return Be+=ut-nt,He+=kt-Re,ht=(We+=ut)+nt<Se&&We>=0?We:Be+nt<Se&&Be>=0?Be:ut+nt<Se?ut:We-rt<rt-Be+nt?Se-nt:0,ht+=S,dt=(Lt+=kt)+Re<ze&&Lt>=0?Lt:He+Re<ze&&He>=0?He:kt+Re<ze?kt:Lt-Ye<Ye-He+Re?ze-Re:0,dt+=S,Ge.attr("transform",b(ht-1,dt-1)),Ge}var xt=pe.selectAll("g.hovertext").data(Z,function(vt){return C(vt)});return xt.enter().append("g").classed("hovertext",!0).each(function(){var vt=M.select(this);vt.append("rect").call(n.fill,n.addOpacity(le,.8)),vt.append("text").classed("name",!0),vt.append("path").style("stroke-width","1px"),vt.append("text").classed("nums",!0).call(r.font,be,me)}),xt.exit().remove(),xt.each(function(vt){var Mt=M.select(this).attr("transform",""),St=vt.color;Array.isArray(St)&&(St=St[vt.eventData[0].pointNumber]);var It=vt.bgcolor||St,Gt=n.combine(n.opacity(It)?It:n.defaultLine,le),en=n.combine(n.opacity(St)?St:n.defaultLine,le),Nt=vt.borderColor||n.contrast(Gt),jt=R(vt,fe,ae,re,he,Mt),Jt=jt[0],An=jt[1],_n=Mt.select("text.nums").call(r.font,vt.fontFamily||be,vt.fontSize||me,vt.fontColor||Nt).text(Jt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q),un=Mt.select("text.name"),Wt=0,rn=0;if(An&&An!==Jt){un.call(r.font,vt.fontFamily||be,vt.fontSize||me,en).text(An).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q);var $t=K(Q,un.node());Wt=$t.width+2*S,rn=$t.height+2*S}else un.remove(),Mt.select("rect").remove();Mt.select("path").style({fill:Gt,stroke:Nt});var sn=vt.xa._offset+(vt.x0+vt.x1)/2,xn=vt.ya._offset+(vt.y0+vt.y1)/2,wn=Math.abs(vt.x1-vt.x0),Pn=Math.abs(vt.y1-vt.y0),Cn=K(Q,_n.node()),Sn=Cn.width/re._invScaleX,Nn=Cn.height/re._invScaleY;vt.ty0=(Me-Cn.top)/re._invScaleY,vt.bx=Sn+2*S,vt.by=Math.max(Nn+2*S,rn),vt.anchor="start",vt.txwidth=Sn,vt.tx2width=Wt,vt.offset=0;var zn,er,nr=(Sn+h+S+Wt)*re._invScaleX;if(ie)vt.pos=sn,zn=xn+Pn/2+nr<=ze,er=xn-Pn/2-nr>=0,vt.idealAlign!=="top"&&zn||!er?zn?(xn+=Pn/2,vt.anchor="start"):vt.anchor="middle":(xn-=Pn/2,vt.anchor="end"),vt.crossPos=xn;else{if(vt.pos=xn,zn=sn+wn/2+nr<=Se,er=sn-wn/2-nr>=0,vt.idealAlign!=="left"&&zn||!er)if(zn)sn+=wn/2,vt.anchor="start";else{vt.anchor="middle";var ir=nr/2,Yn=sn+ir-Se,mr=sn-ir;Yn>0&&(sn-=Yn),mr<0&&(sn+=-mr)}else sn-=wn/2,vt.anchor="end";vt.crossPos=sn}_n.attr("text-anchor",vt.anchor),Wt&&un.attr("text-anchor",vt.anchor),Mt.attr("transform",b(sn,xn)+(ie?g(p):""))}),{hoverLabels:xt,commonLabelBoundingBox:Ue}}function R(Z,X,Q,re,ae,ie){var le="",pe="";Z.nameOverride!==void 0&&(Z.name=Z.nameOverride),Z.name&&(Z.trace._meta&&(Z.name=T.templateString(Z.name,Z.trace._meta)),le=V(Z.name,Z.nameLength));var de=Q.charAt(0),ve=de==="x"?"y":"x";Z.zLabel!==void 0?(Z.xLabel!==void 0&&(pe+="x: "+Z.xLabel+"<br>"),Z.yLabel!==void 0&&(pe+="y: "+Z.yLabel+"<br>"),Z.trace.type!=="choropleth"&&Z.trace.type!=="choroplethmapbox"&&(pe+=(pe?"z: ":"")+Z.zLabel)):X&&Z[de+"Label"]===ae?pe=Z[ve+"Label"]||"":Z.xLabel===void 0?Z.yLabel!==void 0&&Z.trace.type!=="scattercarpet"&&(pe=Z.yLabel):pe=Z.yLabel===void 0?Z.xLabel:"("+Z.xLabel+", "+Z.yLabel+")",!Z.text&&Z.text!==0||Array.isArray(Z.text)||(pe+=(pe?"<br>":"")+Z.text),Z.extraText!==void 0&&(pe+=(pe?"<br>":"")+Z.extraText),ie&&pe===""&&!Z.hovertemplate&&(le===""&&ie.remove(),pe=le);var be=Z.hovertemplate||!1;if(be){var me=Z.hovertemplateLabels||Z;Z[de+"Label"]!==ae&&(me[de+"other"]=me[de+"Val"],me[de+"otherLabel"]=me[de+"Label"]),pe=(pe=T.hovertemplateString(be,me,re._d3locale,Z.eventData[0]||{},Z.trace._meta)).replace(P,function(ge,ke){return le=V(ke,Z.nameLength),""})}return[pe,le]}function U(Z,X){var Q=0,re=Z.offset;return X&&(re*=-_,Q=Z.offset*x),{x:Q,y:re}}function z(Z,X,Q,re){var ae=function(le){return le*Q},ie=function(le){return le*re};Z.each(function(le){var pe=M.select(this);if(le.del)return pe.remove();var de,ve,be,me,ge=pe.select("text.nums"),ke=le.anchor,we=ke==="end"?-1:1,ue=(me=(be=(ve={start:1,end:-1,middle:0}[(de=le).anchor])*(h+S))+ve*(de.txwidth+S),de.anchor==="middle"&&(be-=de.tx2width/2,me+=de.txwidth/2+S),{alignShift:ve,textShiftX:be,text2ShiftX:me}),oe=U(le,X),he=oe.x,Ee=oe.y,Te=ke==="middle";pe.select("path").attr("d",Te?"M-"+ae(le.bx/2+le.tx2width/2)+","+ie(Ee-le.by/2)+"h"+ae(le.bx)+"v"+ie(le.by)+"h-"+ae(le.bx)+"Z":"M0,0L"+ae(we*h+he)+","+ie(h+Ee)+"v"+ie(le.by/2-h)+"h"+ae(we*le.bx)+"v-"+ie(le.by)+"H"+ae(we*h+he)+"V"+ie(Ee-h)+"Z");var Me=he+ue.textShiftX,Se=Ee+le.ty0-le.by/2+S,ze=le.textAlign||"auto";ze!=="auto"&&(ze==="left"&&ke!=="start"?(ge.attr("text-anchor","start"),Me=Te?-le.bx/2-le.tx2width/2+S:-le.bx-S):ze==="right"&&ke!=="end"&&(ge.attr("text-anchor","end"),Me=Te?le.bx/2-le.tx2width/2-S:le.bx+S)),ge.call(t.positionText,ae(Me),ie(Se)),le.tx2width&&(pe.select("text.name").call(t.positionText,ae(ue.text2ShiftX+ue.alignShift*S+he),ie(Ee+le.ty0-le.by/2+S)),pe.select("rect").call(r.setRect,ae(ue.text2ShiftX+(ue.alignShift-1)*le.tx2width/2+he),ie(Ee-le.by/2-1),ae(le.tx2width),ie(le.by+2)))})}function N(Z,X){var Q=Z.index,re=Z.trace||{},ae=Z.cd[0],ie=Z.cd[Q]||{};function le(ge){return ge||k(ge)&&ge===0}var pe=Array.isArray(Q)?function(ge,ke){var we=T.castOption(ae,Q,ge);return le(we)?we:T.extractOption({},re,"",ke)}:function(ge,ke){return T.extractOption(ie,re,ge,ke)};function de(ge,ke,we){var ue=pe(ke,we);le(ue)&&(Z[ge]=ue)}if(de("hoverinfo","hi","hoverinfo"),de("bgcolor","hbg","hoverlabel.bgcolor"),de("borderColor","hbc","hoverlabel.bordercolor"),de("fontFamily","htf","hoverlabel.font.family"),de("fontSize","hts","hoverlabel.font.size"),de("fontColor","htc","hoverlabel.font.color"),de("nameLength","hnl","hoverlabel.namelength"),de("textAlign","hta","hoverlabel.align"),Z.posref=X==="y"||X==="closest"&&re.orientation==="h"?Z.xa._offset+(Z.x0+Z.x1)/2:Z.ya._offset+(Z.y0+Z.y1)/2,Z.x0=T.constrain(Z.x0,0,Z.xa._length),Z.x1=T.constrain(Z.x1,0,Z.xa._length),Z.y0=T.constrain(Z.y0,0,Z.ya._length),Z.y1=T.constrain(Z.y1,0,Z.ya._length),Z.xLabelVal!==void 0&&(Z.xLabel="xLabel"in Z?Z.xLabel:l.hoverLabelText(Z.xa,Z.xLabelVal,re.xhoverformat),Z.xVal=Z.xa.c2d(Z.xLabelVal)),Z.yLabelVal!==void 0&&(Z.yLabel="yLabel"in Z?Z.yLabel:l.hoverLabelText(Z.ya,Z.yLabelVal,re.yhoverformat),Z.yVal=Z.ya.c2d(Z.yLabelVal)),Z.zLabelVal!==void 0&&Z.zLabel===void 0&&(Z.zLabel=String(Z.zLabelVal)),!(isNaN(Z.xerr)||Z.xa.type==="log"&&Z.xerr<=0)){var ve=l.tickText(Z.xa,Z.xa.c2l(Z.xerr),"hover").text;Z.xerrneg!==void 0?Z.xLabel+=" +"+ve+" / -"+l.tickText(Z.xa,Z.xa.c2l(Z.xerrneg),"hover").text:Z.xLabel+="  "+ve,X==="x"&&(Z.distance+=1)}if(!(isNaN(Z.yerr)||Z.ya.type==="log"&&Z.yerr<=0)){var be=l.tickText(Z.ya,Z.ya.c2l(Z.yerr),"hover").text;Z.yerrneg!==void 0?Z.yLabel+=" +"+be+" / -"+l.tickText(Z.ya,Z.ya.c2l(Z.yerrneg),"hover").text:Z.yLabel+="  "+be,X==="y"&&(Z.distance+=1)}var me=Z.hoverinfo||Z.trace.hoverinfo;return me&&me!=="all"&&((me=Array.isArray(me)?me:me.split("+")).indexOf("x")===-1&&(Z.xLabel=void 0),me.indexOf("y")===-1&&(Z.yLabel=void 0),me.indexOf("z")===-1&&(Z.zLabel=void 0),me.indexOf("text")===-1&&(Z.text=void 0),me.indexOf("name")===-1&&(Z.name=void 0)),Z}function W(Z,X,Q){var re,ae,ie=Q.container,le=Q.fullLayout,pe=le._size,de=Q.event,ve=!!X.hLinePoint,be=!!X.vLinePoint;if(ie.selectAll(".spikeline").remove(),be||ve){var me=n.combine(le.plot_bgcolor,le.paper_bgcolor);if(ve){var ge,ke,we=X.hLinePoint;re=we&&we.xa,(ae=we&&we.ya).spikesnap==="cursor"?(ge=de.pointerX,ke=de.pointerY):(ge=re._offset+we.x,ke=ae._offset+we.y);var ue,oe,he=a.readability(we.color,me)<1.5?n.contrast(me):we.color,Ee=ae.spikemode,Te=ae.spikethickness,Me=ae.spikecolor||he,Se=l.getPxPosition(Z,ae);if(Ee.indexOf("toaxis")!==-1||Ee.indexOf("across")!==-1){if(Ee.indexOf("toaxis")!==-1&&(ue=Se,oe=ge),Ee.indexOf("across")!==-1){var ze=ae._counterDomainMin,fe=ae._counterDomainMax;ae.anchor==="free"&&(ze=Math.min(ze,ae.position),fe=Math.max(fe,ae.position)),ue=pe.l+ze*pe.w,oe=pe.l+fe*pe.w}ie.insert("line",":first-child").attr({x1:ue,x2:oe,y1:ke,y2:ke,"stroke-width":Te,stroke:Me,"stroke-dasharray":r.dashStyle(ae.spikedash,Te)}).classed("spikeline",!0).classed("crisp",!0),ie.insert("line",":first-child").attr({x1:ue,x2:oe,y1:ke,y2:ke,"stroke-width":Te+2,stroke:me}).classed("spikeline",!0).classed("crisp",!0)}Ee.indexOf("marker")!==-1&&ie.insert("circle",":first-child").attr({cx:Se+(ae.side!=="right"?Te:-Te),cy:ke,r:Te,fill:Me}).classed("spikeline",!0)}if(be){var xe,_e,Oe=X.vLinePoint;re=Oe&&Oe.xa,ae=Oe&&Oe.ya,re.spikesnap==="cursor"?(xe=de.pointerX,_e=de.pointerY):(xe=re._offset+Oe.x,_e=ae._offset+Oe.y);var De,Pe,Ue=a.readability(Oe.color,me)<1.5?n.contrast(me):Oe.color,Ve=re.spikemode,Xe=re.spikethickness,it=re.spikecolor||Ue,tt=l.getPxPosition(Z,re);if(Ve.indexOf("toaxis")!==-1||Ve.indexOf("across")!==-1){if(Ve.indexOf("toaxis")!==-1&&(De=tt,Pe=_e),Ve.indexOf("across")!==-1){var pt=re._counterDomainMin,mt=re._counterDomainMax;re.anchor==="free"&&(pt=Math.min(pt,re.position),mt=Math.max(mt,re.position)),De=pe.t+(1-mt)*pe.h,Pe=pe.t+(1-pt)*pe.h}ie.insert("line",":first-child").attr({x1:xe,x2:xe,y1:De,y2:Pe,"stroke-width":Xe,stroke:it,"stroke-dasharray":r.dashStyle(re.spikedash,Xe)}).classed("spikeline",!0).classed("crisp",!0),ie.insert("line",":first-child").attr({x1:xe,x2:xe,y1:De,y2:Pe,"stroke-width":Xe+2,stroke:me}).classed("spikeline",!0).classed("crisp",!0)}Ve.indexOf("marker")!==-1&&ie.insert("circle",":first-child").attr({cx:xe,cy:tt-(re.side!=="top"?Xe:-Xe),r:Xe,fill:it}).classed("spikeline",!0)}}}function F(Z,X){return!X||X.vLinePoint!==Z._spikepoints.vLinePoint||X.hLinePoint!==Z._spikepoints.hLinePoint}function V(Z,X){return t.plainText(Z||"",{len:X,allowedTags:["br","sub","sup","b","i","em"]})}function j(Z,X,Q){var re=X[Z+"a"],ae=X[Z+"Val"],ie=X.cd[0];if(re.type==="category"||re.type==="multicategory")ae=re._categoriesMap[ae];else if(re.type==="date"){var le=X.trace[Z+"periodalignment"];if(le){var pe=X.cd[X.index],de=pe[Z+"Start"];de===void 0&&(de=pe[Z]);var ve=pe[Z+"End"];ve===void 0&&(ve=pe[Z]);var be=ve-de;le==="end"?ae+=be:le==="middle"&&(ae+=be/2)}ae=re.d2c(ae)}return ie&&ie.t&&ie.t.posLetter===re._id&&(Q.boxmode!=="group"&&Q.violinmode!=="group"||(ae+=ie.t.dPos)),ae}function te(Z){return Z.offsetTop+Z.clientTop}function J(Z){return Z.offsetLeft+Z.clientLeft}function K(Z,X){var Q=Z._fullLayout,re=X.getBoundingClientRect(),ae=re.left,ie=re.top,le=ae+re.width,pe=ie+re.height,de=T.apply3DTransform(Q._invTransform)(ae,ie),ve=T.apply3DTransform(Q._invTransform)(le,pe),be=de[0],me=de[1],ge=ve[0],ke=ve[1];return{x:be,y:me,width:ge-be,height:ke-me,top:Math.min(me,ke),left:Math.min(be,ge),right:Math.max(be,ge),bottom:Math.max(me,ke)}}},16132:function(ee,D,e){var M=e(3400),k=e(76308),a=e(10624).isUnifiedHover;ee.exports=function(T,b,g,s){s=s||{};var t=b.legend;function i(r){s.font[r]||(s.font[r]=t?b.legend.font[r]:b.font[r])}b&&a(b.hovermode)&&(s.font||(s.font={}),i("size"),i("family"),i("color"),t?(s.bgcolor||(s.bgcolor=k.combine(b.legend.bgcolor,b.paper_bgcolor)),s.bordercolor||(s.bordercolor=b.legend.bordercolor)):s.bgcolor||(s.bgcolor=b.paper_bgcolor)),g("hoverlabel.bgcolor",s.bgcolor),g("hoverlabel.bordercolor",s.bordercolor),g("hoverlabel.namelength",s.namelength),M.coerceFont(g,"hoverlabel.font",s.font),g("hoverlabel.align",s.align)}},41008:function(ee,D,e){var M=e(3400),k=e(65460);ee.exports=function(a,T){function b(g,s){return T[g]!==void 0?T[g]:M.coerce(a,T,k,g,s)}return b("clickmode"),b("hovermode")}},93024:function(ee,D,e){var M=e(33428),k=e(3400),a=e(86476),T=e(10624),b=e(65460),g=e(83292);ee.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:b},attributes:e(55756),layoutAttributes:b,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:T.getDistanceFunction,getClosest:T.getClosest,inbox:T.inbox,quadrature:T.quadrature,appendArrayPointValue:T.appendArrayPointValue,castHoverOption:function(s,t,i){return k.castOption(s,t,"hoverlabel."+i)},castHoverinfo:function(s,t,i){return k.castOption(s,i,"hoverinfo",function(r){return k.coerceHoverinfo({hoverinfo:r},{_module:s._module},t)})},hover:g.hover,unhover:a.unhover,loneHover:g.loneHover,loneUnhover:function(s){var t=k.isD3Selection(s)?s:M.select(s);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(62376)}},65460:function(ee,D,e){var M=e(92456),k=e(25376),a=k({editType:"none"});a.family.dflt=M.HOVERFONT,a.size.dflt=M.HOVERFONTSIZE,ee.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:k({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(ee,D,e){var M=e(3400),k=e(65460),a=e(41008),T=e(16132);ee.exports=function(b,g){function s(n,o){return M.coerce(b,g,k,n,o)}a(b,g)&&(s("hoverdistance"),s("spikedistance")),s("dragmode")==="select"&&s("selectdirection");var t=g._has("mapbox"),i=g._has("geo"),r=g._basePlotModules.length;g.dragmode==="zoom"&&((t||i)&&r===1||t&&i&&r===2)&&(g.dragmode="pan"),T(b,g,s),M.coerceFont(s,"hoverlabel.grouptitlefont",g.hoverlabel.font)}},81976:function(ee,D,e){var M=e(3400),k=e(16132),a=e(65460);ee.exports=function(T,b){k(T,b,function(g,s){return M.coerce(T,b,a,g,s)})}},12704:function(ee,D,e){var M=e(3400),k=e(53756).counter,a=e(86968).u,T=e(33816).idRegex,b=e(31780),g={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[k("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[T.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[T.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(r,n,o){var l=n[o+"axes"],u=Object.keys((r._splomAxes||{})[o]||{});return Array.isArray(l)?l:u.length?u:void 0}function t(r,n,o,l,u,d){var c=n(r+"gap",o),m=n("domain."+r);n(r+"side",l);for(var f=new Array(u),p=m[0],v=(m[1]-p)/(u-c),y=v*(1-c),x=0;x<u;x++){var _=p+v*x;f[d?u-1-x:x]=[_,_+y]}return f}function i(r,n,o,l,u){var d,c=new Array(o);function m(f,p){n.indexOf(p)!==-1&&l[p]===void 0?(c[f]=p,l[p]=f):c[f]=""}if(Array.isArray(r))for(d=0;d<o;d++)m(d,r[d]);else for(m(0,u),d=1;d<o;d++)m(d,u+(d+1));return c}ee.exports={moduleType:"component",name:"grid",schema:{layout:{grid:g}},layoutAttributes:g,sizeDefaults:function(r,n){var o=r.grid||{},l=s(n,o,"x"),u=s(n,o,"y");if(r.grid||l||u){var d,c,m=Array.isArray(o.subplots)&&Array.isArray(o.subplots[0]),f=Array.isArray(l),p=Array.isArray(u),v=f&&l!==o.xaxes&&p&&u!==o.yaxes;m?(d=o.subplots.length,c=o.subplots[0].length):(p&&(d=u.length),f&&(c=l.length));var y=b.newContainer(n,"grid"),x=P("rows",d),_=P("columns",c);if(x*_>1){m||f||p||P("pattern")==="independent"&&(m=!0),y._hasSubplotGrid=m;var h,S,w=P("roworder")==="top to bottom",E=m?.2:.1,C=m?.3:.1;v&&n._splomGridDflt&&(h=n._splomGridDflt.xside,S=n._splomGridDflt.yside),y._domains={x:t("x",P,E,h,_),y:t("y",P,C,S,x,w)}}else delete n.grid}function P(O,R){return M.coerce(o,y,g,O,R)}},contentDefaults:function(r,n){var o=n.grid;if(o&&o._domains){var l,u,d,c,m,f,p,v=r.grid||{},y=n._subplots,x=o._hasSubplotGrid,_=o.rows,h=o.columns,S=o.pattern==="independent",w=o._axisMap={};if(x){var E=v.subplots||[];f=o.subplots=new Array(_);var C=1;for(l=0;l<_;l++){var P=f[l]=new Array(h),O=E[l]||[];for(u=0;u<h;u++)if(S?(m=C===1?"xy":"x"+C+"y"+C,C++):m=O[u],P[u]="",y.cartesian.indexOf(m)!==-1){if(p=m.indexOf("y"),d=m.slice(0,p),c=m.slice(p),w[d]!==void 0&&w[d]!==u||w[c]!==void 0&&w[c]!==l)continue;P[u]=m,w[d]=u,w[c]=l}}}else{var R=s(n,v,"x"),U=s(n,v,"y");o.xaxes=i(R,y.xaxis,h,w,"x"),o.yaxes=i(U,y.yaxis,_,w,"y")}var z=o._anchors={},N=o.roworder==="top to bottom";for(var W in w){var F,V,j,te=W.charAt(0),J=o[te+"side"];if(J.length<8)z[W]="free";else if(te==="x"){if(J.charAt(0)==="t"===N?(F=0,V=1,j=_):(F=_-1,V=-1,j=-1),x){var K=w[W];for(l=F;l!==j;l+=V)if((m=f[l][K])&&(p=m.indexOf("y"),m.slice(0,p)===W)){z[W]=m.slice(p);break}}else for(l=F;l!==j;l+=V)if(c=o.yaxes[l],y.cartesian.indexOf(W+c)!==-1){z[W]=c;break}}else if(J.charAt(0)==="l"?(F=0,V=1,j=h):(F=h-1,V=-1,j=-1),x){var Z=w[W];for(l=F;l!==j;l+=V)if((m=f[Z][l])&&(p=m.indexOf("y"),m.slice(p)===W)){z[W]=m.slice(0,p);break}}else for(l=F;l!==j;l+=V)if(d=o.xaxes[l],y.cartesian.indexOf(d+W)!==-1){z[W]=d;break}}}}}},65760:function(ee,D,e){var M=e(33816),k=e(31780).templatedArray;e(36208),ee.exports=k("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",M.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",M.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(ee,D,e){var M=e(38248),k=e(36896);ee.exports=function(a,T,b,g){T=T||{};var s=b==="log"&&T.type==="linear",t=b==="linear"&&T.type==="log";if(s||t){for(var i,r,n=a._fullLayout.images,o=T._id.charAt(0),l=0;l<n.length;l++)if(r="images["+l+"].",(i=n[l])[o+"ref"]===T._id){var u=i[o],d=i["size"+o],c=null,m=null;if(s){c=k(u,T.range);var f=d/Math.pow(10,c)/2;m=2*Math.log(f+Math.sqrt(1+f*f))/Math.LN10}else m=(c=Math.pow(10,u))*(Math.pow(10,d/2)-Math.pow(10,-d/2));M(c)?M(m)||(m=null):(c=null,m=null),g(r+o,c),g(r+"size"+o,m)}}}},25024:function(ee,D,e){var M=e(3400),k=e(54460),a=e(51272),T=e(65760);function b(g,s,t){function i(c,m){return M.coerce(g,s,T,c,m)}var r=i("source");if(!i("visible",!!r))return s;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var n={_fullLayout:t},o=["x","y"],l=0;l<2;l++){var u=o[l],d=k.coerceRef(g,s,n,u,"paper",void 0);d!=="paper"&&k.getFromId(n,d)._imgIndices.push(s._index),k.coercePosition(s,n,i,d,u,0)}return s}ee.exports=function(g,s){a(g,s,{name:"images",handleItemDefaults:b})}},60963:function(ee,D,e){var M=e(33428),k=e(43616),a=e(54460),T=e(79811),b=e(9616);ee.exports=function(g){var s,t,i=g._fullLayout,r=[],n={},o=[];for(t=0;t<i.images.length;t++){var l=i.images[t];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){s=T.ref2id(l.xref)+T.ref2id(l.yref);var u=i._plots[s];if(!u){o.push(l);continue}u.mainplot&&(s=u.mainplot.id),n[s]||(n[s]=[]),n[s].push(l)}else l.layer==="above"?r.push(l):o.push(l)}var d={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function m(h){var S=M.select(this);if(this._imgSrc!==h.source)if(S.attr("xmlns",b.svg),h.source&&h.source.slice(0,5)==="data:")S.attr("xlink:href",h.source),this._imgSrc=h.source;else{var w=new Promise((function(E){var C=new Image;function P(){S.remove(),E()}this.img=C,C.setAttribute("crossOrigin","anonymous"),C.onerror=P,C.onload=function(){var O=document.createElement("canvas");O.width=this.width,O.height=this.height,O.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var R=O.toDataURL("image/png");S.attr("xlink:href",R),E()},S.on("error",P),C.src=h.source,this._imgSrc=h.source}).bind(this));g._promises.push(w)}}function f(h){var S,w,E=M.select(this),C=a.getFromId(g,h.xref),P=a.getFromId(g,h.yref),O=a.getRefType(h.xref)==="domain",R=a.getRefType(h.yref)==="domain",U=i._size;S=C!==void 0?typeof h.xref=="string"&&O?C._length*h.sizex:Math.abs(C.l2p(h.sizex)-C.l2p(0)):h.sizex*U.w,w=P!==void 0?typeof h.yref=="string"&&R?P._length*h.sizey:Math.abs(P.l2p(h.sizey)-P.l2p(0)):h.sizey*U.h;var z,N,W=S*d[h.xanchor].offset,F=w*c[h.yanchor].offset,V=d[h.xanchor].sizing+c[h.yanchor].sizing;switch(z=C!==void 0?typeof h.xref=="string"&&O?C._length*h.x+C._offset:C.r2p(h.x)+C._offset:h.x*U.w+U.l,z+=W,N=P!==void 0?typeof h.yref=="string"&&R?P._length*(1-h.y)+P._offset:P.r2p(h.y)+P._offset:U.h-h.y*U.h+U.t,N+=F,h.sizing){case"fill":V+=" slice";break;case"stretch":V="none"}E.attr({x:z,y:N,width:S,height:w,preserveAspectRatio:V,opacity:h.opacity});var j=(C&&a.getRefType(h.xref)!=="domain"?C._id:"")+(P&&a.getRefType(h.yref)!=="domain"?P._id:"");k.setClipUrl(E,j?"clip"+i._uid+j:null,g)}var p=i._imageLowerLayer.selectAll("image").data(o),v=i._imageUpperLayer.selectAll("image").data(r);p.enter().append("image"),v.enter().append("image"),p.exit().remove(),v.exit().remove(),p.each(function(h){m.bind(this)(h),f.bind(this)(h)}),v.each(function(h){m.bind(this)(h),f.bind(this)(h)});var y=Object.keys(i._plots);for(t=0;t<y.length;t++){s=y[t];var x=i._plots[s];if(x.imagelayer){var _=x.imagelayer.selectAll("image").data(n[s]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(h){m.bind(this)(h),f.bind(this)(h)})}}}},7402:function(ee,D,e){ee.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(ee,D,e){var M=e(25376),k=e(22548);ee.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:M({editType:"legend"}),grouptitlefont:M({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:M({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(ee){ee.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(ee,D,e){var M=e(24040),k=e(3400),a=e(31780),T=e(45464),b=e(3800),g=e(64859),s=e(42451);function t(i,r,n,o){var l=r[i]||{},u=a.newContainer(n,i);function d(V,j){return k.coerce(l,u,b,V,j)}var c=k.coerceFont(d,"font",n.font);if(d("bgcolor",n.paper_bgcolor),d("bordercolor"),d("visible")){for(var m,f=function(V,j){var te=m._input,J=m;return k.coerce(te,J,T,V,j)},p=n.font||{},v=k.coerceFont(d,"grouptitlefont",k.extendFlat({},p,{size:Math.round(1.1*p.size)})),y=0,x=!1,_="normal",h=(n.shapes||[]).filter(function(V){return V.showlegend}),S=o.concat(h).filter(function(V){return i===(V.legend||"legend")}),w=0;w<S.length;w++)if((m=S[w]).visible){var E=m._isShape;(m.showlegend||m._dfltShowLegend&&!(m._module&&m._module.attributes&&m._module.attributes.showlegend&&m._module.attributes.showlegend.dflt===!1))&&(y++,m.showlegend&&(x=!0,(!E&&M.traceIs(m,"pie-like")||m._input.showlegend===!0)&&y++),k.coerceFont(f,"legendgrouptitle.font",v)),(!E&&M.traceIs(m,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(m.fill)!==-1)&&(_=s.isGrouped({traceorder:_})?"grouped+reversed":"reversed"),m.legendgroup!==void 0&&m.legendgroup!==""&&(_=s.isReversed({traceorder:_})?"reversed+grouped":"grouped")}var C=k.coerce(r,n,g,"showlegend",x&&y>(i==="legend"?1:0));if(C===!1&&(n[i]=void 0),(C!==!1||l.uirevision)&&(d("uirevision",n.uirevision),C!==!1)){d("borderwidth");var P,O,R,U=d("orientation")==="h",z=d("yref")==="paper",N=d("xref")==="paper",W="left";if(U?(P=0,M.getComponentMethod("rangeslider","isVisible")(r.xaxis)?z?(O=1.1,R="bottom"):(O=1,R="top"):z?(O=-.1,R="top"):(O=0,R="bottom")):(O=1,R="auto",N?P=1.02:(P=1,W="right")),k.coerce(l,u,{x:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:P}},"x"),k.coerce(l,u,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:O}},"y"),d("traceorder",_),s.isGrouped(n[i])&&d("tracegroupgap"),d("entrywidth"),d("entrywidthmode"),d("indentation"),d("itemsizing"),d("itemwidth"),d("itemclick"),d("itemdoubleclick"),d("groupclick"),d("xanchor",W),d("yanchor",R),d("valign"),k.noneOrAll(l,u,["x","y"]),d("title.text")){d("title.side",U?"left":"top");var F=k.extendFlat({},c,{size:k.bigFont(c.size)});k.coerceFont(d,"title.font",F)}}}}ee.exports=function(i,r,n){var o,l=n.slice(),u=r.shapes;if(u)for(o=0;o<u.length;o++){var d=u[o];if(d.showlegend){var c={_input:d._input,visible:d.visible,showlegend:d.showlegend,legend:d.legend};l.push(c)}}var m=["legend"];for(o=0;o<l.length;o++)k.pushUnique(m,l[o].legend);for(r._legends=[],o=0;o<m.length;o++){var f=m[o];t(f,i,r,l),r[f]&&r[f].visible&&(r[f]._id=f),r._legends.push(f)}}},31140:function(ee,D,e){var M=e(33428),k=e(3400),a=e(7316),T=e(24040),b=e(95924),g=e(86476),s=e(43616),t=e(76308),i=e(72736),r=e(33048),n=e(65196),o=e(84284),l=o.LINE_SPACING,u=o.FROM_TL,d=o.FROM_BR,c=e(35456),m=e(2012),f=e(42451),p=1,v=/^legend[0-9]*$/;function y(R,U){var z,N,W=U||{},F=R._fullLayout,V=O(W),j=W._inHover;if(j?(N=W.layer,z="hover"):(N=F._infolayer,z=V),N){var te;if(z+=F._uid,R._legendMouseDownTime||(R._legendMouseDownTime=0),j){if(!W.entries)return;te=c(W.entries,W)}else{for(var J=(R.calcdata||[]).slice(),K=F.shapes,Z=0;Z<K.length;Z++){var X=K[Z];if(X.showlegend){var Q={_isShape:!0,_fullInput:X,index:X._index,name:X.name||X.label.text||"shape "+X._index,legend:X.legend,legendgroup:X.legendgroup,legendgrouptitle:X.legendgrouptitle,legendrank:X.legendrank,legendwidth:X.legendwidth,showlegend:X.showlegend,visible:X.visible,opacity:X.opacity,mode:X.type==="line"?"lines":"markers",line:X.line,marker:{line:X.line,color:X.fillcolor,size:12,symbol:X.type==="rect"?"square":X.type==="circle"?"circle":"hexagon2"}};J.push([{trace:Q}])}}te=F.showlegend&&c(J,W,F._legends.length>1)}var re=F.hiddenlabels||[];if(!(j||F.showlegend&&te.length))return N.selectAll("."+V).remove(),F._topdefs.select("#"+z).remove(),a.autoMargin(R,V);var ae=k.ensureSingle(N,"g",V,function(ke){j||ke.attr("pointer-events","all")}),ie=k.ensureSingleById(F._topdefs,"clipPath",z,function(ke){ke.append("rect")}),le=k.ensureSingle(ae,"rect","bg",function(ke){ke.attr("shape-rendering","crispEdges")});le.call(t.stroke,W.bordercolor).call(t.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var pe,de=k.ensureSingle(ae,"g","scrollbox"),ve=W.title;W._titleWidth=0,W._titleHeight=0,ve.text?((pe=k.ensureSingle(de,"text",V+"titletext")).attr("text-anchor","start").call(s.font,ve.font).text(ve.text),E(pe,de,R,W,p)):de.selectAll("."+V+"titletext").remove();var be=k.ensureSingle(ae,"rect","scrollbar",function(ke){ke.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),me=de.selectAll("g.groups").data(te);me.enter().append("g").attr("class","groups"),me.exit().remove();var ge=me.selectAll("g.traces").data(k.identity);ge.enter().append("g").attr("class","traces"),ge.exit().remove(),ge.style("opacity",function(ke){var we=ke[0].trace;return T.traceIs(we,"pie-like")?re.indexOf(ke[0].label)!==-1?.5:1:we.visible==="legendonly"?.5:1}).each(function(){M.select(this).call(h,R,W)}).call(m,R,W).each(function(){j||M.select(this).call(w,R,V)}),k.syncOrAsync([a.previousPromises,function(){return function(ke,we,ue,oe){var he=ke._fullLayout,Ee=O(oe);oe||(oe=he[Ee]);var Te=he._size,Me=f.isVertical(oe),Se=f.isGrouped(oe),ze=oe.entrywidthmode==="fraction",fe=oe.borderwidth,xe=2*fe,_e=n.itemGap,Oe=oe.indentation+oe.itemwidth+2*_e,De=2*(fe+_e),Pe=P(oe),Ue=oe.y<0||oe.y===0&&Pe==="top",Ve=oe.y>1||oe.y===1&&Pe==="bottom",Xe=oe.tracegroupgap,it={};oe._maxHeight=Math.max(Ue||Ve?he.height/2:Te.h,30);var tt=0;oe._width=0,oe._height=0;var pt=function(ht){var dt=0,ut=0,kt=ht.title.side;return kt&&(kt.indexOf("left")!==-1&&(dt=ht._titleWidth),kt.indexOf("top")!==-1&&(ut=ht._titleHeight)),[dt,ut]}(oe);if(Me)ue.each(function(ht){var dt=ht[0].height;s.setTranslate(this,fe+pt[0],fe+pt[1]+oe._height+dt/2+_e),oe._height+=dt,oe._width=Math.max(oe._width,ht[0].width)}),tt=Oe+oe._width,oe._width+=_e+Oe+xe,oe._height+=De,Se&&(we.each(function(ht,dt){s.setTranslate(this,0,dt*oe.tracegroupgap)}),oe._height+=(oe._lgroupsLength-1)*oe.tracegroupgap);else{var mt=C(oe),gt=oe.x<0||oe.x===0&&mt==="right",et=oe.x>1||oe.x===1&&mt==="left",$e=Ve||Ue,_t=he.width/2;oe._maxWidth=Math.max(gt?$e&&mt==="left"?Te.l+Te.w:_t:et?$e&&mt==="right"?Te.r+Te.w:_t:Te.w,2*Oe);var Pt=0,Ot=0;ue.each(function(ht){var dt=x(ht,oe,Oe);Pt=Math.max(Pt,dt),Ot+=dt}),tt=null;var Lt=0;if(Se){var He=0,We=0,Be=0;we.each(function(){var ht=0,dt=0;M.select(this).selectAll("g.traces").each(function(kt){var xt=x(kt,oe,Oe),vt=kt[0].height;s.setTranslate(this,pt[0],pt[1]+fe+_e+vt/2+dt),dt+=vt,ht=Math.max(ht,xt),it[kt[0].trace.legendgroup]=ht});var ut=ht+_e;We>0&&ut+fe+We>oe._maxWidth?(Lt=Math.max(Lt,We),We=0,Be+=He+Xe,He=dt):He=Math.max(He,dt),s.setTranslate(this,We,Be),We+=ut}),oe._width=Math.max(Lt,We)+fe,oe._height=Be+He+De}else{var Ge=ue.size(),at=Ot+xe+(Ge-1)*_e<oe._maxWidth,nt=0,Re=0,Fe=0,rt=0;ue.each(function(ht){var dt=ht[0].height,ut=x(ht,oe,Oe),kt=at?ut:Pt;ze||(kt+=_e),kt+fe+Re-_e>=oe._maxWidth&&(Lt=Math.max(Lt,rt),Re=0,Fe+=nt,oe._height+=nt,nt=0),s.setTranslate(this,pt[0]+fe+Re,pt[1]+fe+Fe+dt/2+_e),rt=Re+ut+_e,Re+=kt,nt=Math.max(nt,dt)}),at?(oe._width=Re+xe,oe._height=nt+De):(oe._width=Math.max(Lt,rt)+xe,oe._height+=nt+De)}}oe._width=Math.ceil(Math.max(oe._width+pt[0],oe._titleWidth+2*(fe+n.titlePad))),oe._height=Math.ceil(Math.max(oe._height+pt[1],oe._titleHeight+2*(fe+n.itemGap))),oe._effHeight=Math.min(oe._height,oe._maxHeight);var Ye=ke._context.edits,ct=Ye.legendText||Ye.legendPosition;ue.each(function(ht){var dt=M.select(this).select("."+Ee+"toggle"),ut=ht[0].height,kt=ht[0].trace.legendgroup,xt=x(ht,oe,Oe);Se&&kt!==""&&(xt=it[kt]);var vt=ct?Oe:tt||xt;Me||ze||(vt+=_e/2),s.setRect(dt,0,-ut/2,vt,ut)})}(R,me,ge,W)},function(){var ke,we,ue,oe,he=F._size,Ee=W.borderwidth,Te=W.xref==="paper",Me=W.yref==="paper";if(ve.text&&function($e,_t,Pt){if(_t.title.side==="top center"||_t.title.side==="top right"){var Ot=_t.title.font.size*l,Lt=0,He=$e.node(),We=s.bBox(He).width;_t.title.side==="top center"?Lt=.5*(_t._width-2*Pt-2*n.titlePad-We):_t.title.side==="top right"&&(Lt=_t._width-2*Pt-2*n.titlePad-We),i.positionText($e,Pt+n.titlePad+Lt,Pt+Ot)}}(pe,W,Ee),!j){var Se,ze;Se=Te?he.l+he.w*W.x-u[C(W)]*W._width:F.width*W.x-u[C(W)]*W._width,ze=Me?he.t+he.h*(1-W.y)-u[P(W)]*W._effHeight:F.height*(1-W.y)-u[P(W)]*W._effHeight;var fe=function($e,_t,Pt,Ot){var Lt=$e._fullLayout,He=Lt[_t],We=C(He),Be=P(He),Ge=He.xref==="paper",at=He.yref==="paper";$e._fullLayout._reservedMargin[_t]={};var nt=He.y<.5?"b":"t",Re=He.x<.5?"l":"r",Fe={r:Lt.width-Pt,l:Pt+He._width,b:Lt.height-Ot,t:Ot+He._effHeight};if(Ge&&at)return a.autoMargin($e,_t,{x:He.x,y:He.y,l:He._width*u[We],r:He._width*d[We],b:He._effHeight*d[Be],t:He._effHeight*u[Be]});Ge?$e._fullLayout._reservedMargin[_t][nt]=Fe[nt]:at||He.orientation==="v"?$e._fullLayout._reservedMargin[_t][Re]=Fe[Re]:$e._fullLayout._reservedMargin[_t][nt]=Fe[nt]}(R,V,Se,ze);if(fe)return;if(F.margin.autoexpand){var xe=Se,_e=ze;Se=Te?k.constrain(Se,0,F.width-W._width):xe,ze=Me?k.constrain(ze,0,F.height-W._effHeight):_e,Se!==xe&&k.log("Constrain "+V+".x to make legend fit inside graph"),ze!==_e&&k.log("Constrain "+V+".y to make legend fit inside graph")}s.setTranslate(ae,Se,ze)}if(be.on(".drag",null),ae.on("wheel",null),j||W._height<=W._maxHeight||R._context.staticPlot){var Oe=W._effHeight;j&&(Oe=W._height),le.attr({width:W._width-Ee,height:Oe-Ee,x:Ee/2,y:Ee/2}),s.setTranslate(de,0,0),ie.select("rect").attr({width:W._width-2*Ee,height:Oe-2*Ee,x:Ee,y:Ee}),s.setClipUrl(de,z,R),s.setRect(be,0,0,0,0),delete W._scrollY}else{var De,Pe,Ue,Ve=Math.max(n.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),Xe=W._effHeight-Ve-2*n.scrollBarMargin,it=W._height-W._effHeight,tt=Xe/it,pt=Math.min(W._scrollY||0,it);le.attr({width:W._width-2*Ee+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-Ee,x:Ee/2,y:Ee/2}),ie.select("rect").attr({width:W._width-2*Ee+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-2*Ee,x:Ee,y:Ee+pt}),s.setClipUrl(de,z,R),et(pt,Ve,tt),ae.on("wheel",function(){et(pt=k.constrain(W._scrollY+M.event.deltaY/Xe*it,0,it),Ve,tt),pt!==0&&pt!==it&&M.event.preventDefault()});var mt=M.behavior.drag().on("dragstart",function(){var $e=M.event.sourceEvent;De=$e.type==="touchstart"?$e.changedTouches[0].clientY:$e.clientY,Ue=pt}).on("drag",function(){var $e=M.event.sourceEvent;$e.buttons===2||$e.ctrlKey||(Pe=$e.type==="touchmove"?$e.changedTouches[0].clientY:$e.clientY,pt=function(_t,Pt,Ot){var Lt=(Ot-Pt)/tt+_t;return k.constrain(Lt,0,it)}(Ue,De,Pe),et(pt,Ve,tt))});be.call(mt);var gt=M.behavior.drag().on("dragstart",function(){var $e=M.event.sourceEvent;$e.type==="touchstart"&&(De=$e.changedTouches[0].clientY,Ue=pt)}).on("drag",function(){var $e=M.event.sourceEvent;$e.type==="touchmove"&&(Pe=$e.changedTouches[0].clientY,pt=function(_t,Pt,Ot){var Lt=(Pt-Ot)/tt+_t;return k.constrain(Lt,0,it)}(Ue,De,Pe),et(pt,Ve,tt))});de.call(gt)}function et($e,_t,Pt){W._scrollY=R._fullLayout[V]._scrollY=$e,s.setTranslate(de,0,-$e),s.setRect(be,W._width,n.scrollBarMargin+$e*Pt,n.scrollBarWidth,_t),ie.select("rect").attr("y",Ee+$e)}R._context.edits.legendPosition&&(ae.classed("cursor-move",!0),g.init({element:ae.node(),gd:R,prepFn:function(){var $e=s.getTranslate(ae);ue=$e.x,oe=$e.y},moveFn:function($e,_t){var Pt=ue+$e,Ot=oe+_t;s.setTranslate(ae,Pt,Ot),ke=g.align(Pt,W._width,he.l,he.l+he.w,W.xanchor),we=g.align(Ot+W._height,-W._height,he.t+he.h,he.t,W.yanchor)},doneFn:function(){if(ke!==void 0&&we!==void 0){var $e={};$e[V+".x"]=ke,$e[V+".y"]=we,T.call("_guiRelayout",R,$e)}},clickFn:function($e,_t){var Pt=N.selectAll("g.traces").filter(function(){var Ot=this.getBoundingClientRect();return _t.clientX>=Ot.left&&_t.clientX<=Ot.right&&_t.clientY>=Ot.top&&_t.clientY<=Ot.bottom});Pt.size()>0&&_(R,ae,Pt,$e,_t)}}))}],R)}}function x(R,U,z){var N=R[0],W=N.width,F=U.entrywidthmode,V=N.trace.legendwidth||U.entrywidth;return F==="fraction"?U._maxWidth*V:z+(V||W)}function _(R,U,z,N,W){var F=z.data()[0][0].trace,V={event:W,node:z.node(),curveNumber:F.index,expandedIndex:F._expandedIndex,data:R.data,layout:R.layout,frames:R._transitionData._frames,config:R._context,fullData:R._fullData,fullLayout:R._fullLayout};F._group&&(V.group=F._group),T.traceIs(F,"pie-like")&&(V.label=z.datum()[0].label);var j=b.triggerHandler(R,"plotly_legendclick",V);if(N===1){if(j===!1)return;U._clickTimeout=setTimeout(function(){R._fullLayout&&r(z,R,N)},R._context.doubleClickDelay)}else N===2&&(U._clickTimeout&&clearTimeout(U._clickTimeout),R._legendMouseDownTime=0,b.triggerHandler(R,"plotly_legenddoubleclick",V)!==!1&&j!==!1&&r(z,R,N))}function h(R,U,z){var N,W,F=O(z),V=R.data()[0][0],j=V.trace,te=T.traceIs(j,"pie-like"),J=!z._inHover&&U._context.edits.legendText&&!te,K=z._maxNameLength;V.groupTitle?(N=V.groupTitle.text,W=V.groupTitle.font):(W=z.font,z.entries?N=V.text:(N=te?V.label:j.name,j._meta&&(N=k.templateString(N,j._meta))));var Z=k.ensureSingle(R,"text",F+"text");Z.attr("text-anchor","start").call(s.font,W).text(J?S(N,K):N);var X=z.indentation+z.itemwidth+2*n.itemGap;i.positionText(Z,X,0),J?Z.call(i.makeEditable,{gd:U,text:N}).call(E,R,U,z).on("edit",function(Q){this.text(S(Q,K)).call(E,R,U,z);var re=V.trace._fullInput||{},ae={};if(T.hasTransform(re,"groupby")){var ie=T.getTransformIndices(re,"groupby"),le=ie[ie.length-1],pe=k.keyedContainer(re,"transforms["+le+"].styles","target","value.name");pe.set(V.trace._group,Q),ae=pe.constructUpdate()}else ae.name=Q;return re._isShape?T.call("_guiRelayout",U,"shapes["+j.index+"].name",ae.name):T.call("_guiRestyle",U,ae,j.index)}):E(Z,R,U,z)}function S(R,U){var z=Math.max(4,U);if(R&&R.trim().length>=z/2)return R;for(var N=z-(R=R||"").length;N>0;N--)R+=" ";return R}function w(R,U,z){var N,W=U._context.doubleClickDelay,F=1,V=k.ensureSingle(R,"rect",z+"toggle",function(j){U._context.staticPlot||j.style("cursor","pointer").attr("pointer-events","all"),j.call(t.fill,"rgba(0,0,0,0)")});U._context.staticPlot||(V.on("mousedown",function(){(N=new Date().getTime())-U._legendMouseDownTime<W?F+=1:(F=1,U._legendMouseDownTime=N)}),V.on("mouseup",function(){if(!U._dragged&&!U._editing){var j=U._fullLayout[z];new Date().getTime()-U._legendMouseDownTime>W&&(F=Math.max(F-1,1)),_(U,j,R,F,M.event)}}))}function E(R,U,z,N,W){N._inHover&&R.attr("data-notex",!0),i.convertToTspans(R,z,function(){(function(F,V,j,te){var J=F.data()[0][0];if(j._inHover||!J||J.trace.showlegend){var K=F.select("g[class*=math-group]"),Z=K.node(),X=O(j);j||(j=V._fullLayout[X]);var Q,re,ae=j.borderwidth,ie=(te===p?j.title.font:J.groupTitle?J.groupTitle.font:j.font).size*l;if(Z){var le=s.bBox(Z);Q=le.height,re=le.width,te===p?s.setTranslate(K,ae,ae+.75*Q):s.setTranslate(K,0,.25*Q)}else{var pe="."+X+(te===p?"title":"")+"text",de=F.select(pe),ve=i.lineCount(de),be=de.node();if(Q=ie*ve,re=be?s.bBox(be).width:0,te===p)j.title.side==="left"&&(re+=2*n.itemGap),i.positionText(de,ae+n.titlePad,ae+ie);else{var me=2*n.itemGap+j.indentation+j.itemwidth;J.groupTitle&&(me=n.itemGap,re-=j.indentation+j.itemwidth),i.positionText(de,me,-ie*((ve-1)/2-.3))}}te===p?(j._titleWidth=re,j._titleHeight=Q):(J.lineHeight=ie,J.height=Math.max(Q,16)+3,J.width=re)}else F.remove()})(U,z,N,W)})}function C(R){return k.isRightAnchor(R)?"right":k.isCenterAnchor(R)?"center":"left"}function P(R){return k.isBottomAnchor(R)?"bottom":k.isMiddleAnchor(R)?"middle":"top"}function O(R){return R._id||"legend"}ee.exports=function(R,U){if(U)y(R,U);else{var z=R._fullLayout,N=z._legends;z._infolayer.selectAll('[class^="legend"]').each(function(){var V=M.select(this),j=V.attr("class").split(" ")[0];j.match(v)&&N.indexOf(j)===-1&&V.remove()});for(var W=0;W<N.length;W++){var F=N[W];y(R,R._fullLayout[F])}}}},35456:function(ee,D,e){var M=e(24040),k=e(42451);ee.exports=function(a,T,b){var g,s,t=T._inHover,i=k.isGrouped(T),r=k.isReversed(T),n={},o=[],l=!1,u={},d=0,c=0;function m(N,W,F){if(T.visible!==!1&&(!b||N===T._id))if(W!==""&&k.isGrouped(T))o.indexOf(W)===-1?(o.push(W),l=!0,n[W]=[F]):n[W].push(F);else{var V="~~i"+d;o.push(V),n[V]=[F],d++}}for(g=0;g<a.length;g++){var f=a[g],p=f[0],v=p.trace,y=v.legend,x=v.legendgroup;if(t||v.visible&&v.showlegend)if(M.traceIs(v,"pie-like"))for(u[x]||(u[x]={}),s=0;s<f.length;s++){var _=f[s].label;u[x][_]||(m(y,x,{label:_,color:f[s].color,i:f[s].i,trace:v,pts:f[s].pts}),u[x][_]=!0,c=Math.max(c,(_||"").length))}else m(y,x,p),c=Math.max(c,(v.name||"").length)}if(!o.length)return[];var h=!l||!i,S=[];for(g=0;g<o.length;g++){var w=n[o[g]];h?S.push(w[0]):S.push(w)}for(h&&(S=[S]),g=0;g<S.length;g++){var E=1/0;for(s=0;s<S[g].length;s++){var C=S[g][s].trace.legendrank;E>C&&(E=C)}S[g][0]._groupMinRank=E,S[g][0]._preGroupSort=g}var P=function(N,W){return N.trace.legendrank-W.trace.legendrank||N._preSort-W._preSort};for(S.forEach(function(N,W){N[0]._preGroupSort=W}),S.sort(function(N,W){return N[0]._groupMinRank-W[0]._groupMinRank||N[0]._preGroupSort-W[0]._preGroupSort}),g=0;g<S.length;g++){S[g].forEach(function(N,W){N._preSort=W}),S[g].sort(P);var O=S[g][0].trace,R=null;for(s=0;s<S[g].length;s++){var U=S[g][s].trace.legendgrouptitle;if(U&&U.text){R=U,t&&(U.font=T._groupTitleFont);break}}if(r&&S[g].reverse(),R){var z=!1;for(s=0;s<S[g].length;s++)if(M.traceIs(S[g][s].trace,"pie-like")){z=!0;break}S[g].unshift({i:-1,groupTitle:R,noClick:z,trace:{showlegend:O.showlegend,legendgroup:O.legendgroup,visible:T.groupclick==="toggleitem"||O.visible}})}for(s=0;s<S[g].length;s++)S[g][s]=[S[g][s]]}return T._lgroupsLength=S.length,T._maxNameLength=c,S}},33048:function(ee,D,e){var M=e(24040),k=e(3400),a=k.pushUnique,T=!0;ee.exports=function(b,g,s){var t=g._fullLayout;if(!g._dragged&&!g._editing){var i,r=t.legend.itemclick,n=t.legend.itemdoubleclick,o=t.legend.groupclick;if(s===1&&r==="toggle"&&n==="toggleothers"&&T&&g.data&&g._context.showTips&&k.notifier(k._(g,"Double-click on legend to isolate one trace"),"long"),T=!1,s===1?i=r:s===2&&(i=n),i){var l=o==="togglegroup",u=t.hiddenlabels?t.hiddenlabels.slice():[],d=b.data()[0][0];if(!d.groupTitle||!d.noClick){var c=g._fullData,m=(t.shapes||[]).filter(function(we){return we.showlegend}),f=c.concat(m),p=d.trace;p._isShape&&(p=p._fullInput);var v,y,x,_,h,S=p.legendgroup,w={},E=[],C=[],P=[],O=(t.shapes||[]).map(function(we){return we._input}),R=!1,U=p.legend,z=p._fullInput;if(z&&z._isShape||!M.traceIs(p,"pie-like")){var N,W=S&&S.length,F=[];if(W)for(v=0;v<f.length;v++)(N=f[v]).visible&&N.legendgroup===S&&F.push(v);if(i==="toggle"){var V;switch(p.visible){case!0:V="legendonly";break;case!1:V=!1;break;case"legendonly":V=!0}if(W)if(l)for(v=0;v<f.length;v++){var j=f[v];j.visible!==!1&&j.legendgroup===S&&ke(j,V)}else ke(p,V);else ke(p,V)}else if(i==="toggleothers"){var te,J,K,Z,X=!0;for(v=0;v<f.length;v++)if(te=(Z=f[v])===p,J=Z.showlegend!==!0,!(te||J||W&&Z.legendgroup===S||Z.legend!==U||Z.visible!==!0||M.traceIs(Z,"notLegendIsolatable"))){X=!1;break}for(v=0;v<f.length;v++)if((Z=f[v]).visible!==!1&&Z.legend===U&&!M.traceIs(Z,"notLegendIsolatable"))switch(p.visible){case"legendonly":ke(Z,!0);break;case!0:K=!!X||"legendonly",te=Z===p,J=Z.showlegend!==!0&&!Z.legendgroup,ke(Z,!!(te||W&&Z.legendgroup===S||J)||K)}}for(v=0;v<C.length;v++)if(x=C[v]){var Q=x.constructUpdate(),re=Object.keys(Q);for(y=0;y<re.length;y++)_=re[y],(w[_]=w[_]||[])[P[v]]=Q[_]}for(h=Object.keys(w),v=0;v<h.length;v++)for(_=h[v],y=0;y<E.length;y++)w[_].hasOwnProperty(y)||(w[_][y]=void 0);R?M.call("_guiUpdate",g,w,{shapes:O},E):M.call("_guiRestyle",g,w,E)}else{var ae=d.label,ie=u.indexOf(ae);if(i==="toggle")ie===-1?u.push(ae):u.splice(ie,1);else if(i==="toggleothers"){var le=ie!==-1,pe=[];for(v=0;v<g.calcdata.length;v++){var de=g.calcdata[v];for(y=0;y<de.length;y++){var ve=de[y].label;U===de[0].trace.legend&&ae!==ve&&(u.indexOf(ve)===-1&&(le=!0),a(u,ve),pe.push(ve))}}if(!le)for(var be=0;be<pe.length;be++){var me=u.indexOf(pe[be]);me!==-1&&u.splice(me,1)}}M.call("_guiRelayout",g,"hiddenlabels",u)}}}}function ge(we,ue){var oe=E.indexOf(we),he=w.visible;return he||(he=w.visible=[]),E.indexOf(we)===-1&&(E.push(we),oe=E.length-1),he[oe]=ue,oe}function ke(we,ue){if(!d.groupTitle||l){var oe,he=we._fullInput||we,Ee=he._isShape,Te=he.index;if(Te===void 0&&(Te=he._index),M.hasTransform(he,"groupby")){var Me=C[Te];if(!Me){var Se=M.getTransformIndices(he,"groupby"),ze=Se[Se.length-1];Me=k.keyedContainer(he,"transforms["+ze+"].styles","target","value.visible"),C[Te]=Me}var fe=Me.get(we._group);fe===void 0&&(fe=!0),fe!==!1&&Me.set(we._group,ue),P[Te]=ge(Te,he.visible!==!1)}else{var xe=he.visible!==!1&&ue;Ee?(oe=xe,O[Te].visible=oe,R=!0):ge(Te,xe)}}}}},42451:function(ee,D){D.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},D.isVertical=function(e){return e.orientation!=="h"},D.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2780:function(ee,D,e){ee.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(ee,D,e){var M=e(33428),k=e(24040),a=e(3400),T=a.strTranslate,b=e(43616),g=e(76308),s=e(94288).extractOpts,t=e(43028),i=e(10528),r=e(69656).castOption,n=e(65196);function o(d,c){return(c?"radial":"horizontal")+(d?"":"reversed")}function l(d){var c=d[0].trace,m=c.contours,f=t.hasLines(c),p=t.hasMarkers(c),v=c.visible&&c.fill&&c.fill!=="none",y=!1,x=!1;if(m){var _=m.coloring;_==="lines"?y=!0:f=_==="none"||_==="heatmap"||m.showlines,m.type==="constraint"?v=m._operation!=="=":_!=="fill"&&_!=="heatmap"||(x=!0)}return{showMarker:p,showLine:f,showFill:v,showGradientLine:y,showGradientFill:x,anyLine:f||y,anyFill:v||x}}function u(d,c,m){return d&&a.isArrayOrTypedArray(d)?c:d>m?m:d}ee.exports=function(d,c,m){var f=c._fullLayout;m||(m=f.legend);var p=m.itemsizing==="constant",v=m.itemwidth,y=(v+2*n.itemGap)/2,x=T(y,0),_=function(w,E,C,P){var O;if(w+1)O=w;else{if(!(E&&E.width>0))return 0;O=E.width}return p?P:Math.min(O,C)};function h(w,E,C){var P=w[0].trace,O=P.marker||{},R=O.line||{},U=O.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",z=C?P.visible&&P.type===C:k.traceIs(P,"bar"),N=M.select(E).select("g.legendpoints").selectAll("path.legend"+C).data(z?[w]:[]);N.enter().append("path").classed("legend"+C,!0).attr("d",U).attr("transform",x),N.exit().remove(),N.each(function(W){var F=M.select(this),V=W[0],j=_(V.mlw,O.line,5,2);F.style("stroke-width",j+"px");var te=V.mcc;if(!m._inHover&&"mc"in V){var J=s(O),K=J.mid;K===void 0&&(K=(J.max+J.min)/2),te=b.tryColorscale(O,"")(K)}var Z=te||V.mc||O.color,X=O.pattern,Q=X&&b.getPatternAttr(X.shape,0,"");if(Q){var re=b.getPatternAttr(X.bgcolor,0,null),ae=b.getPatternAttr(X.fgcolor,0,null),ie=X.fgopacity,le=u(X.size,8,10),pe=u(X.solidity,.5,1),de="legend-"+P.uid;F.call(b.pattern,"legend",c,de,Q,le,pe,te,X.fillmode,re,ae,ie)}else F.call(g.fill,Z);j&&g.stroke(F,V.mlc||R.color)})}function S(w,E,C){var P=w[0],O=P.trace,R=C?O.visible&&O.type===C:k.traceIs(O,C),U=M.select(E).select("g.legendpoints").selectAll("path.legend"+C).data(R?[w]:[]);if(U.enter().append("path").classed("legend"+C,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",x),U.exit().remove(),U.size()){var z=O.marker||{},N=_(r(z.line.width,P.pts),z.line,5,2),W="pieLike",F=a.minExtend(O,{marker:{line:{width:N}}},W),V=a.minExtend(P,{trace:F},W);i(U,V,F,c)}}d.each(function(w){var E=M.select(this),C=a.ensureSingle(E,"g","layers");C.style("opacity",w[0].trace.opacity);var P=m.indentation,O=m.valign,R=w[0].lineHeight,U=w[0].height;if(O==="middle"&&P===0||!R||!U)C.attr("transform",null);else{var z={top:1,bottom:-1}[O]*(.5*(R-U+3))||0,N=m.indentation;C.attr("transform",T(N,z))}C.selectAll("g.legendfill").data([w]).enter().append("g").classed("legendfill",!0),C.selectAll("g.legendlines").data([w]).enter().append("g").classed("legendlines",!0);var W=C.selectAll("g.legendsymbols").data([w]);W.enter().append("g").classed("legendsymbols",!0),W.selectAll("g.legendpoints").data([w]).enter().append("g").classed("legendpoints",!0)}).each(function(w){var E,C=w[0].trace,P=[];if(C.visible)switch(C.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],E=!0;break;case"choropleth":case"choroplethmapbox":P=[["M-6,-6V6H6V-6Z"]],E=!0;break;case"densitymapbox":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],E="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],E=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],E=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],E=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],E=!1}var O=M.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);O.enter().append("path").classed("legend3dandfriends",!0).attr("transform",x).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(R,U){var z,N=M.select(this),W=s(C),F=W.colorscale,V=W.reversescale;if(F){if(!E){var j=F.length;z=U===0?F[V?j-1:0][1]:U===1?F[V?0:j-1][1]:F[Math.floor((j-1)/2)][1]}}else{var te=C.vertexcolor||C.facecolor||C.color;z=a.isArrayOrTypedArray(te)?te[U]||te[0]:te}N.attr("d",R[0]),z?N.call(g.fill,z):N.call(function(J){if(J.size()){var K="legendfill-"+C.uid;b.gradient(J,c,K,o(V,E==="radial"),F,"fill")}})})}).each(function(w){var E=w[0].trace,C=E.type==="waterfall";if(w[0]._distinct&&C){var P=w[0].trace[w[0].dir].marker;return w[0].mc=P.color,w[0].mlw=P.line.width,w[0].mlc=P.line.color,h(w,this,"waterfall")}var O=[];E.visible&&C&&(O=w[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=M.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(O);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",x).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(U){var z=M.select(this),N=E[U[0]].marker,W=_(void 0,N.line,5,2);z.attr("d",U[1]).style("stroke-width",W+"px").call(g.fill,N.color),W&&z.call(g.stroke,N.line.color)})}).each(function(w){h(w,this,"funnel")}).each(function(w){h(w,this)}).each(function(w){var E=w[0].trace,C=M.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&k.traceIs(E,"box-violin")?[w]:[]);C.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",x),C.exit().remove(),C.each(function(){var P=M.select(this);if(E.boxpoints!=="all"&&E.points!=="all"||g.opacity(E.fillcolor)!==0||g.opacity((E.line||{}).color)!==0){var O=_(void 0,E.line,5,2);P.style("stroke-width",O+"px").call(g.fill,E.fillcolor),O&&g.stroke(P,E.line.color)}else{var R=a.minExtend(E,{marker:{size:p?12:a.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});C.call(b.pointStyle,R,c)}})}).each(function(w){S(w,this,"funnelarea")}).each(function(w){S(w,this,"pie")}).each(function(w){var E,C,P=l(w),O=P.showFill,R=P.showLine,U=P.showGradientLine,z=P.showGradientFill,N=P.anyFill,W=P.anyLine,F=w[0],V=F.trace,j=s(V),te=j.colorscale,J=j.reversescale,K=t.hasMarkers(V)||!N?"M5,0":W?"M5,-2":"M5,-3",Z=M.select(this),X=Z.select(".legendfill").selectAll("path").data(O||z?[w]:[]);if(X.enter().append("path").classed("js-fill",!0),X.exit().remove(),X.attr("d",K+"h"+v+"v6h-"+v+"z").call(function(ae){if(ae.size())if(O)b.fillGroupStyle(ae,c,!0);else{var ie="legendfill-"+V.uid;b.gradient(ae,c,ie,o(J),te,"fill")}}),R||U){var Q=_(void 0,V.line,10,5);C=a.minExtend(V,{line:{width:Q}}),E=[a.minExtend(F,{trace:C})]}var re=Z.select(".legendlines").selectAll("path").data(R||U?[E]:[]);re.enter().append("path").classed("js-line",!0),re.exit().remove(),re.attr("d",K+(U?"l"+v+",0.0001":"h"+v)).call(R?b.lineGroupStyle:function(ae){if(ae.size()){var ie="legendline-"+V.uid;b.lineGroupStyle(ae),b.gradient(ae,c,ie,o(J),te,"stroke")}})}).each(function(w){var E,C,P=l(w),O=P.anyFill,R=P.anyLine,U=P.showLine,z=P.showMarker,N=w[0],W=N.trace,F=!z&&!R&&!O&&t.hasText(W);function V(re,ae,ie,le){var pe=a.nestedProperty(W,re).get(),de=a.isArrayOrTypedArray(pe)&&ae?ae(pe):pe;if(p&&de&&le!==void 0&&(de=le),ie){if(de<ie[0])return ie[0];if(de>ie[1])return ie[1]}return de}function j(re){return N._distinct&&N.index&&re[N.index]?re[N.index]:re[0]}if(z||F||U){var te={},J={};if(z){te.mc=V("marker.color",j),te.mx=V("marker.symbol",j),te.mo=V("marker.opacity",a.mean,[.2,1]),te.mlc=V("marker.line.color",j),te.mlw=V("marker.line.width",a.mean,[0,5],2),J.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var K=V("marker.size",a.mean,[2,16],12);te.ms=K,J.marker.size=K}U&&(J.line={width:V("line.width",j,[0,10],5)}),F&&(te.tx="Aa",te.tp=V("textposition",j),te.ts=10,te.tc=V("textfont.color",j),te.tf=V("textfont.family",j)),E=[a.minExtend(N,te)],(C=a.minExtend(W,J)).selectedpoints=null,C.texttemplate=null}var Z=M.select(this).select("g.legendpoints"),X=Z.selectAll("path.scatterpts").data(z?E:[]);X.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",x),X.exit().remove(),X.call(b.pointStyle,C,c),z&&(E[0].mrc=3);var Q=Z.selectAll("g.pointtext").data(F?E:[]);Q.enter().append("g").classed("pointtext",!0).append("text").attr("transform",x),Q.exit().remove(),Q.selectAll("text").call(b.textPointStyle,C,c)}).each(function(w){var E=w[0].trace,C=M.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&E.type==="candlestick"?[w,w]:[]);C.enter().append("path").classed("legendcandle",!0).attr("d",function(P,O){return O?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",x).style("stroke-miterlimit",1),C.exit().remove(),C.each(function(P,O){var R=M.select(this),U=E[O?"increasing":"decreasing"],z=_(void 0,U.line,5,2);R.style("stroke-width",z+"px").call(g.fill,U.fillcolor),z&&g.stroke(R,U.line.color)})}).each(function(w){var E=w[0].trace,C=M.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&E.type==="ohlc"?[w,w]:[]);C.enter().append("path").classed("legendohlc",!0).attr("d",function(P,O){return O?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",x).style("stroke-miterlimit",1),C.exit().remove(),C.each(function(P,O){var R=M.select(this),U=E[O?"increasing":"decreasing"],z=_(void 0,U.line,5,2);R.style("fill","none").call(b.dashLine,U.line.dash,z),z&&g.stroke(R,U.line.color)})})}},66540:function(ee,D,e){e(76052),ee.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(ee,D,e){var M=e(24040),k=e(7316),a=e(79811),T=e(9224),b=e(4016).eraseActiveShape,g=e(3400),s=g._,t=ee.exports={};function i(f,p){var v,y,x=p.currentTarget,_=x.getAttribute("data-attr"),h=x.getAttribute("data-val")||!0,S=f._fullLayout,w={},E=a.list(f,null,!0),C=S._cartesianSpikesEnabled;if(_==="zoom"){var P,O=h==="in"?.5:2,R=(1+O)/2,U=(1-O)/2;for(y=0;y<E.length;y++)if(!(v=E[y]).fixedrange)if(P=v._name,h==="auto")w[P+".autorange"]=!0;else if(h==="reset")v._rangeInitial0===void 0&&v._rangeInitial1===void 0?w[P+".autorange"]=!0:v._rangeInitial0===void 0?(w[P+".autorange"]=v._autorangeInitial,w[P+".range"]=[null,v._rangeInitial1]):v._rangeInitial1===void 0?(w[P+".range"]=[v._rangeInitial0,null],w[P+".autorange"]=v._autorangeInitial):w[P+".range"]=[v._rangeInitial0,v._rangeInitial1],v._showSpikeInitial!==void 0&&(w[P+".showspikes"]=v._showSpikeInitial,C!=="on"||v._showSpikeInitial||(C="off"));else{var z=[v.r2l(v.range[0]),v.r2l(v.range[1])],N=[R*z[0]+U*z[1],R*z[1]+U*z[0]];w[P+".range[0]"]=v.l2r(N[0]),w[P+".range[1]"]=v.l2r(N[1])}}else _!=="hovermode"||h!=="x"&&h!=="y"||(h=S._isHoriz?"y":"x",x.setAttribute("data-val",h)),w[_]=h;S._cartesianSpikesEnabled=C,M.call("_guiRelayout",f,w)}function r(f,p){for(var v=p.currentTarget,y=v.getAttribute("data-attr"),x=v.getAttribute("data-val")||!0,_=f._fullLayout._subplots.gl3d||[],h={},S=y.split("."),w=0;w<_.length;w++)h[_[w]+"."+S[1]]=x;var E=x==="pan"?x:"zoom";h.dragmode=E,M.call("_guiRelayout",f,h)}function n(f,p){for(var v=p.currentTarget.getAttribute("data-attr"),y=v==="resetLastSave",x=v==="resetDefault",_=f._fullLayout,h=_._subplots.gl3d||[],S={},w=0;w<h.length;w++){var E,C=h[w],P=C+".camera",O=C+".aspectratio",R=C+".aspectmode",U=_[C]._scene;y?(S[P+".up"]=U.viewInitial.up,S[P+".eye"]=U.viewInitial.eye,S[P+".center"]=U.viewInitial.center,E=!0):x&&(S[P+".up"]=null,S[P+".eye"]=null,S[P+".center"]=null,E=!0),E&&(S[O+".x"]=U.viewInitial.aspectratio.x,S[O+".y"]=U.viewInitial.aspectratio.y,S[O+".z"]=U.viewInitial.aspectratio.z,S[R]=U.viewInitial.aspectmode)}M.call("_guiRelayout",f,S)}function o(f,p){var v=p.currentTarget,y=v._previousVal,x=f._fullLayout,_=x._subplots.gl3d||[],h=["xaxis","yaxis","zaxis"],S={},w={};if(y)w=y,v._previousVal=null;else{for(var E=0;E<_.length;E++){var C=_[E],P=x[C],O=C+".hovermode";S[O]=P.hovermode,w[O]=!1;for(var R=0;R<3;R++){var U=h[R],z=C+"."+U+".showspikes";w[z]=!1,S[z]=P[U].showspikes}}v._previousVal=S}return w}function l(f,p){for(var v=p.currentTarget,y=v.getAttribute("data-attr"),x=v.getAttribute("data-val")||!0,_=f._fullLayout,h=_._subplots.geo||[],S=0;S<h.length;S++){var w=h[S],E=_[w];if(y==="zoom"){var C=E.projection.scale,P=x==="in"?2*C:.5*C;M.call("_guiRelayout",f,w+".projection.scale",P)}}y==="reset"&&m(f,"geo")}function u(f){var p=f._fullLayout;return!p.hovermode&&(p._has("cartesian")?p._isHoriz?"y":"x":"closest")}function d(f){var p=u(f);M.call("_guiRelayout",f,"hovermode",p)}function c(f,p){for(var v=p.currentTarget.getAttribute("data-val"),y=f._fullLayout,x=y._subplots.mapbox||[],_={},h=0;h<x.length;h++){var S=x[h],w=y[S].zoom,E=v==="in"?1.05*w:w/1.05;_[S+".zoom"]=E}M.call("_guiRelayout",f,_)}function m(f,p){for(var v=f._fullLayout,y=v._subplots[p]||[],x={},_=0;_<y.length;_++)for(var h=y[_],S=v[h]._subplot.viewInitial,w=Object.keys(S),E=0;E<w.length;E++){var C=w[E];x[h+"."+C]=S[C]}M.call("_guiRelayout",f,x)}t.toImage={name:"toImage",title:function(f){var p=(f._context.toImageButtonOptions||{}).format||"png";return s(f,p==="png"?"Download plot as a png":"Download plot")},icon:T.camera,click:function(f){var p=f._context.toImageButtonOptions,v={format:p.format||"png"};g.notifier(s(f,"Taking snapshot - this may take a few seconds"),"long"),v.format!=="svg"&&g.isIE()&&(g.notifier(s(f,"IE only supports svg.  Changing format to svg."),"long"),v.format="svg"),["filename","width","height","scale"].forEach(function(y){y in p&&(v[y]=p[y])}),M.call("downloadImage",f,v).then(function(y){g.notifier(s(f,"Snapshot succeeded")+" - "+y,"long")}).catch(function(){g.notifier(s(f,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(f){return s(f,"Edit in Chart Studio")},icon:T.disk,click:function(f){k.sendDataToCloud(f)}},t.editInChartStudio={name:"editInChartStudio",title:function(f){return s(f,"Edit in Chart Studio")},icon:T.pencil,click:function(f){k.sendDataToCloud(f)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(f){return s(f,"Zoom")},attr:"dragmode",val:"zoom",icon:T.zoombox,click:i},t.pan2d={name:"pan2d",_cat:"pan",title:function(f){return s(f,"Pan")},attr:"dragmode",val:"pan",icon:T.pan,click:i},t.select2d={name:"select2d",_cat:"select",title:function(f){return s(f,"Box Select")},attr:"dragmode",val:"select",icon:T.selectbox,click:i},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(f){return s(f,"Lasso Select")},attr:"dragmode",val:"lasso",icon:T.lasso,click:i},t.drawclosedpath={name:"drawclosedpath",title:function(f){return s(f,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:T.drawclosedpath,click:i},t.drawopenpath={name:"drawopenpath",title:function(f){return s(f,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:T.drawopenpath,click:i},t.drawline={name:"drawline",title:function(f){return s(f,"Draw line")},attr:"dragmode",val:"drawline",icon:T.drawline,click:i},t.drawrect={name:"drawrect",title:function(f){return s(f,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:T.drawrect,click:i},t.drawcircle={name:"drawcircle",title:function(f){return s(f,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:T.drawcircle,click:i},t.eraseshape={name:"eraseshape",title:function(f){return s(f,"Erase active shape")},icon:T.eraseshape,click:b},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(f){return s(f,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:i},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(f){return s(f,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:i},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(f){return s(f,"Autoscale")},attr:"zoom",val:"auto",icon:T.autoscale,click:i},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(f){return s(f,"Reset axes")},attr:"zoom",val:"reset",icon:T.home,click:i},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(f){return s(f,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:T.tooltip_basic,gravity:"ne",click:i},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(f){return s(f,"Compare data on hover")},attr:"hovermode",val:function(f){return f._fullLayout._isHoriz?"y":"x"},icon:T.tooltip_compare,gravity:"ne",click:i},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(f){return s(f,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:T.zoombox,click:r},t.pan3d={name:"pan3d",_cat:"pan",title:function(f){return s(f,"Pan")},attr:"scene.dragmode",val:"pan",icon:T.pan,click:r},t.orbitRotation={name:"orbitRotation",title:function(f){return s(f,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:T["3d_rotate"],click:r},t.tableRotation={name:"tableRotation",title:function(f){return s(f,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:T["z-axis"],click:r},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(f){return s(f,"Reset camera to default")},attr:"resetDefault",icon:T.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(f){return s(f,"Reset camera to last save")},attr:"resetLastSave",icon:T.movie,click:n},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(f){return s(f,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:function(f,p){var v=o(f,p);M.call("_guiRelayout",f,v)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(f){return s(f,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:l},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(f){return s(f,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:l},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(f){return s(f,"Reset")},attr:"reset",val:null,icon:T.autoscale,click:l},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(f){return s(f,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:d},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(f){return s(f,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:d},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(f){return s(f,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:T.tooltip_basic,gravity:"ne",click:d},t.resetViewSankey={name:"resetSankeyGroup",title:function(f){return s(f,"Reset view")},icon:T.home,click:function(f){for(var p={"node.groups":[],"node.x":[],"node.y":[]},v=0;v<f._fullData.length;v++){var y=f._fullData[v]._viewInitial;p["node.groups"].push(y.node.groups.slice()),p["node.x"].push(y.node.x.slice()),p["node.y"].push(y.node.y.slice())}M.call("restyle",f,p)}},t.toggleHover={name:"toggleHover",title:function(f){return s(f,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:function(f,p){var v=o(f,p);v.hovermode=u(f),M.call("_guiRelayout",f,v)}},t.resetViews={name:"resetViews",title:function(f){return s(f,"Reset views")},icon:T.home,click:function(f,p){var v=p.currentTarget;v.setAttribute("data-attr","zoom"),v.setAttribute("data-val","reset"),i(f,p),v.setAttribute("data-attr","resetLastSave"),n(f,p),m(f,"geo"),m(f,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(f){return s(f,"Toggle Spike Lines")},icon:T.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(f){var p=f._fullLayout,v=p._cartesianSpikesEnabled;p._cartesianSpikesEnabled=v==="on"?"off":"on",M.call("_guiRelayout",f,function(y){for(var x=y._fullLayout._cartesianSpikesEnabled==="on",_=a.list(y,null,!0),h={},S=0;S<_.length;S++){var w=_[S];h[w._name+".showspikes"]=!!x||w._showSpikeInitial}return h}(f))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(f){return s(f,"Reset view")},attr:"reset",icon:T.home,click:function(f){m(f,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(f){return s(f,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(f){return s(f,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:c}},76052:function(ee,D,e){var M=e(44248),k=Object.keys(M),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],T=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),b=[];k.forEach(function(g){(function(s){if(T.indexOf(s._cat||s.name)===-1){var t=s.name,i=(s._cat||s.name).toLowerCase();b.indexOf(t)===-1&&b.push(t),b.indexOf(i)===-1&&b.push(i)}})(M[g])}),b.sort(),ee.exports={DRAW_MODES:a,backButtons:T,foreButtons:b}},90824:function(ee,D,e){var M=e(3400),k=e(76308),a=e(31780),T=e(66540);ee.exports=function(b,g){var s=b.modebar||{},t=a.newContainer(g,"modebar");function i(n,o){return M.coerce(s,t,T,n,o)}i("orientation"),i("bgcolor",k.addOpacity(g.paper_bgcolor,.5));var r=k.contrast(k.rgb(g.modebar.bgcolor));i("color",k.addOpacity(r,.3)),i("activecolor",k.addOpacity(r,.7)),i("uirevision",g.uirevision),i("add"),i("remove")}},45460:function(ee,D,e){ee.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(ee,D,e){var M=e(79811),k=e(43028),a=e(24040),T=e(10624).isUnifiedHover,b=e(66400),g=e(44248),s=e(76052).DRAW_MODES,t=e(3400).extendDeep;ee.exports=function(i){var r=i._fullLayout,n=i._context,o=r._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var l,u=n.modeBarButtons;l=Array.isArray(u)&&u.length?function(d){for(var c=t([],d),m=0;m<c.length;m++)for(var f=c[m],p=0;p<f.length;p++){var v=f[p];if(typeof v=="string"){if(g[v]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[m][p]=g[v]}}return c}(u):!n.displayModeBar&&n.watermark?[]:function(d){var c=d._fullLayout,m=d._fullData,f=d._context;function p(pe,de){if(typeof de=="string"){if(de.toLowerCase()===pe.toLowerCase())return!0}else{var ve=de.name,be=de._cat||de.name;if(ve===pe||be===pe.toLowerCase())return!0}return!1}var v=c.modebar.add;typeof v=="string"&&(v=[v]);var y=c.modebar.remove;typeof y=="string"&&(y=[y]);var x=f.modeBarButtonsToAdd.concat(v.filter(function(pe){for(var de=0;de<f.modeBarButtonsToRemove.length;de++)if(p(pe,f.modeBarButtonsToRemove[de]))return!1;return!0})),_=f.modeBarButtonsToRemove.concat(y.filter(function(pe){for(var de=0;de<f.modeBarButtonsToAdd.length;de++)if(p(pe,f.modeBarButtonsToAdd[de]))return!1;return!0})),h=c._has("cartesian"),S=c._has("gl3d"),w=c._has("geo"),E=c._has("pie"),C=c._has("funnelarea"),P=c._has("gl2d"),O=c._has("ternary"),R=c._has("mapbox"),U=c._has("polar"),z=c._has("smith"),N=c._has("sankey"),W=function(pe){for(var de=M.list({_fullLayout:pe},null,!0),ve=0;ve<de.length;ve++)if(!de[ve].fixedrange)return!1;return!0}(c),F=T(c.hovermode),V=[];function j(pe){if(pe.length){for(var de=[],ve=0;ve<pe.length;ve++){for(var be=pe[ve],me=g[be],ge=me.name.toLowerCase(),ke=(me._cat||me.name).toLowerCase(),we=!1,ue=0;ue<_.length;ue++){var oe=_[ue].toLowerCase();if(oe===ge||oe===ke){we=!0;break}}we||de.push(g[be])}V.push(de)}}var te=["toImage"];f.showEditInChartStudio?te.push("editInChartStudio"):f.showSendToCloud&&te.push("sendDataToCloud"),j(te);var J=[],K=[],Z=[],X=[];(h||P||E||C||O)+w+S+R+U+z>1?(K=["toggleHover"],Z=["resetViews"]):w?(J=["zoomInGeo","zoomOutGeo"],K=["hoverClosestGeo"],Z=["resetGeo"]):S?(K=["hoverClosest3d"],Z=["resetCameraDefault3d","resetCameraLastSave3d"]):R?(J=["zoomInMapbox","zoomOutMapbox"],K=["toggleHover"],Z=["resetViewMapbox"]):P?K=["hoverClosestGl2d"]:E?K=["hoverClosestPie"]:N?(K=["hoverClosestCartesian","hoverCompareCartesian"],Z=["resetViewSankey"]):K=["toggleHover"],h&&(K=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(pe){for(var de=0;de<pe.length;de++)if(!a.traceIs(pe[de],"noHover"))return!1;return!0}(m)||F)&&(K=[]),!h&&!P||W||(J=["zoomIn2d","zoomOut2d","autoScale2d"],Z[0]!=="resetViews"&&(Z=["resetScale2d"])),S?X=["zoom3d","pan3d","orbitRotation","tableRotation"]:(h||P)&&!W||O?X=["zoom2d","pan2d"]:R||w?X=["pan2d"]:U&&(X=["zoom2d"]),function(pe){for(var de=!1,ve=0;ve<pe.length&&!de;ve++){var be=pe[ve];be._module&&be._module.selectPoints&&(a.traceIs(be,"scatter-like")?(k.hasMarkers(be)||k.hasText(be))&&(de=!0):a.traceIs(be,"box-violin")&&be.boxpoints!=="all"&&be.points!=="all"||(de=!0))}return de}(m)&&X.push("select2d","lasso2d");var Q=[],re=function(pe){Q.indexOf(pe)===-1&&K.indexOf(pe)!==-1&&Q.push(pe)};if(Array.isArray(x)){for(var ae=[],ie=0;ie<x.length;ie++){var le=x[ie];typeof le=="string"?(le=le.toLowerCase(),s.indexOf(le)!==-1?(c._has("mapbox")||c._has("cartesian"))&&X.push(le):le==="togglespikelines"?re("toggleSpikelines"):le==="togglehover"?re("toggleHover"):le==="hovercompare"?re("hoverCompareCartesian"):le==="hoverclosest"?(re("hoverClosestCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie")):le==="v1hovermode"&&(re("toggleHover"),re("hoverClosestCartesian"),re("hoverCompareCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie"))):ae.push(le)}x=ae}return j(X),j(J.concat(Z)),j(Q),function(pe,de){if(de.length)if(Array.isArray(de[0]))for(var ve=0;ve<de.length;ve++)pe.push(de[ve]);else pe.push(de);return pe}(V,x)}(i),o?o.update(i,l):r._modeBar=b(i,l)}else o&&(o.destroy(),delete r._modeBar)}},66400:function(ee,D,e){var M=e(33428),k=e(38248),a=e(3400),T=e(9224),b=e(25788).version,g=new DOMParser;function s(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=s.prototype;t.update=function(i,r){this.graphInfo=i;var n=this.graphInfo._context,o=this.graphInfo._fullLayout,l="modebar-"+o._uid;this.element.setAttribute("id",l),this._uid=l,this.element.className="modebar",n.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),o.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var u=o.modebar,d=n.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(l),a.addRelatedStyleRule(l,d+"#"+l+" .modebar-group","background-color: "+u.bgcolor),a.addRelatedStyleRule(l,"#"+l+" .modebar-btn .icon path","fill: "+u.color),a.addRelatedStyleRule(l,"#"+l+" .modebar-btn:hover .icon path","fill: "+u.activecolor),a.addRelatedStyleRule(l,"#"+l+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(r),m=this.hasLogo!==n.displaylogo,f=this.locale!==n.locale;if(this.locale=n.locale,(c||m||f)&&(this.removeAllButtons(),this.updateButtons(r),n.watermark||n.displaylogo)){var p=this.getLogo();n.watermark&&(p.className=p.className+" watermark"),o.modebar.orientation==="v"?this.element.insertBefore(p,this.element.childNodes[0]):this.element.appendChild(p),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var r=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(n){var o=r.createGroup();n.forEach(function(l){var u=l.name;if(!u)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");r.buttonsNames.push(u);var d=r.createButton(l);r.buttonElements.push(d),o.appendChild(d)}),r.element.appendChild(o)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var r=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var o=i.title;o===void 0?o=i.name:typeof o=="function"&&(o=o(this.graphInfo)),(o||o===0)&&n.setAttribute("data-title",o),i.attr!==void 0&&n.setAttribute("data-attr",i.attr);var l=i.val;if(l!==void 0&&(typeof l=="function"&&(l=l(this.graphInfo)),n.setAttribute("data-val",l)),typeof i.click!="function")throw new Error("must provide button 'click' function in button config");n.addEventListener("click",function(d){i.click(r.graphInfo,d),r.updateActiveButton(d.currentTarget)}),n.setAttribute("data-toggle",i.toggle||!1),i.toggle&&M.select(n).classed("active",!0);var u=i.icon;return typeof u=="function"?n.appendChild(u()):n.appendChild(this.createIcon(u||T.question)),n.setAttribute("data-gravity",i.gravity||"n"),n},t.createIcon=function(i){var r,n=k(i.height)?Number(i.height):i.ascent-i.descent,o="http://www.w3.org/2000/svg";if(i.path){(r=document.createElementNS(o,"svg")).setAttribute("viewBox",[0,0,i.width,n].join(" ")),r.setAttribute("class","icon");var l=document.createElementNS(o,"path");l.setAttribute("d",i.path),i.transform?l.setAttribute("transform",i.transform):i.ascent!==void 0&&l.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),r.appendChild(l)}return i.svg&&(r=g.parseFromString(i.svg,"application/xml").childNodes[0]),r.setAttribute("height","1em"),r.setAttribute("width","1em"),r},t.updateActiveButton=function(i){var r=this.graphInfo._fullLayout,n=i!==void 0?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(o){var l=o.getAttribute("data-val")||!0,u=o.getAttribute("data-attr"),d=o.getAttribute("data-toggle")==="true",c=M.select(o);if(d)u===n&&c.classed("active",!c.classed("active"));else{var m=u===null?u:a.nestedProperty(r,u).get();c.classed("active",m===l)}})},t.hasButtons=function(i){var r=this.buttons;if(!r||i.length!==r.length)return!1;for(var n=0;n<i.length;++n){if(i[n].length!==r[n].length)return!1;for(var o=0;o<i[n].length;o++)if(i[n][o].name!==r[n][o].name)return!1}return!0},t.getLogo=function(){var i=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly.js")+" (v"+b+")"),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(T.newplotlylogo)),i.appendChild(r),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},ee.exports=function(i,r){var n=i._fullLayout,o=new s({graphInfo:i,container:n._modebardiv.node(),buttons:r});return n._privateplot&&M.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}},26680:function(ee,D,e){var M=e(25376),k=e(22548),a=(0,e(31780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ee.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:M({editType:"plot"}),bgcolor:{valType:"color",dflt:k.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(ee){ee.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(ee,D,e){var M=e(3400),k=e(76308),a=e(31780),T=e(51272),b=e(26680),g=e(85984);function s(t,i,r,n){var o=n.calendar;function l(d,c){return M.coerce(t,i,b.buttons,d,c)}if(l("visible")){var u=l("step");u!=="all"&&(!o||o==="gregorian"||u!=="month"&&u!=="year"?l("stepmode"):i.stepmode="backward",l("count")),l("label")}}ee.exports=function(t,i,r,n,o){var l=t.rangeselector||{},u=a.newContainer(i,"rangeselector");function d(f,p){return M.coerce(l,u,b,f,p)}if(d("visible",T(l,u,{name:"buttons",handleItemDefaults:s,calendar:o}).length>0)){var c=function(f,p,v){for(var y=v.filter(function(S){return p[S].anchor===f._id}),x=0,_=0;_<y.length;_++){var h=p[y[_]].domain;h&&(x=Math.max(h[1],x))}return[f.domain[0],x+g.yPad]}(i,r,n);d("x",c[0]),d("y",c[1]),M.noneOrAll(t,i,["x","y"]),d("xanchor"),d("yanchor"),M.coerceFont(d,"font",r.font);var m=d("bgcolor");d("activecolor",k.contrast(m,g.lightAmount,g.darkAmount)),d("bordercolor"),d("borderwidth")}}},50216:function(ee,D,e){var M=e(33428),k=e(24040),a=e(7316),T=e(76308),b=e(43616),g=e(3400),s=g.strTranslate,t=e(72736),i=e(79811),r=e(84284),n=r.LINE_SPACING,o=r.FROM_TL,l=r.FROM_BR,u=e(85984),d=e(48040);function c(p){return p._id}function m(p,v,y){var x=g.ensureSingle(p,"rect","selector-rect",function(_){_.attr("shape-rendering","crispEdges")});x.attr({rx:u.rx,ry:u.ry}),x.call(T.stroke,v.bordercolor).call(T.fill,function(_,h){return h._isActive||h._isHovered?_.activecolor:_.bgcolor}(v,y)).style("stroke-width",v.borderwidth+"px")}function f(p,v,y,x){var _,h;g.ensureSingle(p,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(b.font,v.font).text((_=y,h=x._fullLayout._meta,_.label?h?g.templateString(_.label,h):_.label:_.step==="all"?"all":_.count+_.step.charAt(0))).call(function(S){t.convertToTspans(S,x)})}ee.exports=function(p){var v=p._fullLayout._infolayer.selectAll(".rangeselector").data(function(y){for(var x=i.list(y,"x",!0),_=[],h=0;h<x.length;h++){var S=x[h];S.rangeselector&&S.rangeselector.visible&&_.push(S)}return _}(p),c);v.enter().append("g").classed("rangeselector",!0),v.exit().remove(),v.style({cursor:"pointer","pointer-events":"all"}),v.each(function(y){var x=M.select(this),_=y,h=_.rangeselector,S=x.selectAll("g.button").data(g.filterVisible(h.buttons));S.enter().append("g").classed("button",!0),S.exit().remove(),S.each(function(w){var E=M.select(this),C=d(_,w);w._isActive=function(P,O,R){if(O.step==="all")return P.autorange===!0;var U=Object.keys(R);return P.range[0]===R[U[0]]&&P.range[1]===R[U[1]]}(_,w,C),E.call(m,h,w),E.call(f,h,w,p),E.on("click",function(){p._dragged||k.call("_guiRelayout",p,C)}),E.on("mouseover",function(){w._isHovered=!0,E.call(m,h,w)}),E.on("mouseout",function(){w._isHovered=!1,E.call(m,h,w)})}),function(w,E,C,P,O){var R=0,U=0,z=C.borderwidth;E.each(function(){var te=M.select(this).select(".selector-text"),J=C.font.size*n,K=Math.max(J*t.lineCount(te),16)+3;U=Math.max(U,K)}),E.each(function(){var te=M.select(this),J=te.select(".selector-rect"),K=te.select(".selector-text"),Z=K.node()&&b.bBox(K.node()).width,X=C.font.size*n,Q=t.lineCount(K),re=Math.max(Z+10,u.minButtonWidth);te.attr("transform",s(z+R,z)),J.attr({x:0,y:0,width:re,height:U}),t.positionText(K,re/2,U/2-(Q-1)*X/2+3),R+=re+5});var N=w._fullLayout._size,W=N.l+N.w*C.x,F=N.t+N.h*(1-C.y),V="left";g.isRightAnchor(C)&&(W-=R,V="right"),g.isCenterAnchor(C)&&(W-=R/2,V="center");var j="top";g.isBottomAnchor(C)&&(F-=U,j="bottom"),g.isMiddleAnchor(C)&&(F-=U/2,j="middle"),R=Math.ceil(R),U=Math.ceil(U),W=Math.round(W),F=Math.round(F),a.autoMargin(w,P+"-range-selector",{x:C.x,y:C.y,l:R*o[V],r:R*l[V],b:U*l[j],t:U*o[j]}),O.attr("transform",s(W,F))}(p,S,h,_._name,x)})}},48040:function(ee,D,e){var M=e(73220),k=e(3400).titleCase;ee.exports=function(a,T){var b=a._name,g={};if(T.step==="all")g[b+".autorange"]=!0;else{var s=function(t,i){var r,n=t.range,o=new Date(t.r2l(n[1])),l=i.step,u=M["utc"+k(l)],d=i.count;switch(i.stepmode){case"backward":r=t.l2r(+u.offset(o,-d));break;case"todate":var c=u.offset(o,-d);r=t.l2r(+u.ceil(c))}return[r,n[1]]}(a,T);g[b+".range[0]"]=s[0],g[b+".range[1]"]=s[1]}return g}},41152:function(ee,D,e){ee.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(ee,D,e){var M=e(22548);ee.exports={bgcolor:{valType:"color",dflt:M.background,editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(ee,D,e){var M=e(79811).list,k=e(19280).getAutoRange,a=e(74636);ee.exports=function(T){for(var b=M(T,"x",!0),g=0;g<b.length;g++){var s=b[g],t=s[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=k(T,s))}}},74636:function(ee){ee.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(ee,D,e){var M=e(3400),k=e(31780),a=e(79811),T=e(11200),b=e(10936);ee.exports=function(g,s,t){var i=g[t],r=s[t];if(i.rangeslider||s._requestRangeslider[r._id]){M.isPlainObject(i.rangeslider)||(i.rangeslider={});var n,o,l=i.rangeslider,u=k.newContainer(r,"rangeslider");if(x("visible")){x("bgcolor",s.plot_bgcolor),x("bordercolor"),x("borderwidth"),x("thickness"),x("autorange",!r.isValidRange(l.range)),x("range");var d=s._subplots;if(d)for(var c=d.cartesian.filter(function(h){return h.substr(0,h.indexOf("y"))===a.name2id(t)}).map(function(h){return h.substr(h.indexOf("y"),h.length)}),m=M.simpleMap(c,a.id2name),f=0;f<m.length;f++){var p=m[f];n=l[p]||{},o=k.newContainer(u,p,"yaxis");var v,y=s[p];n.range&&y.isValidRange(n.range)&&(v="fixed"),_("rangemode",v)!=="match"&&_("range",y.range.slice())}u._input=l}}function x(h,S){return M.coerce(l,u,T,h,S)}function _(h,S){return M.coerce(n,o,b,h,S)}}},20060:function(ee,D,e){var M=e(33428),k=e(24040),a=e(7316),T=e(3400),b=T.strTranslate,g=e(43616),s=e(76308),t=e(81668),i=e(57952),r=e(79811),n=e(86476),o=e(93972),l=e(74636);function u(y){return typeof y.clientX=="number"?y.clientX:y.touches&&y.touches.length>0?y.touches[0].clientX:0}function d(y,x,_,h){var S=T.ensureSingle(y,"rect",l.bgClassName,function(P){P.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),w=h.borderwidth%2==0?h.borderwidth:h.borderwidth-1,E=-h._offsetShift,C=g.crispRound(x,h.borderwidth);S.attr({width:h._width+w,height:h._height+w,transform:b(E,E),"stroke-width":C}).call(s.stroke,h.bordercolor).call(s.fill,h.bgcolor)}function c(y,x,_,h){var S=x._fullLayout;T.ensureSingleById(S._topdefs,"clipPath",h._clipId,function(w){w.append("rect").attr({x:0,y:0})}).select("rect").attr({width:h._width,height:h._height})}function m(y,x,_,h){var S,w=x.calcdata,E=y.selectAll("g."+l.rangePlotClassName).data(_._subplotsWith,T.identity);E.enter().append("g").attr("class",function(C){return l.rangePlotClassName+" "+C}).call(g.setClipUrl,h._clipId,x),E.order(),E.exit().remove(),E.each(function(C,P){var O=M.select(this),R=P===0,U=r.getFromId(x,C,"y"),z=U._name,N=h[z],W={data:[],layout:{xaxis:{type:_.type,domain:[0,1],range:h.range.slice(),calendar:_.calendar},width:h._width,height:h._height,margin:{t:0,b:0,l:0,r:0}},_context:x._context};_.rangebreaks&&(W.layout.xaxis.rangebreaks=_.rangebreaks),W.layout[z]={type:U.type,domain:[0,1],range:N.rangemode!=="match"?N.range.slice():U.range.slice(),calendar:U.calendar},U.rangebreaks&&(W.layout[z].rangebreaks=U.rangebreaks),a.supplyDefaults(W);var F=W._fullLayout.xaxis,V=W._fullLayout[z];F.clearCalc(),F.setScale(),V.clearCalc(),V.setScale();var j={id:C,plotgroup:O,xaxis:F,yaxis:V,isRangePlot:!0};R?S=j:(j.mainplot="xy",j.mainplotinfo=S),i.rangePlot(x,j,function(te,J){for(var K=[],Z=0;Z<te.length;Z++){var X=te[Z],Q=X[0].trace;Q.xaxis+Q.yaxis===J&&K.push(X)}return K}(w,C))})}function f(y,x,_,h,S){T.ensureSingle(y,"rect",l.maskMinClassName,function(w){w.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",h._height).call(s.fill,l.maskColor),T.ensureSingle(y,"rect",l.maskMaxClassName,function(w){w.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",h._height).call(s.fill,l.maskColor),S.rangemode!=="match"&&(T.ensureSingle(y,"rect",l.maskMinOppAxisClassName,function(w){w.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",h._width).call(s.fill,l.maskOppAxisColor),T.ensureSingle(y,"rect",l.maskMaxOppAxisClassName,function(w){w.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",h._width).style("border-top",l.maskOppBorder).call(s.fill,l.maskOppAxisColor))}function p(y,x,_,h){x._context.staticPlot||T.ensureSingle(y,"rect",l.slideBoxClassName,function(S){S.attr({y:0,cursor:l.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:h._height,fill:l.slideBoxFill})}function v(y,x,_,h){var S=T.ensureSingle(y,"g",l.grabberMinClassName),w=T.ensureSingle(y,"g",l.grabberMaxClassName),E={x:0,width:l.handleWidth,rx:l.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":l.handleStrokeWidth,"shape-rendering":"crispEdges"},C={y:Math.round(h._height/4),height:Math.round(h._height/2)};T.ensureSingle(S,"rect",l.handleMinClassName,function(O){O.attr(E)}).attr(C),T.ensureSingle(w,"rect",l.handleMaxClassName,function(O){O.attr(E)}).attr(C);var P={width:l.grabAreaWidth,x:0,y:0,fill:l.grabAreaFill,cursor:x._context.staticPlot?void 0:l.grabAreaCursor};T.ensureSingle(S,"rect",l.grabAreaMinClassName,function(O){O.attr(P)}).attr("height",h._height),T.ensureSingle(w,"rect",l.grabAreaMaxClassName,function(O){O.attr(P)}).attr("height",h._height)}ee.exports=function(y){for(var x=y._fullLayout,_=x._rangeSliderData,h=0;h<_.length;h++){var S=_[h][l.name];S._clipId=S._id+"-"+x._uid}var w=x._infolayer.selectAll("g."+l.containerClassName).data(_,function(E){return E._name});w.exit().each(function(E){var C=E[l.name];x._topdefs.select("#"+C._clipId).remove()}).remove(),_.length!==0&&(w.enter().append("g").classed(l.containerClassName,!0).attr("pointer-events","all"),w.each(function(E){var C=M.select(this),P=E[l.name],O=x[r.id2name(E.anchor)],R=P[r.id2name(E.anchor)];if(P.range){var U,z=T.simpleMap(P.range,E.r2l),N=T.simpleMap(E.range,E.r2l);U=N[0]<N[1]?[Math.min(z[0],N[0]),Math.max(z[1],N[1])]:[Math.max(z[0],N[0]),Math.min(z[1],N[1])],P.range=P._input.range=T.simpleMap(U,E.l2r)}E.cleanRange("rangeslider.range");var W=x._size,F=E.domain;P._width=W.w*(F[1]-F[0]);var V=Math.round(W.l+W.w*F[0]),j=Math.round(W.t+W.h*(1-E._counterDomainMin)+(E.side==="bottom"?E._depth:0)+P._offsetShift+l.extraPad);C.attr("transform",b(V,j)),P._rl=T.simpleMap(P.range,E.r2l);var te=P._rl[0],J=P._rl[1],K=J-te;if(P.p2d=function(de){return de/P._width*K+te},P.d2p=function(de){return(de-te)/K*P._width},E.rangebreaks){var Z=E.locateBreaks(te,J);if(Z.length){var X,Q,re=0;for(X=0;X<Z.length;X++)re+=(Q=Z[X]).max-Q.min;var ae=P._width/(J-te-re),ie=[-ae*te];for(X=0;X<Z.length;X++)Q=Z[X],ie.push(ie[ie.length-1]-ae*(Q.max-Q.min));for(P.d2p=function(de){for(var ve=ie[0],be=0;be<Z.length;be++){var me=Z[be];if(de>=me.max)ve=ie[be+1];else if(de<me.min)break}return ve+ae*de},X=0;X<Z.length;X++)(Q=Z[X]).pmin=P.d2p(Q.min),Q.pmax=P.d2p(Q.max);P.p2d=function(de){for(var ve=ie[0],be=0;be<Z.length;be++){var me=Z[be];if(de>=me.pmax)ve=ie[be+1];else if(de<me.pmin)break}return(de-ve)/ae}}}if(R.rangemode!=="match"){var le=O.r2l(R.range[0]),pe=O.r2l(R.range[1])-le;P.d2pOppAxis=function(de){return(de-le)/pe*P._height}}C.call(d,y,E,P).call(c,y,E,P).call(m,y,E,P).call(f,y,E,P,R).call(p,y,E,P).call(v,y,E,P),function(de,ve,be,me){if(!ve._context.staticPlot){var ge=de.select("rect."+l.slideBoxClassName).node(),ke=de.select("rect."+l.grabAreaMinClassName).node(),we=de.select("rect."+l.grabAreaMaxClassName).node();de.on("mousedown",ue),de.on("touchstart",ue)}function ue(){var oe=M.event,he=oe.target,Ee=u(oe),Te=Ee-de.node().getBoundingClientRect().left,Me=me.d2p(be._rl[0]),Se=me.d2p(be._rl[1]),ze=n.coverSlip();function fe(_e){var Oe,De,Pe,Ue=+u(_e)-Ee;switch(he){case ge:if(Pe="ew-resize",Me+Ue>be._length||Se+Ue<0)return;Oe=Me+Ue,De=Se+Ue;break;case ke:if(Pe="col-resize",Me+Ue>be._length)return;Oe=Me+Ue,De=Se;break;case we:if(Pe="col-resize",Se+Ue<0)return;Oe=Me,De=Se+Ue;break;default:Pe="ew-resize",Oe=Te,De=Te+Ue}if(De<Oe){var Ve=De;De=Oe,Oe=Ve}me._pixelMin=Oe,me._pixelMax=De,o(M.select(ze),Pe),function(Xe,it,tt,pt){function mt($e){return tt.l2r(T.constrain($e,pt._rl[0],pt._rl[1]))}var gt=mt(pt.p2d(pt._pixelMin)),et=mt(pt.p2d(pt._pixelMax));window.requestAnimationFrame(function(){k.call("_guiRelayout",it,tt._name+".range",[gt,et])})}(0,ve,be,me)}function xe(){ze.removeEventListener("mousemove",fe),ze.removeEventListener("mouseup",xe),this.removeEventListener("touchmove",fe),this.removeEventListener("touchend",xe),T.removeElement(ze)}this.addEventListener("touchmove",fe),this.addEventListener("touchend",xe),ze.addEventListener("mousemove",fe),ze.addEventListener("mouseup",xe)}}(C,y,E,P),function(de,ve,be,me,ge,ke){var we=l.handleWidth/2;function ue(_e){return T.constrain(_e,0,me._width)}function oe(_e){return T.constrain(_e,0,me._height)}function he(_e){return T.constrain(_e,-we,me._width+we)}var Ee=ue(me.d2p(be._rl[0])),Te=ue(me.d2p(be._rl[1]));if(de.select("rect."+l.slideBoxClassName).attr("x",Ee).attr("width",Te-Ee),de.select("rect."+l.maskMinClassName).attr("width",Ee),de.select("rect."+l.maskMaxClassName).attr("x",Te).attr("width",me._width-Te),ke.rangemode!=="match"){var Me=me._height-oe(me.d2pOppAxis(ge._rl[1])),Se=me._height-oe(me.d2pOppAxis(ge._rl[0]));de.select("rect."+l.maskMinOppAxisClassName).attr("x",Ee).attr("height",Me).attr("width",Te-Ee),de.select("rect."+l.maskMaxOppAxisClassName).attr("x",Ee).attr("y",Se).attr("height",me._height-Se).attr("width",Te-Ee),de.select("rect."+l.slideBoxClassName).attr("y",Me).attr("height",Se-Me)}var ze=.5,fe=Math.round(he(Ee-we))-ze,xe=Math.round(he(Te-we))+ze;de.select("g."+l.grabberMinClassName).attr("transform",b(fe,ze)),de.select("g."+l.grabberMaxClassName).attr("transform",b(xe,ze))}(C,0,E,P,O,R),E.side==="bottom"&&t.draw(y,E._id+"title",{propContainer:E,propName:E._name+".title",placeholder:x._dfltTitle.x,attributes:{x:E._offset+E._length/2,y:j+P._height+P._offsetShift+10+1.5*E.title.font.size,"text-anchor":"middle"}})}))}},97944:function(ee,D,e){var M=e(79811),k=e(72736),a=e(74636),T=e(84284).LINE_SPACING,b=a.name;function g(s){var t=s&&s[b];return t&&t.visible}D.isVisible=g,D.makeData=function(s){var t=M.list({_fullLayout:s},"x",!0),i=s.margin,r=[];if(!s._has("gl2d"))for(var n=0;n<t.length;n++){var o=t[n];if(g(o)){r.push(o);var l=o[b];l._id=b+o._id,l._height=(s.height-i.b-i.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}s._rangeSliderData=r},D.autoMarginOpts=function(s,t){var i=s._fullLayout,r=t[b],n=t._id.charAt(0),o=0,l=0;return t.side==="bottom"&&(o=t._depth,t.title.text!==i._dfltTitle[n]&&(l=1.5*t.title.font.size+10+r._offsetShift,l+=(t.title.text.match(k.BR_TAG_ALL)||[]).length*t.title.font.size*T)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+o+Math.max(i.margin.b,l),pad:a.extraPad+2*r._offsetShift}}},49692:function(ee,D,e){var M=e(3400),k=e(11200),a=e(10936),T=e(97944);ee.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:M.extendFlat({},k,{yaxis:a})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:T.isVisible,makeData:T.makeData,autoMarginOpts:T.autoMarginOpts}},10936:function(ee){ee.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(ee,D,e){var M=e(13916),k=e(52904).line,a=e(98192).u,T=e(92880).extendFlat,b=e(67824).overrideAll,g=e(31780).templatedArray;e(36208),ee.exports=b(g("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:T({},M.xref,{}),yref:T({},M.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:k.color,width:T({},k.width,{min:1,dflt:1}),dash:T({},a,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(ee){ee.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(ee,D,e){var M=e(3400),k=e(54460),a=e(51272),T=e(93956),b=e(65152);function g(s,t,i){function r(E,C){return M.coerce(s,t,T,E,C)}var n=r("path"),o=r("type",n?"path":"rect")!=="path";o&&delete t.path,r("opacity"),r("line.color"),r("line.width"),r("line.dash");for(var l=["x","y"],u=0;u<2;u++){var d,c,m,f=l[u],p={_fullLayout:i},v=k.coerceRef(s,t,p,f);if((d=k.getFromId(p,v))._selectionIndices.push(t._index),m=b.rangeToShapePosition(d),c=b.shapePositionToRange(d),o){var y=f+"0",x=f+"1",_=s[y],h=s[x];s[y]=c(s[y],!0),s[x]=c(s[x],!0),k.coercePosition(t,p,r,v,y),k.coercePosition(t,p,r,v,x);var S=t[y],w=t[x];S!==void 0&&w!==void 0&&(t[y]=m(S),t[x]=m(w),s[y]=_,s[x]=h)}}o&&M.noneOrAll(s,t,["x0","x1","y0","y1"])}ee.exports=function(s,t){a(s,t,{name:"selections",handleItemDefaults:g});for(var i=t.selections,r=0;r<i.length;r++){var n=i[r];n&&n.path===void 0&&(n.x0!==void 0&&n.x1!==void 0&&n.y0!==void 0&&n.y1!==void 0||(t.selections[r]=null))}}},23640:function(ee,D,e){var M=e(9856).readPaths,k=e(55496),a=e(1936).clearOutlineControllers,T=e(76308),b=e(43616),g=e(31780).arrayEditor,s=e(65152),t=s.getPathString;function i(u){var d=u._fullLayout;for(var c in a(u),d._selectionLayer.selectAll("path").remove(),d._plots){var m=d._plots[c].selectionLayer;m&&m.selectAll("path").remove()}for(var f=0;f<d.selections.length;f++)n(u,f)}function r(u){return u._context.editSelection}function n(u,d){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+d+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(u,d),m=c.options,f=c.plotinfo;m._input&&function(p){var v=t(u,m),y={"data-index":d,"fill-rule":"evenodd",d:v},x=m.opacity,_="rgba(0,0,0,0)",h=m.line.color||T.contrast(u._fullLayout.plot_bgcolor),S=m.line.width,w=m.line.dash;S||(S=5,w="solid");var E=r(u)&&u._fullLayout._activeSelectionIndex===d;E&&(_=u._fullLayout.activeselection.fillcolor,x=u._fullLayout.activeselection.opacity);for(var C=[],P=1;P>=0;P--){var O=p.append("path").attr(y).style("opacity",P?.1:x).call(T.stroke,h).call(T.fill,_).call(b.dashLine,P?"solid":w,P?4+S:S);if(o(O,u,m),E){var R=g(u.layout,"selections",m);O.style({cursor:"move"});var U={element:O.node(),plotinfo:f,gd:u,editHelpers:R,isActiveSelection:!0},z=M(v,u);k(z,O,U)}else O.style("pointer-events",P?"all":"none");C[P]=O}var N=C[0];C[1].node().addEventListener("click",function(){return function(W,F){if(r(W)){var V=+F.node().getAttribute("data-index");if(V>=0){if(V===W._fullLayout._activeSelectionIndex)return void l(W);W._fullLayout._activeSelectionIndex=V,W._fullLayout._deactivateSelection=l,i(W)}}}(u,N)})}(u._fullLayout._selectionLayer)}function o(u,d,c){var m=c.xref+c.yref;b.setClipUrl(u,"clip"+d._fullLayout._uid+m,d)}function l(u){r(u)&&u._fullLayout._activeSelectionIndex>=0&&(a(u),delete u._fullLayout._activeSelectionIndex,i(u))}ee.exports={draw:i,drawOne:n,activateLastSelection:function(u){if(r(u)){var d=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=d,u._fullLayout._deactivateSelection=l,i(u)}}}},34200:function(ee,D,e){var M=e(98192).u,k=e(92880).extendFlat;ee.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:k({},M,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(ee){ee.exports=function(D,e,M){M("newselection.mode"),M("newselection.line.width")&&(M("newselection.line.color"),M("newselection.line.dash")),M("activeselection.fillcolor"),M("activeselection.opacity")}},5968:function(ee,D,e){var M=e(72760).selectMode,k=e(1936).clearOutline,a=e(9856),T=a.readPaths,b=a.writePaths,g=a.fixDatesForPaths;ee.exports=function(s,t){if(s.length){var i=s[0][0];if(i){var r=i.getAttribute("d"),n=t.gd,o=n._fullLayout.newselection,l=t.plotinfo,u=l.xaxis,d=l.yaxis,c=t.isActiveSelection,m=t.dragmode,f=(n.layout||{}).selections||[];if(!M(m)&&c!==void 0){var p=n._fullLayout._activeSelectionIndex;if(p<f.length)switch(n._fullLayout.selections[p].type){case"rect":m="select";break;case"path":m="lasso"}}var v,y=T(r,n,l,c),x={xref:u._id,yref:d._id,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};y.length===1&&(v=y[0]),v&&v.length===5&&m==="select"?(x.type="rect",x.x0=v[0][1],x.y0=v[0][2],x.x1=v[2][1],x.y1=v[2][2]):(x.type="path",u&&d&&g(y,u,d),x.path=b(y),v=null),k(n);for(var _=t.editHelpers,h=(_||{}).modifyItem,S=[],w=0;w<f.length;w++){var E=n._fullLayout.selections[w];if(E){if(S[w]=E._input,c!==void 0&&w===n._fullLayout._activeSelectionIndex){var C=x;switch(E.type){case"rect":h("x0",C.x0),h("x1",C.x1),h("y0",C.y0),h("y1",C.y1);break;case"path":h("path",C.path)}}}else S[w]=E}return c===void 0?(S.push(x),S):_?_.getUpdateObj():{}}}}},5840:function(ee,D,e){var M=e(3400).strTranslate;function k(a,T){switch(a.type){case"log":return a.p2d(T);case"date":return a.p2r(T,0,a.calendar);default:return a.p2r(T)}}ee.exports={p2r:k,r2p:function(a,T){switch(a.type){case"log":return a.d2p(T);case"date":return a.r2p(T,0,a.calendar);default:return a.r2p(T)}},axValue:function(a){var T=a._id.charAt(0)==="y"?1:0;return function(b){return k(a,b[T])}},getTransform:function(a){return M(a.xaxis._offset,a.yaxis._offset)}}},22676:function(ee,D,e){var M=e(23640),k=e(43156);ee.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:M.draw,drawOne:M.drawOne,reselect:k.reselect,prepSelect:k.prepSelect,clearOutline:k.clearOutline,clearSelectionsCache:k.clearSelectionsCache,selectOnClick:k.selectOnClick}},43156:function(ee,D,e){var M=e(14756),k=e(61456),a=e(24040),T=e(43616).dashStyle,b=e(76308),g=e(93024),s=e(10624).makeEventData,t=e(72760),i=t.freeMode,r=t.rectMode,n=t.drawMode,o=t.openMode,l=t.selectMode,u=e(65152),d=e(85448),c=e(55496),m=e(1936).clearOutline,f=e(9856),p=f.handleEllipse,v=f.readPaths,y=e(93940).newShapes,x=e(5968),_=e(23640).activateLastSelection,h=e(3400),S=h.sorterAsc,w=e(92065),E=e(91200),C=e(79811).getFromId,P=e(73696),O=e(39172).redrawReglTraces,R=e(83280),U=R.MINSELECT,z=w.filter,N=w.tester,W=e(5840),F=W.p2r,V=W.axValue,j=W.getTransform;function te(fe){return fe.subplot!==void 0}function J(fe,xe,_e,Oe,De,Pe,Ue){var Ve,Xe,it,tt,pt,mt,gt,et,$e,_t=xe._hoverdata,Pt=xe._fullLayout.clickmode.indexOf("event")>-1,Ot=[];if(function(Ge){return Ge&&Array.isArray(Ge)&&Ge[0].hoverOnBox!==!0}(_t)){Q(fe,xe,Pe);var Lt=function(Ge,at){var nt,Re,Fe=Ge[0],rt=-1,Ye=[];for(Re=0;Re<at.length;Re++)if(nt=at[Re],Fe.fullData._expandedIndex===nt.cd[0].trace._expandedIndex){if(Fe.hoverOnBox===!0)break;Fe.pointNumber!==void 0?rt=Fe.pointNumber:Fe.binNumber!==void 0&&(rt=Fe.binNumber,Ye=Fe.pointNumbers);break}return{pointNumber:rt,pointNumbers:Ye,searchInfo:nt}}(_t,Ve=ie(xe,_e,Oe,De));if(Lt.pointNumbers.length>0?function(Ge,at){var nt,Re,Fe,rt=[];for(Fe=0;Fe<Ge.length;Fe++)(nt=Ge[Fe]).cd[0].trace.selectedpoints&&nt.cd[0].trace.selectedpoints.length>0&&rt.push(nt);if(rt.length===1&&rt[0]===at.searchInfo&&(Re=at.searchInfo.cd[0].trace).selectedpoints.length===at.pointNumbers.length){for(Fe=0;Fe<at.pointNumbers.length;Fe++)if(Re.selectedpoints.indexOf(at.pointNumbers[Fe])<0)return!1;return!0}return!1}(Ve,Lt):function(Ge){var at,nt,Re=0;for(nt=0;nt<Ge.length;nt++)if((at=Ge[nt].cd[0].trace).selectedpoints&&(at.selectedpoints.length>1||(Re+=at.selectedpoints.length)>1))return!1;return Re===1}(Ve)&&(mt=pe(Lt))){for(Ue&&Ue.remove(),$e=0;$e<Ve.length;$e++)(Xe=Ve[$e])._module.selectPoints(Xe,!1);de(xe,Ve),re(Pe),Pt&&ze(xe)}else{for(gt=fe.shiftKey&&(mt!==void 0?mt:pe(Lt)),it=function(Ge,at,nt){return{pointNumber:Ge,searchInfo:at,subtract:!!nt}}(Lt.pointNumber,Lt.searchInfo,gt),tt=X(Pe.selectionDefs.concat([it])),$e=0;$e<Ve.length;$e++)if(pt=be(Ve[$e]._module.selectPoints(Ve[$e],tt),Ve[$e]),Ot.length)for(var He=0;He<pt.length;He++)Ot.push(pt[He]);else Ot=pt;if(de(xe,Ve,et={points:Ot}),it&&Pe&&Pe.selectionDefs.push(it),Ue){var We=Pe.mergedPolygons,Be=o(Pe.dragmode);c(me(We,Be),Ue,Pe)}Pt&&Se(xe,et)}}}function K(fe){return"pointNumber"in fe&&"searchInfo"in fe}function Z(fe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(xe,_e,Oe,De){var Pe=fe.searchInfo.cd[0].trace._expandedIndex;return De.cd[0].trace._expandedIndex===Pe&&Oe===fe.pointNumber},isRect:!1,degenerate:!1,subtract:!!fe.subtract}}function X(fe){if(fe.length){for(var xe=[],_e=K(fe[0])?0:fe[0][0][0],Oe=_e,De=K(fe[0])?0:fe[0][0][1],Pe=De,Ue=0;Ue<fe.length;Ue++)if(K(fe[Ue]))xe.push(Z(fe[Ue]));else{var Ve=N(fe[Ue]);Ve.subtract=!!fe[Ue].subtract,xe.push(Ve),_e=Math.min(_e,Ve.xmin),Oe=Math.max(Oe,Ve.xmax),De=Math.min(De,Ve.ymin),Pe=Math.max(Pe,Ve.ymax)}return{xmin:_e,xmax:Oe,ymin:De,ymax:Pe,pts:[],contains:function(Xe,it,tt,pt){for(var mt=!1,gt=0;gt<xe.length;gt++)xe[gt].contains(Xe,it,tt,pt)&&(mt=!xe[gt].subtract);return mt},isRect:!1,degenerate:!1}}}function Q(fe,xe,_e){var Oe=xe._fullLayout,De=_e.plotinfo,Pe=_e.dragmode,Ue=Oe._lastSelectedSubplot&&Oe._lastSelectedSubplot===De.id,Ve=(fe.shiftKey||fe.altKey)&&!(n(Pe)&&o(Pe));Ue&&Ve&&De.selection&&De.selection.selectionDefs&&!_e.selectionDefs?(_e.selectionDefs=De.selection.selectionDefs,_e.mergedPolygons=De.selection.mergedPolygons):Ve&&De.selection||re(_e),Ue||(m(xe),Oe._lastSelectedSubplot=De.id)}function re(fe,xe){var _e=fe.dragmode,Oe=fe.plotinfo,De=fe.gd;(function(pt){return pt._fullLayout._activeShapeIndex>=0})(De)&&De._fullLayout._deactivateShape(De),function(pt){return pt._fullLayout._activeSelectionIndex>=0}(De)&&De._fullLayout._deactivateSelection(De);var Pe=De._fullLayout._zoomlayer,Ue=n(_e),Ve=l(_e);if(Ue||Ve){var Xe,it,tt=Pe.selectAll(".select-outline-"+Oe.id);tt&&De._fullLayout._outlining&&(Ue&&(Xe=y(tt,fe)),Xe&&a.call("_guiRelayout",De,{shapes:Xe}),Ve&&!te(fe)&&(it=x(tt,fe)),it&&(De._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",De,{selections:it}).then(function(){xe&&_(De)})),De._fullLayout._outlining=!1)}Oe.selection={},Oe.selection.selectionDefs=fe.selectionDefs=[],Oe.selection.mergedPolygons=fe.mergedPolygons=[]}function ae(fe){return fe._id}function ie(fe,xe,_e,Oe){if(!fe.calcdata)return[];var De,Pe,Ue,Ve=[],Xe=xe.map(ae),it=_e.map(ae);for(Ue=0;Ue<fe.calcdata.length;Ue++)if((Pe=(De=fe.calcdata[Ue])[0].trace).visible===!0&&Pe._module&&Pe._module.selectPoints)if(!te({subplot:Oe})||Pe.subplot!==Oe&&Pe.geo!==Oe)if(Pe.type==="splom"){if(Pe._xaxes[Xe[0]]&&Pe._yaxes[it[0]]){var tt=le(Pe._module,De,xe[0],_e[0]);tt.scene=fe._fullLayout._splomScenes[Pe.uid],Ve.push(tt)}}else if(Pe.type==="sankey"){var pt=le(Pe._module,De,xe[0],_e[0]);Ve.push(pt)}else{if(!(Xe.indexOf(Pe.xaxis)!==-1||Pe._xA&&Pe._xA.overlaying)||!(it.indexOf(Pe.yaxis)!==-1||Pe._yA&&Pe._yA.overlaying))continue;Ve.push(le(Pe._module,De,C(fe,Pe.xaxis),C(fe,Pe.yaxis)))}else Ve.push(le(Pe._module,De,xe[0],_e[0]));return Ve}function le(fe,xe,_e,Oe){return{_module:fe,cd:xe,xaxis:_e,yaxis:Oe}}function pe(fe){var xe=fe.searchInfo.cd[0].trace,_e=fe.pointNumber,Oe=fe.pointNumbers,De=Oe.length>0?Oe[0]:_e;return!!xe.selectedpoints&&xe.selectedpoints.indexOf(De)>-1}function de(fe,xe,_e){var Oe,De;for(Oe=0;Oe<xe.length;Oe++){var Pe=xe[Oe].cd[0].trace._fullInput,Ue=fe._fullLayout._tracePreGUI[Pe.uid]||{};Ue.selectedpoints===void 0&&(Ue.selectedpoints=Pe._input.selectedpoints||null)}if(_e){var Ve=_e.points||[];for(Oe=0;Oe<xe.length;Oe++)(De=xe[Oe].cd[0].trace)._input.selectedpoints=De._fullInput.selectedpoints=[],De._fullInput!==De&&(De.selectedpoints=[]);for(var Xe=0;Xe<Ve.length;Xe++){var it=Ve[Xe],tt=it.data,pt=it.fullData,mt=it.pointIndex,gt=it.pointIndices;gt?([].push.apply(tt.selectedpoints,gt),De._fullInput!==De&&[].push.apply(pt.selectedpoints,gt)):(tt.selectedpoints.push(mt),De._fullInput!==De&&pt.selectedpoints.push(mt))}}else for(Oe=0;Oe<xe.length;Oe++)delete(De=xe[Oe].cd[0].trace).selectedpoints,delete De._input.selectedpoints,De._fullInput!==De&&delete De._fullInput.selectedpoints;(function(et,$e){for(var _t=!1,Pt=0;Pt<$e.length;Pt++){var Ot=$e[Pt],Lt=Ot.cd;a.traceIs(Lt[0].trace,"regl")&&(_t=!0);var He=Ot._module,We=He.styleOnSelect||He.style;We&&(We(et,Lt,Lt[0].node3),Lt[0].nodeRangePlot3&&We(et,Lt,Lt[0].nodeRangePlot3))}_t&&(P(et),O(et))})(fe,xe)}function ve(fe,xe,_e){for(var Oe=(_e?M.difference:M.union)({regions:fe},{regions:[xe]}).regions.reverse(),De=0;De<Oe.length;De++){var Pe=Oe[De];Pe.subtract=he(Pe,Oe.slice(0,De))}return Oe}function be(fe,xe){if(Array.isArray(fe))for(var _e=xe.cd,Oe=xe.cd[0].trace,De=0;De<fe.length;De++)fe[De]=s(fe[De],Oe,_e);return fe}function me(fe,xe){for(var _e=[],Oe=0;Oe<fe.length;Oe++){_e[Oe]=[];for(var De=0;De<fe[Oe].length;De++){_e[Oe][De]=[],_e[Oe][De][0]=De?"L":"M";for(var Pe=0;Pe<fe[Oe][De].length;Pe++)_e[Oe][De].push(fe[Oe][De][Pe])}xe||_e[Oe].push(["Z",_e[Oe][0][1],_e[Oe][0][2]])}return _e}function ge(fe,xe){for(var _e,Oe,De=[],Pe=[],Ue=0;Ue<xe.length;Ue++){var Ve=xe[Ue];Oe=Ve._module.selectPoints(Ve,fe),Pe.push(Oe),_e=be(Oe,Ve),De=De.concat(_e)}return De}function ke(fe,xe,_e,Oe,De){var Pe,Ue,Ve,Xe=!!Oe;De&&(Pe=De.plotinfo,Ue=De.xaxes[0]._id,Ve=De.yaxes[0]._id);var it=[],tt=[],pt=oe(fe),mt=fe._fullLayout;if(Pe){var gt=mt._zoomlayer,et=mt.dragmode,$e=n(et),_t=l(et);if($e||_t){var Pt=C(fe,Ue,"x"),Ot=C(fe,Ve,"y");if(Pt&&Ot){var Lt=gt.selectAll(".select-outline-"+Pe.id);if(Lt&&fe._fullLayout._outlining&&Lt.length){for(var He=Lt[0][0].getAttribute("d"),We=v(He,fe,Pe),Be=[],Ge=0;Ge<We.length;Ge++){for(var at=We[Ge],nt=[],Re=0;Re<at.length;Re++)nt.push([Ee(Pt,at[Re][1]),Ee(Ot,at[Re][2])]);nt.xref=Ue,nt.yref=Ve,nt.subtract=he(nt,Be),Be.push(nt)}pt=pt.concat(Be)}}}}var Fe=Ue&&Ve?[Ue+Ve]:mt._subplots.cartesian;(function(Pn){var Cn=Pn.calcdata;if(Cn)for(var Sn=0;Sn<Cn.length;Sn++){var Nn=Cn[Sn][0].trace,zn=Pn._fullLayout._splomScenes;if(zn){var er=zn[Nn.uid];er&&(er.selectBatch=[])}}})(fe);for(var rt={},Ye=0;Ye<Fe.length;Ye++){var ct=Fe[Ye],ht=ct.indexOf("y"),dt=ct.slice(0,ht),ut=ct.slice(ht),kt=Ue&&Ve?_e:void 0;if(kt=ue(pt,dt,ut,kt)){var xt=Oe;if(!Xe){var vt=C(fe,dt,"x"),Mt=C(fe,ut,"y");xt=ie(fe,[vt],[Mt],ct);for(var St=0;St<xt.length;St++){var It=xt[St],Gt=It.cd[0],en=Gt.trace;if(It._module.name==="scattergl"&&!Gt.t.xpx){var Nt=en.x,jt=en.y,Jt=en._length;Gt.t.xpx=[],Gt.t.ypx=[];for(var An=0;An<Jt;An++)Gt.t.xpx[An]=vt.c2p(Nt[An]),Gt.t.ypx[An]=Mt.c2p(jt[An])}It._module.name==="splom"&&(rt[en.uid]||(rt[en.uid]=!0))}}var _n=ge(kt,xt);it=it.concat(_n),tt=tt.concat(xt)}}var un={points:it};de(fe,tt,un);var Wt=mt.clickmode.indexOf("event")>-1&&xe;if(!Pe&&xe){var rn=oe(fe,!0);if(rn.length){var $t=rn[0].xref,sn=rn[0].yref;if($t&&sn){var xn=Te(rn);Me([C(fe,$t,"x"),C(fe,sn,"y")])(un,xn)}}fe._fullLayout._noEmitSelectedAtStart?fe._fullLayout._noEmitSelectedAtStart=!1:Wt&&Se(fe,un),mt._reselect=!1}if(!Pe&&mt._deselect){var wn=mt._deselect;(function(Pn,Cn,Sn){for(var Nn=0;Nn<Sn.length;Nn++){var zn=Sn[Nn];if(zn.xaxis&&zn.xaxis._id===Pn&&zn.yaxis&&zn.yaxis._id===Cn)return!0}return!1})(Ue=wn.xref,Ve=wn.yref,tt)||we(fe,Ue,Ve,Oe),Wt&&(un.points.length?Se(fe,un):ze(fe)),mt._deselect=!1}return{eventData:un,selectionTesters:_e}}function we(fe,xe,_e,Oe){Oe=ie(fe,[C(fe,xe,"x")],[C(fe,_e,"y")],xe+_e);for(var De=0;De<Oe.length;De++){var Pe=Oe[De];Pe._module.selectPoints(Pe,!1)}de(fe,Oe)}function ue(fe,xe,_e,Oe){for(var De,Pe=0;Pe<fe.length;Pe++){var Ue=fe[Pe];xe===Ue.xref&&_e===Ue.yref&&(De?Oe=X(De=ve(De,Ue,!!Ue.subtract)):(De=[Ue],Oe=N(Ue)))}return Oe}function oe(fe,xe){for(var _e=[],Oe=fe._fullLayout,De=Oe.selections,Pe=De.length,Ue=0;Ue<Pe;Ue++)if(!xe||Ue===Oe._activeSelectionIndex){var Ve=De[Ue];if(Ve){var Xe,it,tt,pt,mt,gt=Ve.xref,et=Ve.yref,$e=C(fe,gt,"x"),_t=C(fe,et,"y");if(Ve.type==="rect"){mt=[];var Pt=Ee($e,Ve.x0),Ot=Ee($e,Ve.x1),Lt=Ee(_t,Ve.y0),He=Ee(_t,Ve.y1);mt=[[Pt,Lt],[Pt,He],[Ot,He],[Ot,Lt]],Xe=Math.min(Pt,Ot),it=Math.max(Pt,Ot),tt=Math.min(Lt,He),pt=Math.max(Lt,He),mt.xmin=Xe,mt.xmax=it,mt.ymin=tt,mt.ymax=pt,mt.xref=gt,mt.yref=et,mt.subtract=!1,mt.isRect=!0,_e.push(mt)}else if(Ve.type==="path")for(var We=Ve.path.split("Z"),Be=[],Ge=0;Ge<We.length;Ge++){var at=We[Ge];if(at){at+="Z";var nt=u.extractPathCoords(at,d.paramIsX,"raw"),Re=u.extractPathCoords(at,d.paramIsY,"raw");Xe=1/0,it=-1/0,tt=1/0,pt=-1/0,mt=[];for(var Fe=0;Fe<nt.length;Fe++){var rt=Ee($e,nt[Fe]),Ye=Ee(_t,Re[Fe]);mt.push([rt,Ye]),Xe=Math.min(rt,Xe),it=Math.max(rt,it),tt=Math.min(Ye,tt),pt=Math.max(Ye,pt)}mt.xmin=Xe,mt.xmax=it,mt.ymin=tt,mt.ymax=pt,mt.xref=gt,mt.yref=et,mt.subtract=he(mt,Be),Be.push(mt),_e.push(mt)}}}}return _e}function he(fe,xe){for(var _e=!1,Oe=0;Oe<xe.length;Oe++)for(var De=xe[Oe],Pe=0;Pe<fe.length;Pe++)if(k(fe[Pe],De)){_e=!_e;break}return _e}function Ee(fe,xe){return fe.type==="date"&&(xe=xe.replace("_"," ")),fe.type==="log"?fe.c2p(xe):fe.r2p(xe,null,fe.calendar)}function Te(fe){for(var xe=fe.length,_e=[],Oe=0;Oe<xe;Oe++){var De=fe[Oe];_e=(_e=_e.concat(De)).concat([De[0]])}return(Pe=_e).isRect=Pe.length===5&&Pe[0][0]===Pe[4][0]&&Pe[0][1]===Pe[4][1]&&Pe[0][0]===Pe[1][0]&&Pe[2][0]===Pe[3][0]&&Pe[0][1]===Pe[3][1]&&Pe[1][1]===Pe[2][1]||Pe[0][1]===Pe[1][1]&&Pe[2][1]===Pe[3][1]&&Pe[0][0]===Pe[3][0]&&Pe[1][0]===Pe[2][0],Pe.isRect&&(Pe.xmin=Math.min(Pe[0][0],Pe[2][0]),Pe.xmax=Math.max(Pe[0][0],Pe[2][0]),Pe.ymin=Math.min(Pe[0][1],Pe[2][1]),Pe.ymax=Math.max(Pe[0][1],Pe[2][1])),Pe;var Pe}function Me(fe){return function(xe,_e){for(var Oe,De,Pe=0;Pe<fe.length;Pe++){var Ue=fe[Pe],Ve=Ue._id,Xe=Ve.charAt(0);if(_e.isRect){Oe||(Oe={});var it=_e[Xe+"min"],tt=_e[Xe+"max"];it!==void 0&&tt!==void 0&&(Oe[Ve]=[F(Ue,it),F(Ue,tt)].sort(S))}else De||(De={}),De[Ve]=_e.map(V(Ue))}Oe&&(xe.range=Oe),De&&(xe.lassoPoints=De)}}function Se(fe,xe){xe&&(xe.selections=(fe.layout||{}).selections||[]),fe.emit("plotly_selected",xe)}function ze(fe){fe.emit("plotly_deselect",null)}ee.exports={reselect:ke,prepSelect:function(fe,xe,_e,Oe,De){var Pe=!te(Oe),Ue=i(De),Ve=r(De),Xe=o(De),it=n(De),tt=l(De),pt=De==="drawcircle",mt=De==="drawline"||pt,gt=Oe.gd,et=gt._fullLayout,$e=tt&&et.newselection.mode==="immediate"&&Pe,_t=et._zoomlayer,Pt=Oe.element.getBoundingClientRect(),Ot=Oe.plotinfo,Lt=j(Ot),He=xe-Pt.left,We=_e-Pt.top;et._calcInverseTransform(gt);var Be=h.apply3DTransform(et._invTransform)(He,We);He=Be[0],We=Be[1];var Ge,at,nt,Re,Fe,rt,Ye,ct=et._invScaleX,ht=et._invScaleY,dt=He,ut=We,kt="M"+He+","+We,xt=Oe.xaxes[0],vt=Oe.yaxes[0],Mt=xt._length,St=vt._length,It=fe.altKey&&!(n(De)&&Xe);Q(fe,gt,Oe),Ue&&(Ge=z([[He,We]],R.BENDPX));var Gt=_t.selectAll("path.select-outline-"+Ot.id).data([1]),en=it?et.newshape:et.newselection;it&&(Oe.hasText=en.label.text||en.label.texttemplate);var Nt=it&&!Xe?en.fillcolor:"rgba(0,0,0,0)",jt=en.line.color||(Pe?b.contrast(gt._fullLayout.plot_bgcolor):"#7f7f7f");Gt.enter().append("path").attr("class","select-outline select-outline-"+Ot.id).style({opacity:it?en.opacity/2:1,"stroke-dasharray":T(en.line.dash,en.line.width),"stroke-width":en.line.width+"px","shape-rendering":"crispEdges"}).call(b.stroke,jt).call(b.fill,Nt).attr("fill-rule","evenodd").classed("cursor-move",!!it).attr("transform",Lt).attr("d",kt+"Z");var Jt=_t.append("path").attr("class","zoombox-corners").style({fill:b.background,stroke:b.defaultLine,"stroke-width":1}).attr("transform",Lt).attr("d","M0,0Z");if(it&&Oe.hasText){var An=_t.select(".label-temp");An.empty()&&(An=_t.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var _n=et._uid+R.SELECTID,un=[],Wt=ie(gt,Oe.xaxes,Oe.yaxes,Oe.subplot);$e&&!fe.shiftKey&&(Oe._clearSubplotSelections=function(){if(Pe){var $t=xt._id,sn=vt._id;we(gt,$t,sn,Wt);for(var xn=(gt.layout||{}).selections||[],wn=[],Pn=!1,Cn=0;Cn<xn.length;Cn++){var Sn=et.selections[Cn];Sn.xref!==$t||Sn.yref!==sn?wn.push(xn[Cn]):Pn=!0}Pn&&(gt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",gt,{selections:wn}))}});var rn=function($t){return $t.plotinfo.fillRangeItems||Me($t.xaxes.concat($t.yaxes))}(Oe);Oe.moveFn=function($t,sn){Oe._clearSubplotSelections&&(Oe._clearSubplotSelections(),Oe._clearSubplotSelections=void 0),dt=Math.max(0,Math.min(Mt,ct*$t+He)),ut=Math.max(0,Math.min(St,ht*sn+We));var xn=Math.abs(dt-He),wn=Math.abs(ut-We);if(Ve){var Pn,Cn,Sn;if(tt){var Nn=et.selectdirection;switch(Pn=Nn==="any"?wn<Math.min(.6*xn,U)?"h":xn<Math.min(.6*wn,U)?"v":"d":Nn){case"h":Cn=pt?St/2:0,Sn=St;break;case"v":Cn=pt?Mt/2:0,Sn=Mt}}if(it)switch(et.newshape.drawdirection){case"vertical":Pn="h",Cn=pt?St/2:0,Sn=St;break;case"horizontal":Pn="v",Cn=pt?Mt/2:0,Sn=Mt;break;case"ortho":xn<wn?(Pn="h",Cn=We,Sn=ut):(Pn="v",Cn=He,Sn=dt);break;default:Pn="d"}Pn==="h"?((Re=mt?p(pt,[dt,Cn],[dt,Sn]):[[He,Cn],[He,Sn],[dt,Sn],[dt,Cn]]).xmin=mt?dt:Math.min(He,dt),Re.xmax=mt?dt:Math.max(He,dt),Re.ymin=Math.min(Cn,Sn),Re.ymax=Math.max(Cn,Sn),Jt.attr("d","M"+Re.xmin+","+(We-U)+"h-4v"+2*U+"h4ZM"+(Re.xmax-1)+","+(We-U)+"h4v"+2*U+"h-4Z")):Pn==="v"?((Re=mt?p(pt,[Cn,ut],[Sn,ut]):[[Cn,We],[Cn,ut],[Sn,ut],[Sn,We]]).xmin=Math.min(Cn,Sn),Re.xmax=Math.max(Cn,Sn),Re.ymin=mt?ut:Math.min(We,ut),Re.ymax=mt?ut:Math.max(We,ut),Jt.attr("d","M"+(He-U)+","+Re.ymin+"v-4h"+2*U+"v4ZM"+(He-U)+","+(Re.ymax-1)+"v4h"+2*U+"v-4Z")):Pn==="d"&&((Re=mt?p(pt,[He,We],[dt,ut]):[[He,We],[He,ut],[dt,ut],[dt,We]]).xmin=Math.min(He,dt),Re.xmax=Math.max(He,dt),Re.ymin=Math.min(We,ut),Re.ymax=Math.max(We,ut),Jt.attr("d","M0,0Z"))}else Ue&&(Ge.addPt([dt,ut]),Re=Ge.filtered);if(Oe.selectionDefs&&Oe.selectionDefs.length?(nt=ve(Oe.mergedPolygons,Re,It),Re.subtract=It,at=X(Oe.selectionDefs.concat([Re]))):(nt=[Re],at=N(Re)),c(me(nt,Xe),Gt,Oe),tt){var zn,er=ke(gt,!1),nr=er.eventData?er.eventData.points.slice():[];er=ke(gt,!1,at,Wt,Oe),at=er.selectionTesters,Ye=er.eventData,zn=Ge?Ge.filtered:Te(nt),E.throttle(_n,R.SELECTDELAY,function(){for(var ir=(un=ge(at,Wt)).slice(),Yn=0;Yn<nr.length;Yn++){for(var mr=nr[Yn],Bt=!1,Qt=0;Qt<ir.length;Qt++)if(ir[Qt].curveNumber===mr.curveNumber&&ir[Qt].pointNumber===mr.pointNumber){Bt=!0;break}Bt||ir.push(mr)}ir.length&&(Ye||(Ye={}),Ye.points=ir),rn(Ye,zn),function(vn,fn){vn.emit("plotly_selecting",fn)}(gt,Ye)})}},Oe.clickFn=function($t,sn){if(Jt.remove(),gt._fullLayout._activeShapeIndex>=0)gt._fullLayout._deactivateShape(gt);else if(!it){var xn=et.clickmode;E.done(_n).then(function(){if(E.clear(_n),$t===2){for(Gt.remove(),Fe=0;Fe<Wt.length;Fe++)(rt=Wt[Fe])._module.selectPoints(rt,!1);if(de(gt,Wt),re(Oe),ze(gt),Wt.length){var wn=Wt[0].xaxis,Pn=Wt[0].yaxis;if(wn&&Pn){for(var Cn=[],Sn=gt._fullLayout.selections,Nn=0;Nn<Sn.length;Nn++){var zn=Sn[Nn];zn&&(zn.xref===wn._id&&zn.yref===Pn._id||Cn.push(zn))}Cn.length<Sn.length&&(gt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",gt,{selections:Cn}))}}}else xn.indexOf("select")>-1&&J(sn,gt,Oe.xaxes,Oe.yaxes,Oe.subplot,Oe,Gt),xn==="event"&&Se(gt,void 0);g.click(gt,sn,Ot.id)}).catch(h.error)}},Oe.doneFn=function(){Jt.remove(),E.done(_n).then(function(){E.clear(_n),!$e&&Re&&Oe.selectionDefs&&(Re.subtract=It,Oe.selectionDefs.push(Re),Oe.mergedPolygons.length=0,[].push.apply(Oe.mergedPolygons,nt)),($e||it)&&re(Oe,$e),Oe.doneFnCompleted&&Oe.doneFnCompleted(un),tt&&Se(gt,Ye)}).catch(h.error)}},clearOutline:m,clearSelectionsCache:re,selectOnClick:J}},46056:function(ee,D,e){var M=e(13916),k=e(25376),a=e(52904).line,T=e(98192).u,b=e(92880).extendFlat,g=e(31780).templatedArray,s=(e(36208),e(45464)),t=e(21776).ye,i=e(97728);ee.exports=g("shape",{visible:b({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:b({},s.legend,{editType:"calc+arraydraw"}),legendgroup:b({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:b({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:k({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:b({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:b({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:b({},M.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:b({},M.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:b({},a.color,{editType:"arraydraw"}),width:b({},a.width,{editType:"calc+arraydraw"}),dash:b({},T,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(i)}),font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(ee,D,e){var M=e(3400),k=e(54460),a=e(85448),T=e(65152);function b(i){return s(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function g(i){return s(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function s(i,r,n,o,l,u){var d=i/2,c=u;if(r==="pixel"){var m=l?T.extractPathCoords(l,u?a.paramIsY:a.paramIsX):[n,o],f=M.aggNums(Math.max,null,m),p=M.aggNums(Math.min,null,m),v=p<0?Math.abs(p)+d:d,y=f>0?f+d:d;return{ppad:d,ppadplus:c?v:y,ppadminus:c?y:v}}return{ppad:d}}function t(i,r,n,o,l){var u=i.type==="category"||i.type==="multicategory"?i.r2c:i.d2c;if(r!==void 0)return[u(r),u(n)];if(o){var d,c,m,f,p=1/0,v=-1/0,y=o.match(a.segmentRE);for(i.type==="date"&&(u=T.decodeDate(u)),d=0;d<y.length;d++)(c=l[y[d].charAt(0)].drawn)!==void 0&&(!(m=y[d].substr(1).match(a.paramRE))||m.length<c||((f=u(m[c]))<p&&(p=f),f>v&&(v=f)));return v>=p?[p,v]:void 0}}ee.exports=function(i){var r=i._fullLayout,n=M.filterVisible(r.shapes);if(n.length&&i._fullData.length)for(var o=0;o<n.length;o++){var l,u,d=n[o];d._extremes={};var c=k.getRefType(d.xref),m=k.getRefType(d.yref);if(d.xref!=="paper"&&c!=="domain"){var f=d.xsizemode==="pixel"?d.xanchor:d.x0,p=d.xsizemode==="pixel"?d.xanchor:d.x1;(u=t(l=k.getFromId(i,d.xref),f,p,d.path,a.paramIsX))&&(d._extremes[l._id]=k.findExtremes(l,u,b(d)))}if(d.yref!=="paper"&&m!=="domain"){var v=d.ysizemode==="pixel"?d.yanchor:d.y0,y=d.ysizemode==="pixel"?d.yanchor:d.y1;(u=t(l=k.getFromId(i,d.yref),v,y,d.path,a.paramIsY))&&(d._extremes[l._id]=k.findExtremes(l,u,g(d)))}}}},85448:function(ee){ee.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(ee,D,e){var M=e(3400),k=e(54460),a=e(51272),T=e(46056),b=e(65152);function g(s,t,i){function r(W,F){return M.coerce(s,t,T,W,F)}if(t._isShape=!0,r("visible")){r("showlegend")&&(r("legend"),r("legendwidth"),r("legendgroup"),r("legendgrouptitle.text"),M.coerceFont(r,"legendgrouptitle.font"),r("legendrank"));var n=r("path"),o=r("type",n?"path":"rect"),l=o!=="path";l&&delete t.path,r("editable"),r("layer"),r("opacity"),r("fillcolor"),r("fillrule"),r("line.width")&&(r("line.color"),r("line.dash"));for(var u=r("xsizemode"),d=r("ysizemode"),c=["x","y"],m=0;m<2;m++){var f,p,v,y=c[m],x=y+"anchor",_=y==="x"?u:d,h={_fullLayout:i},S=k.coerceRef(s,t,h,y,void 0,"paper");if(k.getRefType(S)==="range"?((f=k.getFromId(h,S))._shapeIndices.push(t._index),v=b.rangeToShapePosition(f),p=b.shapePositionToRange(f)):p=v=M.identity,l){var w=y+"0",E=y+"1",C=s[w],P=s[E];s[w]=p(s[w],!0),s[E]=p(s[E],!0),_==="pixel"?(r(w,0),r(E,10)):(k.coercePosition(t,h,r,S,w,.25),k.coercePosition(t,h,r,S,E,.75)),t[w]=v(t[w]),t[E]=v(t[E]),s[w]=C,s[E]=P}if(_==="pixel"){var O=s[x];s[x]=p(s[x],!0),k.coercePosition(t,h,r,S,x,.25),t[x]=v(t[x]),s[x]=O}}l&&M.noneOrAll(s,t,["x0","x1","y0","y1"]);var R,U,z=o==="line";if(l&&(R=r("label.texttemplate")),R||(U=r("label.text")),U||R){r("label.textangle");var N=r("label.textposition",z?"middle":"middle center");r("label.xanchor"),r("label.yanchor",function(W,F){return W?"bottom":F.indexOf("top")!==-1?"top":F.indexOf("bottom")!==-1?"bottom":"middle"}(z,N)),r("label.padding"),M.coerceFont(r,"label.font",i.font)}}}ee.exports=function(s,t){a(s,t,{name:"shapes",handleItemDefaults:g})}},60728:function(ee,D,e){var M=e(3400),k=e(54460),a=e(72736),T=e(43616),b=e(9856).readPaths,g=e(65152),s=g.getPathString,t=e(97728),i=e(84284).FROM_TL;ee.exports=function(r,n,o,l){if(l.selectAll(".shape-label").remove(),o.label.text||o.label.texttemplate){var u;if(o.label.texttemplate){var d={};if(o.type!=="path"){var c=k.getFromId(r,o.xref),m=k.getFromId(r,o.yref);for(var f in t){var p=t[f](o,c,m);p!==void 0&&(d[f]=p)}}u=M.texttemplateStringForShapes(o.label.texttemplate,{},r._fullLayout._d3locale,d)}else u=o.label.text;var v,y,x,_,h={"data-index":n},S=o.label.font,w=l.append("g").attr(h).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(o.path){var E=s(r,o),C=b(E,r);v=1/0,x=1/0,y=-1/0,_=-1/0;for(var P=0;P<C.length;P++)for(var O=0;O<C[P].length;O++)for(var R=C[P][O],U=1;U<R.length;U+=2){var z=R[U],N=R[U+1];v=Math.min(v,z),y=Math.max(y,z),x=Math.min(x,N),_=Math.max(_,N)}}else{var W=k.getFromId(r,o.xref),F=k.getRefType(o.xref),V=k.getFromId(r,o.yref),j=k.getRefType(o.yref),te=g.getDataToPixel(r,W,!1,F),J=g.getDataToPixel(r,V,!0,j);v=te(o.x0),y=te(o.x1),x=J(o.y0),_=J(o.y1)}var K=o.label.textangle;K==="auto"&&(K=o.type==="line"?function(ae,ie,le,pe){var de,ve;return ve=Math.abs(le-ae),de=le>=ae?ie-pe:pe-ie,-180/Math.PI*Math.atan2(de,ve)}(v,x,y,_):0),w.call(function(ae){return ae.call(T.font,S).attr({}),a.convertToTspans(ae,r),ae});var Z=function(ae,ie,le,pe,de,ve,be){var me,ge,ke,we,ue=de.label.textposition,oe=de.label.textangle,he=de.label.padding,Ee=de.type,Te=Math.PI/180*ve,Me=Math.sin(Te),Se=Math.cos(Te),ze=de.label.xanchor,fe=de.label.yanchor;if(Ee==="line"){ue==="start"?(me=ae,ge=ie):ue==="end"?(me=le,ge=pe):(me=(ae+le)/2,ge=(ie+pe)/2),ze==="auto"&&(ze=ue==="start"?oe==="auto"?le>ae?"left":le<ae?"right":"center":le>ae?"right":le<ae?"left":"center":ue==="end"?oe==="auto"?le>ae?"right":le<ae?"left":"center":le>ae?"left":le<ae?"right":"center":"center");var xe={bottom:-1,middle:0,top:1};if(oe==="auto"){var _e=xe[fe];ke=-he*Me*_e,we=he*Se*_e}else ke=he*{left:1,center:0,right:-1}[ze],we=he*xe[fe];me+=ke,ge+=we}else ke=he+3,ue.indexOf("right")!==-1?(me=Math.max(ae,le)-ke,ze==="auto"&&(ze="right")):ue.indexOf("left")!==-1?(me=Math.min(ae,le)+ke,ze==="auto"&&(ze="left")):(me=(ae+le)/2,ze==="auto"&&(ze="center")),ge=ue.indexOf("top")!==-1?Math.min(ie,pe):ue.indexOf("bottom")!==-1?Math.max(ie,pe):(ie+pe)/2,we=he,fe==="bottom"?ge-=we:fe==="top"&&(ge+=we);var Oe=i[fe],De=de.label.font.size,Pe=be.height;return{textx:me+(Pe*Oe-De)*Me,texty:ge+-(Pe*Oe-De)*Se,xanchor:ze}}(v,x,y,_,o,K,T.bBox(w.node())),X=Z.textx,Q=Z.texty,re=Z.xanchor;w.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[re],y:Q,x:X,transform:"rotate("+K+","+X+","+Q+")"}).call(a.positionText,X,Q)}}},55496:function(ee,D,e){var M=e(3400).strTranslate,k=e(86476),a=e(72760),T=a.drawMode,b=a.selectMode,g=e(24040),s=e(76308),t=e(7e3),i=t.i000,r=t.i090,n=t.i180,o=t.i270,l=e(1936).clearOutlineControllers,u=e(9856),d=u.pointsOnRectangle,c=u.pointsOnEllipse,m=u.writePaths,f=e(93940).newShapes,p=e(93940).createShapeObj,v=e(5968),y=e(60728);function x(_,h){var S,w,E,C=_[h][1],P=_[h][2],O=_.length;return w=_[S=(h+1)%O][1],E=_[S][2],w===C&&E===P&&(w=_[S=(h+2)%O][1],E=_[S][2]),[S,w,E]}ee.exports=function _(h,S,w,E){E||(E=0);var C=w.gd;function P(){_(h,S,w,E++),(c(h[0])||w.hasText)&&O({redrawing:!0})}function O(de){var ve={};w.isActiveShape!==void 0&&(w.isActiveShape=!1,ve=f(S,w)),w.isActiveSelection!==void 0&&(w.isActiveSelection=!1,ve=v(S,w),C._fullLayout._reselect=!0),Object.keys(ve).length&&g.call((de||{}).redrawing?"relayout":"_guiRelayout",C,ve)}var R,U,z,N,W,F=C._fullLayout._zoomlayer,V=w.dragmode,j=T(V),te=b(V);if((j||te)&&(C._fullLayout._outlining=!0),l(C),S.attr("d",m(h)),E||!w.isActiveShape&&!w.isActiveSelection||(W=function(de,ve){for(var be=0;be<ve.length;be++){var me=ve[be];de[be]=[];for(var ge=0;ge<me.length;ge++){de[be][ge]=[];for(var ke=0;ke<me[ge].length;ke++)de[be][ge][ke]=me[ge][ke]}}return de}([],h),function(de){R=[];for(var ve=0;ve<h.length;ve++){var be=h[ve],me=d(be),ge=!me&&c(be);R[ve]=[];for(var ke=be.length,we=0;we<ke;we++)if(be[we][0]!=="Z"&&(!ge||we===i||we===r||we===n||we===o)){var ue,oe=me&&w.isActiveSelection;oe&&(ue=x(be,we));var he=be[we][1],Ee=be[we][2],Te=de.append(oe?"rect":"circle").attr("data-i",ve).attr("data-j",we).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(oe){var Me=ue[1]-he,Se=ue[2]-Ee,ze=Se?5:Math.max(Math.min(25,Math.abs(Me)-5),5),fe=Me?5:Math.max(Math.min(25,Math.abs(Se)-5),5);Te.classed(Se?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ze).attr("height",fe).attr("x",he-ze/2).attr("y",Ee-fe/2).attr("transform",M(Me/2,Se/2))}else Te.classed("cursor-grab",!0).attr("r",5).attr("cx",he).attr("cy",Ee);R[ve][we]={element:Te.node(),gd:C,prepFn:Z,doneFn:Q,clickFn:re},k.init(R[ve][we])}}}(F.append("g").attr("class","outline-controllers")),function(){U=[],h.length&&(U[0]={element:S[0][0],gd:C,prepFn:ie,doneFn:le,clickFn:pe},k.init(U[0]))}()),j&&w.hasText){var J=F.select(".label-temp"),K=p(S,w,w.dragmode);y(C,"label-temp",K,J)}function Z(de){z=+de.srcElement.getAttribute("data-i"),N=+de.srcElement.getAttribute("data-j"),R[z][N].moveFn=X}function X(de,ve){if(h.length){var be=W[z][N][1],me=W[z][N][2],ge=h[z],ke=ge.length;if(d(ge)){var we=de,ue=ve;w.isActiveSelection&&(x(ge,N)[1]===ge[N][1]?ue=0:we=0);for(var oe=0;oe<ke;oe++)if(oe!==N){var he=ge[oe];he[1]===ge[N][1]&&(he[1]=be+we),he[2]===ge[N][2]&&(he[2]=me+ue)}if(ge[N][1]=be+we,ge[N][2]=me+ue,!d(ge))for(var Ee=0;Ee<ke;Ee++)for(var Te=0;Te<ge[Ee].length;Te++)ge[Ee][Te]=W[z][Ee][Te]}else ge[N][1]=be+de,ge[N][2]=me+ve;P()}}function Q(){O()}function re(de,ve){if(de===2){z=+ve.srcElement.getAttribute("data-i"),N=+ve.srcElement.getAttribute("data-j");var be=h[z];d(be)||c(be)||function(){if(h.length&&h[z]&&h[z].length){for(var me=[],ge=0;ge<h[z].length;ge++)ge!==N&&me.push(h[z][ge]);me.length>1&&(me.length!==2||me[1][0]!=="Z")&&(N===0&&(me[0][0]="M"),h[z]=me,P(),O())}}()}}function ae(de,ve){(function(be,me){if(h.length)for(var ge=0;ge<h.length;ge++)for(var ke=0;ke<h[ge].length;ke++)for(var we=0;we+2<h[ge][ke].length;we+=2)h[ge][ke][we+1]=W[ge][ke][we+1]+be,h[ge][ke][we+2]=W[ge][ke][we+2]+me})(de,ve),P()}function ie(de){(z=+de.srcElement.getAttribute("data-i"))||(z=0),U[z].moveFn=ae}function le(){O()}function pe(de){de===2&&function(ve){if(b(ve._fullLayout.dragmode)){l(ve);var be=ve._fullLayout._activeSelectionIndex,me=(ve.layout||{}).selections||[];if(be<me.length){for(var ge=[],ke=0;ke<me.length;ke++)ke!==be&&ge.push(me[ke]);delete ve._fullLayout._activeSelectionIndex;var we=ve._fullLayout.selections[be];ve._fullLayout._deselect={xref:we.xref,yref:we.yref},g.call("_guiRelayout",ve,{selections:ge})}}}(C)}}},4016:function(ee,D,e){var M=e(33428),k=e(24040),a=e(3400),T=e(54460),b=e(9856).readPaths,g=e(55496),s=e(60728),t=e(1936).clearOutlineControllers,i=e(76308),r=e(43616),n=e(31780).arrayEditor,o=e(86476),l=e(93972),u=e(85448),d=e(65152),c=d.getPathString;function m(h){var S=h._fullLayout;for(var w in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var E=S._plots[w].shapelayer;E&&(E.selectAll("path").remove(),E.selectAll("text").remove())}for(var C=0;C<S.shapes.length;C++)S.shapes[C].visible===!0&&v(h,C)}function f(h){return!!h._fullLayout._outlining}function p(h){return!h._context.edits.shapePosition}function v(h,S){h._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var w=d.makeShapesOptionsAndPlotinfo(h,S),E=w.options,C=w.plotinfo;function P(O){var R=c(h,E),U={"data-index":S,"fill-rule":E.fillrule,d:R},z=E.opacity,N=E.fillcolor,W=E.line.width?E.line.color:"rgba(0,0,0,0)",F=E.line.width,V=E.line.dash;F||E.editable!==!0||(F=5,V="solid");var j=R[R.length-1]!=="Z",te=p(h)&&E.editable&&h._fullLayout._activeShapeIndex===S;te&&(N=j?"rgba(0,0,0,0)":h._fullLayout.activeshape.fillcolor,z=h._fullLayout.activeshape.opacity);var J,K=O.append("g").classed("shape-group",!0).attr({"data-index":S}),Z=K.append("path").attr(U).style("opacity",z).call(i.stroke,W).call(i.fill,N).call(r.dashLine,V,F);if(y(K,h,E),s(h,S,E,K),(te||h._context.edits.shapePosition)&&(J=n(h.layout,"shapes",E)),te){Z.style({cursor:"move"});var X={element:Z.node(),plotinfo:C,gd:h,editHelpers:J,hasText:E.label.text||E.label.texttemplate,isActiveShape:!0},Q=b(R,h);g(Q,Z,X)}else h._context.edits.shapePosition?function(re,ae,ie,le,pe,de){var ve,be,me,ge,ke,we,ue,oe,he,Ee,Te,Me,Se,ze,fe,xe,_e=10,Oe=10,De=ie.xsizemode==="pixel",Pe=ie.ysizemode==="pixel",Ue=ie.type==="line",Ve=ie.type==="path",Xe=de.modifyItem,it=M.select(ae.node().parentNode),tt=T.getFromId(re,ie.xref),pt=T.getRefType(ie.xref),mt=T.getFromId(re,ie.yref),gt=T.getRefType(ie.yref),et=d.getDataToPixel(re,tt,!1,pt),$e=d.getDataToPixel(re,mt,!0,gt),_t=d.getPixelToData(re,tt,!1,pt),Pt=d.getPixelToData(re,mt,!0,gt),Ot=Ue?function(){var nt=10,Re=Math.max(ie.line.width,nt),Fe=pe.append("g").attr("data-index",le).attr("drag-helper",!0);Fe.append("path").attr("d",ae.attr("d")).style({cursor:"move","stroke-width":Re,"stroke-opacity":"0"});var rt={"fill-opacity":"0"},Ye=Math.max(Re/2,nt);return Fe.append("circle").attr({"data-line-point":"start-point",cx:De?et(ie.xanchor)+ie.x0:et(ie.x0),cy:Pe?$e(ie.yanchor)-ie.y0:$e(ie.y0),r:Ye}).style(rt).classed("cursor-grab",!0),Fe.append("circle").attr({"data-line-point":"end-point",cx:De?et(ie.xanchor)+ie.x1:et(ie.x1),cy:Pe?$e(ie.yanchor)-ie.y1:$e(ie.y1),r:Ye}).style(rt).classed("cursor-grab",!0),Fe}():ae,Lt={element:Ot.node(),gd:re,prepFn:function(nt){f(re)||(De&&(ke=et(ie.xanchor)),Pe&&(we=$e(ie.yanchor)),ie.type==="path"?fe=ie.path:(ve=De?ie.x0:et(ie.x0),be=Pe?ie.y0:$e(ie.y0),me=De?ie.x1:et(ie.x1),ge=Pe?ie.y1:$e(ie.y1)),ve<me?(he=ve,Se="x0",Ee=me,ze="x1"):(he=me,Se="x1",Ee=ve,ze="x0"),!Pe&&be<ge||Pe&&be>ge?(ue=be,Te="y0",oe=ge,Me="y1"):(ue=ge,Te="y1",oe=be,Me="y0"),He(nt),Ge(pe,ie),function(Re,Fe,rt){var Ye=Fe.xref,ct=Fe.yref,ht=T.getFromId(rt,Ye),dt=T.getFromId(rt,ct),ut="";Ye==="paper"||ht.autorange||(ut+=Ye),ct==="paper"||dt.autorange||(ut+=ct),r.setClipUrl(Re,ut?"clip"+rt._fullLayout._uid+ut:null,rt)}(ae,ie,re),Lt.moveFn=xe==="move"?We:Be,Lt.altKey=nt.altKey)},doneFn:function(){f(re)||(l(ae),at(pe),y(ae,re,ie),k.call("_guiRelayout",re,de.getUpdateObj()))},clickFn:function(){f(re)||at(pe)}};function He(nt){if(f(re))xe=null;else if(Ue)xe=nt.target.tagName==="path"?"move":nt.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Re=Lt.element.getBoundingClientRect(),Fe=Re.right-Re.left,rt=Re.bottom-Re.top,Ye=nt.clientX-Re.left,ct=nt.clientY-Re.top,ht=!Ve&&Fe>_e&&rt>Oe&&!nt.shiftKey?o.getCursor(Ye/Fe,1-ct/rt):"move";l(ae,ht),xe=ht.split("-")[0]}}function We(nt,Re){if(ie.type==="path"){var Fe=function(ct){return ct},rt=Fe,Ye=Fe;De?Xe("xanchor",ie.xanchor=_t(ke+nt)):(rt=function(ct){return _t(et(ct)+nt)},tt&&tt.type==="date"&&(rt=d.encodeDate(rt))),Pe?Xe("yanchor",ie.yanchor=Pt(we+Re)):(Ye=function(ct){return Pt($e(ct)+Re)},mt&&mt.type==="date"&&(Ye=d.encodeDate(Ye))),Xe("path",ie.path=x(fe,rt,Ye))}else De?Xe("xanchor",ie.xanchor=_t(ke+nt)):(Xe("x0",ie.x0=_t(ve+nt)),Xe("x1",ie.x1=_t(me+nt))),Pe?Xe("yanchor",ie.yanchor=Pt(we+Re)):(Xe("y0",ie.y0=Pt(be+Re)),Xe("y1",ie.y1=Pt(ge+Re)));ae.attr("d",c(re,ie)),Ge(pe,ie),s(re,le,ie,it)}function Be(nt,Re){if(Ve){var Fe=function(jt){return jt},rt=Fe,Ye=Fe;De?Xe("xanchor",ie.xanchor=_t(ke+nt)):(rt=function(jt){return _t(et(jt)+nt)},tt&&tt.type==="date"&&(rt=d.encodeDate(rt))),Pe?Xe("yanchor",ie.yanchor=Pt(we+Re)):(Ye=function(jt){return Pt($e(jt)+Re)},mt&&mt.type==="date"&&(Ye=d.encodeDate(Ye))),Xe("path",ie.path=x(fe,rt,Ye))}else if(Ue){if(xe==="resize-over-start-point"){var ct=ve+nt,ht=Pe?be-Re:be+Re;Xe("x0",ie.x0=De?ct:_t(ct)),Xe("y0",ie.y0=Pe?ht:Pt(ht))}else if(xe==="resize-over-end-point"){var dt=me+nt,ut=Pe?ge-Re:ge+Re;Xe("x1",ie.x1=De?dt:_t(dt)),Xe("y1",ie.y1=Pe?ut:Pt(ut))}}else{var kt=function(jt){return xe.indexOf(jt)!==-1},xt=kt("n"),vt=kt("s"),Mt=kt("w"),St=kt("e"),It=xt?ue+Re:ue,Gt=vt?oe+Re:oe,en=Mt?he+nt:he,Nt=St?Ee+nt:Ee;Pe&&(xt&&(It=ue-Re),vt&&(Gt=oe-Re)),(!Pe&&Gt-It>Oe||Pe&&It-Gt>Oe)&&(Xe(Te,ie[Te]=Pe?It:Pt(It)),Xe(Me,ie[Me]=Pe?Gt:Pt(Gt))),Nt-en>_e&&(Xe(Se,ie[Se]=De?en:_t(en)),Xe(ze,ie[ze]=De?Nt:_t(Nt)))}ae.attr("d",c(re,ie)),Ge(pe,ie),s(re,le,ie,it)}function Ge(nt,Re){(De||Pe)&&function(){var Fe=Re.type!=="path",rt=nt.selectAll(".visual-cue").data([0]);rt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Ye=et(De?Re.xanchor:a.midRange(Fe?[Re.x0,Re.x1]:d.extractPathCoords(Re.path,u.paramIsX))),ct=$e(Pe?Re.yanchor:a.midRange(Fe?[Re.y0,Re.y1]:d.extractPathCoords(Re.path,u.paramIsY)));if(Ye=d.roundPositionForSharpStrokeRendering(Ye,1),ct=d.roundPositionForSharpStrokeRendering(ct,1),De&&Pe){var ht="M"+(Ye-1-1)+","+(ct-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";rt.attr("d",ht)}else if(De){var dt="M"+(Ye-1-1)+","+(ct-9-1)+"v18 h2 v-18 Z";rt.attr("d",dt)}else{var ut="M"+(Ye-9-1)+","+(ct-1-1)+"h18 v2 h-18 Z";rt.attr("d",ut)}}()}function at(nt){nt.selectAll(".visual-cue").remove()}o.init(Lt),Ot.node().onmousemove=He}(h,Z,E,S,O,J):E.editable===!0&&Z.style("pointer-events",j||i.opacity(N)*z<=.5?"stroke":"all");Z.node().addEventListener("click",function(){return function(re,ae){if(p(re)){var ie=+ae.node().getAttribute("data-index");if(ie>=0){if(ie===re._fullLayout._activeShapeIndex)return void _(re);re._fullLayout._activeShapeIndex=ie,re._fullLayout._deactivateShape=_,m(re)}}}(h,Z)})}E._input&&E.visible===!0&&(E.layer!=="below"?P(h._fullLayout._shapeUpperLayer):E.xref==="paper"||E.yref==="paper"?P(h._fullLayout._shapeLowerLayer):C._hadPlotinfo?P((C.mainplotinfo||C).shapelayer):P(h._fullLayout._shapeLowerLayer))}function y(h,S,w){var E=(w.xref+w.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");r.setClipUrl(h,E?"clip"+S._fullLayout._uid+E:null,S)}function x(h,S,w){return h.replace(u.segmentRE,function(E){var C=0,P=E.charAt(0),O=u.paramIsX[P],R=u.paramIsY[P],U=u.numParams[P];return P+E.substr(1).replace(u.paramRE,function(z){return C>=U||(O[C]?z=S(z):R[C]&&(z=w(z)),C++),z})})}function _(h){p(h)&&h._fullLayout._activeShapeIndex>=0&&(t(h),delete h._fullLayout._activeShapeIndex,m(h))}ee.exports={draw:m,drawOne:v,eraseActiveShape:function(h){if(p(h)){t(h);var S=h._fullLayout._activeShapeIndex,w=(h.layout||{}).shapes||[];if(S<w.length){for(var E=[],C=0;C<w.length;C++)C!==S&&E.push(w[C]);return delete h._fullLayout._activeShapeIndex,k.call("_guiRelayout",h,{shapes:E})}}},drawLabel:s}},92872:function(ee,D,e){var M=e(67824).overrideAll,k=e(45464),a=e(25376),T=e(98192).u,b=e(92880).extendFlat,g=e(21776).ye,s=e(97728);ee.exports=M({newshape:{visible:b({},k.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:b({},k.legend,{}),legendgroup:b({},k.legendgroup,{}),legendgrouptitle:{text:b({},k.legendgrouptitle.text,{}),font:a({})},legendrank:b({},k.legendrank,{}),legendwidth:b({},k.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:b({},T,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:b({},k.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:g({newshape:!0},{keys:Object.keys(s)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(ee){ee.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(ee,D,e){var M=e(76308),k=e(3400);ee.exports=function(a,T,b){if(b("newshape.visible"),b("newshape.name"),b("newshape.showlegend"),b("newshape.legend"),b("newshape.legendwidth"),b("newshape.legendgroup"),b("newshape.legendgrouptitle.text"),k.coerceFont(b,"newshape.legendgrouptitle.font"),b("newshape.legendrank"),b("newshape.drawdirection"),b("newshape.layer"),b("newshape.fillcolor"),b("newshape.fillrule"),b("newshape.opacity"),b("newshape.line.width")){var g=(a||{}).plot_bgcolor||"#FFF";b("newshape.line.color",M.contrast(g)),b("newshape.line.dash")}var s=a.dragmode==="drawline",t=b("newshape.label.text"),i=b("newshape.label.texttemplate");if(t||i){b("newshape.label.textangle");var r=b("newshape.label.textposition",s?"middle":"middle center");b("newshape.label.xanchor"),b("newshape.label.yanchor",function(n,o){return n?"bottom":o.indexOf("top")!==-1?"top":o.indexOf("bottom")!==-1?"bottom":"middle"}(s,r)),b("newshape.label.padding"),k.coerceFont(b,"newshape.label.font",T.font)}b("activeshape.fillcolor"),b("activeshape.opacity")}},9856:function(ee,D,e){var M=e(21984),k=e(7e3),a=k.CIRCLE_SIDES,T=k.SQRT2,b=e(5840),g=b.p2r,s=b.r2p,t=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function r(o,l){return Math.abs(o-l)<=1e-6}function n(o,l){var u=l[1]-o[1],d=l[2]-o[2];return Math.sqrt(u*u+d*d)}D.writePaths=function(o){var l=o.length;if(!l)return"M0,0Z";for(var u="",d=0;d<l;d++)for(var c=o[d].length,m=0;m<c;m++){var f=o[d][m][0];if(f==="Z")u+="Z";else for(var p=o[d][m].length,v=0;v<p;v++){var y=v;f==="Q"||f==="S"?y=i[v]:f==="C"&&(y=t[v]),u+=o[d][m][y],v>0&&v<p-1&&(u+=",")}}return u},D.readPaths=function(o,l,u,d){var c,m,f,p=M(o),v=[],y=-1,x=0,_=0,h=function(){m=x,f=_};h();for(var S=0;S<p.length;S++){var w,E,C,P,O=[],R=p[S][0],U=R;switch(R){case"M":v[++y]=[],x=+p[S][1],_=+p[S][2],O.push([U,x,_]),h();break;case"Q":case"S":w=+p[S][1],C=+p[S][2],x=+p[S][3],_=+p[S][4],O.push([U,x,_,w,C]);break;case"C":w=+p[S][1],C=+p[S][2],E=+p[S][3],P=+p[S][4],x=+p[S][5],_=+p[S][6],O.push([U,x,_,w,C,E,P]);break;case"T":case"L":x=+p[S][1],_=+p[S][2],O.push([U,x,_]);break;case"H":U="L",x=+p[S][1],O.push([U,x,_]);break;case"V":U="L",_=+p[S][1],O.push([U,x,_]);break;case"A":U="L";var z=+p[S][1],N=+p[S][2];+p[S][4]||(z=-z,N=-N);var W=x-z,F=_;for(c=1;c<=a/2;c++){var V=2*Math.PI*c/a;O.push([U,W+z*Math.cos(V),F+N*Math.sin(V)])}break;case"Z":x===m&&_===f||(x=m,_=f,O.push([U,x,_]))}for(var j=(u||{}).domain,te=l._fullLayout._size,J=u&&u.xsizemode==="pixel",K=u&&u.ysizemode==="pixel",Z=d===!1,X=0;X<O.length;X++){for(c=0;c+2<7;c+=2){var Q=O[X][c+1],re=O[X][c+2];Q!==void 0&&re!==void 0&&(x=Q,_=re,u&&(u.xaxis&&u.xaxis.p2r?(Z&&(Q-=u.xaxis._offset),Q=J?s(u.xaxis,u.xanchor)+Q:g(u.xaxis,Q)):(Z&&(Q-=te.l),j?Q=j.x[0]+Q/te.w:Q/=te.w),u.yaxis&&u.yaxis.p2r?(Z&&(re-=u.yaxis._offset),re=K?s(u.yaxis,u.yanchor)-re:g(u.yaxis,re)):(Z&&(re-=te.t),re=j?j.y[1]-re/te.h:1-re/te.h)),O[X][c+1]=Q,O[X][c+2]=re)}v[y].push(O[X].slice())}}return v},D.pointsOnRectangle=function(o){if(o.length!==5)return!1;for(var l=1;l<3;l++)if(!r(o[0][l]-o[1][l],o[3][l]-o[2][l])||!r(o[0][l]-o[3][l],o[1][l]-o[2][l]))return!1;return!(!r(o[0][1],o[1][1])&&!r(o[0][1],o[3][1])||!(n(o[0],o[1])*n(o[0],o[3])))},D.pointsOnEllipse=function(o){var l=o.length;if(l!==a+1)return!1;l=a;for(var u=0;u<l;u++){var d=(2*l-u)%l,c=(l/2+d)%l,m=(l/2+u)%l;if(!r(n(o[u],o[m]),n(o[d],o[c])))return!1}return!0},D.handleEllipse=function(o,l,u){if(!o)return[l,u];var d=D.ellipseOver({x0:l[0],y0:l[1],x1:u[0],y1:u[1]}),c=(d.x1+d.x0)/2,m=(d.y1+d.y0)/2,f=(d.x1-d.x0)/2,p=(d.y1-d.y0)/2;f||(f=p/=T),p||(p=f/=T);for(var v=[],y=0;y<a;y++){var x=2*y*Math.PI/a;v.push([c+f*Math.cos(x),m+p*Math.sin(x)])}return v},D.ellipseOver=function(o){var l=o.x0,u=o.y0,d=o.x1,c=o.y1,m=d-l,f=c-u,p=((l-=m)+d)/2,v=((u-=f)+c)/2;return{x0:p-(m*=T),y0:v-(f*=T),x1:p+m,y1:v+f}},D.fixDatesForPaths=function(o,l,u){var d=l.type==="date",c=u.type==="date";if(!d&&!c)return o;for(var m=0;m<o.length;m++)for(var f=0;f<o[m].length;f++)for(var p=0;p+2<o[m][f].length;p+=2)d&&(o[m][f][p+1]=o[m][f][p+1].replace(" ","_")),c&&(o[m][f][p+2]=o[m][f][p+2].replace(" ","_"));return o}},93940:function(ee,D,e){var M=e(72760),k=M.drawMode,a=M.openMode,T=e(7e3),b=T.i000,g=T.i090,s=T.i180,t=T.i270,i=T.cos45,r=T.sin45,n=e(5840),o=n.p2r,l=n.r2p,u=e(1936).clearOutline,d=e(9856),c=d.readPaths,m=d.writePaths,f=d.ellipseOver,p=d.fixDatesForPaths;function v(y,x,_){var h,S=y[0][0],w=x.gd,E=S.getAttribute("d"),C=w._fullLayout.newshape,P=x.plotinfo,O=x.isActiveShape,R=P.xaxis,U=P.yaxis,z=!!P.domain||!P.xaxis,N=!!P.domain||!P.yaxis,W=a(_),F=c(E,w,P,O),V={editable:!0,visible:C.visible,name:C.name,showlegend:C.showlegend,legend:C.legend,legendwidth:C.legendwidth,legendgroup:C.legendgroup,legendgrouptitle:{text:C.legendgrouptitle.text,font:C.legendgrouptitle.font},legendrank:C.legendrank,label:C.label,xref:z?"paper":R._id,yref:N?"paper":U._id,layer:C.layer,opacity:C.opacity,line:{color:C.line.color,width:C.line.width,dash:C.line.dash}};if(W||(V.fillcolor=C.fillcolor,V.fillrule=C.fillrule),F.length===1&&(h=F[0]),h&&h.length===5&&_==="drawrect")V.type="rect",V.x0=h[0][1],V.y0=h[0][2],V.x1=h[2][1],V.y1=h[2][2];else if(h&&_==="drawline")V.type="line",V.x0=h[0][1],V.y0=h[0][2],V.x1=h[1][1],V.y1=h[1][2];else if(h&&_==="drawcircle"){V.type="circle";var j=h[b][1],te=h[g][1],J=h[s][1],K=h[t][1],Z=h[b][2],X=h[g][2],Q=h[s][2],re=h[t][2],ae=P.xaxis&&(P.xaxis.type==="date"||P.xaxis.type==="log"),ie=P.yaxis&&(P.yaxis.type==="date"||P.yaxis.type==="log");ae&&(j=l(P.xaxis,j),te=l(P.xaxis,te),J=l(P.xaxis,J),K=l(P.xaxis,K)),ie&&(Z=l(P.yaxis,Z),X=l(P.yaxis,X),Q=l(P.yaxis,Q),re=l(P.yaxis,re));var le=(te+K)/2,pe=(Z+Q)/2,de=f({x0:le,y0:pe,x1:le+(K-te+J-j)/2*i,y1:pe+(re-X+Q-Z)/2*r});ae&&(de.x0=o(P.xaxis,de.x0),de.x1=o(P.xaxis,de.x1)),ie&&(de.y0=o(P.yaxis,de.y0),de.y1=o(P.yaxis,de.y1)),V.x0=de.x0,V.y0=de.y0,V.x1=de.x1,V.y1=de.y1}else V.type="path",R&&U&&p(F,R,U),V.path=m(F),h=null;return V}ee.exports={newShapes:function(y,x){if(y.length&&y[0][0]){var _=x.gd,h=x.isActiveShape,S=x.dragmode,w=(_.layout||{}).shapes||[];if(!k(S)&&h!==void 0){var E=_._fullLayout._activeShapeIndex;if(E<w.length)switch(_._fullLayout.shapes[E].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var C=w[E].path||"";S=C[C.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var P=v(y,x,S);u(_);for(var O=x.editHelpers,R=(O||{}).modifyItem,U=[],z=0;z<w.length;z++){var N=_._fullLayout.shapes[z];if(U[z]=N._input,h!==void 0&&z===_._fullLayout._activeShapeIndex){var W=P;switch(N.type){case"line":case"rect":case"circle":R("x0",W.x0),R("x1",W.x1),R("y0",W.y0),R("y1",W.y1);break;case"path":R("path",W.path)}}}return h===void 0?(U.push(P),U):O?O.getUpdateObj():{}}},createShapeObj:v}},1936:function(ee){ee.exports={clearOutlineControllers:function(D){var e=D._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(D){var e=D._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),D._fullLayout._outlining=!1}}},65152:function(ee,D,e){var M=e(85448),k=e(3400),a=e(54460);D.rangeToShapePosition=function(T){return T.type==="log"?T.r2d:function(b){return b}},D.shapePositionToRange=function(T){return T.type==="log"?T.d2r:function(b){return b}},D.decodeDate=function(T){return function(b){return b.replace&&(b=b.replace("_"," ")),T(b)}},D.encodeDate=function(T){return function(b){return T(b).replace(" ","_")}},D.extractPathCoords=function(T,b,g){var s=[];return T.match(M.segmentRE).forEach(function(t){var i=b[t.charAt(0)].drawn;if(i!==void 0){var r=t.substr(1).match(M.paramRE);if(r&&!(r.length<i)){var n=r[i],o=g?n:k.cleanNumber(n);s.push(o)}}}),s},D.getDataToPixel=function(T,b,g,s){var t,i=T._fullLayout._size;if(b)if(s==="domain")t=function(n){return b._length*(g?1-n:n)+b._offset};else{var r=D.shapePositionToRange(b);t=function(n){return b._offset+b.r2p(r(n,!0))},b.type==="date"&&(t=D.decodeDate(t))}else t=g?function(n){return i.t+i.h*(1-n)}:function(n){return i.l+i.w*n};return t},D.getPixelToData=function(T,b,g,s){var t,i=T._fullLayout._size;if(b)if(s==="domain")t=function(n){var o=(n-b._offset)/b._length;return g?1-o:o};else{var r=D.rangeToShapePosition(b);t=function(n){return r(b.p2r(n-b._offset))}}else t=g?function(n){return 1-(n-i.t)/i.h}:function(n){return(n-i.l)/i.w};return t},D.roundPositionForSharpStrokeRendering=function(T,b){var g=Math.round(b%2)===1,s=Math.round(T);return g?s+.5:s},D.makeShapesOptionsAndPlotinfo=function(T,b){var g=T._fullLayout.shapes[b]||{},s=T._fullLayout._plots[g.xref+g.yref];return s?s._hadPlotinfo=!0:(s={},g.xref&&g.xref!=="paper"&&(s.xaxis=T._fullLayout[g.xref+"axis"]),g.yref&&g.yref!=="paper"&&(s.yaxis=T._fullLayout[g.yref+"axis"])),s.xsizemode=g.xsizemode,s.ysizemode=g.ysizemode,s.xanchor=g.xanchor,s.yanchor=g.yanchor,{options:g,plotinfo:s}},D.makeSelectionsOptionsAndPlotinfo=function(T,b){var g=T._fullLayout.selections[b]||{},s=T._fullLayout._plots[g.xref+g.yref];return s?s._hadPlotinfo=!0:(s={},g.xref&&(s.xaxis=T._fullLayout[g.xref+"axis"]),g.yref&&(s.yaxis=T._fullLayout[g.yref+"axis"])),{options:g,plotinfo:s}},D.getPathString=function(T,b){var g,s,t,i,r,n,o,l,u=b.type,d=a.getRefType(b.xref),c=a.getRefType(b.yref),m=a.getFromId(T,b.xref),f=a.getFromId(T,b.yref),p=T._fullLayout._size;if(m?d==="domain"?s=function(C){return m._offset+m._length*C}:(g=D.shapePositionToRange(m),s=function(C){return m._offset+m.r2p(g(C,!0))}):s=function(C){return p.l+p.w*C},f?c==="domain"?i=function(C){return f._offset+f._length*(1-C)}:(t=D.shapePositionToRange(f),i=function(C){return f._offset+f.r2p(t(C,!0))}):i=function(C){return p.t+p.h*(1-C)},u==="path")return m&&m.type==="date"&&(s=D.decodeDate(s)),f&&f.type==="date"&&(i=D.decodeDate(i)),function(C,P,O){var R=C.path,U=C.xsizemode,z=C.ysizemode,N=C.xanchor,W=C.yanchor;return R.replace(M.segmentRE,function(F){var V=0,j=F.charAt(0),te=M.paramIsX[j],J=M.paramIsY[j],K=M.numParams[j],Z=F.substr(1).replace(M.paramRE,function(X){return te[V]?X=U==="pixel"?P(N)+Number(X):P(X):J[V]&&(X=z==="pixel"?O(W)-Number(X):O(X)),++V>K&&(X="X"),X});return V>K&&(Z=Z.replace(/[\s,]*X.*/,""),k.log("Ignoring extra params in segment "+F)),j+Z})}(b,s,i);if(b.xsizemode==="pixel"){var v=s(b.xanchor);r=v+b.x0,n=v+b.x1}else r=s(b.x0),n=s(b.x1);if(b.ysizemode==="pixel"){var y=i(b.yanchor);o=y-b.y0,l=y-b.y1}else o=i(b.y0),l=i(b.y1);if(u==="line")return"M"+r+","+o+"L"+n+","+l;if(u==="rect")return"M"+r+","+o+"H"+n+"V"+l+"H"+r+"Z";var x=(r+n)/2,_=(o+l)/2,h=Math.abs(x-r),S=Math.abs(_-o),w="A"+h+","+S,E=x+h+","+_;return"M"+E+w+" 0 1,1 "+x+","+(_-S)+w+" 0 0,1 "+E+"Z"}},41592:function(ee,D,e){var M=e(4016);ee.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:M.draw,drawOne:M.drawOne}},97728:function(ee){function D(a,T){return T?T.d2l(a):a}function e(a,T){return T?T.l2d(a):a}function M(a,T){return D(a.x1,T)-D(a.x0,T)}function k(a,T,b){return D(a.y1,b)-D(a.y0,b)}ee.exports={x0:function(a){return a.x0},x1:function(a){return a.x1},y0:function(a){return a.y0},y1:function(a){return a.y1},slope:function(a,T,b){return a.type!=="line"?void 0:k(a,0,b)/M(a,T)},dx:M,dy:k,width:function(a,T){return Math.abs(M(a,T))},height:function(a,T,b){return Math.abs(k(a,0,b))},length:function(a,T,b){return a.type!=="line"?void 0:Math.sqrt(Math.pow(M(a,T),2)+Math.pow(k(a,0,b),2))},xcenter:function(a,T){return e((D(a.x1,T)+D(a.x0,T))/2,T)},ycenter:function(a,T,b){return e((D(a.y1,b)+D(a.y0,b))/2,b)}}},89861:function(ee,D,e){var M=e(25376),k=e(66741),a=e(92880).extendDeepAll,T=e(67824).overrideAll,b=e(85656),g=e(31780).templatedArray,s=e(60876),t=g("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ee.exports=T(g("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(k({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:b.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:M({})},font:M({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},60876:function(ee){ee.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(ee,D,e){var M=e(3400),k=e(51272),a=e(89861),T=e(60876).name,b=a.steps;function g(t,i,r){function n(c,m){return M.coerce(t,i,a,c,m)}for(var o=k(t,i,{name:"steps",handleItemDefaults:s}),l=0,u=0;u<o.length;u++)o[u].visible&&l++;if(l<2?i.visible=!1:n("visible")){i._stepCount=l;var d=i._visibleSteps=M.filterVisible(o);(o[n("active")]||{}).visible||(i.active=d[0]._index),n("x"),n("y"),M.noneOrAll(t,i,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),M.coerceFont(n,"font",r.font),n("currentvalue.visible")&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),M.coerceFont(n,"currentvalue.font",i.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function s(t,i){function r(o,l){return M.coerce(t,i,b,o,l)}if(t.method==="skip"||Array.isArray(t.args)?r("visible"):i.visible=!1){r("method"),r("args");var n=r("label","step-"+i._index);r("value",n),r("execute")}}ee.exports=function(t,i){k(t,i,{name:T,handleItemDefaults:g})}},79664:function(ee,D,e){var M=e(33428),k=e(7316),a=e(76308),T=e(43616),b=e(3400),g=b.strTranslate,s=e(72736),t=e(31780).arrayEditor,i=e(60876),r=e(84284),n=r.LINE_SPACING,o=r.FROM_TL,l=r.FROM_BR;function u(O){return i.autoMarginIdRoot+O._index}function d(O){return O._index}function c(O,R){var U=T.tester.selectAll("g."+i.labelGroupClass).data(R._visibleSteps);U.enter().append("g").classed(i.labelGroupClass,!0);var z=0,N=0;U.each(function(X){var Q=p(M.select(this),{step:X},R).node();if(Q){var re=T.bBox(Q);N=Math.max(N,re.height),z=Math.max(z,re.width)}}),U.remove();var W=R._dims={};W.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var F=O._fullLayout._size;W.lx=F.l+F.w*R.x,W.ly=F.t+F.h*(1-R.y),R.lenmode==="fraction"?W.outerLength=Math.round(F.w*R.len):W.outerLength=R.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-R.pad.l-R.pad.r);var V=(W.inputAreaLength-2*i.stepInset)/(R._stepCount-1),j=z+i.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(j/V)),W.labelHeight=N,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,R.currentvalue.visible){var te=T.tester.append("g");U.each(function(X){var Q=m(te,R,X.label),re=Q.node()&&T.bBox(Q.node())||{width:0,height:0},ae=s.lineCount(Q);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(re.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(re.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,ae)}),W.currentValueTotalHeight=W.currentValueHeight+R.currentvalue.offset,te.remove()}W.height=W.currentValueTotalHeight+i.tickOffset+R.ticklen+i.labelOffset+W.labelHeight+R.pad.t+R.pad.b;var J="left";b.isRightAnchor(R)&&(W.lx-=W.outerLength,J="right"),b.isCenterAnchor(R)&&(W.lx-=W.outerLength/2,J="center");var K="top";b.isBottomAnchor(R)&&(W.ly-=W.height,K="bottom"),b.isMiddleAnchor(R)&&(W.ly-=W.height/2,K="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var Z={y:R.y,b:W.height*l[K],t:W.height*o[K]};R.lenmode==="fraction"?(Z.l=0,Z.xl=R.x-R.len*o[J],Z.r=0,Z.xr=R.x+R.len*l[J]):(Z.x=R.x,Z.l=W.outerLength*o[J],Z.r=W.outerLength*l[J]),k.autoMargin(O,u(R),Z)}function m(O,R,U){if(R.currentvalue.visible){var z,N,W=R._dims;switch(R.currentvalue.xanchor){case"right":z=W.inputAreaLength-i.currentValueInset-W.currentValueMaxWidth,N="left";break;case"center":z=.5*W.inputAreaLength,N="middle";break;default:z=i.currentValueInset,N="left"}var F=b.ensureSingle(O,"text",i.labelClass,function(Z){Z.attr({"text-anchor":N,"data-notex":1})}),V=R.currentvalue.prefix?R.currentvalue.prefix:"";if(typeof U=="string")V+=U;else{var j=R.steps[R.active].label,te=R._gd._fullLayout._meta;te&&(j=b.templateString(j,te)),V+=j}R.currentvalue.suffix&&(V+=R.currentvalue.suffix),F.call(T.font,R.currentvalue.font).text(V).call(s.convertToTspans,R._gd);var J=s.lineCount(F),K=(W.currentValueMaxLines+1-J)*R.currentvalue.font.size*n;return s.positionText(F,z,K),F}}function f(O,R,U){b.ensureSingle(O,"rect",i.gripRectClass,function(z){z.call(_,R,O,U).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(a.stroke,U.bordercolor).call(a.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function p(O,R,U){var z=b.ensureSingle(O,"text",i.labelClass,function(F){F.attr({"text-anchor":"middle","data-notex":1})}),N=R.step.label,W=U._gd._fullLayout._meta;return W&&(N=b.templateString(N,W)),z.call(T.font,U.font).text(N).call(s.convertToTspans,U._gd),z}function v(O,R){var U=b.ensureSingle(O,"g",i.labelsClass),z=R._dims,N=U.selectAll("g."+i.labelGroupClass).data(z.labelSteps);N.enter().append("g").classed(i.labelGroupClass,!0),N.exit().remove(),N.each(function(W){var F=M.select(this);F.call(p,W,R),T.setTranslate(F,w(R,W.fraction),i.tickOffset+R.ticklen+R.font.size*n+i.labelOffset+z.currentValueTotalHeight)})}function y(O,R,U,z,N){var W=Math.round(z*(U._stepCount-1)),F=U._visibleSteps[W]._index;F!==U.active&&x(O,R,U,F,!0,N)}function x(O,R,U,z,N,W){var F=U.active;U.active=z,t(O.layout,i.name,U).applyUpdate("active",z);var V=U.steps[U.active];R.call(S,U,W),R.call(m,U),O.emit("plotly_sliderchange",{slider:U,step:U.steps[U.active],interaction:N,previousActive:F}),V&&V.method&&N&&(R._nextMethod?(R._nextMethod.step=V,R._nextMethod.doCallback=N,R._nextMethod.doTransition=W):(R._nextMethod={step:V,doCallback:N,doTransition:W},R._nextMethodRaf=window.requestAnimationFrame(function(){var j=R._nextMethod.step;j.method&&(j.execute&&k.executeAPICommand(O,j.method,j.args),R._nextMethod=null,R._nextMethodRaf=null)})))}function _(O,R,U){if(!R._context.staticPlot){var z=U.node(),N=M.select(R);O.on("mousedown",F),O.on("touchstart",F)}function W(){return U.data()[0]}function F(){var V=W();R.emit("plotly_sliderstart",{slider:V});var j=U.select("."+i.gripRectClass);M.event.stopPropagation(),M.event.preventDefault(),j.call(a.fill,V.activebgcolor);var te=E(V,M.mouse(z)[0]);function J(){var Z=W(),X=E(Z,M.mouse(z)[0]);y(R,U,Z,X,!1)}function K(){var Z=W();Z._dragging=!1,j.call(a.fill,Z.bgcolor),N.on("mouseup",null),N.on("mousemove",null),N.on("touchend",null),N.on("touchmove",null),R.emit("plotly_sliderend",{slider:Z,step:Z.steps[Z.active]})}y(R,U,V,te,!0),V._dragging=!0,N.on("mousemove",J),N.on("touchmove",J),N.on("mouseup",K),N.on("touchend",K)}}function h(O,R){var U=O.selectAll("rect."+i.tickRectClass).data(R._visibleSteps),z=R._dims;U.enter().append("rect").classed(i.tickRectClass,!0),U.exit().remove(),U.attr({width:R.tickwidth+"px","shape-rendering":"crispEdges"}),U.each(function(N,W){var F=W%z.labelStride==0,V=M.select(this);V.attr({height:F?R.ticklen:R.minorticklen}).call(a.fill,R.tickcolor),T.setTranslate(V,w(R,W/(R._stepCount-1))-.5*R.tickwidth,(F?i.tickOffset:i.minorTickOffset)+z.currentValueTotalHeight)})}function S(O,R,U){for(var z=O.select("rect."+i.gripRectClass),N=0,W=0;W<R._stepCount;W++)if(R._visibleSteps[W]._index===R.active){N=W;break}var F=w(R,N/(R._stepCount-1));if(!R._invokingCommand){var V=z;U&&R.transition.duration>0&&(V=V.transition().duration(R.transition.duration).ease(R.transition.easing)),V.attr("transform",g(F-.5*i.gripWidth,R._dims.currentValueTotalHeight))}}function w(O,R){var U=O._dims;return U.inputAreaStart+i.stepInset+(U.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,R))}function E(O,R){var U=O._dims;return Math.min(1,Math.max(0,(R-i.stepInset-U.inputAreaStart)/(U.inputAreaLength-2*i.stepInset-2*U.inputAreaStart)))}function C(O,R,U){var z=U._dims,N=b.ensureSingle(O,"rect",i.railTouchRectClass,function(W){W.call(_,R,O,U).style("pointer-events","all")});N.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,i.tickOffset+U.ticklen+z.labelHeight)}).call(a.fill,U.bgcolor).attr("opacity",0),T.setTranslate(N,0,z.currentValueTotalHeight)}function P(O,R){var U=R._dims,z=U.inputAreaLength-2*i.railInset,N=b.ensureSingle(O,"rect",i.railRectClass);N.attr({width:z,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,R.bordercolor).call(a.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px"),T.setTranslate(N,i.railInset,.5*(U.inputAreaWidth-i.railWidth)+U.currentValueTotalHeight)}ee.exports=function(O){var R=O._context.staticPlot,U=O._fullLayout,z=function(te,J){for(var K=te[i.name],Z=[],X=0;X<K.length;X++){var Q=K[X];Q.visible&&(Q._gd=J,Z.push(Q))}return Z}(U,O),N=U._infolayer.selectAll("g."+i.containerClassName).data(z.length>0?[0]:[]);function W(te){te._commandObserver&&(te._commandObserver.remove(),delete te._commandObserver),k.autoMargin(O,u(te))}if(N.enter().append("g").classed(i.containerClassName,!0).style("cursor",R?null:"ew-resize"),N.exit().each(function(){M.select(this).selectAll("g."+i.groupClassName).each(W)}).remove(),z.length!==0){var F=N.selectAll("g."+i.groupClassName).data(z,d);F.enter().append("g").classed(i.groupClassName,!0),F.exit().each(W).remove();for(var V=0;V<z.length;V++){var j=z[V];c(O,j)}F.each(function(te){var J=M.select(this);(function(K){var Z=K._dims;Z.labelSteps=[];for(var X=K._stepCount,Q=0;Q<X;Q+=Z.labelStride)Z.labelSteps.push({fraction:Q/(X-1),step:K._visibleSteps[Q]})})(te),k.manageCommandObserver(O,te,te._visibleSteps,function(K){var Z=J.data()[0];Z.active!==K.index&&(Z._dragging||x(O,J,Z,K.index,!1,!0))}),function(K,Z,X){(X.steps[X.active]||{}).visible||(X.active=X._visibleSteps[0]._index),Z.call(m,X).call(P,X).call(v,X).call(h,X).call(C,K,X).call(f,K,X);var Q=X._dims;T.setTranslate(Z,Q.lx+X.pad.l,Q.ly+X.pad.t),Z.call(S,X,!1),Z.call(m,X)}(O,M.select(this),te)})}}},97544:function(ee,D,e){var M=e(60876);ee.exports={moduleType:"component",name:M.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(ee,D,e){var M=e(33428),k=e(38248),a=e(7316),T=e(24040),b=e(3400),g=b.strTranslate,s=e(43616),t=e(76308),i=e(72736),r=e(13448),n=e(84284).OPPOSITE_SIDE,o=/ [XY][0-9]* /;ee.exports={draw:function(l,u,d){var c,m=d.propContainer,f=d.propName,p=d.placeholder,v=d.traceIndex,y=d.avoid||{},x=d.attributes,_=d.transform,h=d.containerGroup,S=l._fullLayout,w=1,E=!1,C=m.title,P=(C&&C.text?C.text:"").trim(),O=C&&C.font?C.font:{},R=O.family,U=O.size,z=O.color;f==="title.text"?c="titleText":f.indexOf("axis")!==-1?c="axisTitleText":f.indexOf(!0)&&(c="colorbarTitleText");var N=l._context.edits[c];P===""?w=0:P.replace(o," % ")===p.replace(o," % ")&&(w=.2,E=!0,N||(P="")),d._meta?P=b.templateString(P,d._meta):S._meta&&(P=b.templateString(P,S._meta));var W,F=P||N;h||(h=b.ensureSingle(S._infolayer,"g","g-"+u),W=S._hColorbarMoveTitle);var V=h.selectAll("text").data(F?[0]:[]);if(V.enter().append("text"),V.text(P).attr("class",u),V.exit().remove(),!F)return h;function j(K){b.syncOrAsync([te,J],K)}function te(K){var Z;return!_&&W&&(_={}),_?(Z="",_.rotate&&(Z+="rotate("+[_.rotate,x.x,x.y]+")"),(_.offset||W)&&(Z+=g(0,(_.offset||0)-(W||0)))):Z=null,K.attr("transform",Z),K.style({"font-family":R,"font-size":M.round(U,2)+"px",fill:t.rgb(z),opacity:w*t.opacity(z),"font-weight":a.fontWeight}).attr(x).call(i.convertToTspans,l),a.previousPromises(l)}function J(K){var Z=M.select(K.node().parentNode);if(y&&y.selection&&y.side&&P){Z.attr("transform",null);var X=n[y.side],Q=y.side==="left"||y.side==="top"?-1:1,re=k(y.pad)?y.pad:2,ae=s.bBox(Z.node()),ie={t:0,b:0,l:0,r:0},le=l._fullLayout._reservedMargin;for(var pe in le)for(var de in le[pe]){var ve=le[pe][de];ie[de]=Math.max(ie[de],ve)}var be={left:ie.l,top:ie.t,right:S.width-ie.r,bottom:S.height-ie.b},me=y.maxShift||Q*(be[y.side]-ae[y.side]),ge=0;if(me<0)ge=me;else{var ke=y.offsetLeft||0,we=y.offsetTop||0;ae.left-=ke,ae.right-=ke,ae.top-=we,ae.bottom-=we,y.selection.each(function(){var oe=s.bBox(this);b.bBoxIntersect(ae,oe,re)&&(ge=Math.max(ge,Q*(oe[y.side]-ae[X])+re))}),ge=Math.min(me,ge),m._titleScoot=Math.abs(ge)}if(ge>0||me<0){var ue={left:[-ge,0],right:[ge,0],top:[0,-ge],bottom:[0,ge]}[y.side];Z.attr("transform",g(ue[0],ue[1]))}}}return V.call(j),N&&(P?V.on(".opacity",null):(w=0,E=!0,V.text(p).on("mouseover.opacity",function(){M.select(this).transition().duration(r.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){M.select(this).transition().duration(r.HIDE_PLACEHOLDER).style("opacity",0)})),V.call(i.makeEditable,{gd:l}).on("edit",function(K){v!==void 0?T.call("_guiRestyle",l,f,K,v):T.call("_guiRelayout",l,f,K)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(j)}).on("input",function(K){this.text(K||" ").call(i.positionText,x.x,x.y)})),V.classed("js-placeholder",E),h}}},88444:function(ee,D,e){var M=e(25376),k=e(22548),a=e(92880).extendFlat,T=e(67824).overrideAll,b=e(66741),g=e(31780).templatedArray,s=g("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ee.exports=T(g("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(b({editType:"arraydraw"}),{}),font:M({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:k.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(ee){ee.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(ee,D,e){var M=e(3400),k=e(51272),a=e(88444),T=e(73712).name,b=a.buttons;function g(t,i,r){function n(o,l){return M.coerce(t,i,a,o,l)}n("visible",k(t,i,{name:"buttons",handleItemDefaults:s}).length>0)&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),M.noneOrAll(t,i,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),M.coerceFont(n,"font",r.font),n("bgcolor",r.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function s(t,i){function r(n,o){return M.coerce(t,i,b,n,o)}r("visible",t.method==="skip"||Array.isArray(t.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}ee.exports=function(t,i){k(t,i,{name:T,handleItemDefaults:g})}},14420:function(ee,D,e){var M=e(33428),k=e(7316),a=e(76308),T=e(43616),b=e(3400),g=e(72736),s=e(31780).arrayEditor,t=e(84284).LINE_SPACING,i=e(73712),r=e(37400);function n(w){return w._index}function o(w,E){return+w.attr(i.menuIndexAttrName)===E._index}function l(w,E,C,P,O,R,U,z){E.active=U,s(w.layout,i.name,E).applyUpdate("active",U),E.type==="buttons"?d(w,P,null,null,E):E.type==="dropdown"&&(O.attr(i.menuIndexAttrName,"-1"),u(w,P,O,R,E),z||d(w,P,O,R,E))}function u(w,E,C,P,O){var R=b.ensureSingle(E,"g",i.headerClassName,function(V){V.style("pointer-events","all")}),U=O._dims,z=O.active,N=O.buttons[z]||i.blankHeaderOpts,W={y:O.pad.t,yPad:0,x:O.pad.l,xPad:0,index:0},F={width:U.headerWidth,height:U.headerHeight};R.call(c,O,N,w).call(h,O,W,F),b.ensureSingle(E,"text",i.headerArrowClassName,function(V){V.attr("text-anchor","end").call(T.font,O.font).text(i.arrowSymbol[O.direction])}).attr({x:U.headerWidth-i.arrowOffsetX+O.pad.l,y:U.headerHeight/2+i.textOffsetY+O.pad.t}),R.on("click",function(){C.call(S,String(o(C,O)?-1:O._index)),d(w,E,C,P,O)}),R.on("mouseover",function(){R.call(v)}),R.on("mouseout",function(){R.call(y,O)}),T.setTranslate(E,U.lx,U.ly)}function d(w,E,C,P,O){C||(C=E).attr("pointer-events","all");var R=function(Z){return+Z.attr(i.menuIndexAttrName)==-1}(C)&&O.type!=="buttons"?[]:O.buttons,U=O.type==="dropdown"?i.dropdownButtonClassName:i.buttonClassName,z=C.selectAll("g."+U).data(b.filterVisible(R)),N=z.enter().append("g").classed(U,!0),W=z.exit();O.type==="dropdown"?(N.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var F=0,V=0,j=O._dims,te=["up","down"].indexOf(O.direction)!==-1;O.type==="dropdown"&&(te?V=j.headerHeight+i.gapButtonHeader:F=j.headerWidth+i.gapButtonHeader),O.type==="dropdown"&&O.direction==="up"&&(V=-i.gapButtonHeader+i.gapButton-j.openHeight),O.type==="dropdown"&&O.direction==="left"&&(F=-i.gapButtonHeader+i.gapButton-j.openWidth);var J={x:j.lx+F+O.pad.l,y:j.ly+V+O.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},K={l:J.x+O.borderwidth,t:J.y+O.borderwidth};z.each(function(Z,X){var Q=M.select(this);Q.call(c,O,Z,w).call(h,O,J),Q.on("click",function(){M.event.defaultPrevented||(Z.execute&&(Z.args2&&O.active===X?(l(w,O,0,E,C,P,-1),k.executeAPICommand(w,Z.method,Z.args2)):(l(w,O,0,E,C,P,X),k.executeAPICommand(w,Z.method,Z.args))),w.emit("plotly_buttonclicked",{menu:O,button:Z,active:O.active}))}),Q.on("mouseover",function(){Q.call(v)}),Q.on("mouseout",function(){Q.call(y,O),z.call(p,O)})}),z.call(p,O),te?(K.w=Math.max(j.openWidth,j.headerWidth),K.h=J.y-K.t):(K.w=J.x-K.l,K.h=Math.max(j.openHeight,j.headerHeight)),K.direction=O.direction,P&&(z.size()?function(Z,X,Q,re,ae,ie){var le,pe,de,ve=ae.direction,be=ve==="up"||ve==="down",me=ae._dims,ge=ae.active;if(be)for(pe=0,de=0;de<ge;de++)pe+=me.heights[de]+i.gapButton;else for(le=0,de=0;de<ge;de++)le+=me.widths[de]+i.gapButton;re.enable(ie,le,pe),re.hbar&&re.hbar.attr("opacity","0").transition().attr("opacity","1"),re.vbar&&re.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,P,O,K):function(Z){var X=!!Z.hbar,Q=!!Z.vbar;X&&Z.hbar.transition().attr("opacity","0").each("end",function(){X=!1,Q||Z.disable()}),Q&&Z.vbar.transition().attr("opacity","0").each("end",function(){Q=!1,X||Z.disable()})}(P))}function c(w,E,C,P){w.call(m,E).call(f,E,C,P)}function m(w,E){b.ensureSingle(w,"rect",i.itemRectClassName,function(C){C.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(a.stroke,E.bordercolor).call(a.fill,E.bgcolor).style("stroke-width",E.borderwidth+"px")}function f(w,E,C,P){var O=b.ensureSingle(w,"text",i.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),R=C.label,U=P._fullLayout._meta;U&&(R=b.templateString(R,U)),O.call(T.font,E.font).text(R).call(g.convertToTspans,P)}function p(w,E){var C=E.active;w.each(function(P,O){var R=M.select(this);O===C&&E.showactive&&R.select("rect."+i.itemRectClassName).call(a.fill,i.activeColor)})}function v(w){w.select("rect."+i.itemRectClassName).call(a.fill,i.hoverColor)}function y(w,E){w.select("rect."+i.itemRectClassName).call(a.fill,E.bgcolor)}function x(w,E){var C=E._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},P=T.tester.selectAll("g."+i.dropdownButtonClassName).data(b.filterVisible(E.buttons));P.enter().append("g").classed(i.dropdownButtonClassName,!0);var O=["up","down"].indexOf(E.direction)!==-1;P.each(function(F,V){var j=M.select(this);j.call(c,E,F,w);var te=j.select("."+i.itemTextClassName),J=te.node()&&T.bBox(te.node()).width,K=Math.max(J+i.textPadX,i.minWidth),Z=E.font.size*t,X=g.lineCount(te),Q=Math.max(Z*X,i.minHeight)+i.textOffsetY;Q=Math.ceil(Q),K=Math.ceil(K),C.widths[V]=K,C.heights[V]=Q,C.height1=Math.max(C.height1,Q),C.width1=Math.max(C.width1,K),O?(C.totalWidth=Math.max(C.totalWidth,K),C.openWidth=C.totalWidth,C.totalHeight+=Q+i.gapButton,C.openHeight+=Q+i.gapButton):(C.totalWidth+=K+i.gapButton,C.openWidth+=K+i.gapButton,C.totalHeight=Math.max(C.totalHeight,Q),C.openHeight=C.totalHeight)}),O?C.totalHeight-=i.gapButton:C.totalWidth-=i.gapButton,C.headerWidth=C.width1+i.arrowPadX,C.headerHeight=C.height1,E.type==="dropdown"&&(O?(C.width1+=i.arrowPadX,C.totalHeight=C.height1):C.totalWidth=C.width1,C.totalWidth+=i.arrowPadX),P.remove();var R=C.totalWidth+E.pad.l+E.pad.r,U=C.totalHeight+E.pad.t+E.pad.b,z=w._fullLayout._size;C.lx=z.l+z.w*E.x,C.ly=z.t+z.h*(1-E.y);var N="left";b.isRightAnchor(E)&&(C.lx-=R,N="right"),b.isCenterAnchor(E)&&(C.lx-=R/2,N="center");var W="top";b.isBottomAnchor(E)&&(C.ly-=U,W="bottom"),b.isMiddleAnchor(E)&&(C.ly-=U/2,W="middle"),C.totalWidth=Math.ceil(C.totalWidth),C.totalHeight=Math.ceil(C.totalHeight),C.lx=Math.round(C.lx),C.ly=Math.round(C.ly),k.autoMargin(w,_(E),{x:E.x,y:E.y,l:R*({right:1,center:.5}[N]||0),r:R*({left:1,center:.5}[N]||0),b:U*({top:1,middle:.5}[W]||0),t:U*({bottom:1,middle:.5}[W]||0)})}function _(w){return i.autoMarginIdRoot+w._index}function h(w,E,C,P){P=P||{};var O=w.select("."+i.itemRectClassName),R=w.select("."+i.itemTextClassName),U=E.borderwidth,z=C.index,N=E._dims;T.setTranslate(w,U+C.x,U+C.y);var W=["up","down"].indexOf(E.direction)!==-1,F=P.height||(W?N.heights[z]:N.height1);O.attr({x:0,y:0,width:P.width||(W?N.width1:N.widths[z]),height:F});var V=E.font.size*t,j=(g.lineCount(R)-1)*V/2;g.positionText(R,i.textOffsetX,F/2-j+i.textOffsetY),W?C.y+=N.heights[z]+C.yPad:C.x+=N.widths[z]+C.xPad,C.index++}function S(w,E){w.attr(i.menuIndexAttrName,E||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}ee.exports=function(w){var E=w._fullLayout,C=b.filterVisible(E[i.name]);function P(V){k.autoMargin(w,_(V))}var O=E._menulayer.selectAll("g."+i.containerClassName).data(C.length>0?[0]:[]);if(O.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){M.select(this).selectAll("g."+i.headerGroupClassName).each(P)}).remove(),C.length!==0){var R=O.selectAll("g."+i.headerGroupClassName).data(C,n);R.enter().append("g").classed(i.headerGroupClassName,!0);for(var U=b.ensureSingle(O,"g",i.dropdownButtonGroupClassName,function(V){V.style("pointer-events","all")}),z=0;z<C.length;z++){var N=C[z];x(w,N)}var W="updatemenus"+E._uid,F=new r(w,U,W);R.enter().size()&&(U.node().parentNode.appendChild(U.node()),U.call(S)),R.exit().each(function(V){U.call(S),P(V)}).remove(),R.each(function(V){var j=M.select(this),te=V.type==="dropdown"?U:null;k.manageCommandObserver(w,V,V.buttons,function(J){l(w,V,V.buttons[J.index],j,te,F,J.index,!0)}),V.type==="dropdown"?(u(w,j,U,F,V),o(U,V)&&d(w,j,U,F,V)):d(w,j,null,null,V)})}}},76908:function(ee,D,e){var M=e(73712);ee.exports={moduleType:"component",name:M.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(ee,D,e){ee.exports=b;var M=e(33428),k=e(76308),a=e(43616),T=e(3400);function b(g,s,t){this.gd=g,this.container=s,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.barWidth=2,b.barLength=20,b.barRadius=2,b.barPad=1,b.barColor="#808BA4",b.prototype.enable=function(g,s,t){var i=this.gd._fullLayout,r=i.width,n=i.height;this.position=g;var o,l,u,d,c=this.position.l,m=this.position.w,f=this.position.t,p=this.position.h,v=this.position.direction,y=v==="down",x=v==="left",_=v==="up",h=m,S=p;y||x||v==="right"||_||(this.position.direction="down",y=!0),y||_?(l=(o=c)+h,y?(u=f,S=(d=Math.min(u+S,n))-u):S=(d=f+S)-(u=Math.max(d-S,0))):(d=(u=f)+S,x?h=(l=c+h)-(o=Math.max(l-h,0)):(o=c,h=(l=Math.min(o+h,r))-o)),this._box={l:o,t:u,w:h,h:S};var w=m>h,E=b.barLength+2*b.barPad,C=b.barWidth+2*b.barPad,P=c,O=f+p;O+C>n&&(O=n-C);var R=this.container.selectAll("rect.scrollbar-horizontal").data(w?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-horizontal",!0).call(k.fill,b.barColor),w?(this.hbar=R.attr({rx:b.barRadius,ry:b.barRadius,x:P,y:O,width:E,height:C}),this._hbarXMin=P+E/2,this._hbarTranslateMax=h-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var U=p>S,z=b.barWidth+2*b.barPad,N=b.barLength+2*b.barPad,W=c+m,F=f;W+z>r&&(W=r-z);var V=this.container.selectAll("rect.scrollbar-vertical").data(U?[0]:[]);V.exit().on(".drag",null).remove(),V.enter().append("rect").classed("scrollbar-vertical",!0).call(k.fill,b.barColor),U?(this.vbar=V.attr({rx:b.barRadius,ry:b.barRadius,x:W,y:F,width:z,height:N}),this._vbarYMin=F+N/2,this._vbarTranslateMax=S-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var j=this.id,te=o-.5,J=U?l+z+.5:l+.5,K=u-.5,Z=w?d+C+.5:d+.5,X=i._topdefs.selectAll("#"+j).data(w||U?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",j).append("rect"),w||U?(this._clipRect=X.select("rect").attr({x:Math.floor(te),y:Math.floor(K),width:Math.ceil(J)-Math.floor(te),height:Math.ceil(Z)-Math.floor(K)}),this.container.call(a.setClipUrl,j,this.gd),this.bg.attr({x:c,y:f,width:m,height:p})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),w||U){var Q=M.behavior.drag().on("dragstart",function(){M.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Q);var re=M.behavior.drag().on("dragstart",function(){M.event.sourceEvent.preventDefault(),M.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));w&&this.hbar.on(".drag",null).call(re),U&&this.vbar.on(".drag",null).call(re)}this.setTranslate(s,t)},b.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},b.prototype._onBoxDrag=function(){var g=this.translateX,s=this.translateY;this.hbar&&(g-=M.event.dx),this.vbar&&(s-=M.event.dy),this.setTranslate(g,s)},b.prototype._onBoxWheel=function(){var g=this.translateX,s=this.translateY;this.hbar&&(g+=M.event.deltaY),this.vbar&&(s+=M.event.deltaY),this.setTranslate(g,s)},b.prototype._onBarDrag=function(){var g=this.translateX,s=this.translateY;if(this.hbar){var t=g+this._hbarXMin,i=t+this._hbarTranslateMax;g=(T.constrain(M.event.x,t,i)-t)/(i-t)*(this.position.w-this._box.w)}if(this.vbar){var r=s+this._vbarYMin,n=r+this._vbarTranslateMax;s=(T.constrain(M.event.y,r,n)-r)/(n-r)*(this.position.h-this._box.h)}this.setTranslate(g,s)},b.prototype.setTranslate=function(g,s){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(g=T.constrain(g||0,0,t),s=T.constrain(s||0,0,i),this.translateX=g,this.translateY=s,this.container.call(a.setTranslate,this._box.l-this.position.l-g,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+g-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var r=g/t;this.hbar.call(a.setTranslate,g+r*this._hbarTranslateMax,s)}if(this.vbar){var n=s/i;this.vbar.call(a.setTranslate,g,s+n*this._vbarTranslateMax)}}},84284:function(ee){ee.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(ee){ee.exports={axisRefDescription:function(D,e,M){return["If set to a",D,"axis id (e.g. *"+D+"* or","*"+D+"2*), the `"+D+"` position refers to a",D,"coordinate. If set to *paper*, the `"+D+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+M+"). If set to a",D,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+D+"2 domain* refers to the domain of the second",D," axis and a",D,"position of 0.5 refers to the","point between the",e,"and the",M,"of the domain of the","second",D,"axis."].join(" ")}}},48164:function(ee){ee.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(ee){ee.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(ee){ee.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(ee){ee.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(ee){ee.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(ee){ee.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(ee){ee.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(ee,D){D.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],D.STYLE=D.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(ee,D){D.xmlns="http://www.w3.org/2000/xmlns/",D.svg="http://www.w3.org/2000/svg",D.xlink="http://www.w3.org/1999/xlink",D.svgAttrs={xmlns:D.svg,"xmlns:xlink":D.xlink}},64884:function(ee,D,e){D.version=e(25788).version,e(88324),e(79288);for(var M=e(24040),k=D.register=M.register,a=e(22448),T=Object.keys(a),b=0;b<T.length;b++){var g=T[b];g.charAt(0)!=="_"&&(D[g]=a[g]),k({moduleType:"apiMethod",name:g,fn:a[g]})}k(e(65875)),k([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),k([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(k(window.PlotlyLocales),delete window.PlotlyLocales),D.Icons=e(9224);var s=e(93024),t=e(7316);D.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},D.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},D.Snapshot=e(78904),D.PlotSchema=e(73060)},9224:function(ee){ee.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(ee,D){D.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},D.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},D.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},D.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},D.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},D.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},11864:function(ee,D,e){var M=e(20435),k=M.mod,a=M.modHalf,T=Math.PI,b=2*T;function g(r){return Math.abs(r[1]-r[0])>b-1e-14}function s(r,n){return a(n-r,b)}function t(r,n){if(g(n))return!0;var o,l;n[0]<n[1]?(o=n[0],l=n[1]):(o=n[1],l=n[0]),(o=k(o,b))>(l=k(l,b))&&(l+=b);var u=k(r,b),d=u+b;return u>=o&&u<=l||d>=o&&d<=l}function i(r,n,o,l,u,d,c){u=u||0,d=d||0;var m,f,p,v,y,x=g([o,l]);function _(E,C){return[E*Math.cos(C)+u,d-E*Math.sin(C)]}x?(m=0,f=T,p=b):o<l?(m=o,p=l):(m=l,p=o),r<n?(v=r,y=n):(v=n,y=r);var h,S=Math.abs(p-m)<=T?0:1;function w(E,C,P){return"A"+[E,E]+" "+[0,S,P]+" "+_(E,C)}return x?h=v===null?"M"+_(y,m)+w(y,f,0)+w(y,p,0)+"Z":"M"+_(v,m)+w(v,f,0)+w(v,p,0)+"ZM"+_(y,m)+w(y,f,1)+w(y,p,1)+"Z":v===null?(h="M"+_(y,m)+w(y,p,0),c&&(h+="L0,0Z")):h="M"+_(v,m)+"L"+_(y,m)+w(y,p,0)+"L"+_(v,p)+w(v,m,1)+"Z",h}ee.exports={deg2rad:function(r){return r/180*T},rad2deg:function(r){return r/T*180},angleDelta:s,angleDist:function(r,n){return Math.abs(s(r,n))},isFullCircle:g,isAngleInsideSector:t,isPtInsideSector:function(r,n,o,l){return!!t(n,l)&&(o[0]<o[1]?(u=o[0],d=o[1]):(u=o[1],d=o[0]),r>=u&&r<=d);var u,d},pathArc:function(r,n,o,l,u){return i(null,r,n,o,l,u,0)},pathSector:function(r,n,o,l,u){return i(null,r,n,o,l,u,1)},pathAnnulus:function(r,n,o,l,u,d){return i(r,n,o,l,u,d,1)}}},38116:function(ee,D,e){var M=e(83160).decode,k=e(63620),a=Array.isArray,T=ArrayBuffer,b=DataView;function g(n){return T.isView(n)&&!(n instanceof b)}function s(n){return a(n)||g(n)}D.isTypedArray=g,D.isArrayOrTypedArray=s,D.isArray1D=function(n){return!s(n[0])},D.ensureArray=function(n,o){return a(n)||(n=[]),n.length=o,n};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function i(n){return n.constructor===ArrayBuffer}function r(n,o,l){if(s(n)){if(s(n[0])){for(var u=l,d=0;d<n.length;d++)u=o(u,n[d].length);return u}return n.length}return 0}t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8,D.isArrayBuffer=i,D.decodeTypedArraySpec=function(n){var o=[],l=function(E){return{bdata:E.bdata,dtype:E.dtype,shape:E.shape}}(n),u=l.dtype,d=t[u];if(!d)throw new Error('Error in dtype: "'+u+'"');var c=d.BYTES_PER_ELEMENT,m=l.bdata;i(m)||(m=M(m));var f=l.shape===void 0?[m.byteLength/c]:(""+l.shape).split(",");f.reverse();var p,v,y=f.length,x=+f[0],_=c*x,h=0;if(y===1)o=new d(m);else if(y===2)for(p=+f[1],v=0;v<p;v++)o[v]=new d(m,h,x),h+=_;else{if(y!==3)throw new Error("ndim: "+y+'is not supported with the shape:"'+l.shape+'"');p=+f[1];for(var S=+f[2],w=0;w<S;w++)for(o[w]=[],v=0;v<p;v++)o[w][v]=new d(m,h,x),h+=_}return o.bdata=l.bdata,o.dtype=l.dtype,o.shape=f.reverse().join(","),n._inputArray=o,o},D.isTypedArraySpec=function(n){return k(n)&&n.hasOwnProperty("dtype")&&typeof n.dtype=="string"&&n.hasOwnProperty("bdata")&&(typeof n.bdata=="string"||i(n.bdata))&&(n.shape===void 0||n.hasOwnProperty("shape")&&(typeof n.shape=="string"||typeof n.shape=="number"))},D.concat=function(){var n,o,l,u,d,c,m,f,p=[],v=!0,y=0;for(l=0;l<arguments.length;l++)(c=(u=arguments[l]).length)&&(o?p.push(u):(o=u,d=c),a(u)?n=!1:(v=!1,y?n!==u.constructor&&(n=!1):n=u.constructor),y+=c);if(!y)return[];if(!p.length)return o;if(v)return o.concat.apply(o,p);if(n){for((m=new n(y)).set(o),l=0;l<p.length;l++)u=p[l],m.set(u,d),d+=u.length;return m}for(m=new Array(y),f=0;f<o.length;f++)m[f]=o[f];for(l=0;l<p.length;l++){for(u=p[l],f=0;f<u.length;f++)m[d+f]=u[f];d+=f}return m},D.maxRowLength=function(n){return r(n,Math.max,0)},D.minRowLength=function(n){return r(n,Math.min,1/0)}},54037:function(ee,D,e){var M=e(38248),k=e(39032).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ee.exports=function(T){return typeof T=="string"&&(T=T.replace(a,"")),M(T)?Number(T):k}},73696:function(ee){ee.exports=function(D){var e=D._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(M){M.regl&&M.regl.clear({color:!0,depth:!0})})}},75352:function(ee){ee.exports=function(D){D._responsiveChartHandler&&(window.removeEventListener("resize",D._responsiveChartHandler),delete D._responsiveChartHandler)}},63064:function(ee,D,e){var M=e(38248),k=e(49760),a=e(45464),T=e(88304),b=e(76308),g=e(13448).DESELECTDIM,s=e(22296),t=e(53756).counter,i=e(20435).modHalf,r=e(38116).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,o=e(38116).decodeTypedArraySpec;function l(u,d){var c=D.valObjectMeta[d.valType];if(d.arrayOk&&r(u))return!0;if(c.validateFunction)return c.validateFunction(u,d);var m={},f=m,p={set:function(v){f=v}};return c.coerceFunction(u,p,m,d),f!==m}D.valObjectMeta={data_array:{coerceFunction:function(u,d,c){d.set(r(u)?u:n(u)?o(u):c)}},enumerated:{coerceFunction:function(u,d,c,m){m.coerceNumber&&(u=+u),m.values.indexOf(u)===-1?d.set(c):d.set(u)},validateFunction:function(u,d){d.coerceNumber&&(u=+u);for(var c=d.values,m=0;m<c.length;m++){var f=String(c[m]);if(f.charAt(0)==="/"&&f.charAt(f.length-1)==="/"){if(new RegExp(f.substr(1,f.length-2)).test(u))return!0}else if(u===c[m])return!0}return!1}},boolean:{coerceFunction:function(u,d,c){u===!0||u===!1?d.set(u):d.set(c)}},number:{coerceFunction:function(u,d,c,m){!M(u)||m.min!==void 0&&u<m.min||m.max!==void 0&&u>m.max?d.set(c):d.set(+u)}},integer:{coerceFunction:function(u,d,c,m){u%1||!M(u)||m.min!==void 0&&u<m.min||m.max!==void 0&&u>m.max?d.set(c):d.set(+u)}},string:{coerceFunction:function(u,d,c,m){if(typeof u!="string"){var f=typeof u=="number";m.strict!==!0&&f?d.set(String(u)):d.set(c)}else m.noBlank&&!u?d.set(c):d.set(u)}},color:{coerceFunction:function(u,d,c){k(u).isValid()?d.set(u):d.set(c)}},colorlist:{coerceFunction:function(u,d,c){Array.isArray(u)&&u.length&&u.every(function(m){return k(m).isValid()})?d.set(u):d.set(c)}},colorscale:{coerceFunction:function(u,d,c){d.set(T.get(u,c))}},angle:{coerceFunction:function(u,d,c){u==="auto"?d.set("auto"):M(u)?d.set(i(+u,360)):d.set(c)}},subplotid:{coerceFunction:function(u,d,c,m){var f=m.regex||t(c);typeof u=="string"&&f.test(u)?d.set(u):d.set(c)},validateFunction:function(u,d){var c=d.dflt;return u===c||typeof u=="string"&&!!t(c).test(u)}},flaglist:{coerceFunction:function(u,d,c,m){if((m.extras||[]).indexOf(u)===-1)if(typeof u=="string"){for(var f=u.split("+"),p=0;p<f.length;){var v=f[p];m.flags.indexOf(v)===-1||f.indexOf(v)<p?f.splice(p,1):p++}f.length?d.set(f.join("+")):d.set(c)}else d.set(c);else d.set(u)}},any:{coerceFunction:function(u,d,c){u===void 0?d.set(c):d.set(n(u)?o(u):u)}},info_array:{coerceFunction:function(u,d,c,m){function f(U,z,N){var W,F={set:function(V){W=V}};return N===void 0&&(N=z.dflt),D.valObjectMeta[z.valType].coerceFunction(U,F,N,z),W}if(n(u)&&(u=o(u)),r(u)){var p,v,y,x,_,h,S=m.dimensions===2||m.dimensions==="1-2"&&Array.isArray(u)&&r(u[0]),w=m.items,E=[],C=Array.isArray(w),P=C&&S&&r(w[0]),O=S&&C&&!P,R=C&&!O?w.length:u.length;if(c=Array.isArray(c)?c:[],S)for(p=0;p<R;p++)for(E[p]=[],y=r(u[p])?u[p]:[],_=O?w.length:C?w[p].length:y.length,v=0;v<_;v++)x=O?w[v]:C?w[p][v]:w,(h=f(y[v],x,(c[p]||[])[v]))!==void 0&&(E[p][v]=h);else for(p=0;p<R;p++)(h=f(u[p],C?w[p]:w,c[p]))!==void 0&&(E[p]=h);d.set(E)}else d.set(c)},validateFunction:function(u,d){if(!r(u))return!1;var c=d.items,m=Array.isArray(c),f=d.dimensions===2;if(!d.freeLength&&u.length!==c.length)return!1;for(var p=0;p<u.length;p++)if(f){if(!r(u[p])||!d.freeLength&&u[p].length!==c[p].length)return!1;for(var v=0;v<u[p].length;v++)if(!l(u[p][v],m?c[p][v]:c))return!1}else if(!l(u[p],m?c[p]:c))return!1;return!0}}},D.coerce=function(u,d,c,m,f){var p=s(c,m).get(),v=s(u,m),y=s(d,m),x=v.get(),_=d._template;if(x===void 0&&_&&(x=s(_,m).get(),_=0),f===void 0&&(f=p.dflt),p.arrayOk){if(r(x))return y.set(x),x;if(n(x))return x=o(x),y.set(x),x}var h=D.valObjectMeta[p.valType].coerceFunction;h(x,y,f,p);var S=y.get();return _&&S===f&&!l(x,p)&&(h(x=s(_,m).get(),y,f,p),S=y.get()),S},D.coerce2=function(u,d,c,m,f){var p=s(u,m),v=D.coerce(u,d,c,m,f);return p.get()!=null&&v},D.coerceFont=function(u,d,c){var m={};return c=c||{},m.family=u(d+".family",c.family),m.size=u(d+".size",c.size),m.color=u(d+".color",c.color),m},D.coercePattern=function(u,d,c,m){if(u(d+".shape")){u(d+".solidity"),u(d+".size");var f=u(d+".fillmode")==="overlay";if(!m){var p=u(d+".bgcolor",f?c:void 0);u(d+".fgcolor",f?b.contrast(p):c)}u(d+".fgopacity",f?.5:1)}},D.coerceHoverinfo=function(u,d,c){var m,f=d._module.attributes,p=f.hoverinfo?f:a,v=p.hoverinfo;if(c._dataLength===1){var y=v.dflt==="all"?v.flags.slice():v.dflt.split("+");y.splice(y.indexOf("name"),1),m=y.join("+")}return D.coerce(u,d,p,"hoverinfo",m)},D.coerceSelectionMarkerOpacity=function(u,d){if(u.marker){var c,m,f=u.marker.opacity;f!==void 0&&(r(f)||u.selected||u.unselected||(c=f,m=g*f),d("selected.marker.opacity",c),d("unselected.marker.opacity",m))}},D.validate=l},67555:function(ee,D,e){var M,k,a=e(94336).Yn,T=e(38248),b=e(24248),g=e(20435).mod,s=e(39032),t=s.BADNUM,i=s.ONEDAY,r=s.ONEHOUR,n=s.ONEMIN,o=s.ONESEC,l=s.EPOCHJD,u=e(24040),d=e(94336).E9,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,f=new Date().getFullYear()-70;function p(R){return R&&u.componentsRegistry.calendars&&typeof R=="string"&&R!=="gregorian"}function v(R,U){return String(R+Math.pow(10,U)).substr(1)}D.dateTick0=function(R,U){var z=function(W,F){return p(W)?F?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[W]:u.getComponentMethod("calendars","CANONICAL_TICK")[W]:F?"2000-01-02":"2000-01-01"}(R,!!U);if(U<2)return z;var N=D.dateTime2ms(z,R);return N+=i*(U-1),D.ms2DateTime(N,0,R)},D.dfltRange=function(R){return p(R)?u.getComponentMethod("calendars","DFLTRANGE")[R]:["2000-01-01","2001-01-01"]},D.isJSDate=function(R){return typeof R=="object"&&R!==null&&typeof R.getTime=="function"},D.dateTime2ms=function(R,U){if(D.isJSDate(R)){var z=R.getTimezoneOffset()*n,N=(R.getUTCMinutes()-R.getMinutes())*n+(R.getUTCSeconds()-R.getSeconds())*o+(R.getUTCMilliseconds()-R.getMilliseconds());if(N){var W=3*n;z=z-W/2+g(N-z+W/2,W)}return(R=Number(R)-z)>=M&&R<=k?R:t}if(typeof R!="string"&&typeof R!="number")return t;R=String(R);var F=p(U),V=R.charAt(0);!F||V!=="G"&&V!=="g"||(R=R.substr(1),U="");var j=F&&U.substr(0,7)==="chinese",te=R.match(j?m:c);if(!te)return t;var J=te[1],K=te[3]||"1",Z=Number(te[5]||1),X=Number(te[7]||0),Q=Number(te[9]||0),re=Number(te[11]||0);if(F){if(J.length===2)return t;var ae;J=Number(J);try{var ie=u.getComponentMethod("calendars","getCal")(U);if(j){var le=K.charAt(K.length-1)==="i";K=parseInt(K,10),ae=ie.newDate(J,ie.toMonthIndex(J,K,le),Z)}else ae=ie.newDate(J,Number(K),Z)}catch{return t}return ae?(ae.toJD()-l)*i+X*r+Q*n+re*o:t}J=J.length===2?(Number(J)+2e3-f)%100+f:Number(J),K-=1;var pe=new Date(Date.UTC(2e3,K,Z,X,Q));return pe.setUTCFullYear(J),pe.getUTCMonth()!==K||pe.getUTCDate()!==Z?t:pe.getTime()+re*o},M=D.MIN_MS=D.dateTime2ms("-9999"),k=D.MAX_MS=D.dateTime2ms("9999-12-31 23:59:59.9999"),D.isDateTime=function(R,U){return D.dateTime2ms(R,U)!==t};var y=90*i,x=3*r,_=5*n;function h(R,U,z,N,W){if((U||z||N||W)&&(R+=" "+v(U,2)+":"+v(z,2),(N||W)&&(R+=":"+v(N,2),W))){for(var F=4;W%10==0;)F-=1,W/=10;R+="."+v(W,F)}return R}D.ms2DateTime=function(R,U,z){if(typeof R!="number"||!(R>=M&&R<=k))return t;U||(U=0);var N,W,F,V,j,te,J=Math.floor(10*g(R+.05,1)),K=Math.round(R-J/10);if(p(z)){var Z=Math.floor(K/i)+l,X=Math.floor(g(R,i));try{N=u.getComponentMethod("calendars","getCal")(z).fromJD(Z).formatDate("yyyy-mm-dd")}catch{N=d("G%Y-%m-%d")(new Date(K))}if(N.charAt(0)==="-")for(;N.length<11;)N="-0"+N.substr(1);else for(;N.length<10;)N="0"+N;W=U<y?Math.floor(X/r):0,F=U<y?Math.floor(X%r/n):0,V=U<x?Math.floor(X%n/o):0,j=U<_?X%o*10+J:0}else te=new Date(K),N=d("%Y-%m-%d")(te),W=U<y?te.getUTCHours():0,F=U<y?te.getUTCMinutes():0,V=U<x?te.getUTCSeconds():0,j=U<_?10*te.getUTCMilliseconds()+J:0;return h(N,W,F,V,j)},D.ms2DateTimeLocal=function(R){if(!(R>=M+i&&R<=k-i))return t;var U=Math.floor(10*g(R+.05,1)),z=new Date(Math.round(R-U/10));return h(a("%Y-%m-%d")(z),z.getHours(),z.getMinutes(),z.getSeconds(),10*z.getUTCMilliseconds()+U)},D.cleanDate=function(R,U,z){if(R===t)return U;if(D.isJSDate(R)||typeof R=="number"&&isFinite(R)){if(p(z))return b.error("JS Dates and milliseconds are incompatible with world calendars",R),U;if(!(R=D.ms2DateTimeLocal(+R))&&U!==void 0)return U}else if(!D.isDateTime(R,z))return b.error("unrecognized date",R),U;return R};var S=/%\d?f/g,w=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function C(R,U,z,N){R=R.replace(S,function(F){var V=Math.min(+F.charAt(1)||6,6);return(U/1e3%1+2).toFixed(V).substr(2).replace(/0+$/,"")||"0"});var W=new Date(Math.floor(U+.05));if(R=R.replace(w,function(){return E[z("%q")(W)]}),p(N))try{R=u.getComponentMethod("calendars","worldCalFmt")(R,U,N)}catch{return"Invalid"}return z(R)(W)}var P=[59,59.9,59.99,59.999,59.9999];D.formatDate=function(R,U,z,N,W,F){if(W=p(W)&&W,!U)if(z==="y")U=F.year;else if(z==="m")U=F.month;else{if(z!=="d")return function(V,j){var te=g(V+.05,i),J=v(Math.floor(te/r),2)+":"+v(g(Math.floor(te/n),60),2);if(j!=="M"){T(j)||(j=0);var K=(100+Math.min(g(V/o,60),P[j])).toFixed(j).substr(1);j>0&&(K=K.replace(/0+$/,"").replace(/[\.]$/,"")),J+=":"+K}return J}(R,z)+`
`+C(F.dayMonthYear,R,N,W);U=F.dayMonth+`
`+F.year}return C(U,R,N,W)};var O=3*i;D.incrementMonth=function(R,U,z){z=p(z)&&z;var N=g(R,i);if(R=Math.round(R-N),z)try{var W=Math.round(R/i)+l,F=u.getComponentMethod("calendars","getCal")(z),V=F.fromJD(W);return U%12?F.add(V,U,"m"):F.add(V,U/12,"y"),(V.toJD()-l)*i+N}catch{b.error("invalid ms "+R+" in calendar "+z)}var j=new Date(R+O);return j.setUTCMonth(j.getUTCMonth()+U)+N-O},D.findExactDates=function(R,U){for(var z,N,W=0,F=0,V=0,j=0,te=p(U)&&u.getComponentMethod("calendars","getCal")(U),J=0;J<R.length;J++)if(N=R[J],T(N)){if(!(N%i))if(te)try{(z=te.fromJD(N/i+l)).day()===1?z.month()===1?W++:F++:V++}catch{}else(z=new Date(N)).getUTCDate()===1?z.getUTCMonth()===0?W++:F++:V++}else j++;V+=F+=W;var K=R.length-j;return{exactYears:W/K,exactMonths:F/K,exactDays:V/K}}},52200:function(ee,D,e){var M=e(33428),k=e(24248),a=e(52248),T=e(36524);function b(r){var n=r&&r.parentNode;n&&n.removeChild(r)}function g(r,n,o){var l="plotly.js-style-"+r,u=document.getElementById(l);u||((u=document.createElement("style")).setAttribute("id",l),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var d=u.sheet;d.insertRule?d.insertRule(n+"{"+o+"}",0):d.addRule?d.addRule(n,o,0):k.warn("addStyleRule failed")}function s(r){var n=window.getComputedStyle(r,null),o=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform");return o==="none"?null:o.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function t(r){for(var n=[];i(r);)n.push(r),r=r.parentNode;return n}function i(r){return r&&(r instanceof Element||r instanceof HTMLElement)}ee.exports={getGraphDiv:function(r){var n;if(typeof r=="string"){if((n=document.getElementById(r))===null)throw new Error("No DOM element with id '"+r+"' exists on the page.");return n}if(r==null)throw new Error("DOM element provided is null or undefined");return r},isPlotDiv:function(r){var n=M.select(r);return n.node()instanceof HTMLElement&&n.size()&&n.classed("js-plotly-plot")},removeElement:b,addStyleRule:function(r,n){g("global",r,n)},addRelatedStyleRule:g,deleteRelatedStyleRule:function(r){var n="plotly.js-style-"+r,o=document.getElementById(n);o&&b(o)},getFullTransformMatrix:function(r){var n=t(r),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return n.forEach(function(l){var u=s(l);if(u){var d=a.convertCssMatrix(u);o=T.multiply(o,o,d)}}),o},getElementTransformMatrix:s,getElementAndAncestors:t,equalDomRects:function(r,n){return r&&n&&r.top===n.top&&r.left===n.left&&r.right===n.right&&r.bottom===n.bottom}}},95924:function(ee,D,e){var M=e(61252).EventEmitter,k={init:function(a){if(a._ev instanceof M)return a;var T=new M,b=new M;return a._ev=T,a._internalEv=b,a.on=T.on.bind(T),a.once=T.once.bind(T),a.removeListener=T.removeListener.bind(T),a.removeAllListeners=T.removeAllListeners.bind(T),a._internalOn=b.on.bind(b),a._internalOnce=b.once.bind(b),a._removeInternalListener=b.removeListener.bind(b),a._removeAllInternalListeners=b.removeAllListeners.bind(b),a.emit=function(g,s){typeof jQuery<"u"&&jQuery(a).trigger(g,s),T.emit(g,s),b.emit(g,s)},a},triggerHandler:function(a,T,b){var g,s;typeof jQuery<"u"&&(g=jQuery(a).triggerHandler(T,b));var t=a._ev;if(!t)return g;var i,r=t._events[T];if(!r)return g;function n(o){return o.listener?(t.removeListener(T,o.listener),o.fired?void 0:(o.fired=!0,o.listener.apply(t,[b]))):o.apply(t,[b])}for(r=Array.isArray(r)?r:[r],i=0;i<r.length-1;i++)n(r[i]);return s=n(r[i]),g!==void 0?g:s},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};ee.exports=k},92880:function(ee,D,e){var M=e(63620),k=Array.isArray;function a(T,b,g,s){var t,i,r,n,o,l,u,d=T[0],c=T.length;if(c===2&&k(d)&&k(T[1])&&d.length===0){if(u=function(f,p){var v,y;for(v=0;v<f.length;v++){if((y=f[v])!==null&&typeof y=="object")return!1;y!==void 0&&(p[v]=y)}return!0}(T[1],d),u)return d;d.splice(0,d.length)}for(var m=1;m<c;m++)for(i in t=T[m])r=d[i],n=t[i],s&&k(n)?d[i]=n:b&&n&&(M(n)||(o=k(n)))?(o?(o=!1,l=r&&k(r)?r:[]):l=r&&M(r)?r:{},d[i]=a([l,n],b,g,s)):(n!==void 0||g)&&(d[i]=n);return d}D.extendFlat=function(){return a(arguments,!1,!1,!1)},D.extendDeep=function(){return a(arguments,!0,!1,!1)},D.extendDeepAll=function(){return a(arguments,!0,!0,!1)},D.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},68944:function(ee){ee.exports=function(D){for(var e={},M=[],k=0,a=0;a<D.length;a++){var T=D[a];e[T]!==1&&(e[T]=1,M[k++]=T)}return M}},43880:function(ee){function D(M){return M.visible===!0}function e(M){var k=M[0].trace;return k.visible===!0&&k._length!==0}ee.exports=function(M){for(var k,a=(k=M,Array.isArray(k)&&Array.isArray(k[0])&&k[0][0]&&k[0][0].trace?e:D),T=[],b=0;b<M.length;b++){var g=M[b];a(g)&&T.push(g)}return T}},27144:function(ee,D,e){var M=e(33428),k=e(36116),a=e(40440),T=e(77844),b=e(42428),g=e(35536),s=e(24248),t=e(63620),i=e(22296),r=e(92065),n=Object.keys(k),o={"ISO-3":g,"USA-states":g,"country names":function(u){for(var d=0;d<n.length;d++){var c=n[d];if(new RegExp(k[c]).test(u.trim().toLowerCase()))return c}return s.log("Unrecognized country name: "+u+"."),!1}};function l(u){var d=u.geojson,c=window.PlotlyGeoAssets||{},m=typeof d=="string"?c[d]:d;return t(m)?m:(s.error("Oops ... something went wrong when fetching "+d),!1)}ee.exports={locationToFeature:function(u,d,c){if(!d||typeof d!="string")return!1;var m,f,p,v=o[u](d);if(v){if(u==="USA-states")for(m=[],p=0;p<c.length;p++)(f=c[p]).properties&&f.properties.gu&&f.properties.gu==="USA"&&m.push(f);else m=c;for(p=0;p<m.length;p++)if((f=m[p]).id===v)return f;s.log(["Location with id",v,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var d,c,m,f,p=u.geometry,v=p.coordinates,y=u.id,x=[];function _(h){for(var S=0;S<h.length-1;S++)if(h[S][0]>0&&h[S+1][0]<0)return S;return null}switch(d=y==="RUS"||y==="FJI"?function(h){var S;if(_(h)===null)S=h;else for(S=new Array(h.length),f=0;f<h.length;f++)S[f]=[h[f][0]<0?h[f][0]+360:h[f][0],h[f][1]];x.push(r.tester(S))}:y==="ATA"?function(h){var S=_(h);if(S===null)return x.push(r.tester(h));var w=new Array(h.length+1),E=0;for(f=0;f<h.length;f++)f>S?w[E++]=[h[f][0]+360,h[f][1]]:f===S?(w[E++]=h[f],w[E++]=[h[f][0],-90]):w[E++]=h[f];var C=r.tester(w);C.pts.pop(),x.push(C)}:function(h){x.push(r.tester(h))},p.type){case"MultiPolygon":for(c=0;c<v.length;c++)for(m=0;m<v[c].length;m++)d(v[c][m]);break;case"Polygon":for(c=0;c<v.length;c++)d(v[c])}return x},getTraceGeojson:l,extractTraceFeature:function(u){var d=u[0].trace,c=l(d);if(!c)return!1;var m,f={},p=[];for(m=0;m<d._length;m++){var v=u[m];(v.loc||v.loc===0)&&(f[v.loc]=v)}function y(h){var S=i(h,d.featureidkey||"id").get(),w=f[S];if(w){var E=h.geometry;if(E.type==="Polygon"||E.type==="MultiPolygon"){var C={type:"Feature",id:S,geometry:E,properties:{}};C.properties.ct=function(P){var O,R=P.geometry;if(R.type==="MultiPolygon")for(var U=R.coordinates,z=0,N=0;N<U.length;N++){var W={type:"Polygon",coordinates:U[N]},F=a.default(W);F>z&&(z=F,O=W)}else O=R;return T.default(O).geometry.coordinates}(C),w.fIn=h,w.fOut=C,p.push(C)}else s.log(["Location",w.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete f[S]}switch(c.type){case"FeatureCollection":var x=c.features;for(m=0;m<x.length;m++)y(x[m]);break;case"Feature":y(c);break;default:return s.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var _ in f)s.log(["Location *"+_+"*","does not have a matching feature with id-key","*"+d.featureidkey+"*."].join(" "));return p},fetchTraceGeoData:function(u){var d=window.PlotlyGeoAssets||{},c=[];function m(y){return new Promise(function(x,_){M.json(y,function(h,S){if(h){delete d[y];var w=h.status===404?'GeoJSON at URL "'+y+'" does not exist.':"Unexpected error while fetching from "+y;return _(new Error(w))}return d[y]=S,x(S)})})}function f(y){return new Promise(function(x,_){var h=0,S=setInterval(function(){return d[y]&&d[y]!=="pending"?(clearInterval(S),x(d[y])):h>100?(clearInterval(S),_("Unexpected error while fetching from "+y)):void h++},50)})}for(var p=0;p<u.length;p++){var v=u[p][0].trace.geojson;typeof v=="string"&&(d[v]?d[v]==="pending"&&c.push(f(v)):(d[v]="pending",c.push(m(v))))}return c},computeBbox:function(u){return b.default(u)}}},44808:function(ee,D,e){var M=e(39032).BADNUM;D.calcTraceToLineCoords=function(k){for(var a=k[0].trace.connectgaps,T=[],b=[],g=0;g<k.length;g++){var s=k[g].lonlat;s[0]!==M?b.push(s):!a&&b.length>0&&(T.push(b),b=[])}return b.length>0&&T.push(b),T},D.makeLine=function(k){return k.length===1?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k}},D.makePolygon=function(k){if(k.length===1)return{type:"Polygon",coordinates:k};for(var a=new Array(k.length),T=0;T<k.length;T++)a[T]=[k[T]];return{type:"MultiPolygon",coordinates:a}},D.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(ee,D,e){var M,k,a,T=e(20435).mod;function b(s,t,i,r,n,o,l,u){var d=i-s,c=n-s,m=l-n,f=r-t,p=o-t,v=u-o,y=d*v-m*f;if(y===0)return null;var x=(c*v-m*p)/y,_=(c*f-d*p)/y;return _<0||_>1||x<0||x>1?null:{x:s+d*x,y:t+f*x}}function g(s,t,i,r,n){var o=r*s+n*t;if(o<0)return r*r+n*n;if(o>i){var l=r-s,u=n-t;return l*l+u*u}var d=r*t-n*s;return d*d/i}D.segmentsIntersect=b,D.segmentDistance=function(s,t,i,r,n,o,l,u){if(b(s,t,i,r,n,o,l,u))return 0;var d=i-s,c=r-t,m=l-n,f=u-o,p=d*d+c*c,v=m*m+f*f,y=Math.min(g(d,c,p,n-s,o-t),g(d,c,p,l-s,u-t),g(m,f,v,s-n,t-o),g(m,f,v,i-n,r-o));return Math.sqrt(y)},D.getTextLocation=function(s,t,i,r){if(s===k&&r===a||(M={},k=s,a=r),M[i])return M[i];var n=s.getPointAtLength(T(i-r/2,t)),o=s.getPointAtLength(T(i+r/2,t)),l=Math.atan((o.y-n.y)/(o.x-n.x)),u=s.getPointAtLength(T(i,t)),d={x:(4*u.x+n.x+o.x)/6,y:(4*u.y+n.y+o.y)/6,theta:l};return M[i]=d,d},D.clearLocationCache=function(){k=null},D.getVisibleSegment=function(s,t,i){var r,n,o=t.left,l=t.right,u=t.top,d=t.bottom,c=0,m=s.getTotalLength(),f=m;function p(y){var x=s.getPointAtLength(y);y===0?r=x:y===m&&(n=x);var _=x.x<o?o-x.x:x.x>l?x.x-l:0,h=x.y<u?u-x.y:x.y>d?x.y-d:0;return Math.sqrt(_*_+h*h)}for(var v=p(c);v;){if((c+=v+i)>f)return;v=p(c)}for(v=p(f);v;){if(c>(f-=v+i))return;v=p(f)}return{min:c,max:f,len:f-c,total:m,isClosed:c===0&&f===m&&Math.abs(r.x-n.x)<.1&&Math.abs(r.y-n.y)<.1}},D.findPointOnPath=function(s,t,i,r){for(var n,o,l,u=(r=r||{}).pathLength||s.getTotalLength(),d=r.tolerance||.001,c=r.iterationLimit||30,m=s.getPointAtLength(0)[i]>s.getPointAtLength(u)[i]?-1:1,f=0,p=0,v=u;f<c;){if(n=(p+v)/2,l=(o=s.getPointAtLength(n))[i]-t,Math.abs(l)<d)return o;m*l>0?v=n:p=n,f++}return o}},33040:function(ee,D,e){var M=e(38248),k=e(49760),a=e(72160),T=e(8932),b=e(22548).defaultLine,g=e(38116).isArrayOrTypedArray,s=a(b);function t(n,o){var l=n;return l[3]*=o,l}function i(n){if(M(n))return s;var o=a(n);return o.length?o:s}function r(n){return M(n)?n:1}ee.exports={formatColor:function(n,o,l){var u=n.color;u&&u._inputArray&&(u=u._inputArray);var d,c,m,f,p,v=g(u),y=g(o),x=T.extractOpts(n),_=[];if(d=x.colorscale!==void 0?T.makeColorScaleFuncFromTrace(n):i,c=v?function(S,w){return S[w]===void 0?s:a(d(S[w]))}:i,m=y?function(S,w){return S[w]===void 0?1:r(S[w])}:r,v||y)for(var h=0;h<l;h++)f=c(u,h),p=m(o,h),_[h]=t(f,p);else _=t(a(u),o);return _},parseColorScale:function(n){var o=T.extractOpts(n),l=o.colorscale;return o.reversescale&&(l=T.flipScale(o.colorscale)),l.map(function(u){var d=u[0],c=k(u[1]).toRgb();return{index:d,rgb:[c.r,c.g,c.b,c.a]}})}}},71688:function(ee,D,e){var M=e(35536);function k(a){return[a]}ee.exports={keyFun:function(a){return a.key},repeat:k,descend:M,wrap:k,unwrap:function(a){return a[0]}}},35536:function(ee){ee.exports=function(D){return D}},1396:function(ee){ee.exports=function(D,e){if(!e)return D;var M=1/Math.abs(e),k=M>1?(M*D+M*e)/M:D+e,a=String(k).length;if(a>16){var T=String(e).length;if(a>=String(D).length+T){var b=parseFloat(k).toPrecision(12);b.indexOf("e+")===-1&&(k=+b)}}return k}},3400:function(ee,D,e){var M=e(33428),k=e(94336).E9,a=e(57624).E9,T=e(38248),b=e(39032),g=b.FP_SAFE,s=-g,t=b.BADNUM,i=ee.exports={};i.adjustFormat=function(X){return!X||/^\d[.]\df/.test(X)||/[.]\d%/.test(X)?X:X==="0.f"?"~f":/^\d%/.test(X)?"~%":/^\ds/.test(X)?"~s":!/^[~,.0$]/.test(X)&&/[&fps]/.test(X)?"~"+X:X};var r={};i.warnBadFormat=function(X){var Q=String(X);r[Q]||(r[Q]=1,i.warn('encountered bad format: "'+Q+'"'))},i.noFormat=function(X){return String(X)},i.numberFormat=function(X){var Q;try{Q=a(i.adjustFormat(X))}catch{return i.warnBadFormat(X),i.noFormat}return Q},i.nestedProperty=e(22296),i.keyedContainer=e(37804),i.relativeAttr=e(23193),i.isPlainObject=e(63620),i.toLogRange=e(36896),i.relinkPrivateKeys=e(51528);var n=e(38116);i.isArrayBuffer=n.isArrayBuffer,i.isTypedArray=n.isTypedArray,i.isArrayOrTypedArray=n.isArrayOrTypedArray,i.isArray1D=n.isArray1D,i.ensureArray=n.ensureArray,i.concat=n.concat,i.maxRowLength=n.maxRowLength,i.minRowLength=n.minRowLength;var o=e(20435);i.mod=o.mod,i.modHalf=o.modHalf;var l=e(63064);i.valObjectMeta=l.valObjectMeta,i.coerce=l.coerce,i.coerce2=l.coerce2,i.coerceFont=l.coerceFont,i.coercePattern=l.coercePattern,i.coerceHoverinfo=l.coerceHoverinfo,i.coerceSelectionMarkerOpacity=l.coerceSelectionMarkerOpacity,i.validate=l.validate;var u=e(67555);i.dateTime2ms=u.dateTime2ms,i.isDateTime=u.isDateTime,i.ms2DateTime=u.ms2DateTime,i.ms2DateTimeLocal=u.ms2DateTimeLocal,i.cleanDate=u.cleanDate,i.isJSDate=u.isJSDate,i.formatDate=u.formatDate,i.incrementMonth=u.incrementMonth,i.dateTick0=u.dateTick0,i.dfltRange=u.dfltRange,i.findExactDates=u.findExactDates,i.MIN_MS=u.MIN_MS,i.MAX_MS=u.MAX_MS;var d=e(14952);i.findBin=d.findBin,i.sorterAsc=d.sorterAsc,i.sorterDes=d.sorterDes,i.distinctVals=d.distinctVals,i.roundUp=d.roundUp,i.sort=d.sort,i.findIndexOfMin=d.findIndexOfMin,i.sortObjectKeys=e(95376);var c=e(63084);i.aggNums=c.aggNums,i.len=c.len,i.mean=c.mean,i.median=c.median,i.midRange=c.midRange,i.variance=c.variance,i.stdev=c.stdev,i.interp=c.interp;var m=e(52248);i.init2dArray=m.init2dArray,i.transposeRagged=m.transposeRagged,i.dot=m.dot,i.translationMatrix=m.translationMatrix,i.rotationMatrix=m.rotationMatrix,i.rotationXYMatrix=m.rotationXYMatrix,i.apply3DTransform=m.apply3DTransform,i.apply2DTransform=m.apply2DTransform,i.apply2DTransform2=m.apply2DTransform2,i.convertCssMatrix=m.convertCssMatrix,i.inverseTransformMatrix=m.inverseTransformMatrix;var f=e(11864);i.deg2rad=f.deg2rad,i.rad2deg=f.rad2deg,i.angleDelta=f.angleDelta,i.angleDist=f.angleDist,i.isFullCircle=f.isFullCircle,i.isAngleInsideSector=f.isAngleInsideSector,i.isPtInsideSector=f.isPtInsideSector,i.pathArc=f.pathArc,i.pathSector=f.pathSector,i.pathAnnulus=f.pathAnnulus;var p=e(98308);i.isLeftAnchor=p.isLeftAnchor,i.isCenterAnchor=p.isCenterAnchor,i.isRightAnchor=p.isRightAnchor,i.isTopAnchor=p.isTopAnchor,i.isMiddleAnchor=p.isMiddleAnchor,i.isBottomAnchor=p.isBottomAnchor;var v=e(92348);i.segmentsIntersect=v.segmentsIntersect,i.segmentDistance=v.segmentDistance,i.getTextLocation=v.getTextLocation,i.clearLocationCache=v.clearLocationCache,i.getVisibleSegment=v.getVisibleSegment,i.findPointOnPath=v.findPointOnPath;var y=e(92880);i.extendFlat=y.extendFlat,i.extendDeep=y.extendDeep,i.extendDeepAll=y.extendDeepAll,i.extendDeepNoArrays=y.extendDeepNoArrays;var x=e(24248);i.log=x.log,i.warn=x.warn,i.error=x.error;var _=e(53756);i.counterRegex=_.counter;var h=e(91200);i.throttle=h.throttle,i.throttleDone=h.done,i.clearThrottle=h.clear;var S=e(52200);function w(X){var Q={};for(var re in X)for(var ae=X[re],ie=0;ie<ae.length;ie++)Q[ae[ie]]=+re;return Q}i.getGraphDiv=S.getGraphDiv,i.isPlotDiv=S.isPlotDiv,i.removeElement=S.removeElement,i.addStyleRule=S.addStyleRule,i.addRelatedStyleRule=S.addRelatedStyleRule,i.deleteRelatedStyleRule=S.deleteRelatedStyleRule,i.getFullTransformMatrix=S.getFullTransformMatrix,i.getElementTransformMatrix=S.getElementTransformMatrix,i.getElementAndAncestors=S.getElementAndAncestors,i.equalDomRects=S.equalDomRects,i.clearResponsive=e(75352),i.preserveDrawingBuffer=e(34296),i.makeTraceGroups=e(30988),i._=e(98356),i.notifier=e(41792),i.filterUnique=e(68944),i.filterVisible=e(43880),i.pushUnique=e(52416),i.increment=e(1396),i.cleanNumber=e(54037),i.ensureNumber=function(X){return T(X)?(X=Number(X))>g||X<s?t:X:t},i.isIndex=function(X,Q){return!(Q!==void 0&&X>=Q)&&T(X)&&X>=0&&X%1==0},i.noop=e(16628),i.identity=e(35536),i.repeat=function(X,Q){for(var re=new Array(Q),ae=0;ae<Q;ae++)re[ae]=X;return re},i.swapAttrs=function(X,Q,re,ae){re||(re="x"),ae||(ae="y");for(var ie=0;ie<Q.length;ie++){var le=Q[ie],pe=i.nestedProperty(X,le.replace("?",re)),de=i.nestedProperty(X,le.replace("?",ae)),ve=pe.get();pe.set(de.get()),de.set(ve)}},i.raiseToTop=function(X){X.parentNode.appendChild(X)},i.cancelTransition=function(X){return X.transition().duration(0)},i.constrain=function(X,Q,re){return Q>re?Math.max(re,Math.min(Q,X)):Math.max(Q,Math.min(re,X))},i.bBoxIntersect=function(X,Q,re){return re=re||0,X.left<=Q.right+re&&Q.left<=X.right+re&&X.top<=Q.bottom+re&&Q.top<=X.bottom+re},i.simpleMap=function(X,Q,re,ae,ie){for(var le=X.length,pe=new Array(le),de=0;de<le;de++)pe[de]=Q(X[de],re,ae,ie);return pe},i.randstr=function X(Q,re,ae,ie){if(ae||(ae=16),re===void 0&&(re=24),re<=0)return"0";var le,pe,de=Math.log(Math.pow(2,re))/Math.log(ae),ve="";for(le=2;de===1/0;le*=2)de=Math.log(Math.pow(2,re/le))/Math.log(ae)*le;var be=de-Math.floor(de);for(le=0;le<Math.floor(de);le++)ve=Math.floor(Math.random()*ae).toString(ae)+ve;be&&(pe=Math.pow(ae,be),ve=Math.floor(Math.random()*pe).toString(ae)+ve);var me=parseInt(ve,ae);return Q&&Q[ve]||me!==1/0&&me>=Math.pow(2,re)?ie>10?(i.warn("randstr failed uniqueness"),ve):X(Q,re,ae,(ie||0)+1):ve},i.OptionControl=function(X,Q){X||(X={}),Q||(Q="opt");var re={optionList:[],_newoption:function(ae){ae[Q]=X,re[ae.name]=ae,re.optionList.push(ae)}};return re["_"+Q]=X,re},i.smooth=function(X,Q){if((Q=Math.round(Q)||0)<2)return X;var re,ae,ie,le,pe=X.length,de=2*pe,ve=2*Q-1,be=new Array(ve),me=new Array(pe);for(re=0;re<ve;re++)be[re]=(1-Math.cos(Math.PI*(re+1)/Q))/(2*Q);for(re=0;re<pe;re++){for(le=0,ae=0;ae<ve;ae++)(ie=re+ae+1-Q)<-pe?ie-=de*Math.round(ie/de):ie>=de&&(ie-=de*Math.floor(ie/de)),ie<0?ie=-1-ie:ie>=pe&&(ie=de-1-ie),le+=X[ie]*be[ae];me[re]=le}return me},i.syncOrAsync=function(X,Q,re){var ae;function ie(){return i.syncOrAsync(X,Q,re)}for(;X.length;)if((ae=(0,X.splice(0,1)[0])(Q))&&ae.then)return ae.then(ie);return re&&re(Q)},i.stripTrailingSlash=function(X){return X.substr(-1)==="/"?X.substr(0,X.length-1):X},i.noneOrAll=function(X,Q,re){if(X){var ae,ie=!1,le=!0;for(ae=0;ae<re.length;ae++)X[re[ae]]!=null?ie=!0:le=!1;if(ie&&!le)for(ae=0;ae<re.length;ae++)X[re[ae]]=Q[re[ae]]}},i.mergeArray=function(X,Q,re,ae){var ie=typeof ae=="function";if(i.isArrayOrTypedArray(X))for(var le=Math.min(X.length,Q.length),pe=0;pe<le;pe++){var de=X[pe];Q[pe][re]=ie?ae(de):de}},i.mergeArrayCastPositive=function(X,Q,re){return i.mergeArray(X,Q,re,function(ae){var ie=+ae;return isFinite(ie)&&ie>0?ie:0})},i.fillArray=function(X,Q,re,ae){if(ae=ae||i.identity,i.isArrayOrTypedArray(X))for(var ie=0;ie<Q.length;ie++)Q[ie][re]=ae(X[ie])},i.castOption=function(X,Q,re,ae){ae=ae||i.identity;var ie=i.nestedProperty(X,re).get();return i.isArrayOrTypedArray(ie)?Array.isArray(Q)&&i.isArrayOrTypedArray(ie[Q[0]])?ae(ie[Q[0]][Q[1]]):ae(ie[Q]):ie},i.extractOption=function(X,Q,re,ae){if(re in X)return X[re];var ie=i.nestedProperty(Q,ae).get();return Array.isArray(ie)?void 0:ie},i.tagSelected=function(X,Q,re){var ae,ie,le=Q.selectedpoints,pe=Q._indexToPoints;pe&&(ae=w(pe));for(var de=0;de<le.length;de++){var ve=le[de];if(i.isIndex(ve)||i.isArrayOrTypedArray(ve)&&i.isIndex(ve[0])&&i.isIndex(ve[1])){var be=ae?ae[ve]:ve,me=re?re[be]:be;(ie=me)!==void 0&&ie<X.length&&(X[me].selected=1)}}},i.selIndices2selPoints=function(X){var Q=X.selectedpoints,re=X._indexToPoints;if(re){for(var ae=w(re),ie=[],le=0;le<Q.length;le++){var pe=Q[le];if(i.isIndex(pe)){var de=ae[pe];i.isIndex(de)&&ie.push(de)}}return ie}return Q},i.getTargetArray=function(X,Q){var re=Q.target;if(typeof re=="string"&&re){var ae=i.nestedProperty(X,re).get();return!!i.isArrayOrTypedArray(ae)&&ae}return!!i.isArrayOrTypedArray(re)&&re},i.minExtend=function X(Q,re,ae){var ie={};typeof re!="object"&&(re={});var le,pe,de,ve=ae==="pieLike"?-1:3,be=Object.keys(Q);for(le=0;le<be.length;le++)de=Q[pe=be[le]],pe.charAt(0)!=="_"&&typeof de!="function"&&(pe==="module"?ie[pe]=de:Array.isArray(de)?ie[pe]=pe==="colorscale"||ve===-1?de.slice():de.slice(0,ve):i.isTypedArray(de)?ie[pe]=ve===-1?de.subarray():de.subarray(0,ve):ie[pe]=de&&typeof de=="object"?X(Q[pe],re[pe],ae):de);for(be=Object.keys(re),le=0;le<be.length;le++)typeof(de=re[pe=be[le]])=="object"&&pe in ie&&typeof ie[pe]=="object"||(ie[pe]=de);return ie},i.titleCase=function(X){return X.charAt(0).toUpperCase()+X.substr(1)},i.containsAny=function(X,Q){for(var re=0;re<Q.length;re++)if(X.indexOf(Q[re])!==-1)return!0;return!1},i.isIE=function(){return window.navigator.msSaveBlob!==void 0};var E=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return E.test(window.navigator.userAgent)};var C=/iPad|iPhone|iPod/;i.isIOS=function(){return C.test(window.navigator.userAgent)};var P=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var X=P.exec(window.navigator.userAgent);if(X&&X.length===2){var Q=parseInt(X[1]);if(!isNaN(Q))return Q}return null},i.isD3Selection=function(X){return X instanceof M.selection},i.ensureSingle=function(X,Q,re,ae){var ie=X.select(Q+(re?"."+re:""));if(ie.size())return ie;var le=X.append(Q);return re&&le.classed(re,!0),ae&&le.call(ae),le},i.ensureSingleById=function(X,Q,re,ae){var ie=X.select(Q+"#"+re);if(ie.size())return ie;var le=X.append(Q).attr("id",re);return ae&&le.call(ae),le},i.objectFromPath=function(X,Q){for(var re,ae=X.split("."),ie=re={},le=0;le<ae.length;le++){var pe=ae[le],de=null,ve=ae[le].match(/(.*)\[([0-9]+)\]/);ve?(pe=ve[1],de=ve[2],re=re[pe]=[],le===ae.length-1?re[de]=Q:re[de]={},re=re[de]):(le===ae.length-1?re[pe]=Q:re[pe]={},re=re[pe])}return ie};var O=/^([^\[\.]+)\.(.+)?/,R=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function U(X){return X.slice(0,2)==="__"}i.expandObjectPaths=function(X){var Q,re,ae,ie,le,pe,de;if(typeof X=="object"&&!Array.isArray(X)){for(re in X)if(X.hasOwnProperty(re))if(Q=re.match(O)){if(ie=X[re],U(ae=Q[1]))continue;delete X[re],X[ae]=i.extendDeepNoArrays(X[ae]||{},i.objectFromPath(re,i.expandObjectPaths(ie))[ae])}else if(Q=re.match(R)){if(ie=X[re],U(ae=Q[1]))continue;if(le=parseInt(Q[2]),delete X[re],X[ae]=X[ae]||[],Q[3]===".")de=Q[4],pe=X[ae][le]=X[ae][le]||{},i.extendDeepNoArrays(pe,i.objectFromPath(de,i.expandObjectPaths(ie)));else{if(U(ae))continue;X[ae][le]=i.expandObjectPaths(ie)}}else{if(U(re))continue;X[re]=i.expandObjectPaths(X[re])}}return X},i.numSeparate=function(X,Q,re){if(re||(re=!1),typeof Q!="string"||Q.length===0)throw new Error("Separator string required for formatting!");typeof X=="number"&&(X=String(X));var ae=/(\d+)(\d{3})/,ie=Q.charAt(0),le=Q.charAt(1),pe=X.split("."),de=pe[0],ve=pe.length>1?ie+pe[1]:"";if(le&&(pe.length>1||de.length>4||re))for(;ae.test(de);)de=de.replace(ae,"$1"+le+"$2");return de+ve},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;i.templateString=function(X,Q){var re={};return X.replace(i.TEMPLATE_STRING_REGEX,function(ae,ie){var le;return z.test(ie)?le=Q[ie]:(re[ie]=re[ie]||i.nestedProperty(Q,ie).get,le=re[ie]()),i.isValidTextValue(le)?le:""})};var N={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return te.apply(N,arguments)};var W={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return te.apply(W,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,V={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return te.apply(V,arguments)};var j=/^[:|\|]/;function te(X,Q,re){var ae=this,ie=arguments;Q||(Q={});var le={};return X.replace(i.TEMPLATE_STRING_REGEX,function(pe,de,ve){var be=de==="_xother"||de==="_yother",me=de==="_xother_"||de==="_yother_",ge=de==="xother_"||de==="yother_",ke=de==="xother"||de==="yother"||be||ge||me,we=de;(be||me)&&(we=we.substring(1)),(ge||me)&&(we=we.substring(0,we.length-1));var ue,oe,he,Ee=null,Te=null;if(ae.parseMultDiv){var Me=function(xe){var _e=xe.match(F);return _e?{key:_e[1],op:_e[2],number:Number(_e[3])}:{key:xe,op:null,number:null}}(we);we=Me.key,Ee=Me.op,Te=Me.number}if(ke){if((ue=Q[we])===void 0)return""}else for(he=3;he<ie.length;he++)if(oe=ie[he]){if(oe.hasOwnProperty(we)){ue=oe[we];break}if(z.test(we)||(ue=i.nestedProperty(oe,we).get(),(ue=le[we]||i.nestedProperty(oe,we).get())&&(le[we]=ue)),ue!==void 0)break}if(ue!==void 0&&(Ee==="*"&&(ue*=Te),Ee==="/"&&(ue/=Te)),ue===void 0&&ae)return ae.count<ae.max&&(i.warn("Variable '"+we+"' in "+ae.name+" could not be found!"),ue=pe),ae.count===ae.max&&i.warn("Too many "+ae.name+" warnings - additional warnings will be suppressed"),ae.count++,pe;if(ve){var Se;if(ve[0]===":"&&(Se=re?re.numberFormat:i.numberFormat,ue!==""&&(ue=Se(ve.replace(j,""))(ue))),ve[0]==="|"){Se=re?re.timeFormat:k;var ze=i.dateTime2ms(ue);ue=i.formatDate(ze,ve.replace(j,""),!1,Se)}}else{var fe=we+"Label";Q.hasOwnProperty(fe)&&(ue=Q[fe])}return ke&&(ue="("+ue+")",(be||me)&&(ue=" "+ue),(ge||me)&&(ue+=" ")),ue})}i.subplotSort=function(X,Q){for(var re=Math.min(X.length,Q.length)+1,ae=0,ie=0,le=0;le<re;le++){var pe=X.charCodeAt(le)||0,de=Q.charCodeAt(le)||0,ve=pe>=48&&pe<=57,be=de>=48&&de<=57;if(ve&&(ae=10*ae+pe-48),be&&(ie=10*ie+de-48),!ve||!be){if(ae!==ie)return ae-ie;if(pe!==de)return pe-de}}return ie-ae};var J=2e9;i.seedPseudoRandom=function(){J=2e9},i.pseudoRandom=function(){var X=J;return J=(69069*J+1)%4294967296,Math.abs(J-X)<429496729?i.pseudoRandom():J/4294967296},i.fillText=function(X,Q,re){var ae=Array.isArray(re)?function(pe){re.push(pe)}:function(pe){re.text=pe},ie=i.extractOption(X,Q,"htx","hovertext");if(i.isValidTextValue(ie))return ae(ie);var le=i.extractOption(X,Q,"tx","text");return i.isValidTextValue(le)?ae(le):void 0},i.isValidTextValue=function(X){return X||X===0},i.formatPercent=function(X,Q){Q=Q||0;for(var re=(Math.round(100*X*Math.pow(10,Q))*Math.pow(.1,Q)).toFixed(Q)+"%",ae=0;ae<Q;ae++)re.indexOf(".")!==-1&&(re=(re=re.replace("0%","%")).replace(".%","%"));return re},i.isHidden=function(X){var Q=window.getComputedStyle(X).display;return!Q||Q==="none"},i.strTranslate=function(X,Q){return X||Q?"translate("+X+","+Q+")":""},i.strRotate=function(X){return X?"rotate("+X+")":""},i.strScale=function(X){return X!==1?"scale("+X+")":""},i.getTextTransform=function(X){var Q=X.noCenter,re=X.textX,ae=X.textY,ie=X.targetX,le=X.targetY,pe=X.anchorX||0,de=X.anchorY||0,ve=X.rotate,be=X.scale;return be?be>1&&(be=1):be=0,i.strTranslate(ie-be*(re+pe),le-be*(ae+de))+i.strScale(be)+(ve?"rotate("+ve+(Q?"":" "+re+" "+ae)+")":"")},i.setTransormAndDisplay=function(X,Q){X.attr("transform",i.getTextTransform(Q)),X.style("display",Q.scale?null:"none")},i.ensureUniformFontSize=function(X,Q){var re=i.extendFlat({},Q);return re.size=Math.max(Q.size,X._fullLayout.uniformtext.minsize||0),re},i.join2=function(X,Q,re){var ae=X.length;return ae>1?X.slice(0,-1).join(Q)+re+X[ae-1]:X.join(Q)},i.bigFont=function(X){return Math.round(1.2*X)};var K=i.getFirefoxVersion(),Z=K!==null&&K<86;i.getPositionFromD3Event=function(){return Z?[M.event.layerX,M.event.layerY]:[M.event.offsetX,M.event.offsetY]}},63620:function(ee){ee.exports=function(D){return window&&window.process&&window.process.versions?Object.prototype.toString.call(D)==="[object Object]":Object.prototype.toString.call(D)==="[object Object]"&&Object.getPrototypeOf(D).hasOwnProperty("hasOwnProperty")}},37804:function(ee,D,e){var M=e(22296),k=/^\w*$/;ee.exports=function(a,T,b,g){var s,t,i;b=b||"name",g=g||"value";var r={};T&&T.length?(i=M(a,T),t=i.get()):t=a,T=T||"";var n={};if(t)for(s=0;s<t.length;s++)n[t[s][b]]=s;var o=k.test(g),l={set:function(u,d){var c=d===null?4:0;if(!t){if(!i||c===4)return;t=[],i.set(t)}var m=n[u];if(m===void 0){if(c===4)return;c|=3,m=t.length,n[u]=m}else d!==(o?t[m][g]:M(t[m],g).get())&&(c|=2);var f=t[m]=t[m]||{};return f[b]=u,o?f[g]=d:M(f,g).set(d),d!==null&&(c&=-5),r[m]=r[m]|c,l},get:function(u){if(t){var d=n[u];return d===void 0?void 0:o?t[d][g]:M(t[d],g).get()}},rename:function(u,d){var c=n[u];return c===void 0||(r[c]=1|r[c],n[d]=c,delete n[u],t[c][b]=d),l},remove:function(u){var d=n[u];if(d===void 0)return l;var c=t[d];if(Object.keys(c).length>2)return r[d]=2|r[d],l.set(u,null);if(o){for(s=d;s<t.length;s++)r[s]=3|r[s];for(s=d;s<t.length;s++)n[t[s][b]]--;t.splice(d,1),delete n[u]}else M(c,g).set(null),r[d]=6|r[d];return l},constructUpdate:function(){for(var u,d,c={},m=Object.keys(r),f=0;f<m.length;f++)d=m[f],u=T+"["+d+"]",t[d]?(1&r[d]&&(c[u+"."+b]=t[d][b]),2&r[d]&&(c[u+"."+g]=o?4&r[d]?null:t[d][g]:4&r[d]?null:M(t[d],g).get())):c[u]=null;return c}};return l}},98356:function(ee,D,e){var M=e(24040);ee.exports=function(k,a){for(var T=k._context.locale,b=0;b<2;b++){for(var g=k._context.locales,s=0;s<2;s++){var t=(g[T]||{}).dictionary;if(t){var i=t[a];if(i)return i}g=M.localeRegistry}var r=T.split("-")[0];if(r===T)break;T=r}return a}},24248:function(ee,D,e){var M=e(20556).dfltConfig,k=e(41792),a=ee.exports={};a.log=function(){var T;if(M.logging>1){var b=["LOG:"];for(T=0;T<arguments.length;T++)b.push(arguments[T]);console.trace.apply(console,b)}if(M.notifyOnLogging>1){var g=[];for(T=0;T<arguments.length;T++)g.push(arguments[T]);k(g.join("<br>"),"long")}},a.warn=function(){var T;if(M.logging>0){var b=["WARN:"];for(T=0;T<arguments.length;T++)b.push(arguments[T]);console.trace.apply(console,b)}if(M.notifyOnLogging>0){var g=[];for(T=0;T<arguments.length;T++)g.push(arguments[T]);k(g.join("<br>"),"stick")}},a.error=function(){var T;if(M.logging>0){var b=["ERROR:"];for(T=0;T<arguments.length;T++)b.push(arguments[T]);console.error.apply(console,b)}if(M.notifyOnLogging>0){var g=[];for(T=0;T<arguments.length;T++)g.push(arguments[T]);k(g.join("<br>"),"stick")}}},30988:function(ee,D,e){var M=e(33428);ee.exports=function(k,a,T){var b=k.selectAll("g."+T.replace(/\s/g,".")).data(a,function(s){return s[0].trace.uid});b.exit().remove(),b.enter().append("g").attr("class",T),b.order();var g=k.classed("rangeplot")?"nodeRangePlot3":"node3";return b.each(function(s){s[0][g]=M.select(this)}),b}},52248:function(ee,D,e){var M=e(36524);D.init2dArray=function(k,a){for(var T=new Array(k),b=0;b<k;b++)T[b]=new Array(a);return T},D.transposeRagged=function(k){var a,T,b=0,g=k.length;for(a=0;a<g;a++)b=Math.max(b,k[a].length);var s=new Array(b);for(a=0;a<b;a++)for(s[a]=new Array(g),T=0;T<g;T++)s[a][T]=k[T][a];return s},D.dot=function(k,a){if(!k.length||!a.length||k.length!==a.length)return null;var T,b,g=k.length;if(k[0].length)for(T=new Array(g),b=0;b<g;b++)T[b]=D.dot(k[b],a);else if(a[0].length){var s=D.transposeRagged(a);for(T=new Array(s.length),b=0;b<s.length;b++)T[b]=D.dot(k,s[b])}else for(T=0,b=0;b<g;b++)T+=k[b]*a[b];return T},D.translationMatrix=function(k,a){return[[1,0,k],[0,1,a],[0,0,1]]},D.rotationMatrix=function(k){var a=k*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},D.rotationXYMatrix=function(k,a,T){return D.dot(D.dot(D.translationMatrix(a,T),D.rotationMatrix(k)),D.translationMatrix(-a,-T))},D.apply3DTransform=function(k){return function(){var a=arguments,T=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return D.dot(k,[T[0],T[1],T[2],1]).slice(0,3)}},D.apply2DTransform=function(k){return function(){var a=arguments;a.length===3&&(a=a[0]);var T=arguments.length===1?a[0]:[a[0],a[1]];return D.dot(k,[T[0],T[1],1]).slice(0,2)}},D.apply2DTransform2=function(k){var a=D.apply2DTransform(k);return function(T){return a(T.slice(0,2)).concat(a(T.slice(2,4)))}},D.convertCssMatrix=function(k){if(k){var a=k.length;if(a===16)return k;if(a===6)return[k[0],k[1],0,0,k[2],k[3],0,0,0,0,1,0,k[4],k[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},D.inverseTransformMatrix=function(k){var a=[];return M.invert(a,k),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},20435:function(ee){ee.exports={mod:function(D,e){var M=D%e;return M<0?M+e:M},modHalf:function(D,e){return Math.abs(D)>e/2?D-Math.round(D/e)*e:D}}},22296:function(ee,D,e){var M=e(38248),k=e(38116).isArrayOrTypedArray;function a(r,n){return function(){var o,l,u,d,c,m=r;for(d=0;d<n.length-1;d++){if((o=n[d])===-1){for(l=!0,u=[],c=0;c<m.length;c++)u[c]=a(m[c],n.slice(d+1))(),u[c]!==u[0]&&(l=!1);return l?u[0]:u}if(typeof o=="number"&&!k(m)||typeof(m=m[o])!="object"||m===null)return}if(typeof m=="object"&&m!==null&&(u=m[n[d]])!==null)return u}}ee.exports=function(r,n){if(M(n))n=String(n);else if(typeof n!="string"||n.substr(n.length-4)==="[-1]")throw"bad property string";var o,l,u,d,c=n.split(".");for(d=0;d<c.length;d++)if(String(c[d]).slice(0,2)==="__")throw"bad property string";for(d=0;d<c.length;){if(o=String(c[d]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(o[1])c[d]=o[1];else{if(d!==0)throw"bad property string";c.splice(0,1)}for(l=o[2].substr(1,o[2].length-2).split("]["),u=0;u<l.length;u++)d++,c.splice(d,0,Number(l[u]))}d++}return typeof r!="object"?function(m,f,p){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:p,obj:m}}(r,n,c):{set:g(r,c,n),get:a(r,c),astr:n,parts:c,obj:r}};var T=/(^|\.)args\[/;function b(r,n){return r===void 0||r===null&&!n.match(T)}function g(r,n,o){return function(l){var u,d,c=r,m="",f=b(l,o);for(d=0;d<n.length-1;d++){if(typeof(u=n[d])=="number"&&!k(c))throw"array index but container is not an array";if(u===-1){if(f=!t(c,n.slice(d+1),l,o))break;return}if(!i(c,u,n[d+1],f))break;if(typeof(c=c[u])!="object"||c===null)throw"container is not an object";m=s(m,u)}if(f){if(d===n.length-1&&(delete c[n[d]],Array.isArray(c)&&+n[d]==c.length-1))for(;c.length&&c[c.length-1]===void 0;)c.pop()}else c[n[d]]=l}}function s(r,n){var o=n;return M(n)?o="["+n+"]":r&&(o="."+n),r+o}function t(r,n,o,l){var u,d=k(o),c=!0,m=o,f=l.replace("-1",0),p=!d&&b(o,f),v=n[0];for(u=0;u<r.length;u++)f=l.replace("-1",u),d&&(p=b(m=o[u%o.length],f)),p&&(c=!1),i(r,u,v,p)&&g(r[u],n,l.replace("-1",u))(m);return c}function i(r,n,o,l){if(r[n]===void 0){if(l)return!1;r[n]=typeof o=="number"?[]:{}}return!0}},16628:function(ee){ee.exports=function(){}},41792:function(ee,D,e){var M=e(33428),k=e(38248),a=[];ee.exports=function(T,b){if(a.indexOf(T)===-1){a.push(T);var g=1e3;k(b)?g=b:b==="long"&&(g=3e3);var s=M.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var r=M.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){r.transition().call(t)});for(var n=r.append("p"),o=i.split(/<br\s*\/?>/g),l=0;l<o.length;l++)l&&n.append("br"),n.append("span").text(o[l]);b==="stick"?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(g).call(t)})}function t(i){i.duration(700).style("opacity",0).each("end",function(r){var n=a.indexOf(r);n!==-1&&a.splice(n,1),M.select(this).remove()})}}},72213:function(ee,D,e){var M=e(93972),k="data-savedcursor";ee.exports=function(a,T){var b=a.attr(k);if(T){if(!b){for(var g=(a.attr("class")||"").split(" "),s=0;s<g.length;s++){var t=g[s];t.indexOf("cursor-")===0&&a.attr(k,t.substr(7)).classed(t,!1)}a.attr(k)||a.attr(k,"!!")}M(a,T)}else b&&(a.attr(k,null),b==="!!"?M(a):M(a,b))}},92065:function(ee,D,e){var M=e(52248).dot,k=e(39032).BADNUM,a=ee.exports={};a.tester=function(T){var b,g=T.slice(),s=g[0][0],t=s,i=g[0][1],r=i;for(g[g.length-1][0]===g[0][0]&&g[g.length-1][1]===g[0][1]||g.push(g[0]),b=1;b<g.length;b++)s=Math.min(s,g[b][0]),t=Math.max(t,g[b][0]),i=Math.min(i,g[b][1]),r=Math.max(r,g[b][1]);var n,o=!1;g.length===5&&(g[0][0]===g[1][0]?g[2][0]===g[3][0]&&g[0][1]===g[3][1]&&g[1][1]===g[2][1]&&(o=!0,n=function(d){return d[0]===g[0][0]}):g[0][1]===g[1][1]&&g[2][1]===g[3][1]&&g[0][0]===g[3][0]&&g[1][0]===g[2][0]&&(o=!0,n=function(d){return d[1]===g[0][1]}));var l=!0,u=g[0];for(b=1;b<g.length;b++)if(u[0]!==g[b][0]||u[1]!==g[b][1]){l=!1;break}return{xmin:s,xmax:t,ymin:i,ymax:r,pts:g,contains:o?function(d,c){var m=d[0],f=d[1];return!(m===k||m<s||m>t||f===k||f<i||f>r||c&&n(d))}:function(d,c){var m=d[0],f=d[1];if(m===k||m<s||m>t||f===k||f<i||f>r)return!1;var p,v,y,x,_,h=g.length,S=g[0][0],w=g[0][1],E=0;for(p=1;p<h;p++)if(v=S,y=w,S=g[p][0],w=g[p][1],!(m<(x=Math.min(v,S))||m>Math.max(v,S)||f>Math.max(y,w)))if(f<Math.min(y,w))m!==x&&E++;else{if(f===(_=S===v?f:y+(m-v)*(w-y)/(S-v)))return p!==1||!c;f<=_&&m!==x&&E++}return E%2==1},isRect:o,degenerate:l}},a.isSegmentBent=function(T,b,g,s){var t,i,r,n=T[b],o=[T[g][0]-n[0],T[g][1]-n[1]],l=M(o,o),u=Math.sqrt(l),d=[-o[1]/u,o[0]/u];for(t=b+1;t<g;t++)if(i=[T[t][0]-n[0],T[t][1]-n[1]],(r=M(i,o))<0||r>l||Math.abs(M(i,d))>s)return!0;return!1},a.filter=function(T,b){var g=[T[0]],s=0,t=0;function i(r){T.push(r);var n=g.length,o=s;g.splice(t+1);for(var l=o+1;l<T.length;l++)(l===T.length-1||a.isSegmentBent(T,o,l+1,b))&&(g.push(T[l]),g.length<n-2&&(s=l,t=g.length-1),o=l)}return T.length>1&&i(T.pop()),{addPt:i,raw:T,filtered:g}}},5048:function(ee,D,e){var M=e(16576),k=e(28624);ee.exports=function(a,T,b){var g=a._fullLayout,s=!0;return g._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(b);else if(!t.pick||g._has("parcoords")){try{t.regl=k({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:a._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:T||[],cachedCode:b||{}})}catch{s=!1}t.regl||(s=!1),s&&this.addEventListener("webglcontextlost",function(i){a&&a.emit&&a.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),s||M({container:g._glcontainer.node()}),s}},34296:function(ee,D,e){var M=e(38248),k=e(25928);ee.exports=function(a){var T;if(typeof(T=a&&a.hasOwnProperty("userAgent")?a.userAgent:function(){var n;return typeof navigator<"u"&&(n=navigator.userAgent),n&&n.headers&&typeof n.headers["user-agent"]=="string"&&(n=n.headers["user-agent"]),n}())!="string")return!0;var b=k({ua:{headers:{"user-agent":T}},tablet:!0,featureDetect:!1});if(!b){for(var g=T.split(" "),s=1;s<g.length;s++)if(g[s].indexOf("Safari")!==-1)for(var t=s-1;t>-1;t--){var i=g[t];if(i.substr(0,8)==="Version/"){var r=i.substr(8).split(".")[0];if(M(r)&&(r=+r),r>=13)return!0}}}return b}},52416:function(ee){ee.exports=function(D,e){if(e instanceof RegExp){for(var M=e.toString(),k=0;k<D.length;k++)if(D[k]instanceof RegExp&&D[k].toString()===M)return D;D.push(e)}else!e&&e!==0||D.indexOf(e)!==-1||D.push(e);return D}},94552:function(ee,D,e){var M=e(3400),k=e(20556).dfltConfig,a={add:function(T,b,g,s,t){var i,r;T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},r=T.undoQueue.index,T.autoplay?T.undoQueue.inSequence||(T.autoplay=!1):(!T.undoQueue.sequence||T.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},T.undoQueue.queue.splice(r,T.undoQueue.queue.length-r,i),T.undoQueue.index+=1):i=T.undoQueue.queue[r-1],T.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(b),i.undo.args.unshift(g),i.redo.calls.push(s),i.redo.args.push(t)),T.undoQueue.queue.length>k.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--))},startSequence:function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},stopSequence:function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},undo:function(T){var b,g;if(!(T.undoQueue===void 0||isNaN(T.undoQueue.index)||T.undoQueue.index<=0)){for(T.undoQueue.index--,b=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,g=0;g<b.undo.calls.length;g++)a.plotDo(T,b.undo.calls[g],b.undo.args[g]);T.undoQueue.inSequence=!1,T.autoplay=!1}},redo:function(T){var b,g;if(!(T.undoQueue===void 0||isNaN(T.undoQueue.index)||T.undoQueue.index>=T.undoQueue.queue.length)){for(b=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,g=0;g<b.redo.calls.length;g++)a.plotDo(T,b.redo.calls[g],b.redo.args[g]);T.undoQueue.inSequence=!1,T.autoplay=!1,T.undoQueue.index++}},plotDo:function(T,b,g){T.autoplay=!0,g=function(s,t){for(var i,r=[],n=0;n<t.length;n++)i=t[n],r[n]=i===s?i:typeof i=="object"?Array.isArray(i)?M.extendDeep([],i):M.extendDeepAll({},i):i;return r}(T,g),b.apply(null,g)}};ee.exports=a},53756:function(ee,D){D.counter=function(e,M,k,a){var T=(M||"")+(k?"":"$"),b=a===!1?"":"^";return e==="xy"?new RegExp(b+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+T):new RegExp(b+e+"([2-9]|[1-9][0-9]+)?"+T)}},23193:function(ee){var D=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;ee.exports=function(M,k){for(;k;){var a=M.match(D);if(a)M=a[1];else{if(!M.match(e))throw new Error("bad relativeAttr call:"+[M,k]);M=""}if(k.charAt(0)!=="^")break;k=k.slice(1)}return M&&k.charAt(0)!=="["?M+"."+k:M+k}},51528:function(ee,D,e){var M=e(38116).isArrayOrTypedArray,k=e(63620);ee.exports=function a(T,b){for(var g in b){var s=b[g],t=T[g];if(t!==s)if(g.charAt(0)==="_"||typeof s=="function"){if(g in T)continue;T[g]=s}else if(M(s)&&M(t)&&k(s[0])){if(g==="customdata"||g==="ids")continue;for(var i=Math.min(s.length,t.length),r=0;r<i;r++)t[r]!==s[r]&&k(s[r])&&k(t[r])&&a(t[r],s[r])}else k(s)&&k(t)&&(a(t,s),Object.keys(t).length||delete T[g])}}},14952:function(ee,D,e){var M=e(38248),k=e(24248),a=e(35536),T=e(39032).BADNUM,b=1e-9;function g(r,n){return r<n}function s(r,n){return r<=n}function t(r,n){return r>n}function i(r,n){return r>=n}D.findBin=function(r,n,o){if(M(n.start))return o?Math.ceil((r-n.start)/n.size-b)-1:Math.floor((r-n.start)/n.size+b);var l,u,d=0,c=n.length,m=0,f=c>1?(n[c-1]-n[0])/(c-1):1;for(u=f>=0?o?g:s:o?i:t,r+=f*b*(o?-1:1)*(f>=0?1:-1);d<c&&m++<100;)u(n[l=Math.floor((d+c)/2)],r)?d=l+1:c=l;return m>90&&k.log("Long binary search..."),d-1},D.sorterAsc=function(r,n){return r-n},D.sorterDes=function(r,n){return n-r},D.distinctVals=function(r){var n,o=r.slice();for(o.sort(D.sorterAsc),n=o.length-1;n>-1&&o[n]===T;n--);for(var l,u=o[n]-o[0]||1,d=u/(n||1)/1e4,c=[],m=0;m<=n;m++){var f=o[m],p=f-l;l===void 0?(c.push(f),l=f):p>d&&(u=Math.min(u,p),c.push(f),l=f)}return{vals:c,minDiff:u}},D.roundUp=function(r,n,o){for(var l,u=0,d=n.length-1,c=0,m=o?0:1,f=o?1:0,p=o?Math.ceil:Math.floor;u<d&&c++<100;)n[l=p((u+d)/2)]<=r?u=l+m:d=l-f;return n[u]},D.sort=function(r,n){for(var o=0,l=0,u=1;u<r.length;u++){var d=n(r[u],r[u-1]);if(d<0?o=1:d>0&&(l=1),o&&l)return r.sort(n)}return l?r:r.reverse()},D.findIndexOfMin=function(r,n){n=n||a;for(var o,l=1/0,u=0;u<r.length;u++){var d=n(r[u]);d<l&&(l=d,o=u)}return o}},93972:function(ee){ee.exports=function(D,e){(D.attr("class")||"").split(" ").forEach(function(M){M.indexOf("cursor-")===0&&D.classed(M,!1)}),e&&D.classed("cursor-"+e,!0)}},16576:function(ee,D,e){var M=e(76308),k=function(){};ee.exports=function(a){for(var T in a)typeof a[T]=="function"&&(a[T]=k);a.destroy=function(){a.container.parentNode.removeChild(a.container)};var b=document.createElement("div");b.className="no-webgl",b.style.cursor="pointer",b.style.fontSize="24px",b.style.color=M.defaults[0],b.style.position="absolute",b.style.left=b.style.top="0px",b.style.width=b.style.height="100%",b.style["background-color"]=M.lightLine,b.style["z-index"]=30;var g=document.createElement("p");return g.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",g.style.position="relative",g.style.top="50%",g.style.left="50%",g.style.height="30%",g.style.width="50%",g.style.margin="-15% 0 0 -25%",b.appendChild(g),a.container.appendChild(b),a.container.style.background="#FFFFFF",a.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(ee){ee.exports=function(D){return Object.keys(D).sort()}},63084:function(ee,D,e){var M=e(38248),k=e(38116).isArrayOrTypedArray;D.aggNums=function(a,T,b,g){var s,t;if((!g||g>b.length)&&(g=b.length),M(T)||(T=!1),k(b[0])){for(t=new Array(g),s=0;s<g;s++)t[s]=D.aggNums(a,T,b[s]);b=t}for(s=0;s<g;s++)M(T)?M(b[s])&&(T=a(+T,+b[s])):T=b[s];return T},D.len=function(a){return D.aggNums(function(T){return T+1},0,a)},D.mean=function(a,T){return T||(T=D.len(a)),D.aggNums(function(b,g){return b+g},0,a)/T},D.midRange=function(a){if(a!==void 0&&a.length!==0)return(D.aggNums(Math.max,null,a)+D.aggNums(Math.min,null,a))/2},D.variance=function(a,T,b){return T||(T=D.len(a)),M(b)||(b=D.mean(a,T)),D.aggNums(function(g,s){return g+Math.pow(s-b,2)},0,a)/T},D.stdev=function(a,T,b){return Math.sqrt(D.variance(a,T,b))},D.median=function(a){var T=a.slice().sort();return D.interp(T,.5)},D.interp=function(a,T){if(!M(T))throw"n should be a finite number";if((T=T*a.length-.5)<0)return a[0];if(T>a.length-1)return a[a.length-1];var b=T%1;return b*a[Math.ceil(T)]+(1-b)*a[Math.floor(T)]}},43080:function(ee,D,e){var M=e(72160);ee.exports=function(k){return k?M(k):[0,0,0,1]}},9188:function(ee,D,e){var M=e(2264),k=e(43616),a=e(3400),T=null;ee.exports=function(){if(T!==null)return T;T=!1;var b=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!b){var g=Array.from(M.CSS_DECLARATIONS).reverse(),s=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof s=="function")T=g.some(function(r){return s.apply(null,r)});else{var t=k.tester.append("image").attr("style",M.STYLE),i=window.getComputedStyle(t.node()).imageRendering;T=g.some(function(r){var n=r[1];return i===n||i===n.toLowerCase()}),t.remove()}}return T}},72736:function(ee,D,e){var M=e(33428),k=e(3400),a=k.strTranslate,T=e(9616),b=e(84284).LINE_SPACING,g=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;D.convertToTspans=function(R,U,z){var N=R.text(),W=!R.attr("data-notex")&&U&&U._context.typesetMath&&typeof MathJax<"u"&&N.match(g),F=M.select(R.node().parentNode);if(!F.empty()){var V=R.attr("class")?R.attr("class").split(" ")[0]:"text";return V+="-math",F.selectAll("svg."+V).remove(),F.selectAll("g."+V+"-group").remove(),R.style("display",null).attr({"data-unformatted":N,"data-math":"N"}),W?(U&&U._promises||[]).push(new Promise(function(te){R.style("display","none");var J=parseInt(R.node().style.fontSize,10),K={fontSize:J};(function(Z,X,Q){var re,ae,ie,le,pe=parseInt((MathJax.version||"").split(".")[0]);if(pe===2||pe===3){var de=function(){var be="math-output-"+k.randstr({},64),me=(le=M.select("body").append("div").attr({id:be}).style({visibility:"hidden",position:"absolute","font-size":X.fontSize+"px"}).text(Z.replace(s,"\\lt ").replace(t,"\\gt "))).node();return pe===2?MathJax.Hub.Typeset(me):MathJax.typeset([me])},ve=function(){var be=le.select(pe===2?".MathJax_SVG":".MathJax"),me=!be.empty()&&le.select("svg").node();if(me){var ge,ke=me.getBoundingClientRect();ge=pe===2?M.select("body").select("#MathJax_SVG_glyphs"):be.select("defs"),Q(be,ge,ke)}else k.log("There was an error in the tex syntax.",Z),Q();le.remove()};pe===2?MathJax.Hub.Queue(function(){return ae=k.extendDeepAll({},MathJax.Hub.config),ie=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if((re=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},de,ve,function(){if(re!=="SVG")return MathJax.Hub.setRenderer(re)},function(){return ie!==void 0&&(MathJax.Hub.processSectionDelay=ie),MathJax.Hub.Config(ae)}):pe===3&&(ae=k.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,(re=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){de(),ve(),re!=="svg"&&(MathJax.config.startup.output=re),MathJax.config=ae}))}else k.warn("No MathJax version:",MathJax.version)})(W[2],K,function(Z,X,Q){F.selectAll("svg."+V).remove(),F.selectAll("g."+V+"-group").remove();var re=Z&&Z.select("svg");if(!re||!re.node())return j(),void te();var ae=F.append("g").classed(V+"-group",!0).attr({"pointer-events":"none","data-unformatted":N,"data-math":"Y"});ae.node().appendChild(re.node()),X&&X.node()&&re.node().insertBefore(X.node().cloneNode(!0),re.node().firstChild);var ie=Q.width,le=Q.height;re.attr({class:V,height:le,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var pe=R.node().style.fill||"black",de=re.select("g");de.attr({fill:pe,stroke:pe});var ve=de.node().getBoundingClientRect(),be=ve.width,me=ve.height;(be>ie||me>le)&&(re.style("overflow","hidden"),be=(ve=re.node().getBoundingClientRect()).width,me=ve.height);var ge=+R.attr("x"),ke=+R.attr("y"),we=-(J||R.node().getBoundingClientRect().height)/4;if(V[0]==="y")ae.attr({transform:"rotate("+[-90,ge,ke]+")"+a(-be/2,we-me/2)});else if(V[0]==="l")ke=we-me/2;else if(V[0]==="a"&&V.indexOf("atitle")!==0)ge=0,ke=we;else{var ue=R.attr("text-anchor");ge-=be*(ue==="middle"?.5:ue==="end"?1:0),ke=ke+we-me/2}re.attr({x:ge,y:ke}),z&&z.call(R,ae),te(ae)})})):j(),R}function j(){F.empty()||(V=R.attr("class")+"-math",F.select("svg."+V).remove()),R.text("").style("white-space","pre");var te=function(J,K){K=K.replace(d," ");var Z,X=!1,Q=[],re=-1;function ae(){re++;var Te=document.createElementNS(T.svg,"tspan");M.select(Te).attr({class:"line",dy:re*b+"em"}),J.appendChild(Te),Z=Te;var Me=Q;if(Q=[{node:Te}],Me.length>1)for(var Se=1;Se<Me.length;Se++)ie(Me[Se])}function ie(Te){var Me,Se=Te.type,ze={};if(Se==="a"){Me="a";var fe=Te.target,xe=Te.href,_e=Te.popup;xe&&(ze={"xlink:xlink:show":fe==="_blank"||fe.charAt(0)!=="_"?"new":"replace",target:fe,"xlink:xlink:href":xe},_e&&(ze.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+_e+'");return false;'))}else Me="tspan";Te.style&&(ze.style=Te.style);var Oe=document.createElementNS(T.svg,Me);if(Se==="sup"||Se==="sub"){le(Z,l),Z.appendChild(Oe);var De=document.createElementNS(T.svg,"tspan");le(De,l),M.select(De).attr("dy",o[Se]),ze.dy=n[Se],Z.appendChild(Oe),Z.appendChild(De)}else Z.appendChild(Oe);M.select(Oe).attr(ze),Z=Te.node=Oe,Q.push(Te)}function le(Te,Me){Te.appendChild(document.createTextNode(Me))}function pe(Te){if(Q.length!==1){var Me=Q.pop();Te!==Me.type&&k.log("Start tag <"+Me.type+"> doesnt match end tag <"+Te+">. Pretending it did match.",K),Z=Q[Q.length-1].node}else k.log("Ignoring unexpected end tag </"+Te+">.",K)}f.test(K)?ae():(Z=J,Q=[{node:J}]);for(var de=K.split(c),ve=0;ve<de.length;ve++){var be=de[ve],me=be.match(m),ge=me&&me[2].toLowerCase(),ke=r[ge];if(ge==="br")ae();else if(ke===void 0)le(Z,E(be));else if(me[1])pe(ge);else{var we=me[4],ue={type:ge},oe=_(we,p);if(oe?(oe=oe.replace(h,"$1 fill:"),ke&&(oe+=";"+ke)):ke&&(oe=ke),oe&&(ue.style=oe),ge==="a"){X=!0;var he=_(we,v);if(he){var Ee=C(he);Ee&&(ue.href=Ee,ue.target=_(we,y)||"_blank",ue.popup=_(we,x))}}ie(ue)}}return X}(R.node(),N);te&&R.style("pointer-events","all"),D.positionText(R),z&&z.call(R)}};var s=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],r={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},n={sub:"0.3em",sup:"-0.6em"},o={sub:"-0.21em",sup:"0.42em"},l="",u=["http:","https:","mailto:","",void 0,":"],d=D.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,m=/<(\/?)([^ >]*)(\s+(.*))?>/i,f=/<br(\s+.*)?>/i;D.BR_TAG_ALL=/<br(\s+.*)?>/gi;var p=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,v=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function _(R,U){if(!R)return null;var z=R.match(U),N=z&&(z[3]||z[4]);return N&&E(N)}var h=/(^|;)\s*color:/;D.plainText=function(R,U){for(var z=(U=U||{}).len!==void 0&&U.len!==-1?U.len:1/0,N=U.allowedTags!==void 0?U.allowedTags:["br"],W=R.split(c),F=[],V="",j=0,te=0;te<W.length;te++){var J=W[te],K=J.match(m),Z=K&&K[2].toLowerCase();if(Z)N.indexOf(Z)!==-1&&(F.push(J),V=Z);else{var X=J.length;if(j+X<z)F.push(J),j+=X;else if(j<z){var Q=z-j;V&&(V!=="br"||Q<=3||X<=3)&&F.pop(),z>3?F.push(J.substr(0,Q-3)+"..."):F.push(J.substr(0,Q));break}V=""}}return F.join("")};var S={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},w=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(R){return R.replace(w,function(U,z){return(z.charAt(0)==="#"?function(N){if(!(N>1114111)){var W=String.fromCodePoint;if(W)return W(N);var F=String.fromCharCode;return N<=65535?F(N):F(55232+(N>>10),N%1024+56320)}}(z.charAt(1)==="x"?parseInt(z.substr(2),16):parseInt(z.substr(1),10)):S[z])||U})}function C(R){var U=encodeURI(decodeURI(R)),z=document.createElement("a"),N=document.createElement("a");z.href=R,N.href=U;var W=z.protocol,F=N.protocol;return u.indexOf(W)!==-1&&u.indexOf(F)!==-1?U:""}function P(R,U,z){var N,W,F,V=z.horizontalAlign,j=z.verticalAlign||"top",te=R.node().getBoundingClientRect(),J=U.node().getBoundingClientRect();return W=j==="bottom"?function(){return te.bottom-N.height}:j==="middle"?function(){return te.top+(te.height-N.height)/2}:function(){return te.top},F=V==="right"?function(){return te.right-N.width}:V==="center"?function(){return te.left+(te.width-N.width)/2}:function(){return te.left},function(){N=this.node().getBoundingClientRect();var K=F()-J.left,Z=W()-J.top,X=z.gd||{};if(z.gd){X._fullLayout._calcInverseTransform(X);var Q=k.apply3DTransform(X._fullLayout._invTransform)(K,Z);K=Q[0],Z=Q[1]}return this.style({top:Z+"px",left:K+"px","z-index":1e3}),this}}D.convertEntities=E,D.sanitizeHTML=function(R){R=R.replace(d," ");for(var U=document.createElement("p"),z=U,N=[],W=R.split(c),F=0;F<W.length;F++){var V=W[F],j=V.match(m),te=j&&j[2].toLowerCase();if(te in r)if(j[1])N.length&&(z=N.pop());else{var J=j[4],K=_(J,p),Z=K?{style:K}:{};if(te==="a"){var X=_(J,v);if(X){var Q=C(X);if(Q){Z.href=Q;var re=_(J,y);re&&(Z.target=re)}}}var ae=document.createElement(te);z.appendChild(ae),M.select(ae).attr(Z),z=ae,N.push(ae)}else z.appendChild(document.createTextNode(E(V)))}return U.innerHTML},D.lineCount=function(R){return R.selectAll("tspan.line").size()||1},D.positionText=function(R,U,z){return R.each(function(){var N=M.select(this);function W(j,te){return te===void 0?(te=N.attr(j))===null&&(N.attr(j,0),te=0):N.attr(j,te),te}var F=W("x",U),V=W("y",z);this.nodeName==="text"&&N.selectAll("tspan.line").attr({x:F,y:V})})};var O="1px ";D.makeTextShadow=function(R){return O+O+O+R+", -"+O+"-"+O+O+R+", "+O+"-"+O+O+R+", -"+O+O+O+R},D.makeEditable=function(R,U){var z=U.gd,N=U.delegate,W=M.dispatch("edit","input","cancel"),F=N||R;if(R.style({"pointer-events":N?"none":"all"}),R.size()!==1)throw new Error("boo");function V(){var te,J,K,Z,X;te=M.select(z).select(".svg-container"),J=te.append("div"),K=R.node().style,Z=parseFloat(K.fontSize||12),(X=U.text)===void 0&&(X=R.attr("data-unformatted")),J.classed("plugin-editable editable",!0).style({position:"absolute","font-family":K.fontFamily||"Arial","font-size":Z,color:U.fill||K.fill||"black",opacity:1,"background-color":U.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Z/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(X).call(P(R,te,U)).on("blur",function(){z._editing=!1,R.text(this.textContent).style({opacity:1});var ae,ie=M.select(this).attr("class");(ae=ie?"."+ie.split(" ")[0]+"-math-group":"[class*=-math-group]")&&M.select(R.node().parentNode).select(ae).style({opacity:0});var le=this.textContent;M.select(this).transition().duration(0).remove(),M.select(document).on("mouseup",null),W.edit.call(R,le)}).on("focus",function(){var ae=this;z._editing=!0,M.select(document).on("mouseup",function(){if(M.event.target===ae)return!1;document.activeElement===J.node()&&J.node().blur()})}).on("keyup",function(){M.event.which===27?(z._editing=!1,R.style({opacity:1}),M.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),W.cancel.call(R,this.textContent)):(W.input.call(R,this.textContent),M.select(this).call(P(R,te,U)))}).on("keydown",function(){M.event.which===13&&this.blur()}).call(j),R.style({opacity:0});var Q,re=F.attr("class");(Q=re?"."+re.split(" ")[0]+"-math-group":"[class*=-math-group]")&&M.select(R.node().parentNode).select(Q).style({opacity:0})}function j(te){var J=te.node(),K=document.createRange();K.selectNodeContents(J);var Z=window.getSelection();Z.removeAllRanges(),Z.addRange(K),J.focus()}return U.immediate?V():F.on("click",V),M.rebind(R,W,"on")}},91200:function(ee,D){var e={};function M(k){k&&k.timer!==null&&(clearTimeout(k.timer),k.timer=null)}D.throttle=function(k,a,T){var b=e[k],g=Date.now();if(!b){for(var s in e)e[s].ts<g-6e4&&delete e[s];b=e[k]={ts:0,timer:null}}function t(){T(),b.ts=Date.now(),b.onDone&&(b.onDone(),b.onDone=null)}M(b),g>b.ts+a?t():b.timer=setTimeout(function(){t(),b.timer=null},a)},D.done=function(k){var a=e[k];return a&&a.timer?new Promise(function(T){var b=a.onDone;a.onDone=function(){b&&b(),T(),a.onDone=null}}):Promise.resolve()},D.clear=function(k){if(k)M(e[k]),delete e[k];else for(var a in e)D.clear(a)}},36896:function(ee,D,e){var M=e(38248);ee.exports=function(k,a){if(k>0)return Math.log(k)/Math.LN10;var T=Math.log(Math.min(a[0],a[1]))/Math.LN10;return M(T)||(T=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),T}},59972:function(ee,D,e){var M=ee.exports={},k=e(79552).locationmodeToLayer,a=e(55712).NO;M.getTopojsonName=function(T){return[T.scope.replace(/ /g,"-"),"_",T.resolution.toString(),"m"].join("")},M.getTopojsonPath=function(T,b){return T+b+".json"},M.getTopojsonFeatures=function(T,b){var g=k[T.locationmode],s=b.objects[g];return a(b,s).features}},11680:function(ee){ee.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(ee){ee.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(ee,D,e){var M=e(24040);ee.exports=function(k){for(var a,T,b=M.layoutArrayContainers,g=M.layoutArrayRegexes,s=k.split("[")[0],t=0;t<g.length;t++)if((T=k.match(g[t]))&&T.index===0){a=T[0];break}if(a||(a=b[b.indexOf(s)]),!a)return!1;var i=k.substr(a.length);return i?!!(T=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:a,index:Number(T[1]),property:T[3]||""}:{array:a,index:"",property:""}}},67824:function(ee,D,e){var M=e(92880).extendFlat,k=e(63620),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},T={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},b=a.flags.slice().concat(["fullReplot"]),g=T.flags.slice().concat("layoutReplot");function s(r){for(var n={},o=0;o<r.length;o++)n[r[o]]=!1;return n}function t(r,n,o){var l=M({},r);for(var u in l){var d=l[u];k(d)&&(l[u]=i(d,n,0,u))}return o==="from-root"&&(l.editType=n),l}function i(r,n,o,l){if(r.valType){var u=M({},r);if(u.editType=n,Array.isArray(r.items)){u.items=new Array(r.items.length);for(var d=0;d<r.items.length;d++)u.items[d]=i(r.items[d],n)}return u}return t(r,n,l.charAt(0)==="_"?"nested":"from-root")}ee.exports={traces:a,layout:T,traceFlags:function(){return s(b)},layoutFlags:function(){return s(g)},update:function(r,n){var o=n.editType;if(o&&o!=="none")for(var l=o.split("+"),u=0;u<l.length;u++)r[l[u]]=!0},overrideAll:t}},93404:function(ee,D,e){var M=e(38248),k=e(61784),a=e(24040),T=e(3400),b=e(7316),g=e(79811),s=e(76308),t=g.cleanId,i=g.getFromTrace,r=a.traceIs;function n(v,y){var x=v[y],_=y.charAt(0);x&&x!=="paper"&&(v[y]=t(x,_,!0))}function o(v){function y(x,_){var h=v[x],S=v.title&&v.title[_];h&&!S&&(v.title||(v.title={}),v.title[_]=v[x],delete v[x])}v&&(typeof v.title!="string"&&typeof v.title!="number"||(v.title={text:v.title}),y("titlefont","font"),y("titleposition","position"),y("titleside","side"),y("titleoffset","offset"))}function l(v){if(!T.isPlainObject(v))return!1;var y=v.name;return delete v.name,delete v.showlegend,(typeof y=="string"||typeof y=="number")&&String(y)}function u(v,y,x,_){if(x&&!_)return v;if(_&&!x||!v.trim())return y;if(!y.trim())return v;var h,S=Math.min(v.length,y.length);for(h=0;h<S&&v.charAt(h)===y.charAt(h);h++);return v.substr(0,h).trim()}function d(v){var y="middle",x="center";return typeof v=="string"&&(v.indexOf("top")!==-1?y="top":v.indexOf("bottom")!==-1&&(y="bottom"),v.indexOf("left")!==-1?x="left":v.indexOf("right")!==-1&&(x="right")),y+" "+x}function c(v,y){return y in v&&typeof v[y]=="object"&&Object.keys(v[y]).length===0}D.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&T.log("Clearing previous rejected promises from queue."),v._promises=[]},D.cleanLayout=function(v){var y,x;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var _=(b.subplotsRegistry.cartesian||{}).attrRegex,h=(b.subplotsRegistry.polar||{}).attrRegex,S=(b.subplotsRegistry.ternary||{}).attrRegex,w=(b.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(v);for(y=0;y<E.length;y++){var C=E[y];if(_&&_.test(C)){var P=v[C];P.anchor&&P.anchor!=="free"&&(P.anchor=t(P.anchor)),P.overlaying&&(P.overlaying=t(P.overlaying)),P.type||(P.isdate?P.type="date":P.islog?P.type="log":P.isdate===!1&&P.islog===!1&&(P.type="linear")),P.autorange!=="withzero"&&P.autorange!=="tozero"||(P.autorange=!0,P.rangemode="tozero"),P.insiderange&&delete P.range,delete P.islog,delete P.isdate,delete P.categories,c(P,"domain")&&delete P.domain,P.autotick!==void 0&&(P.tickmode===void 0&&(P.tickmode=P.autotick?"auto":"linear"),delete P.autotick),o(P)}else if(h&&h.test(C))o(v[C].radialaxis);else if(S&&S.test(C)){var O=v[C];o(O.aaxis),o(O.baxis),o(O.caxis)}else if(w&&w.test(C)){var R=v[C],U=R.cameraposition;if(Array.isArray(U)&&U[0].length===4){var z=U[0],N=U[1],W=U[2],F=k([],z),V=[];for(x=0;x<3;++x)V[x]=N[x]+W*F[2+4*x];R.camera={eye:{x:V[0],y:V[1],z:V[2]},center:{x:N[0],y:N[1],z:N[2]},up:{x:0,y:0,z:1}},delete R.cameraposition}o(R.xaxis),o(R.yaxis),o(R.zaxis)}}var j=Array.isArray(v.annotations)?v.annotations.length:0;for(y=0;y<j;y++){var te=v.annotations[y];T.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),n(te,"xref"),n(te,"yref"))}var J=Array.isArray(v.shapes)?v.shapes.length:0;for(y=0;y<J;y++){var K=v.shapes[y];T.isPlainObject(K)&&(n(K,"xref"),n(K,"yref"))}var Z=Array.isArray(v.images)?v.images.length:0;for(y=0;y<Z;y++){var X=v.images[y];T.isPlainObject(X)&&(n(X,"xref"),n(X,"yref"))}var Q=v.legend;return Q&&(Q.x>3?(Q.x=1.02,Q.xanchor="left"):Q.x<-2&&(Q.x=-.02,Q.xanchor="right"),Q.y>3?(Q.y=1.02,Q.yanchor="bottom"):Q.y<-2&&(Q.y=-.02,Q.yanchor="top")),o(v),v.dragmode==="rotate"&&(v.dragmode="orbit"),s.clean(v),v.template&&v.template.layout&&D.cleanLayout(v.template.layout),v},D.cleanData=function(v){for(var y=0;y<v.length;y++){var x,_=v[y];if(_.type==="histogramy"&&"xbins"in _&&!("ybins"in _)&&(_.ybins=_.xbins,delete _.xbins),_.error_y&&"opacity"in _.error_y){var h=s.defaults,S=_.error_y.color||(r(_,"bar")?s.defaultLine:h[y%h.length]);_.error_y.color=s.addOpacity(s.rgb(S),s.opacity(S)*_.error_y.opacity),delete _.error_y.opacity}if("bardir"in _&&(_.bardir!=="h"||!r(_,"bar")&&_.type.substr(0,9)!=="histogram"||(_.orientation="h",D.swapXYData(_)),delete _.bardir),_.type==="histogramy"&&D.swapXYData(_),_.type!=="histogramx"&&_.type!=="histogramy"||(_.type="histogram"),"scl"in _&&!("colorscale"in _)&&(_.colorscale=_.scl,delete _.scl),"reversescl"in _&&!("reversescale"in _)&&(_.reversescale=_.reversescl,delete _.reversescl),_.xaxis&&(_.xaxis=t(_.xaxis,"x")),_.yaxis&&(_.yaxis=t(_.yaxis,"y")),r(_,"gl3d")&&_.scene&&(_.scene=b.subplotsRegistry.gl3d.cleanId(_.scene)),!r(_,"pie-like")&&!r(_,"bar-like"))if(Array.isArray(_.textposition))for(x=0;x<_.textposition.length;x++)_.textposition[x]=d(_.textposition[x]);else _.textposition&&(_.textposition=d(_.textposition));var w=a.getModule(_);if(w&&w.colorbar){var E=w.colorbar.container,C=E?_[E]:_;C&&C.colorscale&&(C.colorscale==="YIGnBu"&&(C.colorscale="YlGnBu"),C.colorscale==="YIOrRd"&&(C.colorscale="YlOrRd"))}if(_.type==="surface"&&T.isPlainObject(_.contours)){var P=["x","y","z"];for(x=0;x<P.length;x++){var O=_.contours[P[x]];T.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if(_.type==="candlestick"||_.type==="ohlc"){var R=(_.increasing||{}).showlegend!==!1,U=(_.decreasing||{}).showlegend!==!1,z=l(_.increasing),N=l(_.decreasing);if(z!==!1&&N!==!1){var W=u(z,N,R,U);W&&(_.name=W)}else!z&&!N||_.name||(_.name=z||N)}if(Array.isArray(_.transforms)){var F=_.transforms;for(x=0;x<F.length;x++){var V=F[x];if(T.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var j=V.styles,te=Object.keys(j);V.styles=[];for(var J=0;J<te.length;J++)V.styles.push({target:te[J],value:j[te[J]]})}}}}c(_,"line")&&delete _.line,"marker"in _&&(c(_.marker,"line")&&delete _.marker.line,c(_,"marker")&&delete _.marker),s.clean(_),_.autobinx&&(delete _.autobinx,delete _.xbins),_.autobiny&&(delete _.autobiny,delete _.ybins),o(_),_.colorbar&&o(_.colorbar),_.marker&&_.marker.colorbar&&o(_.marker.colorbar),_.line&&_.line.colorbar&&o(_.line.colorbar),_.aaxis&&o(_.aaxis),_.baxis&&o(_.baxis)}},D.swapXYData=function(v){var y;if(T.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var x=v.error_y,_="copy_ystyle"in x?x.copy_ystyle:!(x.color||x.thickness||x.width);T.swapAttrs(v,["error_?.copy_ystyle"]),_&&T.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if(typeof v.hoverinfo=="string"){var h=v.hoverinfo.split("+");for(y=0;y<h.length;y++)h[y]==="x"?h[y]="y":h[y]==="y"&&(h[y]="x");v.hoverinfo=h.join("+")}},D.coerceTraceIndices=function(v,y){if(M(y))return[y];if(!Array.isArray(y)||!y.length)return v.data.map(function(h,S){return S});if(Array.isArray(y)){for(var x=[],_=0;_<y.length;_++)T.isIndex(y[_],v.data.length)?x.push(y[_]):T.warn("trace index (",y[_],") is not a number or is out of bounds");return x}return y},D.manageArrayContainers=function(v,y,x){var _=v.obj,h=v.parts,S=h.length,w=h[S-1],E=M(w);if(E&&y===null){var C=h.slice(0,S-1).join(".");T.nestedProperty(_,C).get().splice(w,1)}else E&&v.get()===void 0&&v.get()===void 0&&(x[v.astr]=null),v.set(y)};var m=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function f(v){var y=v.search(m);if(y>0)return v.substr(0,y)}D.hasParent=function(v,y){for(var x=f(y);x;){if(x in v)return!0;x=f(x)}return!1};var p=["x","y","z"];D.clearAxisTypes=function(v,y,x){for(var _=0;_<y.length;_++)for(var h=v._fullData[_],S=0;S<3;S++){var w=i(v,h,p[S]);if(w&&w.type!=="log"){var E=w._name,C=w._id.substr(1);if(C.substr(0,5)==="scene"){if(x[C]!==void 0)continue;E=C+"."+E}var P=E+".type";x[E]===void 0&&x[P]===void 0&&T.nestedProperty(v.layout,P).set(null)}}}},22448:function(ee,D,e){var M=e(36424);D._doPlot=M._doPlot,D.newPlot=M.newPlot,D.restyle=M.restyle,D.relayout=M.relayout,D.redraw=M.redraw,D.update=M.update,D._guiRestyle=M._guiRestyle,D._guiRelayout=M._guiRelayout,D._guiUpdate=M._guiUpdate,D._storeDirectGUIEdit=M._storeDirectGUIEdit,D.react=M.react,D.extendTraces=M.extendTraces,D.prependTraces=M.prependTraces,D.addTraces=M.addTraces,D.deleteTraces=M.deleteTraces,D.moveTraces=M.moveTraces,D.purge=M.purge,D.addFrames=M.addFrames,D.deleteFrames=M.deleteFrames,D.animate=M.animate,D.setPlotConfig=M.setPlotConfig;var k=e(52200).getGraphDiv,a=e(4016).eraseActiveShape;D.deleteActiveShape=function(b){return a(k(b))},D.toImage=e(67024),D.validate=e(21480),D.downloadImage=e(39792);var T=e(94828);D.makeTemplate=T.makeTemplate,D.validateTemplate=T.validateTemplate},17680:function(ee,D,e){var M=e(63620),k=e(16628),a=e(24248),T=e(14952).sorterAsc,b=e(24040);D.containerArrayMatch=e(69820);var g=D.isAddVal=function(t){return t==="add"||M(t)},s=D.isRemoveVal=function(t){return t===null||t==="remove"};D.applyContainerArrayChanges=function(t,i,r,n,o){var l=i.astr,u=b.getComponentMethod(l,"supplyLayoutDefaults"),d=b.getComponentMethod(l,"draw"),c=b.getComponentMethod(l,"drawOne"),m=n.replot||n.recalc||u===k||d===k,f=t.layout,p=t._fullLayout;if(r[""]){Object.keys(r).length>1&&a.warn("Full array edits are incompatible with other edits",l);var v=r[""][""];if(s(v))i.set(null);else{if(!Array.isArray(v))return a.warn("Unrecognized full array edit value",l,v),!0;i.set(v)}return!m&&(u(f,p),d(t),!0)}var y,x,_,h,S,w,E,C,P=Object.keys(r).map(Number).sort(T),O=i.get(),R=O||[],U=o(p,l).get(),z=[],N=-1,W=R.length;for(y=0;y<P.length;y++)if(h=r[_=P[y]],S=Object.keys(h),w=h[""],E=g(w),_<0||_>R.length-(E?0:1))a.warn("index out of range",l,_);else if(w!==void 0)S.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",l,_),s(w)?z.push(_):E?(w==="add"&&(w={}),R.splice(_,0,w),U&&U.splice(_,0,{})):a.warn("Unrecognized full object edit value",l,_,w),N===-1&&(N=_);else for(x=0;x<S.length;x++)C=l+"["+_+"].",o(R[_],S[x],C).set(h[S[x]]);for(y=z.length-1;y>=0;y--)R.splice(z[y],1),U&&U.splice(z[y],1);if(R.length?O||i.set(R):i.set(null),m)return!1;if(u(f,p),c!==k){var F;if(N===-1)F=P;else{for(W=Math.max(R.length,W),F=[],y=0;y<P.length&&!((_=P[y])>=N);y++)F.push(_);for(y=N;y<W;y++)F.push(y)}for(y=0;y<F.length;y++)c(t,F[y])}else d(t);return!0}},36424:function(ee,D,e){var M=e(33428),k=e(38248),a=e(52264),T=e(3400),b=T.nestedProperty,g=e(95924),s=e(94552),t=e(24040),i=e(73060),r=e(7316),n=e(54460),o=e(96312),l=e(94724),u=e(43616),d=e(76308),c=e(42464).initInteractions,m=e(9616),f=e(22676).clearOutline,p=e(20556).dfltConfig,v=e(17680),y=e(93404),x=e(39172),_=e(67824),h=e(33816).AX_NAME_PATTERN,S=0;function w(Te){var Me=Te._fullLayout;Me._redrawFromAutoMarginCount?Me._redrawFromAutoMarginCount--:Te.emit("plotly_afterplot")}function E(Te,Me){try{Te._fullLayout._paper.style("background",Me)}catch(Se){T.error(Se)}}function C(Te,Me){E(Te,d.combine(Me,"white"))}function P(Te,Me){if(!Te._context){Te._context=T.extendDeep({},p);var Se=M.select("base");Te._context._baseUrl=Se.size()&&Se.attr("href")?window.location.href.split("#")[0]:""}var ze,fe,xe,_e=Te._context;if(Me){for(fe=Object.keys(Me),ze=0;ze<fe.length;ze++)(xe=fe[ze])!=="editable"&&xe!=="edits"&&xe in _e&&(xe==="setBackground"&&Me[xe]==="opaque"?_e[xe]=C:_e[xe]=Me[xe]);Me.plot3dPixelRatio&&!_e.plotGlPixelRatio&&(_e.plotGlPixelRatio=_e.plot3dPixelRatio);var Oe=Me.editable;if(Oe!==void 0)for(_e.editable=Oe,fe=Object.keys(_e.edits),ze=0;ze<fe.length;ze++)_e.edits[fe[ze]]=Oe;if(Me.edits)for(fe=Object.keys(Me.edits),ze=0;ze<fe.length;ze++)(xe=fe[ze])in _e.edits&&(_e.edits[xe]=Me.edits[xe]);_e._exportedPlot=Me._exportedPlot}_e.staticPlot&&(_e.editable=!1,_e.edits={},_e.autosizable=!1,_e.scrollZoom=!1,_e.doubleClick=!1,_e.showTips=!1,_e.showLink=!1,_e.displayModeBar=!1),_e.displayModeBar!=="hover"||a||(_e.displayModeBar=!0),_e.setBackground!=="transparent"&&typeof _e.setBackground=="function"||(_e.setBackground=E),_e._hasZeroHeight=_e._hasZeroHeight||Te.clientHeight===0,_e._hasZeroWidth=_e._hasZeroWidth||Te.clientWidth===0;var De=_e.scrollZoom,Pe=_e._scrollZoom={};if(De===!0)Pe.cartesian=1,Pe.gl3d=1,Pe.geo=1,Pe.mapbox=1;else if(typeof De=="string"){var Ue=De.split("+");for(ze=0;ze<Ue.length;ze++)Pe[Ue[ze]]=1}else De!==!1&&(Pe.gl3d=1,Pe.geo=1,Pe.mapbox=1)}function O(Te,Me){var Se,ze,fe=Me+1,xe=[];for(Se=0;Se<Te.length;Se++)(ze=Te[Se])<0?xe.push(fe+ze):xe.push(ze);return xe}function R(Te,Me,Se){var ze,fe;for(ze=0;ze<Me.length;ze++){if((fe=Me[ze])!==parseInt(fe,10))throw new Error("all values in "+Se+" must be integers");if(fe>=Te.data.length||fe<-Te.data.length)throw new Error(Se+" must be valid indices for gd.data.");if(Me.indexOf(fe,ze+1)>-1||fe>=0&&Me.indexOf(-Te.data.length+fe)>-1||fe<0&&Me.indexOf(Te.data.length+fe)>-1)throw new Error("each index in "+Se+" must be unique.")}}function U(Te,Me,Se){if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(Me===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(Me)||(Me=[Me]),R(Te,Me,"currentIndices"),Se===void 0||Array.isArray(Se)||(Se=[Se]),Se!==void 0&&R(Te,Se,"newIndices"),Se!==void 0&&Me.length!==Se.length)throw new Error("current and new indices must be of equal length.")}function z(Te,Me,Se,ze,fe){(function(Xe,it,tt,pt){var mt=T.isPlainObject(pt);if(!Array.isArray(Xe.data))throw new Error("gd.data must be an array");if(!T.isPlainObject(it))throw new Error("update must be a key:value object");if(tt===void 0)throw new Error("indices must be an integer or array of integers");for(var gt in R(Xe,tt,"indices"),it){if(!Array.isArray(it[gt])||it[gt].length!==tt.length)throw new Error("attribute "+gt+" must be an array of length equal to indices array length");if(mt&&(!(gt in pt)||!Array.isArray(pt[gt])||pt[gt].length!==it[gt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(Te,Me,Se,ze);for(var xe=function(Xe,it,tt,pt){var mt,gt,et,$e,_t,Pt=T.isPlainObject(pt),Ot=[];for(var Lt in Array.isArray(tt)||(tt=[tt]),tt=O(tt,Xe.data.length-1),it)for(var He=0;He<tt.length;He++){if(mt=Xe.data[tt[He]],gt=(et=b(mt,Lt)).get(),$e=it[Lt][He],!T.isArrayOrTypedArray($e))throw new Error("attribute: "+Lt+" index: "+He+" must be an array");if(!T.isArrayOrTypedArray(gt))throw new Error("cannot extend missing or non-array attribute: "+Lt);if(gt.constructor!==$e.constructor)throw new Error("cannot extend array with an array of a different type: "+Lt);_t=Pt?pt[Lt][He]:pt,k(_t)||(_t=-1),Ot.push({prop:et,target:gt,insert:$e,maxp:Math.floor(_t)})}return Ot}(Te,Me,Se,ze),_e={},Oe={},De=0;De<xe.length;De++){var Pe=xe[De].prop,Ue=xe[De].maxp,Ve=fe(xe[De].target,xe[De].insert,Ue);Pe.set(Ve[0]),Array.isArray(_e[Pe.astr])||(_e[Pe.astr]=[]),_e[Pe.astr].push(Ve[1]),Array.isArray(Oe[Pe.astr])||(Oe[Pe.astr]=[]),Oe[Pe.astr].push(xe[De].target.length)}return{update:_e,maxPoints:Oe}}function N(Te,Me){var Se=new Te.constructor(Te.length+Me.length);return Se.set(Te),Se.set(Me,Te.length),Se}function W(Te,Me,Se,ze){Te=T.getGraphDiv(Te),y.clearPromiseQueue(Te);var fe={};if(typeof Me=="string")fe[Me]=Se;else{if(!T.isPlainObject(Me))return T.warn("Restyle fail.",Me,Se,ze),Promise.reject();fe=T.extendFlat({},Me),ze===void 0&&(ze=Se)}Object.keys(fe).length&&(Te.changed=!0);var xe=y.coerceTraceIndices(Te,ze),_e=te(Te,fe,xe),Oe=_e.flags;Oe.calc&&(Te.calcdata=void 0),Oe.clearAxisTypes&&y.clearAxisTypes(Te,xe,{});var De=[];Oe.fullReplot?De.push(D._doPlot):(De.push(r.previousPromises),r.supplyDefaults(Te),Oe.markerSize&&(r.doCalcdata(Te),X(De)),Oe.style&&De.push(x.doTraceStyle),Oe.colorbars&&De.push(x.doColorBars),De.push(w)),De.push(r.rehover,r.redrag,r.reselect),s.add(Te,W,[Te,_e.undoit,_e.traces],W,[Te,_e.redoit,_e.traces]);var Pe=T.syncOrAsync(De,Te);return Pe&&Pe.then||(Pe=Promise.resolve()),Pe.then(function(){return Te.emit("plotly_restyle",_e.eventData),Te})}function F(Te){return Te===void 0?null:Te}function V(Te,Me){return Me?function(Se,ze,fe){var xe=b(Se,ze),_e=xe.set;return xe.set=function(Oe){j((fe||"")+ze,xe.get(),Oe,Te),_e(Oe)},xe}:b}function j(Te,Me,Se,ze){if(Array.isArray(Me)||Array.isArray(Se))for(var fe=Array.isArray(Me)?Me:[],xe=Array.isArray(Se)?Se:[],_e=Math.max(fe.length,xe.length),Oe=0;Oe<_e;Oe++)j(Te+"["+Oe+"]",fe[Oe],xe[Oe],ze);else if(T.isPlainObject(Me)||T.isPlainObject(Se)){var De=T.isPlainObject(Me)?Me:{},Pe=T.isPlainObject(Se)?Se:{},Ue=T.extendFlat({},De,Pe);for(var Ve in Ue)j(Te+"."+Ve,De[Ve],Pe[Ve],ze)}else ze[Te]===void 0&&(ze[Te]=F(Me))}function te(Te,Me,Se){var ze,fe=Te._fullLayout,xe=Te._fullData,_e=Te.data,Oe=fe._guiEditing,De=V(fe._preGUI,Oe),Pe=T.extendDeepAll({},Me);J(Me);var Ue,Ve=_.traceFlags(),Xe={},it={};function tt(){return Se.map(function(){})}function pt(Nt){var jt=n.id2name(Nt);Ue.indexOf(jt)===-1&&Ue.push(jt)}function mt(Nt){return"LAYOUT"+Nt+".autorange"}function gt(Nt){return"LAYOUT"+Nt+".range"}function et(Nt){for(var jt=Nt;jt<xe.length;jt++)if(xe[jt]._input===_e[Nt])return xe[jt]}function $e(Nt,jt,Jt){if(Array.isArray(Nt))Nt.forEach(function(un){$e(un,jt,Jt)});else if(!(Nt in Me)&&!y.hasParent(Me,Nt)){var An;if(Nt.substr(0,6)==="LAYOUT")An=De(Te.layout,Nt.replace("LAYOUT",""));else{var _n=Se[Jt];An=V(fe._tracePreGUI[et(_n)._fullInput.uid],Oe)(_e[_n],Nt)}Nt in it||(it[Nt]=tt()),it[Nt][Jt]===void 0&&(it[Nt][Jt]=F(An.get())),jt!==void 0&&An.set(jt)}}function _t(Nt){return function(jt){return xe[jt][Nt]}}function Pt(Nt){return function(jt,Jt){return jt===!1?xe[Se[Jt]][Nt]:null}}for(var Ot in Me){if(y.hasParent(Me,Ot))throw new Error("cannot set "+Ot+" and a parent attribute simultaneously");var Lt,He,We,Be,Ge,at,nt=Me[Ot];if(Ot!=="autobinx"&&Ot!=="autobiny"||(Ot=Ot.charAt(Ot.length-1)+"bins",nt=Array.isArray(nt)?nt.map(Pt(Ot)):nt===!1?Se.map(_t(Ot)):null),Xe[Ot]=nt,Ot.substr(0,6)!=="LAYOUT"){for(it[Ot]=tt(),ze=0;ze<Se.length;ze++)if(Lt=_e[Se[ze]],He=et(Se[ze]),Be=(We=V(fe._tracePreGUI[He._fullInput.uid],Oe)(Lt,Ot)).get(),(Ge=Array.isArray(nt)?nt[ze%nt.length]:nt)!==void 0){var Re=We.parts[We.parts.length-1],Fe=Ot.substr(0,Ot.length-Re.length-1),rt=Fe?Fe+".":"",Ye=Fe?b(He,Fe).get():He;if((at=i.getTraceValObject(He,We.parts))&&at.impliedEdits&&Ge!==null)for(var ct in at.impliedEdits)$e(T.relativeAttr(Ot,ct),at.impliedEdits[ct],ze);else if(Re!=="thicknessmode"&&Re!=="lenmode"||Be===Ge||Ge!=="fraction"&&Ge!=="pixels"||!Ye){if(Ot==="type"&&(Ge==="pie"!=(Be==="pie")||Ge==="funnelarea"!=(Be==="funnelarea"))){var ht="x",dt="y";Ge!=="bar"&&Be!=="bar"||Lt.orientation!=="h"||(ht="y",dt="x"),T.swapAttrs(Lt,["?","?src"],"labels",ht),T.swapAttrs(Lt,["d?","?0"],"label",ht),T.swapAttrs(Lt,["?","?src"],"values",dt),Be==="pie"||Be==="funnelarea"?(b(Lt,"marker.color").set(b(Lt,"marker.colors").get()),fe._pielayer.selectAll("g.trace").remove()):t.traceIs(Lt,"cartesian")&&b(Lt,"marker.colors").set(b(Lt,"marker.color").get())}}else{var ut=fe._size,kt=Ye.orient,xt=kt==="top"||kt==="bottom";if(Re==="thicknessmode"){var vt=xt?ut.h:ut.w;$e(rt+"thickness",Ye.thickness*(Ge==="fraction"?1/vt:vt),ze)}else{var Mt=xt?ut.w:ut.h;$e(rt+"len",Ye.len*(Ge==="fraction"?1/Mt:Mt),ze)}}if(it[Ot][ze]=F(Be),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ot)!==-1){if(Ot==="orientation"){We.set(Ge);var St=Lt.x&&!Lt.y?"h":"v";if((We.get()||St)===He.orientation)continue}else Ot==="orientationaxes"&&(Lt.orientation={v:"h",h:"v"}[He.orientation]);y.swapXYData(Lt),Ve.calc=Ve.clearAxisTypes=!0}else r.dataArrayContainers.indexOf(We.parts[0])!==-1?(y.manageArrayContainers(We,Ge,it),Ve.calc=!0):(at?at.arrayOk&&!t.traceIs(He,"regl")&&(T.isArrayOrTypedArray(Ge)||T.isArrayOrTypedArray(Be))?Ve.calc=!0:_.update(Ve,at):Ve.calc=!0,We.set(Ge))}if(["swapxyaxes","orientationaxes"].indexOf(Ot)!==-1&&n.swap(Te,Se),Ot==="orientationaxes"){var It=b(Te.layout,"hovermode"),Gt=It.get();Gt==="x"?It.set("y"):Gt==="y"?It.set("x"):Gt==="x unified"?It.set("y unified"):Gt==="y unified"&&It.set("x unified")}if(["orientation","type"].indexOf(Ot)!==-1){for(Ue=[],ze=0;ze<Se.length;ze++){var en=_e[Se[ze]];t.traceIs(en,"cartesian")&&(pt(en.xaxis||"x"),pt(en.yaxis||"y"))}$e(Ue.map(mt),!0,0),$e(Ue.map(gt),[0,1],0)}}else We=De(Te.layout,Ot.replace("LAYOUT","")),it[Ot]=[F(We.get())],We.set(Array.isArray(nt)?nt[0]:nt),Ve.calc=!0}return(Ve.calc||Ve.plot)&&(Ve.fullReplot=!0),{flags:Ve,undoit:it,redoit:Xe,traces:Se,eventData:T.extendDeepNoArrays([],[Pe,Se])}}function J(Te){var Me,Se,ze,fe=T.counterRegex("axis",".title",!1,!1),xe=/colorbar\.title$/,_e=Object.keys(Te);for(Me=0;Me<_e.length;Me++)Se=_e[Me],ze=Te[Se],Se!=="title"&&!fe.test(Se)&&!xe.test(Se)||typeof ze!="string"&&typeof ze!="number"?Se.indexOf("titlefont")>-1&&Se.indexOf("grouptitlefont")===-1?Oe(Se,Se.replace("titlefont","title.font")):Se.indexOf("titleposition")>-1?Oe(Se,Se.replace("titleposition","title.position")):Se.indexOf("titleside")>-1?Oe(Se,Se.replace("titleside","title.side")):Se.indexOf("titleoffset")>-1&&Oe(Se,Se.replace("titleoffset","title.offset")):Oe(Se,Se.replace("title","title.text"));function Oe(De,Pe){Te[Pe]=Te[De],delete Te[De]}}function K(Te,Me,Se){Te=T.getGraphDiv(Te),y.clearPromiseQueue(Te);var ze={};if(typeof Me=="string")ze[Me]=Se;else{if(!T.isPlainObject(Me))return T.warn("Relayout fail.",Me,Se),Promise.reject();ze=T.extendFlat({},Me)}Object.keys(ze).length&&(Te.changed=!0);var fe=ie(Te,ze),xe=fe.flags;xe.calc&&(Te.calcdata=void 0);var _e=[r.previousPromises];xe.layoutReplot?_e.push(x.layoutReplot):Object.keys(ze).length&&(Z(Te,xe,fe)||r.supplyDefaults(Te),xe.legend&&_e.push(x.doLegend),xe.layoutstyle&&_e.push(x.layoutStyles),xe.axrange&&X(_e,fe.rangesAltered),xe.ticks&&_e.push(x.doTicksRelayout),xe.modebar&&_e.push(x.doModeBar),xe.camera&&_e.push(x.doCamera),xe.colorbars&&_e.push(x.doColorBars),_e.push(w)),_e.push(r.rehover,r.redrag,r.reselect),s.add(Te,K,[Te,fe.undoit],K,[Te,fe.redoit]);var Oe=T.syncOrAsync(_e,Te);return Oe&&Oe.then||(Oe=Promise.resolve(Te)),Oe.then(function(){return Te.emit("plotly_relayout",fe.eventData),Te})}function Z(Te,Me,Se){var ze,fe,xe=Te._fullLayout;if(!Me.axrange)return!1;for(var _e in Me)if(_e!=="axrange"&&Me[_e])return!1;var Oe=function(it,tt){return T.coerce(ze,fe,l,it,tt)},De={};for(var Pe in Se.rangesAltered){var Ue=n.id2name(Pe);if(ze=Te.layout[Ue],fe=xe[Ue],o(ze,fe,Oe,De),fe._matchGroup){for(var Ve in fe._matchGroup)if(Ve!==Pe){var Xe=xe[n.id2name(Ve)];Xe.autorange=fe.autorange,Xe.range=fe.range.slice(),Xe._input.range=fe.range.slice()}}}return!0}function X(Te,Me){var Se=Me?function(ze){var fe=[];for(var xe in Me){var _e=n.getFromId(ze,xe);if(fe.push(xe),(_e.ticklabelposition||"").indexOf("inside")!==-1&&_e._anchorAxis&&fe.push(_e._anchorAxis._id),_e._matchGroup)for(var Oe in _e._matchGroup)Me[Oe]||fe.push(Oe)}return n.draw(ze,fe,{skipTitle:!0})}:function(ze){return n.draw(ze,"redraw")};Te.push(f,x.doAutoRangeAndConstraints,Se,x.drawData,x.finalDraw)}var Q=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,re=/^[xyz]axis[0-9]*\.autorange$/,ae=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ie(Te,Me){var Se,ze,fe,xe=Te.layout,_e=Te._fullLayout,Oe=_e._guiEditing,De=V(_e._preGUI,Oe),Pe=Object.keys(Me),Ue=n.list(Te),Ve=T.extendDeepAll({},Me),Xe={};for(J(Me),Pe=Object.keys(Me),ze=0;ze<Pe.length;ze++)if(Pe[ze].indexOf("allaxes")===0){for(fe=0;fe<Ue.length;fe++){var it=Ue[fe]._id.substr(1),tt=it.indexOf("scene")!==-1?it+".":"",pt=Pe[ze].replace("allaxes",tt+Ue[fe]._name);Me[pt]||(Me[pt]=Me[Pe[ze]])}delete Me[Pe[ze]]}var mt=_.layoutFlags(),gt={},et={};function $e(un,Wt){if(Array.isArray(un))un.forEach(function($t){$e($t,Wt)});else if(!(un in Me)&&!y.hasParent(Me,un)){var rn=De(xe,un);un in et||(et[un]=F(rn.get())),Wt!==void 0&&rn.set(Wt)}}var _t,Pt={};function Ot(un){var Wt=n.name2id(un.split(".")[0]);return Pt[Wt]=1,Wt}for(var Lt in Me){if(y.hasParent(Me,Lt))throw new Error("cannot set "+Lt+" and a parent attribute simultaneously");for(var He=De(xe,Lt),We=Me[Lt],Be=He.parts.length-1;Be>0&&typeof He.parts[Be]!="string";)Be--;var Ge=He.parts[Be],at=He.parts[Be-1]+"."+Ge,nt=He.parts.slice(0,Be).join("."),Re=b(Te.layout,nt).get(),Fe=b(_e,nt).get(),rt=He.get();if(We!==void 0){gt[Lt]=We,et[Lt]=Ge==="reverse"?We:F(rt);var Ye=i.getLayoutValObject(_e,He.parts);if(Ye&&Ye.impliedEdits&&We!==null)for(var ct in Ye.impliedEdits)$e(T.relativeAttr(Lt,ct),Ye.impliedEdits[ct]);if(["width","height"].indexOf(Lt)!==-1)if(We){$e("autosize",null);var ht=Lt==="height"?"width":"height";$e(ht,_e[ht])}else _e[Lt]=Te._initialAutoSize[Lt];else if(Lt==="autosize")$e("width",We?null:_e.width),$e("height",We?null:_e.height);else if(at.match(Q))Ot(at),b(_e,nt+"._inputRange").set(null);else if(at.match(re)){Ot(at),b(_e,nt+"._inputRange").set(null);var dt=b(_e,nt).get();dt._inputDomain&&(dt._input.domain=dt._inputDomain.slice())}else at.match(ae)&&b(_e,nt+"._inputDomain").set(null);if(Ge==="type"){_t=Re;var ut=Fe.type==="linear"&&We==="log",kt=Fe.type==="log"&&We==="linear";if(ut||kt){if(_t&&_t.range)if(Fe.autorange)ut&&(_t.range=_t.range[1]>_t.range[0]?[1,2]:[2,1]);else{var xt=_t.range[0],vt=_t.range[1];ut?(xt<=0&&vt<=0&&$e(nt+".autorange",!0),xt<=0?xt=vt/1e6:vt<=0&&(vt=xt/1e6),$e(nt+".range[0]",Math.log(xt)/Math.LN10),$e(nt+".range[1]",Math.log(vt)/Math.LN10)):($e(nt+".range[0]",Math.pow(10,xt)),$e(nt+".range[1]",Math.pow(10,vt)))}else $e(nt+".autorange",!0);Array.isArray(_e._subplots.polar)&&_e._subplots.polar.length&&_e[He.parts[0]]&&He.parts[1]==="radialaxis"&&delete _e[He.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Te,Fe,We,$e),t.getComponentMethod("images","convertCoords")(Te,Fe,We,$e)}else $e(nt+".autorange",!0),$e(nt+".range",null);b(_e,nt+"._inputRange").set(null)}else if(Ge.match(h)){var Mt=b(_e,Lt).get(),St=(We||{}).type;St&&St!=="-"||(St="linear"),t.getComponentMethod("annotations","convertCoords")(Te,Mt,St,$e),t.getComponentMethod("images","convertCoords")(Te,Mt,St,$e)}var It=v.containerArrayMatch(Lt);if(It){Se=It.array,ze=It.index;var Gt=It.property,en=Ye||{editType:"calc"};ze!==""&&Gt===""&&(v.isAddVal(We)?et[Lt]=null:v.isRemoveVal(We)?et[Lt]=(b(xe,Se).get()||[])[ze]:T.warn("unrecognized full object value",Me)),_.update(mt,en),Xe[Se]||(Xe[Se]={});var Nt=Xe[Se][ze];Nt||(Nt=Xe[Se][ze]={}),Nt[Gt]=We,delete Me[Lt]}else Ge==="reverse"?(Re.range?Re.range.reverse():($e(nt+".autorange",!0),Re.range=[1,0]),Fe.autorange?mt.calc=!0:mt.plot=!0):(Lt==="dragmode"&&(We===!1&&rt!==!1||We!==!1&&rt===!1)||_e._has("scatter-like")&&_e._has("regl")&&Lt==="dragmode"&&(We==="lasso"||We==="select")&&rt!=="lasso"&&rt!=="select"||_e._has("gl2d")?mt.plot=!0:Ye?_.update(mt,Ye):mt.calc=!0,He.set(We))}}for(Se in Xe)v.applyContainerArrayChanges(Te,De(xe,Se),Xe[Se],mt,De)||(mt.plot=!0);for(var jt in Pt){var Jt=(_t=n.getFromId(Te,jt))&&_t._constraintGroup;if(Jt)for(var An in mt.calc=!0,Jt)Pt[An]||(n.getFromId(Te,An)._constraintShrinkable=!0)}(le(Te)||Me.height||Me.width)&&(mt.plot=!0);var _n=_e.shapes;for(ze=0;ze<_n.length;ze++)if(_n[ze].showlegend){mt.calc=!0;break}return(mt.plot||mt.calc)&&(mt.layoutReplot=!0),{flags:mt,rangesAltered:Pt,undoit:et,redoit:gt,eventData:Ve}}function le(Te){var Me=Te._fullLayout,Se=Me.width,ze=Me.height;return Te.layout.autosize&&r.plotAutoSize(Te,Te.layout,Me),Me.width!==Se||Me.height!==ze}function pe(Te,Me,Se,ze){Te=T.getGraphDiv(Te),y.clearPromiseQueue(Te),T.isPlainObject(Me)||(Me={}),T.isPlainObject(Se)||(Se={}),Object.keys(Me).length&&(Te.changed=!0),Object.keys(Se).length&&(Te.changed=!0);var fe=y.coerceTraceIndices(Te,ze),xe=te(Te,T.extendFlat({},Me),fe),_e=xe.flags,Oe=ie(Te,T.extendFlat({},Se)),De=Oe.flags;(_e.calc||De.calc)&&(Te.calcdata=void 0),_e.clearAxisTypes&&y.clearAxisTypes(Te,fe,Se);var Pe=[];De.layoutReplot?Pe.push(x.layoutReplot):_e.fullReplot?Pe.push(D._doPlot):(Pe.push(r.previousPromises),Z(Te,De,Oe)||r.supplyDefaults(Te),_e.style&&Pe.push(x.doTraceStyle),(_e.colorbars||De.colorbars)&&Pe.push(x.doColorBars),De.legend&&Pe.push(x.doLegend),De.layoutstyle&&Pe.push(x.layoutStyles),De.axrange&&X(Pe,Oe.rangesAltered),De.ticks&&Pe.push(x.doTicksRelayout),De.modebar&&Pe.push(x.doModeBar),De.camera&&Pe.push(x.doCamera),Pe.push(w)),Pe.push(r.rehover,r.redrag,r.reselect),s.add(Te,pe,[Te,xe.undoit,Oe.undoit,xe.traces],pe,[Te,xe.redoit,Oe.redoit,xe.traces]);var Ue=T.syncOrAsync(Pe,Te);return Ue&&Ue.then||(Ue=Promise.resolve(Te)),Ue.then(function(){return Te.emit("plotly_update",{data:xe.eventData,layout:Oe.eventData}),Te})}function de(Te){return function(Me){Me._fullLayout._guiEditing=!0;var Se=Te.apply(null,arguments);return Me._fullLayout._guiEditing=!1,Se}}var ve=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],be=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function me(Te,Me){for(var Se=0;Se<Me.length;Se++){var ze=Me[Se],fe=Te.match(ze.pattern);if(fe){var xe=fe[1]||"";return{head:xe,tail:Te.substr(xe.length+1),attr:ze.attr}}}}function ge(Te,Me){var Se=b(Me,Te).get();if(Se!==void 0)return Se;var ze=Te.split(".");for(ze.pop();ze.length>1;)if(ze.pop(),(Se=b(Me,ze.join(".")+".uirevision").get())!==void 0)return Se;return Me.uirevision}function ke(Te,Me){for(var Se=0;Se<Me.length;Se++)if(Me[Se]._fullInput.uid===Te)return Se;return-1}function we(Te,Me,Se){for(var ze=0;ze<Me.length;ze++)if(Me[ze].uid===Te)return ze;return!Me[Se]||Me[Se].uid?-1:Se}function ue(Te,Me){var Se=T.isPlainObject(Te),ze=Array.isArray(Te);return Se||ze?(Se&&T.isPlainObject(Me)||ze&&Array.isArray(Me))&&JSON.stringify(Te)===JSON.stringify(Me):Te===Me}function oe(Te,Me,Se,ze){var fe,xe,_e,Oe=ze.getValObject,De=ze.flags,Pe=ze.immutable,Ue=ze.inArray,Ve=ze.arrayIndex;function Xe(){var Re=fe.editType;Ue&&Re.indexOf("arraydraw")!==-1?T.pushUnique(De.arrays[Ue],Ve):(_.update(De,fe),Re!=="none"&&De.nChanges++,ze.transition&&fe.anim&&De.nChangesAnim++,(Q.test(_e)||re.test(_e))&&(De.rangesAltered[Se[0]]=1),ae.test(_e)&&b(Me,"_inputDomain").set(null),xe==="datarevision"&&(De.newDataRevision=1))}function it(Re){return Re.valType==="data_array"||Re.arrayOk}for(xe in Te){if(De.calc&&!ze.transition)return;var tt=Te[xe],pt=Me[xe],mt=Se.concat(xe);if(_e=mt.join("."),xe.charAt(0)!=="_"&&typeof tt!="function"&&tt!==pt){if((xe==="tick0"||xe==="dtick")&&Se[0]!=="geo"){var gt=Me.tickmode;if(gt==="auto"||gt==="array"||!gt)continue}if((xe!=="range"||!Me.autorange)&&(xe!=="zmin"&&xe!=="zmax"||Me.type!=="contourcarpet")&&(fe=Oe(mt))&&(!fe._compareAsJSON||JSON.stringify(tt)!==JSON.stringify(pt))){var et,$e=fe.valType,_t=it(fe),Pt=Array.isArray(tt),Ot=Array.isArray(pt);if(Pt&&Ot){var Lt="_input_"+xe,He=Te[Lt],We=Me[Lt];if(Array.isArray(He)&&He===We)continue}if(pt===void 0)_t&&Pt?De.calc=!0:Xe();else if(fe._isLinkedToArray){var Be=[],Ge=!1;Ue||(De.arrays[xe]=Be);var at=Math.min(tt.length,pt.length),nt=Math.max(tt.length,pt.length);if(at!==nt){if(fe.editType!=="arraydraw"){Xe();continue}Ge=!0}for(et=0;et<at;et++)oe(tt[et],pt[et],mt.concat(et),T.extendFlat({inArray:xe,arrayIndex:et},ze));if(Ge)for(et=at;et<nt;et++)Be.push(et)}else!$e&&T.isPlainObject(tt)?oe(tt,pt,mt,ze):_t?Pt&&Ot?(Pe&&(De.calc=!0),(Pe||ze.newDataRevision)&&Xe()):Pt!==Ot?De.calc=!0:Xe():Pt&&Ot&&tt.length===pt.length&&String(tt)===String(pt)||Xe()}}}for(xe in Me)if(!(xe in Te)&&xe.charAt(0)!=="_"&&typeof Me[xe]!="function"){if(it(fe=Oe(Se.concat(xe)))&&Array.isArray(Me[xe]))return void(De.calc=!0);Xe()}}function he(Te,Me){var Se;for(Se in Te)if(Se.charAt(0)!=="_"){var ze=Te[Se],fe=Me[Se];if(ze!==fe)if(T.isPlainObject(ze)&&T.isPlainObject(fe)){if(he(ze,fe))return!0}else{if(!Array.isArray(ze)||!Array.isArray(fe)||ze.length!==fe.length)return!0;for(var xe=0;xe<ze.length;xe++)if(ze[xe]!==fe[xe]&&(!T.isPlainObject(ze[xe])||!T.isPlainObject(fe[xe])||he(ze[xe],fe[xe])))return!0}}}function Ee(Te){var Me=Te._fullLayout,Se=Te.getBoundingClientRect();if(!T.equalDomRects(Se,Me._lastBBox)){var ze=Me._invTransform=T.inverseTransformMatrix(T.getFullTransformMatrix(Te));Me._invScaleX=Math.sqrt(ze[0][0]*ze[0][0]+ze[0][1]*ze[0][1]+ze[0][2]*ze[0][2]),Me._invScaleY=Math.sqrt(ze[1][0]*ze[1][0]+ze[1][1]*ze[1][1]+ze[1][2]*ze[1][2]),Me._lastBBox=Se}}D.animate=function(Te,Me,Se){if(Te=T.getGraphDiv(Te),!T.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ze=Te._transitionData;ze._frameQueue||(ze._frameQueue=[]);var fe=(Se=r.supplyAnimationDefaults(Se)).transition,xe=Se.frame;function _e(Pe){return Array.isArray(fe)?Pe>=fe.length?fe[0]:fe[Pe]:fe}function Oe(Pe){return Array.isArray(xe)?Pe>=xe.length?xe[0]:xe[Pe]:xe}function De(Pe,Ue){var Ve=0;return function(){if(Pe&&++Ve===Ue)return Pe()}}return ze._frameWaitingCnt===void 0&&(ze._frameWaitingCnt=0),new Promise(function(Pe,Ue){function Ve(){Te.emit("plotly_animating"),ze._lastFrameAt=-1/0,ze._timeToNext=0,ze._runningTransitions=0,ze._currentFrame=null;var Lt=function(){ze._animationRaf=window.requestAnimationFrame(Lt),Date.now()-ze._lastFrameAt>ze._timeToNext&&function(){ze._currentFrame&&ze._currentFrame.onComplete&&ze._currentFrame.onComplete();var He=ze._currentFrame=ze._frameQueue.shift();if(He){var We=He.name?He.name.toString():null;Te._fullLayout._currentFrame=We,ze._lastFrameAt=Date.now(),ze._timeToNext=He.frameOpts.duration,r.transition(Te,He.frame.data,He.frame.layout,y.coerceTraceIndices(Te,He.frame.traces),He.frameOpts,He.transitionOpts).then(function(){He.onComplete&&He.onComplete()}),Te.emit("plotly_animatingframe",{name:We,frame:He.frame,animation:{frame:He.frameOpts,transition:He.transitionOpts}})}else Te.emit("plotly_animated"),window.cancelAnimationFrame(ze._animationRaf),ze._animationRaf=null}()};Lt()}var Xe,it,tt=0;function pt(Lt){return Array.isArray(fe)?tt>=fe.length?Lt.transitionOpts=fe[tt]:Lt.transitionOpts=fe[0]:Lt.transitionOpts=fe,tt++,Lt}var mt=[],gt=Me==null,et=Array.isArray(Me);if(gt||et||!T.isPlainObject(Me)){if(gt||["string","number"].indexOf(typeof Me)!==-1)for(Xe=0;Xe<ze._frames.length;Xe++)(it=ze._frames[Xe])&&(gt||String(it.group)===String(Me))&&mt.push({type:"byname",name:String(it.name),data:pt({name:it.name})});else if(et)for(Xe=0;Xe<Me.length;Xe++){var $e=Me[Xe];["number","string"].indexOf(typeof $e)!==-1?($e=String($e),mt.push({type:"byname",name:$e,data:pt({name:$e})})):T.isPlainObject($e)&&mt.push({type:"object",data:pt(T.extendFlat({},$e))})}}else mt.push({type:"object",data:pt(T.extendFlat({},Me))});for(Xe=0;Xe<mt.length;Xe++)if((it=mt[Xe]).type==="byname"&&!ze._frameHash[it.data.name])return T.warn('animate failure: frame not found: "'+it.data.name+'"'),void Ue();["next","immediate"].indexOf(Se.mode)!==-1&&function(){if(ze._frameQueue.length!==0){for(;ze._frameQueue.length;){var Lt=ze._frameQueue.pop();Lt.onInterrupt&&Lt.onInterrupt()}Te.emit("plotly_animationinterrupted",[])}}(),Se.direction==="reverse"&&mt.reverse();var _t=Te._fullLayout._currentFrame;if(_t&&Se.fromcurrent){var Pt=-1;for(Xe=0;Xe<mt.length;Xe++)if((it=mt[Xe]).type==="byname"&&it.name===_t){Pt=Xe;break}if(Pt>0&&Pt<mt.length-1){var Ot=[];for(Xe=0;Xe<mt.length;Xe++)it=mt[Xe],(mt[Xe].type!=="byname"||Xe>Pt)&&Ot.push(it);mt=Ot}}mt.length>0?function(Lt){if(Lt.length!==0){for(var He=0;He<Lt.length;He++){var We;We=Lt[He].type==="byname"?r.computeFrame(Te,Lt[He].name):Lt[He].data;var Be=Oe(He),Ge=_e(He);Ge.duration=Math.min(Ge.duration,Be.duration);var at={frame:We,name:Lt[He].name,frameOpts:Be,transitionOpts:Ge};He===Lt.length-1&&(at.onComplete=De(Pe,2),at.onInterrupt=Ue),ze._frameQueue.push(at)}Se.mode==="immediate"&&(ze._lastFrameAt=-1/0),ze._animationRaf||Ve()}}(mt):(Te.emit("plotly_animated"),Pe())})},D.addFrames=function(Te,Me,Se){if(Te=T.getGraphDiv(Te),Me==null)return Promise.resolve();if(!T.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ze,fe,xe,_e,Oe=Te._transitionData._frames,De=Te._transitionData._frameHash;if(!Array.isArray(Me))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Me);var Pe=Oe.length+2*Me.length,Ue=[],Ve={};for(ze=Me.length-1;ze>=0;ze--)if(T.isPlainObject(Me[ze])){var Xe=Me[ze].name,it=(De[Xe]||Ve[Xe]||{}).name,tt=Me[ze].name,pt=De[it]||Ve[it];it&&tt&&typeof tt=="number"&&pt&&S<5&&(S++,T.warn('addFrames: overwriting frame "'+(De[it]||Ve[it]).name+'" with a frame whose name of type "number" also equates to "'+it+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===5&&T.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Ve[Xe]={name:Xe},Ue.push({frame:r.supplyFrameDefaults(Me[ze]),index:Se&&Se[ze]!==void 0&&Se[ze]!==null?Se[ze]:Pe+ze})}Ue.sort(function(Lt,He){return Lt.index>He.index?-1:Lt.index<He.index?1:0});var mt=[],gt=[],et=Oe.length;for(ze=Ue.length-1;ze>=0;ze--){if(typeof(fe=Ue[ze].frame).name=="number"&&T.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!fe.name)for(;De[fe.name="frame "+Te._transitionData._counter++];);if(De[fe.name]){for(xe=0;xe<Oe.length&&(Oe[xe]||{}).name!==fe.name;xe++);mt.push({type:"replace",index:xe,value:fe}),gt.unshift({type:"replace",index:xe,value:Oe[xe]})}else _e=Math.max(0,Math.min(Ue[ze].index,et)),mt.push({type:"insert",index:_e,value:fe}),gt.unshift({type:"delete",index:_e}),et++}var $e=r.modifyFrames,_t=r.modifyFrames,Pt=[Te,gt],Ot=[Te,mt];return s&&s.add(Te,$e,Pt,_t,Ot),r.modifyFrames(Te,mt)},D.deleteFrames=function(Te,Me){if(Te=T.getGraphDiv(Te),!T.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);var Se,ze,fe=Te._transitionData._frames,xe=[],_e=[];if(!Me)for(Me=[],Se=0;Se<fe.length;Se++)Me.push(Se);for((Me=Me.slice()).sort(),Se=Me.length-1;Se>=0;Se--)ze=Me[Se],xe.push({type:"delete",index:ze}),_e.unshift({type:"insert",index:ze,value:fe[ze]});var Oe=r.modifyFrames,De=r.modifyFrames,Pe=[Te,_e],Ue=[Te,xe];return s&&s.add(Te,Oe,Pe,De,Ue),r.modifyFrames(Te,xe)},D.addTraces=function Te(Me,Se,ze){Me=T.getGraphDiv(Me);var fe,xe,_e=[],Oe=D.deleteTraces,De=Te,Pe=[Me,_e],Ue=[Me,Se];for(function(Ve,Xe,it){var tt,pt;if(!Array.isArray(Ve.data))throw new Error("gd.data must be an array.");if(Xe===void 0)throw new Error("traces must be defined.");for(Array.isArray(Xe)||(Xe=[Xe]),tt=0;tt<Xe.length;tt++)if(typeof(pt=Xe[tt])!="object"||Array.isArray(pt)||pt===null)throw new Error("all values in traces array must be non-array objects");if(it===void 0||Array.isArray(it)||(it=[it]),it!==void 0&&it.length!==Xe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Me,Se,ze),Array.isArray(Se)||(Se=[Se]),Se=Se.map(function(Ve){return T.extendFlat({},Ve)}),y.cleanData(Se),fe=0;fe<Se.length;fe++)Me.data.push(Se[fe]);for(fe=0;fe<Se.length;fe++)_e.push(-Se.length+fe);if(ze===void 0)return xe=D.redraw(Me),s.add(Me,Oe,Pe,De,Ue),xe;Array.isArray(ze)||(ze=[ze]);try{U(Me,_e,ze)}catch(Ve){throw Me.data.splice(Me.data.length-Se.length,Se.length),Ve}return s.startSequence(Me),s.add(Me,Oe,Pe,De,Ue),xe=D.moveTraces(Me,_e,ze),s.stopSequence(Me),xe},D.deleteTraces=function Te(Me,Se){Me=T.getGraphDiv(Me);var ze,fe,xe=[],_e=D.addTraces,Oe=Te,De=[Me,xe,Se],Pe=[Me,Se];if(Se===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Se)||(Se=[Se]),R(Me,Se,"indices"),(Se=O(Se,Me.data.length-1)).sort(T.sorterDes),ze=0;ze<Se.length;ze+=1)fe=Me.data.splice(Se[ze],1)[0],xe.push(fe);var Ue=D.redraw(Me);return s.add(Me,_e,De,Oe,Pe),Ue},D.extendTraces=function Te(Me,Se,ze,fe){var xe=z(Me=T.getGraphDiv(Me),Se,ze,fe,function(De,Pe,Ue){var Ve,Xe;if(T.isTypedArray(De))if(Ue<0){var it=new De.constructor(0),tt=N(De,Pe);Ue<0?(Ve=tt,Xe=it):(Ve=it,Xe=tt)}else if(Ve=new De.constructor(Ue),Xe=new De.constructor(De.length+Pe.length-Ue),Ue===Pe.length)Ve.set(Pe),Xe.set(De);else if(Ue<Pe.length){var pt=Pe.length-Ue;Ve.set(Pe.subarray(pt)),Xe.set(De),Xe.set(Pe.subarray(0,pt),De.length)}else{var mt=Ue-Pe.length,gt=De.length-mt;Ve.set(De.subarray(gt)),Ve.set(Pe,mt),Xe.set(De.subarray(0,gt))}else Ve=De.concat(Pe),Xe=Ue>=0&&Ue<Ve.length?Ve.splice(0,Ve.length-Ue):[];return[Ve,Xe]}),_e=D.redraw(Me),Oe=[Me,xe.update,ze,xe.maxPoints];return s.add(Me,D.prependTraces,Oe,Te,arguments),_e},D.moveTraces=function Te(Me,Se,ze){var fe,xe=[],_e=[],Oe=Te,De=Te,Pe=[Me=T.getGraphDiv(Me),ze,Se],Ue=[Me,Se,ze];if(U(Me,Se,ze),Se=Array.isArray(Se)?Se:[Se],ze===void 0)for(ze=[],fe=0;fe<Se.length;fe++)ze.push(-Se.length+fe);for(ze=Array.isArray(ze)?ze:[ze],Se=O(Se,Me.data.length-1),ze=O(ze,Me.data.length-1),fe=0;fe<Me.data.length;fe++)Se.indexOf(fe)===-1&&xe.push(Me.data[fe]);for(fe=0;fe<Se.length;fe++)_e.push({newIndex:ze[fe],trace:Me.data[Se[fe]]});for(_e.sort(function(Xe,it){return Xe.newIndex-it.newIndex}),fe=0;fe<_e.length;fe+=1)xe.splice(_e[fe].newIndex,0,_e[fe].trace);Me.data=xe;var Ve=D.redraw(Me);return s.add(Me,Oe,Pe,De,Ue),Ve},D.prependTraces=function Te(Me,Se,ze,fe){var xe=z(Me=T.getGraphDiv(Me),Se,ze,fe,function(De,Pe,Ue){var Ve,Xe;if(T.isTypedArray(De))if(Ue<=0){var it=new De.constructor(0),tt=N(Pe,De);Ue<0?(Ve=tt,Xe=it):(Ve=it,Xe=tt)}else if(Ve=new De.constructor(Ue),Xe=new De.constructor(De.length+Pe.length-Ue),Ue===Pe.length)Ve.set(Pe),Xe.set(De);else if(Ue<Pe.length){var pt=Pe.length-Ue;Ve.set(Pe.subarray(0,pt)),Xe.set(Pe.subarray(pt)),Xe.set(De,pt)}else{var mt=Ue-Pe.length;Ve.set(Pe),Ve.set(De.subarray(0,mt),Pe.length),Xe.set(De.subarray(mt))}else Ve=Pe.concat(De),Xe=Ue>=0&&Ue<Ve.length?Ve.splice(Ue,Ve.length):[];return[Ve,Xe]}),_e=D.redraw(Me),Oe=[Me,xe.update,ze,xe.maxPoints];return s.add(Me,D.extendTraces,Oe,Te,arguments),_e},D.newPlot=function(Te,Me,Se,ze){return Te=T.getGraphDiv(Te),r.cleanPlot([],{},Te._fullData||[],Te._fullLayout||{}),r.purge(Te),D._doPlot(Te,Me,Se,ze)},D._doPlot=function(Te,Me,Se,ze){var fe;if(Te=T.getGraphDiv(Te),g.init(Te),T.isPlainObject(Me)){var xe=Me;Me=xe.data,Se=xe.layout,ze=xe.config,fe=xe.frames}if(g.triggerHandler(Te,"plotly_beforeplot",[Me,Se,ze])===!1)return Promise.reject();Me||Se||T.isPlotDiv(Te)||T.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Te),P(Te,ze),Se||(Se={}),M.select(Te).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(Te._promises)||(Te._promises=[]);var _e=(Te.data||[]).length===0&&Array.isArray(Me);Array.isArray(Me)&&(y.cleanData(Me),_e?Te.data=Me:Te.data.push.apply(Te.data,Me),Te.empty=!1),Te.layout&&!_e||(Te.layout=y.cleanLayout(Se)),r.supplyDefaults(Te);var Oe=Te._fullLayout,De=Oe._has("cartesian");Oe._replotting=!0,(_e||Oe._shouldCreateBgLayer)&&(function(gt){var et=M.select(gt),$e=gt._fullLayout;if($e._calcInverseTransform=Ee,$e._calcInverseTransform(gt),$e._container=et.selectAll(".plot-container").data([0]),$e._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),$e._paperdiv=$e._container.selectAll(".svg-container").data([0]),$e._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),$e._glcontainer=$e._paperdiv.selectAll(".gl-container").data([{}]),$e._glcontainer.enter().append("div").classed("gl-container",!0),$e._paperdiv.selectAll(".main-svg").remove(),$e._paperdiv.select(".modebar-container").remove(),$e._paper=$e._paperdiv.insert("svg",":first-child").classed("main-svg",!0),$e._toppaper=$e._paperdiv.append("svg").classed("main-svg",!0),$e._modebardiv=$e._paperdiv.append("div"),delete $e._modeBar,$e._hoverpaper=$e._paperdiv.append("svg").classed("main-svg",!0),!$e._uid){var _t={};M.selectAll("defs").each(function(){this.id&&(_t[this.id.split("-")[1]]=1)}),$e._uid=T.randstr(_t)}$e._paperdiv.selectAll(".main-svg").attr(m.svgAttrs),$e._defs=$e._paper.append("defs").attr("id","defs-"+$e._uid),$e._clips=$e._defs.append("g").classed("clips",!0),$e._topdefs=$e._toppaper.append("defs").attr("id","topdefs-"+$e._uid),$e._topclips=$e._topdefs.append("g").classed("clips",!0),$e._bgLayer=$e._paper.append("g").classed("bglayer",!0),$e._draggers=$e._paper.append("g").classed("draglayer",!0);var Pt=$e._paper.append("g").classed("layer-below",!0);$e._imageLowerLayer=Pt.append("g").classed("imagelayer",!0),$e._shapeLowerLayer=Pt.append("g").classed("shapelayer",!0),$e._cartesianlayer=$e._paper.append("g").classed("cartesianlayer",!0),$e._polarlayer=$e._paper.append("g").classed("polarlayer",!0),$e._smithlayer=$e._paper.append("g").classed("smithlayer",!0),$e._ternarylayer=$e._paper.append("g").classed("ternarylayer",!0),$e._geolayer=$e._paper.append("g").classed("geolayer",!0),$e._funnelarealayer=$e._paper.append("g").classed("funnelarealayer",!0),$e._pielayer=$e._paper.append("g").classed("pielayer",!0),$e._iciclelayer=$e._paper.append("g").classed("iciclelayer",!0),$e._treemaplayer=$e._paper.append("g").classed("treemaplayer",!0),$e._sunburstlayer=$e._paper.append("g").classed("sunburstlayer",!0),$e._indicatorlayer=$e._toppaper.append("g").classed("indicatorlayer",!0),$e._glimages=$e._paper.append("g").classed("glimages",!0);var Ot=$e._toppaper.append("g").classed("layer-above",!0);$e._imageUpperLayer=Ot.append("g").classed("imagelayer",!0),$e._shapeUpperLayer=Ot.append("g").classed("shapelayer",!0),$e._selectionLayer=$e._toppaper.append("g").classed("selectionlayer",!0),$e._infolayer=$e._toppaper.append("g").classed("infolayer",!0),$e._menulayer=$e._toppaper.append("g").classed("menulayer",!0),$e._zoomlayer=$e._toppaper.append("g").classed("zoomlayer",!0),$e._hoverlayer=$e._hoverpaper.append("g").classed("hoverlayer",!0),$e._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),gt.emit("plotly_framework")}(Te),Oe._shouldCreateBgLayer&&delete Oe._shouldCreateBgLayer),u.initGradients(Te),u.initPatterns(Te),_e&&n.saveShowSpikeInitial(Te);var Pe=!Te.calcdata||Te.calcdata.length!==(Te._fullData||[]).length;Pe&&r.doCalcdata(Te);for(var Ue=0;Ue<Te.calcdata.length;Ue++)Te.calcdata[Ue][0].trace=Te._fullData[Ue];Te._context.responsive?Te._responsiveChartHandler||(Te._responsiveChartHandler=function(){T.isHidden(Te)||r.resize(Te)},window.addEventListener("resize",Te._responsiveChartHandler)):T.clearResponsive(Te);var Ve=T.extendFlat({},Oe._size),Xe=0;function it(){if(r.clearAutoMarginIds(Te),x.drawMarginPushers(Te),n.allowAutoMargin(Te),Te._fullLayout.title.text&&Te._fullLayout.title.automargin&&r.allowAutoMargin(Te,"title.automargin"),Oe._has("pie"))for(var gt=Te._fullData,et=0;et<gt.length;et++){var $e=gt[et];$e.type==="pie"&&$e.automargin&&r.allowAutoMargin(Te,"pie."+$e.uid+".automargin")}return r.doAutoMargin(Te),r.previousPromises(Te)}function tt(){Te._transitioning||(x.doAutoRangeAndConstraints(Te),_e&&n.saveRangeInitial(Te),t.getComponentMethod("rangeslider","calcAutorange")(Te))}var pt=[r.previousPromises,function(){if(fe)return D.addFrames(Te,fe)},function gt(){for(var et=Oe._basePlotModules,$e=0;$e<et.length;$e++)et[$e].drawFramework&&et[$e].drawFramework(Te);!Oe._glcanvas&&Oe._has("gl")&&(Oe._glcanvas=Oe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Lt){return Lt.key}),Oe._glcanvas.enter().append("canvas").attr("class",function(Lt){return"gl-canvas gl-canvas-"+Lt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var _t=Te._context.plotGlPixelRatio;if(Oe._glcanvas){Oe._glcanvas.attr("width",Oe.width*_t).attr("height",Oe.height*_t).style("width",Oe.width+"px").style("height",Oe.height+"px");var Pt=Oe._glcanvas.data()[0].regl;if(Pt&&(Math.floor(Oe.width*_t)!==Pt._gl.drawingBufferWidth||Math.floor(Oe.height*_t)!==Pt._gl.drawingBufferHeight)){var Ot="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Xe)return T.log(Ot+" Clearing graph and plotting again."),r.cleanPlot([],{},Te._fullData,Oe),r.supplyDefaults(Te),Oe=Te._fullLayout,r.doCalcdata(Te),Xe++,gt();T.error(Ot)}}return Oe.modebar.orientation==="h"?Oe._modebardiv.style("height",null).style("width","100%"):Oe._modebardiv.style("width",null).style("height",Oe.height+"px"),r.previousPromises(Te)},it,function(){if(r.didMarginChange(Ve,Oe._size))return T.syncOrAsync([it,x.layoutStyles],Te)}];De&&pt.push(function(){if(Pe)return T.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),tt],Te);tt()}),pt.push(x.layoutStyles),De&&pt.push(function(){return n.draw(Te,_e?"":"redraw")},function(gt){var et=gt._fullLayout._insideTickLabelsUpdaterange;if(et)return gt._fullLayout._insideTickLabelsUpdaterange=void 0,K(gt,et).then(function(){n.saveRangeInitial(gt,!0)})}),pt.push(x.drawData,x.finalDraw,c,r.addLinks,r.rehover,r.redrag,r.reselect,r.doAutoMargin,r.previousPromises);var mt=T.syncOrAsync(pt,Te);return mt&&mt.then||(mt=Promise.resolve()),mt.then(function(){return w(Te),Te})},D.purge=function(Te){var Me=(Te=T.getGraphDiv(Te))._fullLayout||{},Se=Te._fullData||[];return r.cleanPlot([],{},Se,Me),r.purge(Te),g.purge(Te),Me._container&&Me._container.remove(),delete Te._context,Te},D.react=function(Te,Me,Se,ze){var fe,xe;Te=T.getGraphDiv(Te),y.clearPromiseQueue(Te);var _e=Te._fullData,Oe=Te._fullLayout;if(T.isPlotDiv(Te)&&_e&&Oe){if(T.isPlainObject(Me)){var De=Me;Me=De.data,Se=De.layout,ze=De.config,fe=De.frames}var Pe=!1;if(ze){var Ue=T.extendDeep({},Te._context);Te._context=void 0,P(Te,ze),Pe=he(Ue,Te._context)}Te.data=Me||[],y.cleanData(Te.data),Te.layout=Se||{},y.cleanLayout(Te.layout),function(nt,Re,Fe,rt){var Ye,ct,ht,dt,ut,kt,xt,vt,Mt,St,It=rt._preGUI,Gt=[],en={},Nt={};for(Ye in It){if(ut=me(Ye,ve)){if(Mt=ut.head,St=ut.tail,ct=ut.attr||Mt+".uirevision",(dt=(ht=b(rt,ct).get())&&ge(ct,Re))&&dt===ht){if((kt=It[Ye])===null&&(kt=void 0),ue(vt=(xt=b(Re,Ye)).get(),kt)){vt===void 0&&St==="autorange"&&Gt.push(Mt),xt.set(F(b(rt,Ye).get()));continue}if(St==="autorange"||St.substr(0,6)==="range["){var jt=It[Mt+".range[0]"],Jt=It[Mt+".range[1]"],An=It[Mt+".autorange"];if(An||An===null&&jt===null&&Jt===null){if(!(Mt in en)){var _n=b(Re,Mt).get();en[Mt]=_n&&(_n.autorange||_n.autorange!==!1&&(!_n.range||_n.range.length!==2))}if(en[Mt]){xt.set(F(b(rt,Ye).get()));continue}}}}}else T.warn("unrecognized GUI edit: "+Ye);delete It[Ye],ut&&ut.tail.substr(0,6)==="range["&&(Nt[ut.head]=1)}for(var un=0;un<Gt.length;un++){var Wt=Gt[un];if(Nt[Wt]){var rn=b(Re,Wt).get();rn&&delete rn.autorange}}var $t=rt._tracePreGUI;for(var sn in $t){var xn,wn=$t[sn],Pn=null;for(Ye in wn){if(!Pn){var Cn=ke(sn,Fe);if(Cn<0){delete $t[sn];break}var Sn=we(sn,nt,(xn=Fe[Cn]._fullInput).index);if(Sn<0){delete $t[sn];break}Pn=nt[Sn]}if(ut=me(Ye,be)){if(ut.attr?dt=(ht=b(rt,ut.attr).get())&&ge(ut.attr,Re):(ht=xn.uirevision,(dt=Pn.uirevision)===void 0&&(dt=Re.uirevision)),dt&&dt===ht&&((kt=wn[Ye])===null&&(kt=void 0),ue(vt=(xt=b(Pn,Ye)).get(),kt))){xt.set(F(b(xn,Ye).get()));continue}}else T.warn("unrecognized GUI edit: "+Ye+" in trace uid "+sn);delete wn[Ye]}}}(Te.data,Te.layout,_e,Oe),r.supplyDefaults(Te,{skipUpdateCalc:!0});var Ve=Te._fullData,Xe=Te._fullLayout,it=Xe.datarevision===void 0,tt=Xe.transition,pt=function(nt,Re,Fe,rt,Ye){var ct=_.layoutFlags();return ct.arrays={},ct.rangesAltered={},ct.nChanges=0,ct.nChangesAnim=0,oe(Re,Fe,[],{getValObject:function(ht){return i.getLayoutValObject(Fe,ht)},flags:ct,immutable:rt,transition:Ye,gd:nt}),(ct.plot||ct.calc)&&(ct.layoutReplot=!0),Ye&&ct.nChanges&&ct.nChangesAnim&&(ct.anim=ct.nChanges===ct.nChangesAnim?"all":"some"),ct}(Te,Oe,Xe,it,tt),mt=pt.newDataRevision,gt=function(nt,Re,Fe,rt,Ye,ct){var ht=Re.length===Fe.length;if(!Ye&&!ht)return{fullReplot:!0,calc:!0};var dt,ut,kt=_.traceFlags();kt.arrays={},kt.nChanges=0,kt.nChangesAnim=0;var xt={getValObject:function(Mt){var St=i.getTraceValObject(ut,Mt);return!ut._module.animatable&&St.anim&&(St.anim=!1),St},flags:kt,immutable:rt,transition:Ye,newDataRevision:ct,gd:nt},vt={};for(dt=0;dt<Re.length;dt++)if(Fe[dt]){if(ut=Fe[dt]._fullInput,r.hasMakesDataTransform(ut)&&(ut=Fe[dt]),vt[ut.uid])continue;vt[ut.uid]=1,oe(Re[dt]._fullInput,ut,[],xt)}return(kt.calc||kt.plot)&&(kt.fullReplot=!0),Ye&&kt.nChanges&&kt.nChangesAnim&&(kt.anim=kt.nChanges===kt.nChangesAnim&&ht?"all":"some"),kt}(Te,_e,Ve,it,tt,mt);if(le(Te)&&(pt.layoutReplot=!0),gt.calc||pt.calc){Te.calcdata=void 0;for(var et=Object.getOwnPropertyNames(Xe),$e=0;$e<et.length;$e++){var _t=et[$e],Pt=_t.substring(0,5);if(Pt==="xaxis"||Pt==="yaxis"){var Ot=Xe[_t]._emptyCategories;Ot&&Ot()}}}else r.supplyDefaultsUpdateCalc(Te.calcdata,Ve);var Lt=[];if(fe&&(Te._transitionData={},r.createTransitionData(Te),Lt.push(function(){return D.addFrames(Te,fe)})),Xe.transition&&!Pe&&(gt.anim||pt.anim))pt.ticks&&Lt.push(x.doTicksRelayout),r.doCalcdata(Te),x.doAutoRangeAndConstraints(Te),Lt.push(function(){return r.transitionFromReact(Te,gt,pt,Oe)});else if(gt.fullReplot||pt.layoutReplot||Pe)Te._fullLayout._skipDefaults=!0,Lt.push(D._doPlot);else{for(var He in pt.arrays){var We=pt.arrays[He];if(We.length){var Be=t.getComponentMethod(He,"drawOne");if(Be!==T.noop)for(var Ge=0;Ge<We.length;Ge++)Be(Te,We[Ge]);else{var at=t.getComponentMethod(He,"draw");if(at===T.noop)throw new Error("cannot draw components: "+He);at(Te)}}}Lt.push(r.previousPromises),gt.style&&Lt.push(x.doTraceStyle),(gt.colorbars||pt.colorbars)&&Lt.push(x.doColorBars),pt.legend&&Lt.push(x.doLegend),pt.layoutstyle&&Lt.push(x.layoutStyles),pt.axrange&&X(Lt),pt.ticks&&Lt.push(x.doTicksRelayout),pt.modebar&&Lt.push(x.doModeBar),pt.camera&&Lt.push(x.doCamera),Lt.push(w)}Lt.push(r.rehover,r.redrag,r.reselect),(xe=T.syncOrAsync(Lt,Te))&&xe.then||(xe=Promise.resolve(Te))}else xe=D.newPlot(Te,Me,Se,ze);return xe.then(function(){return Te.emit("plotly_react",{data:Me,layout:Se}),Te})},D.redraw=function(Te){if(Te=T.getGraphDiv(Te),!T.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);return y.cleanData(Te.data),y.cleanLayout(Te.layout),Te.calcdata=void 0,D._doPlot(Te).then(function(){return Te.emit("plotly_redraw"),Te})},D.relayout=K,D.restyle=W,D.setPlotConfig=function(Te){return T.extendFlat(p,Te)},D.update=pe,D._guiRelayout=de(K),D._guiRestyle=de(W),D._guiUpdate=de(pe),D._storeDirectGUIEdit=function(Te,Me,Se){for(var ze in Se)j(ze,b(Te,ze).get(),Se[ze],Me)}},20556:function(ee){var D={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function M(k,a){for(var T in k){var b=k[T];b.valType?a[T]=b.dflt:(a[T]||(a[T]={}),M(b,a[T]))}})(D,e),ee.exports={configAttributes:D,dfltConfig:e}},73060:function(ee,D,e){var M=e(24040),k=e(3400),a=e(45464),T=e(64859),b=e(16672),g=e(85656),s=e(20556).configAttributes,t=e(67824),i=k.extendDeepAll,r=k.isPlainObject,n=k.isArrayOrTypedArray,o=k.nestedProperty,l=k.valObjectMeta,u="_isSubplotObj",d="_isLinkedToArray",c="_deprecated",m=[u,d,"_arrayAttrRegexps",c];function f(h,S,w){if(!h)return!1;if(h._isLinkedToArray){if(p(S[w]))w++;else if(w<S.length)return!1}for(;w<S.length;w++){var E=h[S[w]];if(!r(E)||(h=E,w===S.length-1))break;if(h._isLinkedToArray){if(!p(S[++w]))return!1}else if(h.valType==="info_array"){var C=S[++w];if(!p(C))return!1;var P=h.items;if(Array.isArray(P)){if(C>=P.length)return!1;if(h.dimensions===2){if(w++,S.length===w)return h;var O=S[w];if(!p(O))return!1;h=P[C][O]}else h=P[C]}else h=P}}return h}function p(h){return h===Math.round(h)&&h>=0}function v(){var h,S,w={};for(h in i(w,T),M.subplotsRegistry)if((S=M.subplotsRegistry[h]).layoutAttributes)if(Array.isArray(S.attr))for(var E=0;E<S.attr.length;E++)x(w,S,S.attr[E]);else x(w,S,S.attr==="subplot"?S.name:S.attr);for(h in M.componentsRegistry){var C=(S=M.componentsRegistry[h]).schema;if(C&&(C.subplots||C.layout)){var P=C.subplots;if(P&&P.xaxis&&!P.yaxis)for(var O in P.xaxis)delete w.yaxis[O];delete w.xaxis.shift,delete w.xaxis.autoshift}else S.name==="colorscale"?i(w,S.layoutAttributes):S.layoutAttributes&&_(w,S.layoutAttributes,S.name)}return{layoutAttributes:y(w)}}function y(h){return function(S){D.crawl(S,function(w,E,C){D.isValObject(w)?w.arrayOk!==!0&&w.valType!=="data_array"||(C[E+"src"]={valType:"string",editType:"none"}):r(w)&&(w.role="object")})}(h),function(S){D.crawl(S,function(w,E,C){if(w){var P=w[d];P&&(delete w[d],C[E]={items:{}},C[E].items[P]=w,C[E].role="object")}})}(h),function(S){(function w(E){for(var C in E)if(r(E[C]))w(E[C]);else if(Array.isArray(E[C]))for(var P=0;P<E[C].length;P++)w(E[C][P]);else E[C]instanceof RegExp&&(E[C]=E[C].toString())})(S)}(h),h}function x(h,S,w){var E=o(h,w),C=i({},S.layoutAttributes);C[u]=!0,E.set(C)}function _(h,S,w){var E=o(h,w);E.set(i(E.get()||{},S))}D.IS_SUBPLOT_OBJ=u,D.IS_LINKED_TO_ARRAY=d,D.DEPRECATED=c,D.UNDERSCORE_ATTRS=m,D.get=function(){var h={};M.allTypes.forEach(function(E){h[E]=function(C){var P,O;O=(P=M.modules[C]._module).basePlotModule;var R={type:null},U=i({},a),z=i({},P.attributes);D.crawl(z,function(F,V,j,te,J){o(U,J).set(void 0),F===void 0&&o(z,J).set(void 0)}),i(R,U),M.traceIs(C,"noOpacity")&&delete R.opacity,M.traceIs(C,"showLegend")||(delete R.showlegend,delete R.legendgroup),M.traceIs(C,"noHover")&&(delete R.hoverinfo,delete R.hoverlabel),P.selectPoints||delete R.selectedpoints,i(R,z),O.attributes&&i(R,O.attributes),R.type=C;var N={meta:P.meta||{},categories:P.categories||{},animatable:!!P.animatable,type:C,attributes:y(R)};if(P.layoutAttributes){var W={};i(W,P.layoutAttributes),N.layoutAttributes=y(W)}return P.animatable||D.crawl(N,function(F){D.isValObject(F)&&"anim"in F&&delete F.anim}),N}(E)});var S,w={};return Object.keys(M.transformsRegistry).forEach(function(E){w[E]=function(C){var P=M.transformsRegistry[C],O=i({},P.attributes);return Object.keys(M.componentsRegistry).forEach(function(R){var U=M.componentsRegistry[R];U.schema&&U.schema.transforms&&U.schema.transforms[C]&&Object.keys(U.schema.transforms[C]).forEach(function(z){_(O,U.schema.transforms[C][z],z)})}),{attributes:y(O)}}(E)}),{defs:{valObjects:l,metaKeys:m.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:h,layout:v(),transforms:w,frames:(S={frames:i({},b)},y(S),S.frames),animation:y(g),config:y(s)}},D.crawl=function(h,S,w,E){var C=w||0;E=E||"",Object.keys(h).forEach(function(P){var O=h[P];if(m.indexOf(P)===-1){var R=(E?E+".":"")+P;S(O,P,h,C,R),D.isValObject(O)||r(O)&&P!=="impliedEdits"&&D.crawl(O,S,C+1,R)}})},D.isValObject=function(h){return h&&h.valType!==void 0},D.findArrayAttributes=function(h){var S,w,E=[],C=[],P=[];function O(F,V,j,te){C=C.slice(0,te).concat([V]),P=P.slice(0,te).concat([F&&F._isLinkedToArray]),F&&(F.valType==="data_array"||F.arrayOk===!0)&&(C[te-1]!=="colorbar"||V!=="ticktext"&&V!=="tickvals")&&R(S,0,"")}function R(F,V,j){var te=F[C[V]],J=j+C[V];if(V===C.length-1)n(te)&&E.push(w+J);else if(P[V]){if(Array.isArray(te))for(var K=0;K<te.length;K++)r(te[K])&&R(te[K],V+1,J+"["+K+"].")}else r(te)&&R(te,V+1,J+".")}S=h,w="",D.crawl(a,O),h._module&&h._module.attributes&&D.crawl(h._module.attributes,O);var U=h.transforms;if(U)for(var z=0;z<U.length;z++){var N=U[z],W=N._module;W&&(w="transforms["+z+"].",S=N,D.crawl(W.attributes,O))}return E},D.getTraceValObject=function(h,S){var w,E,C=S[0],P=1;if(C==="transforms"){if(S.length===1)return a.transforms;var O=h.transforms;if(!Array.isArray(O)||!O.length)return!1;var R=S[1];if(!p(R)||R>=O.length)return!1;E=(w=(M.transformsRegistry[O[R].type]||{}).attributes)&&w[S[2]],P=3}else{var U=h._module;if(U||(U=(M.modules[h.type||a.type.dflt]||{})._module),!U)return!1;if(!(E=(w=U.attributes)&&w[C])){var z=U.basePlotModule;z&&z.attributes&&(E=z.attributes[C])}E||(E=a[C])}return f(E,S,P)},D.getLayoutValObject=function(h,S){var w=function(E,C){var P,O,R,U,z=E._basePlotModules;if(z){var N;for(P=0;P<z.length;P++){if((R=z[P]).attrRegex&&R.attrRegex.test(C)){if(R.layoutAttrOverrides)return R.layoutAttrOverrides;!N&&R.layoutAttributes&&(N=R.layoutAttributes)}var W=R.baseLayoutAttrOverrides;if(W&&C in W)return W[C]}if(N)return N}var F=E._modules;if(F){for(P=0;P<F.length;P++)if((U=F[P].layoutAttributes)&&C in U)return U[C]}for(O in M.componentsRegistry){if((R=M.componentsRegistry[O]).name==="colorscale"&&C.indexOf("coloraxis")===0)return R.layoutAttributes[C];if(!R.schema&&C===R.name)return R.layoutAttributes}return C in T&&T[C]}(h,S[0]);return f(w,S,1)}},31780:function(ee,D,e){var M=e(3400),k=e(45464),a="templateitemname",T={name:{valType:"string",editType:"none"}};function b(s){return s&&typeof s=="string"}function g(s){var t=s.length-1;return s.charAt(t)!=="s"&&M.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}T[a]={valType:"string",editType:"calc"},D.templatedArray=function(s,t){return t._isLinkedToArray=s,t.name=T.name,t[a]=T[a],t},D.traceTemplater=function(s){var t,i,r={};for(t in s)i=s[t],Array.isArray(i)&&i.length&&(r[t]=0);return{newTrace:function(n){var o={type:t=M.coerce(n,{},k,"type"),_template:null};if(t in r){i=s[t];var l=r[t]%i.length;r[t]++,o._template=i[l]}return o}}},D.newContainer=function(s,t,i){var r=s._template,n=r&&(r[t]||i&&r[i]);return M.isPlainObject(n)||(n=null),s[t]={_template:n}},D.arrayTemplater=function(s,t,i){var r=s._template,n=r&&r[g(t)],o=r&&r[t];Array.isArray(o)&&o.length||(o=[]);var l={};return{newItem:function(u){var d={name:u.name,_input:u},c=d[a]=u[a];if(!b(c))return d._template=n,d;for(var m=0;m<o.length;m++){var f=o[m];if(f.name===c)return l[c]=1,d._template=f,d}return d[i]=u[i]||!1,d._template=!1,d},defaultItems:function(){for(var u=[],d=0;d<o.length;d++){var c=o[d],m=c.name;if(b(m)&&!l[m]){var f={_template:c,name:m,_input:{_templateitemname:m}};f[a]=c[a],u.push(f),l[m]=1}}return u}}},D.arrayDefaultKey=g,D.arrayEditor=function(s,t,i){var r=(M.nestedProperty(s,t).get()||[]).length,n=i._index,o=n>=r&&(i._input||{})._templateitemname;o&&(n=r);var l,u=t+"["+n+"]";function d(){l={},o&&(l[u]={},l[u][a]=o)}function c(f,p){o?M.nestedProperty(l[u],f).set(p):l[u+"."+f]=p}function m(){var f=l;return d(),f}return d(),{modifyBase:function(f,p){l[f]=p},modifyItem:c,getUpdateObj:m,applyUpdate:function(f,p){f&&c(f,p);var v=m();for(var y in v)M.nestedProperty(s,y).set(v[y])}}}},39172:function(ee,D,e){var M=e(33428),k=e(24040),a=e(7316),T=e(3400),b=e(72736),g=e(73696),s=e(76308),t=e(43616),i=e(81668),r=e(45460),n=e(54460),o=e(84284),l=e(71888),u=l.enforce,d=l.clean,c=e(19280).doAutoRange,m="start";function f(_,h,S){for(var w=0;w<S.length;w++){var E=S[w][0],C=S[w][1];if(!(E[0]>=_[1]||E[1]<=_[0])&&C[0]<h[1]&&C[1]>h[0])return!0}return!1}function p(_){var h,S,w,E,C,P,O=_._fullLayout,R=O._size,U=R.p,z=n.list(_,"",!0);if(O._paperdiv.style({width:_._context.responsive&&O.autosize&&!_._context._hasZeroWidth&&!_.layout.width?"100%":O.width+"px",height:_._context.responsive&&O.autosize&&!_._context._hasZeroHeight&&!_.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(t.setSize,O.width,O.height),_._context.setBackground(_,O.paper_bgcolor),D.drawMainTitle(_),r.manage(_),!O._has("cartesian"))return a.previousPromises(_);function N(Pe,Ue,Ve){var Xe=Pe._lw/2;return Pe._id.charAt(0)==="x"?Ue?Ve==="top"?Ue._offset-U-Xe:Ue._offset+Ue._length+U+Xe:R.t+R.h*(1-(Pe.position||0))+Xe%1:Ue?Ve==="right"?Ue._offset+Ue._length+U+Xe:Ue._offset-U-Xe:R.l+R.w*(Pe.position||0)+Xe%1}for(h=0;h<z.length;h++){var W=(E=z[h])._anchorAxis;E._linepositions={},E._lw=t.crispRound(_,E.linewidth,1),E._mainLinePosition=N(E,W,E.side),E._mainMirrorPosition=E.mirror&&W?N(E,W,o.OPPOSITE_SIDE[E.side]):null}var F=[],V=[],j=[],te=s.opacity(O.paper_bgcolor)===1&&s.opacity(O.plot_bgcolor)===1&&O.paper_bgcolor===O.plot_bgcolor;for(S in O._plots)if((w=O._plots[S]).mainplot)w.bg&&w.bg.remove(),w.bg=void 0;else{var J=w.xaxis.domain,K=w.yaxis.domain,Z=w.plotgroup;if(f(J,K,j)){var X=Z.node(),Q=w.bg=T.ensureSingle(Z,"rect","bg");X.insertBefore(Q.node(),X.childNodes[0]),V.push(S)}else Z.select("rect.bg").remove(),j.push([J,K]),te||(F.push(S),V.push(S))}var re,ae,ie,le,pe,de,ve,be,me,ge,ke,we,ue,oe=O._bgLayer.selectAll(".bg").data(F);for(oe.enter().append("rect").classed("bg",!0),oe.exit().remove(),oe.each(function(Pe){O._plots[Pe].bg=M.select(this)}),h=0;h<V.length;h++)w=O._plots[V[h]],C=w.xaxis,P=w.yaxis,w.bg&&C._offset!==void 0&&P._offset!==void 0&&w.bg.call(t.setRect,C._offset-U,P._offset-U,C._length+2*U,P._length+2*U).call(s.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(S in O._plots){w=O._plots[S],C=w.xaxis,P=w.yaxis;var he,Ee,Te=w.clipId="clip"+O._uid+S+"plot",Me=T.ensureSingleById(O._clips,"clipPath",Te,function(Pe){Pe.classed("plotclip",!0).append("rect")});w.clipRect=Me.select("rect").attr({width:C._length,height:P._length}),t.setTranslate(w.plot,C._offset,P._offset),w._hasClipOnAxisFalse?(he=null,Ee=Te):(he=Te,Ee=null),t.setClipUrl(w.plot,he,_),w.layerClipId=Ee}function Se(Pe){return"M"+re+","+Pe+"H"+ae}function ze(Pe){return"M"+C._offset+","+Pe+"h"+C._length}function fe(Pe){return"M"+Pe+","+be+"V"+ve}function xe(Pe){return P._shift!==void 0&&(Pe+=P._shift),"M"+Pe+","+P._offset+"v"+P._length}function _e(Pe,Ue,Ve){if(!Pe.showline||S!==Pe._mainSubplot)return"";if(!Pe._anchorAxis)return Ve(Pe._mainLinePosition);var Xe=Ue(Pe._mainLinePosition);return Pe.mirror&&(Xe+=Ue(Pe._mainMirrorPosition)),Xe}for(S in O._plots){w=O._plots[S],C=w.xaxis,P=w.yaxis;var Oe="M0,0";v(C,S)&&(pe=x(C,"left",P,z),re=C._offset-(pe?U+pe:0),de=x(C,"right",P,z),ae=C._offset+C._length+(de?U+de:0),ie=N(C,P,"bottom"),le=N(C,P,"top"),!(ue=!C._anchorAxis||S!==C._mainSubplot)||C.mirror!=="allticks"&&C.mirror!=="all"||(C._linepositions[S]=[ie,le]),Oe=_e(C,Se,ze),ue&&C.showline&&(C.mirror==="all"||C.mirror==="allticks")&&(Oe+=Se(ie)+Se(le)),w.xlines.style("stroke-width",C._lw+"px").call(s.stroke,C.showline?C.linecolor:"rgba(0,0,0,0)")),w.xlines.attr("d",Oe);var De="M0,0";v(P,S)&&(ke=x(P,"bottom",C,z),ve=P._offset+P._length+(ke?U:0),we=x(P,"top",C,z),be=P._offset-(we?U:0),me=N(P,C,"left"),ge=N(P,C,"right"),!(ue=!P._anchorAxis||S!==P._mainSubplot)||P.mirror!=="allticks"&&P.mirror!=="all"||(P._linepositions[S]=[me,ge]),De=_e(P,fe,xe),ue&&P.showline&&(P.mirror==="all"||P.mirror==="allticks")&&(De+=fe(me)+fe(ge)),w.ylines.style("stroke-width",P._lw+"px").call(s.stroke,P.showline?P.linecolor:"rgba(0,0,0,0)")),w.ylines.attr("d",De)}return n.makeClipPaths(_),a.previousPromises(_)}function v(_,h){return(_.ticks||_.showline)&&(h===_._mainSubplot||_.mirror==="all"||_.mirror==="allticks")}function y(_,h,S){if(!S.showline||!S._lw)return!1;if(S.mirror==="all"||S.mirror==="allticks")return!0;var w=S._anchorAxis;if(!w)return!1;var E=o.FROM_BL[h];return S.side===h?w.domain[E]===_.domain[E]:S.mirror&&w.domain[1-E]===_.domain[1-E]}function x(_,h,S,w){if(y(_,h,S))return S._lw;for(var E=0;E<w.length;E++){var C=w[E];if(C._mainAxis===S._mainAxis&&y(_,h,C))return C._lw}return 0}D.layoutStyles=function(_){return T.syncOrAsync([a.doAutoMargin,p],_)},D.drawMainTitle=function(_){var h,S=_._fullLayout.title,w=_._fullLayout,E=function(F){var V=F.title,j="middle";return T.isRightAnchor(V)?j="end":T.isLeftAnchor(V)&&(j=m),j}(w),C=function(F){var V=F.title,j="0em";return T.isTopAnchor(V)?j=o.CAP_SHIFT+"em":T.isMiddleAnchor(V)&&(j=o.MID_SHIFT+"em"),j}(w),P=function(F,V){var j=F.title,te=F._size,J=0;return V!=="0em"&&V?V===o.CAP_SHIFT+"em"&&(J=j.pad.t):J=-j.pad.b,j.y==="auto"?te.t/2:j.yref==="paper"?te.t+te.h-te.h*j.y+J:F.height-F.height*j.y+J}(w,C),O=function(F,V){var j=F.title,te=F._size,J=0;return V===m?J=j.pad.l:V==="end"&&(J=-j.pad.r),j.xref==="paper"?te.l+te.w*j.x+J:F.width*j.x+J}(w,E);if(i.draw(_,"gtitle",{propContainer:w,propName:"title.text",placeholder:w._dfltTitle.plot,attributes:{x:O,y:P,"text-anchor":E,dy:C}}),S.text&&S.automargin){var R=M.selectAll(".gtitle"),U=t.bBox(R.node()).height,z=function(F,V,j){var te=V.y,J=V.yanchor,K=te>.5?"t":"b",Z=F._fullLayout.margin[K],X=0;return V.yref==="paper"?X=j+V.pad.t+V.pad.b:V.yref==="container"&&(X=function(Q,re,ae,ie,le){var pe=0;return ae==="middle"&&(pe+=le/2),Q==="t"?(ae==="top"&&(pe+=le),pe+=ie-re*ie):(ae==="bottom"&&(pe+=le),pe+=re*ie),pe}(K,te,J,F._fullLayout.height,j)+V.pad.t+V.pad.b),X>Z?X:0}(_,S,U);if(z>0){(function(F,V,j,te){var J="title.automargin",K=F._fullLayout.title,Z=K.y>.5?"t":"b",X={x:K.x,y:K.y,t:0,b:0},Q={};K.yref==="paper"&&function(re,ae,ie,le,pe){var de=ae.yref==="paper"?re._fullLayout._size.h:re._fullLayout.height,ve=T.isTopAnchor(ae)?le:le-pe,be=ie==="b"?de-ve:ve;return!(T.isTopAnchor(ae)&&ie==="t"||T.isBottomAnchor(ae)&&ie==="b")&&be<pe}(F,K,Z,V,te)?X[Z]=j:K.yref==="container"&&(Q[Z]=j,F._fullLayout._reservedMargin[J]=Q),a.allowAutoMargin(F,J),a.autoMargin(F,J,X)})(_,P,z,U),R.attr({x:O,y:P,"text-anchor":E,dy:(h=S.yanchor,h==="top"?o.CAP_SHIFT+.3+"em":h==="bottom"?"-0.3em":o.MID_SHIFT+"em")}).call(b.positionText,O,P);var N=(S.text.match(b.BR_TAG_ALL)||[]).length;if(N){var W=o.LINE_SPACING*N+o.MID_SHIFT;S.y===0&&(W=-W),R.selectAll(".line").each(function(){var F=+this.getAttribute("dy").slice(0,-2)-W+"em";this.setAttribute("dy",F)})}}}},D.doTraceStyle=function(_){var h,S=_.calcdata,w=[];for(h=0;h<S.length;h++){var E=S[h],C=E[0]||{},P=C.trace||{},O=P._module||{},R=O.arraysToCalcdata;R&&R(E,P);var U=O.editStyle;U&&w.push({fn:U,cd0:C})}if(w.length){for(h=0;h<w.length;h++){var z=w[h];z.fn(_,z.cd0)}g(_),D.redrawReglTraces(_)}return a.style(_),k.getComponentMethod("legend","draw")(_),a.previousPromises(_)},D.doColorBars=function(_){return k.getComponentMethod("colorbar","draw")(_),a.previousPromises(_)},D.layoutReplot=function(_){var h=_.layout;return _.layout=void 0,k.call("_doPlot",_,"",h)},D.doLegend=function(_){return k.getComponentMethod("legend","draw")(_),a.previousPromises(_)},D.doTicksRelayout=function(_){return n.draw(_,"redraw"),_._fullLayout._hasOnlyLargeSploms&&(k.subplotsRegistry.splom.updateGrid(_),g(_),D.redrawReglTraces(_)),D.drawMainTitle(_),a.previousPromises(_)},D.doModeBar=function(_){var h=_._fullLayout;r.manage(_);for(var S=0;S<h._basePlotModules.length;S++){var w=h._basePlotModules[S].updateFx;w&&w(_)}return a.previousPromises(_)},D.doCamera=function(_){for(var h=_._fullLayout,S=h._subplots.gl3d,w=0;w<S.length;w++){var E=h[S[w]];E._scene.setViewport(E)}},D.drawData=function(_){var h=_._fullLayout;g(_);for(var S=h._basePlotModules,w=0;w<S.length;w++)S[w].plot(_);return D.redrawReglTraces(_),a.style(_),k.getComponentMethod("selections","draw")(_),k.getComponentMethod("shapes","draw")(_),k.getComponentMethod("annotations","draw")(_),k.getComponentMethod("images","draw")(_),h._replotting=!1,a.previousPromises(_)},D.redrawReglTraces=function(_){var h=_._fullLayout;if(h._has("regl")){var S,w,E=_._fullData,C=[],P=[];for(h._hasOnlyLargeSploms&&h._splomGrid.draw(),S=0;S<E.length;S++){var O=E[S];O.visible===!0&&O._length!==0&&(O.type==="splom"?h._splomScenes[O.uid].draw():O.type==="scattergl"?T.pushUnique(C,O.xaxis+O.yaxis):O.type==="scatterpolargl"&&T.pushUnique(P,O.subplot))}for(S=0;S<C.length;S++)(w=h._plots[C[S]])._scene&&w._scene.draw();for(S=0;S<P.length;S++)(w=h[P[S]]._subplot)._scene&&w._scene.draw()}},D.doAutoRangeAndConstraints=function(_){for(var h,S=n.list(_,"",!0),w={},E=0;E<S.length;E++)if(!w[(h=S[E])._id]){w[h._id]=1,d(_,h),c(_,h);var C=h._matchGroup;if(C)for(var P in C){var O=n.getFromId(_,P);c(_,O,h.range),w[P]=1}}u(_)},D.finalDraw=function(_){k.getComponentMethod("rangeslider","draw")(_),k.getComponentMethod("rangeselector","draw")(_)},D.drawMarginPushers=function(_){k.getComponentMethod("legend","draw")(_),k.getComponentMethod("rangeselector","draw")(_),k.getComponentMethod("sliders","draw")(_),k.getComponentMethod("updatemenus","draw")(_),k.getComponentMethod("colorbar","draw")(_)}},94828:function(ee,D,e){var M=e(3400),k=M.isPlainObject,a=e(73060),T=e(7316),b=e(45464),g=e(31780),s=e(20556).dfltConfig;function t(c,m){c=M.extendDeep({},c);var f,p,v=Object.keys(c).sort();function y(w,E,C){if(k(E)&&k(w))t(w,E);else if(Array.isArray(E)&&Array.isArray(w)){var P=g.arrayTemplater({_template:c},C);for(p=0;p<E.length;p++){var O=E[p],R=P.newItem(O)._template;R&&t(R,O)}var U=P.defaultItems();for(p=0;p<U.length;p++)E.push(U[p]._template);for(p=0;p<E.length;p++)delete E[p].templateitemname}}for(f=0;f<v.length;f++){var x=v[f],_=c[x];if(x in m?y(_,m[x],x):m[x]=_,i(x)===x)for(var h in m){var S=i(h);h===S||S!==x||h in c||y(_,m[h],x)}}}function i(c){return c.replace(/[0-9]+$/,"")}function r(c,m,f,p,v){var y=v&&f(v);for(var x in c){var _=c[x],h=l(c,x,p),S=l(c,x,v),w=f(S);if(!w){var E=i(x);E!==x&&(w=f(S=l(c,E,v)))}if(!(y&&y===w||!w||w._noTemplating||w.valType==="data_array"||w.arrayOk&&Array.isArray(_)))if(!w.valType&&k(_))r(_,m,f,h,S);else if(w._isLinkedToArray&&Array.isArray(_))for(var C=!1,P=0,O={},R=0;R<_.length;R++){var U=_[R];if(k(U)){var z=U.name;if(z)O[z]||(r(U,m,f,l(_,P,h),l(_,P,S)),P++,O[z]=1);else if(!C){var N=l(c,g.arrayDefaultKey(x),p),W=l(_,P,h);r(U,m,f,W,l(_,P,S));var F=M.nestedProperty(m,W);M.nestedProperty(m,N).set(F.get()),F.set(null),C=!0}}}else M.nestedProperty(m,h).set(_)}}function n(c,m){return a.getLayoutValObject(c,M.nestedProperty({},m).parts)}function o(c,m){return a.getTraceValObject(c,M.nestedProperty({},m).parts)}function l(c,m,f){return f?Array.isArray(c)?f+"["+m+"]":f+"."+m:m}function u(c){for(var m=0;m<c.length;m++)if(k(c[m]))return!0}function d(c){var m;switch(c.code){case"data":m="The template has no key data.";break;case"layout":m="The template has no key layout.";break;case"missing":m=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":m=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":m="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=m,c}D.makeTemplate=function(c){c=M.isPlainObject(c)?c:M.getGraphDiv(c),c=M.extendDeep({_context:s},{data:c.data,layout:c.layout}),T.supplyDefaults(c);var m=c.data||[],f=c.layout||{};f._basePlotModules=c._fullLayout._basePlotModules,f._modules=c._fullLayout._modules;var p={data:{},layout:{}};m.forEach(function(P){var O={};r(P,O,o.bind(null,P));var R=M.coerce(P,{},b,"type"),U=p.data[R];U||(U=p.data[R]=[]),U.push(O)}),r(f,p.layout,n.bind(null,f)),delete p.layout.template;var v=f.template;if(k(v)){var y,x,_,h,S,w,E=v.layout;k(E)&&t(E,p.layout);var C=v.data;if(k(C)){for(x in p.data)if(_=C[x],Array.isArray(_)){for(w=(S=p.data[x]).length,h=_.length,y=0;y<w;y++)t(_[y%h],S[y]);for(y=w;y<h;y++)S.push(M.extendDeep({},_[y]))}for(x in C)x in p.data||(p.data[x]=M.extendDeep([],C[x]))}}return p},D.validateTemplate=function(c,m){var f=M.extendDeep({},{_context:s,data:c.data,layout:c.layout}),p=f.layout||{};k(m)||(m=p.template||{});var v=m.layout,y=m.data,x=[];f.layout=p,f.layout.template=m,T.supplyDefaults(f);var _=f._fullLayout,h=f._fullData,S={};if(k(v)?(function U(z,N){for(var W in z)if(W.charAt(0)!=="_"&&k(z[W])){var F,V=i(W),j=[];for(F=0;F<N.length;F++)j.push(l(z,W,N[F])),V!==W&&j.push(l(z,V,N[F]));for(F=0;F<j.length;F++)S[j[F]]=1;U(z[W],j)}}(_,["layout"]),function U(z,N){for(var W in z)if(W.indexOf("defaults")===-1&&k(z[W])){var F=l(z,W,N);S[F]?U(z[W],F):x.push({code:"unused",path:F})}}(v,"layout")):x.push({code:"layout"}),k(y)){for(var w,E={},C=0;C<h.length;C++){var P=h[C];E[w=P.type]=(E[w]||0)+1,P._fullInput._template||x.push({code:"missing",index:P._fullInput.index,traceType:w})}for(w in y){var O=y[w].length,R=E[w]||0;O>R?x.push({code:"unused",traceType:w,templateCount:O,dataCount:R}):R>O&&x.push({code:"reused",traceType:w,templateCount:O,dataCount:R})}}else x.push({code:"data"});if(function U(z,N){for(var W in z)if(W.charAt(0)!=="_"){var F=z[W],V=l(z,W,N);k(F)?(Array.isArray(z)&&F._template===!1&&F.templateitemname&&x.push({code:"missing",path:V,templateitemname:F.templateitemname}),U(F,V)):Array.isArray(F)&&u(F)&&U(F,V)}}({data:h,layout:_},""),x.length)return x.map(d)}},67024:function(ee,D,e){var M=e(38248),k=e(36424),a=e(7316),T=e(3400),b=e(81792),g=e(37164),s=e(63268),t=e(25788).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ee.exports=function(r,n){var o,l,u,d;function c(R){return!(R in n)||T.validate(n[R],i[R])}if(n=n||{},T.isPlainObject(r)?(o=r.data||[],l=r.layout||{},u=r.config||{},d={}):(r=T.getGraphDiv(r),o=T.extendDeep([],r.data),l=T.extendDeep({},r.layout),u=r._context,d=r._fullLayout||{}),!c("width")&&n.width!==null||!c("height")&&n.height!==null)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+T.join2(i.format.values,", "," or ")+".");var m={};function f(R,U){return T.coerce(n,m,i,R,U)}var p=f("format"),v=f("width"),y=f("height"),x=f("scale"),_=f("setBackground"),h=f("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var w=T.extendFlat({},l);v?w.width=v:n.width===null&&M(d.width)&&(w.width=d.width),y?w.height=y:n.height===null&&M(d.height)&&(w.height=d.height);var E=T.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:_}),C=b.getRedrawFunc(S);function P(){return new Promise(function(R){setTimeout(R,b.getDelay(S._fullLayout))})}function O(){return new Promise(function(R,U){var z=g(S,p,x),N=S._fullLayout.width,W=S._fullLayout.height;function F(){k.purge(S),document.body.removeChild(S)}if(p==="full-json"){var V=a.graphJson(S,!1,"keepdata","object",!0,!0);return V.version=t,V=JSON.stringify(V),F(),R(h?V:b.encodeJSON(V))}if(F(),p==="svg")return R(h?z:b.encodeSVG(z));var j=document.createElement("canvas");j.id=T.randstr(),s({format:p,width:N,height:W,scale:x,canvas:j,svg:z,promise:!0}).then(R).catch(U)})}return new Promise(function(R,U){k.newPlot(S,o,w,E).then(C).then(P).then(O).then(function(z){R(function(N){return h?N.replace(b.IMAGE_URL_PREFIX,""):N}(z))}).catch(function(z){U(z)})})}},21480:function(ee,D,e){var M=e(3400),k=e(7316),a=e(73060),T=e(20556).dfltConfig,b=M.isPlainObject,g=Array.isArray,s=M.isArrayOrTypedArray;function t(c,m,f,p,v,y){y=y||[];for(var x=Object.keys(c),_=0;_<x.length;_++){var h=x[_];if(h!=="transforms"){var S=y.slice();S.push(h);var w=c[h],E=m[h],C=l(f,h),P=(C||{}).valType,O=P==="info_array",R=P==="colorscale",U=(C||{}).items;if(o(f,h))if(b(w)&&b(E)&&P!=="any")t(w,E,C,p,v,S);else if(O&&g(w)){w.length>E.length&&p.push(n("unused",v,S.concat(E.length)));var z,N,W,F,V,j=E.length,te=Array.isArray(U);if(te&&(j=Math.min(j,U.length)),C.dimensions===2)for(N=0;N<j;N++)if(g(w[N])){w[N].length>E[N].length&&p.push(n("unused",v,S.concat(N,E[N].length)));var J=E[N].length;for(z=0;z<(te?Math.min(J,U[N].length):J);z++)W=te?U[N][z]:U,F=w[N][z],V=E[N][z],M.validate(F,W)?V!==F&&V!==+F&&p.push(n("dynamic",v,S.concat(N,z),F,V)):p.push(n("value",v,S.concat(N,z),F))}else p.push(n("array",v,S.concat(N),w[N]));else for(N=0;N<j;N++)W=te?U[N]:U,F=w[N],V=E[N],M.validate(F,W)?V!==F&&V!==+F&&p.push(n("dynamic",v,S.concat(N),F,V)):p.push(n("value",v,S.concat(N),F))}else if(C.items&&!O&&g(w)){var K,Z,X=U[Object.keys(U)[0]],Q=[];for(K=0;K<E.length;K++){var re=E[K]._index||K;if((Z=S.slice()).push(re),b(w[re])&&b(E[K])){Q.push(re);var ae=w[re],ie=E[K];b(ae)&&ae.visible!==!1&&ie.visible===!1?p.push(n("invisible",v,Z)):t(ae,ie,X,p,v,Z)}}for(K=0;K<w.length;K++)(Z=S.slice()).push(K),b(w[K])?Q.indexOf(K)===-1&&p.push(n("unused",v,Z)):p.push(n("object",v,Z,w[K]))}else!b(w)&&b(E)?p.push(n("object",v,S,w)):s(w)||!s(E)||O||R?h in m?M.validate(w,C)?C.valType==="enumerated"&&(C.coerceNumber&&w!==+E||w!==E)&&p.push(n("dynamic",v,S,w,E)):p.push(n("value",v,S,w)):p.push(n("unused",v,S,w)):p.push(n("array",v,S,w));else p.push(n("schema",v,S))}}return p}ee.exports=function(c,m){c===void 0&&(c=[]),m===void 0&&(m={});var f,p,v=a.get(),y=[],x={_context:M.extendFlat({},T)};g(c)?(x.data=M.extendDeep([],c),f=c):(x.data=[],f=[],y.push(n("array","data"))),b(m)?(x.layout=M.extendDeep({},m),p=m):(x.layout={},p={},arguments.length>1&&y.push(n("object","layout"))),k.supplyDefaults(x);for(var _=x._fullData,h=f.length,S=0;S<h;S++){var w=f[S],E=["data",S];if(b(w)){var C=_[S],P=C.type,O=v.traces[P].attributes;O.type={valType:"enumerated",values:[P]},C.visible===!1&&w.visible!==!1&&y.push(n("invisible",E)),t(w,C,O,y,E);var R=w.transforms,U=C.transforms;if(R){g(R)||y.push(n("array",E,["transforms"])),E.push("transforms");for(var z=0;z<R.length;z++){var N=["transforms",z],W=R[z].type;if(b(R[z])){var F=v.transforms[W]?v.transforms[W].attributes:{};F.type={valType:"enumerated",values:Object.keys(v.transforms)},t(R[z],U[z],F,y,E,N)}else y.push(n("object",E,N))}}}else y.push(n("object",E))}var V=x._fullLayout,j=function(te,J){for(var K=te.layout.layoutAttributes,Z=0;Z<J.length;Z++){var X=J[Z],Q=te.traces[X.type],re=Q.layoutAttributes;re&&(X.subplot?M.extendFlat(K[Q.attributes.subplot.dflt],re):M.extendFlat(K,re))}return K}(v,_);return t(p,V,j,y,"layout"),y.length===0?void 0:y};var i={object:function(c,m){return(c==="layout"&&m===""?"The layout argument":c[0]==="data"&&m===""?"Trace "+c[1]+" in the data argument":r(c)+"key "+m)+" must be linked to an object container"},array:function(c,m){return(c==="data"?"The data argument":r(c)+"key "+m)+" must be linked to an array container"},schema:function(c,m){return r(c)+"key "+m+" is not part of the schema"},unused:function(c,m,f){var p=b(f)?"container":"key";return r(c)+p+" "+m+" did not get coerced"},dynamic:function(c,m,f,p){return[r(c)+"key",m,"(set to '"+f+"')","got reset to","'"+p+"'","during defaults."].join(" ")},invisible:function(c,m){return(m?r(c)+"item "+m:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,m,f){return[r(c)+"key "+m,"is set to an invalid value ("+f+")"].join(" ")}};function r(c){return g(c)?"In data trace "+c[1]+", ":"In "+c+", "}function n(c,m,f,p,v){var y,x;f=f||"",g(m)?(y=m[0],x=m[1]):(y=m,x=null);var _=function(S){if(!g(S))return String(S);for(var w="",E=0;E<S.length;E++){var C=S[E];typeof C=="number"?w=w.substr(0,w.length-1)+"["+C+"]":w+=C,E<S.length-1&&(w+=".")}return w}(f),h=i[c](m,_,p,v);return M.log(h),{code:c,container:y,trace:x,path:f,astr:_,msg:h}}function o(c,m){var f=d(m),p=f.keyMinusId,v=f.id;return!!(p in c&&c[p]._isSubplotObj&&v)||m in c}function l(c,m){return m in c?c[m]:c[d(m).keyMinusId]}var u=M.counterRegex("([a-z]+)");function d(c){var m=c.match(u);return{keyMinusId:m&&m[1],id:m&&m[2]}}},85656:function(ee){ee.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(ee,D,e){var M=e(3400),k=e(31780);ee.exports=function(a,T,b){var g,s,t=b.name,i=b.inclusionAttr||"visible",r=T[t],n=M.isArrayOrTypedArray(a[t])?a[t]:[],o=T[t]=[],l=k.arrayTemplater(T,t,i);for(g=0;g<n.length;g++){var u=n[g];M.isPlainObject(u)?s=l.newItem(u):(s=l.newItem({}))[i]=!1,s._index=g,s[i]!==!1&&b.handleItemDefaults(u,s,T,b),o.push(s)}var d=l.defaultItems();for(g=0;g<d.length;g++)(s=d[g])._index=o.length,b.handleItemDefaults({},s,T,b,{}),o.push(s);if(M.isArrayOrTypedArray(r)){var c=Math.min(r.length,o.length);for(g=0;g<c;g++)M.relinkPrivateKeys(o[g],r[g])}return o}},45464:function(ee,D,e){var M=e(25376),k=e(55756);ee.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:M({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:k.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(ee,D,e){var M=e(38248),k=e(3400),a=k.dateTime2ms,T=k.incrementMonth,b=e(39032).ONEAVGMONTH;ee.exports=function(g,s,t,i){if(s.type!=="date")return{vals:i};var r=g[t+"periodalignment"];if(!r)return{vals:i};var n,o=g[t+"period"];if(M(o)){if((o=+o)<=0)return{vals:i}}else if(typeof o=="string"&&o.charAt(0)==="M"){var l=+o.substring(1);if(!(l>0&&Math.round(l)===l))return{vals:i};n=l}for(var u=s.calendar,d=r==="start",c=r==="end",m=g[t+"period0"],f=a(m,u)||0,p=[],v=[],y=[],x=i.length,_=0;_<x;_++){var h,S,w,E=i[_];if(n){for(h=Math.round((E-f)/(n*b)),w=T(f,n*h,u);w>E;)w=T(w,-n,u);for(;w<=E;)w=T(w,n,u);S=T(w,-n,u)}else{for(w=f+(h=Math.round((E-f)/o))*o;w>E;)w-=o;for(;w<=E;)w+=o;S=w-o}p[_]=d?S:c?w:(S+w)/2,v[_]=S,y[_]=w}return{vals:p,starts:v,ends:y}}},26720:function(ee){ee.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(ee,D,e){var M=e(33428),k=e(38248),a=e(3400),T=e(39032).FP_SAFE,b=e(24040),g=e(43616),s=e(79811),t=s.getFromId,i=s.isLinked;function r(_,h){var S,w,E=[],C=_._fullLayout,P=o(C,h,0),O=o(C,h,1),R=u(_,h),U=R.min,z=R.max;if(U.length===0||z.length===0)return a.simpleMap(h.range,h.r2l);var N=U[0].val,W=z[0].val;for(S=1;S<U.length&&N===W;S++)N=Math.min(N,U[S].val);for(S=1;S<z.length&&N===W;S++)W=Math.max(W,z[S].val);var F=h.autorange,V=F==="reversed"||F==="min reversed"||F==="max reversed";if(!V&&h.range){var j=a.simpleMap(h.range,h.r2l);V=j[1]<j[0]}h.autorange==="reversed"&&(h.autorange=!0);var te,J,K,Z,X,Q,re=h.rangemode,ae=re==="tozero",ie=re==="nonnegative",le=h._length,pe=le/10,de=0;for(S=0;S<U.length;S++)for(te=U[S],w=0;w<z.length;w++)(Q=(J=z[w]).val-te.val-n(h,te.val,J.val))>0&&((X=le-P(te)-O(J))>pe?Q/X>de&&(K=te,Z=J,de=Q/X):Q/le>de&&(K={val:te.val,nopad:1},Z={val:J.val,nopad:1},de=Q/le));if(N===W){var ve=N-1,be=N+1;if(ae)if(N===0)E=[0,1];else{var me=(N>0?z:U).reduce(function(ke,we){return Math.max(ke,O(we))},0),ge=N/(1-Math.min(.5,me/le));E=N>0?[0,ge]:[ge,0]}else E=ie?[Math.max(0,ve),Math.max(1,be)]:[ve,be]}else ae?(K.val>=0&&(K={val:0,nopad:1}),Z.val<=0&&(Z={val:0,nopad:1})):ie&&(K.val-de*P(K)<0&&(K={val:0,nopad:1}),Z.val<=0&&(Z={val:1,nopad:1})),de=(Z.val-K.val-n(h,te.val,J.val))/(le-P(K)-O(Z)),E=[K.val-de*P(K),Z.val+de*O(Z)];return E=x(E,h),h.limitRange&&h.limitRange(),V&&E.reverse(),a.simpleMap(E,h.l2r||Number)}function n(_,h,S){var w=0;if(_.rangebreaks)for(var E=_.locateBreaks(h,S),C=0;C<E.length;C++){var P=E[C];w+=P.max-P.min}return w}function o(_,h,S){var w=.05*h._length,E=h._anchorAxis||{};if((h.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var C=h.isReversed();if(!C){var P=a.simpleMap(h.range,h.r2l);C=P[1]<P[0]}C&&(S=!S)}var O=0;return i(_,h._id)||(O=function(R,U,z){var N=0,W=U._id.charAt(0)==="x";for(var F in R._plots){var V=R._plots[F];if(U._id===V.xaxis._id||U._id===V.yaxis._id){var j=(W?V.yaxis:V.xaxis)||{};if((j.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(j.side==="left"||j.side==="bottom")||z&&(j.side==="top"||j.side==="right"))){if(j._vals){var te=a.deg2rad(j._tickAngles[j._id+"tick"]||0),J=Math.abs(Math.cos(te)),K=Math.abs(Math.sin(te));if(!j._vals[0].bb){var Z=j._id+"tick";j._selections[Z].each(function(ie){var le=M.select(this);le.select(".text-math-group").empty()&&(ie.bb=g.bBox(le.node()))})}for(var X=0;X<j._vals.length;X++){var Q=j._vals[X].bb;if(Q){var re=2*l+Q.width,ae=2*l+Q.height;N=Math.max(N,W?Math.max(re*J,ae*K):Math.max(ae*J,re*K))}}}j.ticks==="inside"&&j.ticklabelposition==="inside"&&(N+=j.ticklen||0)}}}return N}(_,h,S)),w=Math.max(O,w),h.constrain==="domain"&&h._inputDomain&&(w*=(h._inputDomain[1]-h._inputDomain[0])/(h.domain[1]-h.domain[0])),function(R){return R.nopad?0:R.pad+(R.extrapad?w:O)}}ee.exports={applyAutorangeOptions:x,getAutoRange:r,makePadFn:o,doAutoRange:function(_,h,S){if(h.setScale(),h.autorange){h.range=S?S.slice():r(_,h),h._r=h.range.slice(),h._rl=a.simpleMap(h._r,h.r2l);var w=h._input,E={};E[h._attr+".range"]=h.range,E[h._attr+".autorange"]=h.autorange,b.call("_storeDirectGUIEdit",_.layout,_._fullLayout._preGUI,E),w.range=h.range.slice(),w.autorange=h.autorange}var C=h._anchorAxis;if(C&&C.rangeslider){var P=C.rangeslider[h._name];P&&P.rangemode==="auto"&&(P.range=r(_,h)),C._input.rangeslider[h._name]=a.extendFlat({},P)}},findExtremes:function(_,h,S){S||(S={}),_._m||_.setScale();var w,E,C,P,O,R,U,z,N,W=[],F=[],V=h.length,j=S.padded||!1,te=S.tozero&&(_.type==="linear"||_.type==="-"),J=_.type==="log",K=!1,Z=S.vpadLinearized||!1;function X(ve){if(Array.isArray(ve))return K=!0,function(me){return Math.max(Number(ve[me]||0),0)};var be=Math.max(Number(ve||0),0);return function(){return be}}var Q=X((_._m>0?S.ppadplus:S.ppadminus)||S.ppad||0),re=X((_._m>0?S.ppadminus:S.ppadplus)||S.ppad||0),ae=X(S.vpadplus||S.vpad),ie=X(S.vpadminus||S.vpad);if(!K){if(z=1/0,N=-1/0,J)for(w=0;w<V;w++)(E=h[w])<z&&E>0&&(z=E),E>N&&E<T&&(N=E);else for(w=0;w<V;w++)(E=h[w])<z&&E>-T&&(z=E),E>N&&E<T&&(N=E);h=[z,N],V=2}var le={tozero:te,extrapad:j};function pe(ve){C=h[ve],k(C)&&(R=Q(ve),U=re(ve),Z?(P=_.c2l(C)-ie(ve),O=_.c2l(C)+ae(ve)):(z=C-ie(ve),N=C+ae(ve),J&&z<N/10&&(z=N/10),P=_.c2l(z),O=_.c2l(N)),te&&(P=Math.min(0,P),O=Math.max(0,O)),f(P)&&d(W,P,U,le),f(O)&&c(F,O,R,le))}var de=Math.min(6,V);for(w=0;w<de;w++)pe(w);for(w=V-1;w>=de;w--)pe(w);return{min:W,max:F,opts:S}},concatExtremes:u};var l=3;function u(_,h,S){var w,E,C,P=h._id,O=_._fullData,R=_._fullLayout,U=[],z=[];function N(te,J){for(w=0;w<J.length;w++){var K=te[J[w]],Z=(K._extremes||{})[P];if(K.visible===!0&&Z){for(E=0;E<Z.min.length;E++)C=Z.min[E],d(U,C.val,C.pad,{extrapad:C.extrapad});for(E=0;E<Z.max.length;E++)C=Z.max[E],c(z,C.val,C.pad,{extrapad:C.extrapad})}}}if(N(O,h._traceIndices),N(R.annotations||[],h._annIndices||[]),N(R.shapes||[],h._shapeIndices||[]),h._matchGroup&&!S){for(var W in h._matchGroup)if(W!==h._id){var F=t(_,W),V=u(_,F,!0),j=h._length/F._length;for(E=0;E<V.min.length;E++)C=V.min[E],d(U,C.val,C.pad*j,{extrapad:C.extrapad});for(E=0;E<V.max.length;E++)C=V.max[E],c(z,C.val,C.pad*j,{extrapad:C.extrapad})}}return{min:U,max:z}}function d(_,h,S,w){m(_,h,S,w,p)}function c(_,h,S,w){m(_,h,S,w,v)}function m(_,h,S,w,E){for(var C=w.tozero,P=w.extrapad,O=!0,R=0;R<_.length&&O;R++){var U=_[R];if(E(U.val,h)&&U.pad>=S&&(U.extrapad||!P)){O=!1;break}E(h,U.val)&&U.pad<=S&&(P||!U.extrapad)&&(_.splice(R,1),R--)}if(O){var z=C&&h===0;_.push({val:h,pad:z?0:S,extrapad:!z&&P})}}function f(_){return k(_)&&Math.abs(_)<T}function p(_,h){return _<=h}function v(_,h){return _>=h}function y(_,h,S){return h===void 0||S===void 0||(h=_.d2l(h))<_.d2l(S)}function x(_,h){if(!h||!h.autorangeoptions)return _;var S=_[0],w=_[1],E=h.autorangeoptions.include;if(E!==void 0){var C=h.d2l(S),P=h.d2l(w);a.isArrayOrTypedArray(E)||(E=[E]);for(var O=0;O<E.length;O++){var R=h.d2l(E[O]);C>=R&&(C=R,S=R),P<=R&&(P=R,w=R)}}return S=function(U,z){var N=z.autorangeoptions;return N&&N.minallowed!==void 0&&y(z,N.minallowed,N.maxallowed)?N.minallowed:N&&N.clipmin!==void 0&&y(z,N.clipmin,N.clipmax)?Math.max(U,z.d2l(N.clipmin)):U}(S,h),w=function(U,z){var N=z.autorangeoptions;return N&&N.maxallowed!==void 0&&y(z,N.minallowed,N.maxallowed)?N.maxallowed:N&&N.clipmax!==void 0&&y(z,N.clipmin,N.clipmax)?Math.min(U,z.d2l(N.clipmax)):U}(w,h),[S,w]}},76808:function(ee){ee.exports=function(D,e,M){var k,a;if(M){var T=e==="reversed"||e==="min reversed"||e==="max reversed";k=M[T?1:0],a=M[T?0:1]}var b=D("autorangeoptions.minallowed",a===null?k:void 0),g=D("autorangeoptions.maxallowed",k===null?a:void 0);b===void 0&&D("autorangeoptions.clipmin"),g===void 0&&D("autorangeoptions.clipmax"),D("autorangeoptions.include")}},54460:function(ee,D,e){var M=e(33428),k=e(38248),a=e(7316),T=e(24040),b=e(3400),g=b.strTranslate,s=e(72736),t=e(81668),i=e(76308),r=e(43616),n=e(94724),o=e(98728),l=e(39032),u=l.ONEMAXYEAR,d=l.ONEAVGYEAR,c=l.ONEMINYEAR,m=l.ONEMAXQUARTER,f=l.ONEAVGQUARTER,p=l.ONEMINQUARTER,v=l.ONEMAXMONTH,y=l.ONEAVGMONTH,x=l.ONEMINMONTH,_=l.ONEWEEK,h=l.ONEDAY,S=h/2,w=l.ONEHOUR,E=l.ONEMIN,C=l.ONESEC,P=l.MINUS_SIGN,O=l.BADNUM,R={K:"zeroline"},U={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},N={K:"tick",L:"path"},W={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(84284),j=V.MID_SHIFT,te=V.CAP_SHIFT,J=V.LINE_SPACING,K=V.OPPOSITE_SIDE,Z=ee.exports={};Z.setConvert=e(78344);var X=e(52976),Q=e(79811),re=Q.idSort,ae=Q.isLinked;Z.id2name=Q.id2name,Z.name2id=Q.name2id,Z.cleanId=Q.cleanId,Z.list=Q.list,Z.listIds=Q.listIds,Z.getFromId=Q.getFromId,Z.getFromTrace=Q.getFromTrace;var ie=e(19280);Z.getAutoRange=ie.getAutoRange,Z.findExtremes=ie.findExtremes;var le=1e-4;function pe(Re){var Fe=(Re[1]-Re[0])*le;return[Re[0]-Fe,Re[1]+Fe]}Z.coerceRef=function(Re,Fe,rt,Ye,ct,ht){var dt=Ye.charAt(Ye.length-1),ut=rt._fullLayout._subplots[dt+"axis"],kt=Ye+"ref",xt={};return ct||(ct=ut[0]||(typeof ht=="string"?ht:ht[0])),ht||(ht=ct),ut=ut.concat(ut.map(function(vt){return vt+" domain"})),xt[kt]={valType:"enumerated",values:ut.concat(ht?typeof ht=="string"?[ht]:ht:[]),dflt:ct},b.coerce(Re,Fe,xt,kt)},Z.getRefType=function(Re){return Re===void 0?Re:Re==="paper"?"paper":Re==="pixel"?"pixel":/( domain)$/.test(Re)?"domain":"range"},Z.coercePosition=function(Re,Fe,rt,Ye,ct,ht){var dt,ut;if(Z.getRefType(Ye)!=="range")dt=b.ensureNumber,ut=rt(ct,ht);else{var kt=Z.getFromId(Fe,Ye);ut=rt(ct,ht=kt.fraction2r(ht)),dt=kt.cleanPos}Re[ct]=dt(ut)},Z.cleanPosition=function(Re,Fe,rt){return(rt==="paper"||rt==="pixel"?b.ensureNumber:Z.getFromId(Fe,rt).cleanPos)(Re)},Z.redrawComponents=function(Re,Fe){Fe=Fe||Z.listIds(Re);var rt=Re._fullLayout;function Ye(ct,ht,dt,ut){for(var kt=T.getComponentMethod(ct,ht),xt={},vt=0;vt<Fe.length;vt++)for(var Mt=rt[Z.id2name(Fe[vt])][dt],St=0;St<Mt.length;St++){var It=Mt[St];if(!xt[It]&&(kt(Re,It),xt[It]=1,ut))return}}Ye("annotations","drawOne","_annIndices"),Ye("shapes","drawOne","_shapeIndices"),Ye("images","draw","_imgIndices",!0),Ye("selections","drawOne","_selectionIndices")};var de=Z.getDataConversions=function(Re,Fe,rt,Ye){var ct,ht=rt==="x"||rt==="y"||rt==="z"?rt:Ye;if(b.isArrayOrTypedArray(ht)){if(ct={type:X(Ye,void 0,{autotypenumbers:Re._fullLayout.autotypenumbers}),_categories:[]},Z.setConvert(ct),ct.type==="category")for(var dt=0;dt<Ye.length;dt++)ct.d2c(Ye[dt])}else ct=Z.getFromTrace(Re,Fe,ht);return ct?{d2c:ct.d2c,c2d:ct.c2d}:ht==="ids"?{d2c:be,c2d:be}:{d2c:ve,c2d:ve}};function ve(Re){return+Re}function be(Re){return String(Re)}function me(Re,Fe){return Math.abs((Re/Fe+.5)%1-.5)<.001}function ge(Re,Fe){return Math.abs(Re/Fe-1)<.001}function ke(Re){return+Re.substring(1)}function we(Re,Fe){return Re.rangebreaks&&(Fe=Fe.filter(function(rt){return Re.maskBreaks(rt.x)!==O})),Fe}function ue(Re){var Fe=Re._mainAxis,rt=[];if(Fe._vals){for(var Ye=0;Ye<Fe._vals.length;Ye++)if(!Fe._vals[Ye].noTick){var ct=Fe.l2p(Fe._vals[Ye].x),ht=Re.p2l(ct),dt=Z.tickText(Re,ht);Fe._vals[Ye].minor&&(dt.minor=!0,dt.text=""),rt.push(dt)}}return we(Re,rt)}function oe(Re,Fe){var rt=pe(b.simpleMap(Re.range,Re.r2l)),Ye=Math.min(rt[0],rt[1]),ct=Math.max(rt[0],rt[1]),ht=Re.type==="category"?Re.d2l_noadd:Re.d2l;Re.type==="log"&&String(Re.dtick).charAt(0)!=="L"&&(Re.dtick="L"+Math.pow(10,Math.floor(Math.min(Re.range[0],Re.range[1]))-1));for(var dt=[],ut=0;ut<=1;ut++)if((Fe===void 0||!(Fe&&ut||Fe===!1&&!ut))&&(!ut||Re.minor)){var kt=ut?Re.minor.tickvals:Re.tickvals,xt=ut?[]:Re.ticktext;if(kt){b.isArrayOrTypedArray(xt)||(xt=[]);for(var vt=0;vt<kt.length;vt++){var Mt=ht(kt[vt]);if(Mt>Ye&&Mt<ct){var St=Z.tickText(Re,Mt,!1,String(xt[vt]));ut&&(St.minor=!0,St.text=""),dt.push(St)}}}}return we(Re,dt)}Z.getDataToCoordFunc=function(Re,Fe,rt,Ye){return de(Re,Fe,rt,Ye).d2c},Z.counterLetter=function(Re){var Fe=Re.charAt(0);return Fe==="x"?"y":Fe==="y"?"x":void 0},Z.minDtick=function(Re,Fe,rt,Ye){["log","category","multicategory"].indexOf(Re.type)===-1&&Ye?Re._minDtick===void 0?(Re._minDtick=Fe,Re._forceTick0=rt):Re._minDtick&&((Re._minDtick/Fe+1e-6)%1<2e-6&&((rt-Re._forceTick0)/Fe%1+1.000001)%1<2e-6?(Re._minDtick=Fe,Re._forceTick0=rt):((Fe/Re._minDtick+1e-6)%1>2e-6||((rt-Re._forceTick0)/Re._minDtick%1+1.000001)%1>2e-6)&&(Re._minDtick=0)):Re._minDtick=0},Z.saveRangeInitial=function(Re,Fe){for(var rt=Z.list(Re,"",!0),Ye=!1,ct=0;ct<rt.length;ct++){var ht=rt[ct],dt=ht._rangeInitial0===void 0&&ht._rangeInitial1===void 0,ut=dt||ht.range[0]!==ht._rangeInitial0||ht.range[1]!==ht._rangeInitial1,kt=ht.autorange;(dt&&kt!==!0||Fe&&ut)&&(ht._rangeInitial0=kt==="min"||kt==="max reversed"?void 0:ht.range[0],ht._rangeInitial1=kt==="max"||kt==="min reversed"?void 0:ht.range[1],ht._autorangeInitial=kt,Ye=!0)}return Ye},Z.saveShowSpikeInitial=function(Re,Fe){for(var rt=Z.list(Re,"",!0),Ye=!1,ct="on",ht=0;ht<rt.length;ht++){var dt=rt[ht],ut=dt._showSpikeInitial===void 0,kt=ut||dt.showspikes!==dt._showspikes;(ut||Fe&&kt)&&(dt._showSpikeInitial=dt.showspikes,Ye=!0),ct!=="on"||dt.showspikes||(ct="off")}return Re._fullLayout._cartesianSpikesEnabled=ct,Ye},Z.autoBin=function(Re,Fe,rt,Ye,ct,ht){var dt,ut=b.aggNums(Math.min,null,Re),kt=b.aggNums(Math.max,null,Re);if(Fe.type==="category"||Fe.type==="multicategory")return{start:ut-.5,end:kt+.5,size:Math.max(1,Math.round(ht)||1),_dataSpan:kt-ut};if(ct||(ct=Fe.calendar),dt=Fe.type==="log"?{type:"linear",range:[ut,kt]}:{type:Fe.type,range:b.simpleMap([ut,kt],Fe.c2r,0,ct),calendar:ct},Z.setConvert(dt),ht=ht&&o.dtick(ht,dt.type))dt.dtick=ht,dt.tick0=o.tick0(void 0,dt.type,ct);else{var xt;if(rt)xt=(kt-ut)/rt;else{var vt=b.distinctVals(Re),Mt=Math.pow(10,Math.floor(Math.log(vt.minDiff)/Math.LN10)),St=Mt*b.roundUp(vt.minDiff/Mt,[.9,1.9,4.9,9.9],!0);xt=Math.max(St,2*b.stdev(Re)/Math.pow(Re.length,Ye?.25:.4)),k(xt)||(xt=1)}Z.autoTicks(dt,xt)}var It,Gt=dt.dtick,en=Z.tickIncrement(Z.tickFirst(dt),Gt,"reverse",ct);if(typeof Gt=="number")en=function(Nt,jt,Jt,An,_n){var un=0,Wt=0,rn=0,$t=0;function sn(Cn){return(1+100*(Cn-Nt)/Jt.dtick)%100<2}for(var xn=0;xn<jt.length;xn++)jt[xn]%1==0?rn++:k(jt[xn])||$t++,sn(jt[xn])&&un++,sn(jt[xn]+Jt.dtick/2)&&Wt++;var wn=jt.length-$t;if(rn===wn&&Jt.type!=="date")Jt.dtick<1?Nt=An-.5*Jt.dtick:(Nt-=.5)+Jt.dtick<An&&(Nt+=Jt.dtick);else if(Wt<.1*wn&&(un>.3*wn||sn(An)||sn(_n))){var Pn=Jt.dtick/2;Nt+=Nt+Pn<An?Pn:-Pn}return Nt}(en,Re,dt,ut,kt),It=en+(1+Math.floor((kt-en)/Gt))*Gt;else for(dt.dtick.charAt(0)==="M"&&(en=function(Nt,jt,Jt,An,_n){var un=b.findExactDates(jt,_n);if(un.exactDays>.8){var Wt=Number(Jt.substr(1));un.exactYears>.8&&Wt%12==0?Nt=Z.tickIncrement(Nt,"M6","reverse")+1.5*h:un.exactMonths>.8?Nt=Z.tickIncrement(Nt,"M1","reverse")+15.5*h:Nt-=S;var rn=Z.tickIncrement(Nt,Jt);if(rn<=An)return rn}return Nt}(en,Re,Gt,ut,ct)),It=en;It<=kt;)It=Z.tickIncrement(It,Gt,!1,ct);return{start:Fe.c2r(en,0,ct),end:Fe.c2r(It,0,ct),size:Gt,_dataSpan:kt-ut}},Z.prepMinorTicks=function(Re,Fe,rt){if(!Fe.minor.dtick){delete Re.dtick;var Ye,ct=Fe.dtick&&k(Fe._tmin);if(ct){var ht=Z.tickIncrement(Fe._tmin,Fe.dtick,!0);Ye=[Fe._tmin,.99*ht+.01*Fe._tmin]}else{var dt=b.simpleMap(Fe.range,Fe.r2l);Ye=[dt[0],.8*dt[0]+.2*dt[1]]}if(Re.range=b.simpleMap(Ye,Fe.l2r),Re._isMinor=!0,Z.prepTicks(Re,rt),ct){var ut=k(Fe.dtick),kt=k(Re.dtick),xt=ut?Fe.dtick:+Fe.dtick.substring(1),vt=kt?Re.dtick:+Re.dtick.substring(1);ut&&kt?me(xt,vt)?xt===2*_&&vt===2*h&&(Re.dtick=_):xt===2*_&&vt===3*h?Re.dtick=_:xt!==_||(Fe._input.minor||{}).nticks?ge(xt/vt,2.5)?Re.dtick=xt/2:Re.dtick=xt:Re.dtick=h:String(Fe.dtick).charAt(0)==="M"?kt?Re.dtick="M1":me(xt,vt)?xt>=12&&vt===2&&(Re.dtick="M3"):Re.dtick=Fe.dtick:String(Re.dtick).charAt(0)==="L"?String(Fe.dtick).charAt(0)==="L"?me(xt,vt)||(Re.dtick=ge(xt/vt,2.5)?Fe.dtick/2:Fe.dtick):Re.dtick="D1":Re.dtick==="D2"&&+Fe.dtick>1&&(Re.dtick=1)}Re.range=Fe.range}Fe.minor._tick0Init===void 0&&(Re.tick0=Fe.tick0)},Z.prepTicks=function(Re,Fe){var rt=b.simpleMap(Re.range,Re.r2l,void 0,void 0,Fe);if(Re.tickmode==="auto"||!Re.dtick){var Ye,ct=Re.nticks;ct||(Re.type==="category"||Re.type==="multicategory"?(Ye=Re.tickfont?b.bigFont(Re.tickfont.size||12):15,ct=Re._length/Ye):(Ye=Re._id.charAt(0)==="y"?40:80,ct=b.constrain(Re._length/Ye,4,9)+1),Re._name==="radialaxis"&&(ct*=2)),Re.minor&&Re.minor.tickmode!=="array"||Re.tickmode==="array"&&(ct*=100),Re._roughDTick=Math.abs(rt[1]-rt[0])/ct,Z.autoTicks(Re,Re._roughDTick),Re._minDtick>0&&Re.dtick<2*Re._minDtick&&(Re.dtick=Re._minDtick,Re.tick0=Re.l2r(Re._forceTick0))}Re.ticklabelmode==="period"&&function(ht){var dt;function ut(){return!(k(ht.dtick)||ht.dtick.charAt(0)!=="M")}var kt=ut(),xt=Z.getTickFormat(ht);if(xt){var vt=ht._dtickInit!==ht.dtick;/%[fLQsSMX]/.test(xt)||(/%[HI]/.test(xt)?(dt=w,vt&&!kt&&ht.dtick<w&&(ht.dtick=w)):/%p/.test(xt)?(dt=S,vt&&!kt&&ht.dtick<S&&(ht.dtick=S)):/%[Aadejuwx]/.test(xt)?(dt=h,vt&&!kt&&ht.dtick<h&&(ht.dtick=h)):/%[UVW]/.test(xt)?(dt=_,vt&&!kt&&ht.dtick<_&&(ht.dtick=_)):/%[Bbm]/.test(xt)?(dt=y,vt&&(kt?ke(ht.dtick)<1:ht.dtick<x)&&(ht.dtick="M1")):/%[q]/.test(xt)?(dt=f,vt&&(kt?ke(ht.dtick)<3:ht.dtick<p)&&(ht.dtick="M3")):/%[Yy]/.test(xt)&&(dt=d,vt&&(kt?ke(ht.dtick)<12:ht.dtick<c)&&(ht.dtick="M12")))}(kt=ut())&&ht.tick0===ht._dowTick0&&(ht.tick0=ht._rawTick0),ht._definedDelta=dt}(Re),Re.tick0||(Re.tick0=Re.type==="date"?"2000-01-01":0),Re.type==="date"&&Re.dtick<.1&&(Re.dtick=.1),_e(Re)},Z.calcTicks=function(Re,Fe){for(var rt,Ye,ct=Re.type,ht=Re.calendar,dt=Re.ticklabelstep,ut=Re.ticklabelmode==="period",kt=b.simpleMap(Re.range,Re.r2l,void 0,void 0,Fe),xt=kt[1]<kt[0],vt=Math.min(kt[0],kt[1]),Mt=Math.max(kt[0],kt[1]),St=Math.max(1e3,Re._length||0),It=[],Gt=[],en=[],Nt=[],jt=Re.minor&&(Re.minor.ticks||Re.minor.showgrid),Jt=1;Jt>=(jt?0:1);Jt--){var An=!Jt;Jt?(Re._dtickInit=Re.dtick,Re._tick0Init=Re.tick0):(Re.minor._dtickInit=Re.minor.dtick,Re.minor._tick0Init=Re.minor.tick0);var _n=Jt?Re:b.extendFlat({},Re,Re.minor);if(An?Z.prepMinorTicks(_n,Re,Fe):Z.prepTicks(_n,Fe),_n.tickmode!=="array")if(_n.tickmode!=="sync"){var un=pe(kt),Wt=un[0],rn=un[1],$t=k(_n.dtick),sn=ct==="log"&&!($t||_n.dtick.charAt(0)==="L"),xn=Z.tickFirst(_n,Fe);if(Jt){if(Re._tmin=xn,xn<Wt!==xt)break;ct!=="category"&&ct!=="multicategory"||(rn=xt?Math.max(-.5,rn):Math.min(Re._categories.length-.5,rn))}var wn,Pn,Cn=null,Sn=xn;Jt&&($t?Pn=Re.dtick:ct==="date"?typeof Re.dtick=="string"&&Re.dtick.charAt(0)==="M"&&(Pn=y*Re.dtick.substring(1)):Pn=Re._roughDTick,wn=Math.round((Re.r2l(Sn)-Re.r2l(Re.tick0))/Pn)-1);var Nn=_n.dtick;for(_n.rangebreaks&&_n._tick0Init!==_n.tick0&&(Sn=Be(Sn,Re),xt||(Sn=Z.tickIncrement(Sn,Nn,!xt,ht))),Jt&&ut&&(Sn=Z.tickIncrement(Sn,Nn,!xt,ht),wn--);xt?Sn>=rn:Sn<=rn;Sn=Z.tickIncrement(Sn,Nn,xt,ht)){if(Jt&&wn++,_n.rangebreaks&&!xt){if(Sn<Wt)continue;if(_n.maskBreaks(Sn)===O&&Be(Sn,_n)>=Mt)break}if(en.length>St||Sn===Cn)break;Cn=Sn;var zn={value:Sn};Jt?(sn&&Sn!==(0|Sn)&&(zn.simpleLabel=!0),dt>1&&wn%dt&&(zn.skipLabel=!0),en.push(zn)):(zn.minor=!0,Nt.push(zn))}}else en=[],It=ue(Re);else Jt?(en=[],It=oe(Re,!An)):(Nt=[],Gt=oe(Re,!An))}if(jt&&!(Re.minor.ticks==="inside"&&Re.ticks==="outside"||Re.minor.ticks==="outside"&&Re.ticks==="inside")){for(var er=en.map(function(Et){return Et.value}),nr=[],ir=0;ir<Nt.length;ir++){var Yn=Nt[ir],mr=Yn.value;if(er.indexOf(mr)===-1){for(var Bt=!1,Qt=0;!Bt&&Qt<en.length;Qt++)1e7+en[Qt].value===1e7+mr&&(Bt=!0);Bt||nr.push(Yn)}}Nt=nr}if(ut&&function(Et,Ht,Kt){for(var gn=0;gn<Et.length;gn++){var pn=Et[gn].value,yn=gn,on=gn+1;gn<Et.length-1?(yn=gn,on=gn+1):gn>0?(yn=gn-1,on=gn):(yn=gn,on=gn);var Zt,Xt=Et[yn].value,nn=Et[on].value,ln=Math.abs(nn-Xt),kn=Kt||ln,En=0;kn>=c?En=ln>=c&&ln<=u?ln:d:Kt===f&&kn>=p?En=ln>=p&&ln<=m?ln:f:kn>=x?En=ln>=x&&ln<=v?ln:y:Kt===_&&kn>=_?En=_:kn>=h?En=h:Kt===S&&kn>=S?En=S:Kt===w&&kn>=w&&(En=w),En>=ln&&(En=ln,Zt=!0);var Fn=pn+En;if(Ht.rangebreaks&&En>0){for(var Bn=0,Zn=0;Zn<84;Zn++){var Vn=(Zn+.5)/84;Ht.maskBreaks(pn*(1-Vn)+Vn*Fn)!==O&&Bn++}(En*=Bn/84)||(Et[gn].drop=!0),Zt&&ln>_&&(En=ln)}(En>0||gn===0)&&(Et[gn].periodX=pn+En/2)}}(en,Re,Re._definedDelta),Re.rangebreaks){var vn=Re._id.charAt(0)==="y",fn=1;Re.tickmode==="auto"&&(fn=Re.tickfont?Re.tickfont.size:12);var Tn=NaN;for(rt=en.length-1;rt>-1;rt--)if(en[rt].drop)en.splice(rt,1);else{en[rt].value=Be(en[rt].value,Re);var jn=Re.c2p(en[rt].value);(vn?Tn>jn-fn:Tn<jn+fn)?en.splice(xt?rt+1:rt,1):Tn=jn}}We(Re)&&Math.abs(kt[1]-kt[0])===360&&en.pop(),Re._tmax=(en[en.length-1]||{}).value,Re._prevDateHead="",Re._inCalcTicks=!0;var On,Dn,$n=function(Et){Et.text="",Re._prevDateHead=Ye};for(en=en.concat(Nt),rt=0;rt<en.length;rt++){var qt=en[rt].minor,hn=en[rt].value;qt?Gt.push({x:hn,minor:!0}):(Ye=Re._prevDateHead,On=Z.tickText(Re,hn,!1,en[rt].simpleLabel),(Dn=en[rt].periodX)!==void 0&&(On.periodX=Dn,(Dn>Mt||Dn<vt)&&(Dn>Mt&&(On.periodX=Mt),Dn<vt&&(On.periodX=vt),$n(On))),en[rt].skipLabel&&$n(On),It.push(On))}return It=It.concat(Gt),Re._inCalcTicks=!1,ut&&It.length&&(It[0].noTick=!0),It};var he=[2,5,10],Ee=[1,2,3,6,12],Te=[1,2,5,10,15,30],Me=[1,2,3,7,14],Se=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ze=[-.301,0,.301,.699,1],fe=[15,30,45,90,180];function xe(Re,Fe,rt){return Fe*b.roundUp(Re/Fe,rt)}function _e(Re){var Fe=Re.dtick;if(Re._tickexponent=0,k(Fe)||typeof Fe=="string"||(Fe=1),Re.type!=="category"&&Re.type!=="multicategory"||(Re._tickround=null),Re.type==="date"){var rt=Re.r2l(Re.tick0),Ye=Re.l2r(rt).replace(/(^-|i)/g,""),ct=Ye.length;if(String(Fe).charAt(0)==="M")ct>10||Ye.substr(5)!=="01-01"?Re._tickround="d":Re._tickround=+Fe.substr(1)%12==0?"y":"m";else if(Fe>=h&&ct<=10||Fe>=15*h)Re._tickround="d";else if(Fe>=E&&ct<=16||Fe>=w)Re._tickround="M";else if(Fe>=C&&ct<=19||Fe>=E)Re._tickround="S";else{var ht=Re.l2r(rt+Fe).replace(/^-/,"").length;Re._tickround=Math.max(ct,ht)-20,Re._tickround<0&&(Re._tickround=4)}}else if(k(Fe)||Fe.charAt(0)==="L"){var dt=Re.range.map(Re.r2d||Number);k(Fe)||(Fe=Number(Fe.substr(1))),Re._tickround=2-Math.floor(Math.log(Fe)/Math.LN10+.01);var ut=Math.max(Math.abs(dt[0]),Math.abs(dt[1])),kt=Math.floor(Math.log(ut)/Math.LN10+.01),xt=Re.minexponent===void 0?3:Re.minexponent;Math.abs(kt)>xt&&(Pe(Re.exponentformat)&&!Ue(kt)?Re._tickexponent=3*Math.round((kt-1)/3):Re._tickexponent=kt)}else Re._tickround=null}function Oe(Re,Fe,rt){var Ye=Re.tickfont||{};return{x:Fe,dx:0,dy:0,text:rt||"",fontSize:Ye.size,font:Ye.family,fontColor:Ye.color}}Z.autoTicks=function(Re,Fe,rt){var Ye;function ct(Mt){return Math.pow(Mt,Math.floor(Math.log(Fe)/Math.LN10))}if(Re.type==="date"){Re.tick0=b.dateTick0(Re.calendar,0);var ht=2*Fe;if(ht>d)Fe/=d,Ye=ct(10),Re.dtick="M"+12*xe(Fe,Ye,he);else if(ht>y)Fe/=y,Re.dtick="M"+xe(Fe,1,Ee);else if(ht>h){if(Re.dtick=xe(Fe,h,Re._hasDayOfWeekBreaks?[1,2,7,14]:Me),!rt){var dt=Z.getTickFormat(Re),ut=Re.ticklabelmode==="period";ut&&(Re._rawTick0=Re.tick0),/%[uVW]/.test(dt)?Re.tick0=b.dateTick0(Re.calendar,2):Re.tick0=b.dateTick0(Re.calendar,1),ut&&(Re._dowTick0=Re.tick0)}}else ht>w?Re.dtick=xe(Fe,w,Ee):ht>E?Re.dtick=xe(Fe,E,Te):ht>C?Re.dtick=xe(Fe,C,Te):(Ye=ct(10),Re.dtick=xe(Fe,Ye,he))}else if(Re.type==="log"){Re.tick0=0;var kt=b.simpleMap(Re.range,Re.r2l);if(Re._isMinor&&(Fe*=1.5),Fe>.7)Re.dtick=Math.ceil(Fe);else if(Math.abs(kt[1]-kt[0])<1){var xt=1.5*Math.abs((kt[1]-kt[0])/Fe);Fe=Math.abs(Math.pow(10,kt[1])-Math.pow(10,kt[0]))/xt,Ye=ct(10),Re.dtick="L"+xe(Fe,Ye,he)}else Re.dtick=Fe>.3?"D2":"D1"}else Re.type==="category"||Re.type==="multicategory"?(Re.tick0=0,Re.dtick=Math.ceil(Math.max(Fe,1))):We(Re)?(Re.tick0=0,Ye=1,Re.dtick=xe(Fe,Ye,fe)):(Re.tick0=0,Ye=ct(10),Re.dtick=xe(Fe,Ye,he));if(Re.dtick===0&&(Re.dtick=1),!k(Re.dtick)&&typeof Re.dtick!="string"){var vt=Re.dtick;throw Re.dtick=1,"ax.dtick error: "+String(vt)}},Z.tickIncrement=function(Re,Fe,rt,Ye){var ct=rt?-1:1;if(k(Fe))return b.increment(Re,ct*Fe);var ht=Fe.charAt(0),dt=ct*Number(Fe.substr(1));if(ht==="M")return b.incrementMonth(Re,dt,Ye);if(ht==="L")return Math.log(Math.pow(10,Re)+dt)/Math.LN10;if(ht==="D"){var ut=Fe==="D2"?ze:Se,kt=Re+.01*ct,xt=b.roundUp(b.mod(kt,1),ut,rt);return Math.floor(kt)+Math.log(M.round(Math.pow(10,xt),1))/Math.LN10}throw"unrecognized dtick "+String(Fe)},Z.tickFirst=function(Re,Fe){var rt=Re.r2l||Number,Ye=b.simpleMap(Re.range,rt,void 0,void 0,Fe),ct=Ye[1]<Ye[0],ht=ct?Math.floor:Math.ceil,dt=pe(Ye)[0],ut=Re.dtick,kt=rt(Re.tick0);if(k(ut)){var xt=ht((dt-kt)/ut)*ut+kt;return Re.type!=="category"&&Re.type!=="multicategory"||(xt=b.constrain(xt,0,Re._categories.length-1)),xt}var vt=ut.charAt(0),Mt=Number(ut.substr(1));if(vt==="M"){for(var St,It,Gt,en=0,Nt=kt;en<10;){if(((St=Z.tickIncrement(Nt,ut,ct,Re.calendar))-dt)*(Nt-dt)<=0)return ct?Math.min(Nt,St):Math.max(Nt,St);It=(dt-(Nt+St)/2)/(St-Nt),Gt=vt+(Math.abs(Math.round(It))||1)*Mt,Nt=Z.tickIncrement(Nt,Gt,It<0?!ct:ct,Re.calendar),en++}return b.error("tickFirst did not converge",Re),Nt}if(vt==="L")return Math.log(ht((Math.pow(10,dt)-kt)/Mt)*Mt+kt)/Math.LN10;if(vt==="D"){var jt=ut==="D2"?ze:Se,Jt=b.roundUp(b.mod(dt,1),jt,ct);return Math.floor(dt)+Math.log(M.round(Math.pow(10,Jt),1))/Math.LN10}throw"unrecognized dtick "+String(ut)},Z.tickText=function(Re,Fe,rt,Ye){var ct,ht=Oe(Re,Fe),dt=Re.tickmode==="array",ut=rt||dt,kt=Re.type,xt=kt==="category"?Re.d2l_noadd:Re.d2l,vt=function(Nt){var jt=Re.l2p(Nt);return jt>=0&&jt<=Re._length?Nt:null};if(dt&&b.isArrayOrTypedArray(Re.ticktext)){var Mt=b.simpleMap(Re.range,Re.r2l),St=(Math.abs(Mt[1]-Mt[0])-(Re._lBreaks||0))/1e4;for(ct=0;ct<Re.ticktext.length&&!(Math.abs(Fe-xt(Re.tickvals[ct]))<St);ct++);if(ct<Re.ticktext.length)return ht.text=String(Re.ticktext[ct]),ht.xbnd=[vt(ht.x-.5),vt(ht.x+Re.dtick-.5)],ht}function It(Nt){if(Nt===void 0)return!0;if(rt)return Nt==="none";var jt={first:Re._tmin,last:Re._tmax}[Nt];return Nt!=="all"&&Fe!==jt}var Gt=rt?"never":Re.exponentformat!=="none"&&It(Re.showexponent)?"hide":"";if(kt==="date"?function(Nt,jt,Jt,An){var _n=Nt._tickround,un=Jt&&Nt.hoverformat||Z.getTickFormat(Nt);(An=!un&&An)&&(_n=k(_n)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[_n]);var Wt,rn=b.formatDate(jt.x,un,_n,Nt._dateFormat,Nt.calendar,Nt._extraFormat),$t=rn.indexOf(`
`);if($t!==-1&&(Wt=rn.substr($t+1),rn=rn.substr(0,$t)),An&&(Wt===void 0||rn!=="00:00:00"&&rn!=="00:00"?rn.length===8&&(rn=rn.replace(/:00$/,"")):(rn=Wt,Wt="")),Wt)if(Jt)_n==="d"?rn+=", "+Wt:rn=Wt+(rn?", "+rn:"");else if(Nt._inCalcTicks&&Nt._prevDateHead===Wt){var sn=Ge(Nt),xn=Nt._trueSide||Nt.side;(!sn&&xn==="top"||sn&&xn==="bottom")&&(rn+="<br> ")}else Nt._prevDateHead=Wt,rn+="<br>"+Wt;jt.text=rn}(Re,ht,rt,ut):kt==="log"?function(Nt,jt,Jt,An,_n){var un=Nt.dtick,Wt=jt.x,rn=Nt.tickformat,$t=typeof un=="string"&&un.charAt(0);if(_n==="never"&&(_n=""),An&&$t!=="L"&&(un="L3",$t="L"),rn||$t==="L")jt.text=Ve(Math.pow(10,Wt),Nt,_n,An);else if(k(un)||$t==="D"&&b.mod(Wt+.01,1)<.1){var sn=Math.round(Wt),xn=Math.abs(sn),wn=Nt.exponentformat;wn==="power"||Pe(wn)&&Ue(sn)?(jt.text=sn===0?1:sn===1?"10":"10<sup>"+(sn>1?"":P)+xn+"</sup>",jt.fontSize*=1.25):(wn==="e"||wn==="E")&&xn>2?jt.text="1"+wn+(sn>0?"+":P)+xn:(jt.text=Ve(Math.pow(10,Wt),Nt,"","fakehover"),un==="D1"&&Nt._id.charAt(0)==="y"&&(jt.dy-=jt.fontSize/6))}else{if($t!=="D")throw"unrecognized dtick "+String(un);jt.text=String(Math.round(Math.pow(10,b.mod(Wt,1)))),jt.fontSize*=.75}if(Nt.dtick==="D1"){var Pn=String(jt.text).charAt(0);Pn!=="0"&&Pn!=="1"||(Nt._id.charAt(0)==="y"?jt.dx-=jt.fontSize/4:(jt.dy+=jt.fontSize/2,jt.dx+=(Nt.range[1]>Nt.range[0]?1:-1)*jt.fontSize*(Wt<0?.5:.25)))}}(Re,ht,0,ut,Gt):kt==="category"?function(Nt,jt){var Jt=Nt._categories[Math.round(jt.x)];Jt===void 0&&(Jt=""),jt.text=String(Jt)}(Re,ht):kt==="multicategory"?function(Nt,jt,Jt){var An=Math.round(jt.x),_n=Nt._categories[An]||[],un=_n[1]===void 0?"":String(_n[1]),Wt=_n[0]===void 0?"":String(_n[0]);Jt?jt.text=Wt+" - "+un:(jt.text=un,jt.text2=Wt)}(Re,ht,rt):We(Re)?function(Nt,jt,Jt,An,_n){if(Nt.thetaunit!=="radians"||Jt)jt.text=Ve(jt.x,Nt,_n,An);else{var un=jt.x/180;if(un===0)jt.text="0";else{var Wt=function($t){function sn(Cn,Sn){return Math.abs(Cn-Sn)<=1e-6}var xn=function(Cn){for(var Sn=1;!sn(Math.round(Cn*Sn)/Sn,Cn);)Sn*=10;return Sn}($t),wn=$t*xn,Pn=Math.abs(function Cn(Sn,Nn){return sn(Nn,0)?Sn:Cn(Nn,Sn%Nn)}(wn,xn));return[Math.round(wn/Pn),Math.round(xn/Pn)]}(un);if(Wt[1]>=100)jt.text=Ve(b.deg2rad(jt.x),Nt,_n,An);else{var rn=jt.x<0;Wt[1]===1?Wt[0]===1?jt.text="":jt.text=Wt[0]+"":jt.text=["<sup>",Wt[0],"</sup>","","<sub>",Wt[1],"</sub>",""].join(""),rn&&(jt.text=P+jt.text)}}}}(Re,ht,rt,ut,Gt):function(Nt,jt,Jt,An,_n){_n==="never"?_n="":Nt.showexponent==="all"&&Math.abs(jt.x/Nt.dtick)<1e-6&&(_n="hide"),jt.text=Ve(jt.x,Nt,_n,An)}(Re,ht,0,ut,Gt),Ye||(Re.tickprefix&&!It(Re.showtickprefix)&&(ht.text=Re.tickprefix+ht.text),Re.ticksuffix&&!It(Re.showticksuffix)&&(ht.text+=Re.ticksuffix)),Re.labelalias&&Re.labelalias.hasOwnProperty(ht.text)){var en=Re.labelalias[ht.text];typeof en=="string"&&(ht.text=en)}return(Re.tickson==="boundaries"||Re.showdividers)&&(ht.xbnd=[vt(ht.x-.5),vt(ht.x+Re.dtick-.5)]),ht},Z.hoverLabelText=function(Re,Fe,rt){rt&&(Re=b.extendFlat({},Re,{hoverformat:rt}));var Ye=b.isArrayOrTypedArray(Fe)?Fe[0]:Fe,ct=b.isArrayOrTypedArray(Fe)?Fe[1]:void 0;if(ct!==void 0&&ct!==Ye)return Z.hoverLabelText(Re,Ye,rt)+" - "+Z.hoverLabelText(Re,ct,rt);var ht=Re.type==="log"&&Ye<=0,dt=Z.tickText(Re,Re.c2l(ht?-Ye:Ye),"hover").text;return ht?Ye===0?"0":P+dt:dt};var De=["f","p","n","","m","","k","M","G","T"];function Pe(Re){return Re==="SI"||Re==="B"}function Ue(Re){return Re>14||Re<-15}function Ve(Re,Fe,rt,Ye){var ct=Re<0,ht=Fe._tickround,dt=rt||Fe.exponentformat||"B",ut=Fe._tickexponent,kt=Z.getTickFormat(Fe),xt=Fe.separatethousands;if(Ye){var vt={exponentformat:dt,minexponent:Fe.minexponent,dtick:Fe.showexponent==="none"?Fe.dtick:k(Re)&&Math.abs(Re)||1,range:Fe.showexponent==="none"?Fe.range.map(Fe.r2d):[0,Re||1]};_e(vt),ht=(Number(vt._tickround)||0)+4,ut=vt._tickexponent,Fe.hoverformat&&(kt=Fe.hoverformat)}if(kt)return Fe._numFormat(kt)(Re).replace(/-/g,P);var Mt,St=Math.pow(10,-ht)/2;if(dt==="none"&&(ut=0),(Re=Math.abs(Re))<St)Re="0",ct=!1;else{if(Re+=St,ut&&(Re*=Math.pow(10,-ut),ht+=ut),ht===0)Re=String(Math.floor(Re));else if(ht<0){Re=(Re=String(Math.round(Re))).substr(0,Re.length+ht);for(var It=ht;It<0;It++)Re+="0"}else{var Gt=(Re=String(Re)).indexOf(".")+1;Gt&&(Re=Re.substr(0,Gt+ht).replace(/\.?0+$/,""))}Re=b.numSeparate(Re,Fe._separators,xt)}return ut&&dt!=="hide"&&(Pe(dt)&&Ue(ut)&&(dt="power"),Mt=ut<0?P+-ut:dt!=="power"?"+"+ut:String(ut),dt==="e"||dt==="E"?Re+=dt+Mt:dt==="power"?Re+="10<sup>"+Mt+"</sup>":dt==="B"&&ut===9?Re+="B":Pe(dt)&&(Re+=De[ut/3+5])),ct?P+Re:Re}function Xe(Re,Fe){if(Re){var rt=Object.keys(F).reduce(function(Ye,ct){return Fe.indexOf(ct)!==-1&&F[ct].forEach(function(ht){Ye[ht]=1}),Ye},{});Object.keys(Re).forEach(function(Ye){rt[Ye]||(Ye.length===1?Re[Ye]=0:delete Re[Ye])})}}function it(Re,Fe){for(var rt=[],Ye={},ct=0;ct<Fe.length;ct++){var ht=Fe[ct];Ye[ht.text2]?Ye[ht.text2].push(ht.x):Ye[ht.text2]=[ht.x]}for(var dt in Ye)rt.push(Oe(Re,b.interp(Ye[dt],.5),dt));return rt}function tt(Re){return Re.periodX!==void 0?Re.periodX:Re.x}function pt(Re){return[Re.text,Re.x,Re.axInfo,Re.font,Re.fontSize,Re.fontColor].join("_")}function mt(Re){var Fe=Re.title.font.size,rt=(Re.title.text.match(s.BR_TAG_ALL)||[]).length;return Re.title.hasOwnProperty("standoff")?rt?Fe*(te+rt*J):Fe*te:rt?Fe*(rt+1)*J:Fe}function gt(Re,Fe){var rt=Re.l2p(Fe);return rt>1&&rt<Re._length-1}function et(Re){var Fe=M.select(Re),rt=Fe.select(".text-math-group");return rt.empty()?Fe.select("text"):rt}function $e(Re){return Re._id+".automargin"}function _t(Re){return $e(Re)+".mirror"}function Pt(Re){return Re._id+".rangeslider"}function Ot(Re,Fe){for(var rt=0;rt<Fe.length;rt++)Re.indexOf(Fe[rt])===-1&&Re.push(Fe[rt])}function Lt(Re,Fe,rt){var Ye,ct,ht=[],dt=[],ut=Re.layout;for(Ye=0;Ye<Fe.length;Ye++)ht.push(Z.getFromId(Re,Fe[Ye]));for(Ye=0;Ye<rt.length;Ye++)dt.push(Z.getFromId(Re,rt[Ye]));var kt=Object.keys(n),xt=["anchor","domain","overlaying","position","side","tickangle","editType"],vt=["linear","log"];for(Ye=0;Ye<kt.length;Ye++){var Mt=kt[Ye],St=ht[0][Mt],It=dt[0][Mt],Gt=!0,en=!1,Nt=!1;if(Mt.charAt(0)!=="_"&&typeof St!="function"&&xt.indexOf(Mt)===-1){for(ct=1;ct<ht.length&&Gt;ct++){var jt=ht[ct][Mt];Mt==="type"&&vt.indexOf(St)!==-1&&vt.indexOf(jt)!==-1&&St!==jt?en=!0:jt!==St&&(Gt=!1)}for(ct=1;ct<dt.length&&Gt;ct++){var Jt=dt[ct][Mt];Mt==="type"&&vt.indexOf(It)!==-1&&vt.indexOf(Jt)!==-1&&It!==Jt?Nt=!0:dt[ct][Mt]!==It&&(Gt=!1)}Gt&&(en&&(ut[ht[0]._name].type="linear"),Nt&&(ut[dt[0]._name].type="linear"),He(ut,Mt,ht,dt,Re._fullLayout._dfltTitle))}}for(Ye=0;Ye<Re._fullLayout.annotations.length;Ye++){var An=Re._fullLayout.annotations[Ye];Fe.indexOf(An.xref)!==-1&&rt.indexOf(An.yref)!==-1&&b.swapAttrs(ut.annotations[Ye],["?"])}}function He(Re,Fe,rt,Ye,ct){var ht,dt=b.nestedProperty,ut=dt(Re[rt[0]._name],Fe).get(),kt=dt(Re[Ye[0]._name],Fe).get();for(Fe==="title"&&(ut&&ut.text===ct.x&&(ut.text=ct.y),kt&&kt.text===ct.y&&(kt.text=ct.x)),ht=0;ht<rt.length;ht++)dt(Re,rt[ht]._name+"."+Fe).set(kt);for(ht=0;ht<Ye.length;ht++)dt(Re,Ye[ht]._name+"."+Fe).set(ut)}function We(Re){return Re._id==="angularaxis"}function Be(Re,Fe){for(var rt=Fe._rangebreaks.length,Ye=0;Ye<rt;Ye++){var ct=Fe._rangebreaks[Ye];if(Re>=ct.min&&Re<ct.max)return ct.max}return Re}function Ge(Re){return(Re.ticklabelposition||"").indexOf("inside")!==-1}function at(Re,Fe){Ge(Re._anchorAxis||{})&&Re._hideCounterAxisInsideTickLabels&&Re._hideCounterAxisInsideTickLabels(Fe)}function nt(Re,Fe,rt,Ye){var ct,ht=Re.anchor==="free"||Re.overlaying!==void 0&&Re.overlaying!==!1?Re.overlaying:Re._id;ct=Ye?Re.side==="right"?Fe:-Fe:Fe,ht in rt||(rt[ht]={}),Re.side in rt[ht]||(rt[ht][Re.side]=0),rt[ht][Re.side]+=ct}Z.getTickFormat=function(Re){var Fe,rt,Ye,ct,ht,dt,ut,kt;function xt(St){return typeof St!="string"?St:Number(St.replace("M",""))*y}function vt(St,It){var Gt=["L","D"];if(typeof St==typeof It){if(typeof St=="number")return St-It;var en=Gt.indexOf(St.charAt(0)),Nt=Gt.indexOf(It.charAt(0));return en===Nt?Number(St.replace(/(L|D)/g,""))-Number(It.replace(/(L|D)/g,"")):en-Nt}return typeof St=="number"?1:-1}function Mt(St,It){var Gt=It[0]===null,en=It[1]===null,Nt=vt(St,It[0])>=0,jt=vt(St,It[1])<=0;return(Gt||Nt)&&(en||jt)}if(Re.tickformatstops&&Re.tickformatstops.length>0)switch(Re.type){case"date":case"linear":for(Fe=0;Fe<Re.tickformatstops.length;Fe++)if((Ye=Re.tickformatstops[Fe]).enabled&&(ct=Re.dtick,ht=Ye.dtickrange,dt=void 0,ut=void 0,kt=void 0,dt=xt||function(St){return St},ut=ht[0],kt=ht[1],(!ut&&typeof ut!="number"||dt(ut)<=dt(ct))&&(!kt&&typeof kt!="number"||dt(kt)>=dt(ct)))){rt=Ye;break}break;case"log":for(Fe=0;Fe<Re.tickformatstops.length;Fe++)if((Ye=Re.tickformatstops[Fe]).enabled&&Mt(Re.dtick,Ye.dtickrange)){rt=Ye;break}}return rt?rt.value:Re.tickformat},Z.getSubplots=function(Re,Fe){var rt=Re._fullLayout._subplots,Ye=rt.cartesian.concat(rt.gl2d||[]),ct=Fe?Z.findSubplotsWithAxis(Ye,Fe):Ye;return ct.sort(function(ht,dt){var ut=ht.substr(1).split("y"),kt=dt.substr(1).split("y");return ut[0]===kt[0]?+ut[1]-+kt[1]:+ut[0]-+kt[0]}),ct},Z.findSubplotsWithAxis=function(Re,Fe){for(var rt=new RegExp(Fe._id.charAt(0)==="x"?"^"+Fe._id+"y":Fe._id+"$"),Ye=[],ct=0;ct<Re.length;ct++){var ht=Re[ct];rt.test(ht)&&Ye.push(ht)}return Ye},Z.makeClipPaths=function(Re){var Fe=Re._fullLayout;if(!Fe._hasOnlyLargeSploms){var rt,Ye,ct={_offset:0,_length:Fe.width,_id:""},ht={_offset:0,_length:Fe.height,_id:""},dt=Z.list(Re,"x",!0),ut=Z.list(Re,"y",!0),kt=[];for(rt=0;rt<dt.length;rt++)for(kt.push({x:dt[rt],y:ht}),Ye=0;Ye<ut.length;Ye++)rt===0&&kt.push({x:ct,y:ut[Ye]}),kt.push({x:dt[rt],y:ut[Ye]});var xt=Fe._clips.selectAll(".axesclip").data(kt,function(vt){return vt.x._id+vt.y._id});xt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(vt){return"clip"+Fe._uid+vt.x._id+vt.y._id}).append("rect"),xt.exit().remove(),xt.each(function(vt){M.select(this).select("rect").attr({x:vt.x._offset||0,y:vt.y._offset||0,width:vt.x._length||1,height:vt.y._length||1})})}},Z.draw=function(Re,Fe,rt){var Ye=Re._fullLayout;Fe==="redraw"&&Ye._paper.selectAll("g.subplot").each(function(ut){var kt=ut[0],xt=Ye._plots[kt];if(xt){var vt=xt.xaxis,Mt=xt.yaxis;xt.xaxislayer.selectAll("."+vt._id+"tick").remove(),xt.yaxislayer.selectAll("."+Mt._id+"tick").remove(),xt.xaxislayer.selectAll("."+vt._id+"tick2").remove(),xt.yaxislayer.selectAll("."+Mt._id+"tick2").remove(),xt.xaxislayer.selectAll("."+vt._id+"divider").remove(),xt.yaxislayer.selectAll("."+Mt._id+"divider").remove(),xt.minorGridlayer&&xt.minorGridlayer.selectAll("path").remove(),xt.gridlayer&&xt.gridlayer.selectAll("path").remove(),xt.zerolinelayer&&xt.zerolinelayer.selectAll("path").remove(),Ye._infolayer.select(".g-"+vt._id+"title").remove(),Ye._infolayer.select(".g-"+Mt._id+"title").remove()}});var ct=Fe&&Fe!=="redraw"?Fe:Z.listIds(Re),ht=Z.list(Re).filter(function(ut){return ut.autoshift}).map(function(ut){return ut.overlaying});ct.map(function(ut){var kt=Z.getFromId(Re,ut);if(kt.tickmode==="sync"&&kt.overlaying){var xt=ct.findIndex(function(vt){return vt===kt.overlaying});xt>=0&&ct.unshift(ct.splice(xt,1).shift())}});var dt={false:{left:0,right:0}};return b.syncOrAsync(ct.map(function(ut){return function(){if(ut){var kt=Z.getFromId(Re,ut);rt||(rt={}),rt.axShifts=dt,rt.overlayingShiftedAx=ht;var xt=Z.drawOne(Re,kt,rt);return kt._shiftPusher&&nt(kt,kt._fullDepth||0,dt,!0),kt._r=kt.range.slice(),kt._rl=b.simpleMap(kt._r,kt.r2l),xt}}}))},Z.drawOne=function(Re,Fe,rt){var Ye,ct,ht,dt=(rt=rt||{}).axShifts||{},ut=rt.overlayingShiftedAx||[];Fe.setScale();var kt=Re._fullLayout,xt=Fe._id,vt=xt.charAt(0),Mt=Z.counterLetter(xt),St=kt._plots[Fe._mainSubplot];if(St){if(Fe._shiftPusher=Fe.autoshift||ut.indexOf(Fe._id)!==-1||ut.indexOf(Fe.overlaying)!==-1,Fe._shiftPusher&Fe.anchor==="free"){var It=Fe.linewidth/2||0;Fe.ticks==="inside"&&(It+=Fe.ticklen),nt(Fe,It,dt,!0),nt(Fe,Fe.shift||0,dt,!1)}rt.skipTitle===!0&&Fe._shift!==void 0||(Fe._shift=function(on,Zt){return on.autoshift?Zt[on.overlaying][on.side]:on.shift||0}(Fe,dt));var Gt=St[vt+"axislayer"],en=Fe._mainLinePosition,Nt=en+=Fe._shift,jt=Fe._mainMirrorPosition,Jt=Fe._vals=Z.calcTicks(Fe),An=[Fe.mirror,Nt,jt].join("_");for(Ye=0;Ye<Jt.length;Ye++)Jt[Ye].axInfo=An;Fe._selections={},Fe._tickAngles&&(Fe._prevTickAngles=Fe._tickAngles),Fe._tickAngles={},Fe._depth=null;var _n={};if(Fe.visible){var un,Wt,rn=Z.makeTransTickFn(Fe),$t=Z.makeTransTickLabelFn(Fe),sn=Fe.ticks==="inside",xn=Fe.ticks==="outside";if(Fe.tickson==="boundaries"){var wn=function(on,Zt){var Xt,nn=[],ln=function(kn,En){var Fn=kn.xbnd[En];Fn!==null&&nn.push(b.extendFlat({},kn,{x:Fn}))};if(Zt.length){for(Xt=0;Xt<Zt.length;Xt++)ln(Zt[Xt],0);ln(Zt[Xt-1],1)}return nn}(0,Jt);Wt=Z.clipEnds(Fe,wn),un=sn?Wt:wn}else Wt=Z.clipEnds(Fe,Jt),un=sn&&Fe.ticklabelmode!=="period"?Wt:Jt;var Pn,Cn=Fe._gridVals=Wt,Sn=function(on,Zt){var Xt,nn,ln=[],kn=Zt.length&&Zt[Zt.length-1].x<Zt[0].x,En=function(Bn,Zn){var Vn=Bn.xbnd[Zn];Vn!==null&&ln.push(b.extendFlat({},Bn,{x:Vn}))};if(on.showdividers&&Zt.length){for(Xt=0;Xt<Zt.length;Xt++){var Fn=Zt[Xt];Fn.text2!==nn&&En(Fn,kn?1:0),nn=Fn.text2}En(Zt[Xt-1],kn?0:1)}return ln}(Fe,Jt);if(!kt._hasOnlyLargeSploms){var Nn=Fe._subplotsWith,zn={};for(Ye=0;Ye<Nn.length;Ye++){ct=Nn[Ye];var er=(ht=kt._plots[ct])[Mt+"axis"],nr=er._mainAxis._id;if(!zn[nr]){zn[nr]=1;var ir=vt==="x"?"M0,"+er._offset+"v"+er._length:"M"+er._offset+",0h"+er._length;Z.drawGrid(Re,Fe,{vals:Cn,counterAxis:er,layer:ht.gridlayer.select("."+xt),minorLayer:ht.minorGridlayer.select("."+xt),path:ir,transFn:rn}),Z.drawZeroLine(Re,Fe,{counterAxis:er,layer:ht.zerolinelayer,path:ir,transFn:rn})}}}var Yn=Z.getTickSigns(Fe),mr=Z.getTickSigns(Fe,"minor");if(Fe.ticks||Fe.minor&&Fe.minor.ticks){var Bt,Qt,vn,fn,Tn=Z.makeTickPath(Fe,Nt,Yn[2]),jn=Z.makeTickPath(Fe,Nt,mr[2],{minor:!0});if(Fe._anchorAxis&&Fe.mirror&&Fe.mirror!==!0?(Bt=Z.makeTickPath(Fe,jt,Yn[3]),Qt=Z.makeTickPath(Fe,jt,mr[3],{minor:!0}),vn=Tn+Bt,fn=jn+Qt):(Bt="",Qt="",vn=Tn,fn=jn),Fe.showdividers&&xn&&Fe.tickson==="boundaries"){var On={};for(Ye=0;Ye<Sn.length;Ye++)On[Sn[Ye].x]=1;Pn=function(on){return On[on.x]?Bt:vn}}else Pn=function(on){return on.minor?fn:vn}}if(Z.drawTicks(Re,Fe,{vals:un,layer:Gt,path:Pn,transFn:rn}),Fe.mirror==="allticks"){var Dn=Object.keys(Fe._linepositions||{});for(Ye=0;Ye<Dn.length;Ye++){ct=Dn[Ye],ht=kt._plots[ct];var $n=Fe._linepositions[ct]||[],qt=$n[0],hn=$n[1],Et=$n[2],Ht=Z.makeTickPath(Fe,qt,Et?Yn[0]:mr[0],{minor:Et})+Z.makeTickPath(Fe,hn,Et?Yn[1]:mr[1],{minor:Et});Z.drawTicks(Re,Fe,{vals:un,layer:ht[vt+"axislayer"],path:Ht,transFn:rn})}}var Kt=[];if(Kt.push(function(){return Z.drawLabels(Re,Fe,{vals:Jt,layer:Gt,plotinfo:ht,transFn:$t,labelFns:Z.makeLabelFns(Fe,Nt)})}),Fe.type==="multicategory"){var gn={x:2,y:10}[vt];Kt.push(function(){var on={x:"height",y:"width"}[vt],Zt=yn()[on]+gn+(Fe._tickAngles[xt+"tick"]?Fe.tickfont.size*J:0);return Z.drawLabels(Re,Fe,{vals:it(Fe,Jt),layer:Gt,cls:xt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:rn,labelFns:Z.makeLabelFns(Fe,Nt+Zt*Yn[4])})}),Kt.push(function(){return Fe._depth=Yn[4]*(yn("tick2")[Fe.side]-Nt),function(on,Zt,Xt){var nn=Zt._id+"divider",ln=Xt.vals,kn=Xt.layer.selectAll("path."+nn).data(ln,pt);kn.exit().remove(),kn.enter().insert("path",":first-child").classed(nn,1).classed("crisp",1).call(i.stroke,Zt.dividercolor).style("stroke-width",r.crispRound(on,Zt.dividerwidth,1)+"px"),kn.attr("transform",Xt.transFn).attr("d",Xt.path)}(Re,Fe,{vals:Sn,layer:Gt,path:Z.makeTickPath(Fe,Nt,Yn[4],{len:Fe._depth}),transFn:rn})})}else Fe.title.hasOwnProperty("standoff")&&Kt.push(function(){Fe._depth=Yn[4]*(yn()[Fe.side]-Nt)});var pn=T.getComponentMethod("rangeslider","isVisible")(Fe);return rt.skipTitle||pn&&Fe.side==="bottom"||Kt.push(function(){return function(on,Zt){var Xt,nn=on._fullLayout,ln=Zt._id,kn=ln.charAt(0),En=Zt.title.font.size;if(Zt.title.hasOwnProperty("standoff"))Xt=Zt._depth+Zt.title.standoff+mt(Zt);else{var Fn=Ge(Zt);if(Zt.type==="multicategory")Xt=Zt._depth;else{var Bn=1.5*En;Fn&&(Bn=.5*En,Zt.ticks==="outside"&&(Bn+=Zt.ticklen)),Xt=10+Bn+(Zt.linewidth?Zt.linewidth-1:0)}Fn||(Xt+=kn==="x"?Zt.side==="top"?En*(Zt.showticklabels?1:0):En*(Zt.showticklabels?1.5:.5):Zt.side==="right"?En*(Zt.showticklabels?1:.5):En*(Zt.showticklabels?.5:0))}var Zn,Vn,Xn,Kn,Wn=Z.getPxPosition(on,Zt);if(kn==="x"?(Vn=Zt._offset+Zt._length/2,Xn=Zt.side==="top"?Wn-Xt:Wn+Xt):(Xn=Zt._offset+Zt._length/2,Vn=Zt.side==="right"?Wn+Xt:Wn-Xt,Zn={rotate:"-90",offset:0}),Zt.type!=="multicategory"){var fr=Zt._selections[Zt._id+"tick"];if(Kn={selection:fr,side:Zt.side},fr&&fr.node()&&fr.node().parentNode){var ar=r.getTranslate(fr.node().parentNode);Kn.offsetLeft=ar.x,Kn.offsetTop=ar.y}Zt.title.hasOwnProperty("standoff")&&(Kn.pad=0)}return Zt._titleStandoff=Xt,t.draw(on,ln+"title",{propContainer:Zt,propName:Zt._name+".title.text",placeholder:nn._dfltTitle[kn],avoid:Kn,transform:Zn,attributes:{x:Vn,y:Xn,"text-anchor":"middle"}})}(Re,Fe)}),Kt.push(function(){var on,Zt,Xt,nn,ln=Fe.side.charAt(0),kn=K[Fe.side].charAt(0),En=Z.getPxPosition(Re,Fe),Fn=xn?Fe.ticklen:0;(Fe.automargin||pn||Fe._shiftPusher)&&(Fe.type==="multicategory"?on=yn("tick2"):(on=yn(),vt==="x"&&ln==="b"&&(Fe._depth=Math.max(on.width>0?on.bottom-En:0,Fn))));var Bn=0,Zn=0;if(Fe._shiftPusher&&(Bn=Math.max(Fn,on.height>0?ln==="l"?En-on.left:on.right-En:0),Fe.title.text!==kt._dfltTitle[vt]&&(Zn=(Fe._titleStandoff||0)+(Fe._titleScoot||0),ln==="l"&&(Zn+=mt(Fe))),Fe._fullDepth=Math.max(Bn,Zn)),Fe.automargin){Zt={x:0,y:0,r:0,l:0,t:0,b:0};var Vn=[0,1],Xn=typeof Fe._shift=="number"?Fe._shift:0;if(vt==="x"){if(ln==="b"?Zt[ln]=Fe._depth:(Zt[ln]=Fe._depth=Math.max(on.width>0?En-on.top:0,Fn),Vn.reverse()),on.width>0){var Kn=on.right-(Fe._offset+Fe._length);Kn>0&&(Zt.xr=1,Zt.r=Kn);var Wn=Fe._offset-on.left;Wn>0&&(Zt.xl=0,Zt.l=Wn)}}else if(ln==="l"?(Fe._depth=Math.max(on.height>0?En-on.left:0,Fn),Zt[ln]=Fe._depth-Xn):(Fe._depth=Math.max(on.height>0?on.right-En:0,Fn),Zt[ln]=Fe._depth+Xn,Vn.reverse()),on.height>0){var fr=on.bottom-(Fe._offset+Fe._length);fr>0&&(Zt.yb=0,Zt.b=fr);var ar=Fe._offset-on.top;ar>0&&(Zt.yt=1,Zt.t=ar)}Zt[Mt]=Fe.anchor==="free"?Fe.position:Fe._anchorAxis.domain[Vn[0]],Fe.title.text!==kt._dfltTitle[vt]&&(Zt[ln]+=mt(Fe)+(Fe.title.standoff||0)),Fe.mirror&&Fe.anchor!=="free"&&((Xt={x:0,y:0,r:0,l:0,t:0,b:0})[kn]=Fe.linewidth,Fe.mirror&&Fe.mirror!==!0&&(Xt[kn]+=Fn),Fe.mirror===!0||Fe.mirror==="ticks"?Xt[Mt]=Fe._anchorAxis.domain[Vn[1]]:Fe.mirror!=="all"&&Fe.mirror!=="allticks"||(Xt[Mt]=[Fe._counterDomainMin,Fe._counterDomainMax][Vn[1]]))}pn&&(nn=T.getComponentMethod("rangeslider","autoMarginOpts")(Re,Fe)),typeof Fe.automargin=="string"&&(Xe(Zt,Fe.automargin),Xe(Xt,Fe.automargin)),a.autoMargin(Re,$e(Fe),Zt),a.autoMargin(Re,_t(Fe),Xt),a.autoMargin(Re,Pt(Fe),nn)}),b.syncOrAsync(Kt)}}function yn(on){var Zt=xt+(on||"tick");return _n[Zt]||(_n[Zt]=function(Xt,nn,ln){var kn,En,Fn,Bn;if(Xt._selections[nn].size())kn=1/0,En=-1/0,Fn=1/0,Bn=-1/0,Xt._selections[nn].each(function(){var Vn=et(this),Xn=r.bBox(Vn.node().parentNode);kn=Math.min(kn,Xn.top),En=Math.max(En,Xn.bottom),Fn=Math.min(Fn,Xn.left),Bn=Math.max(Bn,Xn.right)});else{var Zn=Z.makeLabelFns(Xt,ln);kn=En=Zn.yFn({dx:0,dy:0,fontSize:0}),Fn=Bn=Zn.xFn({dx:0,dy:0,fontSize:0})}return{top:kn,bottom:En,left:Fn,right:Bn,height:En-kn,width:Bn-Fn}}(Fe,Zt,Nt)),_n[Zt]}},Z.getTickSigns=function(Re,Fe){var rt=Re._id.charAt(0),Ye={x:"top",y:"right"}[rt],ct=Re.side===Ye?1:-1,ht=[-1,1,ct,-ct];return(Fe?(Re.minor||{}).ticks:Re.ticks)!=="inside"==(rt==="x")&&(ht=ht.map(function(dt){return-dt})),Re.side&&ht.push({l:-1,t:-1,r:1,b:1}[Re.side.charAt(0)]),ht},Z.makeTransTickFn=function(Re){return Re._id.charAt(0)==="x"?function(Fe){return g(Re._offset+Re.l2p(Fe.x),0)}:function(Fe){return g(0,Re._offset+Re.l2p(Fe.x))}},Z.makeTransTickLabelFn=function(Re){var Fe=function(ct){var ht=ct.ticklabelposition||"",dt=function(jt){return ht.indexOf(jt)!==-1},ut=dt("top"),kt=dt("left"),xt=dt("right"),vt=dt("bottom"),Mt=dt("inside"),St=vt||kt||ut||xt;if(!St&&!Mt)return[0,0];var It=ct.side,Gt=St?(ct.tickwidth||0)/2:0,en=3,Nt=ct.tickfont?ct.tickfont.size:12;return(vt||ut)&&(Gt+=Nt*te,en+=(ct.linewidth||0)/2),(kt||xt)&&(Gt+=(ct.linewidth||0)/2,en+=3),Mt&&It==="top"&&(en-=Nt*(1-te)),(kt||ut)&&(Gt=-Gt),It!=="bottom"&&It!=="right"||(en=-en),[St?Gt:0,Mt?en:0]}(Re),rt=Fe[0],Ye=Fe[1];return Re._id.charAt(0)==="x"?function(ct){return g(rt+Re._offset+Re.l2p(tt(ct)),Ye)}:function(ct){return g(Ye,rt+Re._offset+Re.l2p(tt(ct)))}},Z.makeTickPath=function(Re,Fe,rt,Ye){Ye||(Ye={});var ct=Ye.minor;if(ct&&!Re.minor)return"";var ht=Ye.len!==void 0?Ye.len:ct?Re.minor.ticklen:Re.ticklen,dt=Re._id.charAt(0),ut=(Re.linewidth||1)/2;return dt==="x"?"M0,"+(Fe+ut*rt)+"v"+ht*rt:"M"+(Fe+ut*rt)+",0h"+ht*rt},Z.makeLabelFns=function(Re,Fe,rt){var Ye=Re.ticklabelposition||"",ct=function(wn){return Ye.indexOf(wn)!==-1},ht=ct("top"),dt=ct("left"),ut=ct("right"),kt=ct("bottom")||dt||ht||ut,xt=ct("inside"),vt=Ye==="inside"&&Re.ticks==="inside"||!xt&&Re.ticks==="outside"&&Re.tickson!=="boundaries",Mt=0,St=0,It=vt?Re.ticklen:0;if(xt?It*=-1:kt&&(It=0),vt&&(Mt+=It,rt)){var Gt=b.deg2rad(rt);Mt=It*Math.cos(Gt)+1,St=It*Math.sin(Gt)}Re.showticklabels&&(vt||Re.showline)&&(Mt+=.2*Re.tickfont.size);var en,Nt,jt,Jt,An,_n={labelStandoff:Mt+=(Re.linewidth||1)/2*(xt?-1:1),labelShift:St},un=0,Wt=Re.side,rn=Re._id.charAt(0),$t=Re.tickangle;if(rn==="x")Jt=(An=!xt&&Wt==="bottom"||xt&&Wt==="top")?1:-1,xt&&(Jt*=-1),en=St*Jt,Nt=Fe+Mt*Jt,jt=An?1:-.2,Math.abs($t)===90&&(xt?jt+=j:jt=$t===-90&&Wt==="bottom"?te:$t===90&&Wt==="top"?j:.5,un=j/2*($t/90)),_n.xFn=function(wn){return wn.dx+en+un*wn.fontSize},_n.yFn=function(wn){return wn.dy+Nt+wn.fontSize*jt},_n.anchorFn=function(wn,Pn){if(kt){if(dt)return"end";if(ut)return"start"}return k(Pn)&&Pn!==0&&Pn!==180?Pn*Jt<0!==xt?"end":"start":"middle"},_n.heightFn=function(wn,Pn,Cn){return Pn<-60||Pn>60?-.5*Cn:Re.side==="top"!==xt?-Cn:0};else if(rn==="y"){if(Jt=(An=!xt&&Wt==="left"||xt&&Wt==="right")?1:-1,xt&&(Jt*=-1),en=Mt,Nt=St*Jt,jt=0,xt||Math.abs($t)!==90||(jt=$t===-90&&Wt==="left"||$t===90&&Wt==="right"?te:.5),xt){var sn=k($t)?+$t:0;if(sn!==0){var xn=b.deg2rad(sn);un=Math.abs(Math.sin(xn))*te*Jt,jt=0}}_n.xFn=function(wn){return wn.dx+Fe-(en+wn.fontSize*jt)*Jt+un*wn.fontSize},_n.yFn=function(wn){return wn.dy+Nt+wn.fontSize*j},_n.anchorFn=function(wn,Pn){return k(Pn)&&Math.abs(Pn)===90?"middle":An?"end":"start"},_n.heightFn=function(wn,Pn,Cn){return Re.side==="right"&&(Pn*=-1),Pn<-30?-Cn:Pn<30?-.5*Cn:0}}return _n},Z.drawTicks=function(Re,Fe,rt){rt=rt||{};var Ye=Fe._id+"tick",ct=[].concat(Fe.minor&&Fe.minor.ticks?rt.vals.filter(function(dt){return dt.minor&&!dt.noTick}):[]).concat(Fe.ticks?rt.vals.filter(function(dt){return!dt.minor&&!dt.noTick}):[]),ht=rt.layer.selectAll("path."+Ye).data(ct,pt);ht.exit().remove(),ht.enter().append("path").classed(Ye,1).classed("ticks",1).classed("crisp",rt.crisp!==!1).each(function(dt){return i.stroke(M.select(this),dt.minor?Fe.minor.tickcolor:Fe.tickcolor)}).style("stroke-width",function(dt){return r.crispRound(Re,dt.minor?Fe.minor.tickwidth:Fe.tickwidth,1)+"px"}).attr("d",rt.path).style("display",null),at(Fe,[N]),ht.attr("transform",rt.transFn)},Z.drawGrid=function(Re,Fe,rt){if(rt=rt||{},Fe.tickmode!=="sync"){var Ye=Fe._id+"grid",ct=Fe.minor&&Fe.minor.showgrid,ht=ct?rt.vals.filter(function(jt){return jt.minor}):[],dt=Fe.showgrid?rt.vals.filter(function(jt){return!jt.minor}):[],ut=rt.counterAxis;if(ut&&Z.shouldShowZeroLine(Re,Fe,ut))for(var kt=Fe.tickmode==="array",xt=0;xt<dt.length;xt++){var vt=dt[xt].x;if(kt?!vt:Math.abs(vt)<Fe.dtick/100){if(dt=dt.slice(0,xt).concat(dt.slice(xt+1)),!kt)break;xt--}}Fe._gw=r.crispRound(Re,Fe.gridwidth,1);for(var Mt=ct?r.crispRound(Re,Fe.minor.gridwidth,1):0,St=rt.layer,It=rt.minorLayer,Gt=1;Gt>=0;Gt--){var en=Gt?St:It;if(en){var Nt=en.selectAll("path."+Ye).data(Gt?dt:ht,pt);Nt.exit().remove(),Nt.enter().append("path").classed(Ye,1).classed("crisp",rt.crisp!==!1),Nt.attr("transform",rt.transFn).attr("d",rt.path).each(function(jt){return i.stroke(M.select(this),jt.minor?Fe.minor.gridcolor:Fe.gridcolor||"#ddd")}).style("stroke-dasharray",function(jt){return r.dashStyle(jt.minor?Fe.minor.griddash:Fe.griddash,jt.minor?Fe.minor.gridwidth:Fe.gridwidth)}).style("stroke-width",function(jt){return(jt.minor?Mt:Fe._gw)+"px"}).style("display",null),typeof rt.path=="function"&&Nt.attr("d",rt.path)}}at(Fe,[U,z])}},Z.drawZeroLine=function(Re,Fe,rt){rt=rt||rt;var Ye=Fe._id+"zl",ct=Z.shouldShowZeroLine(Re,Fe,rt.counterAxis),ht=rt.layer.selectAll("path."+Ye).data(ct?[{x:0,id:Fe._id}]:[]);ht.exit().remove(),ht.enter().append("path").classed(Ye,1).classed("zl",1).classed("crisp",rt.crisp!==!1).each(function(){rt.layer.selectAll("path").sort(function(dt,ut){return re(dt.id,ut.id)})}),ht.attr("transform",rt.transFn).attr("d",rt.path).call(i.stroke,Fe.zerolinecolor||i.defaultLine).style("stroke-width",r.crispRound(Re,Fe.zerolinewidth,Fe._gw||1)+"px").style("display",null),at(Fe,[R])},Z.drawLabels=function(Re,Fe,rt){rt=rt||{};var Ye=Re._fullLayout,ct=Fe._id,ht=rt.cls||ct+"tick",dt=rt.vals.filter(function(zn){return zn.text}),ut=rt.labelFns,kt=rt.secondary?0:Fe.tickangle,xt=(Fe._prevTickAngles||{})[ht],vt=rt.layer.selectAll("g."+ht).data(Fe.showticklabels?dt:[],pt),Mt=[];function St(zn,er){zn.each(function(nr){var ir=M.select(this),Yn=ir.select(".text-math-group"),mr=ut.anchorFn(nr,er),Bt=rt.transFn.call(ir.node(),nr)+(k(er)&&+er!=0?" rotate("+er+","+ut.xFn(nr)+","+(ut.yFn(nr)-nr.fontSize/2)+")":""),Qt=s.lineCount(ir),vn=J*nr.fontSize,fn=ut.heightFn(nr,k(er)?+er:0,(Qt-1)*vn);if(fn&&(Bt+=g(0,fn)),Yn.empty()){var Tn=ir.select("text");Tn.attr({transform:Bt,"text-anchor":mr}),Tn.style("opacity",1),Fe._adjustTickLabelsOverflow&&Fe._adjustTickLabelsOverflow()}else{var jn=r.bBox(Yn.node()).width*{end:-.5,start:.5}[mr];Yn.attr("transform",Bt+g(jn,0))}})}vt.enter().append("g").classed(ht,1).append("text").attr("text-anchor","middle").each(function(zn){var er=M.select(this),nr=Re._promises.length;er.call(s.positionText,ut.xFn(zn),ut.yFn(zn)).call(r.font,zn.font,zn.fontSize,zn.fontColor).text(zn.text).call(s.convertToTspans,Re),Re._promises[nr]?Mt.push(Re._promises.pop().then(function(){St(er,kt)})):St(er,kt)}),at(Fe,[W]),vt.exit().remove(),rt.repositionOnUpdate&&vt.each(function(zn){M.select(this).select("text").call(s.positionText,ut.xFn(zn),ut.yFn(zn))}),Fe._adjustTickLabelsOverflow=function(){var zn=Fe.ticklabeloverflow;if(zn&&zn!=="allow"){var er=zn.indexOf("hide")!==-1,nr=Fe._id.charAt(0)==="x",ir=0,Yn=nr?Re._fullLayout.width:Re._fullLayout.height;if(zn.indexOf("domain")!==-1){var mr=b.simpleMap(Fe.range,Fe.r2l);ir=Fe.l2p(mr[0])+Fe._offset,Yn=Fe.l2p(mr[1])+Fe._offset}var Bt=Math.min(ir,Yn),Qt=Math.max(ir,Yn),vn=Fe.side,fn=1/0,Tn=-1/0;for(var jn in vt.each(function($n){var qt=M.select(this);if(qt.select(".text-math-group").empty()){var hn=r.bBox(qt.node()),Et=0;nr?(hn.right>Qt||hn.left<Bt)&&(Et=1):(hn.bottom>Qt||hn.top+(Fe.tickangle?0:$n.fontSize/4)<Bt)&&(Et=1);var Ht=qt.select("text");Et?er&&Ht.style("opacity",0):(Ht.style("opacity",1),fn=vn==="bottom"||vn==="right"?Math.min(fn,nr?hn.top:hn.left):-1/0,Tn=vn==="top"||vn==="left"?Math.max(Tn,nr?hn.bottom:hn.right):1/0)}}),Ye._plots){var On=Ye._plots[jn];if(Fe._id===On.xaxis._id||Fe._id===On.yaxis._id){var Dn=nr?On.yaxis:On.xaxis;Dn&&(Dn["_visibleLabelMin_"+Fe._id]=fn,Dn["_visibleLabelMax_"+Fe._id]=Tn)}}}},Fe._hideCounterAxisInsideTickLabels=function(zn){var er=Fe._id.charAt(0)==="x",nr=[];for(var ir in Ye._plots){var Yn=Ye._plots[ir];Fe._id!==Yn.xaxis._id&&Fe._id!==Yn.yaxis._id||nr.push(er?Yn.yaxis:Yn.xaxis)}nr.forEach(function(mr,Bt){mr&&Ge(mr)&&(zn||[R,z,U,N,W]).forEach(function(Qt){var vn=Qt.K==="tick"&&Qt.L==="text"&&Fe.ticklabelmode==="period",fn=Ye._plots[Fe._mainSubplot];(Qt.K===R.K?fn.zerolinelayer.selectAll("."+Fe._id+"zl"):Qt.K===z.K?fn.minorGridlayer.selectAll("."+Fe._id):Qt.K===U.K?fn.gridlayer.selectAll("."+Fe._id):fn[Fe._id.charAt(0)+"axislayer"]).each(function(){var Tn=M.select(this);Qt.L&&(Tn=Tn.selectAll(Qt.L)),Tn.each(function(jn){var On=Fe.l2p(vn?tt(jn):jn.x)+Fe._offset,Dn=M.select(this);On<Fe["_visibleLabelMax_"+mr._id]&&On>Fe["_visibleLabelMin_"+mr._id]?Dn.style("display","none"):Qt.K!=="tick"||Bt||Dn.style("display",null)})})})})},St(vt,xt+1?xt:kt);var It=null;Fe._selections&&(Fe._selections[ht]=vt);var Gt=[function(){return Mt.length&&Promise.all(Mt)}];Fe.automargin&&Ye._redrawFromAutoMarginCount&&xt===90?(It=xt,Gt.push(function(){St(vt,xt)})):Gt.push(function(){if(St(vt,kt),dt.length&&Fe.autotickangles&&(Fe.type!=="log"||String(Fe.dtick).charAt(0)!=="D")){It=Fe.autotickangles[0];var zn,er=0,nr=[],ir=1;if(vt.each(function(pn){er=Math.max(er,pn.fontSize);var yn=Fe.l2p(pn.x),on=et(this),Zt=r.bBox(on.node());ir=Math.max(ir,s.lineCount(on)),nr.push({top:0,bottom:10,height:10,left:yn-Zt.width/2,right:yn+Zt.width/2+2,width:Zt.width+2})}),Fe.tickson!=="boundaries"&&!Fe.showdividers||rt.secondary){var Yn=dt.length,mr=Math.abs((dt[Yn-1].x-dt[0].x)*Fe._m)/(Yn-1),Bt=Fe.ticklabelposition||"",Qt=function(pn){return Bt.indexOf(pn)!==-1},vn=Qt("top"),fn=Qt("left"),Tn=Qt("right"),jn=Qt("bottom")||fn||vn||Tn?(Fe.tickwidth||0)+6:0,On=mr,Dn=1.25*er*ir,$n=On/Math.sqrt(Math.pow(On,2)+Math.pow(Dn,2)),qt=Fe.autotickangles.map(function(pn){return pn*Math.PI/180}),hn=qt.find(function(pn){return Math.abs(Math.cos(pn))<=$n});hn===void 0&&(hn=qt.reduce(function(pn,yn){return Math.abs(Math.cos(pn))<Math.abs(Math.cos(yn))?pn:yn},qt[0]));var Et=hn*(180/Math.PI);for(zn=0;zn<nr.length-1;zn++)if(b.bBoxIntersect(nr[zn],nr[zn+1],jn)){It=Et;break}}else{var Ht=2;for(Fe.ticks&&(Ht+=Fe.tickwidth/2),zn=0;zn<nr.length;zn++){var Kt=dt[zn].xbnd,gn=nr[zn];if(Kt[0]!==null&&gn.left-Fe.l2p(Kt[0])<Ht||Kt[1]!==null&&Fe.l2p(Kt[1])-gn.right<Ht){It=90;break}}}It&&St(vt,It)}}),Fe._tickAngles&&Gt.push(function(){Fe._tickAngles[ht]=It===null?k(kt)?kt:0:It});var en=function(){var zn=0,er=0;return vt.each(function(nr,ir){var Yn,mr=et(this);mr.select(".text-math-group").empty()&&(Fe._vals[ir]&&(Yn=Fe._vals[ir].bb||r.bBox(mr.node()),Fe._vals[ir].bb=Yn),zn=Math.max(zn,Yn.width),er=Math.max(er,Yn.height))}),{labelsMaxW:zn,labelsMaxH:er}},Nt=Fe._anchorAxis;if(Nt&&(Nt.autorange||Nt.insiderange)&&Ge(Fe)&&!ae(Ye,Fe._id)&&(Ye._insideTickLabelsUpdaterange||(Ye._insideTickLabelsUpdaterange={}),Nt.autorange&&(Ye._insideTickLabelsUpdaterange[Nt._name+".autorange"]=Nt.autorange,Gt.push(en)),Nt.insiderange)){var jt=en(),Jt=Fe._id.charAt(0)==="y"?jt.labelsMaxW:jt.labelsMaxH;Jt+=6,Fe.ticklabelposition==="inside"&&(Jt+=Fe.ticklen||0);var An=Fe.side==="right"||Fe.side==="top"?1:-1,_n=An===1?1:0,un=An===1?0:1,Wt=[];Wt[un]=Nt.range[un];var rn=Nt.range,$t=Nt.r2p(rn[_n]),sn=Nt.r2p(rn[un]),xn=Ye._insideTickLabelsUpdaterange[Nt._name+".range"];if(xn){var wn=Nt.r2p(xn[_n]),Pn=Nt.r2p(xn[un]),Cn=An*(Fe._id.charAt(0)==="y"?1:-1);Cn*$t<Cn*wn&&($t=wn,Wt[_n]=rn[_n]=xn[_n]),Cn*sn>Cn*Pn&&(sn=Pn,Wt[un]=rn[un]=xn[un])}var Sn=Math.abs(sn-$t);Sn-Jt>0?Jt*=1+Jt/(Sn-=Jt):Jt=0,Fe._id.charAt(0)!=="y"&&(Jt=-Jt),Wt[_n]=Nt.p2r(Nt.r2p(rn[_n])+An*Jt),Nt.autorange==="min"||Nt.autorange==="max reversed"?(Wt[0]=null,Nt._rangeInitial0=void 0,Nt._rangeInitial1=void 0):Nt.autorange!=="max"&&Nt.autorange!=="min reversed"||(Wt[1]=null,Nt._rangeInitial0=void 0,Nt._rangeInitial1=void 0),Ye._insideTickLabelsUpdaterange[Nt._name+".range"]=Wt}var Nn=b.syncOrAsync(Gt);return Nn&&Nn.then&&Re._promises.push(Nn),Nn},Z.getPxPosition=function(Re,Fe){var rt,Ye=Re._fullLayout._size,ct=Fe._id.charAt(0),ht=Fe.side;return Fe.anchor!=="free"?rt=Fe._anchorAxis:ct==="x"?rt={_offset:Ye.t+(1-(Fe.position||0))*Ye.h,_length:0}:ct==="y"&&(rt={_offset:Ye.l+(Fe.position||0)*Ye.w+Fe._shift,_length:0}),ht==="top"||ht==="left"?rt._offset:ht==="bottom"||ht==="right"?rt._offset+rt._length:void 0},Z.shouldShowZeroLine=function(Re,Fe,rt){var Ye=b.simpleMap(Fe.range,Fe.r2l);return Ye[0]*Ye[1]<=0&&Fe.zeroline&&(Fe.type==="linear"||Fe.type==="-")&&!(Fe.rangebreaks&&Fe.maskBreaks(0)===O)&&(gt(Fe,0)||!function(ct,ht,dt,ut){var kt=dt._mainAxis;if(kt){var xt=ct._fullLayout,vt=ht._id.charAt(0),Mt=Z.counterLetter(ht._id),St=ht._offset+(Math.abs(ut[0])<Math.abs(ut[1])==(vt==="x")?0:ht._length),It=xt._plots[dt._mainSubplot];if(!(It.mainplotinfo||It).overlays.length)return jt(dt);for(var Gt=Z.list(ct,Mt),en=0;en<Gt.length;en++){var Nt=Gt[en];if(Nt._mainAxis===kt&&jt(Nt))return!0}}function jt(Jt){if(!Jt.showline||!Jt.linewidth)return!1;var An=Math.max((Jt.linewidth+ht.zerolinewidth)/2,1);function _n(rn){return typeof rn=="number"&&Math.abs(rn-St)<An}if(_n(Jt._mainLinePosition)||_n(Jt._mainMirrorPosition))return!0;var un=Jt._linepositions||{};for(var Wt in un)if(_n(un[Wt][0])||_n(un[Wt][1]))return!0}}(Re,Fe,rt,Ye)||function(ct,ht){for(var dt=ct._fullData,ut=ht._mainSubplot,kt=ht._id.charAt(0),xt=0;xt<dt.length;xt++){var vt=dt[xt];if(vt.visible===!0&&vt.xaxis+vt.yaxis===ut&&(T.traceIs(vt,"bar-like")&&vt.orientation==={x:"h",y:"v"}[kt]||vt.fill&&vt.fill.charAt(vt.fill.length-1)===kt))return!0}return!1}(Re,Fe))},Z.clipEnds=function(Re,Fe){return Fe.filter(function(rt){return gt(Re,rt.x)})},Z.allowAutoMargin=function(Re){for(var Fe=Z.list(Re,"",!0),rt=0;rt<Fe.length;rt++){var Ye=Fe[rt];Ye.automargin&&(a.allowAutoMargin(Re,$e(Ye)),Ye.mirror&&a.allowAutoMargin(Re,_t(Ye))),T.getComponentMethod("rangeslider","isVisible")(Ye)&&a.allowAutoMargin(Re,Pt(Ye))}},Z.swap=function(Re,Fe){for(var rt=function(ct,ht){var dt,ut,kt=[];for(dt=0;dt<ht.length;dt++){var xt=[],vt=ct._fullData[ht[dt]].xaxis,Mt=ct._fullData[ht[dt]].yaxis;if(vt&&Mt){for(ut=0;ut<kt.length;ut++)kt[ut].x.indexOf(vt)===-1&&kt[ut].y.indexOf(Mt)===-1||xt.push(ut);if(xt.length){var St,It=kt[xt[0]];if(xt.length>1)for(ut=1;ut<xt.length;ut++)St=kt[xt[ut]],Ot(It.x,St.x),Ot(It.y,St.y);Ot(It.x,[vt]),Ot(It.y,[Mt])}else kt.push({x:[vt],y:[Mt]})}}return kt}(Re,Fe),Ye=0;Ye<rt.length;Ye++)Lt(Re,rt[Ye].x,rt[Ye].y)}},52976:function(ee,D,e){var M=e(38248),k=e(3400),a=e(39032).BADNUM,T=k.isArrayOrTypedArray,b=k.isDateTime,g=k.cleanNumber,s=Math.round;function t(r,n){return n?M(r):typeof r=="number"}function i(r){return Math.max(1,(r-1)/1e3)}ee.exports=function(r,n,o){var l=r,u=o.noMultiCategory;if(T(l)&&!l.length)return"-";if(!u&&function(p){return T(p[0])&&T(p[1])}(l))return"multicategory";if(u&&Array.isArray(l[0])){for(var d=[],c=0;c<l.length;c++)if(T(l[c]))for(var m=0;m<l[c].length;m++)d.push(l[c][m]);l=d}if(function(p,v){for(var y=p.length,x=i(y),_=0,h=0,S={},w=0;w<y;w+=x){var E=p[s(w)],C=String(E);S[C]||(S[C]=1,b(E,v)&&_++,M(E)&&h++)}return _>2*h}(l,n))return"date";var f=o.autotypenumbers!=="strict";return function(p,v){for(var y=p.length,x=i(y),_=0,h=0,S={},w=0;w<y;w+=x){var E=p[s(w)],C=String(E);if(!S[C]){S[C]=1;var P=typeof E;P==="boolean"?h++:(v?g(E)!==a:P==="number")?_++:P==="string"&&h++}}return h>2*_}(l,f)?"category":function(p,v){for(var y=p.length,x=0;x<y;x++)if(t(p[x],v))return!0;return!1}(l,f)?"linear":"-"}},28336:function(ee,D,e){var M=e(38248),k=e(24040),a=e(3400),T=e(31780),b=e(51272),g=e(94724),s=e(26332),t=e(25404),i=e(95936),r=e(42568),n=e(22416),o=e(42136),l=e(96312),u=e(78344),d=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;function m(v,y,x){function _(R,U){return a.coerce(v,y,g.rangebreaks,R,U)}if(_("enabled")){var h=_("bounds");if(h&&h.length>=2){var S,w,E="";if(h.length===2){for(S=0;S<2;S++)if(w=p(h[S])){E=d;break}}var C=_("pattern",E);if(C===d)for(S=0;S<2;S++)(w=p(h[S]))&&(y.bounds[S]=h[S]=w-1);if(C)for(S=0;S<2;S++)switch(w=h[S],C){case d:if(!M(w)||(w=+w)!==Math.floor(w)||w<0||w>=7)return void(y.enabled=!1);y.bounds[S]=h[S]=w;break;case c:if(!M(w)||(w=+w)<0||w>24)return void(y.enabled=!1);y.bounds[S]=h[S]=w}if(x.autorange===!1){var P=x.range;if(P[0]<P[1]){if(h[0]<P[0]&&h[1]>P[1])return void(y.enabled=!1)}else if(h[0]>P[0]&&h[1]<P[1])return void(y.enabled=!1)}}else{var O=_("values");if(!O||!O.length)return void(y.enabled=!1);_("dvalue")}}}ee.exports=function(v,y,x,_,h){var S,w=_.letter,E=_.font||{},C=_.splomStash||{},P=x("visible",!_.visibleDflt),O=y._template||{},R=y.type||O.type||"-";R==="date"&&(k.getComponentMethod("calendars","handleDefaults")(v,y,"calendar",_.calendar),_.noTicklabelmode||(S=x("ticklabelmode")));var U="";_.noTicklabelposition&&R!=="multicategory"||(U=a.coerce(v,y,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:S==="period"?["outside","inside"]:w==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),_.noTicklabeloverflow||x("ticklabeloverflow",U.indexOf("inside")!==-1?"hide past domain":R==="category"||R==="multicategory"?"allow":"hide past div"),u(y,h),l(v,y,x,_),n(v,y,x,_),R==="category"||_.noHover||x("hoverformat");var z=x("color"),N=z!==g.color.dflt?z:E.color,W=C.label||h._dfltTitle[w];if(r(v,y,x,R,_),!P)return y;x("title.text",W),a.coerceFont(x,"title.font",{family:E.family,size:a.bigFont(E.size),color:N}),s(v,y,x,R);var F=_.hasMinor;if(F&&(T.newContainer(y,"minor"),s(v,y,x,R,{isMinor:!0})),i(v,y,x,R,_),t(v,y,x,_),F){var V=_.isMinor;_.isMinor=!0,t(v,y,x,_),_.isMinor=V}o(v,y,x,{dfltColor:z,bgColor:_.bgColor,showGrid:_.showGrid,hasMinor:F,attributes:g}),!F||y.minor.ticks||y.minor.showgrid||delete y.minor,(y.showline||y.ticks)&&x("mirror");var j,te=R==="multicategory";if(_.noTickson||R!=="category"&&!te||!y.ticks&&!y.showgrid||(te&&(j="boundaries"),x("tickson",j)==="boundaries"&&delete y.ticklabelposition),te&&x("showdividers")&&(x("dividercolor"),x("dividerwidth")),R==="date")if(b(v,y,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:m}),y.rangebreaks.length){for(var J=0;J<y.rangebreaks.length;J++)if(y.rangebreaks[J].pattern===d){y._hasDayOfWeekBreaks=!0;break}if(u(y,h),h._has("scattergl")||h._has("splom"))for(var K=0;K<_.data.length;K++){var Z=_.data[K];Z.type!=="scattergl"&&Z.type!=="splom"||(Z.visible=!1,a.warn(Z.type+" traces do not work on axes with rangebreaks. Setting trace "+Z.index+" to `visible: false`."))}}else delete y.rangebreaks;return y};var f={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function p(v){if(typeof v=="string")return f[v.substr(0,3).toLowerCase()]}},29736:function(ee,D,e){var M=e(26880),k=M.FORMAT_LINK,a=M.DATE_FORMAT_LINK;function T(g,s){return["Sets the "+g+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+k+"."].join(" ")}function b(g,s){return T(g,s)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ee.exports={axisHoverFormat:function(g,s){return{valType:"string",dflt:"",editType:"none",description:(s?T:b)("hover text",g)+["By default the values are formatted using "+(s?"generic number format":"`"+g+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:T,descriptionWithDates:b}},79811:function(ee,D,e){var M=e(24040),k=e(33816);function a(T,b){if(b&&b.length){for(var g=0;g<b.length;g++)if(b[g][T])return!0}return!1}D.id2name=function(T){if(typeof T=="string"&&T.match(k.AX_ID_PATTERN)){var b=T.split(" ")[0].substr(1);return b==="1"&&(b=""),T.charAt(0)+"axis"+b}},D.name2id=function(T){if(T.match(k.AX_NAME_PATTERN)){var b=T.substr(5);return b==="1"&&(b=""),T.charAt(0)+b}},D.cleanId=function(T,b,g){var s=/( domain)$/.test(T);if(typeof T=="string"&&T.match(k.AX_ID_PATTERN)&&(!b||T.charAt(0)===b)&&(!s||g)){var t=T.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),T.charAt(0)+t+(s&&g?" domain":"")}},D.list=function(T,b,g){var s=T._fullLayout;if(!s)return[];var t,i=D.listIds(T,b),r=new Array(i.length);for(t=0;t<i.length;t++){var n=i[t];r[t]=s[n.charAt(0)+"axis"+n.substr(1)]}if(!g){var o=s._subplots.gl3d||[];for(t=0;t<o.length;t++){var l=s[o[t]];b?r.push(l[b+"axis"]):r.push(l.xaxis,l.yaxis,l.zaxis)}}return r},D.listIds=function(T,b){var g=T._fullLayout;if(!g)return[];var s=g._subplots;return b?s[b+"axis"]:s.xaxis.concat(s.yaxis)},D.getFromId=function(T,b,g){var s=T._fullLayout;return b=b===void 0||typeof b!="string"?b:b.replace(" domain",""),g==="x"?b=b.replace(/y[0-9]*/,""):g==="y"&&(b=b.replace(/x[0-9]*/,"")),s[D.id2name(b)]},D.getFromTrace=function(T,b,g){var s=T._fullLayout,t=null;if(M.traceIs(b,"gl3d")){var i=b.scene;i.substr(0,5)==="scene"&&(t=s[i][g+"axis"])}else t=D.getFromId(T,b[g+"axis"]||g);return t},D.idSort=function(T,b){var g=T.charAt(0),s=b.charAt(0);return g!==s?g>s?1:-1:+(T.substr(1)||1)-+(b.substr(1)||1)},D.ref2id=function(T){return!!/^[xyz]/.test(T)&&T.split(" ")[0]},D.isLinked=function(T,b){return a(b,T._axisMatchGroups)||a(b,T._axisConstraintGroups)}},22416:function(ee,D,e){var M=e(38116).isTypedArraySpec;ee.exports=function(k,a,T,b){if(a.type==="category"){var g,s=k.categoryarray,t=Array.isArray(s)&&s.length>0||M(s);t&&(g="array");var i,r=T("categoryorder",g);r==="array"&&(i=T("categoryarray")),t||r!=="array"||(r=a.categoryorder="trace"),r==="trace"?a._initialCategories=[]:r==="array"?a._initialCategories=i.slice():(i=function(n,o){var l,u,d,c=o.dataAttr||n._id.charAt(0),m={};if(o.axData)l=o.axData;else for(l=[],u=0;u<o.data.length;u++){var f=o.data[u];f[c+"axis"]===n._id&&l.push(f)}for(u=0;u<l.length;u++){var p=l[u][c];for(d=0;d<p.length;d++){var v=p[d];v!=null&&(m[v]=1)}}return Object.keys(m)}(a,b).sort(),r==="category ascending"?a._initialCategories=i:r==="category descending"&&(a._initialCategories=i.reverse()))}}},98728:function(ee,D,e){var M=e(38248),k=e(3400),a=e(39032),T=a.ONEDAY,b=a.ONEWEEK;D.dtick=function(g,s){var t=s==="log",i=s==="date",r=s==="category",n=i?T:1;if(!g)return n;if(M(g))return(g=Number(g))<=0?n:r?Math.max(1,Math.round(g)):i?Math.max(.1,g):g;if(typeof g!="string"||!i&&!t)return n;var o=g.charAt(0),l=g.substr(1);return(l=M(l)?Number(l):0)<=0||!(i&&o==="M"&&l===Math.round(l)||t&&o==="L"||t&&o==="D"&&(l===1||l===2))?n:g},D.tick0=function(g,s,t,i){return s==="date"?k.cleanDate(g,k.dateTick0(t,i%b==0?1:0)):i!=="D1"&&i!=="D2"?M(g)?Number(g):0:void 0}},33816:function(ee,D,e){var M=e(53756).counter;ee.exports={idRegex:{x:M("x","( domain)?"),y:M("y","( domain)?")},attrRegex:M("[xy]axis"),xAxisMatch:M("xaxis"),yAxisMatch:M("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(ee,D,e){var M=e(3400),k=e(19280),a=e(79811).id2name,T=e(94724),b=e(21160),g=e(78344),s=e(39032).ALMOST_EQUAL,t=e(84284).FROM_BL;function i(c,m,f){var p=f.axIds,v=f.layoutOut,y=f.hasImage,x=v._axisConstraintGroups,_=v._axisMatchGroups,h=m._id,S=h.charAt(0),w=((v._splomAxes||{})[S]||{})[h]||{},E=m._id,C=E.charAt(0)==="x";function P(X,Q){return M.coerce(c,m,T,X,Q)}m._matchGroup=null,m._constraintGroup=null,P("constrain",y?"domain":"range"),M.coerce(c,m,{constraintoward:{valType:"enumerated",values:C?["left","center","right"]:["bottom","middle","top"],dflt:C?"center":"middle"}},"constraintoward");var O,R,U=m.type,z=[];for(O=0;O<p.length;O++)(R=p[O])!==E&&v[a(R)].type===U&&z.push(R);var N=n(x,E);if(N){var W=[];for(O=0;O<z.length;O++)N[R=z[O]]||W.push(R);z=W}var F,V,j=z.length;j&&(c.matches||w.matches)&&(F=M.coerce(c,m,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(w.matches)!==-1?w.matches:void 0}},"matches"));var te=y&&!C?m.anchor:void 0;if(j&&!F&&(c.scaleanchor||te)&&(V=M.coerce(c,m,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",te)),F){m._matchGroup=o(_,E,F,1);var J=v[a(F)],K=r(v,m)/r(v,J);C!==(F.charAt(0)==="x")&&(K=(C?"x":"y")+K),o(x,E,F,K)}else c.matches&&p.indexOf(c.matches)!==-1&&M.warn("ignored "+m._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(V){var Z=P("scaleratio");Z||(Z=m.scaleratio=1),o(x,E,V,Z)}else c.scaleanchor&&p.indexOf(c.scaleanchor)!==-1&&M.warn("ignored "+m._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function r(c,m){var f=m.domain;return f||(f=c[a(m.overlaying)].domain),f[1]-f[0]}function n(c,m){for(var f=0;f<c.length;f++)if(c[f][m])return c[f];return null}function o(c,m,f,p){var v,y,x,_,h,S=n(c,m);S===null?((S={})[m]=1,h=c.length,c.push(S)):h=c.indexOf(S);var w=Object.keys(S);for(v=0;v<c.length;v++)if(x=c[v],v!==h&&x[f]){var E=x[f];for(y=0;y<w.length;y++)x[_=w[y]]=l(E,l(p,S[_]));return void c.splice(h,1)}if(p!==1)for(y=0;y<w.length;y++){var C=w[y];S[C]=l(p,S[C])}S[f]=1}function l(c,m){var f,p,v="",y="";typeof c=="string"&&(f=(v=c.match(/^[xy]*/)[0]).length,c=+c.substr(f)),typeof m=="string"&&(p=(y=m.match(/^[xy]*/)[0]).length,m=+m.substr(p));var x=c*m;return f||p?f&&p&&v.charAt(0)!==y.charAt(0)?f===p?x:(f>p?v.substr(p):y.substr(f))+x:v+y+c*m:x}function u(c,m){for(var f=m._size,p=f.h/f.w,v={},y=Object.keys(c),x=0;x<y.length;x++){var _=y[x],h=c[_];if(typeof h=="string"){var S=h.match(/^[xy]*/)[0],w=S.length;h=+h.substr(w);for(var E=S.charAt(0)==="y"?p:1/p,C=0;C<w;C++)h*=E}v[_]=h}return v}function d(c,m){var f=c._inputDomain,p=t[c.constraintoward],v=f[0]+(f[1]-f[0])*p;c.domain=c._input.domain=[v+(f[0]-v)/m,v+(f[1]-v)/m],c.setScale()}D.handleDefaults=function(c,m,f){var p,v,y,x,_,h,S,w,E=f.axIds,C=f.axHasImage,P=m._axisConstraintGroups=[],O=m._axisMatchGroups=[];for(p=0;p<E.length;p++)i(_=c[x=a(E[p])],h=m[x],{axIds:E,layoutOut:m,hasImage:C[x]});function R(J,K){for(p=0;p<J.length;p++)for(y in v=J[p])m[a(y)][K]=v}for(R(O,"_matchGroup"),p=0;p<P.length;p++)for(y in v=P[p])if((h=m[a(y)]).fixedrange){for(var U in v){var z=a(U);(c[z]||{}).fixedrange===!1&&M.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),m[z].fixedrange=!0}break}for(p=0;p<P.length;){for(y in v=P[p]){(h=m[a(y)])._matchGroup&&Object.keys(h._matchGroup).length===Object.keys(v).length&&(P.splice(p,1),p--);break}p++}R(P,"_constraintGroup");var N=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],W=!1,F=!1;function V(){w=h[S],S==="rangebreaks"&&(F=h._hasDayOfWeekBreaks)}for(p=0;p<O.length;p++){v=O[p];for(var j=0;j<N.length;j++){var te;for(y in S=N[j],w=null,v)if(_=c[x=a(y)],h=m[x],S in h){if(!h.matches&&(te=h,S in _)){V();break}w===null&&S in _&&V()}if(S==="range"&&w&&_.range&&_.range.length===2&&_.range[0]!==null&&_.range[1]!==null&&(W=!0),S==="autorange"&&w===null&&W&&(w=!1),w===null&&S in te&&(w=te[S]),w!==null)for(y in v)(h=m[a(y)])[S]=S==="range"?w.slice():w,S==="rangebreaks"&&(h._hasDayOfWeekBreaks=F,g(h,m))}}},D.enforce=function(c){var m,f,p,v,y,x,_,h,S=c._fullLayout,w=S._axisConstraintGroups||[];for(m=0;m<w.length;m++){p=u(w[m],S);var E=Object.keys(p),C=1/0,P=0,O=1/0,R={},U={},z=!1;for(f=0;f<E.length;f++)U[v=E[f]]=y=S[a(v)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),R[v]=x=Math.abs(y._m)/p[v],C=Math.min(C,x),y.constrain!=="domain"&&y._constraintShrinkable||(O=Math.min(O,x)),delete y._constraintShrinkable,P=Math.max(P,x),y.constrain==="domain"&&(z=!0);if(!(C>s*P)||z){for(f=0;f<E.length;f++)if(x=R[v=E[f]],_=(y=U[v]).constrain,x!==O||_==="domain")if(h=x/O,_==="range")b(y,h);else{var N=y._inputDomain,W=(y.domain[1]-y.domain[0])/(N[1]-N[0]),F=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if((h/=W)*F<1){y.domain=y._input.domain=N.slice(),b(y,h);continue}if(F<1&&(y.range=y._input.range=y._inputRange.slice(),h*=F),y.autorange){var V=y.r2l(y.range[0]),j=y.r2l(y.range[1]),te=(V+j)/2,J=te,K=te,Z=Math.abs(j-te),X=te-Z*h*1.0001,Q=te+Z*h*1.0001,re=k.makePadFn(S,y,0),ae=k.makePadFn(S,y,1);d(y,h);var ie,le,pe=Math.abs(y._m),de=k.concatExtremes(c,y),ve=de.min,be=de.max;for(le=0;le<ve.length;le++)(ie=ve[le].val-re(ve[le])/pe)>X&&ie<J&&(J=ie);for(le=0;le<be.length;le++)(ie=be[le].val+ae(be[le])/pe)<Q&&ie>K&&(K=ie);h/=(K-J)/(2*Z),J=y.l2r(J),K=y.l2r(K),y.range=y._input.range=V<j?[J,K]:[K,J]}d(y,h)}}}},D.getAxisGroup=function(c,m){for(var f=c._axisMatchGroups,p=0;p<f.length;p++)if(f[p][m])return"g"+p;return m},D.clean=function(c,m){if(m._inputDomain){for(var f=!1,p=m._id,v=c._fullLayout._axisConstraintGroups,y=0;y<v.length;y++)if(v[y][p]){f=!0;break}f&&m.constrain==="domain"||(m._input.domain=m.domain=m._inputDomain,delete m._inputDomain)}}},51184:function(ee,D,e){var M=e(33428),k=e(3400),a=k.numberFormat,T=e(49760),b=e(89184),g=e(24040),s=k.strTranslate,t=e(72736),i=e(76308),r=e(43616),n=e(93024),o=e(54460),l=e(93972),u=e(86476),d=e(72760),c=d.selectingOrDrawing,m=d.freeMode,f=e(84284).FROM_TL,p=e(73696),v=e(39172).redrawReglTraces,y=e(7316),x=e(79811).getFromId,_=e(22676).prepSelect,h=e(22676).clearOutline,S=e(22676).selectOnClick,w=e(21160),E=e(33816),C=E.MINDRAG,P=E.MINZOOM,O=!0;function R(ie,le,pe,de){var ve=k.ensureSingle(ie.draglayer,le,pe,function(be){be.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ie.id)});return ve.call(l,de),ve.node()}function U(ie,le,pe,de,ve,be,me){var ge=R(ie,"rect",le,pe);return M.select(ge).call(r.setRect,de,ve,be,me),ge}function z(ie,le){for(var pe=0;pe<ie.length;pe++)if(!ie[pe].fixedrange)return le;return""}function N(ie,le,pe,de,ve){for(var be=0;be<ie.length;be++){var me=ie[be];if(!me.fixedrange)if(me.rangebreaks){var ge=me._id.charAt(0)==="y",ke=ge?1-le:le,we=ge?1-pe:pe;de[me._name+".range[0]"]=me.l2r(me.p2l(ke*me._length)),de[me._name+".range[1]"]=me.l2r(me.p2l(we*me._length))}else{var ue=me._rl[0],oe=me._rl[1]-ue;de[me._name+".range[0]"]=me.l2r(ue+oe*le),de[me._name+".range[1]"]=me.l2r(ue+oe*pe)}}if(ve&&ve.length){var he=(le+(1-pe))/2;N(ve,he,1-he,de,[])}}function W(ie,le){for(var pe=0;pe<ie.length;pe++){var de=ie[pe];if(!de.fixedrange){if(de.rangebreaks){var ve=de._length,be=(de.p2l(0+le)-de.p2l(0)+(de.p2l(ve+le)-de.p2l(ve)))/2;de.range=[de.l2r(de._rl[0]-be),de.l2r(de._rl[1]-be)]}else de.range=[de.l2r(de._rl[0]-le/de._m),de.l2r(de._rl[1]-le/de._m)];de.limitRange&&de.limitRange()}}}function F(ie){return 1-(ie>=0?Math.min(ie,.9):1/(1/Math.max(ie,-.3)+3.222))}function V(ie,le,pe,de,ve){return ie.append("path").attr("class","zoombox").style({fill:le>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(pe,de)).attr("d",ve+"Z")}function j(ie,le,pe){return ie.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(le,pe)).attr("d","M0,0Z")}function te(ie,le,pe,de,ve,be){ie.attr("d",de+"M"+pe.l+","+pe.t+"v"+pe.h+"h"+pe.w+"v-"+pe.h+"h-"+pe.w+"Z"),J(ie,le,ve,be)}function J(ie,le,pe,de){pe||(ie.transition().style("fill",de>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),le.transition().style("opacity",1).duration(200))}function K(ie){M.select(ie).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Z(ie){O&&ie.data&&ie._context.showTips&&(k.notifier(k._(ie,"Double-click to zoom back out"),"long"),O=!1)}function X(ie){var le=Math.floor(Math.min(ie.b-ie.t,ie.r-ie.l,P)/2);return"M"+(ie.l-3.5)+","+(ie.t-.5+le)+"h3v"+-le+"h"+le+"v-3h-"+(le+3)+"ZM"+(ie.r+3.5)+","+(ie.t-.5+le)+"h-3v"+-le+"h"+-le+"v-3h"+(le+3)+"ZM"+(ie.r+3.5)+","+(ie.b+.5-le)+"h-3v"+le+"h"+-le+"v3h"+(le+3)+"ZM"+(ie.l-3.5)+","+(ie.b+.5-le)+"h3v"+le+"h"+le+"v3h-"+(le+3)+"Z"}function Q(ie,le,pe,de,ve){for(var be,me,ge,ke,we=!1,ue={},oe={},he=(ve||{}).xaHash,Ee=(ve||{}).yaHash,Te=0;Te<le.length;Te++){var Me=le[Te];for(be in pe)if(Me[be]){for(ge in Me)ve&&(he[ge]||Ee[ge])||(ge.charAt(0)==="x"?pe:de)[ge]||(ue[ge]=be);for(me in de)ve&&(he[me]||Ee[me])||!Me[me]||(we=!0)}for(me in de)if(Me[me])for(ke in Me)ve&&(he[ke]||Ee[ke])||(ke.charAt(0)==="x"?pe:de)[ke]||(oe[ke]=me)}we&&(k.extendFlat(ue,oe),oe={});var Se={},ze=[];for(ge in ue){var fe=x(ie,ge);ze.push(fe),Se[fe._id]=fe}var xe={},_e=[];for(ke in oe){var Oe=x(ie,ke);_e.push(Oe),xe[Oe._id]=Oe}return{xaHash:Se,yaHash:xe,xaxes:ze,yaxes:_e,xLinks:ue,yLinks:oe,isSubplotConstrained:we}}function re(ie,le){if(b){var pe=ie.onwheel!==void 0?"wheel":"mousewheel";ie._onwheel&&ie.removeEventListener(pe,ie._onwheel),ie._onwheel=le,ie.addEventListener(pe,le,{passive:!1})}else ie.onwheel!==void 0?ie.onwheel=le:ie.onmousewheel!==void 0?ie.onmousewheel=le:ie.isAddedWheelEvent||(ie.isAddedWheelEvent=!0,ie.addEventListener("wheel",le,{passive:!1}))}function ae(ie){var le=[];for(var pe in ie)le.push(ie[pe]);return le}ee.exports={makeDragBox:function(ie,le,pe,de,ve,be,me,ge){var ke,we,ue,oe,he,Ee,Te,Me,Se,ze,fe,xe,_e,Oe,De,Pe,Ue,Ve,Xe,it,tt,pt,mt,gt=ie._fullLayout._zoomlayer,et=me+ge==="nsew",$e=(me+ge).length===1;function _t(){if(ke=le.xaxis,we=le.yaxis,Se=ke._length,ze=we._length,Te=ke._offset,Me=we._offset,(ue={})[ke._id]=ke,(oe={})[we._id]=we,me&&ge)for(var Wt=le.overlays,rn=0;rn<Wt.length;rn++){var $t=Wt[rn].xaxis;ue[$t._id]=$t;var sn=Wt[rn].yaxis;oe[sn._id]=sn}he=ae(ue),Ee=ae(oe),_e=z(he,ge),Oe=z(Ee,me),De=!Oe&&!_e,xe=Q(ie,ie._fullLayout._axisMatchGroups,ue,oe);var xn=(fe=Q(ie,ie._fullLayout._axisConstraintGroups,ue,oe,xe)).isSubplotConstrained||xe.isSubplotConstrained;Pe=ge||xn,Ue=me||xn;var wn=ie._fullLayout;Ve=wn._has("scattergl"),Xe=wn._has("splom"),it=wn._has("svg")}pe+=le.yaxis._shift,_t();var Pt=function(Wt,rn,$t){return Wt?Wt==="nsew"?$t?"":rn==="pan"?"move":"crosshair":Wt.toLowerCase()+"-resize":"pointer"}(Oe+_e,ie._fullLayout.dragmode,et),Ot=U(le,me+ge+"drag",Pt,pe,de,ve,be);if(De&&!et)return Ot.onmousedown=null,Ot.style.pointerEvents="none",Ot;var Lt,He,We,Be,Ge,at,nt,Re,Fe,rt,Ye={element:Ot,gd:ie,plotinfo:le};function ct(){Ye.plotinfo.selection=!1,h(ie)}function ht(Wt,rn){var $t=Ye.gd;if($t._fullLayout._activeShapeIndex>=0)$t._fullLayout._deactivateShape($t);else{var sn=$t._fullLayout.clickmode;if(K($t),Wt!==2||$e||Nt(),et)sn.indexOf("select")>-1&&S(rn,$t,he,Ee,le.id,Ye),sn.indexOf("event")>-1&&n.click($t,rn,le.id);else if(Wt===1&&$e){var xn=me?we:ke,wn=me==="s"||ge==="w"?0:1,Pn=xn._name+".range["+wn+"]",Cn=function(zn,er){var nr,ir=zn.range[er],Yn=Math.abs(ir-zn.range[1-er]);return zn.type==="date"?ir:zn.type==="log"?(nr=Math.ceil(Math.max(0,-Math.log(Yn)/Math.LN10))+3,a("."+nr+"g")(Math.pow(10,ir))):(nr=Math.floor(Math.log(Math.abs(ir))/Math.LN10)-Math.floor(Math.log(Yn)/Math.LN10)+4,a("."+String(nr)+"g")(ir))}(xn,wn),Sn="left",Nn="middle";if(xn.fixedrange)return;me?(Nn=me==="n"?"top":"bottom",xn.side==="right"&&(Sn="right")):ge==="e"&&(Sn="right"),$t._context.showAxisRangeEntryBoxes&&M.select(Ot).call(t.makeEditable,{gd:$t,immediate:!0,background:$t._fullLayout.paper_bgcolor,text:String(Cn),fill:xn.tickfont?xn.tickfont.color:"#444",horizontalAlign:Sn,verticalAlign:Nn}).on("edit",function(zn){var er=xn.d2r(zn);er!==void 0&&g.call("_guiRelayout",$t,Pn,er)})}}}function dt(Wt,rn){if(ie._transitioningWithDuration)return!1;var $t=Math.max(0,Math.min(Se,pt*Wt+Lt)),sn=Math.max(0,Math.min(ze,mt*rn+He)),xn=Math.abs($t-Lt),wn=Math.abs(sn-He);function Pn(){nt="",We.r=We.l,We.t=We.b,Fe.attr("d","M0,0Z")}if(We.l=Math.min(Lt,$t),We.r=Math.max(Lt,$t),We.t=Math.min(He,sn),We.b=Math.max(He,sn),fe.isSubplotConstrained)xn>P||wn>P?(nt="xy",xn/Se>wn/ze?(wn=xn*ze/Se,He>sn?We.t=He-wn:We.b=He+wn):(xn=wn*Se/ze,Lt>$t?We.l=Lt-xn:We.r=Lt+xn),Fe.attr("d",X(We))):Pn();else if(xe.isSubplotConstrained)if(xn>P||wn>P){nt="xy";var Cn=Math.min(We.l/Se,(ze-We.b)/ze),Sn=Math.max(We.r/Se,(ze-We.t)/ze);We.l=Cn*Se,We.r=Sn*Se,We.b=(1-Cn)*ze,We.t=(1-Sn)*ze,Fe.attr("d",X(We))}else Pn();else!Oe||wn<Math.min(Math.max(.6*xn,C),P)?xn<C||!_e?Pn():(We.t=0,We.b=ze,nt="x",Fe.attr("d",function(Nn,zn){return"M"+(Nn.l-.5)+","+(zn-P-.5)+"h-3v"+(2*P+1)+"h3ZM"+(Nn.r+.5)+","+(zn-P-.5)+"h3v"+(2*P+1)+"h-3Z"}(We,He))):!_e||xn<Math.min(.6*wn,P)?(We.l=0,We.r=Se,nt="y",Fe.attr("d",function(Nn,zn){return"M"+(zn-P-.5)+","+(Nn.t-.5)+"v-3h"+(2*P+1)+"v3ZM"+(zn-P-.5)+","+(Nn.b+.5)+"v3h"+(2*P+1)+"v-3Z"}(We,Lt))):(nt="xy",Fe.attr("d",X(We)));We.w=We.r-We.l,We.h=We.b-We.t,nt&&(rt=!0),ie._dragged=rt,te(Re,Fe,We,Ge,at,Be),ut(),ie.emit("plotly_relayouting",tt),at=!0}function ut(){tt={},nt!=="xy"&&nt!=="x"||(N(he,We.l/Se,We.r/Se,tt,fe.xaxes),Gt("x",tt)),nt!=="xy"&&nt!=="y"||(N(Ee,(ze-We.b)/ze,(ze-We.t)/ze,tt,fe.yaxes),Gt("y",tt))}function kt(){ut(),K(ie),jt(),Z(ie)}Ye.prepFn=function(Wt,rn,$t){var sn=Ye.dragmode,xn=ie._fullLayout.dragmode;xn!==sn&&(Ye.dragmode=xn),_t(),pt=ie._fullLayout._invScaleX,mt=ie._fullLayout._invScaleY,De||(et?Wt.shiftKey?xn==="pan"?xn="zoom":c(xn)||(xn="pan"):Wt.ctrlKey&&(xn="pan"):xn="pan"),m(xn)?Ye.minDrag=1:Ye.minDrag=void 0,c(xn)?(Ye.xaxes=he,Ye.yaxes=Ee,_(Wt,rn,$t,Ye,xn)):(Ye.clickFn=ht,c(sn)&&ct(),De||(xn==="zoom"?(Ye.moveFn=dt,Ye.doneFn=kt,Ye.minDrag=1,function(wn,Pn,Cn){var Sn=Ot.getBoundingClientRect();Lt=Pn-Sn.left,He=Cn-Sn.top,ie._fullLayout._calcInverseTransform(ie);var Nn=k.apply3DTransform(ie._fullLayout._invTransform)(Lt,He);Lt=Nn[0],He=Nn[1],We={l:Lt,r:Lt,w:0,t:He,b:He,h:0},Be=ie._hmpixcount?ie._hmlumcount/ie._hmpixcount:T(ie._fullLayout.plot_bgcolor).getLuminance(),at=!1,nt="xy",rt=!1,Re=V(gt,Be,Te,Me,Ge="M0,0H"+Se+"V"+ze+"H0V0"),Fe=j(gt,Te,Me)}(0,rn,$t)):xn==="pan"&&(Ye.moveFn=It,Ye.doneFn=jt))),ie._fullLayout._redrag=function(){var wn=ie._dragdata;if(wn&&wn.element===Ot){var Pn=ie._fullLayout.dragmode;c(Pn)||(_t(),Jt([0,0,Se,ze]),Ye.moveFn(wn.dx,wn.dy))}}},u.init(Ye);var xt=[0,0,Se,ze],vt=null,Mt=E.REDRAWDELAY,St=le.mainplot?ie._fullLayout._plots[le.mainplot]:le;function It(Wt,rn){if(Wt*=pt,rn*=mt,!ie._transitioningWithDuration){if(ie._fullLayout._replotting=!0,_e==="ew"||Oe==="ns"){var $t=_e?-Wt:0,sn=Oe?-rn:0;if(xe.isSubplotConstrained){if(_e&&Oe){var xn=(Wt/Se-rn/ze)/2;$t=-(Wt=xn*Se),sn=-(rn=-xn*ze)}Oe?$t=-sn*Se/ze:sn=-$t*ze/Se}return _e&&(W(he,Wt),Gt("x")),Oe&&(W(Ee,rn),Gt("y")),Jt([$t,sn,Se,ze]),en(),void ie.emit("plotly_relayouting",tt)}var wn,Pn,Cn=_e==="w"==(Oe==="n")?1:-1;if(_e&&Oe&&(fe.isSubplotConstrained||xe.isSubplotConstrained)){var Sn=(Wt/Se+Cn*rn/ze)/2;Wt=Sn*Se,rn=Cn*Sn*ze}if(_e==="w"?Wt=nr(he,0,Wt):_e==="e"?Wt=nr(he,1,-Wt):_e||(Wt=0),Oe==="n"?rn=nr(Ee,1,rn):Oe==="s"?rn=nr(Ee,0,-rn):Oe||(rn=0),wn=_e==="w"?Wt:0,Pn=Oe==="n"?rn:0,fe.isSubplotConstrained&&!xe.isSubplotConstrained||xe.isSubplotConstrained&&_e&&Oe&&Cn>0){var Nn;if(xe.isSubplotConstrained||!_e&&Oe.length===1){for(Nn=0;Nn<he.length;Nn++)he[Nn].range=he[Nn]._r.slice(),w(he[Nn],1-rn/ze);wn=(Wt=rn*Se/ze)/2}if(xe.isSubplotConstrained||!Oe&&_e.length===1){for(Nn=0;Nn<Ee.length;Nn++)Ee[Nn].range=Ee[Nn]._r.slice(),w(Ee[Nn],1-Wt/Se);Pn=(rn=Wt*ze/Se)/2}}xe.isSubplotConstrained&&Oe||Gt("x"),xe.isSubplotConstrained&&_e||Gt("y");var zn=Se-Wt,er=ze-rn;!xe.isSubplotConstrained||_e&&Oe||(_e?(Pn=wn?0:Wt*ze/Se,er=zn*ze/Se):(wn=Pn?0:rn*Se/ze,zn=er*Se/ze)),Jt([wn,Pn,zn,er]),en(),ie.emit("plotly_relayouting",tt)}function nr(ir,Yn,mr){for(var Bt,Qt,vn=1-Yn,fn=0;fn<ir.length;fn++){var Tn=ir[fn];if(!Tn.fixedrange){Bt=Tn,Qt=Tn._rl[vn]+(Tn._rl[Yn]-Tn._rl[vn])/F(mr/Tn._length);var jn=Tn.l2r(Qt);jn!==!1&&jn!==void 0&&(Tn.range[Yn]=jn)}}return Bt._length*(Bt._rl[Yn]-Qt)/(Bt._rl[Yn]-Bt._rl[vn])}}function Gt(Wt,rn){for(var $t=xe.isSubplotConstrained?{x:Ee,y:he}[Wt]:xe[Wt+"axes"],sn=xe.isSubplotConstrained?{x:he,y:Ee}[Wt]:[],xn=0;xn<$t.length;xn++){var wn=$t[xn],Pn=wn._id,Cn=xe.xLinks[Pn]||xe.yLinks[Pn],Sn=sn[0]||ue[Cn]||oe[Cn];Sn&&(rn?(rn[wn._name+".range[0]"]=rn[Sn._name+".range[0]"],rn[wn._name+".range[1]"]=rn[Sn._name+".range[1]"]):wn.range=Sn.range.slice())}}function en(){var Wt,rn=[];function $t(Pn){for(Wt=0;Wt<Pn.length;Wt++)Pn[Wt].fixedrange||rn.push(Pn[Wt]._id)}function sn(Pn,Cn){for(Wt=0;Wt<Pn.length;Wt++){var Sn=Pn[Wt],Nn=Sn[Cn];Sn.fixedrange||Nn.tickmode!=="sync"||rn.push(Nn._id)}}for(Pe&&($t(he),$t(fe.xaxes),$t(xe.xaxes),sn(le.overlays,"xaxis")),Ue&&($t(Ee),$t(fe.yaxes),$t(xe.yaxes),sn(le.overlays,"yaxis")),tt={},Wt=0;Wt<rn.length;Wt++){var xn=rn[Wt],wn=x(ie,xn);o.drawOne(ie,wn,{skipTitle:!0}),tt[wn._name+".range[0]"]=wn.range[0],tt[wn._name+".range[1]"]=wn.range[1]}o.redrawComponents(ie,rn)}function Nt(){if(!ie._transitioningWithDuration){var Wt=ie._context.doubleClick,rn=[];_e&&(rn=rn.concat(he)),Oe&&(rn=rn.concat(Ee)),xe.xaxes&&(rn=rn.concat(xe.xaxes)),xe.yaxes&&(rn=rn.concat(xe.yaxes));var $t,sn,xn={};if(Wt==="reset+autosize")for(Wt="autosize",sn=0;sn<rn.length;sn++){var wn=($t=rn[sn])._rangeInitial0,Pn=$t._rangeInitial1,Cn=wn!==void 0||Pn!==void 0;if(Cn&&(wn!==void 0&&wn!==$t.range[0]||Pn!==void 0&&Pn!==$t.range[1])||!Cn&&$t.autorange!==!0){Wt="reset";break}}if(Wt==="autosize")for(sn=0;sn<rn.length;sn++)($t=rn[sn]).fixedrange||(xn[$t._name+".autorange"]=!0);else if(Wt==="reset"){for((_e||fe.isSubplotConstrained)&&(rn=rn.concat(fe.xaxes)),Oe&&!fe.isSubplotConstrained&&(rn=rn.concat(fe.yaxes)),fe.isSubplotConstrained&&(_e?Oe||(rn=rn.concat(Ee)):rn=rn.concat(he)),sn=0;sn<rn.length;sn++)if(!($t=rn[sn]).fixedrange){var Sn=$t._name,Nn=$t._autorangeInitial;$t._rangeInitial0===void 0&&$t._rangeInitial1===void 0?xn[Sn+".autorange"]=!0:$t._rangeInitial0===void 0?(xn[Sn+".autorange"]=Nn,xn[Sn+".range"]=[null,$t._rangeInitial1]):$t._rangeInitial1===void 0?(xn[Sn+".range"]=[$t._rangeInitial0,null],xn[Sn+".autorange"]=Nn):xn[Sn+".range"]=[$t._rangeInitial0,$t._rangeInitial1]}}ie.emit("plotly_doubleclick",null),g.call("_guiRelayout",ie,xn)}}function jt(){Jt([0,0,Se,ze]),k.syncOrAsync([y.previousPromises,function(){ie._fullLayout._replotting=!1,g.call("_guiRelayout",ie,tt)}],ie)}function Jt(Wt){var rn,$t,sn,xn,wn=ie._fullLayout,Pn=wn._plots,Cn=wn._subplots.cartesian;if(Xe&&g.subplotsRegistry.splom.drag(ie),Ve){for(rn=0;rn<Cn.length;rn++)if(sn=($t=Pn[Cn[rn]]).xaxis,xn=$t.yaxis,$t._scene){var Sn=k.simpleMap(sn.range,sn.r2l),Nn=k.simpleMap(xn.range,xn.r2l);sn.limitRange&&sn.limitRange(),xn.limitRange&&xn.limitRange(),Sn=sn.range,Nn=xn.range,$t._scene.update({range:[Sn[0],Nn[0],Sn[1],Nn[1]]})}}if((Xe||Ve)&&(p(ie),v(ie)),it){var zn=Wt[2]/ke._length,er=Wt[3]/we._length;for(rn=0;rn<Cn.length;rn++){sn=($t=Pn[Cn[rn]]).xaxis,xn=$t.yaxis;var nr,ir,Yn,mr,Bt=(Pe||xe.isSubplotConstrained)&&!sn.fixedrange&&ue[sn._id],Qt=(Ue||xe.isSubplotConstrained)&&!xn.fixedrange&&oe[xn._id];if(Bt?(nr=zn,Yn=ge||xe.isSubplotConstrained?Wt[0]:un(sn,nr)):xe.xaHash[sn._id]?(nr=zn,Yn=Wt[0]*sn._length/ke._length):xe.yaHash[sn._id]?(nr=er,Yn=Oe==="ns"?-Wt[1]*sn._length/we._length:un(sn,nr,{n:"top",s:"bottom"}[Oe])):Yn=_n(sn,nr=An(sn,zn,er)),nr>1&&(sn.maxallowed!==void 0&&Pe===(sn.range[0]<sn.range[1]?"e":"w")||sn.minallowed!==void 0&&Pe===(sn.range[0]<sn.range[1]?"w":"e"))&&(nr=1,Yn=0),Qt?(ir=er,mr=me||xe.isSubplotConstrained?Wt[1]:un(xn,ir)):xe.yaHash[xn._id]?(ir=er,mr=Wt[1]*xn._length/we._length):xe.xaHash[xn._id]?(ir=zn,mr=_e==="ew"?-Wt[0]*xn._length/ke._length:un(xn,ir,{e:"right",w:"left"}[_e])):mr=_n(xn,ir=An(xn,zn,er)),ir>1&&(xn.maxallowed!==void 0&&Ue===(xn.range[0]<xn.range[1]?"n":"s")||xn.minallowed!==void 0&&Ue===(xn.range[0]<xn.range[1]?"s":"n"))&&(ir=1,mr=0),nr||ir){nr||(nr=1),ir||(ir=1);var vn=sn._offset-Yn/nr,fn=xn._offset-mr/ir;$t.clipRect.call(r.setTranslate,Yn,mr).call(r.setScale,nr,ir),$t.plot.call(r.setTranslate,vn,fn).call(r.setScale,1/nr,1/ir),nr===$t.xScaleFactor&&ir===$t.yScaleFactor||(r.setPointGroupScale($t.zoomScalePts,nr,ir),r.setTextPointsScale($t.zoomScaleTxt,nr,ir)),r.hideOutsideRangePoints($t.clipOnAxisFalseTraces,$t),$t.xScaleFactor=nr,$t.yScaleFactor=ir}}}}function An(Wt,rn,$t){return Wt.fixedrange?0:Pe&&fe.xaHash[Wt._id]?rn:Ue&&(fe.isSubplotConstrained?fe.xaHash:fe.yaHash)[Wt._id]?$t:0}function _n(Wt,rn){return rn?(Wt.range=Wt._r.slice(),w(Wt,rn),un(Wt,rn)):0}function un(Wt,rn,$t){return Wt._length*(1-rn)*f[$t||Wt.constraintoward||"middle"]}return me.length*ge.length!=1&&re(Ot,function(Wt){if(ie._context._scrollZoom.cartesian||ie._fullLayout._enablescrollzoom){if(ct(),ie._transitioningWithDuration)return Wt.preventDefault(),void Wt.stopPropagation();_t(),clearTimeout(vt);var rn=-Wt.deltaY;if(isFinite(rn)||(rn=Wt.wheelDelta/10),isFinite(rn)){var $t,sn=Math.exp(-Math.min(Math.max(rn,-20),20)/200),xn=St.draglayer.select(".nsewdrag").node().getBoundingClientRect(),wn=(Wt.clientX-xn.left)/xn.width,Pn=(xn.bottom-Wt.clientY)/xn.height;if(Pe){for(ge||(wn=.5),$t=0;$t<he.length;$t++)Cn(he[$t],wn,sn);Gt("x"),xt[2]*=sn,xt[0]+=xt[2]*wn*(1/sn-1)}if(Ue){for(me||(Pn=.5),$t=0;$t<Ee.length;$t++)Cn(Ee[$t],Pn,sn);Gt("y"),xt[3]*=sn,xt[1]+=xt[3]*(1-Pn)*(1/sn-1)}Jt(xt),en(),ie.emit("plotly_relayouting",tt),vt=setTimeout(function(){ie._fullLayout&&(xt=[0,0,Se,ze],jt())},Mt),Wt.preventDefault()}else k.log("Did not find wheel motion attributes: ",Wt)}function Cn(Sn,Nn,zn){if(!Sn.fixedrange){var er=k.simpleMap(Sn.range,Sn.r2l),nr=er[0]+(er[1]-er[0])*Nn;Sn.range=er.map(function(ir){return Sn.l2r(nr+(ir-nr)*zn)})}}}),Ot},makeDragger:R,makeRectDragger:U,makeZoombox:V,makeCorners:j,updateZoombox:te,xyCorners:X,transitionZoombox:J,removeZoombox:K,showDoubleClickNotifier:Z,attachWheelEventHandler:re}},42464:function(ee,D,e){var M=e(33428),k=e(93024),a=e(86476),T=e(93972),b=e(51184).makeDragBox,g=e(33816).DRAGGERSIZE;D.initInteractions=function(s){var t=s._fullLayout;if(s._context.staticPlot)M.select(s).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(r,n){if((t._plots[r].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var o=r.split("y"),l=n.split("y");return o[0]===l[0]?Number(o[1]||1)-Number(l[1]||1):Number(o[0]||1)-Number(l[0]||1)}return t._plots[r].mainplot?1:-1}).forEach(function(r){var n=t._plots[r],o=n.xaxis,l=n.yaxis;if(!n.mainplot){var u=b(s,n,o._offset,l._offset,o._length,l._length,"ns","ew");u.onmousemove=function(m){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===r&&s._fullLayout._plots[r]&&k.hover(s,m,r)},k.hover(s,m,r),s._fullLayout._lasthover=u,s._fullLayout._hoversubplot=r},u.onmouseout=function(m){s._dragging||(s._fullLayout._hoversubplot=null,a.unhover(s,m))},s._context.showAxisDragHandles&&(b(s,n,o._offset-g,l._offset-g,g,g,"n","w"),b(s,n,o._offset+o._length,l._offset-g,g,g,"n","e"),b(s,n,o._offset-g,l._offset+l._length,g,g,"s","w"),b(s,n,o._offset+o._length,l._offset+l._length,g,g,"s","e"))}if(s._context.showAxisDragHandles){if(r===o._mainSubplot){var d=o._mainLinePosition;o.side==="top"&&(d-=g),b(s,n,o._offset+.1*o._length,d,.8*o._length,g,"","ew"),b(s,n,o._offset,d,.1*o._length,g,"","w"),b(s,n,o._offset+.9*o._length,d,.1*o._length,g,"","e")}if(r===l._mainSubplot){var c=l._mainLinePosition;l.side!=="right"&&(c-=g),b(s,n,c,l._offset+.1*l._length,g,.8*l._length,"ns",""),b(s,n,c,l._offset+.9*l._length,g,.1*l._length,"s",""),b(s,n,c,l._offset,g,.1*l._length,"n","")}}});var i=t._hoverlayer.node();i.onmousemove=function(r){r.target=s._fullLayout._lasthover,k.hover(s,r,t._hoversubplot)},i.onclick=function(r){r.target=s._fullLayout._lasthover,k.click(s,r)},i.onmousedown=function(r){s._fullLayout._lasthover.onmousedown(r)},D.updateFx(s)}},D.updateFx=function(s){var t=s._fullLayout,i=t.dragmode==="pan"?"move":"crosshair";T(t._draggers,i)}},36632:function(ee,D,e){var M=e(24040),k=e(3400),a=e(79811);ee.exports=function(T){return function(b,g){var s=b[T];if(Array.isArray(s))for(var t=M.subplotsRegistry.cartesian,i=t.idRegex,r=g._subplots,n=r.xaxis,o=r.yaxis,l=r.cartesian,u=g._has("cartesian")||g._has("gl2d"),d=0;d<s.length;d++){var c=s[d];if(k.isPlainObject(c)){var m=a.cleanId(c.xref,"x",!1),f=a.cleanId(c.yref,"y",!1),p=i.x.test(m),v=i.y.test(f);if(p||v){u||k.pushUnique(g._basePlotModules,t);var y=!1;p&&n.indexOf(m)===-1&&(n.push(m),y=!0),v&&o.indexOf(f)===-1&&(o.push(f),y=!0),y&&p&&v&&l.push(m+f)}}}}}},57952:function(ee,D,e){var M=e(33428),k=e(24040),a=e(3400),T=e(7316),b=e(43616),g=e(84888)._M,s=e(79811),t=e(33816),i=e(9616),r=a.ensureSingle;function n(c,m,f){return a.ensureSingle(c,m,f,function(p){p.datum(f)})}function o(c,m,f,p,v){for(var y,x,_,h=t.traceLayerClasses,S=c._fullLayout,w=S._modules,E=[],C=[],P=0;P<w.length;P++){var O=(y=w[P]).name,R=k.modules[O].categories;if(R.svg){var U=y.layerName||O+"layer",z=y.plot;_=(x=g(f,z))[0],f=x[1],_.length&&E.push({i:h.indexOf(U),className:U,plotMethod:z,cdModule:_}),R.zoomScale&&C.push("."+U)}}E.sort(function(F,V){return F.i-V.i});var N=m.plot.selectAll("g.mlayer").data(E,function(F){return F.className});if(N.enter().append("g").attr("class",function(F){return F.className}).classed("mlayer",!0).classed("rangeplot",m.isRangePlot),N.exit().remove(),N.order(),N.each(function(F){var V=M.select(this),j=F.className;F.plotMethod(c,m,F.cdModule,V,p,v),t.clipOnAxisFalseQuery.indexOf("."+j)===-1&&b.setClipUrl(V,m.layerClipId,c)}),S._has("scattergl")&&(y=k.getModule("scattergl"),_=g(f,y)[0],y.plot(c,m,_)),!c._context.staticPlot&&(m._hasClipOnAxisFalse&&(m.clipOnAxisFalseTraces=m.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),C.length)){var W=m.plot.selectAll(C.join(",")).selectAll(".trace");m.zoomScalePts=W.selectAll("path.point"),m.zoomScaleTxt=W.selectAll(".textpoint")}}function l(c,m){var f=m.plotgroup,p=m.id,v=t.layerValue2layerClass[m.xaxis.layer],y=t.layerValue2layerClass[m.yaxis.layer],x=c._fullLayout._hasOnlyLargeSploms;if(m.mainplot){var _=m.mainplotinfo,h=_.plotgroup,S=p+"-x",w=p+"-y";m.minorGridlayer=_.minorGridlayer,m.gridlayer=_.gridlayer,m.zerolinelayer=_.zerolinelayer,r(_.overlinesBelow,"path",S),r(_.overlinesBelow,"path",w),r(_.overaxesBelow,"g",S),r(_.overaxesBelow,"g",w),m.plot=r(_.overplot,"g",p),r(_.overlinesAbove,"path",S),r(_.overlinesAbove,"path",w),r(_.overaxesAbove,"g",S),r(_.overaxesAbove,"g",w),m.xlines=h.select(".overlines-"+v).select("."+S),m.ylines=h.select(".overlines-"+y).select("."+w),m.xaxislayer=h.select(".overaxes-"+v).select("."+S),m.yaxislayer=h.select(".overaxes-"+y).select("."+w)}else if(x)m.xlines=r(f,"path","xlines-above"),m.ylines=r(f,"path","ylines-above"),m.xaxislayer=r(f,"g","xaxislayer-above"),m.yaxislayer=r(f,"g","yaxislayer-above");else{var E=r(f,"g","layer-subplot");m.shapelayer=r(E,"g","shapelayer"),m.imagelayer=r(E,"g","imagelayer"),m.minorGridlayer=r(f,"g","minor-gridlayer"),m.gridlayer=r(f,"g","gridlayer"),m.zerolinelayer=r(f,"g","zerolinelayer"),r(f,"path","xlines-below"),r(f,"path","ylines-below"),m.overlinesBelow=r(f,"g","overlines-below"),r(f,"g","xaxislayer-below"),r(f,"g","yaxislayer-below"),m.overaxesBelow=r(f,"g","overaxes-below"),m.plot=r(f,"g","plot"),m.overplot=r(f,"g","overplot"),m.xlines=r(f,"path","xlines-above"),m.ylines=r(f,"path","ylines-above"),m.overlinesAbove=r(f,"g","overlines-above"),r(f,"g","xaxislayer-above"),r(f,"g","yaxislayer-above"),m.overaxesAbove=r(f,"g","overaxes-above"),m.xlines=f.select(".xlines-"+v),m.ylines=f.select(".ylines-"+y),m.xaxislayer=f.select(".xaxislayer-"+v),m.yaxislayer=f.select(".yaxislayer-"+y)}x||(n(m.minorGridlayer,"g",m.xaxis._id),n(m.minorGridlayer,"g",m.yaxis._id),m.minorGridlayer.selectAll("g").map(function(C){return C[0]}).sort(s.idSort),n(m.gridlayer,"g",m.xaxis._id),n(m.gridlayer,"g",m.yaxis._id),m.gridlayer.selectAll("g").map(function(C){return C[0]}).sort(s.idSort)),m.xlines.style("fill","none").classed("crisp",!0),m.ylines.style("fill","none").classed("crisp",!0)}function u(c,m){if(c){var f={};for(var p in c.each(function(_){var h=_[0];M.select(this).remove(),d(h,m),f[h]=!0}),m._plots)for(var v=m._plots[p].overlays||[],y=0;y<v.length;y++){var x=v[y];f[x.id]&&x.plot.selectAll(".trace").remove()}}}function d(c,m){m._draggers.selectAll("g."+c).remove(),m._defs.select("#clip"+m._uid+c+"plot").remove()}D.name="cartesian",D.attr=["xaxis","yaxis"],D.idRoot=["x","y"],D.idRegex=t.idRegex,D.attrRegex=t.attrRegex,D.attributes=e(26720),D.layoutAttributes=e(94724),D.supplyLayoutDefaults=e(67352),D.transitionAxes=e(73736),D.finalizeSubplots=function(c,m){var f,p,v,y=m._subplots,x=y.xaxis,_=y.yaxis,h=y.cartesian,S=h.concat(y.gl2d||[]),w={},E={};for(f=0;f<S.length;f++){var C=S[f].split("y");w[C[0]]=1,E["y"+C[1]]=1}for(f=0;f<x.length;f++)w[p=x[f]]||(v=(c[s.id2name(p)]||{}).anchor,t.idRegex.y.test(v)||(v="y"),h.push(p+v),S.push(p+v),E[v]||(E[v]=1,a.pushUnique(_,v)));for(f=0;f<_.length;f++)E[v=_[f]]||(p=(c[s.id2name(v)]||{}).anchor,t.idRegex.x.test(p)||(p="x"),h.push(p+v),S.push(p+v),w[p]||(w[p]=1,a.pushUnique(x,p)));if(!S.length){for(var P in p="",v="",c)t.attrRegex.test(P)&&(P.charAt(0)==="x"?(!p||+P.substr(5)<+p.substr(5))&&(p=P):(!v||+P.substr(5)<+v.substr(5))&&(v=P));p=p?s.name2id(p):"x",v=v?s.name2id(v):"y",x.push(p),_.push(v),h.push(p+v)}},D.plot=function(c,m,f,p){var v,y=c._fullLayout,x=y._subplots.cartesian,_=c.calcdata;if(!Array.isArray(m))for(m=[],v=0;v<_.length;v++)m.push(v);for(v=0;v<x.length;v++){for(var h,S=x[v],w=y._plots[S],E=[],C=0;C<_.length;C++){var P=_[C],O=P[0].trace;O.xaxis+O.yaxis===S&&((m.indexOf(O.index)!==-1||O.carpet)&&(h&&h[0].trace.xaxis+h[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(O.fill)!==-1&&E.indexOf(h)===-1&&E.push(h),E.push(P)),h=P)}o(c,w,E,f,p)}},D.clean=function(c,m,f,p){var v,y,x,_=p._plots||{},h=m._plots||{},S=p._subplots||{};if(p._hasOnlyLargeSploms&&!m._hasOnlyLargeSploms)for(x in _)(v=_[x]).plotgroup&&v.plotgroup.remove();var w=p._has&&p._has("gl"),E=m._has&&m._has("gl");if(w&&!E)for(x in _)(v=_[x])._scene&&v._scene.destroy();if(S.xaxis&&S.yaxis){var C=s.listIds({_fullLayout:p});for(y=0;y<C.length;y++){var P=C[y];m[s.id2name(P)]||p._infolayer.selectAll(".g-"+P+"title").remove()}}var O=p._has&&p._has("cartesian"),R=m._has&&m._has("cartesian");if(O&&!R)u(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(S.cartesian)for(y=0;y<S.cartesian.length;y++){var U=S.cartesian[y];if(!h[U]){var z="."+U+",."+U+"-x,."+U+"-y";p._cartesianlayer.selectAll(z).remove(),d(U,p)}}},D.drawFramework=function(c){var m=c._fullLayout,f=function(v){var y,x,_,h,S,w,E=v._fullLayout,C=E._subplots.cartesian,P=C.length,O=[],R=[];for(y=0;y<P;y++){_=C[y],S=(h=E._plots[_]).xaxis,w=h.yaxis;var U=S._mainAxis,z=w._mainAxis,N=U._id+z._id,W=E._plots[N];h.overlays=[],N!==_&&W?(h.mainplot=N,h.mainplotinfo=W,R.push(_)):(h.mainplot=void 0,h.mainplotinfo=void 0,O.push(_))}for(y=0;y<R.length;y++)_=R[y],(h=E._plots[_]).mainplotinfo.overlays.push(h);var F=O.concat(R),V=new Array(P);for(y=0;y<P;y++){_=F[y],S=(h=E._plots[_]).xaxis,w=h.yaxis;var j=[_,S.layer,w.layer,S.overlaying||"",w.overlaying||""];for(x=0;x<h.overlays.length;x++)j.push(h.overlays[x].id);V[y]=j}return V}(c),p=m._cartesianlayer.selectAll(".subplot").data(f,String);p.enter().append("g").attr("class",function(v){return"subplot "+v[0]}),p.order(),p.exit().call(u,m),p.each(function(v){var y=v[0],x=m._plots[y];x.plotgroup=M.select(this),l(c,x),x.draglayer=r(m._draggers,"g",y)})},D.rangePlot=function(c,m,f){l(c,m),o(c,m,f),T.style(c)},D.toSVG=function(c){var m=c._fullLayout._glimages,f=M.select(c).selectAll(".svg-container");f.filter(function(p,v){return v===f.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var p=this,v=p.toDataURL("image/png");m.append("svg:image").attr({xmlns:i.svg,"xlink:href":v,preserveAspectRatio:"none",x:0,y:0,width:p.style.width,height:p.style.height})})},D.updateFx=e(42464).updateFx},94724:function(ee,D,e){var M=e(25376),k=e(22548),a=e(98192).u,T=e(92880).extendFlat,b=e(31780).templatedArray,g=e(29736).descriptionWithDates,s=e(39032).ONEDAY,t=e(33816),i=t.HOUR_PATTERN,r=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},o=T({},n,{values:n.values.slice().concat(["sync"])});function l(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},d={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},m={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function f(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=5),w}function p(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=1),w}var v={valType:"color",dflt:k.defaultLine,editType:"ticks"},y={valType:"color",dflt:k.lightLine,editType:"ticks"};function x(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=1),w}var _=T({},a,{editType:"ticks"}),h={valType:"boolean",editType:"ticks"};ee.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:k.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:M({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:b("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[r,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:o,nticks:l(),tick0:u,dtick:d,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:m,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:f(),tickwidth:p(),tickcolor:v,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:T({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:M({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:g("tick label")},tickformatstops:b("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:g("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:h,gridcolor:y,gridwidth:x(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:l("minor"),tick0:u,dtick:d,tickvals:c,ticks:m,ticklen:f("minor"),tickwidth:p("minor"),tickcolor:v,gridcolor:y,gridwidth:x("minor"),griddash:_,showgrid:h,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:M({editType:"ticks"})}}},67352:function(ee,D,e){var M=e(3400),k=e(76308),a=e(10624).isUnifiedHover,T=e(41008),b=e(31780),g=e(64859),s=e(94724),t=e(14944),i=e(28336),r=e(71888),n=e(37668),o=e(79811),l=o.id2name,u=o.name2id,d=e(33816).AX_ID_PATTERN,c=e(24040),m=c.traceIs,f=c.getComponentMethod;function p(v,y,x){Array.isArray(v[y])?v[y].push(x):v[y]=[x]}ee.exports=function(v,y,x){var _,h,S=y.autotypenumbers,w={},E={},C={},P={},O={},R={},U={},z={},N={},W={};for(_=0;_<x.length;_++){var F=x[_];if(m(F,"cartesian")||m(F,"gl2d")){var V,j;if(F.xaxis)V=l(F.xaxis),p(w,V,F);else if(F.xaxes)for(h=0;h<F.xaxes.length;h++)p(w,l(F.xaxes[h]),F);if(F.yaxis)j=l(F.yaxis),p(w,j,F);else if(F.yaxes)for(h=0;h<F.yaxes.length;h++)p(w,l(F.yaxes[h]),F);F.type==="funnel"?F.orientation==="h"?(V&&(E[V]=!0),j&&(U[j]=!0)):j&&(C[j]=!0):F.type==="image"?(j&&(z[j]=!0),V&&(z[V]=!0)):(j&&(O[j]=!0,R[j]=!0),m(F,"carpet")&&(F.type!=="carpet"||F._cheater)||V&&(P[V]=!0)),F.type==="carpet"&&F._cheater&&V&&(E[V]=!0),m(F,"2dMap")&&(N[V]=!0,N[j]=!0),m(F,"oriented")&&(W[F.orientation==="h"?j:V]=!0)}}var te=y._subplots,J=te.xaxis,K=te.yaxis,Z=M.simpleMap(J,l),X=M.simpleMap(K,l),Q=Z.concat(X),re=k.background;J.length&&K.length&&(re=M.coerce(v,y,g,"plot_bgcolor"));var ae,ie,le,pe,de,ve=k.combine(re,y.paper_bgcolor);function be(){var $e=w[ae]||[];de._traceIndices=$e.map(function(_t){return _t._expandedIndex}),de._annIndices=[],de._shapeIndices=[],de._selectionIndices=[],de._imgIndices=[],de._subplotsWith=[],de._counterAxes=[],de._name=de._attr=ae,de._id=ie}function me($e,_t){return M.coerce(pe,de,s,$e,_t)}function ge($e,_t){return M.coerce2(pe,de,s,$e,_t)}function ke($e){return $e==="x"?K:J}function we($e,_t){for(var Pt=$e==="x"?Z:X,Ot=[],Lt=0;Lt<Pt.length;Lt++){var He=Pt[Lt];He===_t||(v[He]||{}).overlaying||Ot.push(u(He))}return Ot}var ue={x:ke("x"),y:ke("y")},oe=ue.x.concat(ue.y),he={},Ee=[];function Te(){var $e=pe.matches;d.test($e)&&oe.indexOf($e)===-1&&(he[$e]=pe.type,Ee=Object.keys(he))}var Me=T(v,y),Se=a(Me);for(_=0;_<Q.length;_++){ae=Q[_],ie=u(ae),le=ae.charAt(0),M.isPlainObject(v[ae])||(v[ae]={}),pe=v[ae],de=b.newContainer(y,ae,le+"axis"),be();var ze=le==="x"&&!P[ae]&&E[ae]||le==="y"&&!O[ae]&&C[ae],fe=le==="y"&&(!R[ae]&&U[ae]||z[ae]),xe={hasMinor:!0,letter:le,font:y.font,outerTicks:N[ae],showGrid:!W[ae],data:w[ae]||[],bgColor:ve,calendar:y.calendar,automargin:!0,visibleDflt:ze,reverseDflt:fe,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[le]||{})[ie],noAutotickangles:le==="y"};me("uirevision",y.uirevision),t(pe,de,me,xe),i(pe,de,me,xe,y);var _e=Se&&le===Me.charAt(0),Oe=ge("spikecolor",Se?de.color:void 0),De=ge("spikethickness",Se?1.5:void 0),Pe=ge("spikedash",Se?"dot":void 0),Ue=ge("spikemode",Se?"across":void 0),Ve=ge("spikesnap");me("showspikes",!!(_e||Oe||De||Pe||Ue||Ve))||(delete de.spikecolor,delete de.spikethickness,delete de.spikedash,delete de.spikemode,delete de.spikesnap);var Xe=l(pe.overlaying),it=[0,1];if(y[Xe]!==void 0){var tt=l(y[Xe].anchor);y[tt]!==void 0&&(it=y[tt].domain)}n(pe,de,me,{letter:le,counterAxes:ue[le],overlayableAxes:we(le,ae),grid:y.grid,overlayingDomain:it}),me("title.standoff"),Te(),de._input=pe}for(_=0;_<Ee.length;){ie=Ee[_++],le=(ae=l(ie)).charAt(0),M.isPlainObject(v[ae])||(v[ae]={}),pe=v[ae],de=b.newContainer(y,ae,le+"axis"),be();var pt={letter:le,font:y.font,outerTicks:N[ae],showGrid:!W[ae],data:[],bgColor:ve,calendar:y.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[le]||{})[ie]};me("uirevision",y.uirevision),de.type=he[ie]||"linear",i(pe,de,me,pt,y),n(pe,de,me,{letter:le,counterAxes:ue[le],overlayableAxes:we(le,ae),grid:y.grid}),me("fixedrange"),Te(),de._input=pe}var mt=f("rangeslider","handleDefaults"),gt=f("rangeselector","handleDefaults");for(_=0;_<Z.length;_++)ae=Z[_],pe=v[ae],de=y[ae],mt(v,y,ae),de.type==="date"&&gt(pe,de,y,X,de.calendar),me("fixedrange");for(_=0;_<X.length;_++){ae=X[_],pe=v[ae],de=y[ae];var et=y[l(de.anchor)];me("fixedrange",f("rangeslider","isVisible")(et))}r.handleDefaults(v,y,{axIds:oe.concat(Ee).sort(o.idSort),axHasImage:z})}},42136:function(ee,D,e){var M=e(49760).mix,k=e(22548),a=e(3400);ee.exports=function(T,b,g,s){var t=(s=s||{}).dfltColor;function i(v,y){return a.coerce2(T,b,s.attributes,v,y)}var r=i("linecolor",t),n=i("linewidth");g("showline",s.showLine||!!r||!!n)||(delete b.linecolor,delete b.linewidth);var o=i("gridcolor",M(t,s.bgColor,s.blend||k.lightFraction).toRgbString()),l=i("gridwidth"),u=i("griddash");if(g("showgrid",s.showGrid||!!o||!!l||!!u)||(delete b.gridcolor,delete b.gridwidth,delete b.griddash),s.hasMinor){var d=i("minor.gridcolor",M(b.gridcolor,s.bgColor,67).toRgbString()),c=i("minor.gridwidth",b.gridwidth||1),m=i("minor.griddash",b.griddash||"solid");g("minor.showgrid",!!d||!!c||!!m)||(delete b.minor.gridcolor,delete b.minor.gridwidth,delete b.minor.griddash)}if(!s.noZeroLine){var f=i("zerolinecolor",t),p=i("zerolinewidth");g("zeroline",s.showGrid||!!f||!!p)||(delete b.zerolinecolor,delete b.zerolinewidth)}}},37668:function(ee,D,e){var M=e(38248),k=e(3400);ee.exports=function(a,T,b,g){var s,t,i,r,n,o,l=g.counterAxes||[],u=g.overlayableAxes||[],d=g.letter,c=g.grid,m=g.overlayingDomain;c&&(t=c._domains[d][c._axisMap[T._id]],s=c._anchors[T._id],t&&(i=c[d+"side"].split(" ")[0],r=c.domain[d][i==="right"||i==="top"?1:0])),t=t||[0,1],s=s||(M(a.position)?"free":l[0]||"free"),i=i||(d==="x"?"bottom":"left"),r=r||0,n=0,o=!1;var f=k.coerce(a,T,{anchor:{valType:"enumerated",values:["free"].concat(l),dflt:s}},"anchor"),p=k.coerce(a,T,{side:{valType:"enumerated",values:d==="x"?["bottom","top"]:["left","right"],dflt:i}},"side");f==="free"&&(d==="y"&&(b("autoshift")&&(r=p==="left"?m[0]:m[1],o=!T.automargin||T.automargin,n=p==="left"?-3:3),b("shift",n)),b("position",r)),b("automargin",o);var v=!1;if(u.length&&(v=k.coerce(a,T,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!v){var y=b("domain",t);y[0]>y[1]-.000244140625&&(T.domain=t),k.noneOrAll(a.domain,T.domain,t),T.tickmode==="sync"&&(T.tickmode="auto")}return b("layer"),T}},42568:function(ee,D,e){var M=e(85024);ee.exports=function(k,a,T,b,g){g||(g={});var s=g.tickSuffixDflt,t=M(k);T("tickprefix")&&T("showtickprefix",t),T("ticksuffix",s)&&T("showticksuffix",t)}},96312:function(ee,D,e){var M=e(76808);ee.exports=function(k,a,T,b){var g=a._template||{},s=a.type||g.type||"-";T("minallowed"),T("maxallowed");var t,i=T("range");i||b.noInsiderange||s==="log"||(!(t=T("insiderange"))||t[0]!==null&&t[1]!==null||(a.insiderange=!1,t=void 0),t&&(i=T("range",t)));var r,n=a.getAutorangeDflt(i,b),o=T("autorange",n);!i||(i[0]!==null||i[1]!==null)&&(i[0]!==null&&i[1]!==null||o!=="reversed"&&o!==!0)&&(i[0]===null||o!=="min"&&o!=="max reversed")&&(i[1]===null||o!=="max"&&o!=="min reversed")||(i=void 0,delete a.range,a.autorange=!0,r=!0),r||(o=T("autorange",n=a.getAutorangeDflt(i,b))),o&&(M(T,o,i),s!=="linear"&&s!=="-"||T("rangemode")),a.cleanRange()}},21160:function(ee,D,e){var M=e(84284).FROM_BL;ee.exports=function(k,a,T){T===void 0&&(T=M[k.constraintoward||"center"]);var b=[k.r2l(k.range[0]),k.r2l(k.range[1])],g=b[0]+(b[1]-b[0])*T;k.range=k._input.range=[k.l2r(g+(b[0]-g)*a),k.l2r(g+(b[1]-g)*a)],k.setScale()}},78344:function(ee,D,e){var M=e(33428),k=e(94336).E9,a=e(3400),T=a.numberFormat,b=e(38248),g=a.cleanNumber,s=a.ms2DateTime,t=a.dateTime2ms,i=a.ensureNumber,r=a.isArrayOrTypedArray,n=e(39032),o=n.FP_SAFE,l=n.BADNUM,u=n.LOG_CLIP,d=n.ONEWEEK,c=n.ONEDAY,m=n.ONEHOUR,f=n.ONEMIN,p=n.ONESEC,v=e(79811),y=e(33816),x=y.HOUR_PATTERN,_=y.WEEKDAY_PATTERN;function h(w){return Math.pow(10,w)}function S(w){return w!=null}ee.exports=function(w,E){E=E||{};var C=w._id||"x",P=C.charAt(0);function O(Q,re){if(Q>0)return Math.log(Q)/Math.LN10;if(Q<=0&&re&&w.range&&w.range.length===2){var ae=w.range[0],ie=w.range[1];return .5*(ae+ie-2*u*Math.abs(ae-ie))}return l}function R(Q,re,ae,ie){if((ie||{}).msUTC&&b(Q))return+Q;var le=t(Q,ae||w.calendar);if(le===l){if(!b(Q))return l;Q=+Q;var pe=Math.floor(10*a.mod(Q+.05,1)),de=Math.round(Q-pe/10);le=t(new Date(de))+pe/10}return le}function U(Q,re,ae){return s(Q,re,ae||w.calendar)}function z(Q){return w._categories[Math.round(Q)]}function N(Q){if(S(Q)){if(w._categoriesMap===void 0&&(w._categoriesMap={}),w._categoriesMap[Q]!==void 0)return w._categoriesMap[Q];w._categories.push(typeof Q=="number"?String(Q):Q);var re=w._categories.length-1;return w._categoriesMap[Q]=re,re}return l}function W(Q){if(w._categoriesMap)return w._categoriesMap[Q]}function F(Q){var re=W(Q);return re!==void 0?re:b(Q)?+Q:void 0}function V(Q){return b(Q)?+Q:W(Q)}function j(Q,re,ae){return M.round(ae+re*Q,2)}function te(Q,re,ae){return(Q-ae)/re}var J=function(Q){return b(Q)?j(Q,w._m,w._b):l},K=function(Q){return te(Q,w._m,w._b)};if(w.rangebreaks){var Z=P==="y";J=function(Q){if(!b(Q))return l;var re=w._rangebreaks.length;if(!re)return j(Q,w._m,w._b);var ae=Z;w.range[0]>w.range[1]&&(ae=!ae);for(var ie=ae?-1:1,le=ie*Q,pe=0,de=0;de<re;de++){var ve=ie*w._rangebreaks[de].min,be=ie*w._rangebreaks[de].max;if(le<ve)break;if(!(le>be)){pe=le<(ve+be)/2?de:de+1;break}pe=de+1}var me=w._B[pe]||0;return isFinite(me)?j(Q,w._m2,me):0},K=function(Q){var re=w._rangebreaks.length;if(!re)return te(Q,w._m,w._b);for(var ae=0,ie=0;ie<re&&!(Q<w._rangebreaks[ie].pmin);ie++)Q>w._rangebreaks[ie].pmax&&(ae=ie+1);return te(Q,w._m2,w._B[ae])}}w.c2l=w.type==="log"?O:i,w.l2c=w.type==="log"?h:i,w.l2p=J,w.p2l=K,w.c2p=w.type==="log"?function(Q,re){return J(O(Q,re))}:J,w.p2c=w.type==="log"?function(Q){return h(K(Q))}:K,["linear","-"].indexOf(w.type)!==-1?(w.d2r=w.r2d=w.d2c=w.r2c=w.d2l=w.r2l=g,w.c2d=w.c2r=w.l2d=w.l2r=i,w.d2p=w.r2p=function(Q){return w.l2p(g(Q))},w.p2d=w.p2r=K,w.cleanPos=i):w.type==="log"?(w.d2r=w.d2l=function(Q,re){return O(g(Q),re)},w.r2d=w.r2c=function(Q){return h(g(Q))},w.d2c=w.r2l=g,w.c2d=w.l2r=i,w.c2r=O,w.l2d=h,w.d2p=function(Q,re){return w.l2p(w.d2r(Q,re))},w.p2d=function(Q){return h(K(Q))},w.r2p=function(Q){return w.l2p(g(Q))},w.p2r=K,w.cleanPos=i):w.type==="date"?(w.d2r=w.r2d=a.identity,w.d2c=w.r2c=w.d2l=w.r2l=R,w.c2d=w.c2r=w.l2d=w.l2r=U,w.d2p=w.r2p=function(Q,re,ae){return w.l2p(R(Q,0,ae))},w.p2d=w.p2r=function(Q,re,ae){return U(K(Q),re,ae)},w.cleanPos=function(Q){return a.cleanDate(Q,l,w.calendar)}):w.type==="category"?(w.d2c=w.d2l=N,w.r2d=w.c2d=w.l2d=z,w.d2r=w.d2l_noadd=F,w.r2c=function(Q){var re=V(Q);return re!==void 0?re:w.fraction2r(.5)},w.l2r=w.c2r=i,w.r2l=V,w.d2p=function(Q){return w.l2p(w.r2c(Q))},w.p2d=function(Q){return z(K(Q))},w.r2p=w.d2p,w.p2r=K,w.cleanPos=function(Q){return typeof Q=="string"&&Q!==""?Q:i(Q)}):w.type==="multicategory"&&(w.r2d=w.c2d=w.l2d=z,w.d2r=w.d2l_noadd=F,w.r2c=function(Q){var re=F(Q);return re!==void 0?re:w.fraction2r(.5)},w.r2c_just_indices=W,w.l2r=w.c2r=i,w.r2l=F,w.d2p=function(Q){return w.l2p(w.r2c(Q))},w.p2d=function(Q){return z(K(Q))},w.r2p=w.d2p,w.p2r=K,w.cleanPos=function(Q){return Array.isArray(Q)||typeof Q=="string"&&Q!==""?Q:i(Q)},w.setupMultiCategory=function(Q){var re,ae,ie=w._traceIndices,le=w._matchGroup;if(le&&w._categories.length===0){for(var pe in le)if(pe!==C){var de=E[v.id2name(pe)];ie=ie.concat(de._traceIndices)}}var ve=[[0,{}],[0,{}]],be=[];for(re=0;re<ie.length;re++){var me=Q[ie[re]];if(P in me){var ge=me[P],ke=me._length||a.minRowLength(ge);if(r(ge[0])&&r(ge[1]))for(ae=0;ae<ke;ae++){var we=ge[0][ae],ue=ge[1][ae];S(we)&&S(ue)&&(be.push([we,ue]),we in ve[0][1]||(ve[0][1][we]=ve[0][0]++),ue in ve[1][1]||(ve[1][1][ue]=ve[1][0]++))}}}for(be.sort(function(oe,he){var Ee=ve[0][1],Te=Ee[oe[0]]-Ee[he[0]];if(Te)return Te;var Me=ve[1][1];return Me[oe[1]]-Me[he[1]]}),re=0;re<be.length;re++)N(be[re])}),w.fraction2r=function(Q){var re=w.r2l(w.range[0]),ae=w.r2l(w.range[1]);return w.l2r(re+Q*(ae-re))},w.r2fraction=function(Q){var re=w.r2l(w.range[0]),ae=w.r2l(w.range[1]);return(w.r2l(Q)-re)/(ae-re)},w.limitRange=function(Q){var re=w.minallowed,ae=w.maxallowed;if(re!==void 0||ae!==void 0){Q||(Q="range");var ie=a.nestedProperty(w,Q).get(),le=a.simpleMap(ie,w.r2l),pe=le[1]<le[0];pe&&le.reverse();var de=a.simpleMap([re,ae],w.r2l);if(re!==void 0&&le[0]<de[0]&&(ie[pe?1:0]=re),ae!==void 0&&le[1]>de[1]&&(ie[pe?0:1]=ae),ie[0]===ie[1]){var ve=w.l2r(re),be=w.l2r(ae);if(re!==void 0){var me=ve+1;ae!==void 0&&(me=Math.min(me,be)),ie[pe?1:0]=me}if(ae!==void 0){var ge=be+1;re!==void 0&&(ge=Math.max(ge,ve)),ie[pe?0:1]=ge}}}},w.cleanRange=function(Q,re){w._cleanRange(Q,re),w.limitRange(Q)},w._cleanRange=function(Q,re){re||(re={}),Q||(Q="range");var ae,ie,le=a.nestedProperty(w,Q).get();if(ie=(ie=w.type==="date"?a.dfltRange(w.calendar):P==="y"?y.DFLTRANGEY:w._name==="realaxis"?[0,1]:re.dfltRange||y.DFLTRANGEX).slice(),w.rangemode!=="tozero"&&w.rangemode!=="nonnegative"||(ie[0]=0),le&&le.length===2){var pe=le[0]===null,de=le[1]===null;for(w.type!=="date"||w.autorange||(le[0]=a.cleanDate(le[0],l,w.calendar),le[1]=a.cleanDate(le[1],l,w.calendar)),ae=0;ae<2;ae++)if(w.type==="date"){if(!a.isDateTime(le[ae],w.calendar)){w[Q]=ie;break}if(w.r2l(le[0])===w.r2l(le[1])){var ve=a.constrain(w.r2l(le[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);le[0]=w.l2r(ve-1e3),le[1]=w.l2r(ve+1e3);break}}else{if(!b(le[ae])){if(pe||de||!b(le[1-ae])){w[Q]=ie;break}le[ae]=le[1-ae]*(ae?10:.1)}if(le[ae]<-o?le[ae]=-o:le[ae]>o&&(le[ae]=o),le[0]===le[1]){var be=Math.max(1,Math.abs(1e-6*le[0]));le[0]-=be,le[1]+=be}}}else a.nestedProperty(w,Q).set(ie)},w.setScale=function(Q){var re=E._size;if(w.overlaying){var ae=v.getFromId({_fullLayout:E},w.overlaying);w.domain=ae.domain}var ie=Q&&w._r?"_r":"range",le=w.calendar;w.cleanRange(ie);var pe,de,ve=w.r2l(w[ie][0],le),be=w.r2l(w[ie][1],le),me=P==="y";if(me?(w._offset=re.t+(1-w.domain[1])*re.h,w._length=re.h*(w.domain[1]-w.domain[0]),w._m=w._length/(ve-be),w._b=-w._m*be):(w._offset=re.l+w.domain[0]*re.w,w._length=re.w*(w.domain[1]-w.domain[0]),w._m=w._length/(be-ve),w._b=-w._m*ve),w._rangebreaks=[],w._lBreaks=0,w._m2=0,w._B=[],w.rangebreaks&&(w._rangebreaks=w.locateBreaks(Math.min(ve,be),Math.max(ve,be)),w._rangebreaks.length)){for(pe=0;pe<w._rangebreaks.length;pe++)de=w._rangebreaks[pe],w._lBreaks+=Math.abs(de.max-de.min);var ge=me;ve>be&&(ge=!ge),ge&&w._rangebreaks.reverse();var ke=ge?-1:1;for(w._m2=ke*w._length/(Math.abs(be-ve)-w._lBreaks),w._B.push(-w._m2*(me?be:ve)),pe=0;pe<w._rangebreaks.length;pe++)de=w._rangebreaks[pe],w._B.push(w._B[w._B.length-1]-ke*w._m2*(de.max-de.min));for(pe=0;pe<w._rangebreaks.length;pe++)(de=w._rangebreaks[pe]).pmin=J(de.min),de.pmax=J(de.max)}if(!isFinite(w._m)||!isFinite(w._b)||w._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},w.maskBreaks=function(Q){var re,ae,ie,le,pe,de=w.rangebreaks||[];de._cachedPatterns||(de._cachedPatterns=de.map(function(we){return we.enabled&&we.bounds?a.simpleMap(we.bounds,we.pattern?g:w.d2c):null})),de._cachedValues||(de._cachedValues=de.map(function(we){return we.enabled&&we.values?a.simpleMap(we.values,w.d2c).sort(a.sorterAsc):null}));for(var ve=0;ve<de.length;ve++){var be=de[ve];if(be.enabled){if(be.bounds){var me=be.pattern;switch(ae=(re=de._cachedPatterns[ve])[0],ie=re[1],me){case _:le=(pe=new Date(Q)).getUTCDay(),ae>ie&&(ie+=7,le<ae&&(le+=7));break;case x:le=(pe=new Date(Q)).getUTCHours()+(pe.getUTCMinutes()/60+pe.getUTCSeconds()/3600+pe.getUTCMilliseconds()/36e5),ae>ie&&(ie+=24,le<ae&&(le+=24));break;case"":le=Q}if(le>=ae&&le<ie)return l}else for(var ge=de._cachedValues[ve],ke=0;ke<ge.length;ke++)if(ie=(ae=ge[ke])+be.dvalue,Q>=ae&&Q<ie)return l}}return Q},w.locateBreaks=function(Q,re){var ae,ie,le,pe,de=[];if(!w.rangebreaks)return de;var ve=w.rangebreaks.slice().sort(function(Me,Se){return Me.pattern===_&&Se.pattern===x?-1:Se.pattern===_&&Me.pattern===x?1:0}),be=function(Me,Se){if((Me=a.constrain(Me,Q,re))!==(Se=a.constrain(Se,Q,re))){for(var ze=!0,fe=0;fe<de.length;fe++){var xe=de[fe];Me<xe.max&&Se>=xe.min&&(Me<xe.min&&(xe.min=Me),Se>xe.max&&(xe.max=Se),ze=!1)}ze&&de.push({min:Me,max:Se})}};for(ae=0;ae<ve.length;ae++){var me=ve[ae];if(me.enabled)if(me.bounds){var ge=Q,ke=re;me.pattern&&(ge=Math.floor(ge)),le=(ie=a.simpleMap(me.bounds,me.pattern?g:w.r2l))[0],pe=ie[1];var we,ue,oe=new Date(ge);switch(me.pattern){case _:ue=d,we=(pe-le+(pe<le?7:0))*c,ge+=le*c-(oe.getUTCDay()*c+oe.getUTCHours()*m+oe.getUTCMinutes()*f+oe.getUTCSeconds()*p+oe.getUTCMilliseconds());break;case x:ue=c,we=(pe-le+(pe<le?24:0))*m,ge+=le*m-(oe.getUTCHours()*m+oe.getUTCMinutes()*f+oe.getUTCSeconds()*p+oe.getUTCMilliseconds());break;default:ge=Math.min(ie[0],ie[1]),we=ue=(ke=Math.max(ie[0],ie[1]))-ge}for(var he=ge;he<ke;he+=ue)be(he,he+we)}else for(var Ee=a.simpleMap(me.values,w.d2c),Te=0;Te<Ee.length;Te++)be(le=Ee[Te],pe=le+me.dvalue)}return de.sort(function(Me,Se){return Me.min-Se.min}),de},w.makeCalcdata=function(Q,re,ae){var ie,le,pe,de,ve=w.type,be=ve==="date"&&Q[re+"calendar"];if(re in Q){if(ie=Q[re],de=Q._length||a.minRowLength(ie),a.isTypedArray(ie)&&(ve==="linear"||ve==="log")){if(de===ie.length)return ie;if(ie.subarray)return ie.subarray(0,de)}if(ve==="multicategory")return function(ke,we){for(var ue=new Array(we),oe=0;oe<we;oe++){var he=(ke[0]||[])[oe],Ee=(ke[1]||[])[oe];ue[oe]=W([he,Ee])}return ue}(ie,de);for(le=new Array(de),pe=0;pe<de;pe++)le[pe]=w.d2c(ie[pe],0,be,ae)}else{var me=re+"0"in Q?w.d2c(Q[re+"0"],0,be):0,ge=Q["d"+re]?Number(Q["d"+re]):1;for(ie=Q[{x:"y",y:"x"}[re]],de=Q._length||ie.length,le=new Array(de),pe=0;pe<de;pe++)le[pe]=me+pe*ge}if(w.rangebreaks)for(pe=0;pe<de;pe++)le[pe]=w.maskBreaks(le[pe]);return le},w.isValidRange=function(Q,re){return Array.isArray(Q)&&Q.length===2&&(re&&Q[0]===null||b(w.r2l(Q[0])))&&(re&&Q[1]===null||b(w.r2l(Q[1])))},w.getAutorangeDflt=function(Q,re){var ae=!w.isValidRange(Q,"nullOk");return ae&&re&&re.reverseDflt?ae="reversed":Q&&(Q[0]===null&&Q[1]===null?ae=!0:Q[0]===null&&Q[1]!==null?ae="min":Q[0]!==null&&Q[1]===null&&(ae="max")),ae},w.isReversed=function(){var Q=w.autorange;return Q==="reversed"||Q==="min reversed"||Q==="max reversed"},w.isPtWithinRange=function(Q,re){var ae=w.c2l(Q[P],null,re),ie=w.r2l(w.range[0]),le=w.r2l(w.range[1]);return ie<le?ie<=ae&&ae<=le:le<=ae&&ae<=ie},w._emptyCategories=function(){w._categories=[],w._categoriesMap={}},w.clearCalc=function(){var Q=w._matchGroup;if(Q){var re=null,ae=null;for(var ie in Q){var le=E[v.id2name(ie)];if(le._categories){re=le._categories,ae=le._categoriesMap;break}}re&&ae?(w._categories=re,w._categoriesMap=ae):w._emptyCategories()}else w._emptyCategories();if(w._initialCategories)for(var pe=0;pe<w._initialCategories.length;pe++)N(w._initialCategories[pe])},w.sortByInitialCategories=function(){var Q=[];if(w._emptyCategories(),w._initialCategories)for(var re=0;re<w._initialCategories.length;re++)N(w._initialCategories[re]);Q=Q.concat(w._traceIndices);var ae=w._matchGroup;for(var ie in ae)if(C!==ie){var le=E[v.id2name(ie)];le._categories=w._categories,le._categoriesMap=w._categoriesMap,Q=Q.concat(le._traceIndices)}return Q};var X=E._d3locale;w.type==="date"&&(w._dateFormat=X?X.timeFormat:k,w._extraFormat=E._extraFormat),w._separators=E.separators,w._numFormat=X?X.numberFormat:T,delete w._minDtick,delete w._forceTick0}},85024:function(ee){ee.exports=function(D){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(M){return D[M]!==void 0});if(e.every(function(M){return D[M]===D[e[0]]})||e.length===1)return D[e[0]]}},95936:function(ee,D,e){var M=e(3400),k=e(76308).contrast,a=e(94724),T=e(85024),b=e(51272);function g(s,t){function i(r,n){return M.coerce(s,t,a.tickformatstops,r,n)}i("enabled")&&(i("dtickrange"),i("value"))}ee.exports=function(s,t,i,r,n){n||(n={});var o=i("labelalias");M.isPlainObject(o)||delete t.labelalias;var l=T(s);if(i("showticklabels")){var u=n.font||{},d=t.color,c=(t.ticklabelposition||"").indexOf("inside")!==-1?k(n.bgColor):d&&d!==a.color.dflt?d:u.color;if(M.coerceFont(i,"tickfont",{family:u.family,size:u.size,color:c}),n.noTicklabelstep||r==="multicategory"||r==="log"||i("ticklabelstep"),!n.noAng){var m=i("tickangle");n.noAutotickangles||m!=="auto"||i("autotickangles")}if(r!=="category"){var f=i("tickformat");b(s,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:g}),t.tickformatstops.length||delete t.tickformatstops,n.noExp||f||r==="date"||(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},25404:function(ee,D,e){var M=e(3400),k=e(94724);ee.exports=function(a,T,b,g){var s=g.isMinor,t=s?a.minor||{}:a,i=s?T.minor:T,r=s?k.minor:k,n=s?"minor.":"",o=M.coerce2(t,i,r,"ticklen",s?.6*(T.ticklen||5):void 0),l=M.coerce2(t,i,r,"tickwidth",s?T.tickwidth||1:void 0),u=M.coerce2(t,i,r,"tickcolor",(s?T.tickcolor:void 0)||i.color);b(n+"ticks",!s&&g.outerTicks||o||l||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(ee,D,e){var M=e(98728),k=e(3400).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,T=e(38116).decodeTypedArraySpec;ee.exports=function(b,g,s,t,i){i||(i={});var r=i.isMinor,n=r?b.minor||{}:b,o=r?g.minor:g,l=r?"minor.":"";function u(v){var y=n[v];return a(y)&&(y=T(y)),y!==void 0?y:(o._template||{})[v]}var d=u("tick0"),c=u("dtick"),m=u("tickvals"),f=s(l+"tickmode",k(m)?"array":c?"linear":"auto");if(f==="auto"||f==="sync")s(l+"nticks");else if(f==="linear"){var p=o.dtick=M.dtick(c,t);o.tick0=M.tick0(d,t,g.calendar,p)}else t!=="multicategory"&&(s(l+"tickvals")===void 0?o.tickmode="auto":r||s("ticktext"))}},73736:function(ee,D,e){var M=e(33428),k=e(24040),a=e(3400),T=e(43616),b=e(54460);ee.exports=function(g,s,t,i){var r=g._fullLayout;if(s.length!==0){var n,o,l,u;i&&(n=i());var d=M.ease(t.easing);return g._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var f={},p=0;p<s.length;p++){var v=s[p],y=v.plotinfo.xaxis,x=v.plotinfo.yaxis;v.xr0&&(f[y._name+".range"]=v.xr0.slice()),v.yr0&&(f[x._name+".range"]=v.yr0.slice())}return k.call("relayout",g,f).then(function(){for(var _=0;_<s.length;_++)c(s[_].plotinfo)})}()}),o=Date.now(),u=window.requestAnimationFrame(function f(){l=Date.now();for(var p=Math.min(1,(l-o)/t.duration),v=d(p),y=0;y<s.length;y++)m(s[y],v);l-o>t.duration?(function(){for(var x={},_=0;_<s.length;_++){var h=s[_],S=h.plotinfo.xaxis,w=h.plotinfo.yaxis;h.xr1&&(x[S._name+".range"]=h.xr1.slice()),h.yr1&&(x[w._name+".range"]=h.yr1.slice())}n&&n(),k.call("relayout",g,x).then(function(){for(var E=0;E<s.length;E++)c(s[E].plotinfo)})}(),u=window.cancelAnimationFrame(f)):u=window.requestAnimationFrame(f)}),Promise.resolve()}function c(f){var p=f.xaxis,v=f.yaxis;r._defs.select("#"+f.clipId+"> rect").call(T.setTranslate,0,0).call(T.setScale,1,1),f.plot.call(T.setTranslate,p._offset,v._offset).call(T.setScale,1,1);var y=f.plot.selectAll(".scatterlayer .trace");y.selectAll(".point").call(T.setPointGroupScale,1,1),y.selectAll(".textpoint").call(T.setTextPointsScale,1,1),y.call(T.hideOutsideRangePoints,f)}function m(f,p){var v=f.plotinfo,y=v.xaxis,x=v.yaxis,_=y._length,h=x._length,S=!!f.xr1,w=!!f.yr1,E=[];if(S){var C=a.simpleMap(f.xr0,y.r2l),P=a.simpleMap(f.xr1,y.r2l),O=C[1]-C[0],R=P[1]-P[0];E[0]=(C[0]*(1-p)+p*P[0]-C[0])/(C[1]-C[0])*_,E[2]=_*(1-p+p*R/O),y.range[0]=y.l2r(C[0]*(1-p)+p*P[0]),y.range[1]=y.l2r(C[1]*(1-p)+p*P[1])}else E[0]=0,E[2]=_;if(w){var U=a.simpleMap(f.yr0,x.r2l),z=a.simpleMap(f.yr1,x.r2l),N=U[1]-U[0],W=z[1]-z[0];E[1]=(U[1]*(1-p)+p*z[1]-U[1])/(U[0]-U[1])*h,E[3]=h*(1-p+p*W/N),x.range[0]=y.l2r(U[0]*(1-p)+p*z[0]),x.range[1]=x.l2r(U[1]*(1-p)+p*z[1])}else E[1]=0,E[3]=h;b.drawOne(g,y,{skipTitle:!0}),b.drawOne(g,x,{skipTitle:!0}),b.redrawComponents(g,[y._id,x._id]);var F=S?_/E[2]:1,V=w?h/E[3]:1,j=S?E[0]:0,te=w?E[1]:0,J=S?E[0]/E[2]*_:0,K=w?E[1]/E[3]*h:0,Z=y._offset-J,X=x._offset-K;v.clipRect.call(T.setTranslate,j,te).call(T.setScale,1/F,1/V),v.plot.call(T.setTranslate,Z,X).call(T.setScale,F,V),T.setPointGroupScale(v.zoomScalePts,1/F,1/V),T.setTextPointsScale(v.zoomScaleTxt,1/F,1/V)}b.redrawComponents(g)}},14944:function(ee,D,e){var M=e(24040).traceIs,k=e(52976);function a(b){return{v:"x",h:"y"}[b.orientation||"v"]}function T(b,g){var s=a(b),t=M(b,"box-violin"),i=M(b._fullInput||{},"candlestick");return t&&!i&&g===s&&b[s]===void 0&&b[s+"0"]===void 0}ee.exports=function(b,g,s,t){s("autotypenumbers",t.autotypenumbersDflt),s("type",(t.splomStash||{}).type)==="-"&&(function(i,r){if(i.type==="-"){var n,o=i._id,l=o.charAt(0);o.indexOf("scene")!==-1&&(o=l);var u=function(x,_,h){for(var S=0;S<x.length;S++){var w=x[S];if(w.type==="splom"&&w._length>0&&(w["_"+h+"axes"]||{})[_]||(w[h+"axis"]||h)===_&&(T(w,h)||(w[h]||[]).length||w[h+"0"]))return w}}(r,o,l);if(u)if(u.type!=="histogram"||l!=={v:"y",h:"x"}[u.orientation||"v"]){var d=l+"calendar",c=u[d],m={noMultiCategory:!M(u,"cartesian")||M(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&l==={h:"x",v:"y"}[u.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=i.autotypenumbers,T(u,l)){var f=a(u),p=[];for(n=0;n<r.length;n++){var v=r[n];M(v,"box-violin")&&(v[l+"axis"]||l)===o&&(v[f]!==void 0?p.push(v[f][0]):v.name!==void 0?p.push(v.name):p.push("text"),v[d]!==c&&(c=void 0))}i.type=k(p,c,m)}else if(u.type==="splom"){var y=u.dimensions[u._axesDim[o]];y.visible&&(i.type=k(y.values,c,m))}else i.type=k(u[l]||[u[l+"0"]],c,m)}else i.type="linear"}}(g,t.data),g.type==="-"?g.type="linear":b.type=g.type)}},62460:function(ee,D,e){var M=e(24040),k=e(3400);function a(s,t,i){var r,n,o,l=!1;if(t.type==="data")r=s._fullData[t.traces!==null?t.traces[0]:0];else{if(t.type!=="layout")return!1;r=s._fullLayout}return n=k.nestedProperty(r,t.prop).get(),(o=i[t.type]=i[t.type]||{}).hasOwnProperty(t.prop)&&o[t.prop]!==n&&(l=!0),o[t.prop]=n,{changed:l,value:n}}function T(s,t){var i=[],r=t[0],n={};if(typeof r=="string")n[r]=t[1];else{if(!k.isPlainObject(r))return i;n=r}return g(n,function(o,l,u){i.push({type:"layout",prop:o,value:u})},"",0),i}function b(s,t){var i,r,n,o,l=[];if(r=t[0],n=t[1],i=t[2],o={},typeof r=="string")o[r]=n;else{if(!k.isPlainObject(r))return l;o=r,i===void 0&&(i=n)}return i===void 0&&(i=null),g(o,function(u,d,c){var m,f;if(Array.isArray(c)){f=c.slice();var p=Math.min(f.length,s.data.length);i&&(p=Math.min(p,i.length)),m=[];for(var v=0;v<p;v++)m[v]=i?i[v]:v}else f=c,m=i?i.slice():null;if(m===null)Array.isArray(f)&&(f=f[0]);else if(Array.isArray(m)){if(!Array.isArray(f)){var y=f;f=[];for(var x=0;x<m.length;x++)f[x]=y}f.length=Math.min(m.length,f.length)}l.push({type:"data",prop:u,traces:m,value:f})},"",0),l}function g(s,t,i,r){Object.keys(s).forEach(function(n){var o=s[n];if(n[0]!=="_"){var l=i+(r>0?".":"")+n;k.isPlainObject(o)?g(o,t,l,r+1):t(l,n,o)}})}D.manageCommandObserver=function(s,t,i,r){var n={},o=!0;t&&t._commandObserver&&(n=t._commandObserver),n.cache||(n.cache={}),n.lookupTable={};var l=D.hasSimpleAPICommandBindings(s,i,n.lookupTable);if(t&&t._commandObserver){if(l)return n;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,n}if(l){a(s,l,n.cache),n.check=function(){if(o){var c=a(s,l,n.cache);return c.changed&&r&&n.lookupTable[c.value]!==void 0&&(n.disable(),Promise.resolve(r({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:n.lookupTable[c.value]})).then(n.enable,n.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<u.length;d++)s._internalOn(u[d],n.check);n.remove=function(){for(var c=0;c<u.length;c++)s._removeInternalListener(u[c],n.check)}}else k.log("Unable to automatically bind plot updates to API command"),n.lookupTable={},n.remove=function(){};return n.disable=function(){o=!1},n.enable=function(){o=!0},t&&(t._commandObserver=n),n},D.hasSimpleAPICommandBindings=function(s,t,i){var r,n,o=t.length;for(r=0;r<o;r++){var l,u=t[r],d=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!d)return!1;var m=D.computeAPICommandBindings(s,d,c);if(m.length!==1)return!1;if(n){if((l=m[0]).type!==n.type||l.prop!==n.prop)return!1;if(Array.isArray(n.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var f=0;f<n.traces.length;f++)if(n.traces[f]!==l.traces[f])return!1}else if(l.prop!==n.prop)return!1}else n=m[0],Array.isArray(n.traces)&&n.traces.sort();var p=(l=m[0]).value;if(Array.isArray(p)){if(p.length!==1)return!1;p=p[0]}i&&(i[p]=r)}return n},D.executeAPICommand=function(s,t,i){if(t==="skip")return Promise.resolve();var r=M.apiMethodRegistry[t],n=[s];Array.isArray(i)||(i=[]);for(var o=0;o<i.length;o++)n.push(i[o]);return r.apply(null,n).catch(function(l){return k.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},D.computeAPICommandBindings=function(s,t,i){var r;switch(Array.isArray(i)||(i=[]),t){case"restyle":r=b(s,i);break;case"relayout":r=T(0,i);break;case"update":r=b(s,[i[0],i[2]]).concat(T(0,[i[1]]));break;case"animate":r=function(n,o){return Array.isArray(o[0])&&o[0].length===1&&["string","number"].indexOf(typeof o[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:o[0][0].toString()}]:[]}(0,i);break;default:r=[]}return r}},86968:function(ee,D,e){var M=e(92880).extendFlat;D.u=function(k,a){a=a||{};var T={valType:"info_array",editType:(k=k||{}).editType,items:[{valType:"number",min:0,max:1,editType:k.editType},{valType:"number",min:0,max:1,editType:k.editType}],dflt:[0,1]},b=(k.name&&k.name,k.trace,a.description&&a.description,{x:M({},T,{}),y:M({},T,{}),editType:k.editType});return k.noGridCell||(b.row={valType:"integer",min:0,dflt:0,editType:k.editType},b.column={valType:"integer",min:0,dflt:0,editType:k.editType}),b},D.Q=function(k,a,T,b){var g=b&&b.x||[0,1],s=b&&b.y||[0,1],t=a.grid;if(t){var i=T("domain.column");i!==void 0&&(i<t.columns?g=t._domains.x[i]:delete k.domain.column);var r=T("domain.row");r!==void 0&&(r<t.rows?s=t._domains.y[r]:delete k.domain.row)}var n=T("domain.x",g),o=T("domain.y",s);n[0]<n[1]||(k.domain.x=g.slice()),o[0]<o[1]||(k.domain.y=s.slice())}},25376:function(ee){ee.exports=function(D){var e=D.editType,M=D.colorEditType;M===void 0&&(M=e);var k={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:M},editType:e};return D.autoSize&&(k.size.dflt="auto"),D.autoColor&&(k.color.dflt="auto"),D.arrayOk&&(k.family.arrayOk=!0,k.size.arrayOk=!0,k.color.arrayOk=!0),k}},16672:function(ee){ee.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(ee,D){D.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},D.axesNames=["lonaxis","lataxis"],D.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},D.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},D.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},D.clipPad=.001,D.precision=.1,D.landColor="#F0DC82",D.waterColor="#3399FF",D.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},D.sphereSVG={type:"Sphere"},D.fillLayers={ocean:1,land:1,lakes:1},D.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},D.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],D.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],D.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(ee,D,e){var M=e(33428),k=e(83356),a=k.geoPath,T=k.geoDistance,b=e(87108),g=e(24040),s=e(3400),t=s.strTranslate,i=e(76308),r=e(43616),n=e(93024),o=e(7316),l=e(54460),u=e(19280).getAutoRange,d=e(86476),c=e(22676).prepSelect,m=e(22676).clearOutline,f=e(22676).selectOnClick,p=e(79248),v=e(79552),y=e(27144),x=e(59972),_=e(55712).NO;function h(E){this.id=E.id,this.graphDiv=E.graphDiv,this.container=E.container,this.topojsonURL=E.topojsonURL,this.isStatic=E.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=h.prototype;function w(E,C){var P=v.clipPad,O=E[0]+P,R=E[1]-P,U=C[0]+P,z=C[1]-P;O>0&&R<0&&(R+=360);var N=(R-O)/4;return{type:"Polygon",coordinates:[[[O,U],[O,z],[O+N,z],[O+2*N,z],[O+3*N,z],[R,z],[R,U],[R-N,U],[R-2*N,U],[R-3*N,U],[O,U]]]}}ee.exports=function(E){return new h(E)},S.plot=function(E,C,P,O){var R=this;if(O)return R.update(E,C,!0);R._geoCalcData=E,R._fullLayout=C;var U=C[this.id],z=[],N=!1;for(var W in v.layerNameToAdjective)if(W!=="frame"&&U["show"+W]){N=!0;break}for(var F=!1,V=0;V<E.length;V++){var j=E[0][0].trace;j._geo=R,j.locationmode&&(N=!0);var te=j.marker;if(te){var J=te.angle,K=te.angleref;(J||K==="north"||K==="previous")&&(F=!0)}}if(this._hasMarkerAngles=F,N){var Z=x.getTopojsonName(U);R.topojson!==null&&Z===R.topojsonName||(R.topojsonName=Z,PlotlyGeoAssets.topojson[R.topojsonName]===void 0&&z.push(R.fetchTopojson()))}z=z.concat(y.fetchTraceGeoData(E)),P.push(new Promise(function(X,Q){Promise.all(z).then(function(){R.topojson=PlotlyGeoAssets.topojson[R.topojsonName],R.update(E,C),X()}).catch(Q)}))},S.fetchTopojson=function(){var E=this,C=x.getTopojsonPath(E.topojsonURL,E.topojsonName);return new Promise(function(P,O){M.json(C,function(R,U){if(R)return R.status===404?O(new Error(["plotly.js could not find topojson file at",C+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):O(new Error(["unexpected error while fetching topojson file at",C].join(" ")));PlotlyGeoAssets.topojson[E.topojsonName]=U,P()})})},S.update=function(E,C,P){var O=C[this.id];this.hasChoropleth=!1;for(var R=0;R<E.length;R++){var U=E[R],z=U[0].trace;z.type==="choropleth"&&(this.hasChoropleth=!0),z.visible===!0&&z._length>0&&z._module.calcGeoJSON(U,C)}if(!P){if(this.updateProjection(E,C))return;this.viewInitial&&this.scope===O.scope||this.saveViewInitial(O)}this.scope=O.scope,this.updateBaseLayers(C,O),this.updateDims(C,O),this.updateFx(C,O),o.generalUpdatePerTraceModule(this.graphDiv,this,E,O);var N=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=N.selectAll(".point"),this.dataPoints.text=N.selectAll("text"),this.dataPaths.line=N.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},S.updateProjection=function(E,C){var P=this.graphDiv,O=C[this.id],R=C._size,U=O.domain,z=O.projection,N=O.lonaxis,W=O.lataxis,F=N._ax,V=W._ax,j=this.projection=function(oe){var he=oe.projection,Ee=he.type,Te=v.projNames[Ee];Te="geo"+s.titleCase(Te);for(var Me=(k[Te]||b[Te])(),Se=oe._isSatellite?180*Math.acos(1/he.distance)/Math.PI:oe._isClipped?v.lonaxisSpan[Ee]/2:null,ze=["center","rotate","parallels","clipExtent"],fe=function(Oe){return Oe?Me:[]},xe=0;xe<ze.length;xe++){var _e=ze[xe];typeof Me[_e]!="function"&&(Me[_e]=fe)}return Me.isLonLatOverEdges=function(Oe){if(Me(Oe)===null)return!0;if(Se){var De=Me.rotate();return T(Oe,[-De[0],-De[1]])>Se*Math.PI/180}return!1},Me.getPath=function(){return a().projection(Me)},Me.getBounds=function(Oe){return Me.getPath().bounds(Oe)},Me.precision(v.precision),oe._isSatellite&&Me.tilt(he.tilt).distance(he.distance),Se&&Me.clipAngle(Se-v.clipPad),Me}(O),te=[[R.l+R.w*U.x[0],R.t+R.h*(1-U.y[1])],[R.l+R.w*U.x[1],R.t+R.h*(1-U.y[0])]],J=O.center||{},K=z.rotation||{},Z=N.range||[],X=W.range||[];if(O.fitbounds){F._length=te[1][0]-te[0][0],V._length=te[1][1]-te[0][1],F.range=u(P,F),V.range=u(P,V);var Q=(F.range[0]+F.range[1])/2,re=(V.range[0]+V.range[1])/2;if(O._isScoped)J={lon:Q,lat:re};else if(O._isClipped){J={lon:Q,lat:re},K={lon:Q,lat:re,roll:K.roll};var ae=z.type,ie=v.lonaxisSpan[ae]/2||180,le=v.lataxisSpan[ae]/2||90;Z=[Q-ie,Q+ie],X=[re-le,re+le]}else J={lon:Q,lat:re},K={lon:Q,lat:K.lat,roll:K.roll}}j.center([J.lon-K.lon,J.lat-K.lat]).rotate([-K.lon,-K.lat,K.roll]).parallels(z.parallels);var pe=w(Z,X);j.fitExtent(te,pe);var de=this.bounds=j.getBounds(pe),ve=this.fitScale=j.scale(),be=j.translate();if(O.fitbounds){var me=j.getBounds(w(F.range,V.range)),ge=Math.min((de[1][0]-de[0][0])/(me[1][0]-me[0][0]),(de[1][1]-de[0][1])/(me[1][1]-me[0][1]));isFinite(ge)?j.scale(ge*ve):s.warn("Something went wrong during"+this.id+"fitbounds computations.")}else j.scale(z.scale*ve);var ke=this.midPt=[(de[0][0]+de[1][0])/2,(de[0][1]+de[1][1])/2];if(j.translate([be[0]+(ke[0]-be[0]),be[1]+(ke[1]-be[1])]).clipExtent(de),O._isAlbersUsa){var we=j([J.lon,J.lat]),ue=j.translate();j.translate([ue[0]-(we[0]-ue[0]),ue[1]-(we[1]-ue[1])])}},S.updateBaseLayers=function(E,C){var P=this,O=P.topojson,R=P.layers,U=P.basePaths;function z(j){return j==="lonaxis"||j==="lataxis"}function N(j){return!!v.lineLayers[j]}function W(j){return!!v.fillLayers[j]}var F=(this.hasChoropleth?v.layersForChoropleth:v.layers).filter(function(j){return N(j)||W(j)?C["show"+j]:!z(j)||C[j].showgrid}),V=P.framework.selectAll(".layer").data(F,String);V.exit().each(function(j){delete R[j],delete U[j],M.select(this).remove()}),V.enter().append("g").attr("class",function(j){return"layer "+j}).each(function(j){var te=R[j]=M.select(this);j==="bg"?P.bgRect=te.append("rect").style("pointer-events","all"):z(j)?U[j]=te.append("path").style("fill","none"):j==="backplot"?te.append("g").classed("choroplethlayer",!0):j==="frontplot"?te.append("g").classed("scatterlayer",!0):N(j)?U[j]=te.append("path").style("fill","none").style("stroke-miterlimit",2):W(j)&&(U[j]=te.append("path").style("stroke","none"))}),V.order(),V.each(function(j){var te=U[j],J=v.layerNameToAdjective[j];j==="frame"?te.datum(v.sphereSVG):N(j)||W(j)?te.datum(_(O,O.objects[j])):z(j)&&te.datum(function(K,Z,X){var Q,re,ae,ie=Z[K],le=v.scopeDefaults[Z.scope];K==="lonaxis"?(Q=le.lonaxisRange,re=le.lataxisRange,ae=function(ue,oe){return[ue,oe]}):K==="lataxis"&&(Q=le.lataxisRange,re=le.lonaxisRange,ae=function(ue,oe){return[oe,ue]});var pe={type:"linear",range:[Q[0],Q[1]-1e-6],tick0:ie.tick0,dtick:ie.dtick};l.setConvert(pe,X);var de=l.calcTicks(pe);Z.isScoped||K!=="lonaxis"||de.pop();for(var ve=de.length,be=new Array(ve),me=0;me<ve;me++)for(var ge=de[me].x,ke=be[me]=[],we=re[0];we<re[1]+2.5;we+=2.5)ke.push(ae(ge,we));return{type:"MultiLineString",coordinates:be}}(j,C,E)).call(i.stroke,C[j].gridcolor).call(r.dashLine,C[j].griddash,C[j].gridwidth),N(j)?te.call(i.stroke,C[J+"color"]).call(r.dashLine,"",C[J+"width"]):W(j)&&te.call(i.fill,C[J+"color"])})},S.updateDims=function(E,C){var P=this.bounds,O=(C.framewidth||0)/2,R=P[0][0]-O,U=P[0][1]-O,z=P[1][0]-R+O,N=P[1][1]-U+O;r.setRect(this.clipRect,R,U,z,N),this.bgRect.call(r.setRect,R,U,z,N).call(i.fill,C.bgcolor),this.xaxis._offset=R,this.xaxis._length=z,this.yaxis._offset=U,this.yaxis._length=N},S.updateFx=function(E,C){var P=this,O=P.graphDiv,R=P.bgRect,U=E.dragmode,z=E.clickmode;if(!P.isStatic){var N={element:P.bgRect.node(),gd:O,plotinfo:{id:P.id,xaxis:P.xaxis,yaxis:P.yaxis,fillRangeItems:function(F,V){V.isRect?(F.range={})[P.id]=[W([V.xmin,V.ymin]),W([V.xmax,V.ymax])]:(F.lassoPoints={})[P.id]=V.map(W)}},xaxes:[P.xaxis],yaxes:[P.yaxis],subplot:P.id,clickFn:function(F){F===2&&m(O)}};U==="pan"?(R.node().onmousedown=null,R.call(p(P,C)),R.on("dblclick.zoom",function(){var F=P.viewInitial,V={};for(var j in F)V[P.id+"."+j]=F[j];g.call("_guiRelayout",O,V),O.emit("plotly_doubleclick",null)}),O._context._scrollZoom.geo||R.on("wheel.zoom",null)):U!=="select"&&U!=="lasso"||(R.on(".zoom",null),N.prepFn=function(F,V,j){c(F,V,j,N,U)},d.init(N)),R.on("mousemove",function(){var F=P.projection.invert(s.getPositionFromD3Event());if(!F)return d.unhover(O,M.event);P.xaxis.p2c=function(){return F[0]},P.yaxis.p2c=function(){return F[1]},n.hover(O,M.event,P.id)}),R.on("mouseout",function(){O._dragging||d.unhover(O,M.event)}),R.on("click",function(){U!=="select"&&U!=="lasso"&&(z.indexOf("select")>-1&&f(M.event,O,[P.xaxis],[P.yaxis],P.id,N),z.indexOf("event")>-1&&n.click(O,M.event))})}function W(F){return P.projection.invert([F[0]+P.xaxis._offset,F[1]+P.yaxis._offset])}},S.makeFramework=function(){var E=this,C=E.graphDiv,P=C._fullLayout,O="clip"+P._uid+E.id;E.clipDef=P._clips.append("clipPath").attr("id",O),E.clipRect=E.clipDef.append("rect"),E.framework=M.select(E.container).append("g").attr("class","geo "+E.id).call(r.setClipUrl,O,C),E.project=function(R){var U=E.projection(R);return U?[U[0]-E.xaxis._offset,U[1]-E.yaxis._offset]:[null,null]},E.xaxis={_id:"x",c2p:function(R){return E.project(R)[0]}},E.yaxis={_id:"y",c2p:function(R){return E.project(R)[1]}},E.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},l.setConvert(E.mockAxis,P)},S.saveViewInitial=function(E){var C,P=E.center||{},O=E.projection,R=O.rotation||{};this.viewInitial={fitbounds:E.fitbounds,"projection.scale":O.scale},C=E._isScoped?{"center.lon":P.lon,"center.lat":P.lat}:E._isClipped?{"projection.rotation.lon":R.lon,"projection.rotation.lat":R.lat}:{"center.lon":P.lon,"center.lat":P.lat,"projection.rotation.lon":R.lon},s.extendFlat(this.viewInitial,C)},S.render=function(E){this._hasMarkerAngles&&E?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var E,C=this.projection,P=C.getPath();function O(U){var z=C(U.lonlat);return z?t(z[0],z[1]):null}function R(U){return C.isLonLatOverEdges(U.lonlat)?"none":null}for(E in this.basePaths)this.basePaths[E].attr("d",P);for(E in this.dataPaths)this.dataPaths[E].attr("d",function(U){return P(U.geojson)});for(E in this.dataPoints)this.dataPoints[E].attr("display",R).attr("transform",O)}},10816:function(ee,D,e){var M=e(84888).KY,k=e(3400).counterRegex,a=e(43520),T="geo",b=k(T),g={};g[T]={valType:"subplotid",dflt:T,editType:"calc"},ee.exports={attr:T,name:T,idRoot:T,idRegex:b,attrRegex:b,attributes:g,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:function(s){for(var t=s._fullLayout,i=s.calcdata,r=t._subplots[T],n=0;n<r.length;n++){var o=r[n],l=M(i,T,o),u=t[o]._subplot;u||(u=a({id:o,graphDiv:s,container:t._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),t[o]._subplot=u),u.plot(l,t,s._promises)}},updateFx:function(s){for(var t=s._fullLayout,i=t._subplots[T],r=0;r<i.length;r++){var n=t[i[r]];n._subplot.updateFx(t,n)}},clean:function(s,t,i,r){for(var n=r._subplots[T]||[],o=0;o<n.length;o++){var l=n[o],u=r[l]._subplot;!t[l]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},40384:function(ee,D,e){var M=e(22548),k=e(86968).u,a=e(98192).u,T=e(79552),b=e(67824).overrideAll,g=e(95376),s={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:M.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a};(ee.exports=b({domain:k({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:g(T.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:g(T.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:M.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:T.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:T.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:T.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:T.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:M.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:M.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:M.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:M.background},lonaxis:s,lataxis:s},"plot","from-root")).uirevision={valType:"any",editType:"none"}},86920:function(ee,D,e){var M=e(3400),k=e(168),a=e(84888).op,T=e(79552),b=e(40384),g=T.axesNames;function s(t,i,r,n){var o=a(n.fullData,"geo",n.id).map(function(K){return K._expandedIndex}),l=r("resolution"),u=r("scope"),d=T.scopeDefaults[u],c=r("projection.type",d.projType),m=i._isAlbersUsa=c==="albers usa";m&&(u=i.scope="usa");var f=i._isScoped=u!=="world",p=i._isSatellite=c==="satellite",v=i._isConic=c.indexOf("conic")!==-1||c==="albers",y=i._isClipped=!!T.lonaxisSpan[c];if(t.visible===!1){var x=M.extendDeep({},i._template);x.showcoastlines=!1,x.showcountries=!1,x.showframe=!1,x.showlakes=!1,x.showland=!1,x.showocean=!1,x.showrivers=!1,x.showsubunits=!1,x.lonaxis&&(x.lonaxis.showgrid=!1),x.lataxis&&(x.lataxis.showgrid=!1),i._template=x}for(var _=r("visible"),h=0;h<g.length;h++){var S,w=g[h],E=[30,10][h];if(f)S=d[w+"Range"];else{var C=T[w+"Span"],P=(C[c]||C["*"])/2,O=r("projection.rotation."+w.substr(0,3),d.projRotate[h]);S=[O-P,O+P]}var R=r(w+".range",S);r(w+".tick0"),r(w+".dtick",E),r(w+".showgrid",!!_&&void 0)&&(r(w+".gridcolor"),r(w+".gridwidth"),r(w+".griddash")),i[w]._ax={type:"linear",_id:w.slice(0,3),_traceIndices:o,setScale:M.identity,c2l:M.identity,r2l:M.identity,autorange:!0,range:R.slice(),_m:1,_input:{}}}var U=i.lonaxis.range,z=i.lataxis.range,N=U[0],W=U[1];N>0&&W<0&&(W+=360);var F,V,j,te=(N+W)/2;if(!m){var J=f?d.projRotate:[te,0,0];F=r("projection.rotation.lon",J[0]),r("projection.rotation.lat",J[1]),r("projection.rotation.roll",J[2]),r("showcoastlines",!f&&_)&&(r("coastlinecolor"),r("coastlinewidth")),r("showocean",!!_&&void 0)&&r("oceancolor")}m?(V=-96.6,j=38.7):(V=f?te:F,j=(z[0]+z[1])/2),r("center.lon",V),r("center.lat",j),p&&(r("projection.tilt"),r("projection.distance")),v&&r("projection.parallels",d.projParallels||[0,60]),r("projection.scale"),r("showland",!!_&&void 0)&&r("landcolor"),r("showlakes",!!_&&void 0)&&r("lakecolor"),r("showrivers",!!_&&void 0)&&(r("rivercolor"),r("riverwidth")),r("showcountries",f&&u!=="usa"&&_)&&(r("countrycolor"),r("countrywidth")),(u==="usa"||u==="north america"&&l===50)&&(r("showsubunits",_),r("subunitcolor"),r("subunitwidth")),f||r("showframe",_)&&(r("framecolor"),r("framewidth")),r("bgcolor"),r("fitbounds")&&(delete i.projection.scale,f?(delete i.center.lon,delete i.center.lat):y?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}ee.exports=function(t,i,r){k(t,i,r,{type:"geo",attributes:b,handleDefaults:s,fullData:r,partition:"y"})}},79248:function(ee,D,e){var M=e(33428),k=e(3400),a=e(24040),T=Math.PI/180,b=180/Math.PI,g={cursor:"pointer"},s={cursor:"auto"};function t(f,p){return M.behavior.zoom().translate(p.translate()).scale(p.scale())}function i(f,p,v){var y=f.id,x=f.graphDiv,_=x.layout,h=_[y],S=x._fullLayout,w=S[y],E={},C={};function P(O,R){E[y+"."+O]=k.nestedProperty(h,O).get(),a.call("_storeDirectGUIEdit",_,S._preGUI,E);var U=k.nestedProperty(w,O);U.get()!==R&&(U.set(R),k.nestedProperty(h,O).set(R),C[y+"."+O]=R)}v(P),P("projection.scale",p.scale()/f.fitScale),P("fitbounds",!1),x.emit("plotly_relayout",C)}function r(f,p){var v=t(0,p);function y(x){var _=p.invert(f.midPt);x("center.lon",_[0]),x("center.lat",_[1])}return v.on("zoomstart",function(){M.select(this).style(g)}).on("zoom",function(){p.scale(M.event.scale).translate(M.event.translate),f.render(!0);var x=p.invert(f.midPt);f.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":p.scale()/f.fitScale,"geo.center.lon":x[0],"geo.center.lat":x[1]})}).on("zoomend",function(){M.select(this).style(s),i(f,p,y)}),v}function n(f,p){var v,y,x,_,h,S,w,E,C,P=t(0,p);function O(U){return p.invert(U)}function R(U){var z=p.rotate(),N=p.invert(f.midPt);U("projection.rotation.lon",-z[0]),U("center.lon",N[0]),U("center.lat",N[1])}return P.on("zoomstart",function(){M.select(this).style(g),v=M.mouse(this),y=p.rotate(),x=p.translate(),_=y,h=O(v)}).on("zoom",function(){if(S=M.mouse(this),function(N){var W=O(N);if(!W)return!0;var F=p(W);return Math.abs(F[0]-N[0])>2||Math.abs(F[1]-N[1])>2}(v))return P.scale(p.scale()),void P.translate(p.translate());p.scale(M.event.scale),p.translate([x[0],M.event.translate[1]]),h?O(S)&&(E=O(S),w=[_[0]+(E[0]-h[0]),y[1],y[2]],p.rotate(w),_=w):h=O(v=S),C=!0,f.render(!0);var U=p.rotate(),z=p.invert(f.midPt);f.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":p.scale()/f.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1],"geo.projection.rotation.lon":-U[0]})}).on("zoomend",function(){M.select(this).style(s),C&&i(f,p,R)}),P}function o(f,p){var v;p.rotate(),p.scale();var y=t(0,p),x=function(w){for(var E=0,C=arguments.length,P=[];++E<C;)P.push(arguments[E]);var O=M.dispatch.apply(null,P);return O.of=function(R,U){return function(z){var N;try{N=z.sourceEvent=M.event,z.target=w,M.event=z,O[z.type].apply(R,U)}finally{M.event=N}}},O}(y,"zoomstart","zoom","zoomend"),_=0,h=y.on;function S(w){var E=p.rotate();w("projection.rotation.lon",-E[0]),w("projection.rotation.lat",-E[1])}return y.on("zoomstart",function(){M.select(this).style(g);var w,E,C,P,O,R,U,z,N,W,F,V=M.mouse(this),j=p.rotate(),te=j,J=p.translate(),K=(E=.5*(w=j)[0]*T,C=.5*w[1]*T,P=.5*w[2]*T,O=Math.sin(E),R=Math.cos(E),U=Math.sin(C),z=Math.cos(C),N=Math.sin(P),[R*z*(W=Math.cos(P))+O*U*N,O*z*W-R*U*N,R*U*W+O*z*N,R*z*N-O*U*W]);v=l(p,V),h.call(y,"zoom",function(){var Z,X,Q,re,ae,ie,le,pe,de,ve,be=M.mouse(this);if(p.scale(M.event.scale),v){if(l(p,be)){p.rotate(j).translate(J);var me=l(p,be),ge=function(ue,oe){if(ue&&oe){var he=function(Se,ze){return[Se[1]*ze[2]-Se[2]*ze[1],Se[2]*ze[0]-Se[0]*ze[2],Se[0]*ze[1]-Se[1]*ze[0]]}(ue,oe),Ee=Math.sqrt(m(he,he)),Te=.5*Math.acos(Math.max(-1,Math.min(1,m(ue,oe)))),Me=Math.sin(Te)/Ee;return Ee&&[Math.cos(Te),he[2]*Me,-he[1]*Me,he[0]*Me]}}(v,me),ke=function(ue){return[Math.atan2(2*(ue[0]*ue[1]+ue[2]*ue[3]),1-2*(ue[1]*ue[1]+ue[2]*ue[2]))*b,Math.asin(Math.max(-1,Math.min(1,2*(ue[0]*ue[2]-ue[3]*ue[1]))))*b,Math.atan2(2*(ue[0]*ue[3]+ue[1]*ue[2]),1-2*(ue[2]*ue[2]+ue[3]*ue[3]))*b]}((Q=(Z=K)[0],re=Z[1],ae=Z[2],ie=Z[3],[Q*(le=(X=ge)[0])-re*(pe=X[1])-ae*(de=X[2])-ie*(ve=X[3]),Q*pe+re*le+ae*ve-ie*de,Q*de-re*ve+ae*le+ie*pe,Q*ve+re*de-ae*pe+ie*le])),we=function(ue,oe,he){var Ee=c(oe,2,ue[0]);Ee=c(Ee,1,ue[1]),Ee=c(Ee,0,ue[2]-he[2]);var Te,Me,Se=oe[0],ze=oe[1],fe=oe[2],xe=Ee[0],_e=Ee[1],Oe=Ee[2],De=Math.atan2(ze,Se)*b,Pe=Math.sqrt(Se*Se+ze*ze);Math.abs(_e)>Pe?(Me=(_e>0?90:-90)-De,Te=0):(Me=Math.asin(_e/Pe)*b-De,Te=Math.sqrt(Pe*Pe-_e*_e));var Ue=180-Me-2*De,Ve=(Math.atan2(Oe,xe)-Math.atan2(fe,Te))*b,Xe=(Math.atan2(Oe,xe)-Math.atan2(fe,-Te))*b;return u(he[0],he[1],Me,Ve)<=u(he[0],he[1],Ue,Xe)?[Me,Ve,he[2]]:[Ue,Xe,he[2]]}(ke,v,te);isFinite(we[0])&&isFinite(we[1])&&isFinite(we[2])||(we=te),p.rotate(we),te=we}}else v=l(p,V=be);x.of(this,arguments)({type:"zoom"})}),F=x.of(this,arguments),_++||F({type:"zoomstart"})}).on("zoomend",function(){var w;M.select(this).style(s),h.call(y,"zoom",null),w=x.of(this,arguments),--_||w({type:"zoomend"}),i(f,p,S)}).on("zoom.redraw",function(){f.render(!0);var w=p.rotate();f.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":p.scale()/f.fitScale,"geo.projection.rotation.lon":-w[0],"geo.projection.rotation.lat":-w[1]})}),M.rebind(y,x,"on")}function l(f,p){var v=f.invert(p);return v&&isFinite(v[0])&&isFinite(v[1])&&function(y){var x=y[0]*T,_=y[1]*T,h=Math.cos(_);return[h*Math.cos(x),h*Math.sin(x),Math.sin(_)]}(v)}function u(f,p,v,y){var x=d(v-f),_=d(y-p);return Math.sqrt(x*x+_*_)}function d(f){return(f%360+540)%360-180}function c(f,p,v){var y=v*T,x=f.slice(),_=p===0?1:0,h=p===2?1:2,S=Math.cos(y),w=Math.sin(y);return x[_]=f[_]*S-f[h]*w,x[h]=f[h]*S+f[_]*w,x}function m(f,p){for(var v=0,y=0,x=f.length;y<x;++y)v+=f[y]*p[y];return v}ee.exports=function(f,p){var v=f.projection;return(p._isScoped?r:p._isClipped?o:n)(f,v)}},84888:function(ee,D,e){var M=e(24040),k=e(33816).SUBPLOT_PATTERN;D.KY=function(a,T,b){var g=M.subplotsRegistry[T];if(!g)return[];for(var s=g.attr,t=[],i=0;i<a.length;i++){var r=a[i];r[0].trace[s]===b&&t.push(r)}return t},D._M=function(a,T){var b,g=[],s=[];if(!(b=typeof T=="string"?M.getModule(T).plot:typeof T=="function"?T:T.plot))return[g,a];for(var t=0;t<a.length;t++){var i=a[t],r=i[0].trace;r.visible===!0&&r._length!==0&&(r._module&&r._module.plot===b?g.push(i):s.push(i))}return[g,s]},D.op=function(a,T,b){if(!M.subplotsRegistry[T])return[];var g,s,t,i=M.subplotsRegistry[T].attr,r=[];if(T==="gl2d"){var n=b.match(k);s="x"+n[1],t="y"+n[2]}for(var o=0;o<a.length;o++)g=a[o],T==="gl2d"&&M.traceIs(g,"gl2d")?g[i[0]]===s&&g[i[1]]===t&&r.push(g):g[i]===b&&r.push(g);return r}},2428:function(ee,D,e){var M=e(62644),k=e(97264),a=e(29128),T=e(33816),b=e(89184);function g(s,t){this.element=s,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}ee.exports=function(s){var t=s.mouseContainer,i=s.glplot,r=new g(t,i);function n(){s.xaxis.autorange=!1,s.yaxis.autorange=!1}function o(l,u,d){var c,m,f=s.calcDataBox(),p=i.viewBox,v=r.lastPos[0],y=r.lastPos[1],x=T.MINDRAG*i.pixelRatio,_=T.MINZOOM*i.pixelRatio;function h(O,R,U){var z=Math.min(R,U),N=Math.max(R,U);z!==N?(f[O]=z,f[O+2]=N,r.dataBox=f,s.setRanges(f)):(s.selectBox.selectBox=[0,0,1,1],s.glplot.setDirty())}switch(u*=i.pixelRatio,d*=i.pixelRatio,d=p[3]-p[1]-d,s.fullLayout.dragmode){case"zoom":if(l){var S=u/(p[2]-p[0])*(f[2]-f[0])+f[0],w=d/(p[3]-p[1])*(f[3]-f[1])+f[1];r.boxInited||(r.boxStart[0]=S,r.boxStart[1]=w,r.dragStart[0]=u,r.dragStart[1]=d),r.boxEnd[0]=S,r.boxEnd[1]=w,r.boxInited=!0,r.boxEnabled||r.boxStart[0]===r.boxEnd[0]&&r.boxStart[1]===r.boxEnd[1]||(r.boxEnabled=!0);var E=Math.abs(r.dragStart[0]-u)<_,C=Math.abs(r.dragStart[1]-d)<_;if(!function(){for(var O=s.graphDiv._fullLayout._axisConstraintGroups,R=s.xaxis._id,U=s.yaxis._id,z=0;z<O.length;z++)if(O[z][R]!==-1){if(O[z][U]!==-1)return!0;break}return!1}()||E&&C)E&&(r.boxEnd[0]=r.boxStart[0]),C&&(r.boxEnd[1]=r.boxStart[1]);else{c=r.boxEnd[0]-r.boxStart[0],m=r.boxEnd[1]-r.boxStart[1];var P=(f[3]-f[1])/(f[2]-f[0]);Math.abs(c*P)>Math.abs(m)?(r.boxEnd[1]=r.boxStart[1]+Math.abs(c)*P*(m>=0?1:-1),r.boxEnd[1]<f[1]?(r.boxEnd[1]=f[1],r.boxEnd[0]=r.boxStart[0]+(f[1]-r.boxStart[1])/Math.abs(P)):r.boxEnd[1]>f[3]&&(r.boxEnd[1]=f[3],r.boxEnd[0]=r.boxStart[0]+(f[3]-r.boxStart[1])/Math.abs(P))):(r.boxEnd[0]=r.boxStart[0]+Math.abs(m)/P*(c>=0?1:-1),r.boxEnd[0]<f[0]?(r.boxEnd[0]=f[0],r.boxEnd[1]=r.boxStart[1]+(f[0]-r.boxStart[0])*Math.abs(P)):r.boxEnd[0]>f[2]&&(r.boxEnd[0]=f[2],r.boxEnd[1]=r.boxStart[1]+(f[2]-r.boxStart[0])*Math.abs(P)))}}else r.boxEnabled?(c=r.boxStart[0]!==r.boxEnd[0],m=r.boxStart[1]!==r.boxEnd[1],c||m?(c&&(h(0,r.boxStart[0],r.boxEnd[0]),s.xaxis.autorange=!1),m&&(h(1,r.boxStart[1],r.boxEnd[1]),s.yaxis.autorange=!1),s.relayoutCallback()):s.glplot.setDirty(),r.boxEnabled=!1,r.boxInited=!1):r.boxInited&&(r.boxInited=!1);break;case"pan":r.boxEnabled=!1,r.boxInited=!1,l?(r.panning||(r.dragStart[0]=u,r.dragStart[1]=d),Math.abs(r.dragStart[0]-u)<x&&(u=r.dragStart[0]),Math.abs(r.dragStart[1]-d)<x&&(d=r.dragStart[1]),c=(v-u)*(f[2]-f[0])/(i.viewBox[2]-i.viewBox[0]),m=(y-d)*(f[3]-f[1])/(i.viewBox[3]-i.viewBox[1]),f[0]+=c,f[2]+=c,f[1]+=m,f[3]+=m,s.setRanges(f),r.panning=!0,r.lastInputTime=Date.now(),n(),s.cameraChanged(),s.handleAnnotations()):r.panning&&(r.panning=!1,s.relayoutCallback())}r.lastPos[0]=u,r.lastPos[1]=d}return r.mouseListener=M(t,o),t.addEventListener("touchstart",function(l){var u=a(l.changedTouches[0],t);o(0,u[0],u[1]),o(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchmove",function(l){l.preventDefault();var u=a(l.changedTouches[0],t);o(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchend",function(l){o(0,r.lastPos[0],r.lastPos[1]),l.preventDefault()},!!b&&{passive:!1}),r.wheelListener=k(t,function(l,u){if(!s.scrollZoom)return!1;var d=s.calcDataBox(),c=i.viewBox,m=r.lastPos[0],f=r.lastPos[1],p=Math.exp(5*u/(c[3]-c[1])),v=m/(c[2]-c[0])*(d[2]-d[0])+d[0],y=f/(c[3]-c[1])*(d[3]-d[1])+d[1];return d[0]=(d[0]-v)*p+v,d[2]=(d[2]-v)*p+v,d[1]=(d[1]-y)*p+y,d[3]=(d[3]-y)*p+y,s.setRanges(d),r.lastInputTime=Date.now(),n(),s.cameraChanged(),s.handleAnnotations(),s.relayoutCallback(),!0},!0),r}},92568:function(ee,D,e){var M=e(54460),k=e(43080);function a(g){this.scene=g,this.gl=g.gl,this.pixelRatio=g.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var T=a.prototype,b=["xaxis","yaxis"];T.merge=function(g){var s,t,i,r,n,o,l,u,d,c,m;for(this.titleEnable=!1,this.backgroundColor=k(g.plot_bgcolor),c=0;c<2;++c){var f=(s=b[c]).charAt(0);for(i=(t=g[this.scene[s]._name]).title.text===this.scene.fullLayout._dfltTitle[f]?"":t.title.text,m=0;m<=2;m+=2)this.labelEnable[c+m]=!1,this.labels[c+m]=i,this.labelColor[c+m]=k(t.title.font.color),this.labelFont[c+m]=t.title.font.family,this.labelSize[c+m]=t.title.font.size,this.labelPad[c+m]=this.getLabelPad(s,t),this.tickEnable[c+m]=!1,this.tickColor[c+m]=k((t.tickfont||{}).color),this.tickAngle[c+m]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[c+m]=this.getTickPad(t),this.tickMarkLength[c+m]=0,this.tickMarkWidth[c+m]=t.tickwidth||0,this.tickMarkColor[c+m]=k(t.tickcolor),this.borderLineEnable[c+m]=!1,this.borderLineColor[c+m]=k(t.linecolor),this.borderLineWidth[c+m]=t.linewidth||0;l=this.hasSharedAxis(t),n=this.hasAxisInDfltPos(s,t)&&!l,o=this.hasAxisInAltrPos(s,t)&&!l,r=t.mirror||!1,u=l?String(r).indexOf("all")!==-1:!!r,d=l?r==="allticks":String(r).indexOf("ticks")!==-1,n?this.labelEnable[c]=!0:o&&(this.labelEnable[c+2]=!0),n?this.tickEnable[c]=t.showticklabels:o&&(this.tickEnable[c+2]=t.showticklabels),(n||u)&&(this.borderLineEnable[c]=t.showline),(o||u)&&(this.borderLineEnable[c+2]=t.showline),(n||d)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(o||d)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=k(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=k(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},T.hasSharedAxis=function(g){var s=this.scene,t=s.fullLayout._subplots.gl2d;return M.findSubplotsWithAxis(t,g).indexOf(s.id)!==0},T.hasAxisInDfltPos=function(g,s){var t=s.side;return g==="xaxis"?t==="bottom":g==="yaxis"?t==="left":void 0},T.hasAxisInAltrPos=function(g,s){var t=s.side;return g==="xaxis"?t==="top":g==="yaxis"?t==="right":void 0},T.getLabelPad=function(g,s){var t=1.5,i=s.title.font.size,r=s.showticklabels;return g==="xaxis"?s.side==="top"?i*(t+(r?1:0))-10:i*(t+(r?.5:0))-10:g==="yaxis"?s.side==="right"?10+i*(t+(r?1:.5)):10+i*(t+(r?.5:0)):void 0},T.getTickPad=function(g){return g.ticks==="outside"?10+g.ticklen:15},T.getTickMarkLength=function(g){if(!g.ticks)return 0;var s=g.ticklen;return g.ticks==="inside"?-s:s},ee.exports=function(g){return new a(g)}},39952:function(ee,D,e){var M=e(67824).overrideAll,k=e(17188),a=e(64859),T=e(9616),b=e(33816),g=e(57952),s=e(65460),t=e(84888).op;D.name="gl2d",D.attr=["xaxis","yaxis"],D.idRoot=["x","y"],D.idRegex=b.idRegex,D.attrRegex=b.attrRegex,D.attributes=e(26720),D.supplyLayoutDefaults=function(i,r,n){r._has("cartesian")||g.supplyLayoutDefaults(i,r,n)},D.layoutAttrOverrides=M(g.layoutAttributes,"plot","from-root"),D.baseLayoutAttrOverrides=M({plot_bgcolor:a.plot_bgcolor,hoverlabel:s.hoverlabel},"plot","nested"),D.plot=function(i){for(var r=i._fullLayout,n=i._fullData,o=r._subplots.gl2d,l=0;l<o.length;l++){var u=o[l],d=r._plots[u],c=t(n,"gl2d",u),m=d._scene2d;m===void 0&&(m=new k({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},r),d._scene2d=m),m.plot(c,i.calcdata,r,i.layout)}},D.clean=function(i,r,n,o){for(var l=o._subplots.gl2d||[],u=0;u<l.length;u++){var d=l[u],c=o._plots[d];c._scene2d&&t(i,"gl2d",d).length===0&&(c._scene2d.destroy(),delete o._plots[d])}g.clean.apply(this,arguments)},D.drawFramework=function(i){i._context.staticPlot||g.drawFramework(i)},D.toSVG=function(i){for(var r=i._fullLayout,n=r._subplots.gl2d,o=0;o<n.length;o++){var l=r._plots[n[o]]._scene2d,u=l.toImage("png");r._glimages.append("svg:image").attr({xmlns:T.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},D.updateFx=function(i){for(var r=i._fullLayout,n=r._subplots.gl2d,o=0;o<n.length;o++)r._plots[n[o]]._scene2d.updateFx(r.dragmode)}},17188:function(ee,D,e){var M,k,a=e(24040),T=e(54460),b=e(93024),g=e(67792).gl_plot2d,s=e(67792).gl_spikes2d,t=e(67792).gl_select_box,i=e(5408),r=e(92568),n=e(2428),o=e(16576),l=e(71888),u=l.enforce,d=l.clean,c=e(19280).doAutoRange,m=e(72760),f=m.drawMode,p=m.selectMode,v=["xaxis","yaxis"],y=e(33816).SUBPLOT_PATTERN;function x(h,S){this.container=h.container,this.graphDiv=h.graphDiv,this.pixelRatio=h.plotGlPixelRatio||window.devicePixelRatio,this.id=h.id,this.staticPlot=!!h.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),this.stopped||(this.glplotOptions=r(this),this.glplotOptions.merge(S),this.glplot=g(this.glplotOptions),this.camera=n(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}ee.exports=x;var _=x.prototype;_.makeFramework=function(){if(this.staticPlot){if(!(k||(M=document.createElement("canvas"),k=i({canvas:M,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=M,this.gl=k}else{var h=this.container.querySelector(".gl-canvas-focus"),S=i({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S)return o(this),void(this.stopped=!0);this.canvas=h,this.gl=S}var w=this.canvas;w.style.width="100%",w.style.height="100%",w.style.position="absolute",w.style.top="0px",w.style.left="0px",w.style["pointer-events"]="none",this.updateSize(w);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var C=this.mouseContainer=document.createElement("div");C.style.position="absolute",C.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var P=this.container;P.appendChild(E),P.appendChild(C);var O=this;C.addEventListener("mouseout",function(){O.isMouseOver=!1,O.unhover()}),C.addEventListener("mouseover",function(){O.isMouseOver=!0})},_.toImage=function(h){h||(h="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(M),this.updateSize(this.canvas);var S=this.glplot.gl,w=S.drawingBufferWidth,E=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var C=new Uint8Array(w*E*4);S.readPixels(0,0,w,E,S.RGBA,S.UNSIGNED_BYTE,C);for(var P=0,O=E-1;P<O;++P,--O)for(var R=0;R<w;++R)for(var U=0;U<4;++U){var z=C[4*(w*P+R)+U];C[4*(w*P+R)+U]=C[4*(w*O+R)+U],C[4*(w*O+R)+U]=z}var N=document.createElement("canvas");N.width=w,N.height=E;var W,F=N.getContext("2d",{willReadFrequently:!0}),V=F.createImageData(w,E);switch(V.data.set(C),F.putImageData(V,0,0),h){case"jpeg":W=N.toDataURL("image/jpeg");break;case"webp":W=N.toDataURL("image/webp");break;default:W=N.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(M),W},_.updateSize=function(h){h||(h=this.canvas);var S=this.pixelRatio,w=this.fullLayout,E=w.width,C=w.height,P=0|Math.ceil(S*E),O=0|Math.ceil(S*C);return h.width===P&&h.height===O||(h.width=P,h.height=O),h},_.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var h=[T.calcTicks(this.xaxis),T.calcTicks(this.yaxis)],S=0;S<2;++S)for(var w=0;w<h[S].length;++w)h[S][w].text=h[S][w].text+"";return h},_.updateRefs=function(h){this.fullLayout=h;var S=this.id.match(y),w="xaxis"+S[1],E="yaxis"+S[2];this.xaxis=this.fullLayout[w],this.yaxis=this.fullLayout[E]},_.relayoutCallback=function(){var h=this.graphDiv,S=this.xaxis,w=this.yaxis,E=h.layout,C={},P=C[S._name+".range"]=S.range.slice(),O=C[w._name+".range"]=w.range.slice();C[S._name+".autorange"]=S.autorange,C[w._name+".autorange"]=w.autorange,a.call("_storeDirectGUIEdit",h.layout,h._fullLayout._preGUI,C);var R=E[S._name];R.range=P,R.autorange=S.autorange;var U=E[w._name];U.range=O,U.autorange=w.autorange,C.lastInputTime=this.camera.lastInputTime,h.emit("plotly_relayout",C)},_.cameraChanged=function(){var h=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks();(function(w,E){for(var C=0;C<2;++C){var P=w[C],O=E[C];if(P.length!==O.length)return!0;for(var R=0;R<P.length;++R)if(P[R].x!==O[R].x)return!0}return!1})(S,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=h.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},_.handleAnnotations=function(){for(var h=this.graphDiv,S=this.fullLayout.annotations,w=0;w<S.length;w++){var E=S[w];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&a.getComponentMethod("annotations","drawOne")(h,w)}},_.destroy=function(){if(this.glplot){var h=this.traces;h&&Object.keys(h).map(function(S){h[S].dispose(),delete h[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},_.plot=function(h,S,w){var E=this.glplot;this.updateRefs(w),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(h,S),this.updateFx(w.dragmode);var C=w.width,P=w.height;this.updateSize(this.canvas);var O=this.glplotOptions;O.merge(w),O.screenBox=[0,0,C,P];var R={_fullLayout:{_axisConstraintGroups:w._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:w._size}};d(R,this.xaxis),d(R,this.yaxis);var U,z,N=w._size,W=this.xaxis.domain,F=this.yaxis.domain;for(O.viewBox=[N.l+W[0]*N.w,N.b+F[0]*N.h,C-N.r-(1-W[1])*N.w,P-N.t-(1-F[1])*N.h],this.mouseContainer.style.width=N.w*(W[1]-W[0])+"px",this.mouseContainer.style.height=N.h*(F[1]-F[0])+"px",this.mouseContainer.height=N.h*(F[1]-F[0]),this.mouseContainer.style.left=N.l+W[0]*N.w+"px",this.mouseContainer.style.top=N.t+(1-F[1])*N.h+"px",z=0;z<2;++z)(U=this[v[z]])._length=O.viewBox[z+2]-O.viewBox[z],c(this.graphDiv,U),U.setScale();u(R),O.ticks=this.computeTickMarks(),O.dataBox=this.calcDataBox(),O.merge(w),E.update(O),this.glplot.draw()},_.calcDataBox=function(){var h=this.xaxis,S=this.yaxis,w=h.range,E=S.range,C=h.r2l,P=S.r2l;return[C(w[0]),P(E[0]),C(w[1]),P(E[1])]},_.setRanges=function(h){var S=this.xaxis,w=this.yaxis,E=S.l2r,C=w.l2r;S.range=[E(h[0]),E(h[2])],w.range=[C(h[1]),C(h[3])]},_.updateTraces=function(h,S){var w,E,C,P=Object.keys(this.traces);this.fullData=h;e:for(w=0;w<P.length;w++){var O=P[w],R=this.traces[O];for(E=0;E<h.length;E++)if((C=h[E]).uid===O&&C.type===R.type)continue e;R.dispose(),delete this.traces[O]}for(w=0;w<h.length;w++){C=h[w];var U=S[w],z=this.traces[C.uid];z?z.update(C,U):(z=C._module.plot(this,C,U),this.traces[C.uid]=z)}this.glplot.objects.sort(function(N,W){return N._trace.index-W._trace.index})},_.updateFx=function(h){p(h)||f(h)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=h==="pan"?"move":h==="zoom"?"crosshair":null},_.emitPointAction=function(h,S){for(var w,E=h.trace.uid,C=h.pointIndex,P=0;P<this.fullData.length;P++)this.fullData[P].uid===E&&(w=this.fullData[P]);var O={x:h.traceCoord[0],y:h.traceCoord[1],curveNumber:w.index,pointNumber:C,data:w._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};b.appendArrayPointValue(O,w,C),this.graphDiv.emit(S,{points:[O]})},_.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var h=this.glplot,S=this.camera,w=S.mouseListener,E=this.lastButtonState===1&&w.buttons===0,C=this.fullLayout;this.lastButtonState=w.buttons,this.cameraChanged();var P,O=w.x*h.pixelRatio,R=this.canvas.height-h.pixelRatio*w.y;if(S.boxEnabled&&C.dragmode==="zoom"){this.selectBox.enabled=!0;for(var U=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],z=0;z<2;z++)S.boxStart[z]===S.boxEnd[z]&&(U[z]=h.dataBox[z],U[z+2]=h.dataBox[z+2]);h.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var N=C._size,W=this.xaxis.domain,F=this.yaxis.domain,V=(P=h.pick(O/h.pixelRatio+N.l+W[0]*N.w,R/h.pixelRatio-(N.t+(1-F[1])*N.h)))&&P.object._trace.handlePick(P);if(V&&E&&this.emitPointAction(V,"plotly_click"),P&&P.object._trace.hoverinfo!=="skip"&&C.hovermode&&V&&(!this.lastPickResult||this.lastPickResult.traceUid!==V.trace.uid||this.lastPickResult.dataCoord[0]!==V.dataCoord[0]||this.lastPickResult.dataCoord[1]!==V.dataCoord[1])){var j=V;this.lastPickResult={traceUid:V.trace?V.trace.uid:null,dataCoord:V.dataCoord.slice()},this.spikes.update({center:P.dataCoord}),j.screenCoord=[((h.viewBox[2]-h.viewBox[0])*(P.dataCoord[0]-h.dataBox[0])/(h.dataBox[2]-h.dataBox[0])+h.viewBox[0])/h.pixelRatio,(this.canvas.height-(h.viewBox[3]-h.viewBox[1])*(P.dataCoord[1]-h.dataBox[1])/(h.dataBox[3]-h.dataBox[1])-h.viewBox[1])/h.pixelRatio],this.emitPointAction(V,"plotly_hover");var te=this.fullData[j.trace.index]||{},J=j.pointIndex,K=b.castHoverinfo(te,C,J);if(K&&K!=="all"){var Z=K.split("+");Z.indexOf("x")===-1&&(j.traceCoord[0]=void 0),Z.indexOf("y")===-1&&(j.traceCoord[1]=void 0),Z.indexOf("z")===-1&&(j.traceCoord[2]=void 0),Z.indexOf("text")===-1&&(j.textLabel=void 0),Z.indexOf("name")===-1&&(j.name=void 0)}b.loneHover({x:j.screenCoord[0],y:j.screenCoord[1],xLabel:this.hoverFormatter("xaxis",j.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",j.traceCoord[1]),zLabel:j.traceCoord[2],text:j.textLabel,name:j.name,color:b.castHoverOption(te,J,"bgcolor")||j.color,borderColor:b.castHoverOption(te,J,"bordercolor"),fontFamily:b.castHoverOption(te,J,"font.family"),fontSize:b.castHoverOption(te,J,"font.size"),fontColor:b.castHoverOption(te,J,"font.color"),nameLength:b.castHoverOption(te,J,"namelength"),textAlign:b.castHoverOption(te,J,"align")},{container:this.svgContainer,gd:this.graphDiv})}}P||this.unhover(),h.draw()}},_.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),b.loneUnhover(this.svgContainer))},_.hoverFormatter=function(h,S){if(S!==void 0){var w=this[h];return T.tickText(w,w.c2l(S),"hover").text}}},12536:function(ee,D,e){var M=e(67824).overrideAll,k=e(65460),a=e(98432),T=e(84888).op,b=e(3400),g=e(9616),s="gl3d",t="scene";D.name=s,D.attr=t,D.idRoot=t,D.idRegex=D.attrRegex=b.counterRegex("scene"),D.attributes=e(6636),D.layoutAttributes=e(346),D.baseLayoutAttrOverrides=M({hoverlabel:k.hoverlabel},"plot","nested"),D.supplyLayoutDefaults=e(5208),D.plot=function(i){for(var r=i._fullLayout,n=i._fullData,o=r._subplots[s],l=0;l<o.length;l++){var u=o[l],d=T(n,s,u),c=r[u],m=c.camera,f=c._scene;f||(f=new a({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:m},r),c._scene=f),f.viewInitial||(f.viewInitial={up:{x:m.up.x,y:m.up.y,z:m.up.z},eye:{x:m.eye.x,y:m.eye.y,z:m.eye.z},center:{x:m.center.x,y:m.center.y,z:m.center.z}}),f.plot(d,r,i.layout)}},D.clean=function(i,r,n,o){for(var l=o._subplots[s]||[],u=0;u<l.length;u++){var d=l[u];!r[d]&&o[d]._scene&&(o[d]._scene.destroy(),o._infolayer&&o._infolayer.selectAll(".annotation-"+d).remove())}},D.toSVG=function(i){for(var r=i._fullLayout,n=r._subplots[s],o=r._size,l=0;l<n.length;l++){var u=r[n[l]],d=u.domain,c=u._scene,m=c.toImage("png");r._glimages.append("svg:image").attr({xmlns:g.svg,"xlink:href":m,x:o.l+o.w*d.x[0],y:o.t+o.h*(1-d.y[1]),width:o.w*(d.x[1]-d.x[0]),height:o.h*(d.y[1]-d.y[0]),preserveAspectRatio:"none"}),c.destroy()}},D.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var r=i.substr(5);return r==="1"&&(r=""),t+r}},D.updateFx=function(i){for(var r=i._fullLayout,n=r._subplots[s],o=0;o<n.length;o++)r[n[o]]._scene.updateFx(r.dragmode,r.hovermode)}},6636:function(ee){ee.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(ee,D,e){var M=e(76308),k=e(94724),a=e(92880).extendFlat,T=e(67824).overrideAll;ee.exports=T({visible:k.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:M.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:k.color,categoryorder:k.categoryorder,categoryarray:k.categoryarray,title:{text:k.title.text,font:k.title.font},type:a({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorange:k.autorange,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},rangemode:k.rangemode,minallowed:k.minallowed,maxallowed:k.maxallowed,range:a({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,mirror:k.mirror,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:k.tickfont,tickangle:k.tickangle,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickformat:k.tickformat,tickformatstops:k.tickformatstops,hoverformat:k.hoverformat,showline:k.showline,linecolor:k.linecolor,linewidth:k.linewidth,showgrid:k.showgrid,gridcolor:a({},k.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:k.gridwidth,zeroline:k.zeroline,zerolinecolor:k.zerolinecolor,zerolinewidth:k.zerolinewidth,_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}},"plot","from-root")},64380:function(ee,D,e){var M=e(49760).mix,k=e(3400),a=e(31780),T=e(86140),b=e(14944),g=e(28336),s=["xaxis","yaxis","zaxis"];ee.exports=function(t,i,r){var n,o;function l(c,m){return k.coerce(n,o,T,c,m)}for(var u=0;u<s.length;u++){var d=s[u];n=t[d]||{},(o=a.newContainer(i,d))._id=d[0]+r.scene,o._name=d,b(n,o,l,r),g(n,o,l,{font:r.font,letter:d[0],data:r.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:r.bgColor,calendar:r.calendar},r.fullLayout),l("gridcolor",M(o.color,r.bgColor,72.72727272727273).toRgbString()),l("title.text",d[0]),o.setScale=k.noop,l("showspikes")&&(l("spikesides"),l("spikethickness"),l("spikecolor",o.color)),l("showaxeslabels"),l("showbackground")&&l("backgroundcolor")}}},44728:function(ee,D,e){var M=e(43080),k=e(3400),a=["xaxis","yaxis","zaxis"];function T(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}T.prototype.merge=function(b,g){for(var s=this,t=0;t<3;++t){var i=g[a[t]];i.visible?(s.labels[t]=b._meta?k.templateString(i.title.text,b._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(s.labelColor[t]=M(i.title.font.color)),i.title.font.family&&(s.labelFont[t]=i.title.font.family),i.title.font.size&&(s.labelSize[t]=i.title.font.size)),"showline"in i&&(s.lineEnable[t]=i.showline),"linecolor"in i&&(s.lineColor[t]=M(i.linecolor)),"linewidth"in i&&(s.lineWidth[t]=i.linewidth),"showgrid"in i&&(s.gridEnable[t]=i.showgrid),"gridcolor"in i&&(s.gridColor[t]=M(i.gridcolor)),"gridwidth"in i&&(s.gridWidth[t]=i.gridwidth),i.type==="log"?s.zeroEnable[t]=!1:"zeroline"in i&&(s.zeroEnable[t]=i.zeroline),"zerolinecolor"in i&&(s.zeroLineColor[t]=M(i.zerolinecolor)),"zerolinewidth"in i&&(s.zeroLineWidth[t]=i.zerolinewidth),"ticks"in i&&i.ticks?s.lineTickEnable[t]=!0:s.lineTickEnable[t]=!1,"ticklen"in i&&(s.lineTickLength[t]=s._defaultLineTickLength[t]=i.ticklen),"tickcolor"in i&&(s.lineTickColor[t]=M(i.tickcolor)),"tickwidth"in i&&(s.lineTickWidth[t]=i.tickwidth),"tickangle"in i&&(s.tickAngle[t]=i.tickangle==="auto"?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(s.tickEnable[t]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(s.tickColor[t]=M(i.tickfont.color)),i.tickfont.family&&(s.tickFont[t]=i.tickfont.family),i.tickfont.size&&(s.tickSize[t]=i.tickfont.size)),"mirror"in i?["ticks","all","allticks"].indexOf(i.mirror)!==-1?(s.lineTickMirror[t]=!0,s.lineMirror[t]=!0):i.mirror===!0?(s.lineTickMirror[t]=!1,s.lineMirror[t]=!0):(s.lineTickMirror[t]=!1,s.lineMirror[t]=!1):s.lineMirror[t]=!1,"showbackground"in i&&i.showbackground!==!1?(s.backgroundEnable[t]=!0,s.backgroundColor[t]=M(i.backgroundcolor)):s.backgroundEnable[t]=!1):(s.tickEnable[t]=!1,s.labelEnable[t]=!1,s.lineEnable[t]=!1,s.lineTickEnable[t]=!1,s.gridEnable[t]=!1,s.zeroEnable[t]=!1,s.backgroundEnable[t]=!1)}},ee.exports=function(b,g){var s=new T;return s.merge(b,g),s}},5208:function(ee,D,e){var M=e(3400),k=e(76308),a=e(24040),T=e(168),b=e(64380),g=e(346),s=e(84888).op,t="gl3d";function i(r,n,o,l){for(var u=o("bgcolor"),d=k.combine(u,l.paper_bgcolor),c=["up","center","eye"],m=0;m<c.length;m++)o("camera."+c[m]+".x"),o("camera."+c[m]+".y"),o("camera."+c[m]+".z");o("camera.projection.type");var f=!!o("aspectratio.x")&&!!o("aspectratio.y")&&!!o("aspectratio.z"),p=o("aspectmode",f?"manual":"auto");f||(r.aspectratio=n.aspectratio={x:1,y:1,z:1},p==="manual"&&(n.aspectmode="auto"),r.aspectmode=n.aspectmode);var v=s(l.fullData,t,l.id);b(r,n,{font:l.font,scene:l.id,data:v,bgColor:d,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(r,n,l);var y=l.getDfltFromLayout("dragmode");if(y!==!1&&!y)if(y="orbit",r.camera&&r.camera.up){var x=r.camera.up.x,_=r.camera.up.y,h=r.camera.up.z;h!==0&&(x&&_&&h?h/Math.sqrt(x*x+_*_+h*h)>.999&&(y="turntable"):y="turntable")}else y="turntable";o("dragmode",y),o("hovermode",l.getDfltFromLayout("hovermode"))}ee.exports=function(r,n,o){var l=n._basePlotModules.length>1;T(r,n,o,{type:t,attributes:g,handleDefaults:i,fullLayout:n,font:n.font,fullData:o,getDfltFromLayout:function(u){if(!l)return M.validate(r[u],g[u])?r[u]:void 0},autotypenumbersDflt:n.autotypenumbers,paper_bgcolor:n.paper_bgcolor,calendar:n.calendar})}},346:function(ee,D,e){var M=e(86140),k=e(86968).u,a=e(92880).extendFlat,T=e(3400).counterRegex;function b(g,s,t){return{x:{valType:"number",dflt:g,editType:"camera"},y:{valType:"number",dflt:s,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}ee.exports={_arrayAttrRegexps:[T("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(b(0,0,1),{}),center:a(b(0,0,0),{}),eye:a(b(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:k({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:M,yaxis:M,zaxis:M,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(ee,D,e){var M=e(43080),k=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}a.prototype.merge=function(T){for(var b=0;b<3;++b){var g=T[k[b]];g.visible?(this.enabled[b]=g.showspikes,this.colors[b]=M(g.spikecolor),this.drawSides[b]=g.spikesides,this.lineWidth[b]=g.spikethickness):(this.enabled[b]=!1,this.drawSides[b]=!1)}},ee.exports=function(T){var b=new a;return b.merge(T),b}},87152:function(ee,D,e){ee.exports=function(b){for(var g=b.axesOptions,s=b.glplot.axesPixels,t=b.fullSceneLayout,i=[[],[],[]],r=0;r<3;++r){var n=t[a[r]];if(n._length=(s[r].hi-s[r].lo)*s[r].pixelsPerDataUnit/b.dataScale[r],Math.abs(n._length)===1/0||isNaN(n._length))i[r]=[];else{n._input_range=n.range.slice(),n.range[0]=s[r].lo/b.dataScale[r],n.range[1]=s[r].hi/b.dataScale[r],n._m=1/(b.dataScale[r]*s[r].pixelsPerDataUnit),n.range[0]===n.range[1]&&(n.range[0]-=1,n.range[1]+=1);var o=n.tickmode;if(n.tickmode==="auto"){n.tickmode="linear";var l=n.nticks||k.constrain(n._length/40,4,9);M.autoTicks(n,Math.abs(n.range[1]-n.range[0])/l)}for(var u=M.calcTicks(n,{msUTC:!0}),d=0;d<u.length;++d)u[d].x=u[d].x*b.dataScale[r],n.type==="date"&&(u[d].text=u[d].text.replace(/\<br\>/g," "));i[r]=u,n.tickmode=o}}for(g.ticks=i,r=0;r<3;++r)for(T[r]=.5*(b.glplot.bounds[0][r]+b.glplot.bounds[1][r]),d=0;d<2;++d)g.bounds[d][r]=b.glplot.bounds[d][r];b.contourLevels=function(c){for(var m=new Array(3),f=0;f<3;++f){for(var p=c[f],v=new Array(p.length),y=0;y<p.length;++y)v[y]=p[y].x;m[f]=v}return m}(i)};var M=e(54460),k=e(3400),a=["xaxis","yaxis","zaxis"],T=[0,0,0]},94424:function(ee){function D(e,M){var k,a,T=[0,0,0,0];for(k=0;k<4;++k)for(a=0;a<4;++a)T[a]+=e[4*k+a]*M[k];return T}ee.exports=function(e,M){return D(e.projection,D(e.view,D(e.model,[M[0],M[1],M[2],1])))}},98432:function(ee,D,e){var M,k,a=e(67792).gl_plot3d,T=a.createCamera,b=a.createScene,g=e(5408),s=e(89184),t=e(24040),i=e(3400),r=i.preserveDrawingBuffer(),n=e(54460),o=e(93024),l=e(43080),u=e(16576),d=e(94424),c=e(44728),m=e(9020),f=e(87152),p=e(19280).applyAutorangeOptions,v=!1;function y(w,E){var C=document.createElement("div"),P=w.container;this.graphDiv=w.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",C.appendChild(O),this.svgContainer=O,C.id=w.id,C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",P.appendChild(C),this.fullLayout=E,this.id=w.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(E,E[this.id]),this.spikeOptions=m(E[this.id]),this.container=C,this.staticMode=!!w.staticPlot,this.pixelRatio=this.pixelRatio||w.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var x=y.prototype;x.prepareOptions=function(){var w=this,E={canvas:w.canvas,gl:w.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:w.container,axes:w.axesOptions,spikes:w.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:w.camera,pixelRatio:w.pixelRatio};if(w.staticMode){if(!(k||(M=document.createElement("canvas"),k=g({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=k,E.canvas=M}return E};var _=!0;x.tryCreatePlot=function(){var w=this,E=w.prepareOptions(),C=!0;try{w.glplot=b(E)}catch{if(w.staticMode||!_||r)C=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=E.glOptions.preserveDrawingBuffer=!0,w.glplot=b(E)}catch{r=E.glOptions.preserveDrawingBuffer=!1,C=!1}}}return _=!1,C},x.initializeGLCamera=function(){var w=this,E=w.fullSceneLayout.camera,C=E.projection.type==="orthographic";w.camera=T(w.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:C,zoomMin:.01,zoomMax:100,mode:"orbit"})},x.initializeGLPlot=function(){var w=this;if(w.initializeGLCamera(),!w.tryCreatePlot())return u(w);w.traces={},w.make4thDimension();var E=w.graphDiv,C=E.layout,P=function(){var R={};return w.isCameraChanged(C)&&(R[w.id+".camera"]=w.getCamera()),w.isAspectChanged(C)&&(R[w.id+".aspectratio"]=w.glplot.getAspectratio(),C[w.id].aspectmode!=="manual"&&(w.fullSceneLayout.aspectmode=C[w.id].aspectmode=R[w.id+".aspectmode"]="manual")),R},O=function(R){if(R.fullSceneLayout.dragmode!==!1){var U=P();R.saveLayout(C),R.graphDiv.emit("plotly_relayout",U)}};return w.glplot.canvas&&(w.glplot.canvas.addEventListener("mouseup",function(){O(w)}),w.glplot.canvas.addEventListener("touchstart",function(){v=!0}),w.glplot.canvas.addEventListener("wheel",function(R){if(E._context._scrollZoom.gl3d){if(w.camera._ortho){var U=R.deltaX>R.deltaY?1.1:.9090909090909091,z=w.glplot.getAspectratio();w.glplot.setAspectratio({x:U*z.x,y:U*z.y,z:U*z.z})}O(w)}},!!s&&{passive:!1}),w.glplot.canvas.addEventListener("mousemove",function(){if(w.fullSceneLayout.dragmode!==!1&&w.camera.mouseListener.buttons!==0){var R=P();w.graphDiv.emit("plotly_relayouting",R)}}),w.staticMode||w.glplot.canvas.addEventListener("webglcontextlost",function(R){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:R,layer:w.id})},!1)),w.glplot.oncontextloss=function(){w.recoverContext()},w.glplot.onrender=function(){w.render()},!0},x.render=function(){var w,E=this,C=E.graphDiv,P=E.svgContainer,O=E.container.getBoundingClientRect();C._fullLayout._calcInverseTransform(C);var R=C._fullLayout._invScaleX,U=C._fullLayout._invScaleY,z=O.width*R,N=O.height*U;P.setAttributeNS(null,"viewBox","0 0 "+z+" "+N),P.setAttributeNS(null,"width",z),P.setAttributeNS(null,"height",N),f(E),E.glplot.axes.update(E.axesOptions);for(var W=Object.keys(E.traces),F=null,V=E.glplot.selection,j=0;j<W.length;++j)(w=E.traces[W[j]]).data.hoverinfo!=="skip"&&w.handlePick(V)&&(F=w),w.setContourLevels&&w.setContourLevels();function te(be,me,ge){var ke=E.fullSceneLayout[be+"axis"];return ke.type!=="log"&&(me=ke.d2l(me)),n.hoverLabelText(ke,me,ge)}if(F!==null){var J=d(E.glplot.cameraParams,V.dataCoordinate);w=F.data;var K,Z=C._fullData[w.index],X=V.index,Q={xLabel:te("x",V.traceCoordinate[0],w.xhoverformat),yLabel:te("y",V.traceCoordinate[1],w.yhoverformat),zLabel:te("z",V.traceCoordinate[2],w.zhoverformat)},re=o.castHoverinfo(Z,E.fullLayout,X),ae=(re||"").split("+"),ie=re&&re==="all";Z.hovertemplate||ie||(ae.indexOf("x")===-1&&(Q.xLabel=void 0),ae.indexOf("y")===-1&&(Q.yLabel=void 0),ae.indexOf("z")===-1&&(Q.zLabel=void 0),ae.indexOf("text")===-1&&(V.textLabel=void 0),ae.indexOf("name")===-1&&(F.name=void 0));var le=[];w.type==="cone"||w.type==="streamtube"?(Q.uLabel=te("x",V.traceCoordinate[3],w.uhoverformat),(ie||ae.indexOf("u")!==-1)&&le.push("u: "+Q.uLabel),Q.vLabel=te("y",V.traceCoordinate[4],w.vhoverformat),(ie||ae.indexOf("v")!==-1)&&le.push("v: "+Q.vLabel),Q.wLabel=te("z",V.traceCoordinate[5],w.whoverformat),(ie||ae.indexOf("w")!==-1)&&le.push("w: "+Q.wLabel),Q.normLabel=V.traceCoordinate[6].toPrecision(3),(ie||ae.indexOf("norm")!==-1)&&le.push("norm: "+Q.normLabel),w.type==="streamtube"&&(Q.divergenceLabel=V.traceCoordinate[7].toPrecision(3),(ie||ae.indexOf("divergence")!==-1)&&le.push("divergence: "+Q.divergenceLabel)),V.textLabel&&le.push(V.textLabel),K=le.join("<br>")):w.type==="isosurface"||w.type==="volume"?(Q.valueLabel=n.hoverLabelText(E._mockAxis,E._mockAxis.d2l(V.traceCoordinate[3]),w.valuehoverformat),le.push("value: "+Q.valueLabel),V.textLabel&&le.push(V.textLabel),K=le.join("<br>")):K=V.textLabel;var pe={x:V.traceCoordinate[0],y:V.traceCoordinate[1],z:V.traceCoordinate[2],data:Z._input,fullData:Z,curveNumber:Z.index,pointNumber:X};o.appendArrayPointValue(pe,Z,X),w._module.eventData&&(pe=Z._module.eventData(pe,V,Z,{},X));var de={points:[pe]};if(E.fullSceneLayout.hovermode){var ve=[];o.loneHover({trace:Z,x:(.5+.5*J[0]/J[3])*z,y:(.5-.5*J[1]/J[3])*N,xLabel:Q.xLabel,yLabel:Q.yLabel,zLabel:Q.zLabel,text:K,name:F.name,color:o.castHoverOption(Z,X,"bgcolor")||F.color,borderColor:o.castHoverOption(Z,X,"bordercolor"),fontFamily:o.castHoverOption(Z,X,"font.family"),fontSize:o.castHoverOption(Z,X,"font.size"),fontColor:o.castHoverOption(Z,X,"font.color"),nameLength:o.castHoverOption(Z,X,"namelength"),textAlign:o.castHoverOption(Z,X,"align"),hovertemplate:i.castOption(Z,X,"hovertemplate"),hovertemplateLabels:i.extendFlat({},pe,Q),eventData:[pe]},{container:P,gd:C,inOut_bbox:ve}),pe.bbox=ve[0]}V.distance<5&&(V.buttons||v)?C.emit("plotly_click",de):C.emit("plotly_hover",de),this.oldEventData=de}else o.loneUnhover(P),this.oldEventData&&C.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},x.recoverContext=function(){var w=this;w.glplot.dispose();var E=function(){w.glplot.gl.isContextLost()?requestAnimationFrame(E):w.initializeGLPlot()?w.plot.apply(w,w.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var h=["xaxis","yaxis","zaxis"];function S(w,E,C){for(var P=w.fullSceneLayout,O=0;O<3;O++){var R=h[O],U=R.charAt(0),z=P[R],N=E[U],W=E[U+"calendar"],F=E["_"+U+"length"];if(i.isArrayOrTypedArray(N))for(var V,j=0;j<(F||N.length);j++)if(i.isArrayOrTypedArray(N[j]))for(var te=0;te<N[j].length;++te)V=z.d2l(N[j][te],0,W),!isNaN(V)&&isFinite(V)&&(C[0][O]=Math.min(C[0][O],V),C[1][O]=Math.max(C[1][O],V));else V=z.d2l(N[j],0,W),!isNaN(V)&&isFinite(V)&&(C[0][O]=Math.min(C[0][O],V),C[1][O]=Math.max(C[1][O],V));else C[0][O]=Math.min(C[0][O],0),C[1][O]=Math.max(C[1][O],F-1)}}x.plot=function(w,E,C){var P=this;if(P.plotArgs=[w,E,C],!P.glplot.contextLost){var O,R,U,z,N,W,F=E[P.id],V=C[P.id];P.fullLayout=E,P.fullSceneLayout=F,P.axesOptions.merge(E,F),P.spikeOptions.merge(F),P.setViewport(F),P.updateFx(F.dragmode,F.hovermode),P.camera.enableWheel=P.graphDiv._context._scrollZoom.gl3d,P.glplot.setClearColor(l(F.bgcolor)),P.setConvert(N),w?Array.isArray(w)||(w=[w]):w=[];var j=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(U=0;U<w.length;++U)(O=w[U]).visible===!0&&O._length!==0&&S(this,O,j);(function(Se,ze){for(var fe=Se.fullSceneLayout,xe=fe.annotations||[],_e=0;_e<3;_e++)for(var Oe=h[_e],De=Oe.charAt(0),Pe=fe[Oe],Ue=0;Ue<xe.length;Ue++){var Ve=xe[Ue];if(Ve.visible){var Xe=Pe.r2l(Ve[De]);!isNaN(Xe)&&isFinite(Xe)&&(ze[0][_e]=Math.min(ze[0][_e],Xe),ze[1][_e]=Math.max(ze[1][_e],Xe))}}})(this,j);var te=[1,1,1];for(z=0;z<3;++z)j[1][z]===j[0][z]?te[z]=1:te[z]=1/(j[1][z]-j[0][z]);for(P.dataScale=te,P.convertAnnotations(this),U=0;U<w.length;++U)(O=w[U]).visible===!0&&O._length!==0&&((R=P.traces[O.uid])?R.data.type===O.type?R.update(O):(R.dispose(),R=O._module.plot(this,O),P.traces[O.uid]=R):(R=O._module.plot(this,O),P.traces[O.uid]=R),R.name=O.name);var J=Object.keys(P.traces);e:for(U=0;U<J.length;++U){for(z=0;z<w.length;++z)if(w[z].uid===J[U]&&w[z].visible===!0&&w[z]._length!==0)continue e;(R=P.traces[J[U]]).dispose(),delete P.traces[J[U]]}P.glplot.objects.sort(function(Se,ze){return Se._trace.data.index-ze._trace.data.index});var K,Z=[[0,0,0],[0,0,0]],X=[],Q={};for(U=0;U<3;++U){var re;if((W=(N=F[h[U]]).type)in Q?(Q[W].acc*=te[U],Q[W].count+=1):Q[W]={acc:te[U],count:1},N.autorange){Z[0][U]=1/0,Z[1][U]=-1/0;var ae=P.glplot.objects,ie=P.fullSceneLayout.annotations||[],le=N._name.charAt(0);for(z=0;z<ae.length;z++){var pe=ae[z],de=pe.bounds,ve=pe._trace.data._pad||0;pe.constructor.name==="ErrorBars"&&N._lowerLogErrorBound?Z[0][U]=Math.min(Z[0][U],N._lowerLogErrorBound):Z[0][U]=Math.min(Z[0][U],de[0][U]/te[U]-ve),Z[1][U]=Math.max(Z[1][U],de[1][U]/te[U]+ve)}for(z=0;z<ie.length;z++){var be=ie[z];if(be.visible){var me=N.r2l(be[le]);Z[0][U]=Math.min(Z[0][U],me),Z[1][U]=Math.max(Z[1][U],me)}}if("rangemode"in N&&N.rangemode==="tozero"&&(Z[0][U]=Math.min(Z[0][U],0),Z[1][U]=Math.max(Z[1][U],0)),Z[0][U]>Z[1][U])Z[0][U]=-1,Z[1][U]=1;else{var ge=Z[1][U]-Z[0][U];Z[0][U]-=ge/32,Z[1][U]+=ge/32}if(re=[Z[0][U],Z[1][U]],re=p(re,N),Z[0][U]=re[0],Z[1][U]=re[1],N.isReversed()){var ke=Z[0][U];Z[0][U]=Z[1][U],Z[1][U]=ke}}else re=N.range,Z[0][U]=N.r2l(re[0]),Z[1][U]=N.r2l(re[1]);Z[0][U]===Z[1][U]&&(Z[0][U]-=1,Z[1][U]+=1),X[U]=Z[1][U]-Z[0][U],N.range=[Z[0][U],Z[1][U]],N.limitRange(),P.glplot.setBounds(U,{min:N.range[0]*te[U],max:N.range[1]*te[U]})}var we=F.aspectmode;if(we==="cube")K=[1,1,1];else if(we==="manual"){var ue=F.aspectratio;K=[ue.x,ue.y,ue.z]}else{if(we!=="auto"&&we!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var oe=[1,1,1];for(U=0;U<3;++U){var he=Q[W=(N=F[h[U]]).type];oe[U]=Math.pow(he.acc,1/he.count)/te[U]}K=we==="data"||Math.max.apply(null,oe)/Math.min.apply(null,oe)<=4?oe:[1,1,1]}F.aspectratio.x=V.aspectratio.x=K[0],F.aspectratio.y=V.aspectratio.y=K[1],F.aspectratio.z=V.aspectratio.z=K[2],P.glplot.setAspectratio(F.aspectratio),P.viewInitial.aspectratio||(P.viewInitial.aspectratio={x:F.aspectratio.x,y:F.aspectratio.y,z:F.aspectratio.z}),P.viewInitial.aspectmode||(P.viewInitial.aspectmode=F.aspectmode);var Ee=F.domain||null,Te=E._size||null;if(Ee&&Te){var Me=P.container.style;Me.position="absolute",Me.left=Te.l+Ee.x[0]*Te.w+"px",Me.top=Te.t+(1-Ee.y[1])*Te.h+"px",Me.width=Te.w*(Ee.x[1]-Ee.x[0])+"px",Me.height=Te.h*(Ee.y[1]-Ee.y[0])+"px"}P.glplot.redraw()}},x.destroy=function(){var w=this;w.glplot&&(w.camera.mouseListener.enabled=!1,w.container.removeEventListener("wheel",w.camera.wheelListener),w.camera=null,w.glplot.dispose(),w.container.parentNode.removeChild(w.container),w.glplot=null)},x.getCamera=function(){var w,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(w=E.camera).up[0],y:w.up[1],z:w.up[2]},center:{x:w.center[0],y:w.center[1],z:w.center[2]},eye:{x:w.eye[0],y:w.eye[1],z:w.eye[2]},projection:{type:w._ortho===!0?"orthographic":"perspective"}}},x.setViewport=function(w){var E,C=this,P=w.camera;C.camera.lookAt.apply(this,[[(E=P).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),C.glplot.setAspectratio(w.aspectratio),P.projection.type==="orthographic"!==C.camera._ortho&&(C.glplot.redraw(),C.glplot.clearRGBA(),C.glplot.dispose(),C.initializeGLPlot())},x.isCameraChanged=function(w){var E=this.getCamera(),C=i.nestedProperty(w,this.id+".camera").get();function P(z,N,W,F){var V=["up","center","eye"],j=["x","y","z"];return N[V[W]]&&z[V[W]][j[F]]===N[V[W]][j[F]]}var O=!1;if(C===void 0)O=!0;else{for(var R=0;R<3;R++)for(var U=0;U<3;U++)if(!P(E,C,R,U)){O=!0;break}(!C.projection||E.projection&&E.projection.type!==C.projection.type)&&(O=!0)}return O},x.isAspectChanged=function(w){var E=this.glplot.getAspectratio(),C=i.nestedProperty(w,this.id+".aspectratio").get();return C===void 0||C.x!==E.x||C.y!==E.y||C.z!==E.z},x.saveLayout=function(w){var E,C,P,O,R,U,z=this,N=z.fullLayout,W=z.isCameraChanged(w),F=z.isAspectChanged(w),V=W||F;if(V){var j={};W&&(E=z.getCamera(),P=(C=i.nestedProperty(w,z.id+".camera")).get(),j[z.id+".camera"]=P),F&&(O=z.glplot.getAspectratio(),U=(R=i.nestedProperty(w,z.id+".aspectratio")).get(),j[z.id+".aspectratio"]=U),t.call("_storeDirectGUIEdit",w,N._preGUI,j),W&&(C.set(E),i.nestedProperty(N,z.id+".camera").set(E)),F&&(R.set(O),i.nestedProperty(N,z.id+".aspectratio").set(O),z.glplot.redraw())}return V},x.updateFx=function(w,E){var C=this,P=C.camera;if(P)if(w==="orbit")P.mode="orbit",P.keyBindingMode="rotate";else if(w==="turntable"){P.up=[0,0,1],P.mode="turntable",P.keyBindingMode="rotate";var O=C.graphDiv,R=O._fullLayout,U=C.fullSceneLayout.camera,z=U.up.x,N=U.up.y,W=U.up.z;if(W/Math.sqrt(z*z+N*N+W*W)<.999){var F=C.id+".camera.up",V={x:0,y:0,z:1},j={};j[F]=V;var te=O.layout;t.call("_storeDirectGUIEdit",te,R._preGUI,j),U.up=V,i.nestedProperty(te,F).set(V)}}else P.keyBindingMode=w;C.fullSceneLayout.hovermode=E},x.toImage=function(w){var E=this;w||(w="png"),E.staticMode&&E.container.appendChild(M),E.glplot.redraw();var C=E.glplot.gl,P=C.drawingBufferWidth,O=C.drawingBufferHeight;C.bindFramebuffer(C.FRAMEBUFFER,null);var R=new Uint8Array(P*O*4);C.readPixels(0,0,P,O,C.RGBA,C.UNSIGNED_BYTE,R),function(F,V,j){for(var te=0,J=j-1;te<J;++te,--J)for(var K=0;K<V;++K)for(var Z=0;Z<4;++Z){var X=4*(V*te+K)+Z,Q=4*(V*J+K)+Z,re=F[X];F[X]=F[Q],F[Q]=re}}(R,P,O),function(F,V,j){for(var te=0;te<j;++te)for(var J=0;J<V;++J){var K=4*(V*te+J),Z=F[K+3];if(Z>0)for(var X=255/Z,Q=0;Q<3;++Q)F[K+Q]=Math.min(X*F[K+Q],255)}}(R,P,O);var U=document.createElement("canvas");U.width=P,U.height=O;var z,N=U.getContext("2d",{willReadFrequently:!0}),W=N.createImageData(P,O);switch(W.data.set(R),N.putImageData(W,0,0),w){case"jpeg":z=U.toDataURL("image/jpeg");break;case"webp":z=U.toDataURL("image/webp");break;default:z=U.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(M),z},x.setConvert=function(){for(var w=0;w<3;w++){var E=this.fullSceneLayout[h[w]];n.setConvert(E,this.fullLayout),E.setScale=i.noop}},x.make4thDimension=function(){var w=this,E=w.graphDiv._fullLayout;w._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},n.setConvert(w._mockAxis,E)},ee.exports=y},52094:function(ee){ee.exports=function(D,e,M,k){k=k||D.length;for(var a=new Array(k),T=0;T<k;T++)a[T]=[D[T],e[T],M[T]];return a}},64859:function(ee,D,e){var M=e(25376),k=e(85656),a=e(22548),T=e(92872),b=e(34200),g=e(66741),s=e(92880).extendFlat,t=M({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,ee.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:M({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(g({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:T.newshape,activeshape:T.activeshape,newselection:b.newselection,activeselection:b.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},k.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:M({editType:"layoutstyle"})}}},47552:function(ee,D,e){var M=e(95376),k="1.13.4",a=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',T=[' <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),b=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),g={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:T,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:T,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},s=M(g);ee.exports={requiredVersion:k,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:g,styleValuesNonMapbox:s,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+k+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",s.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(ee,D,e){var M=e(3400);ee.exports=function(k,a){var T=k.split(" "),b=T[0],g=T[1],s=M.isArrayOrTypedArray(a)?M.mean(a):a,t=.5+s/100,i=1.5+s/100,r=["",""],n=[0,0];switch(b){case"top":r[0]="top",n[1]=-i;break;case"bottom":r[0]="bottom",n[1]=i}switch(g){case"left":r[1]="right",n[0]=-t;break;case"right":r[1]="left",n[0]=t}return{anchor:r[0]&&r[1]?r.join("-"):r[0]?r[0]:r[1]?r[1]:"center",offset:n}}},33688:function(ee,D,e){var M=e(3480),k=e(3400),a=k.strTranslate,T=k.strScale,b=e(84888).KY,g=e(9616),s=e(33428),t=e(43616),i=e(72736),r=e(14440),n="mapbox",o=D.constants=e(47552);function l(u){return typeof u=="string"&&(o.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0||u.indexOf("stamen")===0)}D.name=n,D.attr="subplot",D.idRoot=n,D.idRegex=D.attrRegex=k.counterRegex(n),D.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},D.layoutAttributes=e(5232),D.supplyLayoutDefaults=e(5976),D.plot=function(u){var d=u._fullLayout,c=u.calcdata,m=d._subplots[n];if(M.version!==o.requiredVersion)throw new Error(o.wrongVersionErrorMsg);var f=function(h,S){var w=h._fullLayout;if(h._context.mapboxAccessToken==="")return"";for(var E=[],C=[],P=!1,O=!1,R=0;R<S.length;R++){var U=w[S[R]],z=U.accesstoken;l(U.style)&&(z?k.pushUnique(E,z):(l(U._input.style)&&(k.error("Uses Mapbox map style, but did not set an access token."),P=!0),O=!0)),z&&k.pushUnique(C,z)}if(O){var N=P?o.noAccessTokenErrorMsg:o.missingStyleErrorMsg;throw k.error(N),new Error(N)}return E.length?(E.length>1&&k.warn(o.multipleTokensErrorMsg),E[0]):(C.length&&k.log(["Listed mapbox access token(s)",C.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,m);M.accessToken=f;for(var p=0;p<m.length;p++){var v=m[p],y=b(c,n,v),x=d[v],_=x._subplot;_||(_=new r(u,v),d[v]._subplot=_),_.viewInitial||(_.viewInitial={center:k.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),_.plot(y,d,u._promises)}},D.clean=function(u,d,c,m){for(var f=m._subplots[n]||[],p=0;p<f.length;p++){var v=f[p];!d[v]&&m[v]._subplot&&m[v]._subplot.destroy()}},D.toSVG=function(u){for(var d=u._fullLayout,c=d._subplots[n],m=d._size,f=0;f<c.length;f++){var p=d[c[f]],v=p.domain,y=p._subplot.toImage("png");d._glimages.append("svg:image").attr({xmlns:g.svg,"xlink:href":y,x:m.l+m.w*v.x[0],y:m.t+m.h*(1-v.y[1]),width:m.w*(v.x[1]-v.x[0]),height:m.h*(v.y[1]-v.y[0]),preserveAspectRatio:"none"});var x=s.select(p._subplot.div);if(x.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var _=d._glimages.append("g");_.attr("transform",a(m.l+m.w*v.x[0]+10,m.t+m.h*(1-v.y[0])-31)),_.append("path").attr("d",o.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),_.append("path").attr("d",o.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),_.append("path").attr("d",o.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),_.append("polygon").attr("points",o.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var h=x.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),S=d._glimages.append("g"),w=S.append("text");w.text(h).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":h});var E=t.bBox(w.node()),C=m.w*(v.x[1]-v.x[0]);if(E.width>C/2){var P=h.split("|").join("<br>");w.text(P).attr("data-unformatted",P).call(i.convertToTspans,u),E=t.bBox(w.node())}w.attr("transform",a(-3,8-E.height)),S.insert("rect",".static-attribution").attr({x:-E.width-6,y:-E.height-3,width:E.width+6,height:E.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;E.width+6>C&&(O=C/(E.width+6));var R=[m.l+m.w*v.x[1],m.t+m.h*(1-v.y[0])];S.attr("transform",a(R[0],R[1])+T(O))}},D.updateFx=function(u){for(var d=u._fullLayout,c=d._subplots[n],m=0;m<c.length;m++)d[c[m]]._subplot.updateFx(d)}},22360:function(ee,D,e){var M=e(3400),k=e(72736).sanitizeHTML,a=e(89032),T=e(47552);function b(i,r){this.subplot=i,this.uid=i.uid+"-"+r,this.index=r,this.idSource="source-"+this.uid,this.idLayer=T.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var g=b.prototype;function s(i){if(!i.visible)return!1;var r=i.source;if(Array.isArray(r)&&r.length>0){for(var n=0;n<r.length;n++)if(typeof r[n]!="string"||r[n].length===0)return!1;return!0}return M.isPlainObject(r)||typeof r=="string"&&r.length>0}function t(i){var r={},n={};switch(i.type){case"circle":M.extendFlat(n,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":M.extendFlat(n,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":M.extendFlat(n,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var o=i.symbol,l=a(o.textposition,o.iconsize);M.extendFlat(r,{"icon-image":o.icon+"-15","icon-size":o.iconsize/10,"text-field":o.text,"text-size":o.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":o.placement}),M.extendFlat(n,{"icon-color":i.color,"text-color":o.textfont.color,"text-opacity":i.opacity});break;case"raster":M.extendFlat(n,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:r,paint:n}}g.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=s(i)},g.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},g.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},g.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},g.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},g.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var r=this.findFollowingMapboxLayerId(this.lookupBelow());r!==null&&this.subplot.map.moveLayer(this.idLayer,r)},g.updateSource=function(i){var r=this.subplot.map;if(r.getSource(this.idSource)&&r.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,s(i)){var n=function(o){var l,u=o.sourcetype,d=o.source,c={type:u};return u==="geojson"?l="data":u==="vector"?l=typeof d=="string"?"url":"tiles":u==="raster"?(l="tiles",c.tileSize=256):u==="image"&&(l="url",c.coordinates=o.coordinates),c[l]=d,o.sourceattribution&&(c.attribution=k(o.sourceattribution)),c}(i);r.addSource(this.idSource,n)}},g.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var r=this.subplot.getMapLayers(),n=0;n<r.length;n++){var o=r[n].id;if(typeof o=="string"&&o.indexOf(T.traceLayerPrefix)===0){i=o;break}}return i},g.updateLayer=function(i){var r=this.subplot,n=t(i),o=this.lookupBelow(),l=this.findFollowingMapboxLayerId(o);this.removeLayer(),s(i)&&r.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:n.layout,paint:n.paint},l),this.layerType=i.type,this.below=o},g.updateStyle=function(i){if(s(i)){var r=t(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",r.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",r.paint)}},g.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},g.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},ee.exports=function(i,r,n){var o=new b(i,r);return o.update(n),o}},5232:function(ee,D,e){var M=e(3400),k=e(76308).defaultLine,a=e(86968).u,T=e(25376),b=e(52904).textposition,g=e(67824).overrideAll,s=e(31780).templatedArray,t=e(47552),i=T({});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(ee.exports=g({_arrayAttrRegexps:[M.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:s("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:k},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:k}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:M.extendFlat({},b,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},5976:function(ee,D,e){var M=e(3400),k=e(168),a=e(51272),T=e(5232);function b(s,t,i,r){i("accesstoken",r.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var n=i("bounds.west"),o=i("bounds.east"),l=i("bounds.south"),u=i("bounds.north");n!==void 0&&o!==void 0&&l!==void 0&&u!==void 0||delete t.bounds,a(s,t,{name:"layers",handleItemDefaults:g}),t._input=s}function g(s,t){function i(u,d){return M.coerce(s,t,T.layers,u,d)}if(i("visible")){var r,n=i("sourcetype"),o=n==="raster"||n==="image";i("source"),i("sourceattribution"),n==="vector"&&i("sourcelayer"),n==="image"&&i("coordinates"),o&&(r="raster");var l=i("type",r);o&&l!=="raster"&&(l=t.type="raster",M.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),l==="circle"&&i("circle.radius"),l==="line"&&(i("line.width"),i("line.dash")),l==="fill"&&i("fill.outlinecolor"),l==="symbol"&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),M.coerceFont(i,"symbol.textfont"),i("symbol.textposition"),i("symbol.placement"))}}ee.exports=function(s,t,i){k(s,t,i,{type:"mapbox",attributes:T,handleDefaults:b,partition:"y",accessToken:t._mapboxAccessToken})}},14440:function(ee,D,e){var M=e(3480),k=e(3400),a=e(27144),T=e(24040),b=e(54460),g=e(86476),s=e(93024),t=e(72760),i=t.drawMode,r=t.selectMode,n=e(22676).prepSelect,o=e(22676).clearOutline,l=e(22676).clearSelectionsCache,u=e(22676).selectOnClick,d=e(47552),c=e(22360);function m(_,h){this.id=h,this.gd=_;var S=_._fullLayout,w=_._context;this.container=S._glcontainer.node(),this.isStatic=w.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var f=m.prototype;f.plot=function(_,h,S){var w,E=this,C=h[E.id];E.map&&C.accesstoken!==E.accessToken&&(E.map.remove(),E.map=null,E.styleObj=null,E.traceHash={},E.layerList=[]),w=E.map?new Promise(function(P,O){E.updateMap(_,h,P,O)}):new Promise(function(P,O){E.createMap(_,h,P,O)}),S.push(w)},f.createMap=function(_,h,S,w){var E=this,C=h[E.id],P=E.styleObj=v(C.style,h);E.accessToken=C.accesstoken;var O=C.bounds,R=O?[[O.west,O.south],[O.east,O.north]]:null,U=E.map=new M.Map({container:E.div,style:P.style,center:x(C.center),zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,maxBounds:R,interactive:!E.isStatic,preserveDrawingBuffer:E.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new M.AttributionControl({compact:!0}));U._canvas.style.left="0px",U._canvas.style.top="0px",E.rejectOnError(w),E.isStatic||E.initFx(_,h);var z=[];z.push(new Promise(function(N){U.once("load",N)})),z=z.concat(a.fetchTraceGeoData(_)),Promise.all(z).then(function(){E.fillBelowLookup(_,h),E.updateData(_),E.updateLayout(h),E.resolveOnRender(S)}).catch(w)},f.updateMap=function(_,h,S,w){var E=this,C=E.map,P=h[this.id];E.rejectOnError(w);var O=[],R=v(P.style,h);JSON.stringify(E.styleObj)!==JSON.stringify(R)&&(E.styleObj=R,C.setStyle(R.style),E.traceHash={},O.push(new Promise(function(U){C.once("styledata",U)}))),O=O.concat(a.fetchTraceGeoData(_)),Promise.all(O).then(function(){E.fillBelowLookup(_,h),E.updateData(_),E.updateLayout(h),E.resolveOnRender(S)}).catch(w)},f.fillBelowLookup=function(_,h){var S,w,E=h[this.id].layers,C=this.belowLookup={},P=!1;for(S=0;S<_.length;S++){var O=_[S][0].trace,R=O._module;typeof O.below=="string"?w=O.below:R.getBelow&&(w=R.getBelow(O,this)),w===""&&(P=!0),C["trace-"+O.uid]=w||""}for(S=0;S<E.length;S++){var U=E[S];w=typeof U.below=="string"?U.below:P?"traces":"",C["layout-"+S]=w}var z,N,W={};for(z in C)W[w=C[z]]?W[w].push(z):W[w]=[z];for(w in W){var F=W[w];if(F.length>1)for(S=0;S<F.length;S++)(z=F[S]).indexOf("trace-")===0?(N=z.split("trace-")[1],this.traceHash[N]&&(this.traceHash[N].below=null)):z.indexOf("layout-")===0&&(N=z.split("layout-")[1],this.layerList[N]&&(this.layerList[N].below=null))}};var p={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function v(_,h){var S={};if(k.isPlainObject(_))S.id=_.id,S.style=_;else if(typeof _=="string")if(S.id=_,d.styleValuesMapbox.indexOf(_)!==-1)S.style=y(_);else if(d.stylesNonMapbox[_]){S.style=d.stylesNonMapbox[_];var w=S.style.sources["plotly-"+_],E=w?w.tiles:void 0;E&&E[0]&&E[0].slice(-9)==="?api_key="&&(E[0]+=h._mapboxAccessToken)}else S.style=_;else S.id=d.styleValueDflt,S.style=y(d.styleValueDflt);return S.transition={duration:0,delay:0},S}function y(_){return d.styleUrlPrefix+_+"-"+d.styleUrlSuffix}function x(_){return[_.lon,_.lat]}f.updateData=function(_){var h,S,w,E,C=this.traceHash,P=_.slice().sort(function(N,W){return p[N[0].trace.type]-p[W[0].trace.type]});for(w=0;w<P.length;w++){var O=P[w],R=!1;(h=C[(S=O[0].trace).uid])&&(h.type===S.type?(h.update(O),R=!0):h.dispose()),!R&&S._module&&(C[S.uid]=S._module.plot(this,O))}var U=Object.keys(C);e:for(w=0;w<U.length;w++){var z=U[w];for(E=0;E<_.length;E++)if(z===(S=_[E][0].trace).uid)continue e;(h=C[z]).dispose(),delete C[z]}},f.updateLayout=function(_){var h=this.map,S=_[this.id];this.dragging||this.wheeling||(h.setCenter(x(S.center)),h.setZoom(S.zoom),h.setBearing(S.bearing),h.setPitch(S.pitch)),this.updateLayers(_),this.updateFramework(_),this.updateFx(_),this.map.resize(),this.gd._context._scrollZoom.mapbox?h.scrollZoom.enable():h.scrollZoom.disable()},f.resolveOnRender=function(_){var h=this.map;h.on("render",function S(){h.loaded()&&(h.off("render",S),setTimeout(_,10))})},f.rejectOnError=function(_){var h=this.map;function S(){_(new Error(d.mapOnErrorMsg))}h.once("error",S),h.once("style.error",S),h.once("source.error",S),h.once("tile.error",S),h.once("layer.error",S)},f.createFramework=function(_){var h=this,S=h.div=document.createElement("div");S.id=h.uid,S.style.position="absolute",h.container.appendChild(S),h.xaxis={_id:"x",c2p:function(w){return h.project(w).x}},h.yaxis={_id:"y",c2p:function(w){return h.project(w).y}},h.updateFramework(_),h.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},b.setConvert(h.mockAxis,_)},f.initFx=function(_,h){var S=this,w=S.gd,E=S.map;function C(){s.loneUnhover(h._hoverlayer)}function P(){var O=S.getView();w.emit("plotly_relayouting",S.getViewEditsWithDerived(O))}E.on("moveend",function(O){if(S.map){var R=w._fullLayout;if(O.originalEvent||S.wheeling){var U=R[S.id];T.call("_storeDirectGUIEdit",w.layout,R._preGUI,S.getViewEdits(U));var z=S.getView();U._input.center=U.center=z.center,U._input.zoom=U.zoom=z.zoom,U._input.bearing=U.bearing=z.bearing,U._input.pitch=U.pitch=z.pitch,w.emit("plotly_relayout",S.getViewEditsWithDerived(z))}O.originalEvent&&O.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),R._rehover&&R._rehover()}}),E.on("wheel",function(){S.wheeling=!0}),E.on("mousemove",function(O){var R=S.div.getBoundingClientRect(),U=[O.originalEvent.offsetX,O.originalEvent.offsetY];O.target.getBoundingClientRect=function(){return R},S.xaxis.p2c=function(){return E.unproject(U).lng},S.yaxis.p2c=function(){return E.unproject(U).lat},w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===S.id&&w._fullLayout[S.id]&&s.hover(w,O,S.id)},s.hover(w,O,S.id),w._fullLayout._hoversubplot=S.id}),E.on("dragstart",function(){S.dragging=!0,C()}),E.on("zoomstart",C),E.on("mouseout",function(){w._fullLayout._hoversubplot=null}),E.on("drag",P),E.on("zoom",P),E.on("dblclick",function(){var O=w._fullLayout[S.id];T.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,S.getViewEdits(O));var R=S.viewInitial;E.setCenter(x(R.center)),E.setZoom(R.zoom),E.setBearing(R.bearing),E.setPitch(R.pitch);var U=S.getView();O._input.center=O.center=U.center,O._input.zoom=O.zoom=U.zoom,O._input.bearing=O.bearing=U.bearing,O._input.pitch=O.pitch=U.pitch,w.emit("plotly_doubleclick",null),w.emit("plotly_relayout",S.getViewEditsWithDerived(U))}),S.clearOutline=function(){l(S.dragOptions),o(S.dragOptions.gd)},S.onClickInPanFn=function(O){return function(R){var U=w._fullLayout.clickmode;U.indexOf("select")>-1&&u(R.originalEvent,w,[S.xaxis],[S.yaxis],S.id,O),U.indexOf("event")>-1&&s.click(w,R.originalEvent)}}},f.updateFx=function(_){var h=this,S=h.map,w=h.gd;if(!h.isStatic){var E,C=_.dragmode;E=function(R,U){U.isRect?(R.range={})[h.id]=[O([U.xmin,U.ymin]),O([U.xmax,U.ymax])]:(R.lassoPoints={})[h.id]=U.map(O)};var P=h.dragOptions;h.dragOptions=k.extendDeep(P||{},{dragmode:_.dragmode,element:h.div,gd:w,plotinfo:{id:h.id,domain:_[h.id].domain,xaxis:h.xaxis,yaxis:h.yaxis,fillRangeItems:E},xaxes:[h.xaxis],yaxes:[h.yaxis],subplot:h.id}),S.off("click",h.onClickInPanHandler),r(C)||i(C)?(S.dragPan.disable(),S.on("zoomstart",h.clearOutline),h.dragOptions.prepFn=function(R,U,z){n(R,U,z,h.dragOptions,C)},g.init(h.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",h.clearOutline),h.div.onmousedown=null,h.div.ontouchstart=null,h.div.removeEventListener("touchstart",h.div._ontouchstart),h.onClickInPanHandler=h.onClickInPanFn(h.dragOptions),S.on("click",h.onClickInPanHandler))}function O(R){var U=h.map.unproject(R);return[U.lng,U.lat]}},f.updateFramework=function(_){var h=_[this.id].domain,S=_._size,w=this.div.style;w.width=S.w*(h.x[1]-h.x[0])+"px",w.height=S.h*(h.y[1]-h.y[0])+"px",w.left=S.l+h.x[0]*S.w+"px",w.top=S.t+(1-h.y[1])*S.h+"px",this.xaxis._offset=S.l+h.x[0]*S.w,this.xaxis._length=S.w*(h.x[1]-h.x[0]),this.yaxis._offset=S.t+(1-h.y[1])*S.h,this.yaxis._length=S.h*(h.y[1]-h.y[0])},f.updateLayers=function(_){var h,S=_[this.id].layers,w=this.layerList;if(S.length!==w.length){for(h=0;h<w.length;h++)w[h].dispose();for(w=this.layerList=[],h=0;h<S.length;h++)w.push(c(this,h,S[h]))}else for(h=0;h<S.length;h++)w[h].update(S[h])},f.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},f.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},f.setOptions=function(_,h,S){for(var w in S)this.map[h](_,w,S[w])},f.getMapLayers=function(){return this.map.getStyle().layers},f.addLayer=function(_,h){var S=this.map;if(typeof h=="string"){if(h==="")return void S.addLayer(_,h);for(var w=this.getMapLayers(),E=0;E<w.length;E++)if(h===w[E].id)return void S.addLayer(_,h);k.warn(["Trying to add layer with *below* value",h,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(_)},f.project=function(_){return this.map.project(new M.LngLat(_[0],_[1]))},f.getView=function(){var _=this.map,h=_.getCenter(),S={lon:h.lng,lat:h.lat},w=_.getCanvas(),E=parseInt(w.style.width),C=parseInt(w.style.height);return{center:S,zoom:_.getZoom(),bearing:_.getBearing(),pitch:_.getPitch(),_derived:{coordinates:[_.unproject([0,0]).toArray(),_.unproject([E,0]).toArray(),_.unproject([E,C]).toArray(),_.unproject([0,C]).toArray()]}}},f.getViewEdits=function(_){for(var h=this.id,S=["center","zoom","bearing","pitch"],w={},E=0;E<S.length;E++){var C=S[E];w[h+"."+C]=_[C]}return w},f.getViewEditsWithDerived=function(_){var h=this.id,S=this.getViewEdits(_);return S[h+"._derived"]=_._derived,S},ee.exports=m},66741:function(ee){ee.exports=function(D){var e=D.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(ee,D,e){var M=e(33428),k=e(94336).m_,a=e(57624).SO,T=e(38248),b=e(83160),g=e(24040),s=e(73060),t=e(31780),i=e(3400),r=e(76308),n=e(39032).BADNUM,o=e(79811),l=e(1936).clearOutline,u=e(55308),d=e(85656),c=e(16672),m=e(84888)._M,f=i.relinkPrivateKeys,p=i._,v=ee.exports={};i.extendFlat(v,g),v.attributes=e(45464),v.attributes.type.values=v.allTypes,v.fontAttrs=e(25376),v.layoutAttributes=e(64859),v.fontWeight="normal";var y=v.transformsRegistry,x=e(62460);v.executeAPICommand=x.executeAPICommand,v.computeAPICommandBindings=x.computeAPICommandBindings,v.manageCommandObserver=x.manageCommandObserver,v.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,v.redrawText=function(F){return F=i.getGraphDiv(F),new Promise(function(V){setTimeout(function(){F._fullLayout&&(g.getComponentMethod("annotations","draw")(F),g.getComponentMethod("legend","draw")(F),g.getComponentMethod("colorbar","draw")(F),V(v.previousPromises(F)))},300)})},v.resize=function(F){var V;F=i.getGraphDiv(F);var j=new Promise(function(te,J){F&&!i.isHidden(F)||J(new Error("Resize must be passed a displayed plot div element.")),F._redrawTimer&&clearTimeout(F._redrawTimer),F._resolveResize&&(V=F._resolveResize),F._resolveResize=te,F._redrawTimer=setTimeout(function(){if(!F.layout||F.layout.width&&F.layout.height||i.isHidden(F))te(F);else{delete F.layout.width,delete F.layout.height;var K=F.changed;F.autoplay=!0,g.call("relayout",F,{autosize:!0}).then(function(){F.changed=K,F._resolveResize===te&&(delete F._resolveResize,te(F))})}},100)});return V&&V(j),j},v.previousPromises=function(F){if((F._promises||[]).length)return Promise.all(F._promises).then(function(){F._promises=[]})},v.addLinks=function(F){if(F._context.showLink||F._context.showSources){var V=F._fullLayout,j=i.ensureSingle(V._paper,"text","js-plot-link-container",function(Q){Q.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var re=M.select(this);re.append("tspan").classed("js-link-to-tool",!0),re.append("tspan").classed("js-link-spacer",!0),re.append("tspan").classed("js-sourcelinks",!0)})}),te=j.node(),J={y:V._paper.attr("height")-9};document.body.contains(te)&&te.getComputedTextLength()>=V.width-20?(J["text-anchor"]="start",J.x=5):(J["text-anchor"]="end",J.x=V._paper.attr("width")-7),j.attr(J);var K=j.select(".js-link-to-tool"),Z=j.select(".js-link-spacer"),X=j.select(".js-sourcelinks");F._context.showSources&&F._context.showSources(F),F._context.showLink&&function(Q,re){re.text("");var ae=re.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Q._context.linkText+" ");if(Q._context.sendData)ae.on("click",function(){v.sendDataToCloud(Q)});else{var ie=window.location.pathname.split("/"),le=window.location.search;ae.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ie[2].split(".")[0]+"/"+ie[1]+le})}}(F,K),Z.text(K.text()&&X.text()?" - ":"")}},v.sendDataToCloud=function(F){var V=(window.PLOTLYENV||{}).BASE_URL||F._context.plotlyServerURL;if(V){F.emit("plotly_beforeexport");var j=M.select(F).append("div").attr("id","hiddenform").style("display","none"),te=j.append("form").attr({action:V+"/external",method:"post",target:"_blank"});return te.append("input").attr({type:"text",name:"data"}).node().value=v.graphJson(F,!1,"keepdata"),te.node().submit(),j.remove(),F.emit("plotly_afterexport"),!1}};var _=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],h=["year","month","dayMonth","dayMonthYear"];function S(F,V){var j=F._context.locale;j||(j="en-US");var te=!1,J={};function K(ie){for(var le=!0,pe=0;pe<V.length;pe++){var de=V[pe];J[de]||(ie[de]?J[de]=ie[de]:le=!1)}le&&(te=!0)}for(var Z=0;Z<2;Z++){for(var X=F._context.locales,Q=0;Q<2;Q++){var re=(X[j]||{}).format;if(re&&(K(re),te))break;X=g.localeRegistry}var ae=j.split("-")[0];if(te||ae===j)break;j=ae}return te||K(g.localeRegistry.en.format),J}function w(F,V){var j={_fullLayout:V},te=F._id.charAt(0)==="x",J=F._mainAxis._anchorAxis,K="",Z="",X="";if(J&&(X=J._mainAxis._id,K=te?F._id+X:X+F._id),!K||!V._plots[K]){K="";for(var Q=F._counterAxes,re=0;re<Q.length;re++){var ae=Q[re],ie=te?F._id+ae:ae+F._id;Z||(Z=ie);var le=o.getFromId(j,ae);if(X&&le.overlaying===X){K=ie;break}}}return K||Z}function E(F){var V=F.transforms;if(Array.isArray(V)&&V.length)for(var j=0;j<V.length;j++){var te=V[j],J=te._module||y[te.type];if(J&&J.makesData)return!0}return!1}function C(F,V,j,te){for(var J=F.transforms,K=[F],Z=0;Z<J.length;Z++){var X=J[Z],Q=y[X.type];Q&&Q.transform&&(K=Q.transform(K,{transform:X,fullTrace:F,fullData:V,layout:j,fullLayout:te,transformIndex:Z}))}return K}function P(F){return typeof F=="string"&&F.substr(F.length-2)==="px"&&parseFloat(F)}function O(F){var V=F.margin;if(!F._size){var j=F._size={l:Math.round(V.l),r:Math.round(V.r),t:Math.round(V.t),b:Math.round(V.b),p:Math.round(V.pad)};j.w=Math.round(F.width)-j.l-j.r,j.h=Math.round(F.height)-j.t-j.b}F._pushmargin||(F._pushmargin={}),F._pushmarginIds||(F._pushmarginIds={}),F._reservedMargin||(F._reservedMargin={})}v.supplyDefaults=function(F,V){var j=V&&V.skipUpdateCalc,te=F._fullLayout||{};if(te._skipDefaults)delete te._skipDefaults;else{var J,K=F._fullLayout={},Z=F.layout||{},X=F._fullData||[],Q=F._fullData=[],re=F.data||[],ae=F.calcdata||[],ie=F._context||{};F._transitionData||v.createTransitionData(F),K._dfltTitle={plot:p(F,"Click to enter Plot title"),x:p(F,"Click to enter X axis title"),y:p(F,"Click to enter Y axis title"),colorbar:p(F,"Click to enter Colorscale title"),annotation:p(F,"new text")},K._traceWord=p(F,"trace");var le=S(F,_);if(K._mapboxAccessToken=ie.mapboxAccessToken,te._initialAutoSizeIsDone){var pe=te.width,de=te.height;v.supplyLayoutGlobalDefaults(Z,K,le),Z.width||(K.width=pe),Z.height||(K.height=de),v.sanitizeMargins(K)}else{v.supplyLayoutGlobalDefaults(Z,K,le);var ve=!Z.width||!Z.height,be=K.autosize,me=ie.autosizable;ve&&(be||me)?v.plotAutoSize(F,Z,K):ve&&v.sanitizeMargins(K),!be&&ve&&(Z.width=K.width,Z.height=K.height)}K._d3locale=function(Pe,Ue){return Pe.decimal=Ue.charAt(0),Pe.thousands=Ue.charAt(1),{numberFormat:function(Ve){try{Ve=a(Pe).format(i.adjustFormat(Ve))}catch{return i.warnBadFormat(Ve),i.noFormat}return Ve},timeFormat:k(Pe).utcFormat}}(le,K.separators),K._extraFormat=S(F,h),K._initialAutoSizeIsDone=!0,K._dataLength=re.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var ge=K._subplots=function(){var Pe,Ue,Ve=g.collectableSubplotTypes,Xe={};if(!Ve){Ve=[];var it=g.subplotsRegistry;for(var tt in it){var pt=it[tt].attr;if(pt&&(Ve.push(tt),Array.isArray(pt)))for(Ue=0;Ue<pt.length;Ue++)i.pushUnique(Ve,pt[Ue])}}for(Pe=0;Pe<Ve.length;Pe++)Xe[Ve[Pe]]=[];return Xe}(),ke=K._splomAxes={x:{},y:{}},we=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=function(Pe,Ue){var Ve,Xe,it=Ue.length,tt=[];for(Ve=0;Ve<Pe.length;Ve++){var pt=Pe[Ve]._fullInput;pt!==Xe&&tt.push(pt),Xe=pt}var mt=tt.length,gt=new Array(it),et={};function $e(Ot,Lt){gt[Lt]=Ot,et[Ot]=1}function _t(Ot,Lt){if(Ot&&typeof Ot=="string"&&!et[Ot])return $e(Ot,Lt),!0}for(Ve=0;Ve<it;Ve++){var Pt=Ue[Ve].uid;typeof Pt=="number"&&(Pt=String(Pt)),_t(Pt,Ve)||Ve<mt&&_t(tt[Ve].uid,Ve)||$e(i.randstr(et),Ve)}return gt}(X,re),K._globalTransforms=(F._context||{}).globalTransforms,v.supplyDataDefaults(re,Q,Z,K);var ue=Object.keys(ke.x),oe=Object.keys(ke.y);if(ue.length>1&&oe.length>1){for(g.getComponentMethod("grid","sizeDefaults")(Z,K),J=0;J<ue.length;J++)i.pushUnique(ge.xaxis,ue[J]);for(J=0;J<oe.length;J++)i.pushUnique(ge.yaxis,oe[J]);for(var he in we)i.pushUnique(ge.cartesian,he)}if(K._has=v._hasPlotType.bind(K),X.length===Q.length)for(J=0;J<Q.length;J++)f(Q[J],X[J]);v.supplyLayoutModuleDefaults(Z,K,Q,F._transitionData);var Ee=K._visibleModules,Te=[];for(J=0;J<Ee.length;J++){var Me=Ee[J].crossTraceDefaults;Me&&i.pushUnique(Te,Me)}for(J=0;J<Te.length;J++)Te[J](Q,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&ue.length>15&&oe.length>15&&K.shapes.length===0&&K.images.length===0,v.linkSubplots(Q,K,X,te),v.cleanPlot(Q,K,X,te);var Se=!(!te._has||!te._has("gl2d")),ze=!(!K._has||!K._has("gl2d")),fe=!(!te._has||!te._has("cartesian"))||Se,xe=!(!K._has||!K._has("cartesian"))||ze;fe&&!xe?te._bgLayer.remove():xe&&!fe&&(K._shouldCreateBgLayer=!0),te._zoomlayer&&!F._dragging&&l({_fullLayout:te}),function(Pe,Ue){var Ve,Xe=[];Ue.meta&&(Ve=Ue._meta={meta:Ue.meta,layout:{meta:Ue.meta}});for(var it=0;it<Pe.length;it++){var tt=Pe[it];tt.meta?Xe[tt.index]=tt._meta={meta:tt.meta}:Ue.meta&&(tt._meta={meta:Ue.meta}),Ue.meta&&(tt._meta.layout={meta:Ue.meta})}Xe.length&&(Ve||(Ve=Ue._meta={}),Ve.data=Xe)}(Q,K),f(K,te),g.getComponentMethod("colorscale","crossTraceDefaults")(Q,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var _e,Oe=K._tracePreGUI,De={};for(_e in Oe)De[_e]="old";for(J=0;J<Q.length;J++)De[_e=Q[J]._fullInput.uid]||(Oe[_e]={}),De[_e]="new";for(_e in De)De[_e]==="old"&&delete Oe[_e];O(K),g.getComponentMethod("rangeslider","makeData")(K),j||ae.length!==Q.length||v.supplyDefaultsUpdateCalc(ae,Q)}},v.supplyDefaultsUpdateCalc=function(F,V){for(var j=0;j<V.length;j++){var te=V[j],J=(F[j]||[])[0];if(J&&J.trace){var K=J.trace;if(K._hasCalcTransform){var Z,X,Q,re=K._arrayAttrs;for(Z=0;Z<re.length;Z++)X=re[Z],Q=i.nestedProperty(K,X).get().slice(),i.nestedProperty(te,X).set(Q)}J.trace=te}}},v.createTransitionData=function(F){F._transitionData||(F._transitionData={}),F._transitionData._frames||(F._transitionData._frames=[]),F._transitionData._frameHash||(F._transitionData._frameHash={}),F._transitionData._counter||(F._transitionData._counter=0),F._transitionData._interruptCallbacks||(F._transitionData._interruptCallbacks=[])},v._hasPlotType=function(F){var V,j=this._basePlotModules||[];for(V=0;V<j.length;V++)if(j[V].name===F)return!0;var te=this._modules||[];for(V=0;V<te.length;V++){var J=te[V].name;if(J===F)return!0;var K=g.modules[J];if(K&&K.categories[F])return!0}return!1},v.cleanPlot=function(F,V,j,te){var J,K,Z=te._basePlotModules||[];for(J=0;J<Z.length;J++){var X=Z[J];X.clean&&X.clean(F,V,j,te)}var Q=te._has&&te._has("gl"),re=V._has&&V._has("gl");Q&&!re&&te._glcontainer!==void 0&&(te._glcontainer.selectAll(".gl-canvas").remove(),te._glcontainer.selectAll(".no-webgl").remove(),te._glcanvas=null);var ae=!!te._infolayer;e:for(J=0;J<j.length;J++){var ie=j[J].uid;for(K=0;K<F.length;K++)if(ie===F[K].uid)continue e;ae&&te._infolayer.select(".cb"+ie).remove()}},v.linkSubplots=function(F,V,j,te){var J,K,Z=te._plots||{},X=V._plots={},Q=V._subplots,re={_fullData:F,_fullLayout:V},ae=Q.cartesian.concat(Q.gl2d||[]);for(J=0;J<ae.length;J++){var ie,le=ae[J],pe=Z[le],de=o.getFromId(re,le,"x"),ve=o.getFromId(re,le,"y");for(pe?ie=X[le]=pe:(ie=X[le]={}).id=le,de._counterAxes.push(ve._id),ve._counterAxes.push(de._id),de._subplotsWith.push(le),ve._subplotsWith.push(le),ie.xaxis=de,ie.yaxis=ve,ie._hasClipOnAxisFalse=!1,K=0;K<F.length;K++){var be=F[K];if(be.xaxis===ie.xaxis._id&&be.yaxis===ie.yaxis._id&&be.cliponaxis===!1){ie._hasClipOnAxisFalse=!0;break}}}var me,ge=o.list(re,null,!0);for(J=0;J<ge.length;J++){var ke=null;(me=ge[J]).overlaying&&(ke=o.getFromId(re,me.overlaying))&&ke.overlaying&&(me.overlaying=!1,ke=null),me._mainAxis=ke||me,ke&&(me.domain=ke.domain.slice()),me._anchorAxis=me.anchor==="free"?null:o.getFromId(re,me.anchor)}for(J=0;J<ge.length;J++)if((me=ge[J])._counterAxes.sort(o.idSort),me._subplotsWith.sort(i.subplotSort),me._mainSubplot=w(me,V),me._counterAxes.length&&(me.spikemode&&me.spikemode.indexOf("across")!==-1||me.automargin&&me.mirror&&me.anchor!=="free"||g.getComponentMethod("rangeslider","isVisible")(me))){var we=1,ue=0;for(K=0;K<me._counterAxes.length;K++){var oe=o.getFromId(re,me._counterAxes[K]);we=Math.min(we,oe.domain[0]),ue=Math.max(ue,oe.domain[1])}we<ue&&(me._counterDomainMin=we,me._counterDomainMax=ue)}},v.clearExpandedTraceDefaultColors=function(F){var V,j,te;for(j=[],(V=F._module._colorAttrs)||(F._module._colorAttrs=V=[],s.crawl(F._module.attributes,function(J,K,Z,X){j[X]=K,j.length=X+1,J.valType==="color"&&J.dflt===void 0&&V.push(j.join("."))})),te=0;te<V.length;te++)i.nestedProperty(F,"_input."+V[te]).get()||i.nestedProperty(F,V[te]).set(null)},v.supplyDataDefaults=function(F,V,j,te){var J,K,Z,X=te._modules,Q=te._visibleModules,re=te._basePlotModules,ae=0,ie=0;function le(he){V.push(he);var Ee=he._module;Ee&&(i.pushUnique(X,Ee),he.visible===!0&&i.pushUnique(Q,Ee),i.pushUnique(re,he._module.basePlotModule),ae++,he._input.visible!==!1&&ie++)}te._transformModules=[];var pe={},de=[],ve=(j.template||{}).data||{},be=t.traceTemplater(ve);for(J=0;J<F.length;J++){if(Z=F[J],(K=be.newTrace(Z)).uid=te._traceUids[J],v.supplyTraceDefaults(Z,K,ie,te,J),K.index=J,K._input=Z,K._expandedIndex=ae,K.transforms&&K.transforms.length)for(var me=Z.visible!==!1&&K.visible===!1,ge=C(K,V,j,te),ke=0;ke<ge.length;ke++){var we=ge[ke],ue={_template:K._template,type:K.type,uid:K.uid+ke};me&&we.visible===!1&&delete we.visible,v.supplyTraceDefaults(we,ue,ae,te,J),f(ue,we),ue.index=J,ue._input=Z,ue._fullInput=K,ue._expandedIndex=ae,ue._expandedInput=we,le(ue)}else K._fullInput=K,K._expandedInput=K,le(K);g.traceIs(K,"carpetAxis")&&(pe[K.carpet]=K),g.traceIs(K,"carpetDependent")&&de.push(J)}for(J=0;J<de.length;J++)if((K=V[de[J]]).visible){var oe=pe[K.carpet];K._carpet=oe,oe&&oe.visible?(K.xaxis=oe.xaxis,K.yaxis=oe.yaxis):K.visible=!1}},v.supplyAnimationDefaults=function(F){var V;F=F||{};var j={};function te(J,K){return i.coerce(F||{},j,d,J,K)}if(te("mode"),te("direction"),te("fromcurrent"),Array.isArray(F.frame))for(j.frame=[],V=0;V<F.frame.length;V++)j.frame[V]=v.supplyAnimationFrameDefaults(F.frame[V]||{});else j.frame=v.supplyAnimationFrameDefaults(F.frame||{});if(Array.isArray(F.transition))for(j.transition=[],V=0;V<F.transition.length;V++)j.transition[V]=v.supplyAnimationTransitionDefaults(F.transition[V]||{});else j.transition=v.supplyAnimationTransitionDefaults(F.transition||{});return j},v.supplyAnimationFrameDefaults=function(F){var V={};function j(te,J){return i.coerce(F||{},V,d.frame,te,J)}return j("duration"),j("redraw"),V},v.supplyAnimationTransitionDefaults=function(F){var V={};function j(te,J){return i.coerce(F||{},V,d.transition,te,J)}return j("duration"),j("easing"),V},v.supplyFrameDefaults=function(F){var V={};function j(te,J){return i.coerce(F,V,c,te,J)}return j("group"),j("name"),j("traces"),j("baseframe"),j("data"),j("layout"),V},v.supplyTraceDefaults=function(F,V,j,te,J){var K,Z=te.colorway||r.defaults,X=Z[j%Z.length];function Q(ke,we){return i.coerce(F,V,v.attributes,ke,we)}var re=Q("visible");Q("type"),Q("name",te._traceWord+" "+J),Q("uirevision",te.uirevision);var ae=v.getModule(V);if(V._module=ae,ae){var ie=ae.basePlotModule,le=ie.attr,pe=ie.attributes;if(le&&pe){var de=te._subplots,ve="";if(re||ie.name!=="gl2d"){if(Array.isArray(le))for(K=0;K<le.length;K++){var be=le[K],me=i.coerce(F,V,pe,be);de[be]&&i.pushUnique(de[be],me),ve+=me}else ve=i.coerce(F,V,pe,le);de[ie.name]&&i.pushUnique(de[ie.name],ve)}}}if(re){if(Q("customdata"),Q("ids"),Q("meta"),g.traceIs(V,"showLegend")?(i.coerce(F,V,ae.attributes.showlegend?ae.attributes:v.attributes,"showlegend"),Q("legend"),Q("legendwidth"),Q("legendgroup"),Q("legendgrouptitle.text"),Q("legendrank"),V._dfltShowLegend=!0):V._dfltShowLegend=!1,ae&&ae.supplyDefaults(F,V,X,te),g.traceIs(V,"noOpacity")||Q("opacity"),g.traceIs(V,"notLegendIsolatable")&&(V.visible=!!V.visible),g.traceIs(V,"noHover")||(V.hovertemplate||i.coerceHoverinfo(F,V,te),V.type!=="parcats"&&g.getComponentMethod("fx","supplyDefaults")(F,V,X,te)),ae&&ae.selectPoints){var ge=Q("selectedpoints");i.isTypedArray(ge)&&(V.selectedpoints=Array.from(ge))}v.supplyTransformDefaults(F,V,te)}return V},v.hasMakesDataTransform=E,v.supplyTransformDefaults=function(F,V,j){if(V._length||E(F)){var te=j._globalTransforms||[],J=j._transformModules||[];if(Array.isArray(F.transforms)||te.length!==0)for(var K=F.transforms||[],Z=te.concat(K),X=V.transforms=[],Q=0;Q<Z.length;Q++){var re,ae=Z[Q],ie=ae.type,le=y[ie],pe=!(ae._module&&ae._module===le),de=le&&typeof le.transform=="function";le||i.warn("Unrecognized transform type "+ie+"."),le&&le.supplyDefaults&&(pe||de)?((re=le.supplyDefaults(ae,V,j,F)).type=ie,re._module=le,i.pushUnique(J,le)):re=i.extendFlat({},ae),X.push(re)}}},v.supplyLayoutGlobalDefaults=function(F,V,j){function te(ae,ie){return i.coerce(F,V,v.layoutAttributes,ae,ie)}var J=F.template;i.isPlainObject(J)&&(V.template=J,V._template=J.layout,V._dataTemplate=J.data),te("autotypenumbers");var K=i.coerceFont(te,"font"),Z=K.size;i.coerceFont(te,"title.font",i.extendFlat({},K,{size:Math.round(1.4*Z)})),te("title.text",V._dfltTitle.plot),te("title.xref");var X=te("title.yref");te("title.pad.t"),te("title.pad.r"),te("title.pad.b"),te("title.pad.l");var Q=te("title.automargin");te("title.x"),te("title.xanchor"),te("title.y"),te("title.yanchor"),Q&&(X==="paper"&&(V.title.y!==0&&(V.title.y=1),V.title.yanchor==="auto"&&(V.title.yanchor=V.title.y===0?"top":"bottom")),X==="container"&&(V.title.y==="auto"&&(V.title.y=1),V.title.yanchor==="auto"&&(V.title.yanchor=V.title.y<.5?"bottom":"top"))),te("uniformtext.mode")&&te("uniformtext.minsize"),te("autosize",!(F.width&&F.height)),te("width"),te("height"),te("minreducedwidth"),te("minreducedheight"),te("margin.l"),te("margin.r"),te("margin.t"),te("margin.b"),te("margin.pad"),te("margin.autoexpand"),F.width&&F.height&&v.sanitizeMargins(V),g.getComponentMethod("grid","sizeDefaults")(F,V),te("paper_bgcolor"),te("separators",j.decimal+j.thousands),te("hidesources"),te("colorway"),te("datarevision");var re=te("uirevision");te("editrevision",re),te("selectionrevision",re),g.getComponentMethod("modebar","supplyLayoutDefaults")(F,V),g.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(F,V,te),g.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(F,V,te),te("meta"),i.isPlainObject(F.transition)&&(te("transition.duration"),te("transition.easing"),te("transition.ordering")),g.getComponentMethod("calendars","handleDefaults")(F,V,"calendar"),g.getComponentMethod("fx","supplyLayoutGlobalDefaults")(F,V,te),i.coerce(F,V,u,"scattermode")},v.plotAutoSize=function(F,V,j){var te,J,K=F._context||{},Z=K.frameMargins,X=i.isPlotDiv(F);if(X&&F.emit("plotly_autosize"),K.fillFrame)te=window.innerWidth,J=window.innerHeight,document.body.style.overflow="hidden";else{var Q=X?window.getComputedStyle(F):{};if(te=P(Q.width)||P(Q.maxWidth)||j.width,J=P(Q.height)||P(Q.maxHeight)||j.height,T(Z)&&Z>0){var re=1-2*Z;te=Math.round(re*te),J=Math.round(re*J)}}var ae=v.layoutAttributes.width.min,ie=v.layoutAttributes.height.min;te<ae&&(te=ae),J<ie&&(J=ie);var le=!V.width&&Math.abs(j.width-te)>1,pe=!V.height&&Math.abs(j.height-J)>1;(pe||le)&&(le&&(j.width=te),pe&&(j.height=J)),F._initialAutoSize||(F._initialAutoSize={width:te,height:J}),v.sanitizeMargins(j)},v.supplyLayoutModuleDefaults=function(F,V,j,te){var J,K,Z,X=g.componentsRegistry,Q=V._basePlotModules,re=g.subplotsRegistry.cartesian;for(J in X)(Z=X[J]).includeBasePlot&&Z.includeBasePlot(F,V);for(var ae in Q.length||Q.push(re),V._has("cartesian")&&(g.getComponentMethod("grid","contentDefaults")(F,V),re.finalizeSubplots(F,V)),V._subplots)V._subplots[ae].sort(i.subplotSort);for(K=0;K<Q.length;K++)(Z=Q[K]).supplyLayoutDefaults&&Z.supplyLayoutDefaults(F,V,j);var ie=V._modules;for(K=0;K<ie.length;K++)(Z=ie[K]).supplyLayoutDefaults&&Z.supplyLayoutDefaults(F,V,j);var le=V._transformModules;for(K=0;K<le.length;K++)(Z=le[K]).supplyLayoutDefaults&&Z.supplyLayoutDefaults(F,V,j,te);for(J in X)(Z=X[J]).supplyLayoutDefaults&&Z.supplyLayoutDefaults(F,V,j)},v.purge=function(F){var V=F._fullLayout||{};V._glcontainer!==void 0&&(V._glcontainer.selectAll(".gl-canvas").remove(),V._glcontainer.remove(),V._glcanvas=null),V._modeBar&&V._modeBar.destroy(),F._transitionData&&(F._transitionData._interruptCallbacks&&(F._transitionData._interruptCallbacks.length=0),F._transitionData._animationRaf&&window.cancelAnimationFrame(F._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(F),delete F.data,delete F.layout,delete F._fullData,delete F._fullLayout,delete F.calcdata,delete F.empty,delete F.fid,delete F.undoqueue,delete F.undonum,delete F.autoplay,delete F.changed,delete F._promises,delete F._redrawTimer,delete F._hmlumcount,delete F._hmpixcount,delete F._transitionData,delete F._transitioning,delete F._initialAutoSize,delete F._transitioningWithDuration,delete F._dragging,delete F._dragged,delete F._dragdata,delete F._hoverdata,delete F._snapshotInProgress,delete F._editing,delete F._mouseDownTime,delete F._legendMouseDownTime,F.removeAllListeners&&F.removeAllListeners()},v.style=function(F){var V,j=F._fullLayout._visibleModules,te=[];for(V=0;V<j.length;V++){var J=j[V];J.style&&i.pushUnique(te,J.style)}for(V=0;V<te.length;V++)te[V](F)},v.sanitizeMargins=function(F){if(F&&F.margin){var V,j=F.width,te=F.height,J=F.margin,K=j-(J.l+J.r),Z=te-(J.t+J.b);K<0&&(V=(j-1)/(J.l+J.r),J.l=Math.floor(V*J.l),J.r=Math.floor(V*J.r)),Z<0&&(V=(te-1)/(J.t+J.b),J.t=Math.floor(V*J.t),J.b=Math.floor(V*J.b))}},v.clearAutoMarginIds=function(F){F._fullLayout._pushmarginIds={}},v.allowAutoMargin=function(F,V){F._fullLayout._pushmarginIds[V]=1},v.autoMargin=function(F,V,j){var te=F._fullLayout,J=te.width,K=te.height,Z=te.margin,X=te.minreducedwidth,Q=te.minreducedheight,re=i.constrain(J-Z.l-Z.r,2,X),ae=i.constrain(K-Z.t-Z.b,2,Q),ie=Math.max(0,J-re),le=Math.max(0,K-ae),pe=te._pushmargin,de=te._pushmarginIds;if(Z.autoexpand!==!1){if(j){var ve=j.pad;if(ve===void 0&&(ve=Math.min(12,Z.l,Z.r,Z.t,Z.b)),ie){var be=(j.l+j.r)/ie;be>1&&(j.l/=be,j.r/=be)}if(le){var me=(j.t+j.b)/le;me>1&&(j.t/=me,j.b/=me)}var ge=j.xl!==void 0?j.xl:j.x,ke=j.xr!==void 0?j.xr:j.x,we=j.yt!==void 0?j.yt:j.y,ue=j.yb!==void 0?j.yb:j.y;pe[V]={l:{val:ge,size:j.l+ve},r:{val:ke,size:j.r+ve},b:{val:ue,size:j.b+ve},t:{val:we,size:j.t+ve}},de[V]=1}else delete pe[V],delete de[V];if(!te._replotting)return v.doAutoMargin(F)}},v.doAutoMargin=function(F){var V=F._fullLayout,j=V.width,te=V.height;V._size||(V._size={}),O(V);var J=V._size,K=V.margin,Z={t:0,b:0,l:0,r:0},X=i.extendFlat({},J),Q=K.l,re=K.r,ae=K.t,ie=K.b,le=V._pushmargin,pe=V._pushmarginIds,de=V.minreducedwidth,ve=V.minreducedheight;if(K.autoexpand!==!1){for(var be in le)pe[be]||delete le[be];var me=F._fullLayout._reservedMargin;for(var ge in me)for(var ke in me[ge]){var we=me[ge][ke];Z[ke]=Math.max(Z[ke],we)}for(var ue in le.base={l:{val:0,size:Q},r:{val:1,size:re},t:{val:1,size:ae},b:{val:0,size:ie}},Z){var oe=0;for(var he in le)he!=="base"&&T(le[he][ue].size)&&(oe=le[he][ue].size>oe?le[he][ue].size:oe);var Ee=Math.max(0,K[ue]-oe);Z[ue]=Math.max(0,Z[ue]-Ee)}for(var Te in le){var Me=le[Te].l||{},Se=le[Te].b||{},ze=Me.val,fe=Me.size,xe=Se.val,_e=Se.size,Oe=j-Z.r-Z.l,De=te-Z.t-Z.b;for(var Pe in le){if(T(fe)&&le[Pe].r){var Ue=le[Pe].r.val,Ve=le[Pe].r.size;if(Ue>ze){var Xe=(fe*Ue+(Ve-Oe)*ze)/(Ue-ze),it=(Ve*(1-ze)+(fe-Oe)*(1-Ue))/(Ue-ze);Xe+it>Q+re&&(Q=Xe,re=it)}}if(T(_e)&&le[Pe].t){var tt=le[Pe].t.val,pt=le[Pe].t.size;if(tt>xe){var mt=(_e*tt+(pt-De)*xe)/(tt-xe),gt=(pt*(1-xe)+(_e-De)*(1-tt))/(tt-xe);mt+gt>ie+ae&&(ie=mt,ae=gt)}}}}}var et=i.constrain(j-K.l-K.r,2,de),$e=i.constrain(te-K.t-K.b,2,ve),_t=Math.max(0,j-et),Pt=Math.max(0,te-$e);if(_t){var Ot=(Q+re)/_t;Ot>1&&(Q/=Ot,re/=Ot)}if(Pt){var Lt=(ie+ae)/Pt;Lt>1&&(ie/=Lt,ae/=Lt)}if(J.l=Math.round(Q)+Z.l,J.r=Math.round(re)+Z.r,J.t=Math.round(ae)+Z.t,J.b=Math.round(ie)+Z.b,J.p=Math.round(K.pad),J.w=Math.round(j)-J.l-J.r,J.h=Math.round(te)-J.t-J.b,!V._replotting&&(v.didMarginChange(X,J)||function(We){if("_redrawFromAutoMarginCount"in We._fullLayout)return!1;var Be=o.list(We,"",!0);for(var Ge in Be)if(Be[Ge].autoshift||Be[Ge].shift)return!0;return!1}(F))){"_redrawFromAutoMarginCount"in V?V._redrawFromAutoMarginCount++:V._redrawFromAutoMarginCount=1;var He=3*(1+Object.keys(pe).length);if(V._redrawFromAutoMarginCount<He)return g.call("_doPlot",F);V._size=X,i.warn("Too many auto-margin redraws.")}(function(We){var Be=o.list(We,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Ge){for(var at=0;at<Be.length;at++){var nt=Be[at][Ge];nt&&nt()}})})(F)};var R=["l","r","t","b","p","w","h"];function U(F,V,j){var te=!1,J=[v.previousPromises,function(){if(F._transitionData)return F._transitioning=!1,function(Z){var X=Promise.resolve();if(!Z)return X;for(;Z.length;)X=X.then(Z.shift());return X}(F._transitionData._interruptCallbacks)},j.prepareFn,v.rehover,v.reselect,function(){return F.emit("plotly_transitioning",[]),new Promise(function(Z){F._transitioning=!0,V.duration>0&&(F._transitioningWithDuration=!0),F._transitionData._interruptCallbacks.push(function(){te=!0}),j.redraw&&F._transitionData._interruptCallbacks.push(function(){return g.call("redraw",F)}),F._transitionData._interruptCallbacks.push(function(){F.emit("plotly_transitioninterrupted",[])});var X=0,Q=0;function re(){return X++,function(){var ae;Q++,te||Q!==X||(ae=Z,F._transitionData&&(function(ie){if(ie)for(;ie.length;)ie.shift()}(F._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(j.redraw)return g.call("redraw",F)}).then(function(){F._transitioning=!1,F._transitioningWithDuration=!1,F.emit("plotly_transitioned",[])}).then(ae)))}}j.runFn(re),setTimeout(re())})}],K=i.syncOrAsync(J,F);return K&&K.then||(K=Promise.resolve()),K.then(function(){return F})}v.didMarginChange=function(F,V){for(var j=0;j<R.length;j++){var te=R[j],J=F[te],K=V[te];if(!T(J)||Math.abs(K-J)>1)return!0}return!1},v.graphJson=function(F,V,j,te,J,K){(J&&V&&!F._fullData||J&&!V&&!F._fullLayout)&&v.supplyDefaults(F);var Z=J?F._fullData:F.data,X=J?F._fullLayout:F.layout,Q=(F._transitionData||{})._frames;function re(le,pe){if(typeof le=="function")return pe?"_function_":null;if(i.isPlainObject(le)){var de,ve={};return Object.keys(le).sort().forEach(function(ke){if(["_","["].indexOf(ke.charAt(0))===-1)if(typeof le[ke]!="function"){if(j==="keepdata"){if(ke.substr(ke.length-3)==="src")return}else if(j==="keepstream"){if(typeof(de=le[ke+"src"])=="string"&&de.indexOf(":")>0&&!i.isPlainObject(le.stream))return}else if(j!=="keepall"&&typeof(de=le[ke+"src"])=="string"&&de.indexOf(":")>0)return;ve[ke]=re(le[ke],pe)}else pe&&(ve[ke]="_function")}),ve}var be=Array.isArray(le),me=i.isTypedArray(le);if((be||me)&&le.dtype&&le.shape){var ge=le.bdata;return re({dtype:le.dtype,shape:le.shape,bdata:i.isArrayBuffer(ge)?b.encode(ge):ge},pe)}return be?le.map(function(ke){return re(ke,pe)}):me?i.simpleMap(le,i.identity):i.isJSDate(le)?i.ms2DateTimeLocal(+le):le}var ae={data:(Z||[]).map(function(le){var pe=re(le);return V&&delete pe.fit,pe})};if(!V&&(ae.layout=re(X),J)){var ie=X._size;ae.layout.computed={margin:{b:ie.b,l:ie.l,r:ie.r,t:ie.t}}}return Q&&(ae.frames=re(Q)),K&&(ae.config=re(F._context,!0)),te==="object"?ae:JSON.stringify(ae)},v.modifyFrames=function(F,V){var j,te,J,K=F._transitionData._frames,Z=F._transitionData._frameHash;for(j=0;j<V.length;j++)switch((te=V[j]).type){case"replace":J=te.value;var X=(K[te.index]||{}).name,Q=J.name;K[te.index]=Z[Q]=J,Q!==X&&(delete Z[X],Z[Q]=J);break;case"insert":Z[(J=te.value).name]=J,K.splice(te.index,0,J);break;case"delete":delete Z[(J=K[te.index]).name],K.splice(te.index,1)}return Promise.resolve()},v.computeFrame=function(F,V){var j,te,J,K,Z=F._transitionData._frameHash;if(!V)throw new Error("computeFrame must be given a string frame name");var X=Z[V.toString()];if(!X)return!1;for(var Q=[X],re=[X.name];X.baseframe&&(X=Z[X.baseframe.toString()])&&re.indexOf(X.name)===-1;)Q.push(X),re.push(X.name);for(var ae={};X=Q.pop();)if(X.layout&&(ae.layout=v.extendLayout(ae.layout,X.layout)),X.data){if(ae.data||(ae.data=[]),!(te=X.traces))for(te=[],j=0;j<X.data.length;j++)te[j]=j;for(ae.traces||(ae.traces=[]),j=0;j<X.data.length;j++)(J=te[j])!=null&&((K=ae.traces.indexOf(J))===-1&&(K=ae.data.length,ae.traces[K]=J),ae.data[K]=v.extendTrace(ae.data[K],X.data[j]))}return ae},v.recomputeFrameHash=function(F){for(var V=F._transitionData._frameHash={},j=F._transitionData._frames,te=0;te<j.length;te++){var J=j[te];J&&J.name&&(V[J.name]=J)}},v.extendObjectWithContainers=function(F,V,j){var te,J,K,Z,X,Q,re,ae=i.extendDeepNoArrays({},V||{}),ie=i.expandObjectPaths(ae),le={};if(j&&j.length)for(K=0;K<j.length;K++)(J=(te=i.nestedProperty(ie,j[K])).get())===void 0?i.nestedProperty(le,j[K]).set(null):(te.set(null),i.nestedProperty(le,j[K]).set(J));if(F=i.extendDeepNoArrays(F||{},ie),j&&j.length){for(K=0;K<j.length;K++)if(Q=i.nestedProperty(le,j[K]).get()){for(re=(X=i.nestedProperty(F,j[K])).get(),Array.isArray(re)||(re=[],X.set(re)),Z=0;Z<Q.length;Z++){var pe=Q[Z];re[Z]=pe===null?null:v.extendObjectWithContainers(re[Z],pe)}X.set(re)}}return F},v.dataArrayContainers=["transforms","dimensions"],v.layoutArrayContainers=g.layoutArrayContainers,v.extendTrace=function(F,V){return v.extendObjectWithContainers(F,V,v.dataArrayContainers)},v.extendLayout=function(F,V){return v.extendObjectWithContainers(F,V,v.layoutArrayContainers)},v.transition=function(F,V,j,te,J,K){var Z={redraw:J.redraw},X={},Q=[];return Z.prepareFn=function(){for(var re=Array.isArray(V)?V.length:0,ae=te.slice(0,re),ie=0;ie<ae.length;ie++){var le=ae[ie],pe=F._fullData[le]._module;if(pe){if(pe.animatable){var de=pe.basePlotModule.name;X[de]||(X[de]=[]),X[de].push(le)}F.data[ae[ie]]=v.extendTrace(F.data[ae[ie]],V[ie])}}var ve=i.expandObjectPaths(i.extendDeepNoArrays({},j)),be=/^[xy]axis[0-9]*$/;for(var me in ve)be.test(me)&&delete ve[me].range;v.extendLayout(F.layout,ve),delete F.calcdata,v.supplyDefaults(F),v.doCalcdata(F);var ge=i.expandObjectPaths(j);if(ge){var ke=F._fullLayout._plots;for(var we in ke){var ue=ke[we],oe=ue.xaxis,he=ue.yaxis,Ee=oe.range.slice(),Te=he.range.slice(),Me=null,Se=null,ze=null,fe=null;Array.isArray(ge[oe._name+".range"])?Me=ge[oe._name+".range"].slice():Array.isArray((ge[oe._name]||{}).range)&&(Me=ge[oe._name].range.slice()),Array.isArray(ge[he._name+".range"])?Se=ge[he._name+".range"].slice():Array.isArray((ge[he._name]||{}).range)&&(Se=ge[he._name].range.slice()),Ee&&Me&&(oe.r2l(Ee[0])!==oe.r2l(Me[0])||oe.r2l(Ee[1])!==oe.r2l(Me[1]))&&(ze={xr0:Ee,xr1:Me}),Te&&Se&&(he.r2l(Te[0])!==he.r2l(Se[0])||he.r2l(Te[1])!==he.r2l(Se[1]))&&(fe={yr0:Te,yr1:Se}),(ze||fe)&&Q.push(i.extendFlat({plotinfo:ue},ze,fe))}}return Promise.resolve()},Z.runFn=function(re){var ae,ie,le=F._fullLayout._basePlotModules,pe=Q.length;if(j)for(ie=0;ie<le.length;ie++)le[ie].transitionAxes&&le[ie].transitionAxes(F,Q,K,re);for(var de in pe?((ae=i.extendFlat({},K)).duration=0,delete X.cartesian):ae=K,X){var ve=X[de];F._fullData[ve[0]]._module.basePlotModule.plot(F,ve,ae,re)}},U(F,K,Z)},v.transitionFromReact=function(F,V,j,te){var J=F._fullLayout,K=J.transition,Z={},X=[];return Z.prepareFn=function(){var Q=J._plots;for(var re in Z.redraw=!1,V.anim==="some"&&(Z.redraw=!0),j.anim==="some"&&(Z.redraw=!0),Q){var ae=Q[re],ie=ae.xaxis,le=ae.yaxis,pe=te[ie._name].range.slice(),de=te[le._name].range.slice(),ve=ie.range.slice(),be=le.range.slice();ie.setScale(),le.setScale();var me=null,ge=null;ie.r2l(pe[0])===ie.r2l(ve[0])&&ie.r2l(pe[1])===ie.r2l(ve[1])||(me={xr0:pe,xr1:ve}),le.r2l(de[0])===le.r2l(be[0])&&le.r2l(de[1])===le.r2l(be[1])||(ge={yr0:de,yr1:be}),(me||ge)&&X.push(i.extendFlat({plotinfo:ae},me,ge))}return Promise.resolve()},Z.runFn=function(Q){for(var re,ae,ie,le=F._fullData,pe=F._fullLayout._basePlotModules,de=[],ve=0;ve<le.length;ve++)de.push(ve);function be(){if(F._fullLayout)for(var ge=0;ge<pe.length;ge++)pe[ge].transitionAxes&&pe[ge].transitionAxes(F,X,re,Q)}function me(){if(F._fullLayout)for(var ge=0;ge<pe.length;ge++)pe[ge].plot(F,ie,ae,Q)}X.length&&V.anim?K.ordering==="traces first"?(re=i.extendFlat({},K,{duration:0}),ie=de,ae=K,setTimeout(be,K.duration),me()):(re=K,ie=null,ae=i.extendFlat({},K,{duration:0}),setTimeout(me,re.duration),be()):X.length?(re=K,be()):V.anim&&(ie=de,ae=K,me())},U(F,K,Z)},v.doCalcdata=function(F,V){var j,te,J,K,Z=o.list(F),X=F._fullData,Q=F._fullLayout,re=new Array(X.length),ae=(F.calcdata||[]).slice();for(F.calcdata=re,Q._numBoxes=0,Q._numViolins=0,Q._violinScaleGroupStats={},F._hmpixcount=0,F._hmlumcount=0,Q._piecolormap={},Q._sunburstcolormap={},Q._treemapcolormap={},Q._iciclecolormap={},Q._funnelareacolormap={},J=0;J<X.length;J++)Array.isArray(V)&&V.indexOf(J)===-1&&(re[J]=ae[J]);for(J=0;J<X.length;J++)(j=X[J])._arrayAttrs=s.findArrayAttributes(j),j._extremes={};var ie=Q._subplots.polar||[];for(J=0;J<ie.length;J++)Z.push(Q[ie[J]].radialaxis,Q[ie[J]].angularaxis);for(var le in Q._colorAxes){var pe=Q[le];pe.cauto!==!1&&(delete pe.cmin,delete pe.cmax)}var de=!1;function ve(ge){if(j=X[ge],te=j._module,j.visible===!0&&j.transforms){if(te&&te.calc){var ke=te.calc(F,j);ke[0]&&ke[0].t&&ke[0].t._scene&&delete ke[0].t._scene.dirty}for(K=0;K<j.transforms.length;K++){var we=j.transforms[K];(te=y[we.type])&&te.calcTransform&&(j._hasCalcTransform=!0,de=!0,te.calcTransform(F,j,we))}}}function be(ge,ke){if(j=X[ge],!!(te=j._module).isContainer===ke){var we=[];if(j.visible===!0&&j._length!==0){delete j._indexToPoints;var ue=j.transforms||[];for(K=ue.length-1;K>=0;K--)if(ue[K].enabled){j._indexToPoints=ue[K]._indexToPoints;break}te&&te.calc&&(we=te.calc(F,j))}Array.isArray(we)&&we[0]||(we=[{x:n,y:n}]),we[0].t||(we[0].t={}),we[0].trace=j,re[ge]=we}}for(N(Z,X,Q),J=0;J<X.length;J++)be(J,!0);for(J=0;J<X.length;J++)ve(J);for(de&&N(Z,X,Q),J=0;J<X.length;J++)be(J,!0);for(J=0;J<X.length;J++)be(J,!1);W(F);var me=function(ge,ke){var we,ue,oe,he,Ee,Te=[];function Me(Ge,at,nt){var Re=at._id.charAt(0);if(Ge==="histogram2dcontour"){var Fe=at._counterAxes[0],rt=o.getFromId(ke,Fe),Ye=Re==="x"||Fe==="x"&&rt.type==="category",ct=Re==="y"||Fe==="y"&&rt.type==="category";return function(ht,dt){return ht===0||dt===0||Ye&&ht===nt[dt].length-1||ct&&dt===nt.length-1?-1:(Re==="y"?dt:ht)-1}}return function(ht,dt){return Re==="y"?dt:ht}}var Se={min:function(Ge){return i.aggNums(Math.min,null,Ge)},max:function(Ge){return i.aggNums(Math.max,null,Ge)},sum:function(Ge){return i.aggNums(function(at,nt){return at+nt},null,Ge)},total:function(Ge){return i.aggNums(function(at,nt){return at+nt},null,Ge)},mean:function(Ge){return i.mean(Ge)},median:function(Ge){return i.median(Ge)}};function ze(Ge,at){return Ge[1]-at[1]}function fe(Ge,at){return at[1]-Ge[1]}for(we=0;we<ge.length;we++){var xe=ge[we];if(xe.type==="category"){var _e=xe.categoryorder.match(z);if(_e){var Oe=_e[1],De=_e[2],Pe=xe._id.charAt(0),Ue=Pe==="x",Ve=[];for(ue=0;ue<xe._categories.length;ue++)Ve.push([xe._categories[ue],[]]);for(ue=0;ue<xe._traceIndices.length;ue++){var Xe=xe._traceIndices[ue],it=ke._fullData[Xe];if(it.visible===!0){var tt=it.type;g.traceIs(it,"histogram")&&(delete it._xautoBinFinished,delete it._yautoBinFinished);var pt=tt==="splom",mt=tt==="scattergl",gt=ke.calcdata[Xe];for(oe=0;oe<gt.length;oe++){var et,$e,_t=gt[oe];if(pt){var Pt=it._axesDim[xe._id];if(!Ue){var Ot=it._diag[Pt][0];Ot&&(xe=ke._fullLayout[o.id2name(Ot)])}var Lt=_t.trace.dimensions[Pt].values;for(he=0;he<Lt.length;he++)for(et=xe._categoriesMap[Lt[he]],Ee=0;Ee<_t.trace.dimensions.length;Ee++)if(Ee!==Pt){var He=_t.trace.dimensions[Ee];Ve[et][1].push(He.values[he])}}else if(mt){for(he=0;he<_t.t.x.length;he++)Ue?(et=_t.t.x[he],$e=_t.t.y[he]):(et=_t.t.y[he],$e=_t.t.x[he]),Ve[et][1].push($e);_t.t&&_t.t._scene&&delete _t.t._scene.dirty}else if(_t.hasOwnProperty("z")){$e=_t.z;var We=Me(it.type,xe,$e);for(he=0;he<$e.length;he++)for(Ee=0;Ee<$e[he].length;Ee++)(et=We(Ee,he))+1&&Ve[et][1].push($e[he][Ee])}else for((et=_t.p)===void 0&&(et=_t[Pe]),($e=_t.s)===void 0&&($e=_t.v),$e===void 0&&($e=Ue?_t.y:_t.x),Array.isArray($e)||($e=$e===void 0?[]:[$e]),he=0;he<$e.length;he++)Ve[et][1].push($e[he])}}}xe._categoriesValue=Ve;var Be=[];for(ue=0;ue<Ve.length;ue++)Be.push([Ve[ue][0],Se[Oe](Ve[ue][1])]);Be.sort(De==="descending"?fe:ze),xe._categoriesAggregatedValue=Be,xe._initialCategories=Be.map(function(Ge){return Ge[0]}),Te=Te.concat(xe.sortByInitialCategories())}}}return Te}(Z,F);if(me.length){for(Q._numBoxes=0,Q._numViolins=0,J=0;J<me.length;J++)be(me[J],!0);for(J=0;J<me.length;J++)be(me[J],!1);W(F)}g.getComponentMethod("fx","calc")(F),g.getComponentMethod("errorbars","calc")(F)};var z=/(total|sum|min|max|mean|median) (ascending|descending)/;function N(F,V,j){var te={};function J(Q){Q.clearCalc(),Q.type==="multicategory"&&Q.setupMultiCategory(V),te[Q._id]=1}i.simpleMap(F,J);for(var K=j._axisMatchGroups||[],Z=0;Z<K.length;Z++)for(var X in K[Z])te[X]||J(j[o.id2name(X)])}function W(F){var V,j,te,J=F._fullLayout,K=J._visibleModules,Z={};for(j=0;j<K.length;j++){var X=K[j],Q=X.crossTraceCalc;if(Q){var re=X.basePlotModule.name;Z[re]?i.pushUnique(Z[re],Q):Z[re]=[Q]}}for(te in Z){var ae=Z[te],ie=J._subplots[te];if(Array.isArray(ie))for(V=0;V<ie.length;V++){var le=ie[V],pe=te==="cartesian"?J._plots[le]:J[le];for(j=0;j<ae.length;j++)ae[j](F,pe,le)}else for(j=0;j<ae.length;j++)ae[j](F)}}v.rehover=function(F){F._fullLayout._rehover&&F._fullLayout._rehover()},v.redrag=function(F){F._fullLayout._redrag&&F._fullLayout._redrag()},v.reselect=function(F){var V=F._fullLayout,j=(F.layout||{}).selections,te=V._previousSelections;V._previousSelections=j;var J=V._reselect||JSON.stringify(j)!==JSON.stringify(te);g.getComponentMethod("selections","reselect")(F,J)},v.generalUpdatePerTraceModule=function(F,V,j,te){var J,K=V.traceHash,Z={};for(J=0;J<j.length;J++){var X=j[J],Q=X[0].trace;Q.visible&&(Z[Q.type]=Z[Q.type]||[],Z[Q.type].push(X))}for(var re in K)if(!Z[re]){var ae=K[re][0];ae[0].trace.visible=!1,Z[re]=[ae]}for(var ie in Z){var le=Z[ie];le[0][0].trace._module.plot(F,V,i.filterVisible(le),te)}V.traceHash=Z},v.plotBasePlot=function(F,V,j,te,J){var K=g.getModule(F),Z=m(V.calcdata,K)[0];K.plot(V,Z,te,J)},v.cleanBasePlot=function(F,V,j,te,J){var K=J._has&&J._has(F),Z=j._has&&j._has(F);K&&!Z&&J["_"+F+"layer"].selectAll("g.trace").remove()}},39360:function(ee){ee.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(ee,D,e){var M=e(3400),k=e(92065).tester,a=M.findIndexOfMin,T=M.isAngleInsideSector,b=M.angleDelta,g=M.angleDist;function s(n,o,l,u){var d,c,m=u[0],f=u[1],p=i(Math.sin(o)-Math.sin(n)),v=i(Math.cos(o)-Math.cos(n)),y=Math.tan(l),x=i(1/y),_=p/v,h=f-_*m;return x?p&&v?c=y*(d=h/(y-_)):v?(d=f*x,c=f):(d=m,c=m*y):p&&v?(d=0,c=h):v?(d=0,c=f):d=c=NaN,[d,c]}function t(n,o,l,u){return M.isFullCircle([o,l])?function(d,c){var m,f=c.length,p=new Array(f+1);for(m=0;m<f;m++){var v=c[m];p[m]=[d*Math.cos(v),d*Math.sin(v)]}return p[m]=p[0].slice(),p}(n,u):function(d,c,m,f){var p,v,y=f.length,x=[];function _(U){return[d*Math.cos(U),d*Math.sin(U)]}function h(U,z,N){return s(U,z,N,_(U))}function S(U){return M.mod(U,y)}function w(U){return T(U,[c,m])}var E=a(f,function(U){return w(U)?g(U,c):1/0}),C=h(f[E],f[S(E-1)],c);for(x.push(C),p=E,v=0;v<y;p++,v++){var P=f[S(p)];if(!w(P))break;x.push(_(P))}var O=a(f,function(U){return w(U)?g(U,m):1/0}),R=h(f[O],f[S(O+1)],m);return x.push(R),x.push([0,0]),x.push(x[0].slice()),x}(n,o,l,u)}function i(n){return Math.abs(n)>1e-10?n:0}function r(n,o,l){o=o||0,l=l||0;for(var u=n.length,d=new Array(u),c=0;c<u;c++){var m=n[c];d[c]=[o+m[0],l-m[1]]}return d}ee.exports={isPtInsidePolygon:function(n,o,l,u,d){if(!T(o,u))return!1;var c,m;l[0]<l[1]?(c=l[0],m=l[1]):(c=l[1],m=l[0]);var f=k(t(c,u[0],u[1],d)),p=k(t(m,u[0],u[1],d)),v=[n*Math.cos(o),n*Math.sin(o)];return p.contains(v)&&!f.contains(v)},findPolygonOffset:function(n,o,l,u){for(var d=1/0,c=1/0,m=t(n,o,l,u),f=0;f<m.length;f++){var p=m[f];d=Math.min(d,p[0]),c=Math.min(c,-p[1])}return[d,c]},findEnclosingVertexAngles:function(n,o){var l=a(o,function(d){var c=b(d,n);return c>0?c:1/0}),u=M.mod(l+1,o.length);return[o[l],o[u]]},findIntersectionXY:s,findXYatLength:function(n,o,l,u){var d=-o*l,c=o*o+1,m=2*(o*d-l),f=d*d+l*l-n*n,p=Math.sqrt(m*m-4*c*f),v=(-m+p)/(2*c),y=(-m-p)/(2*c);return[[v,o*v+d+u],[y,o*y+d+u]]},clampTiny:i,pathPolygon:function(n,o,l,u,d,c){return"M"+r(t(n,o,l,u),d,c).join("L")},pathPolygonAnnulus:function(n,o,l,u,d,c,m){var f,p;n<o?(f=n,p=o):(f=o,p=n);var v=r(t(f,l,u,d),c,m);return"M"+r(t(p,l,u,d),c,m).reverse().join("L")+"M"+v.join("L")}}},40872:function(ee,D,e){var M=e(84888).KY,k=e(3400).counterRegex,a=e(62400),T=e(39360),b=T.attr,g=T.name,s=k(g),t={};t[b]={valType:"subplotid",dflt:g,editType:"calc"},ee.exports={attr:b,name:g,idRoot:g,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:function(i){for(var r=i._fullLayout,n=i.calcdata,o=r._subplots[g],l=0;l<o.length;l++){var u=o[l],d=M(n,g,u),c=r[u]._subplot;c||(c=a(i,u),r[u]._subplot=c),c.plot(d,r,i._promises)}},clean:function(i,r,n,o){for(var l=o._subplots[g]||[],u=o._has&&o._has("gl"),d=r._has&&r._has("gl"),c=u&&!d,m=0;m<l.length;m++){var f=l[m],p=o[f]._subplot;if(!r[f]&&p)for(var v in p.framework.remove(),p.layers["radial-axis-title"].remove(),p.clipPaths)p.clipPaths[v].remove();c&&p._scene&&(p._scene.destroy(),p._scene=null)}},toSVG:e(57952).toSVG}},95300:function(ee,D,e){var M=e(22548),k=e(94724),a=e(86968).u,T=e(3400).extendFlat,b=e(67824).overrideAll,g=b({color:k.color,showline:T({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:T({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),s=b({tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,layer:k.layer},"plot","from-root"),t={visible:T({},k.visible,{dflt:!0}),type:T({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},autorange:T({},k.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:T({},k.minallowed,{editType:"plot"}),maxallowed:T({},k.maxallowed,{editType:"plot"}),range:T({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:k.categoryorder,categoryarray:k.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:k.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:T({},k.title.text,{editType:"plot",dflt:""}),font:T({},k.title.font,{editType:"plot"}),editType:"plot"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}};T(t,g,s);var i={visible:T({},k.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:k.autotypenumbers,categoryorder:k.categoryorder,categoryarray:k.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};T(i,g,s),ee.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:M.background},radialaxis:t,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(ee,D,e){var M=e(3400),k=e(76308),a=e(31780),T=e(168),b=e(84888).op,g=e(26332),s=e(25404),t=e(95936),i=e(42568),r=e(22416),n=e(42136),o=e(76808),l=e(52976),u=e(95300),d=e(57696),c=e(39360),m=c.axisNames;function f(v,y,x,_){var h=x("bgcolor");_.bgColor=k.combine(h,_.paper_bgcolor);var S=x("sector");x("hole");var w,E=b(_.fullData,c.name,_.id),C=_.layoutOut;function P(ie,le){return x(w+"."+ie,le)}for(var O=0;O<m.length;O++){w=m[O],M.isPlainObject(v[w])||(v[w]={});var R=v[w],U=a.newContainer(y,w);U._id=U._name=w,U._attr=_.id+"."+w,U._traceIndices=E.map(function(ie){return ie._expandedIndex});var z=c.axisName2dataArray[w],N=p(R,U,P,E,z,_);r(R,U,P,{axData:E,dataAttr:z});var W=P("visible");switch(d(U,y,C),P("uirevision",y.uirevision),U._m=1,w){case"radialaxis":P("minallowed"),P("maxallowed");var F,V=P("range"),j=U.getAutorangeDflt(V),te=P("autorange",j);!V||(V[0]!==null||V[1]!==null)&&(V[0]!==null&&V[1]!==null||te!=="reversed"&&te!==!0)&&(V[0]===null||te!=="min"&&te!=="max reversed")&&(V[1]===null||te!=="max"&&te!=="min reversed")||(V=void 0,delete U.range,U.autorange=!0,F=!0),F||(te=P("autorange",j=U.getAutorangeDflt(V))),R.autorange=te,te&&(o(P,te,V),N!=="linear"&&N!=="-"||P("rangemode"),U.isReversed()&&(U._m=-1)),U.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(N==="date"){M.log("Polar plots do not support date angular axes yet.");for(var J=0;J<E.length;J++)E[J].visible=!1;N=R.type=U.type="linear"}P(N==="linear"?"thetaunit":"period");var K=P("direction");P("rotation",{counterclockwise:0,clockwise:90}[K])}if(i(R,U,P,U.type,{tickSuffixDflt:U.thetaunit==="degrees"?"":void 0}),W){var Z,X,Q,re,ae=_.font||{};X=(Z=P("color"))===R.color?Z:ae.color,Q=ae.size,re=ae.family,g(R,U,P,U.type),t(R,U,P,U.type,{font:{color:X,size:Q,family:re},noAutotickangles:w==="angularaxis"}),s(R,U,P,{outerTicks:!0}),n(R,U,P,{dfltColor:Z,bgColor:_.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[w]}),P("layer"),w==="radialaxis"&&(P("side"),P("angle",S[0]),P("title.text"),M.coerceFont(P,"title.font",{color:X,size:M.bigFont(Q),family:re}))}N!=="category"&&P("hoverformat"),U._input=R}y.angularaxis.type==="category"&&x("gridshape")}function p(v,y,x,_,h,S){var w=x("autotypenumbers",S.autotypenumbersDflt);if(x("type")==="-"){for(var E,C=0;C<_.length;C++)if(_[C].visible){E=_[C];break}E&&E[h]&&(y.type=l(E[h],"gregorian",{noMultiCategory:!0,autotypenumbers:w})),y.type==="-"?y.type="linear":v.type=y.type}return y.type}ee.exports=function(v,y,x){T(v,y,x,{type:c.name,attributes:u,handleDefaults:f,font:y.font,autotypenumbersDflt:y.autotypenumbers,paper_bgcolor:y.paper_bgcolor,fullData:x,layoutOut:y})}},62400:function(ee,D,e){var M=e(33428),k=e(49760),a=e(24040),T=e(3400),b=T.strRotate,g=T.strTranslate,s=e(76308),t=e(43616),i=e(7316),r=e(54460),n=e(78344),o=e(57696),l=e(19280).doAutoRange,u=e(51184),d=e(86476),c=e(93024),m=e(81668),f=e(22676).prepSelect,p=e(22676).selectOnClick,v=e(22676).clearOutline,y=e(93972),x=e(73696),_=e(39172).redrawReglTraces,h=e(84284).MID_SHIFT,S=e(39360),w=e(57384),E=e(36416),C=E.smith,P=E.reactanceArc,O=E.resistanceArc,R=E.smithTransform,U=T._,z=T.mod,N=T.deg2rad,W=T.rad2deg;function F(K,Z,X){this.isSmith=X||!1,this.id=Z,this.gd=K,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var Q=K._fullLayout,re="clip"+Q._uid+Z;this.clipIds.forTraces=re+"-for-traces",this.clipPaths.forTraces=Q._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=Q["_"+(X?"smith":"polar")+"layer"].append("g").attr("class",Z),this.getHole=function(ae){return this.isSmith?0:ae.hole},this.getSector=function(ae){return this.isSmith?[0,360]:ae.sector},this.getRadial=function(ae){return this.isSmith?ae.realaxis:ae.radialaxis},this.getAngular=function(ae){return this.isSmith?ae.imaginaryaxis:ae.angularaxis},X||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=F.prototype;function j(K){var Z=K.ticks+String(K.ticklen)+String(K.showticklabels);return"side"in K&&(Z+=K.side),Z}function te(K,Z){return Z[T.findIndexOfMin(Z,function(X){return T.angleDist(K,X)})]}function J(K,Z,X){return Z?(K.attr("display",null),K.attr(X)):K&&K.attr("display","none"),K}ee.exports=function(K,Z,X){return new F(K,Z,X)},V.plot=function(K,Z){for(var X=this,Q=Z[X.id],re=!1,ae=0;ae<K.length;ae++)if(K[ae][0].trace.cliponaxis===!1){re=!0;break}X._hasClipOnAxisFalse=re,X.updateLayers(Z,Q),X.updateLayout(Z,Q),i.generalUpdatePerTraceModule(X.gd,X,K,Q),X.updateFx(Z,Q),X.isSmith&&(delete Q.realaxis.range,delete Q.imaginaryaxis.range)},V.updateLayers=function(K,Z){var X=this,Q=X.isSmith,re=X.layers,ae=X.getRadial(Z),ie=X.getAngular(Z),le=S.layerNames,pe=le.indexOf("frontplot"),de=le.slice(0,pe),ve=ie.layer==="below traces",be=ae.layer==="below traces";ve&&de.push("angular-line"),be&&de.push("radial-line"),ve&&de.push("angular-axis"),be&&de.push("radial-axis"),de.push("frontplot"),ve||de.push("angular-line"),be||de.push("radial-line"),ve||de.push("angular-axis"),be||de.push("radial-axis");var me=(Q?"smith":"polar")+"sublayer",ge=X.framework.selectAll("."+me).data(de,String);ge.enter().append("g").attr("class",function(ke){return me+" "+ke}).each(function(ke){var we=re[ke]=M.select(this);switch(ke){case"frontplot":Q||we.append("g").classed("barlayer",!0),we.append("g").classed("scatterlayer",!0);break;case"backplot":we.append("g").classed("maplayer",!0);break;case"plotbg":re.bg=we.append("path");break;case"radial-grid":case"angular-grid":we.style("fill","none");break;case"radial-line":we.append("line").style("fill","none");break;case"angular-line":we.append("path").style("fill","none")}}),ge.order()},V.updateLayout=function(K,Z){var X=this,Q=X.layers,re=K._size,ae=X.getRadial(Z),ie=X.getAngular(Z),le=Z.domain.x,pe=Z.domain.y;X.xOffset=re.l+re.w*le[0],X.yOffset=re.t+re.h*(1-pe[1]);var de=X.xLength=re.w*(le[1]-le[0]),ve=X.yLength=re.h*(pe[1]-pe[0]),be=X.getSector(Z);X.sectorInRad=be.map(N);var me,ge,ke,we,ue,oe=X.sectorBBox=function(it){var tt,pt=it[0],mt=it[1]-pt,gt=z(pt,360),et=gt+mt,$e=Math.cos(N(gt)),_t=Math.sin(N(gt)),Pt=Math.cos(N(et)),Ot=Math.sin(N(et));return tt=gt<=90&&et>=90||gt>90&&et>=450?1:_t<=0&&Ot<=0?0:Math.max(_t,Ot),[gt<=180&&et>=180||gt>180&&et>=540?-1:$e>=0&&Pt>=0?0:Math.min($e,Pt),gt<=270&&et>=270||gt>270&&et>=630?-1:_t>=0&&Ot>=0?0:Math.min(_t,Ot),et>=360?1:$e<=0&&Pt<=0?0:Math.max($e,Pt),tt]}(be),he=oe[2]-oe[0],Ee=oe[3]-oe[1],Te=ve/de,Me=Math.abs(Ee/he);Te>Me?(me=de,ue=(ve-(ge=de*Me))/re.h/2,ke=[le[0],le[1]],we=[pe[0]+ue,pe[1]-ue]):(ge=ve,ue=(de-(me=ve/Me))/re.w/2,ke=[le[0]+ue,le[1]-ue],we=[pe[0],pe[1]]),X.xLength2=me,X.yLength2=ge,X.xDomain2=ke,X.yDomain2=we;var Se,ze=X.xOffset2=re.l+re.w*ke[0],fe=X.yOffset2=re.t+re.h*(1-we[1]),xe=X.radius=me/he,_e=X.innerRadius=X.getHole(Z)*xe,Oe=X.cx=ze-xe*oe[0],De=X.cy=fe+xe*oe[3],Pe=X.cxx=Oe-ze,Ue=X.cyy=De-fe,Ve=ae.side;Ve==="counterclockwise"?(Se=Ve,Ve="top"):Ve==="clockwise"&&(Se=Ve,Ve="bottom"),X.radialAxis=X.mockAxis(K,Z,ae,{_id:"x",side:Ve,_trueSide:Se,domain:[_e/re.w,xe/re.w]}),X.angularAxis=X.mockAxis(K,Z,ie,{side:"right",domain:[0,Math.PI],autorange:!1}),X.doAutoRange(K,Z),X.updateAngularAxis(K,Z),X.updateRadialAxis(K,Z),X.updateRadialAxisTitle(K,Z),X.xaxis=X.mockCartesianAxis(K,Z,{_id:"x",domain:ke}),X.yaxis=X.mockCartesianAxis(K,Z,{_id:"y",domain:we});var Xe=X.pathSubplot();X.clipPaths.forTraces.select("path").attr("d",Xe).attr("transform",g(Pe,Ue)),Q.frontplot.attr("transform",g(ze,fe)).call(t.setClipUrl,X._hasClipOnAxisFalse?null:X.clipIds.forTraces,X.gd),Q.bg.attr("d",Xe).attr("transform",g(Oe,De)).call(s.fill,Z.bgcolor)},V.mockAxis=function(K,Z,X,Q){var re=T.extendFlat({},X,Q);return o(re,Z,K),re},V.mockCartesianAxis=function(K,Z,X){var Q=this,re=Q.isSmith,ae=X._id,ie=T.extendFlat({type:"linear"},X);n(ie,K);var le={x:[0,2],y:[1,3]};return ie.setRange=function(){var pe=Q.sectorBBox,de=le[ae],ve=Q.radialAxis._rl,be=(ve[1]-ve[0])/(1-Q.getHole(Z));ie.range=[pe[de[0]]*be,pe[de[1]]*be]},ie.isPtWithinRange=ae!=="x"||re?function(){return!0}:function(pe){return Q.isPtInside(pe)},ie.setRange(),ie.setScale(),ie},V.doAutoRange=function(K,Z){var X=this,Q=X.gd,re=X.radialAxis,ae=X.getRadial(Z);l(Q,re);var ie=re.range;if(ae.range=ie.slice(),ae._input.range=ie.slice(),re._rl=[re.r2l(ie[0],null,"gregorian"),re.r2l(ie[1],null,"gregorian")],re.minallowed!==void 0){var le=re.r2l(re.minallowed);re._rl[0]>re._rl[1]?re._rl[1]=Math.max(re._rl[1],le):re._rl[0]=Math.max(re._rl[0],le)}if(re.maxallowed!==void 0){var pe=re.r2l(re.maxallowed);re._rl[0]<re._rl[1]?re._rl[1]=Math.min(re._rl[1],pe):re._rl[0]=Math.min(re._rl[0],pe)}},V.updateRadialAxis=function(K,Z){var X=this,Q=X.gd,re=X.layers,ae=X.radius,ie=X.innerRadius,le=X.cx,pe=X.cy,de=X.getRadial(Z),ve=z(X.getSector(Z)[0],360),be=X.radialAxis,me=ie<ae,ge=X.isSmith;ge||(X.fillViewInitialKey("radialaxis.angle",de.angle),X.fillViewInitialKey("radialaxis.range",be.range.slice()),be.setGeometry()),be.tickangle==="auto"&&ve>90&&ve<=270&&(be.tickangle=180);var ke=ge?function(fe){var xe=R(X,C([fe.x,0]));return g(xe[0]-le,xe[1]-pe)}:function(fe){return g(be.l2p(fe.x)+ie,0)},we=ge?function(fe){return O(X,fe.x,-1/0,1/0)}:function(fe){return X.pathArc(be.r2p(fe.x)+ie)},ue=j(de);if(X.radialTickLayout!==ue&&(re["radial-axis"].selectAll(".xtick").remove(),X.radialTickLayout=ue),me){be.setScale();var oe=0,he=ge?(be.tickvals||[]).filter(function(fe){return fe>=0}).map(function(fe){return r.tickText(be,fe,!0,!1)}):r.calcTicks(be),Ee=ge?he:r.clipEnds(be,he),Te=r.getTickSigns(be)[2];ge&&((be.ticks==="top"&&be.side==="bottom"||be.ticks==="bottom"&&be.side==="top")&&(Te=-Te),be.ticks==="top"&&be.side==="top"&&(oe=-be.ticklen),be.ticks==="bottom"&&be.side==="bottom"&&(oe=be.ticklen)),r.drawTicks(Q,be,{vals:he,layer:re["radial-axis"],path:r.makeTickPath(be,0,Te),transFn:ke,crisp:!1}),r.drawGrid(Q,be,{vals:Ee,layer:re["radial-grid"],path:we,transFn:T.noop,crisp:!1}),r.drawLabels(Q,be,{vals:he,layer:re["radial-axis"],transFn:ke,labelFns:r.makeLabelFns(be,oe)})}var Me=X.radialAxisAngle=X.vangles?W(te(N(de.angle),X.vangles)):de.angle,Se=g(le,pe),ze=Se+b(-Me);J(re["radial-axis"],me&&(de.showticklabels||de.ticks),{transform:ze}),J(re["radial-grid"],me&&de.showgrid,{transform:ge?"":Se}),J(re["radial-line"].select("line"),me&&de.showline,{x1:ge?-ae:ie,y1:0,x2:ae,y2:0,transform:ze}).attr("stroke-width",de.linewidth).call(s.stroke,de.linecolor)},V.updateRadialAxisTitle=function(K,Z,X){if(!this.isSmith){var Q=this,re=Q.gd,ae=Q.radius,ie=Q.cx,le=Q.cy,pe=Q.getRadial(Z),de=Q.id+"title",ve=0;if(pe.title){var be=t.bBox(Q.layers["radial-axis"].node()).height,me=pe.title.font.size,ge=pe.side;ve=ge==="top"?me:ge==="counterclockwise"?-(be+.4*me):be+.8*me}var ke=X!==void 0?X:Q.radialAxisAngle,we=N(ke),ue=Math.cos(we),oe=Math.sin(we),he=ie+ae/2*ue+ve*oe,Ee=le-ae/2*oe+ve*ue;Q.layers["radial-axis-title"]=m.draw(re,de,{propContainer:pe,propName:Q.id+".radialaxis.title",placeholder:U(re,"Click to enter radial axis title"),attributes:{x:he,y:Ee,"text-anchor":"middle"},transform:{rotate:-ke}})}},V.updateAngularAxis=function(K,Z){var X=this,Q=X.gd,re=X.layers,ae=X.radius,ie=X.innerRadius,le=X.cx,pe=X.cy,de=X.getAngular(Z),ve=X.angularAxis,be=X.isSmith;be||(X.fillViewInitialKey("angularaxis.rotation",de.rotation),ve.setGeometry(),ve.setScale());var me=be?function(fe){var xe=R(X,C([0,fe.x]));return Math.atan2(xe[0]-le,xe[1]-pe)-Math.PI/2}:function(fe){return ve.t2g(fe.x)};ve.type==="linear"&&ve.thetaunit==="radians"&&(ve.tick0=W(ve.tick0),ve.dtick=W(ve.dtick));var ge=function(fe){return g(le+ae*Math.cos(fe),pe-ae*Math.sin(fe))},ke=be?function(fe){var xe=R(X,C([0,fe.x]));return g(xe[0],xe[1])}:function(fe){return ge(me(fe))},we=be?function(fe){var xe=R(X,C([0,fe.x])),_e=Math.atan2(xe[0]-le,xe[1]-pe)-Math.PI/2;return g(xe[0],xe[1])+b(-W(_e))}:function(fe){var xe=me(fe);return ge(xe)+b(-W(xe))},ue=be?function(fe){return P(X,fe.x,0,1/0)}:function(fe){var xe=me(fe),_e=Math.cos(xe),Oe=Math.sin(xe);return"M"+[le+ie*_e,pe-ie*Oe]+"L"+[le+ae*_e,pe-ae*Oe]},oe=r.makeLabelFns(ve,0).labelStandoff,he={xFn:function(fe){var xe=me(fe);return Math.cos(xe)*oe},yFn:function(fe){var xe=me(fe),_e=Math.sin(xe)>0?.2:1;return-Math.sin(xe)*(oe+fe.fontSize*_e)+Math.abs(Math.cos(xe))*(fe.fontSize*h)},anchorFn:function(fe){var xe=me(fe),_e=Math.cos(xe);return Math.abs(_e)<.1?"middle":_e>0?"start":"end"},heightFn:function(fe,xe,_e){var Oe=me(fe);return-.5*(1+Math.sin(Oe))*_e}},Ee=j(de);X.angularTickLayout!==Ee&&(re["angular-axis"].selectAll("."+ve._id+"tick").remove(),X.angularTickLayout=Ee);var Te,Me=be?[1/0].concat(ve.tickvals||[]).map(function(fe){return r.tickText(ve,fe,!0,!1)}):r.calcTicks(ve);if(be&&(Me[0].text="",Me[0].fontSize*=1.75),Z.gridshape==="linear"?(Te=Me.map(me),T.angleDelta(Te[0],Te[1])<0&&(Te=Te.slice().reverse())):Te=null,X.vangles=Te,ve.type==="category"&&(Me=Me.filter(function(fe){return T.isAngleInsideSector(me(fe),X.sectorInRad)})),ve.visible){var Se=ve.ticks==="inside"?-1:1,ze=(ve.linewidth||1)/2;r.drawTicks(Q,ve,{vals:Me,layer:re["angular-axis"],path:"M"+Se*ze+",0h"+Se*ve.ticklen,transFn:we,crisp:!1}),r.drawGrid(Q,ve,{vals:Me,layer:re["angular-grid"],path:ue,transFn:T.noop,crisp:!1}),r.drawLabels(Q,ve,{vals:Me,layer:re["angular-axis"],repositionOnUpdate:!0,transFn:ke,labelFns:he})}J(re["angular-line"].select("path"),de.showline,{d:X.pathSubplot(),transform:g(le,pe)}).attr("stroke-width",de.linewidth).call(s.stroke,de.linecolor)},V.updateFx=function(K,Z){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(K),this.updateRadialDrag(K,Z,0),this.updateRadialDrag(K,Z,1)),this.updateHoverAndMainDrag(K))},V.updateHoverAndMainDrag=function(K){var Z,X,Q=this,re=Q.isSmith,ae=Q.gd,ie=Q.layers,le=K._zoomlayer,pe=S.MINZOOM,de=S.OFFEDGE,ve=Q.radius,be=Q.innerRadius,me=Q.cx,ge=Q.cy,ke=Q.cxx,we=Q.cyy,ue=Q.sectorInRad,oe=Q.vangles,he=Q.radialAxis,Ee=w.clampTiny,Te=w.findXYatLength,Me=w.findEnclosingVertexAngles,Se=S.cornerHalfWidth,ze=S.cornerLen/2,fe=u.makeDragger(ie,"path","maindrag",K.dragmode===!1?"none":"crosshair");M.select(fe).attr("d",Q.pathSubplot()).attr("transform",g(me,ge)),fe.onmousemove=function(nt){c.hover(ae,nt,Q.id),ae._fullLayout._lasthover=fe,ae._fullLayout._hoversubplot=Q.id},fe.onmouseout=function(nt){ae._dragging||d.unhover(ae,nt)};var xe,_e,Oe,De,Pe,Ue,Ve,Xe,it,tt={element:fe,gd:ae,subplot:Q.id,plotinfo:{id:Q.id,xaxis:Q.xaxis,yaxis:Q.yaxis},xaxes:[Q.xaxis],yaxes:[Q.yaxis]};function pt(nt,Re){return Math.sqrt(nt*nt+Re*Re)}function mt(nt,Re){return pt(nt-ke,Re-we)}function gt(nt,Re){return Math.atan2(we-Re,nt-ke)}function et(nt,Re){return[nt*Math.cos(Re),nt*Math.sin(-Re)]}function $e(nt,Re){if(nt===0)return Q.pathSector(2*Se);var Fe=ze/nt,rt=Re-Fe,Ye=Re+Fe,ct=Math.max(0,Math.min(nt,ve)),ht=ct-Se,dt=ct+Se;return"M"+et(ht,rt)+"A"+[ht,ht]+" 0,0,0 "+et(ht,Ye)+"L"+et(dt,Ye)+"A"+[dt,dt]+" 0,0,1 "+et(dt,rt)+"Z"}function _t(nt,Re,Fe){if(nt===0)return Q.pathSector(2*Se);var rt,Ye,ct=et(nt,Re),ht=et(nt,Fe),dt=Ee((ct[0]+ht[0])/2),ut=Ee((ct[1]+ht[1])/2);if(dt&&ut){var kt=ut/dt,xt=-1/kt,vt=Te(Se,kt,dt,ut);rt=Te(ze,xt,vt[0][0],vt[0][1]),Ye=Te(ze,xt,vt[1][0],vt[1][1])}else{var Mt,St;ut?(Mt=ze,St=Se):(Mt=Se,St=ze),rt=[[dt-Mt,ut-St],[dt+Mt,ut-St]],Ye=[[dt-Mt,ut+St],[dt+Mt,ut+St]]}return"M"+rt.join("L")+"L"+Ye.reverse().join("L")+"Z"}function Pt(nt,Re){return Re=Math.max(Math.min(Re,ve),be),nt<de?nt=0:ve-nt<de?nt=ve:Re<de?Re=0:ve-Re<de&&(Re=ve),Math.abs(Re-nt)>pe?(nt<Re?(Oe=nt,De=Re):(Oe=Re,De=nt),!0):(Oe=null,De=null,!1)}function Ot(nt,Re){nt=nt||Pe,Re=Re||"M0,0Z",Xe.attr("d",nt),it.attr("d",Re),u.transitionZoombox(Xe,it,Ue,Ve),Ue=!0;var Fe={};Ge(Fe),ae.emit("plotly_relayouting",Fe)}function Lt(nt,Re){var Fe,rt,Ye=xe+(nt*=Z),ct=_e+(Re*=X),ht=mt(xe,_e),dt=Math.min(mt(Ye,ct),ve),ut=gt(xe,_e);Pt(ht,dt)&&(Fe=Pe+Q.pathSector(De),Oe&&(Fe+=Q.pathSector(Oe)),rt=$e(Oe,ut)+$e(De,ut)),Ot(Fe,rt)}function He(nt,Re,Fe,rt){var Ye=w.findIntersectionXY(Fe,rt,Fe,[nt-ke,we-Re]);return pt(Ye[0],Ye[1])}function We(nt,Re){var Fe,rt,Ye=xe+nt,ct=_e+Re,ht=gt(xe,_e),dt=gt(Ye,ct),ut=Me(ht,oe),kt=Me(dt,oe);Pt(He(xe,_e,ut[0],ut[1]),Math.min(He(Ye,ct,kt[0],kt[1]),ve))&&(Fe=Pe+Q.pathSector(De),Oe&&(Fe+=Q.pathSector(Oe)),rt=[_t(Oe,ut[0],ut[1]),_t(De,ut[0],ut[1])].join(" ")),Ot(Fe,rt)}function Be(){if(u.removeZoombox(ae),Oe!==null&&De!==null){var nt={};Ge(nt),u.showDoubleClickNotifier(ae),a.call("_guiRelayout",ae,nt)}}function Ge(nt){var Re=he._rl,Fe=(Re[1]-Re[0])/(1-be/ve)/ve,rt=[Re[0]+(Oe-be)*Fe,Re[0]+(De-be)*Fe];nt[Q.id+".radialaxis.range"]=rt}function at(nt,Re){var Fe=ae._fullLayout.clickmode;if(u.removeZoombox(ae),nt===2){var rt={};for(var Ye in Q.viewInitial)rt[Q.id+"."+Ye]=Q.viewInitial[Ye];ae.emit("plotly_doubleclick",null),a.call("_guiRelayout",ae,rt)}Fe.indexOf("select")>-1&&nt===1&&p(Re,ae,[Q.xaxis],[Q.yaxis],Q.id,tt),Fe.indexOf("event")>-1&&c.click(ae,Re,Q.id)}tt.prepFn=function(nt,Re,Fe){var rt=ae._fullLayout.dragmode,Ye=fe.getBoundingClientRect();ae._fullLayout._calcInverseTransform(ae);var ct=ae._fullLayout._invTransform;Z=ae._fullLayout._invScaleX,X=ae._fullLayout._invScaleY;var ht=T.apply3DTransform(ct)(Re-Ye.left,Fe-Ye.top);if(xe=ht[0],_e=ht[1],oe){var dt=w.findPolygonOffset(ve,ue[0],ue[1],oe);xe+=ke+dt[0],_e+=we+dt[1]}switch(rt){case"zoom":tt.clickFn=at,re||(tt.moveFn=oe?We:Lt,tt.doneFn=Be,function(){Oe=null,De=null,Pe=Q.pathSubplot(),Ue=!1;var ut=ae._fullLayout[Q.id];Ve=k(ut.bgcolor).getLuminance(),(Xe=u.makeZoombox(le,Ve,me,ge,Pe)).attr("fill-rule","evenodd"),it=u.makeCorners(le,me,ge),v(ae)}());break;case"select":case"lasso":f(nt,Re,Fe,tt,rt)}},d.init(tt)},V.updateRadialDrag=function(K,Z,X){var Q=this,re=Q.gd,ae=Q.layers,ie=Q.radius,le=Q.innerRadius,pe=Q.cx,de=Q.cy,ve=Q.radialAxis,be=S.radialDragBoxSize,me=be/2;if(ve.visible){var ge,ke,we,ue=N(Q.radialAxisAngle),oe=ve._rl,he=oe[0],Ee=oe[1],Te=oe[X],Me=.75*(oe[1]-oe[0])/(1-Q.getHole(Z))/ie;X?(ge=pe+(ie+me)*Math.cos(ue),ke=de-(ie+me)*Math.sin(ue),we="radialdrag"):(ge=pe+(le-me)*Math.cos(ue),ke=de-(le-me)*Math.sin(ue),we="radialdrag-inner");var Se,ze,fe,xe=u.makeRectDragger(ae,we,"crosshair",-me,-me,be,be),_e={element:xe,gd:re};K.dragmode===!1&&(_e.dragmode=!1),J(M.select(xe),ve.visible&&le<ie,{transform:g(ge,ke)}),_e.prepFn=function(){Se=null,ze=null,fe=null,_e.moveFn=Oe,_e.doneFn=De,v(re)},_e.clampFn=function(Ve,Xe){return Math.sqrt(Ve*Ve+Xe*Xe)<S.MINDRAG&&(Ve=0,Xe=0),[Ve,Xe]},d.init(_e)}function Oe(Ve,Xe){if(Se)Se(Ve,Xe);else{var it=[Ve,-Xe],tt=[Math.cos(ue),Math.sin(ue)],pt=Math.abs(T.dot(it,tt)/Math.sqrt(T.dot(it,it)));isNaN(pt)||(Se=pt<.5?Pe:Ue)}var mt={};(function(gt){ze!==null?gt[Q.id+".radialaxis.angle"]=ze:fe!==null&&(gt[Q.id+".radialaxis.range["+X+"]"]=fe)})(mt),re.emit("plotly_relayouting",mt)}function De(){ze!==null?a.call("_guiRelayout",re,Q.id+".radialaxis.angle",ze):fe!==null&&a.call("_guiRelayout",re,Q.id+".radialaxis.range["+X+"]",fe)}function Pe(Ve,Xe){if(X!==0){var it=ge+Ve,tt=ke+Xe;ze=Math.atan2(de-tt,it-pe),Q.vangles&&(ze=te(ze,Q.vangles)),ze=W(ze);var pt=g(pe,de)+b(-ze);ae["radial-axis"].attr("transform",pt),ae["radial-line"].select("line").attr("transform",pt);var mt=Q.gd._fullLayout,gt=mt[Q.id];Q.updateRadialAxisTitle(mt,gt,ze)}}function Ue(Ve,Xe){var it=T.dot([Ve,-Xe],[Math.cos(ue),Math.sin(ue)]);if(fe=Te-Me*it,Me>0==(X?fe>he:fe<Ee)){var tt=re._fullLayout,pt=tt[Q.id];ve.range[X]=fe,ve._rl[X]=fe,Q.updateRadialAxis(tt,pt),Q.xaxis.setRange(),Q.xaxis.setScale(),Q.yaxis.setRange(),Q.yaxis.setScale();var mt=!1;for(var gt in Q.traceHash){var et=Q.traceHash[gt],$e=T.filterVisible(et);et[0][0].trace._module.plot(re,Q,$e,pt),a.traceIs(gt,"gl")&&$e.length&&(mt=!0)}mt&&(x(re),_(re))}else fe=null}},V.updateAngularDrag=function(K){var Z=this,X=Z.gd,Q=Z.layers,re=Z.radius,ae=Z.angularAxis,ie=Z.cx,le=Z.cy,pe=Z.cxx,de=Z.cyy,ve=S.angularDragBoxSize,be=u.makeDragger(Q,"path","angulardrag",K.dragmode===!1?"none":"move"),me={element:be,gd:X};function ge(_e,Oe){return Math.atan2(de+ve-Oe,_e-pe-ve)}K.dragmode===!1?me.dragmode=!1:M.select(be).attr("d",Z.pathAnnulus(re,re+ve)).attr("transform",g(ie,le)).call(y,"move");var ke,we,ue,oe,he,Ee,Te=Q.frontplot.select(".scatterlayer").selectAll(".trace"),Me=Te.selectAll(".point"),Se=Te.selectAll(".textpoint");function ze(_e,Oe){var De=Z.gd._fullLayout,Pe=De[Z.id],Ue=ge(ke+_e*K._invScaleX,we+Oe*K._invScaleY),Ve=W(Ue-Ee);if(oe=ue+Ve,Q.frontplot.attr("transform",g(Z.xOffset2,Z.yOffset2)+b([-Ve,pe,de])),Z.vangles){he=Z.radialAxisAngle+Ve;var Xe=g(ie,le)+b(-Ve),it=g(ie,le)+b(-he);Q.bg.attr("transform",Xe),Q["radial-grid"].attr("transform",Xe),Q["radial-axis"].attr("transform",it),Q["radial-line"].select("line").attr("transform",it),Z.updateRadialAxisTitle(De,Pe,he)}else Z.clipPaths.forTraces.select("path").attr("transform",g(pe,de)+b(Ve));Me.each(function(){var $e=M.select(this),_t=t.getTranslate($e);$e.attr("transform",g(_t.x,_t.y)+b([Ve]))}),Se.each(function(){var $e=M.select(this),_t=$e.select("text"),Pt=t.getTranslate($e);$e.attr("transform",b([Ve,_t.attr("x"),_t.attr("y")])+g(Pt.x,Pt.y))}),ae.rotation=T.modHalf(oe,360),Z.updateAngularAxis(De,Pe),Z._hasClipOnAxisFalse&&!T.isFullCircle(Z.sectorInRad)&&Te.call(t.hideOutsideRangePoints,Z);var tt=!1;for(var pt in Z.traceHash)if(a.traceIs(pt,"gl")){var mt=Z.traceHash[pt],gt=T.filterVisible(mt);mt[0][0].trace._module.plot(X,Z,gt,Pe),gt.length&&(tt=!0)}tt&&(x(X),_(X));var et={};fe(et),X.emit("plotly_relayouting",et)}function fe(_e){_e[Z.id+".angularaxis.rotation"]=oe,Z.vangles&&(_e[Z.id+".radialaxis.angle"]=he)}function xe(){Se.select("text").attr("transform",null);var _e={};fe(_e),a.call("_guiRelayout",X,_e)}me.prepFn=function(_e,Oe,De){var Pe=K[Z.id];ue=Pe.angularaxis.rotation;var Ue=be.getBoundingClientRect();ke=Oe-Ue.left,we=De-Ue.top,X._fullLayout._calcInverseTransform(X);var Ve=T.apply3DTransform(K._invTransform)(ke,we);ke=Ve[0],we=Ve[1],Ee=ge(ke,we),me.moveFn=ze,me.doneFn=xe,v(X)},Z.vangles&&!T.isFullCircle(Z.sectorInRad)&&(me.prepFn=T.noop,y(M.select(be),null)),d.init(me)},V.isPtInside=function(K){if(this.isSmith)return!0;var Z=this.sectorInRad,X=this.vangles,Q=this.angularAxis.c2g(K.theta),re=this.radialAxis,ae=re.c2l(K.r),ie=re._rl;return(X?w.isPtInsidePolygon:T.isPtInsideSector)(ae,Q,ie,Z,X)},V.pathArc=function(K){var Z=this.sectorInRad,X=this.vangles;return(X?w.pathPolygon:T.pathArc)(K,Z[0],Z[1],X)},V.pathSector=function(K){var Z=this.sectorInRad,X=this.vangles;return(X?w.pathPolygon:T.pathSector)(K,Z[0],Z[1],X)},V.pathAnnulus=function(K,Z){var X=this.sectorInRad,Q=this.vangles;return(Q?w.pathPolygonAnnulus:T.pathAnnulus)(K,Z,X[0],X[1],Q)},V.pathSubplot=function(){var K=this.innerRadius,Z=this.radius;return K?this.pathAnnulus(K,Z):this.pathSector(Z)},V.fillViewInitialKey=function(K,Z){K in this.viewInitial||(this.viewInitial[K]=Z)}},57696:function(ee,D,e){var M=e(3400),k=e(78344),a=M.deg2rad,T=M.rad2deg;ee.exports=function(b,g,s){switch(k(b,s),b._id){case"x":case"radialaxis":(function(t,i){var r=i._subplot;t.setGeometry=function(){var n=t._rl[0],o=t._rl[1],l=r.innerRadius,u=(r.radius-l)/(o-n),d=l/u,c=n>o?function(m){return m<=0}:function(m){return m>=0};t.c2g=function(m){var f=t.c2l(m)-n;return(c(f)?f:0)+d},t.g2c=function(m){return t.l2c(m+n-d)},t.g2p=function(m){return m*u},t.c2p=function(m){return t.g2p(t.c2g(m))}}})(b,g);break;case"angularaxis":(function(t,i){var r=t.type;if(r==="linear"){var n=t.d2c,o=t.c2d;t.d2c=function(l,u){return function(d,c){return c==="degrees"?a(d):d}(n(l),u)},t.c2d=function(l,u){return o(function(d,c){return c==="degrees"?T(d):d}(l,u))}}t.makeCalcdata=function(l,u){var d,c,m=l[u],f=l._length,p=function(h){return t.d2c(h,l.thetaunit)};if(m)for(d=new Array(f),c=0;c<f;c++)d[c]=p(m[c]);else{var v=u+"0",y="d"+u,x=v in l?p(l[v]):0,_=l[y]?p(l[y]):(t.period||2*Math.PI)/f;for(d=new Array(f),c=0;c<f;c++)d[c]=x+c*_}return d},t.setGeometry=function(){var l,u,d,c,m=i.sector,f=m.map(a),p={clockwise:-1,counterclockwise:1}[t.direction],v=a(t.rotation),y=function(S){return p*S+v},x=function(S){return(S-v)/p};switch(r){case"linear":u=l=M.identity,c=a,d=T,t.range=M.isFullCircle(f)?[m[0],m[0]+360]:f.map(x).map(T);break;case"category":var _=t._categories.length,h=t.period?Math.max(t.period,_):_;h===0&&(h=1),u=c=function(S){return 2*S*Math.PI/h},l=d=function(S){return S*h/Math.PI/2},t.range=[0,h]}t.c2g=function(S){return y(u(S))},t.g2c=function(S){return l(x(S))},t.t2g=function(S){return y(c(S))},t.g2t=function(S){return d(x(S))}}})(b,g)}}},55012:function(ee){ee.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(ee){function D(a){return a<0?-1:a>0?1:0}function e(a){var T=a[0],b=a[1];if(!isFinite(T)||!isFinite(b))return[1,0];var g=(T+1)*(T+1)+b*b;return[(T*T+b*b-1)/g,2*b/g]}function M(a,T){var b=T[0],g=T[1];return[b*a.radius+a.cx,-g*a.radius+a.cy]}function k(a,T){return T*a.radius}ee.exports={smith:e,reactanceArc:function(a,T,b,g){var s=M(a,e([b,T])),t=s[0],i=s[1],r=M(a,e([g,T])),n=r[0],o=r[1];if(T===0)return["M"+t+","+i,"L"+n+","+o].join(" ");var l=k(a,1/Math.abs(T));return["M"+t+","+i,"A"+l+","+l+" 0 0,"+(T<0?1:0)+" "+n+","+o].join(" ")},resistanceArc:function(a,T,b,g){var s=k(a,1/(T+1)),t=M(a,e([T,b])),i=t[0],r=t[1],n=M(a,e([T,g])),o=n[0],l=n[1];if(D(b)!==D(g)){var u=M(a,e([T,0]));return["M"+i+","+r,"A"+s+","+s+" 0 0,"+(0<b?0:1)+" "+u[0]+","+u[1],"A"+s+","+s+" 0 0,"+(g<0?0:1)+o+","+l].join(" ")}return["M"+i+","+r,"A"+s+","+s+" 0 0,"+(g<b?0:1)+" "+o+","+l].join(" ")},smithTransform:M}},47788:function(ee,D,e){var M=e(84888).KY,k=e(3400).counterRegex,a=e(62400),T=e(55012),b=T.attr,g=T.name,s=k(g),t={};t[b]={valType:"subplotid",dflt:g,editType:"calc"},ee.exports={attr:b,name:g,idRoot:g,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:function(i){for(var r=i._fullLayout,n=i.calcdata,o=r._subplots[g],l=0;l<o.length;l++){var u=o[l],d=M(n,g,u),c=r[u]._subplot;c||(c=a(i,u,!0),r[u]._subplot=c),c.plot(d,r,i._promises)}},clean:function(i,r,n,o){for(var l=o._subplots[g]||[],u=0;u<l.length;u++){var d=l[u],c=o[d]._subplot;if(!r[d]&&c)for(var m in c.framework.remove(),c.clipPaths)c.clipPaths[m].remove()}},toSVG:e(57952).toSVG}},6183:function(ee,D,e){var M=e(22548),k=e(94724),a=e(86968).u,T=e(3400).extendFlat,b=e(67824).overrideAll,g=b({color:k.color,showline:T({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:T({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),s=b({ticklen:k.ticklen,tickwidth:T({},k.tickwidth,{dflt:2}),tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,tickfont:k.tickfont,tickformat:k.tickformat,hoverformat:k.hoverformat,layer:k.layer},"plot","from-root"),t=T({visible:T({},k.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:T({},k.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},g,s),i=T({visible:T({},k.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:k.ticks,editType:"calc"},g,s);ee.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:M.background},realaxis:t,imaginaryaxis:i,editType:"calc"}},22836:function(ee,D,e){var M,k,a,T=e(3400),b=e(76308),g=e(31780),s=e(168),t=e(84888).op,i=e(42568),r=e(95936),n=e(42136),o=e(78344),l=e(6183),u=e(55012),d=u.axisNames,c=(M=function(f){return T.isTypedArray(f)&&(f=Array.from(f)),f.slice().reverse().map(function(p){return-p}).concat([0]).concat(f)},k=String,a={},function(f){var p=k?k(f):f;if(p in a)return a[p];var v=M(f);return a[p]=v,v});function m(f,p,v,y){var x=v("bgcolor");y.bgColor=b.combine(x,y.paper_bgcolor);var _,h=t(y.fullData,u.name,y.id),S=y.layoutOut;function w(V,j){return v(_+"."+V,j)}for(var E=0;E<d.length;E++){_=d[E],T.isPlainObject(f[_])||(f[_]={});var C=f[_],P=g.newContainer(p,_);P._id=P._name=_,P._attr=y.id+"."+_,P._traceIndices=h.map(function(V){return V._expandedIndex});var O=w("visible");if(P.type="linear",o(P,S),i(C,P,w,P.type),O){var R,U,z,N,W=_==="realaxis";W&&w("side"),W?w("tickvals"):w("tickvals",c(p.realaxis.tickvals||l.realaxis.tickvals.dflt)),T.isTypedArray(P.tickvals)&&(P.tickvals=Array.from(P.tickvals));var F=y.font||{};O&&(U=(R=w("color"))===C.color?R:F.color,z=F.size,N=F.family),r(C,P,w,P.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!W,noExp:!0,font:{color:U,size:z,family:N}}),T.coerce2(f,p,l,_+".ticklen"),T.coerce2(f,p,l,_+".tickwidth"),T.coerce2(f,p,l,_+".tickcolor",p.color),w("ticks")||(delete p[_].ticklen,delete p[_].tickwidth,delete p[_].tickcolor),n(C,P,w,{dfltColor:R,bgColor:y.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[_]}),w("layer")}w("hoverformat"),delete P.type,P._input=C}}ee.exports=function(f,p,v){s(f,p,v,{noUirevision:!0,type:u.name,attributes:l,handleDefaults:m,font:p.font,paper_bgcolor:p.paper_bgcolor,fullData:v,layoutOut:p})}},168:function(ee,D,e){var M=e(3400),k=e(31780),a=e(86968).Q;ee.exports=function(T,b,g,s){var t,i,r=s.type,n=s.attributes,o=s.handleDefaults,l=s.partition||"x",u=b._subplots[r],d=u.length,c=d&&u[0].replace(/\d+$/,"");function m(y,x){return M.coerce(t,i,n,y,x)}for(var f=0;f<d;f++){var p=u[f];t=T[p]?T[p]:T[p]={},i=k.newContainer(b,p,c),s.noUirevision||m("uirevision",b.uirevision);var v={};v[l]=[f/d,(f+1)/d],a(i,b,m,v),s.id=p,o(t,i,m,s)}}},21776:function(ee,D,e){var M=e(26880);function k(a){var T=a.description?" "+a.description:"",b=a.keys||[];if(b.length>0){for(var g=[],s=0;s<b.length;s++)g[s]="`"+b[s]+"`";T+="Finally, the template string has access to ",T=b.length===1?T+"variable "+g[0]:T+"variables "+g.slice(0,-1).join(", ")+" and "+g.slice(-1)+"."}return T}M.FORMAT_LINK,M.DATE_FORMAT_LINK,D.Ks=function(a,T){a=a||{},k(T=T||{});var b={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(b.arrayOk=!0),b},D.Gw=function(a,T){a=a||{},k(T=T||{});var b={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(b.arrayOk=!0),b},D.ye=function(a,T){return T=T||{},(a=a||{}).newshape,k(T),{valType:"string",dflt:"",editType:a.editType||"arraydraw"}}},19352:function(ee,D,e){var M=e(24696),k=e(84888).KY,a=e(3400).counterRegex,T="ternary";D.name=T;var b=D.attr="subplot";D.idRoot=T,D.idRegex=D.attrRegex=a(T),(D.attributes={})[b]={valType:"subplotid",dflt:"ternary",editType:"calc"},D.layoutAttributes=e(86379),D.supplyLayoutDefaults=e(38536),D.plot=function(g){for(var s=g._fullLayout,t=g.calcdata,i=s._subplots[T],r=0;r<i.length;r++){var n=i[r],o=k(t,T,n),l=s[n]._subplot;l||(l=new M({id:n,graphDiv:g,container:s._ternarylayer.node()},s),s[n]._subplot=l),l.plot(o,s,g._promises)}},D.clean=function(g,s,t,i){for(var r=i._subplots[T]||[],n=0;n<r.length;n++){var o=r[n],l=i[o]._subplot;!s[o]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(ee,D,e){var M=e(22548),k=e(86968).u,a=e(94724),T=e(67824).overrideAll,b=e(92880).extendFlat,g={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:b({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:b({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:b({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},s=ee.exports=T({domain:k({name:"ternary"}),bgcolor:{valType:"color",dflt:M.background},sum:{valType:"number",dflt:1,min:0},aaxis:g,baxis:g,caxis:g},"plot","from-root");s.uirevision={valType:"any",editType:"none"},s.aaxis.uirevision=s.baxis.uirevision=s.caxis.uirevision={valType:"any",editType:"none"}},38536:function(ee,D,e){var M=e(76308),k=e(31780),a=e(3400),T=e(168),b=e(95936),g=e(42568),s=e(25404),t=e(26332),i=e(42136),r=e(86379),n=["aaxis","baxis","caxis"];function o(u,d,c,m){var f,p,v,y=c("bgcolor"),x=c("sum");m.bgColor=M.combine(y,m.paper_bgcolor);for(var _=0;_<n.length;_++)p=u[f=n[_]]||{},(v=k.newContainer(d,f))._name=f,l(p,v,m,d);var h=d.aaxis,S=d.baxis,w=d.caxis;h.min+S.min+w.min>=x&&(h.min=0,S.min=0,w.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function l(u,d,c,m){var f=r[d._name];function p(S,w){return a.coerce(u,d,f,S,w)}p("uirevision",m.uirevision),d.type="linear";var v=p("color"),y=v!==f.color.dflt?v:c.font.color,x=d._name.charAt(0).toUpperCase(),_="Component "+x,h=p("title.text",_);d._hovertitle=h===_?h:x,a.coerceFont(p,"title.font",{family:c.font.family,size:a.bigFont(c.font.size),color:y}),p("min"),t(u,d,p,"linear"),g(u,d,p,"linear"),b(u,d,p,"linear",{noAutotickangles:!0}),s(u,d,p,{outerTicks:!0}),p("showticklabels")&&(a.coerceFont(p,"tickfont",{family:c.font.family,size:c.font.size,color:y}),p("tickangle"),p("tickformat")),i(u,d,p,{dfltColor:v,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f}),p("hoverformat"),p("layer")}ee.exports=function(u,d,c){T(u,d,c,{type:"ternary",attributes:r,handleDefaults:o,font:d.font,paper_bgcolor:d.paper_bgcolor})}},24696:function(ee,D,e){var M=e(33428),k=e(49760),a=e(24040),T=e(3400),b=T.strTranslate,g=T._,s=e(76308),t=e(43616),i=e(78344),r=e(92880).extendFlat,n=e(7316),o=e(54460),l=e(86476),u=e(93024),d=e(72760),c=d.freeMode,m=d.rectMode,f=e(81668),p=e(22676).prepSelect,v=e(22676).selectOnClick,y=e(22676).clearOutline,x=e(22676).clearSelectionsCache,_=e(33816);function h(z,N){this.id=z.id,this.graphDiv=z.graphDiv,this.init(N),this.makeFramework(N),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}ee.exports=h;var S=h.prototype;S.init=function(z){this.container=z._ternarylayer,this.defs=z._defs,this.layoutId=z._uid,this.traceHash={},this.layers={}},S.plot=function(z,N){var W=this,F=N[W.id],V=N._size;W._hasClipOnAxisFalse=!1;for(var j=0;j<z.length;j++)if(z[j][0].trace.cliponaxis===!1){W._hasClipOnAxisFalse=!0;break}W.updateLayers(F),W.adjustLayout(F,V),n.generalUpdatePerTraceModule(W.graphDiv,W,z,F),W.layers.plotbg.select("path").call(s.fill,F.bgcolor)},S.makeFramework=function(z){var N=this,W=N.graphDiv,F=z[N.id],V=N.clipId="clip"+N.layoutId+N.id,j=N.clipIdRelative="clip-relative"+N.layoutId+N.id;N.clipDef=T.ensureSingleById(z._clips,"clipPath",V,function(te){te.append("path").attr("d","M0,0Z")}),N.clipDefRelative=T.ensureSingleById(z._clips,"clipPath",j,function(te){te.append("path").attr("d","M0,0Z")}),N.plotContainer=T.ensureSingle(N.container,"g",N.id),N.updateLayers(F),t.setClipUrl(N.layers.backplot,V,W),t.setClipUrl(N.layers.grids,V,W)},S.updateLayers=function(z){var N=this.layers,W=["draglayer","plotbg","backplot","grids"];z.aaxis.layer==="below traces"&&W.push("aaxis","aline"),z.baxis.layer==="below traces"&&W.push("baxis","bline"),z.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),z.aaxis.layer==="above traces"&&W.push("aaxis","aline"),z.baxis.layer==="above traces"&&W.push("baxis","bline"),z.caxis.layer==="above traces"&&W.push("caxis","cline");var F=this.plotContainer.selectAll("g.toplevel").data(W,String),V=["agrid","bgrid","cgrid"];F.enter().append("g").attr("class",function(j){return"toplevel "+j}).each(function(j){var te=M.select(this);N[j]=te,j==="frontplot"?te.append("g").classed("scatterlayer",!0):j==="backplot"?te.append("g").classed("maplayer",!0):j==="plotbg"?te.append("path").attr("d","M0,0Z"):j==="aline"||j==="bline"||j==="cline"?te.append("path"):j==="grids"&&V.forEach(function(J){N[J]=te.append("g").classed("grid "+J,!0)})}),F.order()};var w=Math.sqrt(4/3);S.adjustLayout=function(z,N){var W,F,V,j,te,J,K=this,Z=z.domain,X=(Z.x[0]+Z.x[1])/2,Q=(Z.y[0]+Z.y[1])/2,re=Z.x[1]-Z.x[0],ae=Z.y[1]-Z.y[0],ie=re*N.w,le=ae*N.h,pe=z.sum,de=z.aaxis.min,ve=z.baxis.min,be=z.caxis.min;ie>w*le?V=(j=le)*w:j=(V=ie)/w,te=re*V/ie,J=ae*j/le,W=N.l+N.w*X-V/2,F=N.t+N.h*(1-Q)-j/2,K.x0=W,K.y0=F,K.w=V,K.h=j,K.sum=pe,K.xaxis={type:"linear",range:[de+2*be-pe,pe-de-2*ve],domain:[X-te/2,X+te/2],_id:"x"},i(K.xaxis,K.graphDiv._fullLayout),K.xaxis.setScale(),K.xaxis.isPtWithinRange=function(Se){return Se.a>=K.aaxis.range[0]&&Se.a<=K.aaxis.range[1]&&Se.b>=K.baxis.range[1]&&Se.b<=K.baxis.range[0]&&Se.c>=K.caxis.range[1]&&Se.c<=K.caxis.range[0]},K.yaxis={type:"linear",range:[de,pe-ve-be],domain:[Q-J/2,Q+J/2],_id:"y"},i(K.yaxis,K.graphDiv._fullLayout),K.yaxis.setScale(),K.yaxis.isPtWithinRange=function(){return!0};var me=K.yaxis.domain[0],ge=K.aaxis=r({},z.aaxis,{range:[de,pe-ve-be],side:"left",tickangle:(+z.aaxis.tickangle||0)-30,domain:[me,me+J*w],anchor:"free",position:0,_id:"y",_length:V});i(ge,K.graphDiv._fullLayout),ge.setScale();var ke=K.baxis=r({},z.baxis,{range:[pe-de-be,ve],side:"bottom",domain:K.xaxis.domain,anchor:"free",position:0,_id:"x",_length:V});i(ke,K.graphDiv._fullLayout),ke.setScale();var we=K.caxis=r({},z.caxis,{range:[pe-de-ve,be],side:"right",tickangle:(+z.caxis.tickangle||0)+30,domain:[me,me+J*w],anchor:"free",position:0,_id:"y",_length:V});i(we,K.graphDiv._fullLayout),we.setScale();var ue="M"+W+","+(F+j)+"h"+V+"l-"+V/2+",-"+j+"Z";K.clipDef.select("path").attr("d",ue),K.layers.plotbg.select("path").attr("d",ue);var oe="M0,"+j+"h"+V+"l-"+V/2+",-"+j+"Z";K.clipDefRelative.select("path").attr("d",oe);var he=b(W,F);K.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",he),K.clipDefRelative.select("path").attr("transform",null);var Ee=b(W-ke._offset,F+j);K.layers.baxis.attr("transform",Ee),K.layers.bgrid.attr("transform",Ee);var Te=b(W+V/2,F)+"rotate(30)"+b(0,-ge._offset);K.layers.aaxis.attr("transform",Te),K.layers.agrid.attr("transform",Te);var Me=b(W+V/2,F)+"rotate(-30)"+b(0,-we._offset);K.layers.caxis.attr("transform",Me),K.layers.cgrid.attr("transform",Me),K.drawAxes(!0),K.layers.aline.select("path").attr("d",ge.showline?"M"+W+","+(F+j)+"l"+V/2+",-"+j:"M0,0").call(s.stroke,ge.linecolor||"#000").style("stroke-width",(ge.linewidth||0)+"px"),K.layers.bline.select("path").attr("d",ke.showline?"M"+W+","+(F+j)+"h"+V:"M0,0").call(s.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),K.layers.cline.select("path").attr("d",we.showline?"M"+(W+V/2)+","+F+"l"+V/2+","+j:"M0,0").call(s.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),K.graphDiv._context.staticPlot||K.initInteractions(),t.setClipUrl(K.layers.frontplot,K._hasClipOnAxisFalse?null:K.clipId,K.graphDiv)},S.drawAxes=function(z){var N=this,W=N.graphDiv,F=N.id.substr(7)+"title",V=N.layers,j=N.aaxis,te=N.baxis,J=N.caxis;if(N.drawAx(j),N.drawAx(te),N.drawAx(J),z){var K=Math.max(j.showticklabels?j.tickfont.size/2:0,(J.showticklabels?.75*J.tickfont.size:0)+(J.ticks==="outside"?.87*J.ticklen:0)),Z=(te.showticklabels?te.tickfont.size:0)+(te.ticks==="outside"?te.ticklen:0)+3;V["a-title"]=f.draw(W,"a"+F,{propContainer:j,propName:N.id+".aaxis.title",placeholder:g(W,"Click to enter Component A title"),attributes:{x:N.x0+N.w/2,y:N.y0-j.title.font.size/3-K,"text-anchor":"middle"}}),V["b-title"]=f.draw(W,"b"+F,{propContainer:te,propName:N.id+".baxis.title",placeholder:g(W,"Click to enter Component B title"),attributes:{x:N.x0-Z,y:N.y0+N.h+.83*te.title.font.size+Z,"text-anchor":"middle"}}),V["c-title"]=f.draw(W,"c"+F,{propContainer:J,propName:N.id+".caxis.title",placeholder:g(W,"Click to enter Component C title"),attributes:{x:N.x0+N.w+Z,y:N.y0+N.h+.83*J.title.font.size+Z,"text-anchor":"middle"}})}},S.drawAx=function(z){var N,W=this,F=W.graphDiv,V=z._name,j=V.charAt(0),te=z._id,J=W.layers[V],K=j+"tickLayout",Z=(N=z).ticks+String(N.ticklen)+String(N.showticklabels);W[K]!==Z&&(J.selectAll("."+te+"tick").remove(),W[K]=Z),z.setScale();var X=o.calcTicks(z),Q=o.clipEnds(z,X),re=o.makeTransTickFn(z),ae=o.getTickSigns(z)[2],ie=T.deg2rad(30),le=ae*(z.linewidth||1)/2,pe=ae*z.ticklen,de=W.w,ve=W.h,be=j==="b"?"M0,"+le+"l"+Math.sin(ie)*pe+","+Math.cos(ie)*pe:"M"+le+",0l"+Math.cos(ie)*pe+","+-Math.sin(ie)*pe,me={a:"M0,0l"+ve+",-"+de/2,b:"M0,0l-"+de/2+",-"+ve,c:"M0,0l-"+ve+","+de/2}[j];o.drawTicks(F,z,{vals:z.ticks==="inside"?Q:X,layer:J,path:be,transFn:re,crisp:!1}),o.drawGrid(F,z,{vals:Q,layer:W.layers[j+"grid"],path:me,transFn:re,crisp:!1}),o.drawLabels(F,z,{vals:X,layer:J,transFn:re,labelFns:o.makeLabelFns(z,0,30)})};var E=_.MINZOOM/2+.87,C="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(.87*E+4.5)+"l2.6,1.5l-"+E/2+","+.87*E+"Z",P="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-2.6,1.5l"+E/2+","+.87*E+"Z",O="m0,1l"+E/2+","+.87*E+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-"+(E/2+2.6)+","+(.87*E+4.5)+"l2.6,1.5l"+E/2+",-"+.87*E+"Z",R=!0;function U(z){M.select(z).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){x(this.dragOptions),y(this.dragOptions.gd)},S.initInteractions=function(){var z,N,W,F,V,j,te,J,K,Z,X,Q,re=this,ae=re.layers.plotbg.select("path").node(),ie=re.graphDiv,le=ie._fullLayout._zoomlayer;function pe(oe){var he={};return he[re.id+".aaxis.min"]=oe.a,he[re.id+".baxis.min"]=oe.b,he[re.id+".caxis.min"]=oe.c,he}function de(oe,he){var Ee=ie._fullLayout.clickmode;U(ie),oe===2&&(ie.emit("plotly_doubleclick",null),a.call("_guiRelayout",ie,pe({a:0,b:0,c:0}))),Ee.indexOf("select")>-1&&oe===1&&v(he,ie,[re.xaxis],[re.yaxis],re.id,re.dragOptions),Ee.indexOf("event")>-1&&u.click(ie,he,re.id)}function ve(oe,he){return 1-he/re.h}function be(oe,he){return 1-(oe+(re.h-he)/Math.sqrt(3))/re.w}function me(oe,he){return(oe-(re.h-he)/Math.sqrt(3))/re.w}function ge(oe,he){var Ee=W+oe*z,Te=F+he*N,Me=Math.max(0,Math.min(1,ve(0,F),ve(0,Te))),Se=Math.max(0,Math.min(1,be(W,F),be(Ee,Te))),ze=Math.max(0,Math.min(1,me(W,F),me(Ee,Te))),fe=(Me/2+ze)*re.w,xe=(1-Me/2-Se)*re.w,_e=(fe+xe)/2,Oe=xe-fe,De=(1-Me)*re.h,Pe=De-Oe/w;Oe<_.MINZOOM?(te=V,X.attr("d",K),Q.attr("d","M0,0Z")):(te={a:V.a+Me*j,b:V.b+Se*j,c:V.c+ze*j},X.attr("d",K+"M"+fe+","+De+"H"+xe+"L"+_e+","+Pe+"L"+fe+","+De+"Z"),Q.attr("d","M"+W+","+F+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+fe+","+De+C+"M"+xe+","+De+P+"M"+_e+","+Pe+O)),Z||(X.transition().style("fill",J>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Q.transition().style("opacity",1).duration(200),Z=!0),ie.emit("plotly_relayouting",pe(te))}function ke(){U(ie),te!==V&&(a.call("_guiRelayout",ie,pe(te)),R&&ie.data&&ie._context.showTips&&(T.notifier(g(ie,"Double-click to zoom back out"),"long"),R=!1))}function we(oe,he){var Ee=oe/re.xaxis._m,Te=he/re.yaxis._m,Me=[(te={a:V.a-Te,b:V.b+(Ee+Te)/2,c:V.c-(Ee-Te)/2}).a,te.b,te.c].sort(T.sorterAsc),Se=Me.indexOf(te.a),ze=Me.indexOf(te.b),fe=Me.indexOf(te.c);Me[0]<0&&(Me[1]+Me[0]/2<0?(Me[2]+=Me[0]+Me[1],Me[0]=Me[1]=0):(Me[2]+=Me[0]/2,Me[1]+=Me[0]/2,Me[0]=0),te={a:Me[Se],b:Me[ze],c:Me[fe]},he=(V.a-te.a)*re.yaxis._m,oe=(V.c-te.c-V.b+te.b)*re.xaxis._m);var xe=b(re.x0+oe,re.y0+he);re.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",xe);var _e=b(-oe,-he);re.clipDefRelative.select("path").attr("transform",_e),re.aaxis.range=[te.a,re.sum-te.b-te.c],re.baxis.range=[re.sum-te.a-te.c,te.b],re.caxis.range=[re.sum-te.a-te.b,te.c],re.drawAxes(!1),re._hasClipOnAxisFalse&&re.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,re),ie.emit("plotly_relayouting",pe(te))}function ue(){a.call("_guiRelayout",ie,pe(te))}this.dragOptions={element:ae,gd:ie,plotinfo:{id:re.id,domain:ie._fullLayout[re.id].domain,xaxis:re.xaxis,yaxis:re.yaxis},subplot:re.id,prepFn:function(oe,he,Ee){re.dragOptions.xaxes=[re.xaxis],re.dragOptions.yaxes=[re.yaxis],z=ie._fullLayout._invScaleX,N=ie._fullLayout._invScaleY;var Te=re.dragOptions.dragmode=ie._fullLayout.dragmode;c(Te)?re.dragOptions.minDrag=1:re.dragOptions.minDrag=void 0,Te==="zoom"?(re.dragOptions.moveFn=ge,re.dragOptions.clickFn=de,re.dragOptions.doneFn=ke,function(Me,Se,ze){var fe=ae.getBoundingClientRect();W=Se-fe.left,F=ze-fe.top,ie._fullLayout._calcInverseTransform(ie);var xe=ie._fullLayout._invTransform,_e=T.apply3DTransform(xe)(W,F);W=_e[0],F=_e[1],V={a:re.aaxis.range[0],b:re.baxis.range[1],c:re.caxis.range[1]},te=V,j=re.aaxis.range[1]-V.a,J=k(re.graphDiv._fullLayout[re.id].bgcolor).getLuminance(),K="M0,"+re.h+"L"+re.w/2+", 0L"+re.w+","+re.h+"Z",Z=!1,X=le.append("path").attr("class","zoombox").attr("transform",b(re.x0,re.y0)).style({fill:J>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",K),Q=le.append("path").attr("class","zoombox-corners").attr("transform",b(re.x0,re.y0)).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),re.clearOutline(ie)}(0,he,Ee)):Te==="pan"?(re.dragOptions.moveFn=we,re.dragOptions.clickFn=de,re.dragOptions.doneFn=ue,V={a:re.aaxis.range[0],b:re.baxis.range[1],c:re.caxis.range[1]},te=V,re.clearOutline(ie)):(m(Te)||c(Te))&&p(oe,he,Ee,re.dragOptions,Te)}},ae.onmousemove=function(oe){u.hover(ie,oe,re.id),ie._fullLayout._lasthover=ae,ie._fullLayout._hoversubplot=re.id},ae.onmouseout=function(oe){ie._dragging||l.unhover(ie,oe)},l.init(this.dragOptions)}},24040:function(ee,D,e){var M=e(24248),k=e(16628),a=e(52416),T=e(63620),b=e(52200).addStyleRule,g=e(92880),s=e(45464),t=e(64859),i=g.extendFlat,r=g.extendDeepAll;function n(v){var y=v.name,x=v.categories,_=v.meta;if(D.modules[y])M.log("Type "+y+" already registered");else{D.subplotsRegistry[v.basePlotModule.name]||function(R){var U=R.name;if(D.subplotsRegistry[U])M.log("Plot type "+U+" already registered.");else for(var z in d(R),D.subplotsRegistry[U]=R,D.componentsRegistry)f(z,R.name)}(v.basePlotModule);for(var h={},S=0;S<x.length;S++)h[x[S]]=!0,D.allCategories[x[S]]=!0;for(var w in D.modules[y]={_module:v,categories:h},_&&Object.keys(_).length&&(D.modules[y].meta=_),D.allTypes.push(y),D.componentsRegistry)c(w,y);v.layoutAttributes&&i(D.traceLayoutAttributes,v.layoutAttributes);var E=v.basePlotModule,C=E.name;if(C==="mapbox"){var P=E.constants.styleRules;for(var O in P)b(".js-plotly-plot .plotly .mapboxgl-"+O,P[O])}C!=="geo"&&C!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function o(v){if(typeof v.name!="string")throw new Error("Component module *name* must be a string.");var y=v.name;for(var x in D.componentsRegistry[y]=v,v.layoutAttributes&&(v.layoutAttributes._isLinkedToArray&&a(D.layoutArrayContainers,y),d(v)),D.modules)c(y,x);for(var _ in D.subplotsRegistry)f(y,_);for(var h in D.transformsRegistry)m(y,h);v.schema&&v.schema.layout&&r(t,v.schema.layout)}function l(v){if(typeof v.name!="string")throw new Error("Transform module *name* must be a string.");var y="Transform module "+v.name,x=typeof v.transform=="function",_=typeof v.calcTransform=="function";if(!x&&!_)throw new Error(y+" is missing a *transform* or *calcTransform* method.");for(var h in x&&_&&M.log([y+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),T(v.attributes)||M.log(y+" registered without an *attributes* object."),typeof v.supplyDefaults!="function"&&M.log(y+" registered without a *supplyDefaults* method."),D.transformsRegistry[v.name]=v,D.componentsRegistry)m(h,v.name)}function u(v){var y=v.name,x=y.split("-")[0],_=v.dictionary,h=v.format,S=_&&Object.keys(_).length,w=h&&Object.keys(h).length,E=D.localeRegistry,C=E[y];if(C||(E[y]=C={}),x!==y){var P=E[x];P||(E[x]=P={}),S&&P.dictionary===C.dictionary&&(P.dictionary=_),w&&P.format===C.format&&(P.format=h)}S&&(C.dictionary=_),w&&(C.format=h)}function d(v){if(v.layoutAttributes){var y=v.layoutAttributes._arrayAttrRegexps;if(y)for(var x=0;x<y.length;x++)a(D.layoutArrayRegexes,y[x])}}function c(v,y){var x=D.componentsRegistry[v].schema;if(x&&x.traces){var _=x.traces[y];_&&r(D.modules[y]._module.attributes,_)}}function m(v,y){var x=D.componentsRegistry[v].schema;if(x&&x.transforms){var _=x.transforms[y];_&&r(D.transformsRegistry[y].attributes,_)}}function f(v,y){var x=D.componentsRegistry[v].schema;if(x&&x.subplots){var _=D.subplotsRegistry[y],h=_.layoutAttributes,S=_.attr==="subplot"?_.name:_.attr;Array.isArray(S)&&(S=S[0]);var w=x.subplots[S];h&&w&&r(h,w)}}function p(v){return typeof v=="object"&&(v=v.type),v}D.modules={},D.allCategories={},D.allTypes=[],D.subplotsRegistry={},D.transformsRegistry={},D.componentsRegistry={},D.layoutArrayContainers=[],D.layoutArrayRegexes=[],D.traceLayoutAttributes={},D.localeRegistry={},D.apiMethodRegistry={},D.collectableSubplotTypes=null,D.register=function(v){if(D.collectableSubplotTypes=null,!v)throw new Error("No argument passed to Plotly.register.");v&&!Array.isArray(v)&&(v=[v]);for(var y=0;y<v.length;y++){var x=v[y];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":n(x);break;case"transform":l(x);break;case"component":o(x);break;case"locale":u(x);break;case"apiMethod":var _=x.name;D.apiMethodRegistry[_]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},D.getModule=function(v){var y=D.modules[p(v)];return!!y&&y._module},D.traceIs=function(v,y){if((v=p(v))==="various")return!1;var x=D.modules[v];return x||(v&&M.log("Unrecognized trace type "+v+"."),x=D.modules[s.type.dflt]),!!x.categories[y]},D.getTransformIndices=function(v,y){for(var x=[],_=v.transforms||[],h=0;h<_.length;h++)_[h].type===y&&x.push(h);return x},D.hasTransform=function(v,y){for(var x=v.transforms||[],_=0;_<x.length;_++)if(x[_].type===y)return!0;return!1},D.getComponentMethod=function(v,y){var x=D.componentsRegistry[v];return x&&x[y]||k},D.call=function(){var v=arguments[0],y=[].slice.call(arguments,1);return D.apiMethodRegistry[v].apply(null,y)}},91536:function(ee,D,e){var M=e(24040),k=e(3400),a=k.extendFlat,T=k.extendDeep;function b(g){var s;switch(g){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}ee.exports=function(g,s){var t,i,r=g.data,n=g.layout,o=T([],r),l=T({},n,b(s.tileClass)),u=g._context||{};if(s.width&&(l.width=s.width),s.height&&(l.height=s.height),s.tileClass==="thumbnail"||s.tileClass==="themes__thumb"){l.annotations=[];var d=Object.keys(l);for(t=0;t<d.length;t++)i=d[t],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(l[d[t]].title={text:""});for(t=0;t<o.length;t++){var c=o[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),M.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(s.annotations))for(t=0;t<s.annotations.length;t++)l.annotations.push(s.annotations[t]);var m=Object.keys(l).filter(function(x){return x.match(/^scene\d*$/)});if(m.length){var f={};for(s.tileClass==="thumbnail"&&(f={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<m.length;t++){var p=l[m[t]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),a(p.xaxis,f),a(p.yaxis,f),a(p.zaxis,f),p._scene=null}}var v=document.createElement("div");s.tileClass&&(v.className=s.tileClass);var y={gd:v,td:v,layout:l,data:o,config:{staticPlot:s.staticPlot===void 0||s.staticPlot,plotGlPixelRatio:s.plotGlPixelRatio===void 0?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return s.setBackground!=="transparent"&&(y.config.setBackground=s.setBackground||"opaque"),y.gd.defaultLayout=b(s.tileClass),y}},39792:function(ee,D,e){var M=e(3400),k=e(67024),a=e(48616),T=e(81792);ee.exports=function(b,g){var s;return M.isPlainObject(b)||(s=M.getGraphDiv(b)),(g=g||{}).format=g.format||"png",g.width=g.width||null,g.height=g.height||null,g.imageDataOnly=!0,new Promise(function(t,i){s&&s._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),M.isIE()&&g.format!=="svg"&&i(new Error(T.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var r=k(b,g),n=g.filename||b.fn||"newplot";n+="."+g.format.replace("-","."),r.then(function(o){return s&&(s._snapshotInProgress=!1),a(o,n,g.format)}).then(function(o){t(o)}).catch(function(o){s&&(s._snapshotInProgress=!1),i(o)})})}},48616:function(ee,D,e){var M=e(3400),k=e(81792);ee.exports=function(a,T,b){var g=document.createElement("a"),s="download"in g;return new Promise(function(t,i){var r,n;if(M.isIE())return r=k.createBlob(a,"svg"),window.navigator.msSaveBlob(r,T),r=null,t(T);if(s)return r=k.createBlob(a,b),n=k.createObjectURL(r),g.href=n,g.download=T,document.body.appendChild(g),g.click(),document.body.removeChild(g),k.revokeObjectURL(n),r=null,t(T);if(M.isSafari()){var o=b==="svg"?",":";base64,";return k.octetStream(o+encodeURIComponent(a)),t(T)}i(new Error("download error"))})}},81792:function(ee,D,e){var M=e(24040);D.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d")||a._has("mapbox"))?500:0},D.getRedrawFunc=function(a){return function(){M.getComponentMethod("colorbar","draw")(a)}},D.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},D.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var k=window.URL||window.webkitURL;D.createObjectURL=function(a){return k.createObjectURL(a)},D.revokeObjectURL=function(a){return k.revokeObjectURL(a)},D.createBlob=function(a,T){if(T==="svg")return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if(T==="full-json")return new window.Blob([a],{type:"application/json;charset=utf-8"});var b=function(g){for(var s=g.length,t=new ArrayBuffer(s),i=new Uint8Array(t),r=0;r<s;r++)i[r]=g.charCodeAt(r);return t}(window.atob(a));return new window.Blob([b],{type:"image/"+T})},D.octetStream=function(a){document.location.href="data:application/octet-stream"+a},D.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,D.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(ee,D,e){var M=e(81792),k={getDelay:M.getDelay,getRedrawFunc:M.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};ee.exports=k},63268:function(ee,D,e){var M=e(3400),k=e(61252).EventEmitter,a=e(81792);ee.exports=function(T){var b=T.emitter||new k,g=new Promise(function(s,t){var i=window.Image,r=T.svg,n=T.format||"png";if(M.isIE()&&n!=="svg"){var o=new Error(a.MSG_IE_BAD_FORMAT);return t(o),T.promise?g:b.emit("error",o)}var l,u,d=T.canvas,c=T.scale||1,m=T.width||300,f=T.height||150,p=c*m,v=c*f,y=d.getContext("2d",{willReadFrequently:!0}),x=new i;n==="svg"||M.isSafari()?u=a.encodeSVG(r):(l=a.createBlob(r,"svg"),u=a.createObjectURL(l)),d.width=p,d.height=v,x.onload=function(){var _;switch(l=null,a.revokeObjectURL(u),n!=="svg"&&y.drawImage(x,0,0,p,v),n){case"jpeg":_=d.toDataURL("image/jpeg");break;case"png":_=d.toDataURL("image/png");break;case"webp":_=d.toDataURL("image/webp");break;case"svg":_=u;break;default:var h="Image format is not jpeg, png, svg or webp.";if(t(new Error(h)),!T.promise)return b.emit("error",h)}s(_),T.promise||b.emit("success",_)},x.onerror=function(_){if(l=null,a.revokeObjectURL(u),t(_),!T.promise)return b.emit("error",_)},x.src=u});return T.promise?g:b}},61808:function(ee,D,e){var M=e(61252).EventEmitter,k=e(24040),a=e(3400),T=e(81792),b=e(91536),g=e(37164),s=e(63268);ee.exports=function(t,i){var r=new M,n=b(t,{format:"png"}),o=n.gd;o.style.position="absolute",o.style.left="-5000px",document.body.appendChild(o);var l=T.getRedrawFunc(o);return k.call("_doPlot",o,n.data,n.layout,n.config).then(l).then(function(){var u=T.getDelay(o._fullLayout);setTimeout(function(){var d=g(o),c=document.createElement("canvas");c.id=a.randstr(),(r=s({format:i.format,width:o._fullLayout.width,height:o._fullLayout.height,canvas:c,emitter:r,svg:d})).clean=function(){o&&document.body.removeChild(o)}},u)}).catch(function(u){r.emit("error",u)}),r}},37164:function(ee,D,e){var M=e(33428),k=e(3400),a=e(43616),T=e(76308),b=e(9616),g=/"/g,s="TOBESTRIPPED",t=new RegExp('("'+s+")|("+s+'")',"g");ee.exports=function(i,r,n){var o,l=i._fullLayout,u=l._paper,d=l._toppaper,c=l.width,m=l.height;u.insert("rect",":first-child").call(a.setRect,0,0,c,m).call(T.fill,l.paper_bgcolor);var f=l._basePlotModules||[];for(o=0;o<f.length;o++){var p=f[o];p.toSVG&&p.toSVG(i)}if(d){var v=d.node().childNodes,y=Array.prototype.slice.call(v);for(o=0;o<y.length;o++){var x=y[o];x.childNodes.length&&u.node().appendChild(x)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var h=M.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){h.style({visibility:null,display:null});var S=this.style.fontFamily;S&&S.indexOf('"')!==-1&&h.style("font-family",S.replace(g,s))}else h.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var h=M.select(this),S=this.style.fill;S&&S.indexOf("url(")!==-1&&h.style("fill",S.replace(g,s));var w=this.style.stroke;w&&w.indexOf("url(")!==-1&&h.style("stroke",w.replace(g,s))}),r!=="pdf"&&r!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(b.xmlns,"xmlns",b.svg),u.node().setAttributeNS(b.xmlns,"xmlns:xlink",b.xlink),r==="svg"&&n&&(u.attr("width",n*c),u.attr("height",n*m),u.attr("viewBox","0 0 "+c+" "+m));var _=new window.XMLSerializer().serializeToString(u.node());return _=(_=(_=function(h){var S=M.select("body").append("div").style({display:"none"}).html(""),w=h.replace(/(&[^;]*;)/gi,function(E){return E==="&lt;"?"&#60;":E==="&rt;"?"&#62;":E.indexOf("<")!==-1||E.indexOf(">")!==-1?"":S.html(E).text()});return S.remove(),w}(_)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),k.isIE()&&(_=(_=(_=_.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),_}},84664:function(ee,D,e){var M=e(3400);ee.exports=function(k,a){for(var T=0;T<k.length;T++)k[T].i=T;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.hovertext,k,"htx");var b=a.marker;if(b){M.mergeArray(b.opacity,k,"mo",!0),M.mergeArray(b.color,k,"mc");var g=b.line;g&&(M.mergeArray(g.color,k,"mlc"),M.mergeArrayCastPositive(g.width,k,"mlw"))}}},20832:function(ee,D,e){var M=e(52904),k=e(29736).axisHoverFormat,a=e(21776).Ks,T=e(21776).Gw,b=e(49084),g=e(25376),s=e(78048),t=e(98192).c,i=e(92880).extendFlat,r=g({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=i({},M.marker.line.width,{dflt:0}),o=i({width:n,editType:"calc"},b("marker.line")),l=i({line:o,editType:"calc"},b("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t,cornerradius:{valType:"any",editType:"calc"}});ee.exports={x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),text:M.text,texttemplate:T({editType:"plot"},{keys:s.eventDataKeys}),hovertext:M.hovertext,hovertemplate:a({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},r,{}),insidetextfont:i({},r,{}),outsidetextfont:i({},r,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},M.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:l,offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:{marker:{opacity:M.selected.marker.opacity,color:M.selected.marker.color,editType:"style"},textfont:M.selected.textfont,editType:"style"},unselected:{marker:{opacity:M.unselected.marker.opacity,color:M.unselected.marker.color,editType:"style"},textfont:M.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(ee,D,e){var M=e(54460),k=e(1220),a=e(94288).hasColorscale,T=e(47128),b=e(84664),g=e(4500);ee.exports=function(s,t){var i,r,n,o,l,u,d=M.getFromId(s,t.xaxis||"x"),c=M.getFromId(s,t.yaxis||"y"),m={msUTC:!(!t.base&&t.base!==0)};t.orientation==="h"?(i=d.makeCalcdata(t,"x",m),n=c.makeCalcdata(t,"y"),o=k(t,c,"y",n),l=!!t.yperiodalignment,u="y"):(i=c.makeCalcdata(t,"y",m),n=d.makeCalcdata(t,"x"),o=k(t,d,"x",n),l=!!t.xperiodalignment,u="x"),r=o.vals;for(var f=Math.min(r.length,i.length),p=new Array(f),v=0;v<f;v++)p[v]={p:r[v],s:i[v]},l&&(p[v].orig_p=n[v],p[v][u+"End"]=o.ends[v],p[v][u+"Start"]=o.starts[v]),t.ids&&(p[v].id=String(t.ids[v]));return a(t,"marker")&&T(s,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&T(s,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(p,t),g(p,t),p}},78048:function(ee){ee.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(ee,D,e){var M=e(38248),k=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,T=e(24040),b=e(54460),g=e(71888).getAxisGroup,s=e(72592);function t(f,p,v,y,x){if(y.length){var _,h,S,w;switch(function(E,C){var P,O;for(P=0;P<C.length;P++){var R,U=C[P],z=U[0].trace,N=z.type==="funnel"?z._base:z.base,W=z.orientation==="h"?z.xcalendar:z.ycalendar,F=E.type==="category"||E.type==="multicategory"?function(){return null}:E.d2c;if(k(N)){for(O=0;O<Math.min(N.length,U.length);O++)R=F(N[O],0,W),M(R)?(U[O].b=+R,U[O].hasB=1):U[O].b=0;for(;O<U.length;O++)U[O].b=0}else{R=F(N,0,W);var V=M(R);for(R=V?R:0,O=0;O<U.length;O++)U[O].b=R,V&&(U[O].hasB=1)}}}(v,y),x.mode){case"overlay":i(p,v,y,x);break;case"group":for(_=[],h=[],S=0;S<y.length;S++)(w=y[S])[0].trace.offset===void 0?h.push(w):_.push(w);h.length&&function(E,C,P,O,R){var U=new s(O,{posAxis:C,sepNegVal:!1,overlapNoMerge:!R.norm});(function(z,N,W,F){for(var V=z._fullLayout,j=W.positions,te=W.distinctPositions,J=W.minDiff,K=W.traces,Z=K.length,X=j.length!==te.length,Q=J*(1-F.gap),re=g(V,N._id)+K[0][0].trace.orientation,ae=V._alignmentOpts[re]||{},ie=0;ie<Z;ie++){var le,pe,de=K[ie],ve=de[0].trace,be=ae[ve.alignmentgroup]||{},me=Object.keys(be.offsetGroups||{}).length,ge=(le=me?Q/me:X?Q/Z:Q)*(1-(F.groupgap||0));pe=me?((2*ve._offsetIndex+1-me)*le-ge)/2:X?((2*ie+1-Z)*le-ge)/2:-ge/2;var ke=de[0].t;ke.barwidth=ge,ke.poffset=pe,ke.bargroupwidth=Q,ke.bardelta=J}W.binWidth=K[0][0].t.barwidth/100,n(W),o(N,W),l(N,W,X)})(E,C,U,R),function(z,N){for(var W=z.traces,F=0;F<W.length;F++){var V=W[F];if(V[0].trace.base===void 0)for(var j=new s([V],{posAxis:N,sepNegVal:!0,overlapNoMerge:!0}),te=0;te<V.length;te++){var J=V[te];if(J.p!==a){var K=j.put(J.p,J.b+J.s);K&&(J.b=K)}}}}(U,C),R.norm?(d(U),c(P,U,R)):u(P,U)}(f,p,v,h,x),_.length&&i(p,v,_,x);break;case"stack":case"relative":for(_=[],h=[],S=0;S<y.length;S++)(w=y[S])[0].trace.base===void 0?h.push(w):_.push(w);(function(E){if(!(E.length<2)){var C,P,O,R,U,z;for(C=0;C<E.length&&(R=(P=E[C][0].trace).marker?P.marker.cornerradius:void 0)===void 0;C++);if(R!==void 0)for(U=M(R)?+R:+R.slice(0,-1),z=M(R)?"px":"%",C=0;C<E.length;C++)(O=E[C][0].t).cornerradiusvalue=U,O.cornerradiusform=z}})(h),h.length&&function(E,C,P,O,R){var U=new s(O,{posAxis:C,sepNegVal:R.mode==="relative",overlapNoMerge:!(R.norm||R.mode==="stack"||R.mode==="relative")});r(C,U,R),function(V,j,te){var J,K,Z,X,Q,re,ae=m(V),ie=j.traces;for(X=0;X<ie.length;X++)if((K=(J=ie[X])[0].trace).type==="funnel")for(Q=0;Q<J.length;Q++)(re=J[Q]).s!==a&&j.put(re.p,-.5*re.s);for(X=0;X<ie.length;X++){Z=(K=(J=ie[X])[0].trace).type==="funnel";var le=[];for(Q=0;Q<J.length;Q++)if((re=J[Q]).s!==a){var pe;pe=Z?re.s:re.s+re.b;var de=j.put(re.p,pe),ve=de+pe;re.b=de,re[ae]=ve,te.norm||(le.push(ve),re.hasB&&le.push(de))}te.norm||(K._extremes[V._id]=b.findExtremes(V,le,{tozero:!0,padded:!0}))}}(P,U,R);for(var z=0;z<O.length;z++)for(var N=O[z],W=0;W<N.length;W++){var F=N[W];F.s!==a&&F.b+F.s===U.get(F.p,F.s)&&(F._outmost=!0)}R.norm&&c(P,U,R)}(0,p,v,h,x),_.length&&i(p,v,_,x)}(function(E){var C,P,O,R,U,z,N;for(C=0;C<E.length;C++)O=(P=E[C])[0].trace,(R=P[0].t).cornerradiusvalue===void 0&&(U=O.marker?O.marker.cornerradius:void 0)!==void 0&&(z=M(U)?+U:+U.slice(0,-1),N=M(U)?"px":"%",R.cornerradiusvalue=z,R.cornerradiusform=N)})(y),function(E,C){var P,O,R,U=m(C),z={},N=1/0,W=-1/0;for(P=0;P<E.length;P++)for(R=E[P],O=0;O<R.length;O++){var F=R[O].p;M(F)&&(N=Math.min(N,F),W=Math.max(W,F))}var V=1e4/(W-N),j=z.round=function(ve){return String(Math.round(V*(ve-N)))},te={},J={},K=E.some(function(ve){var be=ve[0].trace;return"marker"in be&&be.marker.cornerradius});for(P=0;P<E.length;P++){(R=E[P])[0].t.extents=z;var Z=R[0].t.poffset,X=k(Z);for(O=0;O<R.length;O++){var Q=R[O],re=Q[U]-Q.w/2;if(M(re)){var ae=Q[U]+Q.w/2,ie=j(Q.p);z[ie]?z[ie]=[Math.min(re,z[ie][0]),Math.max(ae,z[ie][1])]:z[ie]=[re,ae]}if(Q.p0=Q.p+(X?Z[O]:Z),Q.p1=Q.p0+Q.w,Q.s0=Q.b,Q.s1=Q.s0+Q.s,K){var le=Math.min(Q.s0,Q.s1)||0,pe=Math.max(Q.s0,Q.s1)||0,de=Q[U];te[de]=de in te?Math.min(te[de],le):le,J[de]=de in J?Math.max(J[de],pe):pe}}}K&&function(ve,be,me,ge){for(var ke=m(ge),we=0;we<ve.length;we++)for(var ue=ve[we],oe=0;oe<ue.length;oe++){var he=ue[oe],Ee=he[ke];he._sMin=be[Ee],he._sMax=me[Ee]}}(E,te,J,C)}(y,p)}}function i(f,p,v,y){for(var x=0;x<v.length;x++){var _=v[x],h=new s([_],{posAxis:f,sepNegVal:!1,overlapNoMerge:!y.norm});r(f,h,y),y.norm?(d(h),c(p,h,y)):u(p,h)}}function r(f,p,v){for(var y=p.minDiff,x=p.traces,_=y*(1-v.gap),h=_*(1-(v.groupgap||0)),S=-h/2,w=0;w<x.length;w++){var E=x[w][0].t;E.barwidth=h,E.poffset=S,E.bargroupwidth=_,E.bardelta=y}p.binWidth=x[0][0].t.barwidth/100,n(p),o(f,p),l(f,p)}function n(f){var p,v,y=f.traces;for(p=0;p<y.length;p++){var x,_=y[p],h=_[0],S=h.trace,w=h.t,E=S._offset||S.offset,C=w.poffset;if(k(E)){for(x=Array.prototype.slice.call(E,0,_.length),v=0;v<x.length;v++)M(x[v])||(x[v]=C);for(v=x.length;v<_.length;v++)x.push(C);w.poffset=x}else E!==void 0&&(w.poffset=E);var P=S._width||S.width,O=w.barwidth;if(k(P)){var R=Array.prototype.slice.call(P,0,_.length);for(v=0;v<R.length;v++)M(R[v])||(R[v]=O);for(v=R.length;v<_.length;v++)R.push(O);if(w.barwidth=R,E===void 0){for(x=[],v=0;v<_.length;v++)x.push(C+(O-R[v])/2);w.poffset=x}}else P!==void 0&&(w.barwidth=P,E===void 0&&(w.poffset=C+(O-P)/2))}}function o(f,p){for(var v=p.traces,y=m(f),x=0;x<v.length;x++)for(var _=v[x],h=_[0].t,S=h.poffset,w=k(S),E=h.barwidth,C=k(E),P=0;P<_.length;P++){var O=_[P],R=O.w=C?E[P]:E;O.p===void 0&&(O.p=O[y],O["orig_"+y]=O[y]);var U=(w?S[P]:S)+R/2;O[y]=O.p+U}}function l(f,p,v){var y=p.traces,x=p.minDiff/2;b.minDtick(f,p.minDiff,p.distinctPositions[0],v);for(var _=0;_<y.length;_++){var h,S,w,E,C=y[_],P=C[0],O=P.trace,R=[];for(E=0;E<C.length;E++)S=(h=C[E]).p-x,w=h.p+x,R.push(S,w);if(O.width||O.offset){var U=P.t,z=U.poffset,N=U.barwidth,W=k(z),F=k(N);for(E=0;E<C.length;E++){h=C[E];var V=W?z[E]:z,j=F?N[E]:N;w=(S=h.p+V)+j,R.push(S,w)}}O._extremes[f._id]=b.findExtremes(f,R,{padded:!1})}}function u(f,p){for(var v=p.traces,y=m(f),x=0;x<v.length;x++){for(var _=v[x],h=_[0].trace,S=h.type==="scatter",w=h.orientation==="v",E=[],C=!1,P=0;P<_.length;P++){var O=_[P],R=S?0:O.b,U=S?w?O.y:O.x:R+O.s;O[y]=U,E.push(U),O.hasB&&E.push(R),O.hasB&&O.b||(C=!0)}h._extremes[f._id]=b.findExtremes(f,E,{tozero:C,padded:!0})}}function d(f){for(var p=f.traces,v=0;v<p.length;v++)for(var y=p[v],x=0;x<y.length;x++){var _=y[x];_.s!==a&&f.put(_.p,_.b+_.s)}}function c(f,p,v){var y=p.traces,x=m(f),_=v.norm==="fraction"?1:100,h=_/1e9,S=f.l2c(f.c2l(0)),w=v.mode==="stack"?_:S;function E(te){return M(f.c2l(te))&&(te<S-h||te>w+h||!M(S))}for(var C=0;C<y.length;C++){for(var P=y[C],O=P[0].trace,R=[],U=!1,z=!1,N=0;N<P.length;N++){var W=P[N];if(W.s!==a){var F=Math.abs(_/p.get(W.p,W.s));W.b*=F,W.s*=F;var V=W.b,j=V+W.s;W[x]=j,R.push(j),z=z||E(j),W.hasB&&(R.push(V),z=z||E(V)),W.hasB&&W.b||(U=!0)}}O._extremes[f._id]=b.findExtremes(f,R,{tozero:U,padded:z})}}function m(f){return f._id.charAt(0)}ee.exports={crossTraceCalc:function(f,p){for(var v=p.xaxis,y=p.yaxis,x=f._fullLayout,_=f._fullData,h=f.calcdata,S=[],w=[],E=0;E<_.length;E++){var C=_[E];if(C.visible===!0&&T.traceIs(C,"bar")&&C.xaxis===v._id&&C.yaxis===y._id&&(C.orientation==="h"?S.push(h[E]):w.push(h[E]),C._computePh))for(var P=f.calcdata[E],O=0;O<P.length;O++)typeof P[O].ph0=="function"&&(P[O].ph0=P[O].ph0()),typeof P[O].ph1=="function"&&(P[O].ph1=P[O].ph1())}var R={xCat:v.type==="category"||v.type==="multicategory",yCat:y.type==="category"||y.type==="multicategory",mode:x.barmode,norm:x.barnorm,gap:x.bargap,groupgap:x.bargroupgap};t(f,v,y,w,R),t(f,y,v,S,R)},setGroupPositions:t}},31508:function(ee,D,e){var M=e(38248),k=e(3400),a=e(76308),T=e(24040),b=e(43980),g=e(31147),s=e(55592),t=e(20011),i=e(20832),r=k.coerceFont;function n(l){if(M(l)){if((l=+l)>=0)return l}else if(typeof l=="string"&&(l=l.trim()).slice(-1)==="%"&&M(l.slice(0,-1))&&(l=+l.slice(0,-1))>=0)return l+"%"}function o(l,u,d,c,m,f){var p=(f=f||{}).moduleHasSelected!==!1,v=f.moduleHasUnselected!==!1,y=f.moduleHasConstrain!==!1,x=f.moduleHasCliponaxis!==!1,_=f.moduleHasTextangle!==!1,h=f.moduleHasInsideanchor!==!1,S=!!f.hasPathbar,w=Array.isArray(m)||m==="auto",E=w||m==="inside",C=w||m==="outside";if(E||C){var P=r(c,"textfont",d.font),O=k.extendFlat({},P),R=!(l.textfont&&l.textfont.color);if(R&&delete O.color,r(c,"insidetextfont",O),S){var U=k.extendFlat({},P);R&&delete U.color,r(c,"pathbar.textfont",U)}C&&r(c,"outsidetextfont",P),p&&c("selected.textfont.color"),v&&c("unselected.textfont.color"),y&&c("constraintext"),x&&c("cliponaxis"),_&&c("textangle"),c("texttemplate")}E&&h&&c("insidetextanchor")}ee.exports={supplyDefaults:function(l,u,d,c){function m(y,x){return k.coerce(l,u,i,y,x)}if(b(l,u,c,m)){g(l,u,c,m),m("xhoverformat"),m("yhoverformat"),m("orientation",u.x&&!u.y?"h":"v"),m("base"),m("offset"),m("width"),m("text"),m("hovertext"),m("hovertemplate");var f=m("textposition");o(l,0,c,m,f,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(l,u,m,d,c);var p=(u.marker.line||{}).color,v=T.getComponentMethod("errorbars","supplyDefaults");v(l,u,p||a.defaultLine,{axis:"y"}),v(l,u,p||a.defaultLine,{axis:"x",inherit:"y"}),k.coerceSelectionMarkerOpacity(u,m)}else u.visible=!1},crossTraceDefaults:function(l,u){var d,c;function m(v,y){return k.coerce(c._input,c,i,v,y)}for(var f=0;f<l.length;f++)if((c=l[f]).type==="bar"){d=c._input;var p=m("marker.cornerradius",u.barcornerradius);c.marker&&(c.marker.cornerradius=n(p)),u.barmode==="group"&&t(d,c,u,m)}},handleText:o,validateCornerradius:n}},52160:function(ee){ee.exports=function(D,e,M){return D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),M.orientation==="h"?(D.label=D.y,D.value=D.x):(D.label=D.x,D.value=D.y),D}},60444:function(ee,D,e){var M=e(38248),k=e(49760),a=e(3400).isArrayOrTypedArray;D.coerceString=function(T,b,g){if(typeof b=="string"){if(b||!T.noBlank)return b}else if((typeof b=="number"||b===!0)&&!T.strict)return String(b);return g!==void 0?g:T.dflt},D.coerceNumber=function(T,b,g){if(M(b)){b=+b;var s=T.min,t=T.max;if(!(s!==void 0&&b<s||t!==void 0&&b>t))return b}return g!==void 0?g:T.dflt},D.coerceColor=function(T,b,g){return k(b).isValid()?b:g!==void 0?g:T.dflt},D.coerceEnumerated=function(T,b,g){return T.coerceNumber&&(b=+b),T.values.indexOf(b)!==-1?b:g!==void 0?g:T.dflt},D.getValue=function(T,b){var g;return a(T)?b<T.length&&(g=T[b]):g=T,g},D.getLineWidth=function(T,b){return 0<b.mlw?b.mlw:a(T.marker.line.width)?0:T.marker.line.width}},63400:function(ee,D,e){var M=e(93024),k=e(24040),a=e(76308),T=e(3400).fillText,b=e(60444).getLineWidth,g=e(54460).hoverLabelText,s=e(39032).BADNUM;function t(r,n,o,l,u){var d,c,m,f,p,v,y,x=r.cd,_=x[0].trace,h=x[0].t,S=l==="closest",w=_.type==="waterfall",E=r.maxHoverDistance,C=r.maxSpikeDistance;_.orientation==="h"?(d=o,c=n,m="y",f="x",p=J,v=j):(d=n,c=o,m="x",f="y",v=J,p=j);var P=_[m+"period"],O=S||P;function R(le){return z(le,-1)}function U(le){return z(le,1)}function z(le,pe){var de=le.w;return le[m]+pe*de/2}function N(le){return le[m+"End"]-le[m+"Start"]}var W=S?R:P?function(le){return le.p-N(le)/2}:function(le){return Math.min(R(le),le.p-h.bardelta/2)},F=S?U:P?function(le){return le.p+N(le)/2}:function(le){return Math.max(U(le),le.p+h.bardelta/2)};function V(le,pe,de){return u.finiteRange&&(de=0),M.inbox(le-d,pe-d,de+Math.min(1,Math.abs(pe-le)/y)-1)}function j(le){return V(W(le),F(le),E)}function te(le){var pe=le[f];if(w){var de=Math.abs(le.rawS)||0;c>0?pe+=de:c<0&&(pe-=de)}return pe}function J(le){var pe=c,de=le.b,ve=te(le);return M.inbox(de-pe,ve-pe,E+(ve-pe)/(ve-de)-1)}var K=r[m+"a"],Z=r[f+"a"];y=Math.abs(K.r2c(K.range[1])-K.r2c(K.range[0]));var X=M.getDistanceFunction(l,p,v,function(le){return(p(le)+v(le))/2});if(M.getClosest(x,X,r),r.index!==!1&&x[r.index].p!==s){O||(W=function(le){return Math.min(R(le),le.p-h.bargroupwidth/2)},F=function(le){return Math.max(U(le),le.p+h.bargroupwidth/2)});var Q=x[r.index],re=_.base?Q.b+Q.s:Q.s;r[f+"0"]=r[f+"1"]=Z.c2p(Q[f],!0),r[f+"LabelVal"]=re;var ae=h.extents[h.extents.round(Q.p)];r[m+"0"]=K.c2p(S?W(Q):ae[0],!0),r[m+"1"]=K.c2p(S?F(Q):ae[1],!0);var ie=Q.orig_p!==void 0;return r[m+"LabelVal"]=ie?Q.orig_p:Q.p,r.labelLabel=g(K,r[m+"LabelVal"],_[m+"hoverformat"]),r.valueLabel=g(Z,r[f+"LabelVal"],_[f+"hoverformat"]),r.baseLabel=g(Z,Q.b,_[f+"hoverformat"]),r.spikeDistance=(function(le){var pe=c,de=le.b,ve=te(le);return M.inbox(de-pe,ve-pe,C+(ve-pe)/(ve-de)-1)}(Q)+function(le){return V(R(le),U(le),C)}(Q))/2,r[m+"Spike"]=K.c2p(Q.p,!0),T(Q,_,r),r.hovertemplate=_.hovertemplate,r}}function i(r,n){var o=n.mcc||r.marker.color,l=n.mlcc||r.marker.line.color,u=b(r,n);return a.opacity(o)?o:a.opacity(l)&&u?l:void 0}ee.exports={hoverPoints:function(r,n,o,l,u){var d=t(r,n,o,l,u);if(d){var c=d.cd,m=c[0].trace,f=c[d.index];return d.color=i(m,f),k.getComponentMethod("errorbars","hoverInfo")(f,m,d),[d]}},hoverOnBars:t,getTraceColor:i}},51132:function(ee,D,e){ee.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(ee){ee.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(ee,D,e){var M=e(24040),k=e(54460),a=e(3400),T=e(39324),b=e(31508).validateCornerradius;ee.exports=function(g,s,t){function i(p,v){return a.coerce(g,s,T,p,v)}for(var r=!1,n=!1,o=!1,l={},u=i("barmode"),d=0;d<t.length;d++){var c=t[d];if(M.traceIs(c,"bar")&&c.visible){if(r=!0,u==="group"){var m=c.xaxis+c.yaxis;l[m]&&(o=!0),l[m]=!0}c.visible&&c.type==="histogram"&&k.getFromId({_fullLayout:s},c[c.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(n=!0)}}if(r){u!=="overlay"&&i("barnorm"),i("bargap",n&&!o?0:.2),i("bargroupgap");var f=i("barcornerradius");s.barcornerradius=b(f)}else delete s.barmode}},98184:function(ee,D,e){var M=e(33428),k=e(38248),a=e(3400),T=e(72736),b=e(76308),g=e(43616),s=e(24040),t=e(54460).tickText,i=e(82744),r=i.recordMinTextSize,n=i.clearMinTextSize,o=e(60100),l=e(60444),u=e(78048),d=e(20832),c=d.text,m=d.textposition,f=e(10624).appendArrayPointValue,p=u.TEXTPAD;function v(O){return O.id}function y(O){if(O.ids)return v}function x(O){return(O>0)-(O<0)}function _(O,R){return O<R?1:-1}function h(O,R,U,z){var N;return!R.uniformtext.mode&&S(U)?(z&&(N=z()),O.transition().duration(U.duration).ease(U.easing).each("end",function(){N&&N()}).each("interrupt",function(){N&&N()})):O}function S(O){return O&&O.duration>0}function w(O,R,U,z,N){return!(O<0||R<0)&&(U<=O&&z<=R||U<=R&&z<=O||(N?O>=U*(R/z):R>=z*(O/U)))}function E(O){return O==="auto"?0:O}function C(O,R){var U=Math.PI/180*R,z=Math.abs(Math.sin(U)),N=Math.abs(Math.cos(U));return{x:O.width*N+O.height*z,y:O.width*z+O.height*N}}function P(O,R,U,z,N,W){var F=!!W.isHorizontal,V=!!W.constrained,j=W.angle||0,te=W.anchor,J=te==="end",K=te==="start",Z=((W.leftToRight||0)+1)/2,X=1-Z,Q=W.hasB,re=W.r,ae=W.overhead,ie=N.width,le=N.height,pe=Math.abs(R-O),de=Math.abs(z-U),ve=pe>2*p&&de>2*p?p:0;pe-=2*ve,de-=2*ve;var be=E(j);j!=="auto"||ie<=pe&&le<=de||!(ie>pe||le>de)||(ie>de||le>pe)&&ie<le==pe<de||(be+=90);var me,ge,ke=C(N,be);if(re&&re-ae>p){var we=function(fe,xe,_e,Oe,De,Pe,Ue,Ve,Xe){var it,tt,pt,mt,gt=Math.max(0,Math.abs(xe-fe)-2*p),et=Math.max(0,Math.abs(Oe-_e)-2*p),$e=Pe-p,_t=Ue?$e-Math.sqrt($e*$e-($e-Ue)*($e-Ue)):$e,Pt=Xe?2*$e:Ve?$e-Ue:2*_t,Ot=Xe?2*$e:Ve?2*_t:$e-Ue;return De.y/De.x>=et/(gt-Pt)?mt=et/De.y:De.y/De.x<=(et-Ot)/gt?mt=gt/De.x:!Xe&&Ve?(it=De.x*De.x+De.y*De.y/4,pt=(gt-$e)*(gt-$e)+(et/2-$e)*(et/2-$e)-$e*$e,mt=(-(tt=-2*De.x*(gt-$e)-De.y*(et/2-$e))+Math.sqrt(tt*tt-4*it*pt))/(2*it)):Xe?(it=(De.x*De.x+De.y*De.y)/4,pt=(gt/2-$e)*(gt/2-$e)+(et/2-$e)*(et/2-$e)-$e*$e,mt=(-(tt=-De.x*(gt/2-$e)-De.y*(et/2-$e))+Math.sqrt(tt*tt-4*it*pt))/(2*it)):(it=De.x*De.x/4+De.y*De.y,pt=(gt/2-$e)*(gt/2-$e)+(et-$e)*(et-$e)-$e*$e,mt=(-(tt=-De.x*(gt/2-$e)-2*De.y*(et-$e))+Math.sqrt(tt*tt-4*it*pt))/(2*it)),{scale:mt=Math.min(1,mt),pad:Ve?Math.max(0,$e-Math.sqrt(Math.max(0,$e*$e-($e-(et-De.y*mt)/2)*($e-(et-De.y*mt)/2)))-Ue):Math.max(0,$e-Math.sqrt(Math.max(0,$e*$e-($e-(gt-De.x*mt)/2)*($e-(gt-De.x*mt)/2)))-Ue)}}(O,R,U,z,ke,re,ae,F,Q);me=we.scale,ge=we.pad}else me=1,V&&(me=Math.min(1,pe/ke.x,de/ke.y)),ge=0;var ue=N.left*X+N.right*Z,oe=(N.top+N.bottom)/2,he=(O+p)*X+(R-p)*Z,Ee=(U+z)/2,Te=0,Me=0;if(K||J){var Se=(F?ke.x:ke.y)/2;re&&(J||Q)&&(ve+=ge);var ze=F?_(O,R):_(U,z);F?K?(he=O+ze*ve,Te=-ze*Se):(he=R-ze*ve,Te=ze*Se):K?(Ee=U+ze*ve,Me=-ze*Se):(Ee=z-ze*ve,Me=ze*Se)}return{textX:ue,textY:oe,targetX:he,targetY:Ee,anchorX:Te,anchorY:Me,scale:me,rotate:be}}ee.exports={plot:function(O,R,U,z,N,W){var F=R.xaxis,V=R.yaxis,j=O._fullLayout,te=O._context.staticPlot;N||(N={mode:j.barmode,norm:j.barmode,gap:j.bargap,groupgap:j.bargroupgap},n("bar",j));var J=a.makeTraceGroups(z,U,"trace bars").each(function(K){var Z=M.select(this),X=K[0].trace,Q=K[0].t,re=X.type==="waterfall",ae=X.type==="funnel",ie=X.type==="histogram",le=X.type==="bar",pe=le||ae,de=0;re&&X.connector.visible&&X.connector.mode==="between"&&(de=X.connector.line.width/2);var ve=X.orientation==="h",be=S(N),me=a.ensureSingle(Z,"g","points"),ge=y(X),ke=me.selectAll("g.point").data(a.identity,ge);ke.enter().append("g").classed("point",!0),ke.exit().remove(),ke.each(function(ue,oe){var he,Ee,Te=M.select(this),Me=function(nt,Re,Fe,rt){var Ye=[],ct=[],ht=rt?Re:Fe,dt=rt?Fe:Re;return Ye[0]=ht.c2p(nt.s0,!0),ct[0]=dt.c2p(nt.p0,!0),Ye[1]=ht.c2p(nt.s1,!0),ct[1]=dt.c2p(nt.p1,!0),rt?[Ye,ct]:[ct,Ye]}(ue,F,V,ve),Se=Me[0][0],ze=Me[0][1],fe=Me[1][0],xe=Me[1][1],_e=(ve?ze-Se:xe-fe)==0;if(_e&&pe&&l.getLineWidth(X,ue)&&(_e=!1),_e||(_e=!(k(Se)&&k(ze)&&k(fe)&&k(xe))),ue.isBlank=_e,_e&&(ve?ze=Se:xe=fe),de&&!_e&&(ve?(Se-=_(Se,ze)*de,ze+=_(Se,ze)*de):(fe-=_(fe,xe)*de,xe+=_(fe,xe)*de)),X.type==="waterfall"){if(!_e){var Oe=X[ue.dir].marker;he=Oe.line.width,Ee=Oe.color}}else he=l.getLineWidth(X,ue),Ee=ue.mc||X.marker.color;function De(nt){var Re=M.round(he/2%1,2);return N.gap===0&&N.groupgap===0?M.round(Math.round(nt)-Re,2):nt}var Pe=b.opacity(Ee)<1||he>.01?De:function(nt,Re,Fe){return Fe&&nt===Re?nt:Math.abs(nt-Re)>=2?De(nt):nt>Re?Math.ceil(nt):Math.floor(nt)};O._context.staticPlot||(Se=Pe(Se,ze,ve),ze=Pe(ze,Se,ve),fe=Pe(fe,xe,!ve),xe=Pe(xe,fe,!ve));var Ue,Ve=ve?F.c2p:V.c2p;Ue=ue.s0>0?ue._sMax:ue.s0<0?ue._sMin:ue.s1>0?ue._sMax:ue._sMin;var Xe,it,tt=le||ie?function(nt,Re){if(!nt)return 0;var Fe,rt=Math.abs(ve?xe-fe:ze-Se),Ye=Math.abs(ve?ze-Se:xe-fe),ct=Pe(Math.abs(Ve(Ue,!0)-Ve(0,!0))),ht=ue.hasB?Math.min(rt/2,Ye/2):Math.min(rt/2,ct);return Fe=Re==="%"?rt*(Math.min(50,nt)/100):nt,Pe(Math.max(Math.min(Fe,ht),0))}(Q.cornerradiusvalue,Q.cornerradiusform):0,pt="M"+Se+","+fe+"V"+xe+"H"+ze+"V"+fe+"Z",mt=0;if(tt&&ue.s){var gt=x(ue.s0)===0||x(ue.s)===x(ue.s0)?ue.s1:ue.s0;if((mt=Pe(ue.hasB?0:Math.abs(Ve(Ue,!0)-Ve(gt,!0))))<tt){var et=_(Se,ze),$e=_(fe,xe),_t=et===-$e?1:0;if(ve)if(ue.hasB)Xe="M"+(Se+tt*et)+","+fe+"A "+tt+","+tt+" 0 0 "+_t+" "+Se+","+(fe+tt*$e)+"V"+(xe-tt*$e)+"A "+tt+","+tt+" 0 0 "+_t+" "+(Se+tt*et)+","+xe+"H"+(ze-tt*et)+"A "+tt+","+tt+" 0 0 "+_t+" "+ze+","+(xe-tt*$e)+"V"+(fe+tt*$e)+"A "+tt+","+tt+" 0 0 "+_t+" "+(ze-tt*et)+","+fe+"Z";else{var Pt=(it=Math.abs(ze-Se)+mt)<tt?tt-Math.sqrt(it*(2*tt-it)):0,Ot=mt>0?Math.sqrt(mt*(2*tt-mt)):0,Lt=et>0?Math.max:Math.min;Xe="M"+Se+","+fe+"V"+(xe-Pt*$e)+"H"+Lt(ze-(tt-mt)*et,Se)+"A "+tt+","+tt+" 0 0 "+_t+" "+ze+","+(xe-tt*$e-Ot)+"V"+(fe+tt*$e+Ot)+"A "+tt+","+tt+" 0 0 "+_t+" "+Lt(ze-(tt-mt)*et,Se)+","+(fe+Pt*$e)+"Z"}else if(ue.hasB)Xe="M"+(Se+tt*et)+","+fe+"A "+tt+","+tt+" 0 0 "+_t+" "+Se+","+(fe+tt*$e)+"V"+(xe-tt*$e)+"A "+tt+","+tt+" 0 0 "+_t+" "+(Se+tt*et)+","+xe+"H"+(ze-tt*et)+"A "+tt+","+tt+" 0 0 "+_t+" "+ze+","+(xe-tt*$e)+"V"+(fe+tt*$e)+"A "+tt+","+tt+" 0 0 "+_t+" "+(ze-tt*et)+","+fe+"Z";else{var He=(it=Math.abs(xe-fe)+mt)<tt?tt-Math.sqrt(it*(2*tt-it)):0,We=mt>0?Math.sqrt(mt*(2*tt-mt)):0,Be=$e>0?Math.max:Math.min;Xe="M"+(Se+He*et)+","+fe+"V"+Be(xe-(tt-mt)*$e,fe)+"A "+tt+","+tt+" 0 0 "+_t+" "+(Se+tt*et-We)+","+xe+"H"+(ze-tt*et+We)+"A "+tt+","+tt+" 0 0 "+_t+" "+(ze-He*et)+","+Be(xe-(tt-mt)*$e,fe)+"V"+fe+"Z"}}else Xe=pt}else Xe=pt;var Ge=h(a.ensureSingle(Te,"path"),j,N,W);if(Ge.style("vector-effect",te?"none":"non-scaling-stroke").attr("d",isNaN((ze-Se)*(xe-fe))||_e&&O._context.staticPlot?"M0,0Z":Xe).call(g.setClipUrl,R.layerClipId,O),!j.uniformtext.mode&&be){var at=g.makePointStyleFns(X);g.singlePointStyle(ue,Ge,X,at,O)}(function(nt,Re,Fe,rt,Ye,ct,ht,dt,ut,kt,xt,vt,Mt){var St,It=Re.xaxis,Gt=Re.yaxis,en=nt._fullLayout;function Nt($n,qt,hn){return a.ensureSingle($n,"text").text(qt).attr({class:"bartext bartext-"+St,"text-anchor":"middle","data-notex":1}).call(g.font,hn).call(T.convertToTspans,nt)}var jt=rt[0].trace,Jt=jt.orientation==="h",An=function($n,qt,hn,Et,Ht){var Kt,gn=qt[0].trace;return Kt=gn.texttemplate?function(pn,yn,on,Zt,Xt){var nn=yn[0].trace,ln=a.castOption(nn,on,"texttemplate");if(!ln)return"";var kn,En,Fn,Bn,Zn=nn.type==="histogram",Vn=nn.type==="waterfall",Xn=nn.type==="funnel",Kn=nn.orientation==="h";function Wn(Or){return t(Bn,Bn.c2l(Or),!0).text}Kn?(kn="y",En=Xt,Fn="x",Bn=Zt):(kn="x",En=Zt,Fn="y",Bn=Xt);var fr,ar=yn[on],lr={};lr.label=ar.p,lr.labelLabel=lr[kn+"Label"]=(fr=ar.p,t(En,En.c2l(fr),!0).text);var tr=a.castOption(nn,ar.i,"text");(tr===0||tr)&&(lr.text=tr),lr.value=ar.s,lr.valueLabel=lr[Fn+"Label"]=Wn(ar.s);var pr={};f(pr,nn,ar.i),(Zn||pr.x===void 0)&&(pr.x=Kn?lr.value:lr.label),(Zn||pr.y===void 0)&&(pr.y=Kn?lr.label:lr.value),(Zn||pr.xLabel===void 0)&&(pr.xLabel=Kn?lr.valueLabel:lr.labelLabel),(Zn||pr.yLabel===void 0)&&(pr.yLabel=Kn?lr.labelLabel:lr.valueLabel),Vn&&(lr.delta=+ar.rawS||ar.s,lr.deltaLabel=Wn(lr.delta),lr.final=ar.v,lr.finalLabel=Wn(lr.final),lr.initial=lr.final-lr.delta,lr.initialLabel=Wn(lr.initial)),Xn&&(lr.value=ar.s,lr.valueLabel=Wn(lr.value),lr.percentInitial=ar.begR,lr.percentInitialLabel=a.formatPercent(ar.begR),lr.percentPrevious=ar.difR,lr.percentPreviousLabel=a.formatPercent(ar.difR),lr.percentTotal=ar.sumR,lr.percenTotalLabel=a.formatPercent(ar.sumR));var _r=a.castOption(nn,ar.i,"customdata");return _r&&(lr.customdata=_r),a.texttemplateString(ln,lr,pn._d3locale,pr,lr,nn._meta||{})}($n,qt,hn,Et,Ht):gn.textinfo?function(pn,yn,on,Zt){var Xt=pn[0].trace,nn=Xt.orientation==="h",ln=Xt.type==="waterfall",kn=Xt.type==="funnel";function En(_r){return t(nn?on:Zt,+_r,!0).text}var Fn,Bn,Zn=Xt.textinfo,Vn=pn[yn],Xn=Zn.split("+"),Kn=[],Wn=function(_r){return Xn.indexOf(_r)!==-1};if(Wn("label")&&Kn.push((Bn=pn[yn].p,t(nn?Zt:on,Bn,!0).text)),Wn("text")&&((Fn=a.castOption(Xt,Vn.i,"text"))===0||Fn)&&Kn.push(Fn),ln){var fr=+Vn.rawS||Vn.s,ar=Vn.v,lr=ar-fr;Wn("initial")&&Kn.push(En(lr)),Wn("delta")&&Kn.push(En(fr)),Wn("final")&&Kn.push(En(ar))}if(kn){Wn("value")&&Kn.push(En(Vn.s));var tr=0;Wn("percent initial")&&tr++,Wn("percent previous")&&tr++,Wn("percent total")&&tr++;var pr=tr>1;Wn("percent initial")&&(Fn=a.formatPercent(Vn.begR),pr&&(Fn+=" of initial"),Kn.push(Fn)),Wn("percent previous")&&(Fn=a.formatPercent(Vn.difR),pr&&(Fn+=" of previous"),Kn.push(Fn)),Wn("percent total")&&(Fn=a.formatPercent(Vn.sumR),pr&&(Fn+=" of total"),Kn.push(Fn))}return Kn.join("<br>")}(qt,hn,Et,Ht):l.getValue(gn.text,hn),l.coerceString(c,Kt)}(en,rt,Ye,It,Gt);St=function($n,qt){var hn=l.getValue($n.textposition,qt);return l.coerceEnumerated(m,hn)}(jt,Ye);var _n=vt.mode==="stack"||vt.mode==="relative",un=rt[Ye],Wt=!_n||un._outmost,rn=un.hasB,$t=kt&&kt-xt>p;if(An&&St!=="none"&&(!un.isBlank&&ct!==ht&&dt!==ut||St!=="auto"&&St!=="inside")){var sn=en.font,xn=o.getBarColor(rt[Ye],jt),wn=o.getInsideTextFont(jt,Ye,sn,xn),Pn=o.getOutsideTextFont(jt,Ye,sn),Cn=jt.insidetextanchor||"end",Sn=Fe.datum();Jt?It.type==="log"&&Sn.s0<=0&&(ct=It.range[0]<It.range[1]?0:It._length):Gt.type==="log"&&Sn.s0<=0&&(dt=Gt.range[0]<Gt.range[1]?Gt._length:0);var Nn,zn,er,nr,ir,Yn=Math.abs(ht-ct),mr=Math.abs(ut-dt),Bt=Yn-2*p,Qt=mr-2*p;if(St==="outside"&&(Wt||un.hasB||(St="inside")),St==="auto")if(Wt){St="inside",Nn=Nt(Fe,An,ir=a.ensureUniformFontSize(nt,wn)),er=(zn=g.bBox(Nn.node())).width,nr=zn.height;var vn,fn=er>0&&nr>0;vn=$t?rn?w(Bt-2*kt,Qt,er,nr,Jt)||w(Bt,Qt-2*kt,er,nr,Jt):Jt?w(Bt-(kt-xt),Qt,er,nr,Jt)||w(Bt,Qt-2*(kt-xt),er,nr,Jt):w(Bt,Qt-(kt-xt),er,nr,Jt)||w(Bt-2*(kt-xt),Qt,er,nr,Jt):w(Bt,Qt,er,nr,Jt),fn&&vn?St="inside":(St="outside",Nn.remove(),Nn=null)}else St="inside";if(!Nn){var Tn=(Nn=Nt(Fe,An,ir=a.ensureUniformFontSize(nt,St==="outside"?Pn:wn))).attr("transform");if(Nn.attr("transform",""),er=(zn=g.bBox(Nn.node())).width,nr=zn.height,Nn.attr("transform",Tn),er<=0||nr<=0)return void Nn.remove()}var jn,On=jt.textangle;jn=St==="outside"?function($n,qt,hn,Et,Ht,Kt){var gn,pn=!!Kt.isHorizontal,yn=!!Kt.constrained,on=Kt.angle||0,Zt=Ht.width,Xt=Ht.height,nn=Math.abs(qt-$n),ln=Math.abs(Et-hn);gn=pn?ln>2*p?p:0:nn>2*p?p:0;var kn=1;yn&&(kn=pn?Math.min(1,ln/Xt):Math.min(1,nn/Zt));var En=E(on),Fn=C(Ht,En),Bn=(pn?Fn.x:Fn.y)/2,Zn=(Ht.left+Ht.right)/2,Vn=(Ht.top+Ht.bottom)/2,Xn=($n+qt)/2,Kn=(hn+Et)/2,Wn=0,fr=0,ar=pn?_(qt,$n):_(hn,Et);return pn?(Xn=qt-ar*gn,Wn=ar*Bn):(Kn=Et+ar*gn,fr=-ar*Bn),{textX:Zn,textY:Vn,targetX:Xn,targetY:Kn,anchorX:Wn,anchorY:fr,scale:kn,rotate:En}}(ct,ht,dt,ut,zn,{isHorizontal:Jt,constrained:jt.constraintext==="both"||jt.constraintext==="outside",angle:On}):P(ct,ht,dt,ut,zn,{isHorizontal:Jt,constrained:jt.constraintext==="both"||jt.constraintext==="inside",angle:On,anchor:Cn,hasB:rn,r:kt,overhead:xt}),jn.fontSize=ir.size,r(jt.type==="histogram"?"bar":jt.type,jn,en),un.transform=jn;var Dn=h(Nn,en,vt,Mt);a.setTransormAndDisplay(Dn,jn)}else Fe.select("text").remove()})(O,R,Te,K,oe,Se,ze,fe,xe,tt,mt,N,W),R.layerClipId&&g.hideOutsideRangePoint(ue,Te.select("text"),F,V,X.xcalendar,X.ycalendar)});var we=X.cliponaxis===!1;g.setClipUrl(Z,we?null:R.layerClipId,O)});s.getComponentMethod("errorbars","plot")(O,J,R,N)},toMoveInsideBar:P}},45784:function(ee){function D(e,M,k,a,T){var b=M.c2p(a?e.s0:e.p0,!0),g=M.c2p(a?e.s1:e.p1,!0),s=k.c2p(a?e.p0:e.s0,!0),t=k.c2p(a?e.p1:e.s1,!0);return T?[(b+g)/2,(s+t)/2]:a?[g,(s+t)/2]:[(b+g)/2,t]}ee.exports=function(e,M){var k,a=e.cd,T=e.xaxis,b=e.yaxis,g=a[0].trace,s=g.type==="funnel",t=g.orientation==="h",i=[];if(M===!1)for(k=0;k<a.length;k++)a[k].selected=0;else for(k=0;k<a.length;k++){var r=a[k],n="ct"in r?r.ct:D(r,T,b,t,s);M.contains(n,!1,k,e)?(i.push({pointNumber:k,x:T.c2d(r.x),y:b.c2d(r.y)}),r.selected=1):r.selected=0}return i}},72592:function(ee,D,e){ee.exports=k;var M=e(3400).distinctVals;function k(a,T){this.traces=a,this.sepNegVal=T.sepNegVal,this.overlapNoMerge=T.overlapNoMerge;for(var b=1/0,g=T.posAxis._id.charAt(0),s=[],t=0;t<a.length;t++){for(var i=a[t],r=0;r<i.length;r++){var n=i[r],o=n.p;o===void 0&&(o=n[g]),o!==void 0&&s.push(o)}i[0]&&i[0].width1&&(b=Math.min(i[0].width1,b))}this.positions=s;var l=M(s);this.distinctPositions=l.vals,l.vals.length===1&&b!==1/0?this.minDiff=b:this.minDiff=Math.min(l.minDiff,b);var u=(T.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}k.prototype.put=function(a,T){var b=this.getLabel(a,T),g=this.bins[b]||0;return this.bins[b]=g+T,g},k.prototype.get=function(a,T){var b=this.getLabel(a,T);return this.bins[b]||0},k.prototype.getLabel=function(a,T){return(T<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?a:Math.round(a/this.binWidth))}},60100:function(ee,D,e){var M=e(33428),k=e(76308),a=e(43616),T=e(3400),b=e(24040),g=e(82744).resizeText,s=e(20832),t=s.textfont,i=s.insidetextfont,r=s.outsidetextfont,n=e(60444);function o(v,y,x){a.pointStyle(v.selectAll("path"),y,x),l(v,y,x)}function l(v,y,x){v.selectAll("text").each(function(_){var h=M.select(this),S=T.ensureUniformFontSize(x,u(h,_,y,x));a.font(h,S)})}function u(v,y,x,_){var h=_._fullLayout.font,S=x.textfont;if(v.classed("bartext-inside")){var w=p(y,x);S=c(x,y.i,h,w)}else v.classed("bartext-outside")&&(S=m(x,y.i,h));return S}function d(v,y,x){return f(t,v.textfont,y,x)}function c(v,y,x,_){var h=d(v,y,x);return(v._input.textfont===void 0||v._input.textfont.color===void 0||Array.isArray(v.textfont.color)&&v.textfont.color[y]===void 0)&&(h={color:k.contrast(_),family:h.family,size:h.size}),f(i,v.insidetextfont,y,h)}function m(v,y,x){var _=d(v,y,x);return f(r,v.outsidetextfont,y,_)}function f(v,y,x,_){y=y||{};var h=n.getValue(y.family,x),S=n.getValue(y.size,x),w=n.getValue(y.color,x);return{family:n.coerceString(v.family,h,_.family),size:n.coerceNumber(v.size,S,_.size),color:n.coerceColor(v.color,w,_.color)}}function p(v,y){return y.type==="waterfall"?y[v.dir].marker.color:v.mcc||v.mc||y.marker.color}ee.exports={style:function(v){var y=M.select(v).selectAll("g.barlayer").selectAll("g.trace");g(v,y,"bar");var x=y.size(),_=v._fullLayout;y.style("opacity",function(h){return h[0].trace.opacity}).each(function(h){(_.barmode==="stack"&&x>1||_.bargap===0&&_.bargroupgap===0&&!h[0].trace.marker.line.width)&&M.select(this).attr("shape-rendering","crispEdges")}),y.selectAll("g.points").each(function(h){o(M.select(this),h[0].trace,v)}),b.getComponentMethod("errorbars","style")(y)},styleTextPoints:l,styleOnSelect:function(v,y,x){var _=y[0].trace;_.selectedpoints?function(h,S,w){a.selectedPointStyle(h.selectAll("path"),S),function(E,C,P){E.each(function(O){var R,U=M.select(this);if(O.selected){R=T.ensureUniformFontSize(P,u(U,O,C,P));var z=C.selected.textfont&&C.selected.textfont.color;z&&(R.color=z),a.font(U,R)}else a.selectedTextStyle(U,C)})}(h.selectAll("text"),S,w)}(x,_,v):(o(x,_,v),b.getComponentMethod("errorbars","style")(x))},getInsideTextFont:c,getOutsideTextFont:m,getBarColor:p,resizeText:g}},55592:function(ee,D,e){var M=e(76308),k=e(94288).hasColorscale,a=e(27260),T=e(3400).coercePattern;ee.exports=function(b,g,s,t,i){var r=s("marker.color",t),n=k(b,"marker");n&&a(b,g,i,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",M.defaultLine),k(b,"marker.line")&&a(b,g,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),T(s,"marker.pattern",r,n),s("selected.marker.color"),s("unselected.marker.color")}},82744:function(ee,D,e){var M=e(33428),k=e(3400);function a(T){return"_"+T+"Text_minsize"}ee.exports={recordMinTextSize:function(T,b,g){if(g.uniformtext.mode){var s=a(T),t=g.uniformtext.minsize,i=b.scale*b.fontSize;b.hide=i<t,g[s]=g[s]||1/0,b.hide||(g[s]=Math.min(g[s],Math.max(i,t)))}},clearMinTextSize:function(T,b){b[a(T)]=void 0},resizeText:function(T,b,g){var s=T._fullLayout,t=s["_"+g+"Text_minsize"];if(t){var i,r=s.uniformtext.mode==="hide";switch(g){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}b.selectAll(i).each(function(n){var o=n.transform;if(o){o.scale=r&&o.hide?0:t/o.fontSize;var l=M.select(this).select("text");k.setTransormAndDisplay(l,o)}})}}}},78100:function(ee,D,e){var M,k=e(21776).Ks,a=e(92880).extendFlat,T=e(8319),b=e(20832);ee.exports={r:T.r,theta:T.theta,r0:T.r0,dr:T.dr,theta0:T.theta0,dtheta:T.dtheta,thetaunit:T.thetaunit,base:a({},b.base,{}),offset:a({},b.offset,{}),width:a({},b.width,{}),text:a({},b.text,{}),hovertext:a({},b.hovertext,{}),marker:(M=a({},b.marker),delete M.cornerradius,M),hoverinfo:T.hoverinfo,hovertemplate:k(),selected:b.selected,unselected:b.unselected}},47056:function(ee,D,e){var M=e(94288).hasColorscale,k=e(47128),a=e(3400).isArrayOrTypedArray,T=e(84664),b=e(96376).setGroupPositions,g=e(4500),s=e(24040).traceIs,t=e(3400).extendFlat;ee.exports={calc:function(i,r){for(var n=i._fullLayout,o=r.subplot,l=n[o].radialaxis,u=n[o].angularaxis,d=l.makeCalcdata(r,"r"),c=u.makeCalcdata(r,"theta"),m=r._length,f=new Array(m),p=d,v=c,y=0;y<m;y++)f[y]={p:v[y],s:p[y]};function x(_){var h=r[_];h!==void 0&&(r["_"+_]=a(h)?u.makeCalcdata(r,_):u.d2c(h,r.thetaunit))}return u.type==="linear"&&(x("width"),x("offset")),M(r,"marker")&&k(i,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),M(r,"marker.line")&&k(i,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),T(f,r),g(f,r),f},crossTraceCalc:function(i,r,n){for(var o=i.calcdata,l=[],u=0;u<o.length;u++){var d=o[u],c=d[0].trace;c.visible===!0&&s(c,"bar")&&c.subplot===n&&l.push(d)}var m=t({},r.radialaxis,{_id:"x"}),f=r.angularaxis;b(i,f,m,l,{mode:r.barmode,norm:r.barnorm,gap:r.bargap,groupgap:r.bargroupgap})}}},70384:function(ee,D,e){var M=e(3400),k=e(85968).handleRThetaDefaults,a=e(55592),T=e(78100);ee.exports=function(b,g,s,t){function i(r,n){return M.coerce(b,g,T,r,n)}k(b,g,t,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),a(b,g,i,s,t),M.coerceSelectionMarkerOpacity(g,i)):g.visible=!1}},68896:function(ee,D,e){var M=e(93024),k=e(3400),a=e(63400).getTraceColor,T=k.fillText,b=e(8504).makeHoverPointText,g=e(57384).isPtInsidePolygon;ee.exports=function(s,t,i){var r=s.cd,n=r[0].trace,o=s.subplot,l=o.radialAxis,u=o.angularAxis,d=o.vangles,c=d?g:k.isPtInsideSector,m=s.maxHoverDistance,f=u._period||2*Math.PI,p=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),v=Math.atan2(i,t);if(l.range[0]>l.range[1]&&(v+=Math.PI),M.getClosest(r,function(_){return c(p,v,[_.rp0,_.rp1],[_.thetag0,_.thetag1],d)?m+Math.min(1,Math.abs(_.thetag1-_.thetag0)/f)-1+(_.rp1-p)/(_.rp1-_.rp0)-1:1/0},s),s.index!==!1){var y=r[s.index];s.x0=s.x1=y.ct[0],s.y0=s.y1=y.ct[1];var x=k.extendFlat({},y,{r:y.s,theta:y.p});return T(y,n,s),b(x,n,o,s),s.hovertemplate=n.hovertemplate,s.color=a(n,y),s.xLabelVal=s.yLabelVal=void 0,y.s<0&&(s.idealAlign="left"),[s]}}},94456:function(ee,D,e){ee.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(ee){ee.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(ee,D,e){var M=e(3400),k=e(9320);ee.exports=function(a,T,b){var g,s={};function t(n,o){return M.coerce(a[g]||{},T[g],k,n,o)}for(var i=0;i<b.length;i++){var r=b[i];r.type==="barpolar"&&r.visible===!0&&(s[g=r.subplot]||(t("barmode"),t("bargap"),s[g]=1))}}},42040:function(ee,D,e){var M=e(33428),k=e(38248),a=e(3400),T=e(43616),b=e(57384);ee.exports=function(g,s,t){var i=g._context.staticPlot,r=s.xaxis,n=s.yaxis,o=s.radialAxis,l=s.angularAxis,u=function(c){var m=c.cxx,f=c.cyy;return c.vangles?function(p,v,y,x){var _,h;a.angleDelta(y,x)>0?(_=y,h=x):(_=x,h=y);var S=[b.findEnclosingVertexAngles(_,c.vangles)[0],(_+h)/2,b.findEnclosingVertexAngles(h,c.vangles)[1]];return b.pathPolygonAnnulus(p,v,_,h,S,m,f)}:function(p,v,y,x){return a.pathAnnulus(p,v,y,x,m,f)}}(s),d=s.layers.frontplot.select("g.barlayer");a.makeTraceGroups(d,t,"trace bars").each(function(){var c=M.select(this),m=a.ensureSingle(c,"g","points").selectAll("g.point").data(a.identity);m.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),m.exit().remove(),m.each(function(f){var p,v=M.select(this),y=f.rp0=o.c2p(f.s0),x=f.rp1=o.c2p(f.s1),_=f.thetag0=l.c2g(f.p0),h=f.thetag1=l.c2g(f.p1);if(k(y)&&k(x)&&k(_)&&k(h)&&y!==x&&_!==h){var S=o.c2g(f.s1),w=(_+h)/2;f.ct=[r.c2p(S*Math.cos(w)),n.c2p(S*Math.sin(w))],p=u(y,x,_,h)}else p="M0,0Z";a.ensureSingle(v,"path").attr("d",p)}),T.setClipUrl(c,s._hasClipOnAxisFalse?s.clipIds.forTraces:null,g)})}},63188:function(ee,D,e){var M=e(98304),k=e(52904),a=e(20832),T=e(22548),b=e(29736).axisHoverFormat,g=e(21776).Ks,s=e(92880).extendFlat,t=k.marker,i=t.line;ee.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:s({},t.symbol,{arrayOk:!1,editType:"plot"}),opacity:s({},t.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:s({},t.angle,{arrayOk:!1,editType:"calc"}),size:s({},t.size,{arrayOk:!1,editType:"calc"}),color:s({},t.color,{arrayOk:!1,editType:"style"}),line:{color:s({},i.color,{arrayOk:!1,dflt:T.defaultLine,editType:"style"}),width:s({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:M(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:{marker:k.selected.marker,editType:"style"},unselected:{marker:k.unselected.marker,editType:"style"},text:s({},k.text,{}),hovertext:s({},k.hovertext,{}),hovertemplate:g({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(ee,D,e){var M=e(38248),k=e(54460),a=e(1220),T=e(3400),b=e(39032).BADNUM,g=T._;ee.exports=function(c,m){var f,p,v,y,x,_,h,S=c._fullLayout,w=k.getFromId(c,m.xaxis||"x"),E=k.getFromId(c,m.yaxis||"y"),C=[],P=m.type==="violin"?"_numViolins":"_numBoxes";m.orientation==="h"?(v=w,y="x",x=E,_="y",h=!!m.yperiodalignment):(v=E,y="y",x=w,_="x",h=!!m.xperiodalignment);var O,R,U,z,N,W,F=function(De,Pe,Ue,Ve){var Xe,it=Pe+"0"in De;if(Pe in De||it&&"d"+Pe in De){var tt=Ue.makeCalcdata(De,Pe);return[a(De,Ue,Pe,tt).vals,tt]}Xe=it?De[Pe+"0"]:"name"in De&&(Ue.type==="category"||M(De.name)&&["linear","log"].indexOf(Ue.type)!==-1||T.isDateTime(De.name)&&Ue.type==="date")?De.name:Ve;for(var pt=Ue.type==="multicategory"?Ue.r2c_just_indices(Xe):Ue.d2c(Xe,0,De[Pe+"calendar"]),mt=De._length,gt=new Array(mt),et=0;et<mt;et++)gt[et]=pt;return[gt]}(m,_,x,S[P]),V=F[0],j=F[1],te=T.distinctVals(V,x),J=te.vals,K=te.minDiff/2,Z=(m.boxpoints||m.points)==="all"?T.identity:function(De){return De.v<O.lf||De.v>O.uf};if(m._hasPreCompStats){var X=m[y],Q=function(De){return v.d2c((m[De]||[])[f])},re=1/0,ae=-1/0;for(f=0;f<m._length;f++){var ie=V[f];if(M(ie)){if((O={}).pos=O[_]=ie,h&&j&&(O.orig_p=j[f]),O.q1=Q("q1"),O.med=Q("median"),O.q3=Q("q3"),R=[],X&&T.isArrayOrTypedArray(X[f]))for(p=0;p<X[f].length;p++)(W=v.d2c(X[f][p]))!==b&&(t(N={v:W,i:[f,p]},m,[f,p]),R.push(N));if(O.pts=R.sort(i),z=(U=O[y]=R.map(r)).length,O.med!==b&&O.q1!==b&&O.q3!==b&&O.med>=O.q1&&O.q3>=O.med){var le=Q("lowerfence");O.lf=le!==b&&le<=O.q1?le:n(O,U,z);var pe=Q("upperfence");O.uf=pe!==b&&pe>=O.q3?pe:o(O,U,z);var de=Q("mean");O.mean=de!==b?de:z?T.mean(U,z):(O.q1+O.q3)/2;var ve=Q("sd");O.sd=de!==b&&ve>=0?ve:z?T.stdev(U,z,O.mean):O.q3-O.q1,O.lo=l(O),O.uo=u(O);var be=Q("notchspan");be=be!==b&&be>0?be:d(O,z),O.ln=O.med-be,O.un=O.med+be;var me=O.lf,ge=O.uf;m.boxpoints&&U.length&&(me=Math.min(me,U[0]),ge=Math.max(ge,U[z-1])),m.notched&&(me=Math.min(me,O.ln),ge=Math.max(ge,O.un)),O.min=me,O.max=ge}else{var ke;T.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+O.q1,"median = "+O.med,"q3 = "+O.q3].join(`
`)),ke=O.med!==b?O.med:O.q1!==b?O.q3!==b?(O.q1+O.q3)/2:O.q1:O.q3!==b?O.q3:0,O.med=ke,O.q1=O.q3=ke,O.lf=O.uf=ke,O.mean=O.sd=ke,O.ln=O.un=ke,O.min=O.max=ke}re=Math.min(re,O.min),ae=Math.max(ae,O.max),O.pts2=R.filter(Z),C.push(O)}}m._extremes[v._id]=k.findExtremes(v,[re,ae],{padded:!0})}else{var we=v.makeCalcdata(m,y),ue=function(De,Pe){for(var Ue=De.length,Ve=new Array(Ue+1),Xe=0;Xe<Ue;Xe++)Ve[Xe]=De[Xe]-Pe;return Ve[Ue]=De[Ue-1]+Pe,Ve}(J,K),oe=J.length,he=function(De){for(var Pe=new Array(De),Ue=0;Ue<De;Ue++)Pe[Ue]=[];return Pe}(oe);for(f=0;f<m._length;f++)if(W=we[f],M(W)){var Ee=T.findBin(V[f],ue);Ee>=0&&Ee<oe&&(t(N={v:W,i:f},m,f),he[Ee].push(N))}var Te=1/0,Me=-1/0,Se=m.quartilemethod,ze=Se==="exclusive",fe=Se==="inclusive";for(f=0;f<oe;f++)if(he[f].length>0){var xe,_e;(O={}).pos=O[_]=J[f],R=O.pts=he[f].sort(i),z=(U=O[y]=R.map(r)).length,O.min=U[0],O.max=U[z-1],O.mean=T.mean(U,z),O.sd=T.stdev(U,z,O.mean)*m.sdmultiple,O.med=T.interp(U,.5),z%2&&(ze||fe)?(ze?(xe=U.slice(0,z/2),_e=U.slice(z/2+1)):fe&&(xe=U.slice(0,z/2+1),_e=U.slice(z/2)),O.q1=T.interp(xe,.5),O.q3=T.interp(_e,.5)):(O.q1=T.interp(U,.25),O.q3=T.interp(U,.75)),O.lf=n(O,U,z),O.uf=o(O,U,z),O.lo=l(O),O.uo=u(O);var Oe=d(O,z);O.ln=O.med-Oe,O.un=O.med+Oe,Te=Math.min(Te,O.ln),Me=Math.max(Me,O.un),O.pts2=R.filter(Z),C.push(O)}m.notched&&T.isTypedArray(we)&&(we=Array.from(we)),m._extremes[v._id]=k.findExtremes(v,m.notched?we.concat([Te,Me]):we,{padded:!0})}return function(De,Pe){if(T.isArrayOrTypedArray(Pe.selectedpoints))for(var Ue=0;Ue<De.length;Ue++){for(var Ve=De[Ue].pts||[],Xe={},it=0;it<Ve.length;it++)Xe[Ve[it].i]=it;T.tagSelected(Ve,Pe,Xe)}}(C,m),C.length>0?(C[0].t={num:S[P],dPos:K,posLetter:_,valLetter:y,labels:{med:g(c,"median:"),min:g(c,"min:"),q1:g(c,"q1:"),q3:g(c,"q3:"),max:g(c,"max:"),mean:m.boxmean==="sd"||m.sizemode==="sd"?g(c,"mean  :").replace("",m.sdmultiple===1?"":m.sdmultiple+""):g(c,"mean:"),lf:g(c,"lower fence:"),uf:g(c,"upper fence:")}},S[P]++,C):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function t(c,m,f){for(var p in s)T.isArrayOrTypedArray(m[p])&&(Array.isArray(f)?T.isArrayOrTypedArray(m[p][f[0]])&&(c[s[p]]=m[p][f[0]][f[1]]):c[s[p]]=m[p][f])}function i(c,m){return c.v-m.v}function r(c){return c.v}function n(c,m,f){return f===0?c.q1:Math.min(c.q1,m[Math.min(T.findBin(2.5*c.q1-1.5*c.q3,m,!0)+1,f-1)])}function o(c,m,f){return f===0?c.q3:Math.max(c.q3,m[Math.max(T.findBin(2.5*c.q3-1.5*c.q1,m),0)])}function l(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function d(c,m){return m===0?0:1.57*(c.q3-c.q1)/Math.sqrt(m)}},96404:function(ee,D,e){var M=e(54460),k=e(3400),a=e(71888).getAxisGroup,T=["v","h"];function b(g,s,t,i){var r,n,o,l=s.calcdata,u=s._fullLayout,d=i._id,c=d.charAt(0),m=[],f=0;for(r=0;r<t.length;r++)for(o=l[t[r]],n=0;n<o.length;n++)m.push(i.c2l(o[n].pos,!0)),f+=(o[n].pts2||[]).length;if(m.length){var p=k.distinctVals(m);i.type!=="category"&&i.type!=="multicategory"||(p.minDiff=1);var v=p.minDiff/2;M.minDtick(i,p.minDiff,p.vals[0],!0);var y=u[g==="violin"?"_numViolins":"_numBoxes"],x=u[g+"mode"]==="group"&&y>1,_=1-u[g+"gap"],h=1-u[g+"groupgap"];for(r=0;r<t.length;r++){var S,w,E,C,P,O,R=(o=l[t[r]])[0].trace,U=o[0].t,z=R.width,N=R.side;if(z)S=w=C=z/2,E=0;else if(S=v,x){var W=a(u,i._id)+R.orientation,F=(u._alignmentOpts[W]||{})[R.alignmentgroup]||{},V=Object.keys(F.offsetGroups||{}).length,j=V||y;w=S*_*h/j,E=2*S*(((V?R._offsetIndex:U.num)+.5)/j-.5)*_,C=S*_/j}else w=S*_*h,E=0,C=S;U.dPos=S,U.bPos=E,U.bdPos=w,U.wHover=C;var te,J,K,Z,X,Q,re=E+w,ae=!!z;if(N==="positive"?(P=S*(z?1:.5),te=re,O=te=E):N==="negative"?(P=te=E,O=S*(z?1:.5),J=re):(P=O=S,te=J=re),(R.boxpoints||R.points)&&f>0){var ie=R.pointpos,le=R.jitter,pe=R.marker.size/2,de=0;ie+le>=0&&((de=re*(ie+le))>P?(ae=!0,X=pe,K=de):de>te&&(X=pe,K=P)),de<=P&&(K=P);var ve=0;ie-le<=0&&((ve=-re*(ie-le))>O?(ae=!0,Q=pe,Z=ve):ve>J&&(Q=pe,Z=O)),ve<=O&&(Z=O)}else K=P,Z=O;var be=new Array(o.length);for(n=0;n<o.length;n++)be[n]=o[n].pos;R._extremes[d]=M.findExtremes(i,be,{padded:ae,vpadminus:Z,vpadplus:K,vpadLinearized:!0,ppadminus:{x:Q,y:X}[c],ppadplus:{x:X,y:Q}[c]})}}}ee.exports={crossTraceCalc:function(g,s){for(var t=g.calcdata,i=s.xaxis,r=s.yaxis,n=0;n<T.length;n++){for(var o=T[n],l=o==="h"?r:i,u=[],d=0;d<t.length;d++){var c=t[d],m=c[0].t,f=c[0].trace;f.visible!==!0||f.type!=="box"&&f.type!=="candlestick"||m.empty||(f.orientation||"v")!==o||f.xaxis!==i._id||f.yaxis!==r._id||u.push(d)}b("box",g,u,l)}},setPositionOffset:b}},90624:function(ee,D,e){var M=e(3400),k=e(24040),a=e(76308),T=e(31147),b=e(20011),g=e(52976),s=e(63188);function t(r,n,o,l){function u(N){var W=0;return N&&N.length&&(W+=1,M.isArrayOrTypedArray(N[0])&&N[0].length&&(W+=1)),W}function d(N){return M.validate(r[N],s[N])}var c,m=o("y"),f=o("x");if(n.type==="box"){var p=o("q1"),v=o("median"),y=o("q3");n._hasPreCompStats=p&&p.length&&v&&v.length&&y&&y.length,c=Math.min(M.minRowLength(p),M.minRowLength(v),M.minRowLength(y))}var x,_,h=u(m),S=u(f),w=h&&M.minRowLength(m),E=S&&M.minRowLength(f),C=l.calendar,P={autotypenumbers:l.autotypenumbers};if(n._hasPreCompStats)switch(String(S)+String(h)){case"00":var O=d("x0")||d("dx");x=!d("y0")&&!d("dy")||O?"v":"h",_=c;break;case"10":x="v",_=Math.min(c,E);break;case"20":x="h",_=Math.min(c,f.length);break;case"01":x="h",_=Math.min(c,w);break;case"02":x="v",_=Math.min(c,m.length);break;case"12":x="v",_=Math.min(c,E,m.length);break;case"21":x="h",_=Math.min(c,f.length,w);break;case"11":_=0;break;case"22":var R,U=!1;for(R=0;R<f.length;R++)if(g(f[R],C,P)==="category"){U=!0;break}if(U)x="v",_=Math.min(c,E,m.length);else{for(R=0;R<m.length;R++)if(g(m[R],C,P)==="category"){U=!0;break}U?(x="h",_=Math.min(c,f.length,w)):(x="v",_=Math.min(c,E,m.length))}}else h>0?(x="v",_=S>0?Math.min(E,w):Math.min(w)):S>0?(x="h",_=Math.min(E)):_=0;if(_){n._length=_;var z=o("orientation",x);n._hasPreCompStats?z==="v"&&S===0?(o("x0",0),o("dx",1)):z==="h"&&h===0&&(o("y0",0),o("dy",1)):z==="v"&&S===0?o("x0"):z==="h"&&h===0&&o("y0"),k.getComponentMethod("calendars","handleTraceDefaults")(r,n,["x","y"],l)}else n.visible=!1}function i(r,n,o,l){var u=l.prefix,d=M.coerce2(r,n,s,"marker.outliercolor"),c=o("marker.line.outliercolor"),m="outliers";n._hasPreCompStats?m="all":(d||c)&&(m="suspectedoutliers");var f=o(u+"points",m);f?(o("jitter",f==="all"?.3:0),o("pointpos",f==="all"?-1.5:0),o("marker.symbol"),o("marker.opacity"),o("marker.size"),o("marker.angle"),o("marker.color",n.line.color),o("marker.line.color"),o("marker.line.width"),f==="suspectedoutliers"&&(o("marker.line.outliercolor",n.marker.color),o("marker.line.outlierwidth")),o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size"),o("text"),o("hovertext")):delete n.marker;var p=o("hoveron");p!=="all"&&p.indexOf("points")===-1||o("hovertemplate"),M.coerceSelectionMarkerOpacity(n,o)}ee.exports={supplyDefaults:function(r,n,o,l){function u(_,h){return M.coerce(r,n,s,_,h)}if(t(r,n,u,l),n.visible!==!1){T(r,n,l,u),u("xhoverformat"),u("yhoverformat");var d=n._hasPreCompStats;d&&(u("lowerfence"),u("upperfence")),u("line.color",(r.marker||{}).color||o),u("line.width"),u("fillcolor",a.addOpacity(n.line.color,.5));var c=!1;if(d){var m=u("mean"),f=u("sd");m&&m.length&&(c=!0,f&&f.length&&(c="sd"))}u("whiskerwidth");var p,v=u("sizemode");v==="quartiles"&&(p=u("boxmean",c)),u("showwhiskers",v==="quartiles"),v!=="sd"&&p!=="sd"||u("sdmultiple"),u("width"),u("quartilemethod");var y=!1;if(d){var x=u("notchspan");x&&x.length&&(y=!0)}else M.validate(r.notchwidth,s.notchwidth)&&(y=!0);u("notched",y)&&u("notchwidth"),i(r,n,u,{prefix:"box"})}},crossTraceDefaults:function(r,n){var o,l;function u(m){return M.coerce(l._input,l,s,m)}for(var d=0;d<r.length;d++){var c=(l=r[d]).type;c!=="box"&&c!=="violin"||(o=l._input,n[c+"mode"]==="group"&&b(o,l,n,u))}},handleSampleDefaults:t,handlePointsDefaults:i}},10392:function(ee){ee.exports=function(D,e){return e.hoverOnBox&&(D.hoverOnBox=e.hoverOnBox),"xVal"in e&&(D.x=e.xVal),"yVal"in e&&(D.y=e.yVal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D}},27576:function(ee,D,e){var M=e(54460),k=e(3400),a=e(93024),T=e(76308),b=k.fillText;function g(t,i,r,n){var o,l,u,d,c,m,f,p,v,y,x,_,h,S,w=t.cd,E=t.xa,C=t.ya,P=w[0].trace,O=w[0].t,R=P.type==="violin",U=O.bdPos,z=O.wHover,N=function(ke){return u.c2l(ke.pos)+O.bPos-u.c2l(m)};R&&P.side!=="both"?(P.side==="positive"&&(v=function(ke){var we=N(ke);return a.inbox(we,we+z,y)},_=U,h=0),P.side==="negative"&&(v=function(ke){var we=N(ke);return a.inbox(we-z,we,y)},_=0,h=U)):(v=function(ke){var we=N(ke);return a.inbox(we-z,we+z,y)},_=h=U),S=R?function(ke){return a.inbox(ke.span[0]-c,ke.span[1]-c,y)}:function(ke){return a.inbox(ke.min-c,ke.max-c,y)},P.orientation==="h"?(c=i,m=r,f=S,p=v,o="y",u=C,l="x",d=E):(c=r,m=i,f=v,p=S,o="x",u=E,l="y",d=C);var W=Math.min(1,U/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function F(ke){return(f(ke)+p(ke))/2}y=t.maxHoverDistance-W,x=t.maxSpikeDistance-W;var V=a.getDistanceFunction(n,f,p,F);if(a.getClosest(w,V,t),t.index===!1)return[];var j=w[t.index],te=P.line.color,J=(P.marker||{}).color;T.opacity(te)&&P.line.width?t.color=te:T.opacity(J)&&P.boxpoints?t.color=J:t.color=P.fillcolor,t[o+"0"]=u.c2p(j.pos+O.bPos-h,!0),t[o+"1"]=u.c2p(j.pos+O.bPos+_,!0),t[o+"LabelVal"]=j.orig_p!==void 0?j.orig_p:j.pos;var K=o+"Spike";t.spikeDistance=F(j)*x/y,t[K]=u.c2p(j.pos,!0);var Z=P.boxmean||P.sizemode==="sd"||(P.meanline||{}).visible,X=P.boxpoints||P.points,Q=X&&Z?["max","uf","q3","med","mean","q1","lf","min"]:X&&!Z?["max","uf","q3","med","q1","lf","min"]:!X&&Z?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],re=d.range[1]<d.range[0];P.orientation===(re?"v":"h")&&Q.reverse();for(var ae=t.spikeDistance,ie=t[K],le=[],pe=0;pe<Q.length;pe++){var de=Q[pe];if(de in j){var ve=j[de],be=d.c2p(ve,!0),me=k.extendFlat({},t);me.attr=de,me[l+"0"]=me[l+"1"]=be,me[l+"LabelVal"]=ve,me[l+"Label"]=(O.labels?O.labels[de]+" ":"")+M.hoverLabelText(d,ve,P[l+"hoverformat"]),me.hoverOnBox=!0,de!=="mean"||!("sd"in j)||P.boxmean!=="sd"&&P.sizemode!=="sd"||(me[l+"err"]=j.sd),me.hovertemplate=!1,le.push(me)}}t.name="",t.spikeDistance=void 0,t[K]=void 0;for(var ge=0;ge<le.length;ge++)le[ge].attr!=="med"?(le[ge].name="",le[ge].spikeDistance=void 0,le[ge][K]=void 0):(le[ge].spikeDistance=ae,le[ge][K]=ie);return le}function s(t,i,r){for(var n,o,l,u=t.cd,d=t.xa,c=t.ya,m=u[0].trace,f=d.c2p(i),p=c.c2p(r),v=a.quadrature(function(R){var U=Math.max(3,R.mrc||0);return Math.max(Math.abs(d.c2p(R.x)-f)-U,1-3/U)},function(R){var U=Math.max(3,R.mrc||0);return Math.max(Math.abs(c.c2p(R.y)-p)-U,1-3/U)}),y=!1,x=0;x<u.length;x++){o=u[x];for(var _=0;_<(o.pts||[]).length;_++){var h=v(l=o.pts[_]);h<=t.distance&&(t.distance=h,y=[x,_])}}if(!y)return!1;l=(o=u[y[0]]).pts[y[1]];var S=d.c2p(l.x,!0),w=c.c2p(l.y,!0),E=l.mrc||1;n=k.extendFlat({},t,{index:l.i,color:(m.marker||{}).color,name:m.name,x0:S-E,x1:S+E,y0:w-E,y1:w+E,spikeDistance:t.distance,hovertemplate:m.hovertemplate});var C,P=o.orig_p,O=P!==void 0?P:o.pos;return m.orientation==="h"?(C=c,n.xLabelVal=l.x,n.yLabelVal=O):(C=d,n.xLabelVal=O,n.yLabelVal=l.y),n[C._id.charAt(0)+"Spike"]=C.c2p(o.pos,!0),b(l,m,n),n}ee.exports={hoverPoints:function(t,i,r,n){var o,l=t.cd[0].trace.hoveron,u=[];return l.indexOf("boxes")!==-1&&(u=u.concat(g(t,i,r,n))),l.indexOf("points")!==-1&&(o=s(t,i,r)),n==="closest"?o?[o]:u:(o&&u.push(o),u)},hoverOnBoxes:g,hoverOnPoints:s}},67244:function(ee,D,e){ee.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(ee){ee.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(ee,D,e){var M=e(24040),k=e(3400),a=e(16560);function T(b,g,s,t,i){for(var r=i+"Layout",n=!1,o=0;o<s.length;o++){var l=s[o];if(M.traceIs(l,r)){n=!0;break}}n&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}ee.exports={supplyLayoutDefaults:function(b,g,s){T(0,0,s,function(t,i){return k.coerce(b,g,a,t,i)},"box")},_supply:T}},18728:function(ee,D,e){var M=e(33428),k=e(3400),a=e(43616);function T(s,t,i,r,n){var o,l,u=i.orientation==="h",d=t.val,c=t.pos,m=!!c.rangebreaks,f=r.bPos,p=r.wdPos||0,v=r.bPosPxOffset||0,y=i.whiskerwidth||0,x=i.showwhiskers!==!1,_=i.notched||!1,h=_?1-2*i.notchwidth:1;Array.isArray(r.bdPos)?(o=r.bdPos[0],l=r.bdPos[1]):(o=r.bdPos,l=r.bdPos);var S=s.selectAll("path.box").data(i.type!=="violin"||i.box.visible?k.identity:[]);S.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(w){if(w.empty)return M.select(this).attr("d","M0,0Z");var E=c.c2l(w.pos+f,!0),C=c.l2p(E-o)+v,P=c.l2p(E+l)+v,O=m?(C+P)/2:c.l2p(E)+v,R=i.whiskerwidth,U=m?C*R+(1-R)*O:c.l2p(E-p)+v,z=m?P*R+(1-R)*O:c.l2p(E+p)+v,N=c.l2p(E-o*h)+v,W=c.l2p(E+l*h)+v,F=i.sizemode==="sd",V=d.c2p(F?w.mean-w.sd:w.q1,!0),j=F?d.c2p(w.mean+w.sd,!0):d.c2p(w.q3,!0),te=k.constrain(F?d.c2p(w.mean,!0):d.c2p(w.med,!0),Math.min(V,j)+1,Math.max(V,j)-1),J=w.lf===void 0||i.boxpoints===!1||F,K=d.c2p(J?w.min:w.lf,!0),Z=d.c2p(J?w.max:w.uf,!0),X=d.c2p(w.ln,!0),Q=d.c2p(w.un,!0);u?M.select(this).attr("d","M"+te+","+N+"V"+W+"M"+V+","+C+"V"+P+(_?"H"+X+"L"+te+","+W+"L"+Q+","+P:"")+"H"+j+"V"+C+(_?"H"+Q+"L"+te+","+N+"L"+X+","+C:"")+"Z"+(x?"M"+V+","+O+"H"+K+"M"+j+","+O+"H"+Z+(y===0?"":"M"+K+","+U+"V"+z+"M"+Z+","+U+"V"+z):"")):M.select(this).attr("d","M"+N+","+te+"H"+W+"M"+C+","+V+"H"+P+(_?"V"+X+"L"+W+","+te+"L"+P+","+Q:"")+"V"+j+"H"+C+(_?"V"+Q+"L"+N+","+te+"L"+C+","+X:"")+"Z"+(x?"M"+O+","+V+"V"+K+"M"+O+","+j+"V"+Z+(y===0?"":"M"+U+","+K+"H"+z+"M"+U+","+Z+"H"+z):""))})}function b(s,t,i,r){var n=t.x,o=t.y,l=r.bdPos,u=r.bPos,d=i.boxpoints||i.points;k.seedPseudoRandom();var c=s.selectAll("g.points").data(d?function(f){return f.forEach(function(p){p.t=r,p.trace=i}),f}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var m=c.selectAll("path").data(function(f){var p,v,y=f.pts2,x=Math.max((f.max-f.min)/10,f.q3-f.q1),_=1e-9*x,h=.01*x,S=[],w=0;if(i.jitter){if(x===0)for(w=1,S=new Array(y.length),p=0;p<y.length;p++)S[p]=1;else for(p=0;p<y.length;p++){var E=Math.max(0,p-5),C=y[E].v,P=Math.min(y.length-1,p+5),O=y[P].v;d!=="all"&&(y[p].v<f.lf?O=Math.min(O,f.lf):C=Math.max(C,f.uf));var R=Math.sqrt(h*(P-E)/(O-C+_))||0;R=k.constrain(Math.abs(R),0,1),S.push(R),w=Math.max(R,w)}v=2*i.jitter/(w||1)}for(p=0;p<y.length;p++){var U=y[p],z=U.v,N=i.jitter?v*S[p]*(k.pseudoRandom()-.5):0,W=f.pos+u+l*(i.pointpos+N);i.orientation==="h"?(U.y=W,U.x=z):(U.x=W,U.y=z),d==="suspectedoutliers"&&z<f.uo&&z>f.lo&&(U.so=!0)}return y});m.enter().append("path").classed("point",!0),m.exit().remove(),m.call(a.translatePoints,n,o)}function g(s,t,i,r){var n,o,l=t.val,u=t.pos,d=!!u.rangebreaks,c=r.bPos,m=r.bPosPxOffset||0,f=i.boxmean||(i.meanline||{}).visible;Array.isArray(r.bdPos)?(n=r.bdPos[0],o=r.bdPos[1]):(n=r.bdPos,o=r.bdPos);var p=s.selectAll("path.mean").data(i.type==="box"&&i.boxmean||i.type==="violin"&&i.box.visible&&i.meanline.visible?k.identity:[]);p.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),p.exit().remove(),p.each(function(v){var y=u.c2l(v.pos+c,!0),x=u.l2p(y-n)+m,_=u.l2p(y+o)+m,h=d?(x+_)/2:u.l2p(y)+m,S=l.c2p(v.mean,!0),w=l.c2p(v.mean-v.sd,!0),E=l.c2p(v.mean+v.sd,!0);i.orientation==="h"?M.select(this).attr("d","M"+S+","+x+"V"+_+(f==="sd"?"m0,0L"+w+","+h+"L"+S+","+x+"L"+E+","+h+"Z":"")):M.select(this).attr("d","M"+x+","+S+"H"+_+(f==="sd"?"m0,0L"+h+","+w+"L"+x+","+S+"L"+h+","+E+"Z":""))})}ee.exports={plot:function(s,t,i,r){var n=s._context.staticPlot,o=t.xaxis,l=t.yaxis;k.makeTraceGroups(r,i,"trace boxes").each(function(u){var d,c,m=M.select(this),f=u[0],p=f.t,v=f.trace;p.wdPos=p.bdPos*v.whiskerwidth,v.visible!==!0||p.empty?m.remove():(v.orientation==="h"?(d=l,c=o):(d=o,c=l),T(m,{pos:d,val:c},v,p,n),b(m,{x:o,y:l},v,p),g(m,{pos:d,val:c},v,p))})},plotBoxAndWhiskers:T,plotPoints:b,plotBoxMean:g}},8264:function(ee){ee.exports=function(D,e){var M,k,a=D.cd,T=D.xaxis,b=D.yaxis,g=[];if(e===!1)for(M=0;M<a.length;M++)for(k=0;k<(a[M].pts||[]).length;k++)a[M].pts[k].selected=0;else for(M=0;M<a.length;M++)for(k=0;k<(a[M].pts||[]).length;k++){var s=a[M].pts[k],t=T.c2p(s.x),i=b.c2p(s.y);e.contains([t,i],null,s.i,D)?(g.push({pointNumber:s.i,x:T.c2d(s.x),y:b.c2d(s.y)}),s.selected=1):s.selected=0}return g}},25776:function(ee,D,e){var M=e(33428),k=e(76308),a=e(43616);ee.exports={style:function(T,b,g){var s=g||M.select(T).selectAll("g.trace.boxes");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=M.select(this),r=t[0].trace,n=r.line.width;function o(d,c,m,f){d.style("stroke-width",c+"px").call(k.stroke,m).call(k.fill,f)}var l=i.selectAll("path.box");if(r.type==="candlestick")l.each(function(d){if(!d.empty){var c=M.select(this),m=r[d.dir];o(c,m.line.width,m.line.color,m.fillcolor),c.style("opacity",r.selectedpoints&&!d.selected?.3:1)}});else{o(l,n,r.line.color,r.fillcolor),i.selectAll("path.mean").style({"stroke-width":n,"stroke-dasharray":2*n+"px,"+n+"px"}).call(k.stroke,r.line.color);var u=i.selectAll("path.point");a.pointStyle(u,r,T)}})},styleOnSelect:function(T,b,g){var s=b[0].trace,t=g.selectAll("path.point");s.selectedpoints?a.selectedPointStyle(t,s):a.pointStyle(t,s,T)}}},64216:function(ee,D,e){var M=e(3400).extendFlat,k=e(29736).axisHoverFormat,a=e(20279),T=e(63188);function b(g){return{line:{color:M({},T.line.color,{dflt:g}),width:T.line.width,editType:"style"},fillcolor:T.fillcolor,editType:"style"}}ee.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:M({},T.line.width,{}),editType:"style"},increasing:b(a.increasing.line.color.dflt),decreasing:b(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:M({},T.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},46283:function(ee,D,e){var M=e(3400),k=e(54460),a=e(1220),T=e(42812).calcCommon;function b(g,s,t,i){return{min:t,q1:Math.min(g,i),med:i,q3:Math.max(g,i),max:s}}ee.exports=function(g,s){var t=g._fullLayout,i=k.getFromId(g,s.xaxis),r=k.getFromId(g,s.yaxis),n=i.makeCalcdata(s,"x"),o=a(s,i,"x",n).vals,l=T(g,s,n,o,r,b);return l.length?(M.extendFlat(l[0].t,{num:t._numBoxes,dPos:M.distinctVals(o).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,l):[{t:{empty:!0}}]}},64588:function(ee,D,e){var M=e(3400),k=e(76308),a=e(52744),T=e(31147),b=e(64216);function g(s,t,i,r){var n=i(r+".line.color");i(r+".line.width",t.line.width),i(r+".fillcolor",k.addOpacity(n,.5))}ee.exports=function(s,t,i,r){function n(o,l){return M.coerce(s,t,b,o,l)}a(s,t,n,r)?(T(s,t,r,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),g(0,t,n,"increasing"),g(0,t,n,"decreasing"),n("text"),n("hovertext"),n("whiskerwidth"),r._requestRangeslider[t.xaxis]=!0):t.visible=!1}},61712:function(ee,D,e){ee.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(ee,D,e){var M=e(63856),k=e(31780);ee.exports=function(a,T,b,g,s){g("a")||(g("da"),g("a0")),g("b")||(g("db"),g("b0")),function(t,i,r,n){["aaxis","baxis"].forEach(function(o){var l=o.charAt(0),u=t[o]||{},d=k.newContainer(i,o),c={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:i.font,name:o,data:t[l],calendar:i.calendar,dfltColor:n,bgColor:r.paper_bgcolor,autotypenumbersDflt:r.autotypenumbers,fullLayout:r};M(u,d,c),d._categories=d._categories||[],t[o]||u.type==="-"||(t[o]={type:u.type})})}(a,T,b,s)}},51676:function(ee,D,e){var M=e(3400).isArrayOrTypedArray;function k(a,T){if(!M(a)||T>=10)return null;for(var b=1/0,g=-1/0,s=a.length,t=0;t<s;t++){var i=a[t];if(M(i)){var r=k(i,T+1);r&&(b=Math.min(r[0],b),g=Math.max(r[1],g))}else b=Math.min(i,b),g=Math.max(i,g)}return[b,g]}ee.exports=function(a){return k(a,0)}},85720:function(ee,D,e){var M=e(25376),k=e(98692),a=e(22548),T=M({editType:"calc"});T.family.dflt='"Open Sans", verdana, arial, sans-serif',T.size.dflt=12,T.color.dflt=a.defaultLine,ee.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:k,baxis:k,font:T,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},77712:function(ee,D,e){var M=e(3400).isArrayOrTypedArray;ee.exports=function(k,a,T,b){var g,s,t,i,r,n,o,l,u,d,c,m,f,p=M(T)?"a":"b",v=(p==="a"?k.aaxis:k.baxis).smoothing,y=p==="a"?k.a2i:k.b2j,x=p==="a"?T:b,_=p==="a"?b:T,h=p==="a"?a.a.length:a.b.length,S=p==="a"?a.b.length:a.a.length,w=Math.floor(p==="a"?k.b2j(_):k.a2i(_)),E=p==="a"?function(te){return k.evalxy([],te,w)}:function(te){return k.evalxy([],w,te)};v&&(t=Math.max(0,Math.min(S-2,w)),i=w-t,s=p==="a"?function(te,J){return k.dxydi([],te,t,J,i)}:function(te,J){return k.dxydj([],t,te,i,J)});var C=y(x[0]),P=y(x[1]),O=C<P?1:-1,R=1e-8*(P-C),U=O>0?Math.floor:Math.ceil,z=O>0?Math.ceil:Math.floor,N=O>0?Math.min:Math.max,W=O>0?Math.max:Math.min,F=U(C+R),V=z(P-R),j=[[o=E(C)]];for(g=F;g*O<V*O;g+=O)r=[],c=W(C,g),f=(m=N(P,g+O))-c,n=Math.max(0,Math.min(h-2,Math.floor(.5*(c+m)))),l=E(m),v&&(u=s(n,c-n),d=s(n,m-n),r.push([o[0]+u[0]/3*f,o[1]+u[1]/3*f]),r.push([l[0]-d[0]/3*f,l[1]-d[1]/3*f])),r.push(l),j.push(r),o=l;return j}},98692:function(ee,D,e){var M=e(25376),k=e(22548),a=e(94724),T=e(29736).descriptionWithDates,b=e(67824).overrideAll,g=e(98192).u,s=e(92880).extendFlat;ee.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:M({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:s({},a.labelalias,{editType:"calc"}),tickfont:M({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:T("tick label")},tickformatstops:b(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:s({},g,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:s({},g,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:k.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:M({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(ee,D,e){var M=e(85720),k=e(76308).addOpacity,a=e(24040),T=e(3400),b=e(26332),g=e(95936),s=e(42568),t=e(22416),i=e(78344),r=e(52976);ee.exports=function(n,o,l){var u=l.letter,d=l.font||{},c=M[u+"axis"];function m(O,R){return T.coerce(n,o,c,O,R)}function f(O,R){return T.coerce2(n,o,c,O,R)}l.name&&(o._name=l.name,o._id=l.name),m("autotypenumbers",l.autotypenumbersDflt);var p=m("type");p==="-"&&(l.data&&function(O,R){if(O.type==="-"){var U=O._id.charAt(0),z=O[U+"calendar"];O.type=r(R,z,{autotypenumbers:O.autotypenumbers})}}(o,l.data),o.type==="-"?o.type="linear":p=n.type=o.type),m("smoothing"),m("cheatertype"),m("showticklabels"),m("labelprefix",u+" = "),m("labelsuffix"),m("showtickprefix"),m("showticksuffix"),m("separatethousands"),m("tickformat"),m("exponentformat"),m("minexponent"),m("showexponent"),m("categoryorder"),m("tickmode"),m("tickvals"),m("ticktext"),m("tick0"),m("dtick"),o.tickmode==="array"&&(m("arraytick0"),m("arraydtick")),m("labelpadding"),o._hovertitle=u,p==="date"&&a.getComponentMethod("calendars","handleDefaults")(n,o,"calendar",l.calendar),i(o,l.fullLayout),o.c2p=T.identity;var v=m("color",l.dfltColor),y=v===n.color?v:d.color;m("title.text")&&(T.coerceFont(m,"title.font",{family:d.family,size:T.bigFont(d.size),color:y}),m("title.offset")),m("tickangle"),m("autorange",!o.isValidRange(n.range))&&m("rangemode"),m("range"),o.cleanRange(),m("fixedrange"),b(n,o,m,p),s(n,o,m,p,l),g(n,o,m,p,l),t(n,o,m,{data:l.data,dataAttr:u});var x=f("gridcolor",k(v,.3)),_=f("gridwidth"),h=f("griddash"),S=m("showgrid");S||(delete o.gridcolor,delete o.gridwidth,delete o.griddash);var w=f("startlinecolor",v),E=f("startlinewidth",_);m("startline",o.showgrid||!!w||!!E)||(delete o.startlinecolor,delete o.startlinewidth);var C=f("endlinecolor",v),P=f("endlinewidth",_);return m("endline",o.showgrid||!!C||!!P)||(delete o.endlinecolor,delete o.endlinewidth),S?(m("minorgridcount"),m("minorgridwidth",_),m("minorgriddash",h),m("minorgridcolor",k(x,.06)),o.minorgridcount||(delete o.minorgridwidth,delete o.minorgriddash,delete o.minorgridcolor)):(delete o.gridcolor,delete o.gridwidth,delete o.griddash),o.showticklabels==="none"&&(delete o.tickfont,delete o.tickangle,delete o.showexponent,delete o.exponentformat,delete o.minexponent,delete o.tickformat,delete o.showticksuffix,delete o.showtickprefix),o.showticksuffix||delete o.ticksuffix,o.showtickprefix||delete o.tickprefix,m("tickmode"),o}},58744:function(ee,D,e){var M=e(54460),k=e(3400).isArray1D,a=e(60776),T=e(51676),b=e(19216),g=e(14724),s=e(24944),t=e(26136),i=e(51512),r=e(2872),n=e(81e3);ee.exports=function(o,l){var u=M.getFromId(o,l.xaxis),d=M.getFromId(o,l.yaxis),c=l.aaxis,m=l.baxis,f=l.x,p=l.y,v=[];f&&k(f)&&v.push("x"),p&&k(p)&&v.push("y"),v.length&&r(l,c,m,"a","b",v);var y=l._a=l._a||l.a,x=l._b=l._b||l.b;f=l._x||l.x,p=l._y||l.y;var _={};if(l._cheater){var h=c.cheatertype==="index"?y.length:y,S=m.cheatertype==="index"?x.length:x;f=a(h,S,l.cheaterslope)}l._x=f=t(f),l._y=p=t(p),i(f,y,x),i(p,y,x),n(l),l.setScale();var w=T(f),E=T(p),C=.5*(w[1]-w[0]),P=.5*(w[1]+w[0]),O=.5*(E[1]-E[0]),R=.5*(E[1]+E[0]),U=1.3;return w=[P-C*U,P+C*U],E=[R-O*U,R+O*U],l._extremes[u._id]=M.findExtremes(u,w,{padded:!0}),l._extremes[d._id]=M.findExtremes(d,E,{padded:!0}),b(l,"a","b"),b(l,"b","a"),g(l,c),g(l,m),_.clipsegments=s(l._xctrl,l._yctrl,c,m),_.x=f,_.y=p,_.a=y,_.b=x,[_]}},24944:function(ee){ee.exports=function(D,e,M,k){var a,T,b,g=[],s=!!M.smoothing,t=!!k.smoothing,i=D[0].length-1,r=D.length-1;for(a=0,T=[],b=[];a<=i;a++)T[a]=D[0][a],b[a]=e[0][a];for(g.push({x:T,y:b,bicubic:s}),a=0,T=[],b=[];a<=r;a++)T[a]=D[a][i],b[a]=e[a][i];for(g.push({x:T,y:b,bicubic:t}),a=i,T=[],b=[];a>=0;a--)T[i-a]=D[r][a],b[i-a]=e[r][a];for(g.push({x:T,y:b,bicubic:s}),a=r,T=[],b=[];a>=0;a--)T[r-a]=D[a][0],b[r-a]=e[a][0];return g.push({x:T,y:b,bicubic:t}),g}},19216:function(ee,D,e){var M=e(54460),k=e(92880).extendFlat;ee.exports=function(a,T,b){var g,s,t,i,r,n,o,l,u,d,c,m,f,p,v=a["_"+T],y=a[T+"axis"],x=y._gridlines=[],_=y._minorgridlines=[],h=y._boundarylines=[],S=a["_"+b],w=a[b+"axis"];y.tickmode==="array"&&(y.tickvals=v.slice());var E=a._xctrl,C=a._yctrl,P=E[0].length,O=E.length,R=a._a.length,U=a._b.length;M.prepTicks(y),y.tickmode==="array"&&delete y.tickvals;var z=y.smoothing?3:1;function N(F){var V,j,te,J,K,Z,X,Q,re,ae,ie,le,pe=[],de=[],ve={};if(T==="b")for(j=a.b2j(F),te=Math.floor(Math.max(0,Math.min(U-2,j))),J=j-te,ve.length=U,ve.crossLength=R,ve.xy=function(be){return a.evalxy([],be,j)},ve.dxy=function(be,me){return a.dxydi([],be,te,me,J)},V=0;V<R;V++)Z=Math.min(R-2,V),X=V-Z,Q=a.evalxy([],V,j),w.smoothing&&V>0&&(re=a.dxydi([],V-1,te,0,J),pe.push(K[0]+re[0]/3),de.push(K[1]+re[1]/3),ae=a.dxydi([],V-1,te,1,J),pe.push(Q[0]-ae[0]/3),de.push(Q[1]-ae[1]/3)),pe.push(Q[0]),de.push(Q[1]),K=Q;else for(V=a.a2i(F),Z=Math.floor(Math.max(0,Math.min(R-2,V))),X=V-Z,ve.length=R,ve.crossLength=U,ve.xy=function(be){return a.evalxy([],V,be)},ve.dxy=function(be,me){return a.dxydj([],Z,be,X,me)},j=0;j<U;j++)te=Math.min(U-2,j),J=j-te,Q=a.evalxy([],V,j),w.smoothing&&j>0&&(ie=a.dxydj([],Z,j-1,X,0),pe.push(K[0]+ie[0]/3),de.push(K[1]+ie[1]/3),le=a.dxydj([],Z,j-1,X,1),pe.push(Q[0]-le[0]/3),de.push(Q[1]-le[1]/3)),pe.push(Q[0]),de.push(Q[1]),K=Q;return ve.axisLetter=T,ve.axis=y,ve.crossAxis=w,ve.value=F,ve.constvar=b,ve.index=l,ve.x=pe,ve.y=de,ve.smoothing=w.smoothing,ve}function W(F){var V,j,te,J,K,Z=[],X=[],Q={};if(Q.length=v.length,Q.crossLength=S.length,T==="b")for(te=Math.max(0,Math.min(U-2,F)),K=Math.min(1,Math.max(0,F-te)),Q.xy=function(re){return a.evalxy([],re,F)},Q.dxy=function(re,ae){return a.dxydi([],re,te,ae,K)},V=0;V<P;V++)Z[V]=E[F*z][V],X[V]=C[F*z][V];else for(j=Math.max(0,Math.min(R-2,F)),J=Math.min(1,Math.max(0,F-j)),Q.xy=function(re){return a.evalxy([],F,re)},Q.dxy=function(re,ae){return a.dxydj([],j,re,J,ae)},V=0;V<O;V++)Z[V]=E[V][F*z],X[V]=C[V][F*z];return Q.axisLetter=T,Q.axis=y,Q.crossAxis=w,Q.value=v[F],Q.constvar=b,Q.index=F,Q.x=Z,Q.y=X,Q.smoothing=w.smoothing,Q}if(y.tickmode==="array"){for(i=5e-15,n=(r=[Math.floor((v.length-1-y.arraytick0)/y.arraydtick*(1+i)),Math.ceil(-y.arraytick0/y.arraydtick/(1+i))].sort(function(F,V){return F-V}))[0]-1,o=r[1]+1,l=n;l<o;l++)(s=y.arraytick0+y.arraydtick*l)<0||s>v.length-1||x.push(k(W(s),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(l=n;l<o;l++)if(t=y.arraytick0+y.arraydtick*l,c=Math.min(t+y.arraydtick,v.length-1),!(t<0||t>v.length-1||c<0||c>v.length-1))for(m=v[t],f=v[c],g=0;g<y.minorgridcount;g++)(p=c-t)<=0||(d=m+(f-m)*(g+1)/(y.minorgridcount+1)*(y.arraydtick/p))<v[0]||d>v[v.length-1]||_.push(k(N(d),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&h.push(k(W(0),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&h.push(k(W(v.length-1),{color:y.endlinecolor,width:y.endlinewidth}))}else{for(i=5e-15,n=(r=[Math.floor((v[v.length-1]-y.tick0)/y.dtick*(1+i)),Math.ceil((v[0]-y.tick0)/y.dtick/(1+i))].sort(function(F,V){return F-V}))[0],o=r[1],l=n;l<=o;l++)u=y.tick0+y.dtick*l,x.push(k(N(u),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(l=n-1;l<o+1;l++)for(u=y.tick0+y.dtick*l,g=0;g<y.minorgridcount;g++)(d=u+y.dtick*(g+1)/(y.minorgridcount+1))<v[0]||d>v[v.length-1]||_.push(k(N(d),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&h.push(k(N(v[0]),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&h.push(k(N(v[v.length-1]),{color:y.endlinecolor,width:y.endlinewidth}))}}},14724:function(ee,D,e){var M=e(54460),k=e(92880).extendFlat;ee.exports=function(a,T){var b,g,s,t=T._labels=[],i=T._gridlines;for(b=0;b<i.length;b++)s=i[b],["start","both"].indexOf(T.showticklabels)!==-1&&(g=M.tickText(T,s.value),k(g,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),t.push(g)),["end","both"].indexOf(T.showticklabels)!==-1&&(g=M.tickText(T,s.value),k(g,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),t.push(g))}},62284:function(ee){ee.exports=function(D,e,M,k){var a=D[0]-e[0],T=D[1]-e[1],b=M[0]-e[0],g=M[1]-e[1],s=Math.pow(a*a+T*T,.25),t=Math.pow(b*b+g*g,.25),i=(t*t*a-s*s*b)*k,r=(t*t*T-s*s*g)*k,n=t*(s+t)*3,o=s*(s+t)*3;return[[e[0]+(n&&i/n),e[1]+(n&&r/n)],[e[0]-(o&&i/o),e[1]-(o&&r/o)]]}},60776:function(ee,D,e){var M=e(3400).isArrayOrTypedArray;ee.exports=function(k,a,T){var b,g,s,t,i,r,n=[],o=M(k)?k.length:k,l=M(a)?a.length:a,u=M(k)?k:null,d=M(a)?a:null;u&&(s=(u.length-1)/(u[u.length-1]-u[0])/(o-1)),d&&(t=(d.length-1)/(d[d.length-1]-d[0])/(l-1));var c=1/0,m=-1/0;for(g=0;g<l;g++)for(n[g]=[],i=d?(d[g]-d[0])*t:g/(l-1),b=0;b<o;b++)r=(u?(u[b]-u[0])*s:b/(o-1))-i*T,c=Math.min(r,c),m=Math.max(r,m),n[g][b]=r;var f=1/(m-c),p=-c*f;for(g=0;g<l;g++)for(b=0;b<o;b++)n[g][b]=f*n[g][b]+p;return n}},30180:function(ee,D,e){var M=e(62284),k=e(3400).ensureArray;function a(T,b,g){var s=-.5*g[0]+1.5*b[0],t=-.5*g[1]+1.5*b[1];return[(2*s+T[0])/3,(2*t+T[1])/3]}ee.exports=function(T,b,g,s,t,i){var r,n,o,l,u,d,c,m,f,p,v=g[0].length,y=g.length,x=t?3*v-2:v,_=i?3*y-2:y;for(T=k(T,_),b=k(b,_),o=0;o<_;o++)T[o]=k(T[o],x),b[o]=k(b[o],x);for(n=0,l=0;n<y;n++,l+=i?3:1)for(u=T[l],d=b[l],c=g[n],m=s[n],r=0,o=0;r<v;r++,o+=t?3:1)u[o]=c[r],d[o]=m[r];if(t)for(n=0,l=0;n<y;n++,l+=i?3:1){for(r=1,o=3;r<v-1;r++,o+=3)f=M([g[n][r-1],s[n][r-1]],[g[n][r],s[n][r]],[g[n][r+1],s[n][r+1]],t),T[l][o-1]=f[0][0],b[l][o-1]=f[0][1],T[l][o+1]=f[1][0],b[l][o+1]=f[1][1];p=a([T[l][0],b[l][0]],[T[l][2],b[l][2]],[T[l][3],b[l][3]]),T[l][1]=p[0],b[l][1]=p[1],p=a([T[l][x-1],b[l][x-1]],[T[l][x-3],b[l][x-3]],[T[l][x-4],b[l][x-4]]),T[l][x-2]=p[0],b[l][x-2]=p[1]}if(i)for(o=0;o<x;o++){for(l=3;l<_-3;l+=3)f=M([T[l-3][o],b[l-3][o]],[T[l][o],b[l][o]],[T[l+3][o],b[l+3][o]],i),T[l-1][o]=f[0][0],b[l-1][o]=f[0][1],T[l+1][o]=f[1][0],b[l+1][o]=f[1][1];p=a([T[0][o],b[0][o]],[T[2][o],b[2][o]],[T[3][o],b[3][o]]),T[1][o]=p[0],b[1][o]=p[1],p=a([T[_-1][o],b[_-1][o]],[T[_-3][o],b[_-3][o]],[T[_-4][o],b[_-4][o]]),T[_-2][o]=p[0],b[_-2][o]=p[1]}if(t&&i)for(l=1;l<_;l+=(l+1)%3==0?2:1){for(o=3;o<x-3;o+=3)f=M([T[l][o-3],b[l][o-3]],[T[l][o],b[l][o]],[T[l][o+3],b[l][o+3]],t),T[l][o-1]=.5*(T[l][o-1]+f[0][0]),b[l][o-1]=.5*(b[l][o-1]+f[0][1]),T[l][o+1]=.5*(T[l][o+1]+f[1][0]),b[l][o+1]=.5*(b[l][o+1]+f[1][1]);p=a([T[l][0],b[l][0]],[T[l][2],b[l][2]],[T[l][3],b[l][3]]),T[l][1]=.5*(T[l][1]+p[0]),b[l][1]=.5*(b[l][1]+p[1]),p=a([T[l][x-1],b[l][x-1]],[T[l][x-3],b[l][x-3]],[T[l][x-4],b[l][x-4]]),T[l][x-2]=.5*(T[l][x-2]+p[0]),b[l][x-2]=.5*(b[l][x-2]+p[1])}return[T,b]}},24588:function(ee){ee.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(ee){ee.exports=function(D,e,M){return e&&M?function(k,a,T,b,g){var s,t,i,r,n,o;k||(k=[]),a*=3,T*=3;var l=b*b,u=1-b,d=u*u,c=u*b*2,m=-3*d,f=3*(d-c),p=3*(c-l),v=3*l,y=g*g,x=y*g,_=1-g,h=_*_,S=h*_;for(o=0;o<D.length;o++)s=m*(n=D[o])[T][a]+f*n[T][a+1]+p*n[T][a+2]+v*n[T][a+3],t=m*n[T+1][a]+f*n[T+1][a+1]+p*n[T+1][a+2]+v*n[T+1][a+3],i=m*n[T+2][a]+f*n[T+2][a+1]+p*n[T+2][a+2]+v*n[T+2][a+3],r=m*n[T+3][a]+f*n[T+3][a+1]+p*n[T+3][a+2]+v*n[T+3][a+3],k[o]=S*s+3*(h*g*t+_*y*i)+x*r;return k}:e?function(k,a,T,b,g){var s,t,i,r;k||(k=[]),a*=3;var n=b*b,o=1-b,l=o*o,u=o*b*2,d=-3*l,c=3*(l-u),m=3*(u-n),f=3*n,p=1-g;for(i=0;i<D.length;i++)s=d*(r=D[i])[T][a]+c*r[T][a+1]+m*r[T][a+2]+f*r[T][a+3],t=d*r[T+1][a]+c*r[T+1][a+1]+m*r[T+1][a+2]+f*r[T+1][a+3],k[i]=p*s+g*t;return k}:M?function(k,a,T,b,g){var s,t,i,r,n,o;k||(k=[]),T*=3;var l=g*g,u=l*g,d=1-g,c=d*d,m=c*d;for(n=0;n<D.length;n++)s=(o=D[n])[T][a+1]-o[T][a],t=o[T+1][a+1]-o[T+1][a],i=o[T+2][a+1]-o[T+2][a],r=o[T+3][a+1]-o[T+3][a],k[n]=m*s+3*(c*g*t+d*l*i)+u*r;return k}:function(k,a,T,b,g){var s,t,i,r;k||(k=[]);var n=1-g;for(i=0;i<D.length;i++)s=(r=D[i])[T][a+1]-r[T][a],t=r[T+1][a+1]-r[T+1][a],k[i]=n*s+g*t;return k}}},24464:function(ee){ee.exports=function(D,e,M){return e&&M?function(k,a,T,b,g){var s,t,i,r,n,o;k||(k=[]),a*=3,T*=3;var l=b*b,u=l*b,d=1-b,c=d*d,m=c*d,f=g*g,p=1-g,v=p*p,y=p*g*2,x=-3*v,_=3*(v-y),h=3*(y-f),S=3*f;for(o=0;o<D.length;o++)s=x*(n=D[o])[T][a]+_*n[T+1][a]+h*n[T+2][a]+S*n[T+3][a],t=x*n[T][a+1]+_*n[T+1][a+1]+h*n[T+2][a+1]+S*n[T+3][a+1],i=x*n[T][a+2]+_*n[T+1][a+2]+h*n[T+2][a+2]+S*n[T+3][a+2],r=x*n[T][a+3]+_*n[T+1][a+3]+h*n[T+2][a+3]+S*n[T+3][a+3],k[o]=m*s+3*(c*b*t+d*l*i)+u*r;return k}:e?function(k,a,T,b,g){var s,t,i,r,n,o;k||(k=[]),a*=3;var l=g*g,u=l*g,d=1-g,c=d*d,m=c*d;for(n=0;n<D.length;n++)s=(o=D[n])[T+1][a]-o[T][a],t=o[T+1][a+1]-o[T][a+1],i=o[T+1][a+2]-o[T][a+2],r=o[T+1][a+3]-o[T][a+3],k[n]=m*s+3*(c*g*t+d*l*i)+u*r;return k}:M?function(k,a,T,b,g){var s,t,i,r;k||(k=[]),T*=3;var n=1-b,o=g*g,l=1-g,u=l*l,d=l*g*2,c=-3*u,m=3*(u-d),f=3*(d-o),p=3*o;for(i=0;i<D.length;i++)s=c*(r=D[i])[T][a]+m*r[T+1][a]+f*r[T+2][a]+p*r[T+3][a],t=c*r[T][a+1]+m*r[T+1][a+1]+f*r[T+2][a+1]+p*r[T+3][a+1],k[i]=n*s+b*t;return k}:function(k,a,T,b,g){var s,t,i,r;k||(k=[]);var n=1-b;for(i=0;i<D.length;i++)s=(r=D[i])[T+1][a]-r[T][a],t=r[T+1][a+1]-r[T][a+1],k[i]=n*s+b*t;return k}}},29056:function(ee){ee.exports=function(D,e,M,k,a){var T=e-2,b=M-2;return k&&a?function(g,s,t){var i,r,n,o,l,u;g||(g=[]);var d=Math.max(0,Math.min(Math.floor(s),T)),c=Math.max(0,Math.min(Math.floor(t),b)),m=Math.max(0,Math.min(1,s-d)),f=Math.max(0,Math.min(1,t-c));d*=3,c*=3;var p=m*m,v=p*m,y=1-m,x=y*y,_=x*y,h=f*f,S=h*f,w=1-f,E=w*w,C=E*w;for(u=0;u<D.length;u++)i=_*(l=D[u])[c][d]+3*(x*m*l[c][d+1]+y*p*l[c][d+2])+v*l[c][d+3],r=_*l[c+1][d]+3*(x*m*l[c+1][d+1]+y*p*l[c+1][d+2])+v*l[c+1][d+3],n=_*l[c+2][d]+3*(x*m*l[c+2][d+1]+y*p*l[c+2][d+2])+v*l[c+2][d+3],o=_*l[c+3][d]+3*(x*m*l[c+3][d+1]+y*p*l[c+3][d+2])+v*l[c+3][d+3],g[u]=C*i+3*(E*f*r+w*h*n)+S*o;return g}:k?function(g,s,t){g||(g=[]);var i,r,n,o,l,u,d=Math.max(0,Math.min(Math.floor(s),T)),c=Math.max(0,Math.min(Math.floor(t),b)),m=Math.max(0,Math.min(1,s-d)),f=Math.max(0,Math.min(1,t-c));d*=3;var p=m*m,v=p*m,y=1-m,x=y*y,_=x*y,h=1-f;for(l=0;l<D.length;l++)i=h*(u=D[l])[c][d]+f*u[c+1][d],r=h*u[c][d+1]+f*u[c+1][d+1],n=h*u[c][d+2]+f*u[c+1][d+1],o=h*u[c][d+3]+f*u[c+1][d+1],g[l]=_*i+3*(x*m*r+y*p*n)+v*o;return g}:a?function(g,s,t){g||(g=[]);var i,r,n,o,l,u,d=Math.max(0,Math.min(Math.floor(s),T)),c=Math.max(0,Math.min(Math.floor(t),b)),m=Math.max(0,Math.min(1,s-d)),f=Math.max(0,Math.min(1,t-c));c*=3;var p=f*f,v=p*f,y=1-f,x=y*y,_=x*y,h=1-m;for(l=0;l<D.length;l++)i=h*(u=D[l])[c][d]+m*u[c][d+1],r=h*u[c+1][d]+m*u[c+1][d+1],n=h*u[c+2][d]+m*u[c+2][d+1],o=h*u[c+3][d]+m*u[c+3][d+1],g[l]=_*i+3*(x*f*r+y*p*n)+v*o;return g}:function(g,s,t){g||(g=[]);var i,r,n,o,l=Math.max(0,Math.min(Math.floor(s),T)),u=Math.max(0,Math.min(Math.floor(t),b)),d=Math.max(0,Math.min(1,s-l)),c=Math.max(0,Math.min(1,t-u)),m=1-c,f=1-d;for(n=0;n<D.length;n++)i=f*(o=D[n])[u][l]+d*o[u][l+1],r=f*o[u+1][l]+d*o[u+1][l+1],g[n]=m*i+c*r;return g}}},38356:function(ee,D,e){var M=e(3400),k=e(86411),a=e(93504),T=e(85720),b=e(22548);ee.exports=function(g,s,t,i){function r(o,l){return M.coerce(g,s,T,o,l)}s._clipPathId="clip"+s.uid+"carpet";var n=r("color",b.defaultLine);M.coerceFont(r,"font"),r("carpet"),a(g,s,i,r,n),s.a&&s.b?(s.a.length<3&&(s.aaxis.smoothing=0),s.b.length<3&&(s.baxis.smoothing=0),k(g,s,r)||(s.visible=!1),s._cheater&&r("cheaterslope")):s.visible=!1}},95856:function(ee,D,e){ee.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(ee){ee.exports=function(D,e){for(var M,k=D._fullData.length,a=0;a<k;a++){var T=D._fullData[a];if(T.index!==e.index&&T.type==="carpet"&&(M||(M=T),T.carpet===e.carpet))return T}return M}},53416:function(ee){ee.exports=function(D,e,M){if(D.length===0)return"";var k,a=[],T=M?3:1;for(k=0;k<D.length;k+=T)a.push(D[k]+","+e[k]),M&&k<D.length-T&&(a.push("C"),a.push([D[k+1]+","+e[k+1],D[k+2]+","+e[k+2]+" "].join(" ")));return a.join(M?"":"L")}},87072:function(ee,D,e){var M=e(3400).isArrayOrTypedArray;ee.exports=function(k,a,T){var b;for(M(k)?k.length>a.length&&(k=k.slice(0,a.length)):k=[],b=0;b<a.length;b++)k[b]=T(a[b]);return k}},15584:function(ee){ee.exports=function(D,e,M,k,a,T){var b=a[0]*D.dpdx(e),g=a[1]*D.dpdy(M),s=1,t=1;if(T){var i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),r=Math.sqrt(T[0]*T[0]+T[1]*T[1]),n=(a[0]*T[0]+a[1]*T[1])/i/r;t=Math.max(0,n)}var o=180*Math.atan2(g,b)/Math.PI;return o<-90?(o+=180,s=-s):o>90&&(o-=180,s=-s),{angle:o,flip:s,p:D.c2p(k,e,M),offsetMultplier:t}}},164:function(ee,D,e){var M=e(33428),k=e(43616),a=e(87072),T=e(53416),b=e(15584),g=e(72736),s=e(3400),t=s.strRotate,i=s.strTranslate,r=e(84284);function n(c,m,f,p,v,y,x){var _="const-"+v+"-lines",h=f.selectAll("."+_).data(y);h.enter().append("path").classed(_,!0).style("vector-effect",x?"none":"non-scaling-stroke"),h.each(function(S){var w=S,E=w.x,C=w.y,P=a([],E,c.c2p),O=a([],C,m.c2p),R="M"+T(P,O,w.smoothing);M.select(this).attr("d",R).style("stroke-width",w.width).style("stroke",w.color).style("stroke-dasharray",k.dashStyle(w.dash,w.width)).style("fill","none")}),h.exit().remove()}function o(c,m,f,p,v,y,x,_){var h=y.selectAll("text."+_).data(x);h.enter().append("text").classed(_,!0);var S=0,w={};return h.each(function(E,C){var P;if(E.axis.tickangle==="auto")P=b(p,m,f,E.xy,E.dxy);else{var O=(E.axis.tickangle+180)*Math.PI/180;P=b(p,m,f,E.xy,[Math.cos(O),Math.sin(O)])}C||(w={angle:P.angle,flip:P.flip});var R=(E.endAnchor?-1:1)*P.flip,U=M.select(this).attr({"text-anchor":R>0?"start":"end","data-notex":1}).call(k.font,E.font).text(E.text).call(g.convertToTspans,c),z=k.bBox(this);U.attr("transform",i(P.p[0],P.p[1])+t(P.angle)+i(E.axis.labelpadding*R,.3*z.height)),S=Math.max(S,z.width+E.axis.labelpadding)}),h.exit().remove(),w.maxExtent=S,w}ee.exports=function(c,m,f,p){var v=c._context.staticPlot,y=m.xaxis,x=m.yaxis,_=c._fullLayout._clips;s.makeTraceGroups(p,f,"trace").each(function(h){var S=M.select(this),w=h[0],E=w.trace,C=E.aaxis,P=E.baxis,O=s.ensureSingle(S,"g","minorlayer"),R=s.ensureSingle(S,"g","majorlayer"),U=s.ensureSingle(S,"g","boundarylayer"),z=s.ensureSingle(S,"g","labellayer");S.style("opacity",E.opacity),n(y,x,R,0,"a",C._gridlines,!0),n(y,x,R,0,"b",P._gridlines,!0),n(y,x,O,0,"a",C._minorgridlines,!0),n(y,x,O,0,"b",P._minorgridlines,!0),n(y,x,U,0,"a-boundary",C._boundarylines,v),n(y,x,U,0,"b-boundary",P._boundarylines,v);var N=o(c,y,x,E,0,z,C._labels,"a-label"),W=o(c,y,x,E,0,z,P._labels,"b-label");(function(F,V,j,te,J,K,Z,X){var Q,re,ae,ie,le=s.aggNums(Math.min,null,j.a),pe=s.aggNums(Math.max,null,j.a),de=s.aggNums(Math.min,null,j.b),ve=s.aggNums(Math.max,null,j.b);Q=.5*(le+pe),re=de,ae=j.ab2xy(Q,re,!0),ie=j.dxyda_rough(Q,re),Z.angle===void 0&&s.extendFlat(Z,b(j,J,K,ae,j.dxydb_rough(Q,re))),d(F,V,j,0,ae,ie,j.aaxis,J,K,Z,"a-title"),Q=le,re=.5*(de+ve),ae=j.ab2xy(Q,re,!0),ie=j.dxydb_rough(Q,re),X.angle===void 0&&s.extendFlat(X,b(j,J,K,ae,j.dxyda_rough(Q,re))),d(F,V,j,0,ae,ie,j.baxis,J,K,X,"b-title")})(c,z,E,0,y,x,N,W),function(F,V,j,te,J){var K,Z,X,Q,re=j.select("#"+F._clipPathId);re.size()||(re=j.append("clipPath").classed("carpetclip",!0));var ae=s.ensureSingle(re,"path","carpetboundary"),ie=V.clipsegments,le=[];for(Q=0;Q<ie.length;Q++)K=ie[Q],Z=a([],K.x,te.c2p),X=a([],K.y,J.c2p),le.push(T(Z,X,K.bicubic));var pe="M"+le.join("L")+"Z";re.attr("id",F._clipPathId),ae.attr("d",pe)}(E,w,_,y,x)})};var l=r.LINE_SPACING,u=(1-r.MID_SHIFT)/l+1;function d(c,m,f,p,v,y,x,_,h,S,w){var E=[];x.title.text&&E.push(x.title.text);var C=m.selectAll("text."+w).data(E),P=S.maxExtent;C.enter().append("text").classed(w,!0),C.each(function(){var O=b(f,_,h,v,y);["start","both"].indexOf(x.showticklabels)===-1&&(P=0);var R=x.title.font.size;P+=R+x.title.offset;var U=(S.angle+(S.flip<0?180:0)-O.angle+450)%360,z=U>90&&U<270,N=M.select(this);N.text(x.title.text).call(g.convertToTspans,c),z&&(P=(-g.lineCount(N)+u)*l*R-P),N.attr("transform",i(O.p[0],O.p[1])+t(O.angle)+i(0,P)).attr("text-anchor","middle").call(k.font,x.title.font)}),C.exit().remove()}},81e3:function(ee,D,e){var M=e(24588),k=e(14952).findBin,a=e(30180),T=e(29056),b=e(26435),g=e(24464);ee.exports=function(s){var t=s._a,i=s._b,r=t.length,n=i.length,o=s.aaxis,l=s.baxis,u=t[0],d=t[r-1],c=i[0],m=i[n-1],f=t[t.length-1]-t[0],p=i[i.length-1]-i[0],v=f*M.RELATIVE_CULL_TOLERANCE,y=p*M.RELATIVE_CULL_TOLERANCE;u-=v,d+=v,c-=y,m+=y,s.isVisible=function(x,_){return x>u&&x<d&&_>c&&_<m},s.isOccluded=function(x,_){return x<u||x>d||_<c||_>m},s.setScale=function(){var x=s._x,_=s._y,h=a(s._xctrl,s._yctrl,x,_,o.smoothing,l.smoothing);s._xctrl=h[0],s._yctrl=h[1],s.evalxy=T([s._xctrl,s._yctrl],r,n,o.smoothing,l.smoothing),s.dxydi=b([s._xctrl,s._yctrl],o.smoothing,l.smoothing),s.dxydj=g([s._xctrl,s._yctrl],o.smoothing,l.smoothing)},s.i2a=function(x){var _=Math.max(0,Math.floor(x[0]),r-2),h=x[0]-_;return(1-h)*t[_]+h*t[_+1]},s.j2b=function(x){var _=Math.max(0,Math.floor(x[1]),r-2),h=x[1]-_;return(1-h)*i[_]+h*i[_+1]},s.ij2ab=function(x){return[s.i2a(x[0]),s.j2b(x[1])]},s.a2i=function(x){var _=Math.max(0,Math.min(k(x,t),r-2)),h=t[_],S=t[_+1];return Math.max(0,Math.min(r-1,_+(x-h)/(S-h)))},s.b2j=function(x){var _=Math.max(0,Math.min(k(x,i),n-2)),h=i[_],S=i[_+1];return Math.max(0,Math.min(n-1,_+(x-h)/(S-h)))},s.ab2ij=function(x){return[s.a2i(x[0]),s.b2j(x[1])]},s.i2c=function(x,_){return s.evalxy([],x,_)},s.ab2xy=function(x,_,h){if(!h&&(x<t[0]||x>t[r-1]|_<i[0]||_>i[n-1]))return[!1,!1];var S=s.a2i(x),w=s.b2j(_),E=s.evalxy([],S,w);if(h){var C,P,O,R,U=0,z=0,N=[];x<t[0]?(C=0,P=0,U=(x-t[0])/(t[1]-t[0])):x>t[r-1]?(C=r-2,P=1,U=(x-t[r-1])/(t[r-1]-t[r-2])):P=S-(C=Math.max(0,Math.min(r-2,Math.floor(S)))),_<i[0]?(O=0,R=0,z=(_-i[0])/(i[1]-i[0])):_>i[n-1]?(O=n-2,R=1,z=(_-i[n-1])/(i[n-1]-i[n-2])):R=w-(O=Math.max(0,Math.min(n-2,Math.floor(w)))),U&&(s.dxydi(N,C,O,P,R),E[0]+=N[0]*U,E[1]+=N[1]*U),z&&(s.dxydj(N,C,O,P,R),E[0]+=N[0]*z,E[1]+=N[1]*z)}return E},s.c2p=function(x,_,h){return[_.c2p(x[0]),h.c2p(x[1])]},s.p2x=function(x,_,h){return[_.p2c(x[0]),h.p2c(x[1])]},s.dadi=function(x){var _=Math.max(0,Math.min(t.length-2,x));return t[_+1]-t[_]},s.dbdj=function(x){var _=Math.max(0,Math.min(i.length-2,x));return i[_+1]-i[_]},s.dxyda=function(x,_,h,S){var w=s.dxydi(null,x,_,h,S),E=s.dadi(x,h);return[w[0]/E,w[1]/E]},s.dxydb=function(x,_,h,S){var w=s.dxydj(null,x,_,h,S),E=s.dbdj(_,S);return[w[0]/E,w[1]/E]},s.dxyda_rough=function(x,_,h){var S=f*(h||.1),w=s.ab2xy(x+S,_,!0),E=s.ab2xy(x-S,_,!0);return[.5*(w[0]-E[0])/S,.5*(w[1]-E[1])/S]},s.dxydb_rough=function(x,_,h){var S=p*(h||.1),w=s.ab2xy(x,_+S,!0),E=s.ab2xy(x,_-S,!0);return[.5*(w[0]-E[0])/S,.5*(w[1]-E[1])/S]},s.dpdx=function(x){return x._m},s.dpdy=function(x){return x._m}}},51512:function(ee,D,e){var M=e(3400);ee.exports=function(k,a,T){var b,g,s,t=[],i=[],r=k[0].length,n=k.length;function o(F,V){var j,te=0,J=0;return F>0&&(j=k[V][F-1])!==void 0&&(J++,te+=j),F<r-1&&(j=k[V][F+1])!==void 0&&(J++,te+=j),V>0&&(j=k[V-1][F])!==void 0&&(J++,te+=j),V<n-1&&(j=k[V+1][F])!==void 0&&(J++,te+=j),te/Math.max(1,J)}var l,u,d,c,m,f,p,v,y,x,_,h=0;for(b=0;b<r;b++)for(g=0;g<n;g++)k[g][b]===void 0&&(t.push(b),i.push(g),k[g][b]=o(b,g)),h=Math.max(h,Math.abs(k[g][b]));if(!t.length)return k;var S=0,w=0,E=t.length;do{for(S=0,s=0;s<E;s++){b=t[s],g=i[s];var C,P,O,R,U,z,N=0,W=0;b===0?(O=a[U=Math.min(r-1,2)],R=a[1],C=k[g][U],W+=(P=k[g][1])+(P-C)*(a[0]-R)/(R-O),N++):b===r-1&&(O=a[U=Math.max(0,r-3)],R=a[r-2],C=k[g][U],W+=(P=k[g][r-2])+(P-C)*(a[r-1]-R)/(R-O),N++),(b===0||b===r-1)&&g>0&&g<n-1&&(l=T[g+1]-T[g],W+=((u=T[g]-T[g-1])*k[g+1][b]+l*k[g-1][b])/(u+l),N++),g===0?(O=T[z=Math.min(n-1,2)],R=T[1],C=k[z][b],W+=(P=k[1][b])+(P-C)*(T[0]-R)/(R-O),N++):g===n-1&&(O=T[z=Math.max(0,n-3)],R=T[n-2],C=k[z][b],W+=(P=k[n-2][b])+(P-C)*(T[n-1]-R)/(R-O),N++),(g===0||g===n-1)&&b>0&&b<r-1&&(l=a[b+1]-a[b],W+=((u=a[b]-a[b-1])*k[g][b+1]+l*k[g][b-1])/(u+l),N++),N?W/=N:(d=a[b+1]-a[b],c=a[b]-a[b-1],v=(m=T[g+1]-T[g])*(f=T[g]-T[g-1])*(m+f),W=((p=d*c*(d+c))*(f*k[g+1][b]+m*k[g-1][b])+v*(c*k[g][b+1]+d*k[g][b-1]))/(v*(c+d)+p*(f+m))),S+=(x=(y=W-k[g][b])/h)*x,_=N?0:.85,k[g][b]+=y*(1+_)}S=Math.sqrt(S)}while(w++<100&&S>1e-5);return M.log("Smoother converged to",S,"after",w,"iterations"),k}},86411:function(ee,D,e){var M=e(3400).isArray1D;ee.exports=function(k,a,T){var b=T("x"),g=b&&b.length,s=T("y"),t=s&&s.length;if(!g&&!t)return!1;if(a._cheater=!b,g&&!M(b)||t&&!M(s))a._length=null;else{var i=g?b.length:1/0;t&&(i=Math.min(i,s.length)),a.a&&a.a.length&&(i=Math.min(i,a.a.length)),a.b&&a.b.length&&(i=Math.min(i,a.b.length)),a._length=i}return!0}},83372:function(ee,D,e){var M=e(21776).Ks,k=e(6096),a=e(49084),T=e(45464),b=e(22548).defaultLine,g=e(92880).extendFlat,s=k.marker.line;ee.exports=g({locations:{valType:"data_array",editType:"calc"},locationmode:k.locationmode,z:{valType:"data_array",editType:"calc"},geojson:g({},k.geojson,{}),featureidkey:k.featureidkey,text:g({},k.text,{}),hovertext:g({},k.hovertext,{}),marker:{line:{color:g({},s.color,{dflt:b}),width:g({},s.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:k.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:k.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:g({},T.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:M(),showlegend:g({},T.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(ee,D,e){var M=e(38248),k=e(39032).BADNUM,a=e(47128),T=e(20148),b=e(4500);function g(s){return s&&typeof s=="string"}ee.exports=function(s,t){var i,r=t._length,n=new Array(r);i=t.geojson?function(c){return g(c)||M(c)}:g;for(var o=0;o<r;o++){var l=n[o]={},u=t.locations[o],d=t.z[o];i(u)&&M(d)?(l.loc=u,l.z=d):(l.loc=null,l.z=k),l.index=o}return T(n,t),a(s,t,{vals:t.z,containerStr:"",cLetter:"z"}),b(n,t),n}},30972:function(ee,D,e){var M=e(3400),k=e(27260),a=e(83372);ee.exports=function(T,b,g,s){function t(l,u){return M.coerce(T,b,a,l,u)}var i=t("locations"),r=t("z");if(i&&i.length&&M.isArrayOrTypedArray(r)&&r.length){b._length=Math.min(i.length,r.length);var n,o=t("geojson");(typeof o=="string"&&o!==""||M.isPlainObject(o))&&(n="geojson-id"),t("locationmode",n)==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(T,b,s,t,{prefix:"",cLetter:"z"}),M.coerceSelectionMarkerOpacity(b,t)}else b.visible=!1}},52428:function(ee){ee.exports=function(D,e,M,k,a){D.location=e.location,D.z=e.z;var T=k[a];return T.fIn&&T.fIn.properties&&(D.properties=T.fIn.properties),D.ct=T.ct,D}},69224:function(ee,D,e){var M=e(54460),k=e(83372),a=e(3400).fillText;ee.exports=function(T,b,g){var s,t,i,r,n=T.cd,o=n[0].trace,l=T.subplot,u=[b,g],d=[b+360,g];for(t=0;t<n.length;t++)if(r=!1,(s=n[t])._polygons){for(i=0;i<s._polygons.length;i++)s._polygons[i].contains(u)&&(r=!r),s._polygons[i].contains(d)&&(r=!r);if(r)break}if(r&&s)return T.x0=T.x1=T.xa.c2p(s.ct),T.y0=T.y1=T.ya.c2p(s.ct),T.index=s.index,T.location=s.loc,T.z=s.z,T.zLabel=M.tickText(l.mockAxis,l.mockAxis.c2l(s.z),"hover").text,T.hovertemplate=s.hovertemplate,function(c,m,f){if(!m.hovertemplate){var p=f.hi||m.hoverinfo,v=String(f.loc),y=p==="all"?k.hoverinfo.flags:p.split("+"),x=y.indexOf("name")!==-1,_=y.indexOf("location")!==-1,h=y.indexOf("z")!==-1,S=y.indexOf("text")!==-1,w=[];!x&&_?c.nameOverride=v:(x&&(c.nameOverride=m.name),_&&w.push(v)),h&&w.push(c.zLabel),S&&a(f,m,w),c.extraText=w.join("<br>")}}(T,o,s),[T]}},54272:function(ee,D,e){ee.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(ee,D,e){var M=e(33428),k=e(3400),a=e(27144),T=e(59972).getTopojsonFeatures,b=e(19280).findExtremes,g=e(7947).style;ee.exports={calcGeoJSON:function(s,t){for(var i=s[0].trace,r=t[i.geo],n=r._subplot,o=i.locationmode,l=i._length,u=o==="geojson-id"?a.extractTraceFeature(s):T(i,n.topojson),d=[],c=[],m=0;m<l;m++){var f=s[m],p=o==="geojson-id"?f.fOut:a.locationToFeature(o,f.loc,u);if(p){f.geojson=p,f.ct=p.properties.ct,f._polygons=a.feature2polygons(p);var v=a.computeBbox(p);d.push(v[0],v[2]),c.push(v[1],v[3])}else f.geojson=null}if(r.fitbounds==="geojson"&&o==="geojson-id"){var y=a.computeBbox(a.getTraceGeojson(i));d=[y[0],y[2]],c=[y[1],y[3]]}var x={padded:!0};i._extremes.lon=b(r.lonaxis._ax,d,x),i._extremes.lat=b(r.lataxis._ax,c,x)},plot:function(s,t,i){var r=t.layers.backplot.select(".choroplethlayer");k.makeTraceGroups(r,i,"trace choropleth").each(function(n){var o=M.select(this).selectAll("path.choroplethlocation").data(k.identity);o.enter().append("path").classed("choroplethlocation",!0),o.exit().remove(),g(s,n)})}}},17328:function(ee){ee.exports=function(D,e){var M,k,a,T,b,g=D.cd,s=D.xaxis,t=D.yaxis,i=[];if(e===!1)for(M=0;M<g.length;M++)g[M].selected=0;else for(M=0;M<g.length;M++)(a=(k=g[M]).ct)&&(T=s.c2p(a),b=t.c2p(a),e.contains([T,b],null,M,D)?(i.push({pointNumber:M,lon:a[0],lat:a[1]}),k.selected=1):k.selected=0);return i}},7947:function(ee,D,e){var M=e(33428),k=e(76308),a=e(43616),T=e(8932);function b(g,s){var t=s[0].trace,i=s[0].node3.selectAll(".choroplethlocation"),r=t.marker||{},n=r.line||{},o=T.makeColorScaleFuncFromTrace(t);i.each(function(l){M.select(this).attr("fill",o(l.z)).call(k.stroke,l.mlc||n.color).call(a.dashLine,"",l.mlw||n.width||0).style("opacity",r.opacity)}),a.selectedPointStyle(i,t)}ee.exports={style:function(g,s){s&&b(0,s)},styleOnSelect:function(g,s){var t=s[0].node3,i=s[0].trace;i.selectedpoints?a.selectedPointStyle(t.selectAll(".choroplethlocation"),i):b(0,s)}}},45608:function(ee,D,e){var M=e(83372),k=e(49084),a=e(21776).Ks,T=e(45464),b=e(92880).extendFlat;ee.exports=b({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:b({},M.featureidkey,{}),below:{valType:"string",editType:"plot"},text:M.text,hovertext:M.hovertext,marker:{line:{color:b({},M.marker.line.color,{editType:"plot"}),width:b({},M.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:b({},M.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:b({},M.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:b({},M.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:M.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:b({},T.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(ee,D,e){var M=e(38248),k=e(3400),a=e(8932),T=e(43616),b=e(44808).makeBlank,g=e(27144);function s(t){var i,r=t[0].trace,n=r._opts;if(r.selectedpoints){for(var o=T.makeSelectedPointStyleFns(r),l=0;l<t.length;l++){var u=t[l];u.fOut&&(u.fOut.properties.mo2=o.selectedOpacityFn(u))}i={type:"identity",property:"mo2"}}else i=k.isArrayOrTypedArray(r.marker.opacity)?{type:"identity",property:"mo"}:r.marker.opacity;return k.extendFlat(n.fill.paint,{"fill-opacity":i}),k.extendFlat(n.line.paint,{"line-opacity":i}),n}ee.exports={convert:function(t){var i=t[0].trace,r=i.visible===!0&&i._length!==0,n={layout:{visibility:"none"},paint:{}},o={layout:{visibility:"none"},paint:{}},l=i._opts={fill:n,line:o,geojson:b()};if(!r)return l;var u=g.extractTraceFeature(t);if(!u)return l;var d,c,m,f=a.makeColorScaleFuncFromTrace(i),p=i.marker,v=p.line||{};k.isArrayOrTypedArray(p.opacity)&&(d=function(w){var E=w.mo;return M(E)?+k.constrain(E,0,1):0}),k.isArrayOrTypedArray(v.color)&&(c=function(w){return w.mlc}),k.isArrayOrTypedArray(v.width)&&(m=function(w){return w.mlw});for(var y=0;y<t.length;y++){var x=t[y],_=x.fOut;if(_){var h=_.properties;h.fc=f(x.z),d&&(h.mo=d(x)),c&&(h.mlc=c(x)),m&&(h.mlw=m(x)),x.ct=h.ct,x._polygons=g.feature2polygons(_)}}var S=d?{type:"identity",property:"mo"}:p.opacity;return k.extendFlat(n.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),k.extendFlat(o.paint,{"line-color":c?{type:"identity",property:"mlc"}:v.color,"line-width":m?{type:"identity",property:"mlw"}:v.width,"line-opacity":S}),n.layout.visibility="visible",o.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:u},s(t),l},convertOnSelect:s}},9352:function(ee,D,e){var M=e(3400),k=e(27260),a=e(45608);ee.exports=function(T,b,g,s){function t(o,l){return M.coerce(T,b,a,o,l)}var i=t("locations"),r=t("z"),n=t("geojson");M.isArrayOrTypedArray(i)&&i.length&&M.isArrayOrTypedArray(r)&&r.length&&(typeof n=="string"&&n!==""||M.isPlainObject(n))?(t("featureidkey"),b._length=Math.min(i.length,r.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(T,b,s,t,{prefix:"",cLetter:"z"}),M.coerceSelectionMarkerOpacity(b,t)):b.visible=!1}},85404:function(ee,D,e){ee.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(M,k){k&&k[0].trace._glTrace.updateOnSelect(k)},getBelow:function(M,k){for(var a=k.getMapLayers(),T=a.length-2;T>=0;T--){var b=a[T].id;if(typeof b=="string"&&b.indexOf("water")===0){for(var g=T+1;g<a.length;g++)if(typeof(b=a[g].id)=="string"&&b.indexOf("plotly-")===-1)return b}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(ee,D,e){var M=e(13504).convert,k=e(13504).convertOnSelect,a=e(47552).traceLayerPrefix;function T(g,s){this.type="choroplethmapbox",this.subplot=g,this.uid=s,this.sourceId="source-"+s,this.layerList=[["fill",a+s+"-fill"],["line",a+s+"-line"]],this.below=null}var b=T.prototype;b.update=function(g){this._update(M(g)),g[0].trace._glTrace=this},b.updateOnSelect=function(g){this._update(k(g))},b._update=function(g){var s=this.subplot,t=this.layerList,i=s.belowLookup["trace-"+this.uid];s.map.getSource(this.sourceId).setData(g.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(g,i),this.below=i);for(var r=0;r<t.length;r++){var n=t[r],o=n[0],l=n[1],u=g[o];s.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&s.setOptions(l,"setPaintProperty",u.paint)}},b._addLayers=function(g,s){for(var t=this.subplot,i=this.layerList,r=this.sourceId,n=0;n<i.length;n++){var o=i[n],l=o[0],u=g[l];t.addLayer({type:l,id:o[1],source:r,layout:u.layout,paint:u.paint},s)}},b._removeLayers=function(){for(var g=this.subplot.map,s=this.layerList,t=s.length-1;t>=0;t--)g.removeLayer(s[t][1])},b.dispose=function(){var g=this.subplot.map;this._removeLayers(),g.removeSource(this.sourceId)},ee.exports=function(g,s){var t=s[0].trace,i=new T(g,t.uid),r=i.sourceId,n=M(s),o=i.below=g.belowLookup["trace-"+t.uid];return g.map.addSource(r,{type:"geojson",data:n.geojson}),i._addLayers(n,o),s[0].trace._glTrace=i,i}},86040:function(ee,D,e){var M=e(49084),k=e(29736).axisHoverFormat,a=e(21776).Ks,T=e(52948),b=e(45464),g=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:g({},b.showlegend,{dflt:!1})};g(s,M("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=T[t]}),s.hoverinfo=g({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,ee.exports=s},83344:function(ee,D,e){var M=e(47128);ee.exports=function(k,a){for(var T=a.u,b=a.v,g=a.w,s=Math.min(a.x.length,a.y.length,a.z.length,T.length,b.length,g.length),t=-1/0,i=1/0,r=0;r<s;r++){var n=T[r],o=b[r],l=g[r],u=Math.sqrt(n*n+o*o+l*l);t=Math.max(t,u),i=Math.min(i,u)}a._len=s,a._normMax=t,M(k,a,{vals:[i,t],containerStr:"",cLetter:"c"})}},6648:function(ee,D,e){var M=e(67792).gl_cone3d,k=e(67792).gl_cone3d.createConeMesh,a=e(3400).simpleMap,T=e(33040).parseColorScale,b=e(8932).extractOpts,g=e(3400).isArrayOrTypedArray,s=e(52094);function t(u,d){this.scene=u,this.uid=d,this.mesh=null,this.data=null}var i=t.prototype;i.handlePick=function(u){if(u.object===this.mesh){var d=u.index=u.data.index,c=this.data.x[d],m=this.data.y[d],f=this.data.z[d],p=this.data.u[d],v=this.data.v[d],y=this.data.w[d];u.traceCoordinate=[c,m,f,p,v,y,Math.sqrt(p*p+v*v+y*y)];var x=this.data.hovertext||this.data.text;return g(x)&&x[d]!==void 0?u.textLabel=x[d]:x&&(u.textLabel=x),!0}};var r={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function l(u,d){var c=u.fullSceneLayout,m=u.dataScale,f={};function p(_,h){var S=c[h],w=m[r[h]];return a(_,function(E){return S.d2l(E)*w})}f.vectors=s(p(d.u,"xaxis"),p(d.v,"yaxis"),p(d.w,"zaxis"),d._len),f.positions=s(p(d.x,"xaxis"),p(d.y,"yaxis"),p(d.z,"zaxis"),d._len);var v=b(d);f.colormap=T(d),f.vertexIntensityBounds=[v.min/d._normMax,v.max/d._normMax],f.coneOffset=n[d.anchor],d.sizemode==="scaled"?f.coneSize=d.sizeref||.5:f.coneSize=d.sizeref&&d._normMax?d.sizeref/d._normMax:.5;var y=M(f),x=d.lightposition;return y.lightPosition=[x.x,x.y,x.z],y.ambient=d.lighting.ambient,y.diffuse=d.lighting.diffuse,y.specular=d.lighting.specular,y.roughness=d.lighting.roughness,y.fresnel=d.lighting.fresnel,y.opacity=d.opacity,d._pad=o[d.anchor]*y.vectorScale*y.coneScale*d._normMax,y}i.update=function(u){this.data=u;var d=l(this.scene,u);this.mesh.update(d)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(u,d){var c=u.glplot.gl,m=l(u,d),f=k(c,m),p=new t(u,d.uid);return p.mesh=f,p.data=d,f._trace=p,u.glplot.add(f),p}},86096:function(ee,D,e){var M=e(3400),k=e(27260),a=e(86040);ee.exports=function(T,b,g,s){function t(d,c){return M.coerce(T,b,a,d,c)}var i=t("u"),r=t("v"),n=t("w"),o=t("x"),l=t("y"),u=t("z");i&&i.length&&r&&r.length&&n&&n.length&&o&&o.length&&l&&l.length&&u&&u.length?(t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(T,b,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},26048:function(ee,D,e){ee.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(M,k){return M.norm=k.traceCoordinate[6],M},meta:{}}},67104:function(ee,D,e){var M=e(83328),k=e(52904),a=e(29736),T=a.axisHoverFormat,b=a.descriptionOnlyNumbers,g=e(49084),s=e(98192).u,t=e(25376),i=e(92880).extendFlat,r=e(69104),n=r.COMPARISON_OPS2,o=r.INTERVAL_OPS,l=k.line;ee.exports=i({z:M.z,x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,text:M.text,hovertext:M.hovertext,transpose:M.transpose,xtype:M.xtype,ytype:M.ytype,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:M.hovertemplate,texttemplate:i({},M.texttemplate,{}),textfont:i({},M.textfont,{}),hoverongaps:M.hoverongaps,connectgaps:i({},M.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:b("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(o),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},l.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:s,smoothing:i({},l.smoothing,{}),editType:"plot"}},g("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(ee,D,e){var M=e(8932),k=e(19512),a=e(54444),T=e(46960);ee.exports=function(b,g){var s=k(b,g),t=s[0].z;a(g,t);var i,r=g.contours,n=M.extractOpts(g);if(r.coloring==="heatmap"&&n.auto&&g.autocontour===!1){var o=r.start,l=T(r),u=r.size||1,d=Math.floor((l-o)/u)+1;isFinite(u)||(u=1,d=1);var c=o-u/2;i=[c,c+d*u]}else i=t;return M.calc(b,g,{vals:i,cLetter:"z"}),s}},56008:function(ee){ee.exports=function(D,e){var M,k=D[0],a=k.z;switch(e.type){case"levels":var T=Math.min(a[0][0],a[0][1]);for(M=0;M<D.length;M++){var b=D[M];b.prefixBoundary=!b.edgepaths.length&&(T>b.level||b.starts.length&&T===b.level)}break;case"constraint":if(k.prefixBoundary=!1,k.edgepaths.length)return;var g=k.x.length,s=k.y.length,t=-1/0,i=1/0;for(M=0;M<s;M++)i=Math.min(i,a[M][0]),i=Math.min(i,a[M][g-1]),t=Math.max(t,a[M][0]),t=Math.max(t,a[M][g-1]);for(M=1;M<g-1;M++)i=Math.min(i,a[0][M]),i=Math.min(i,a[s-1][M]),t=Math.max(t,a[0][M]),t=Math.max(t,a[s-1][M]);var r,n,o=e.value;switch(e._operation){case">":o>t&&(k.prefixBoundary=!0);break;case"<":(o<i||k.starts.length&&o===i)&&(k.prefixBoundary=!0);break;case"[]":r=Math.min(o[0],o[1]),((n=Math.max(o[0],o[1]))<i||r>t||k.starts.length&&n===i)&&(k.prefixBoundary=!0);break;case"][":r=Math.min(o[0],o[1]),n=Math.max(o[0],o[1]),r<i&&n>t&&(k.prefixBoundary=!0)}}}},55296:function(ee,D,e){var M=e(8932),k=e(41076),a=e(46960);ee.exports={min:"zmin",max:"zmax",calc:function(T,b,g){var s=b.contours,t=b.line,i=s.size||1,r=s.coloring,n=k(b,{isColorbar:!0});if(r==="heatmap"){var o=M.extractOpts(b);g._fillgradient=o.reversescale?M.flipScale(o.colorscale):o.colorscale,g._zrange=[o.min,o.max]}else r==="fill"&&(g._fillcolor=n);g._line={color:r==="lines"?n:t.color,width:s.showlines!==!1?t.width:0,dash:t.dash},g._levels={start:s.start,end:a(s),size:i}}}},93252:function(ee){ee.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(ee,D,e){var M=e(38248),k=e(17428),a=e(76308),T=a.addOpacity,b=a.opacity,g=e(69104),s=e(3400).isArrayOrTypedArray,t=g.CONSTRAINT_REDUCTION,i=g.COMPARISON_OPS2;ee.exports=function(r,n,o,l,u,d){var c,m,f,p=n.contours,v=o("contours.operation");p._operation=t[v],function(y,x){var _;i.indexOf(x.operation)===-1?(y("contours.value",[0,1]),s(x.value)?x.value.length>2?x.value=x.value.slice(2):x.length===0?x.value=[0,1]:x.length<2?(_=parseFloat(x.value[0]),x.value=[_,_+1]):x.value=[parseFloat(x.value[0]),parseFloat(x.value[1])]:M(x.value)&&(_=parseFloat(x.value),x.value=[_,_+1])):(y("contours.value",0),M(x.value)||(s(x.value)?x.value=parseFloat(x.value[0]):x.value=0))}(o,p),v==="="?c=p.showlines=!0:(c=o("contours.showlines"),f=o("fillcolor",T((r.line||{}).color||u,.5))),c&&(m=o("line.color",f&&b(f)?T(n.fillcolor,1):u),o("line.width",2),o("line.dash")),o("line.smoothing"),k(o,l,m,d)}},3212:function(ee,D,e){var M=e(69104),k=e(38248);function a(g,s){var t,i=Array.isArray(s);function r(n){return k(n)?+n:null}return M.COMPARISON_OPS2.indexOf(g)!==-1?t=r(i?s[0]:s):M.INTERVAL_OPS.indexOf(g)!==-1?t=i?[r(s[0]),r(s[1])]:[r(s),r(s)]:M.SET_OPS.indexOf(g)!==-1&&(t=i?s.map(r):[r(s)]),t}function T(g){return function(s){s=a(g,s);var t=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return{start:t,end:i,size:i-t}}}function b(g){return function(s){return{start:s=a(g,s),end:1/0,size:1/0}}}ee.exports={"[]":T("[]"),"][":T("]["),">":b(">"),"<":b("<"),"=":b("=")}},84952:function(ee){ee.exports=function(D,e,M,k){var a=k("contours.start"),T=k("contours.end"),b=a===!1||T===!1,g=M("contours.size");!(b?e.autocontour=!0:M("autocontour",!1))&&g||M("ncontours")}},82172:function(ee,D,e){var M=e(3400);function k(a){return M.extendFlat({},a,{edgepaths:M.extendDeep([],a.edgepaths),paths:M.extendDeep([],a.paths),starts:M.extendDeep([],a.starts)})}ee.exports=function(a,T){var b,g,s,t=function(n){return n.reverse()},i=function(n){return n};switch(T){case"=":case"<":return a;case">":for(a.length!==1&&M.warn("Contour data invalid for the specified inequality operation."),g=a[0],b=0;b<g.edgepaths.length;b++)g.edgepaths[b]=t(g.edgepaths[b]);for(b=0;b<g.paths.length;b++)g.paths[b]=t(g.paths[b]);for(b=0;b<g.starts.length;b++)g.starts[b]=t(g.starts[b]);return a;case"][":var r=t;t=i,i=r;case"[]":for(a.length!==2&&M.warn("Contour data invalid for the specified inequality range operation."),g=k(a[0]),s=k(a[1]),b=0;b<g.edgepaths.length;b++)g.edgepaths[b]=t(g.edgepaths[b]);for(b=0;b<g.paths.length;b++)g.paths[b]=t(g.paths[b]);for(b=0;b<g.starts.length;b++)g.starts[b]=t(g.starts[b]);for(;s.edgepaths.length;)g.edgepaths.push(i(s.edgepaths.shift()));for(;s.paths.length;)g.paths.push(i(s.paths.shift()));for(;s.starts.length;)g.starts.push(i(s.starts.shift()));return[g]}}},57004:function(ee,D,e){var M=e(3400),k=e(51264),a=e(31147),T=e(95536),b=e(84952),g=e(97680),s=e(39096),t=e(67104);ee.exports=function(i,r,n,o){function l(d,c){return M.coerce(i,r,t,d,c)}if(k(i,r,l,o)){a(i,r,o,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var u=l("contours.type")==="constraint";l("connectgaps",M.isArray1D(r.z)),u?T(i,r,l,o,n):(b(i,r,l,function(d){return M.coerce2(i,r,t,d)}),g(i,r,l,o)),r.contours&&r.contours.coloring==="heatmap"&&s(l,o)}else r.visible=!1}},61512:function(ee,D,e){var M=e(3400),k=e(3212),a=e(46960);ee.exports=function(T,b,g){for(var s=T.type==="constraint"?k[T._operation](T.value):T,t=s.size,i=[],r=a(s),n=g.trace._carpetTrace,o=n?{xaxis:n.aaxis,yaxis:n.baxis,x:g.a,y:g.b}:{xaxis:b.xaxis,yaxis:b.yaxis,x:g.x,y:g.y},l=s.start;l<r;l+=t)if(i.push(M.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:g.z,smoothing:g.trace.line.smoothing},o)),i.length>1e3){M.warn("Too many contours, clipping at 1000",T);break}return i}},46960:function(ee){ee.exports=function(D){return D.end+D.size/1e6}},88748:function(ee,D,e){var M=e(3400),k=e(93252);function a(g,s,t,i){return Math.abs(g[0]-s[0])<t&&Math.abs(g[1]-s[1])<i}function T(g,s,t,i,r){var n,o=s.join(","),l=g.crossings[o],u=function(re,ae,ie){var le=0,pe=0;return re>20&&ae?re===208||re===1114?le=ie[0]===0?1:-1:pe=ie[1]===0?1:-1:k.BOTTOMSTART.indexOf(re)!==-1?pe=1:k.LEFTSTART.indexOf(re)!==-1?le=1:k.TOPSTART.indexOf(re)!==-1?pe=-1:le=-1,[le,pe]}(l,t,s),d=[b(g,s,[-u[0],-u[1]])],c=g.z.length,m=g.z[0].length,f=s.slice(),p=u.slice();for(n=0;n<1e4;n++){if(l>20?(l=k.CHOOSESADDLE[l][(u[0]||u[1])<0?0:1],g.crossings[o]=k.SADDLEREMAINDER[l]):delete g.crossings[o],!(u=k.NEWDELTA[l])){M.log("Found bad marching index:",l,s,g.level);break}d.push(b(g,s,u)),s[0]+=u[0],s[1]+=u[1],o=s.join(","),a(d[d.length-1],d[d.length-2],i,r)&&d.pop();var v=u[0]&&(s[0]<0||s[0]>m-2)||u[1]&&(s[1]<0||s[1]>c-2);if(s[0]===f[0]&&s[1]===f[1]&&u[0]===p[0]&&u[1]===p[1]||t&&v)break;l=g.crossings[o]}n===1e4&&M.log("Infinite loop in contour?");var y,x,_,h,S,w,E,C,P,O,R,U,z,N,W,F=a(d[0],d[d.length-1],i,r),V=0,j=.2*g.smoothing,te=[],J=0;for(n=1;n<d.length;n++)U=d[n],z=d[n-1],N=U[2]-z[2],W=U[3]-z[3],V+=E=Math.sqrt(N*N+W*W),te.push(E);var K=V/te.length*j;function Z(re){return d[re%d.length]}for(n=d.length-2;n>=J;n--)if((y=te[n])<K){for(_=0,x=n-1;x>=J&&y+te[x]<K;x--)y+=te[x];if(F&&n===d.length-2)for(_=0;_<x&&y+te[_]<K;_++)y+=te[_];S=n-x+_+1,w=Math.floor((n+x+_+2)/2),h=F||n!==d.length-2?F||x!==-1?S%2?Z(w):[(Z(w)[0]+Z(w+1)[0])/2,(Z(w)[1]+Z(w+1)[1])/2]:d[0]:d[d.length-1],d.splice(x+1,n-x+1,h),n=x+1,_&&(J=_),F&&(n===d.length-2?d[_]=d[d.length-1]:n===0&&(d[d.length-1]=d[0]))}for(d.splice(0,J),n=0;n<d.length;n++)d[n].length=2;if(!(d.length<2))if(F)d.pop(),g.paths.push(d);else{t||M.log("Unclosed interior contour?",g.level,f.join(","),d.join("L"));var X=!1;for(C=0;C<g.edgepaths.length;C++)if(O=g.edgepaths[C],!X&&a(O[0],d[d.length-1],i,r)){d.pop(),X=!0;var Q=!1;for(P=0;P<g.edgepaths.length;P++)if(a((R=g.edgepaths[P])[R.length-1],d[0],i,r)){Q=!0,d.shift(),g.edgepaths.splice(C,1),P===C?g.paths.push(d.concat(R)):(P>C&&P--,g.edgepaths[P]=R.concat(d,O));break}Q||(g.edgepaths[C]=d.concat(O))}for(C=0;C<g.edgepaths.length&&!X;C++)a((O=g.edgepaths[C])[O.length-1],d[0],i,r)&&(d.shift(),g.edgepaths[C]=O.concat(d),X=!0);X||g.edgepaths.push(d)}}function b(g,s,t){var i=s[0]+Math.max(t[0],0),r=s[1]+Math.max(t[1],0),n=g.z[r][i],o=g.xaxis,l=g.yaxis;if(t[1]){var u=(g.level-n)/(g.z[r][i+1]-n),d=(u!==1?(1-u)*o.c2l(g.x[i]):0)+(u!==0?u*o.c2l(g.x[i+1]):0);return[o.c2p(o.l2c(d),!0),l.c2p(g.y[r],!0),i+u,r]}var c=(g.level-n)/(g.z[r+1][i]-n),m=(c!==1?(1-c)*l.c2l(g.y[r]):0)+(c!==0?c*l.c2l(g.y[r+1]):0);return[o.c2p(g.x[i],!0),l.c2p(l.l2c(m),!0),i,r+c]}ee.exports=function(g,s,t){var i,r,n,o;for(s=s||.01,t=t||.01,r=0;r<g.length;r++){for(n=g[r],o=0;o<n.starts.length;o++)T(n,n.starts[o],"edge",s,t);for(i=0;Object.keys(n.crossings).length&&i<1e4;)i++,T(n,Object.keys(n.crossings)[0].split(",").map(Number),void 0,s,t);i===1e4&&M.log("Infinite loop in contour?")}}},38200:function(ee,D,e){var M=e(76308),k=e(55512);ee.exports=function(a,T,b,g,s){s||(s={}),s.isContour=!0;var t=k(a,T,b,g,s);return t&&t.forEach(function(i){var r=i.trace;r.contours.type==="constraint"&&(r.fillcolor&&M.opacity(r.fillcolor)?i.color=M.addOpacity(r.fillcolor,1):r.contours.showlines&&M.opacity(r.line.color)&&(i.color=M.addOpacity(r.line.color,1)))}),t}},66240:function(ee,D,e){ee.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(ee,D,e){var M=e(3400);ee.exports=function(k,a,T,b){if(b||(b={}),k("contours.showlabels")){var g=a.font;M.coerceFont(k,"contours.labelfont",{family:g.family,size:g.size,color:T}),k("contours.labelformat")}b.hasHover!==!1&&k("zhoverformat")}},41076:function(ee,D,e){var M=e(33428),k=e(8932),a=e(46960);ee.exports=function(T){var b=T.contours,g=b.start,s=a(b),t=b.size||1,i=Math.floor((s-g)/t)+1,r=b.coloring==="lines"?0:1,n=k.extractOpts(T);isFinite(t)||(t=1,i=1);var o,l,u=n.reversescale?k.flipScale(n.colorscale):n.colorscale,d=u.length,c=new Array(d),m=new Array(d),f=n.min,p=n.max;if(b.coloring==="heatmap"){for(l=0;l<d;l++)o=u[l],c[l]=o[0]*(p-f)+f,m[l]=o[1];var v=M.extent([f,p,b.start,b.start+t*(i-1)]),y=v[f<p?0:1],x=v[f<p?1:0];y!==f&&(c.splice(0,0,y),m.splice(0,0,m[0])),x!==p&&(c.push(x),m.push(m[m.length-1]))}else{var _=T._input&&typeof T._input.zmin=="number"&&typeof T._input.zmax=="number";for(_&&(g<=f||s>=p)&&(g<=f&&(g=f),s>=p&&(s=p),i=Math.floor((s-g)/t)+1,r=0),l=0;l<d;l++)o=u[l],c[l]=(o[0]*(i+r-1)-r/2)*t+g,m[l]=o[1];(_||T.autocontour)&&(c[0]>f&&(c.unshift(f),m.unshift(m[0])),c[c.length-1]<p&&(c.push(p),m.push(m[m.length-1])))}return k.makeColorScaleFunc({domain:c,range:m},{noNumericCheck:!0})}},72424:function(ee,D,e){var M=e(93252);function k(a,T){var b=(T[0][0]>a?0:1)+(T[0][1]>a?0:2)+(T[1][1]>a?0:4)+(T[1][0]>a?0:8);return b===5||b===10?a>(T[0][0]+T[0][1]+T[1][0]+T[1][1])/4?b===5?713:1114:b===5?104:208:b===15?0:b}ee.exports=function(a){var T,b,g,s,t,i,r,n,o,l=a[0].z,u=l.length,d=l[0].length,c=u===2||d===2;for(b=0;b<u-1;b++)for(s=[],b===0&&(s=s.concat(M.BOTTOMSTART)),b===u-2&&(s=s.concat(M.TOPSTART)),T=0;T<d-1;T++)for(g=s.slice(),T===0&&(g=g.concat(M.LEFTSTART)),T===d-2&&(g=g.concat(M.RIGHTSTART)),t=T+","+b,i=[[l[b][T],l[b][T+1]],[l[b+1][T],l[b+1][T+1]]],o=0;o<a.length;o++)(r=k((n=a[o]).level,i))&&(n.crossings[t]=r,g.indexOf(r)!==-1&&(n.starts.push([T,b]),c&&g.indexOf(r,g.indexOf(r)+1)!==-1&&n.starts.push([T,b])))}},23676:function(ee,D,e){var M=e(33428),k=e(3400),a=e(43616),T=e(8932),b=e(72736),g=e(54460),s=e(78344),t=e(41420),i=e(72424),r=e(88748),n=e(61512),o=e(82172),l=e(56008),u=e(93252),d=u.LABELOPTIMIZER;function c(p,v){var y,x,_,h,S,w,E,C="",P=0,O=p.edgepaths.map(function(F,V){return V}),R=!0;function U(F){return Math.abs(F[1]-v[2][1])<.01}function z(F){return Math.abs(F[0]-v[0][0])<.01}function N(F){return Math.abs(F[0]-v[2][0])<.01}for(;O.length;){for(w=a.smoothopen(p.edgepaths[P],p.smoothing),C+=R?w:w.replace(/^M/,"L"),O.splice(O.indexOf(P),1),y=p.edgepaths[P][p.edgepaths[P].length-1],h=-1,_=0;_<4;_++){if(!y){k.log("Missing end?",P,p);break}for(E=y,Math.abs(E[1]-v[0][1])<.01&&!N(y)?x=v[1]:z(y)?x=v[0]:U(y)?x=v[3]:N(y)&&(x=v[2]),S=0;S<p.edgepaths.length;S++){var W=p.edgepaths[S][0];Math.abs(y[0]-x[0])<.01?Math.abs(y[0]-W[0])<.01&&(W[1]-y[1])*(x[1]-W[1])>=0&&(x=W,h=S):Math.abs(y[1]-x[1])<.01?Math.abs(y[1]-W[1])<.01&&(W[0]-y[0])*(x[0]-W[0])>=0&&(x=W,h=S):k.log("endpt to newendpt is not vert. or horz.",y,x,W)}if(y=x,h>=0)break;C+="L"+x}if(h===p.edgepaths.length){k.log("unclosed perimeter path");break}P=h,(R=O.indexOf(P)===-1)&&(P=O[0],C+="Z")}for(P=0;P<p.paths.length;P++)C+=a.smoothclosed(p.paths[P],p.smoothing);return C}function m(p,v,y,x){var _=v.width/2,h=v.height/2,S=p.x,w=p.y,E=p.theta,C=Math.cos(E)*_,P=Math.sin(E)*_,O=(S>x.center?x.right-S:S-x.left)/(C+Math.abs(Math.sin(E)*h)),R=(w>x.middle?x.bottom-w:w-x.top)/(Math.abs(P)+Math.cos(E)*h);if(O<1||R<1)return 1/0;var U=d.EDGECOST*(1/(O-1)+1/(R-1));U+=d.ANGLECOST*E*E;for(var z=S-C,N=w-P,W=S+C,F=w+P,V=0;V<y.length;V++){var j=y[V],te=Math.cos(j.theta)*j.width/2,J=Math.sin(j.theta)*j.width/2,K=2*k.segmentDistance(z,N,W,F,j.x-te,j.y-J,j.x+te,j.y+J)/(v.height+j.height),Z=j.level===v.level,X=Z?d.SAMELEVELDISTANCE:1;if(K<=X)return 1/0;U+=d.NEIGHBORCOST*(Z?d.SAMELEVELFACTOR:1)/(K-X)}return U}function f(p){var v,y,x=p.trace._emptypoints,_=[],h=p.z.length,S=p.z[0].length,w=[];for(v=0;v<S;v++)w.push(1);for(v=0;v<h;v++)_.push(w.slice());for(v=0;v<x.length;v++)_[(y=x[v])[0]][y[1]]=0;return p.zmask=_,_}D.plot=function(p,v,y,x){var _=v.xaxis,h=v.yaxis;k.makeTraceGroups(x,y,"contour").each(function(S){var w=M.select(this),E=S[0],C=E.trace,P=E.x,O=E.y,R=C.contours,U=n(R,v,E),z=k.ensureSingle(w,"g","heatmapcoloring"),N=[];R.coloring==="heatmap"&&(N=[S]),t(p,v,N,z),i(U),r(U);var W=_.c2p(P[0],!0),F=_.c2p(P[P.length-1],!0),V=h.c2p(O[0],!0),j=h.c2p(O[O.length-1],!0),te=[[W,j],[F,j],[F,V],[W,V]],J=U;R.type==="constraint"&&(J=o(U,R._operation)),function(K,Z,X){var Q=k.ensureSingle(K,"g","contourbg").selectAll("path").data(X.coloring==="fill"?[0]:[]);Q.enter().append("path"),Q.exit().remove(),Q.attr("d","M"+Z.join("L")+"Z").style("stroke","none")}(w,te,R),function(K,Z,X,Q){var re=Q.coloring==="fill"||Q.type==="constraint"&&Q._operation!=="=",ae="M"+X.join("L")+"Z";re&&l(Z,Q);var ie=k.ensureSingle(K,"g","contourfill").selectAll("path").data(re?Z:[]);ie.enter().append("path"),ie.exit().remove(),ie.each(function(le){var pe=(le.prefixBoundary?ae:"")+c(le,X);pe?M.select(this).attr("d",pe).style("stroke","none"):M.select(this).remove()})}(w,J,te,R),function(K,Z,X,Q,re){var ae=X._context.staticPlot,ie=k.ensureSingle(K,"g","contourlines"),le=re.showlines!==!1,pe=re.showlabels,de=le&&pe,ve=D.createLines(ie,le||pe,Z,ae),be=D.createLineClip(ie,de,X,Q.trace.uid),me=K.selectAll("g.contourlabels").data(pe?[0]:[]);if(me.exit().remove(),me.enter().append("g").classed("contourlabels",!0),pe){var ge=[],ke=[];k.clearLocationCache();var we=D.labelFormatter(X,Q),ue=a.tester.append("text").attr("data-notex",1).call(a.font,re.labelfont),oe=Z[0].xaxis,he=Z[0].yaxis,Ee=oe._length,Te=he._length,Me=oe.range,Se=he.range,ze=k.aggNums(Math.min,null,Q.x),fe=k.aggNums(Math.max,null,Q.x),xe=k.aggNums(Math.min,null,Q.y),_e=k.aggNums(Math.max,null,Q.y),Oe=Math.max(oe.c2p(ze,!0),0),De=Math.min(oe.c2p(fe,!0),Ee),Pe=Math.max(he.c2p(_e,!0),0),Ue=Math.min(he.c2p(xe,!0),Te),Ve={};Me[0]<Me[1]?(Ve.left=Oe,Ve.right=De):(Ve.left=De,Ve.right=Oe),Se[0]<Se[1]?(Ve.top=Pe,Ve.bottom=Ue):(Ve.top=Ue,Ve.bottom=Pe),Ve.middle=(Ve.top+Ve.bottom)/2,Ve.center=(Ve.left+Ve.right)/2,ge.push([[Ve.left,Ve.top],[Ve.right,Ve.top],[Ve.right,Ve.bottom],[Ve.left,Ve.bottom]]);var Xe=Math.sqrt(Ee*Ee+Te*Te),it=u.LABELDISTANCE*Xe/Math.max(1,Z.length/u.LABELINCREASE);ve.each(function(tt){var pt=D.calcTextOpts(tt.level,we,ue,X);M.select(this).selectAll("path").each(function(){var mt=k.getVisibleSegment(this,Ve,pt.height/2);if(mt&&!(mt.len<(pt.width+pt.height)*u.LABELMIN))for(var gt=Math.min(Math.ceil(mt.len/it),u.LABELMAX),et=0;et<gt;et++){var $e=D.findBestTextLocation(this,mt,pt,ke,Ve);if(!$e)break;D.addLabelData($e,pt,ke,ge)}})}),ue.remove(),D.drawLabels(me,ke,X,be,de?ge:null)}pe&&!le&&ve.remove()}(w,U,p,E,R),function(K,Z,X,Q,re){var ae=Q.trace,ie=X._fullLayout._clips,le="clip"+ae.uid,pe=ie.selectAll("#"+le).data(ae.connectgaps?[]:[0]);if(pe.enter().append("clipPath").classed("contourclip",!0).attr("id",le),pe.exit().remove(),ae.connectgaps===!1){var de={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:Z.xaxis,yaxis:Z.yaxis,x:Q.x,y:Q.y,z:f(Q),smoothing:0};i([de]),r([de]),l([de],{type:"levels"}),k.ensureSingle(pe,"path","").attr("d",(de.prefixBoundary?"M"+re.join("L")+"Z":"")+c(de,re))}else le=null;a.setClipUrl(K,le,X)}(w,v,p,E,te)})},D.createLines=function(p,v,y,x){var _=y[0].smoothing,h=p.selectAll("g.contourlevel").data(v?y:[]);if(h.exit().remove(),h.enter().append("g").classed("contourlevel",!0),v){var S=h.selectAll("path.openline").data(function(E){return E.pedgepaths||E.edgepaths});S.exit().remove(),S.enter().append("path").classed("openline",!0),S.attr("d",function(E){return a.smoothopen(E,_)}).style("stroke-miterlimit",1).style("vector-effect",x?"none":"non-scaling-stroke");var w=h.selectAll("path.closedline").data(function(E){return E.ppaths||E.paths});w.exit().remove(),w.enter().append("path").classed("closedline",!0),w.attr("d",function(E){return a.smoothclosed(E,_)}).style("stroke-miterlimit",1).style("vector-effect",x?"none":"non-scaling-stroke")}return h},D.createLineClip=function(p,v,y,x){var _=v?"clipline"+x:null,h=y._fullLayout._clips.selectAll("#"+_).data(v?[0]:[]);return h.exit().remove(),h.enter().append("clipPath").classed("contourlineclip",!0).attr("id",_),a.setClipUrl(p,_,y),h},D.labelFormatter=function(p,v){var y=p._fullLayout,x=v.trace,_=x.contours,h={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(_.labelformat)h.tickformat=_.labelformat,s(h,y);else{var S=T.extractOpts(x);if(S&&S.colorbar&&S.colorbar._axis)h=S.colorbar._axis;else{if(_.type==="constraint"){var w=_.value;k.isArrayOrTypedArray(w)?h.range=[w[0],w[w.length-1]]:h.range=[w,w]}else h.range=[_.start,_.end],h.nticks=(_.end-_.start)/_.size;h.range[0]===h.range[1]&&(h.range[1]+=h.range[0]||1),h.nticks||(h.nticks=1e3),s(h,y),g.prepTicks(h),h._tmin=null,h._tmax=null}}return function(E){return g.tickText(h,E).text}},D.calcTextOpts=function(p,v,y,x){var _=v(p);y.text(_).call(b.convertToTspans,x);var h=y.node(),S=a.bBox(h,!0);return{text:_,width:S.width,height:S.height,fontSize:+h.style["font-size"].replace("px",""),level:p,dy:(S.top+S.bottom)/2}},D.findBestTextLocation=function(p,v,y,x,_){var h,S,w,E,C,P=y.width;v.isClosed?(S=v.len/d.INITIALSEARCHPOINTS,h=v.min+S/2,w=v.max):(S=(v.len-P)/(d.INITIALSEARCHPOINTS+1),h=v.min+S+P/2,w=v.max-(S+P)/2);for(var O=1/0,R=0;R<d.ITERATIONS;R++){for(var U=h;U<w;U+=S){var z=k.getTextLocation(p,v.total,U,P),N=m(z,y,x,_);N<O&&(O=N,C=z,E=U)}if(O>2*d.MAXCOST)break;R&&(S/=2),w=(h=E-S/2)+1.5*S}if(O<=d.MAXCOST)return C},D.addLabelData=function(p,v,y,x){var _=v.fontSize,h=v.width+_/3,S=Math.max(0,v.height-_/3),w=p.x,E=p.y,C=p.theta,P=Math.sin(C),O=Math.cos(C),R=function(z,N){return[w+z*O-N*P,E+z*P+N*O]},U=[R(-h/2,-S/2),R(-h/2,S/2),R(h/2,S/2),R(h/2,-S/2)];y.push({text:v.text,x:w,y:E,dy:v.dy,theta:C,level:v.level,width:h,height:S}),x.push(U)},D.drawLabels=function(p,v,y,x,_){var h=p.selectAll("text").data(v,function(E){return E.text+","+E.x+","+E.y+","+E.theta});if(h.exit().remove(),h.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(E){var C=E.x+Math.sin(E.theta)*E.dy,P=E.y-Math.cos(E.theta)*E.dy;M.select(this).text(E.text).attr({x:C,y:P,transform:"rotate("+180*E.theta/Math.PI+" "+C+" "+P+")"}).call(b.convertToTspans,y)}),_){for(var S="",w=0;w<_.length;w++)S+="M"+_[w].join("L")+"Z";k.ensureSingle(x,"path","").attr("d",S)}}},54444:function(ee,D,e){var M=e(54460),k=e(3400);function a(T,b,g){var s={type:"linear",range:[T,b]};return M.autoTicks(s,(b-T)/(g||15)),s}ee.exports=function(T,b){var g=T.contours;if(T.autocontour){var s=T.zmin,t=T.zmax;(T.zauto||s===void 0)&&(s=k.aggNums(Math.min,null,b)),(T.zauto||t===void 0)&&(t=k.aggNums(Math.max,null,b));var i=a(s,t,T.ncontours);g.size=i.dtick,g.start=M.tickFirst(i),i.range.reverse(),g.end=M.tickFirst(i),g.start===s&&(g.start+=g.size),g.end===t&&(g.end-=g.size),g.start>g.end&&(g.start=g.end=(g.start+g.end)/2),T._input.contours||(T._input.contours={}),k.extendFlat(T._input.contours,{start:g.start,end:g.end,size:g.size}),T._input.autocontour=!0}else if(g.type!=="constraint"){var r,n=g.start,o=g.end,l=T._input.contours;n>o&&(g.start=l.start=o,o=g.end=l.end=n,n=g.start),g.size>0||(r=n===o?1:a(n,o,T.ncontours).dtick,l.size=g.size=r)}}},52440:function(ee,D,e){var M=e(33428),k=e(43616),a=e(41648),T=e(41076);ee.exports=function(b){var g=M.select(b).selectAll("g.contour");g.style("opacity",function(s){return s[0].trace.opacity}),g.each(function(s){var t=M.select(this),i=s[0].trace,r=i.contours,n=i.line,o=r.size||1,l=r.start,u=r.type==="constraint",d=!u&&r.coloring==="lines",c=!u&&r.coloring==="fill",m=d||c?T(i):null;t.selectAll("g.contourlevel").each(function(v){M.select(this).selectAll("path").call(k.lineGroupStyle,n.width,d?m(v.level):n.color,n.dash)});var f=r.labelfont;if(t.selectAll("g.contourlabels text").each(function(v){k.font(M.select(this),{family:f.family,size:f.size,color:f.color||(d?m(v.level):n.color)})}),u)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(c){var p;t.selectAll("g.contourfill path").style("fill",function(v){return p===void 0&&(p=v.level),m(v.level+.5*o)}),p===void 0&&(p=l),t.selectAll("g.contourbg path").style("fill",m(p-.5*o))}}),a(b)}},97680:function(ee,D,e){var M=e(27260),k=e(17428);ee.exports=function(a,T,b,g,s){var t,i=b("contours.coloring"),r="";i==="fill"&&(t=b("contours.showlines")),t!==!1&&(i!=="lines"&&(r=b("line.color","#000")),b("line.width",.5),b("line.dash")),i!=="none"&&(a.showlegend!==!0&&(T.showlegend=!1),T._dfltShowLegend=!1,M(a,T,g,b,{prefix:"",cLetter:"z"})),b("line.smoothing"),k(b,g,r,s)}},37960:function(ee,D,e){var M=e(83328),k=e(67104),a=e(49084),T=e(92880).extendFlat,b=k.contours;ee.exports=T({carpet:{valType:"string",editType:"calc"},z:M.z,a:M.x,a0:M.x0,da:M.dx,b:M.y,b0:M.y0,db:M.dy,text:M.text,hovertext:M.hovertext,transpose:M.transpose,atype:M.xtype,btype:M.ytype,fillcolor:k.fillcolor,autocontour:k.autocontour,ncontours:k.ncontours,contours:{type:b.type,start:b.start,end:b.end,size:b.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:b.showlines,showlabels:b.showlabels,labelfont:b.labelfont,labelformat:b.labelformat,operation:b.operation,value:b.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:k.line.color,width:k.line.width,dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},30572:function(ee,D,e){var M=e(47128),k=e(3400),a=e(2872),T=e(26136),b=e(70448),g=e(11240),s=e(35744),t=e(3252),i=e(50948),r=e(54444);ee.exports=function(n,o){var l=o._carpetTrace=i(n,o);if(l&&l.visible&&l.visible!=="legendonly"){if(!o.a||!o.b){var u=n.data[l.index],d=n.data[o.index];d.a||(d.a=u.a),d.b||(d.b=u.b),t(d,o,o._defaultColor,n._fullLayout)}var c=function(m,f){var p,v,y,x,_,h,S,w=f._carpetTrace,E=w.aaxis,C=w.baxis;E._minDtick=0,C._minDtick=0,k.isArray1D(f.z)&&a(f,E,C,"a","b",["z"]),p=f._a=f._a||f.a,x=f._b=f._b||f.b,p=p?E.makeCalcdata(f,"_a"):[],x=x?C.makeCalcdata(f,"_b"):[],v=f.a0||0,y=f.da||1,_=f.b0||0,h=f.db||1,S=f._z=T(f._z||f.z,f.transpose),f._emptypoints=g(S),b(S,f._emptypoints);var P=k.maxRowLength(S),O=f.xtype==="scaled"?"":p,R=s(f,O,v,y,P,E),U=f.ytype==="scaled"?"":x,z={a:R,b:s(f,U,_,h,S.length,C),z:S};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&M(m,f,{vals:S,containerStr:"",cLetter:"z"}),[z]}(n,o);return r(o,o._z),c}}},3252:function(ee,D,e){var M=e(3400),k=e(51264),a=e(37960),T=e(95536),b=e(84952),g=e(97680);ee.exports=function(s,t,i,r){function n(o,l){return M.coerce(s,t,a,o,l)}if(n("carpet"),s.a&&s.b){if(!k(s,t,n,r,"a","b"))return void(t.visible=!1);n("text"),n("contours.type")==="constraint"?T(s,t,n,r,i,{hasHover:!1}):(b(s,t,n,function(o){return M.coerce2(s,t,a,o)}),g(s,t,n,r,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},40448:function(ee,D,e){ee.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(ee,D,e){var M=e(33428),k=e(87072),a=e(53416),T=e(43616),b=e(3400),g=e(72424),s=e(88748),t=e(23676),i=e(93252),r=e(82172),n=e(61512),o=e(56008),l=e(50948),u=e(77712);function d(f,p,v){var y=f.getPointAtLength(p),x=f.getPointAtLength(v),_=x.x-y.x,h=x.y-y.y,S=Math.sqrt(_*_+h*h);return[_/S,h/S]}function c(f){var p=Math.sqrt(f[0]*f[0]+f[1]*f[1]);return[f[0]/p,f[1]/p]}function m(f,p){var v=Math.abs(f[0]*p[0]+f[1]*p[1]);return Math.sqrt(1-v*v)/v}ee.exports=function(f,p,v,y){var x=p.xaxis,_=p.yaxis;b.makeTraceGroups(y,v,"contour").each(function(h){var S=M.select(this),w=h[0],E=w.trace,C=E._carpetTrace=l(f,E),P=f.calcdata[C.index][0];if(C.visible&&C.visible!=="legendonly"){var O=w.a,R=w.b,U=E.contours,z=n(U,p,w),N=U.type==="constraint",W=U._operation,F=N?W==="="?"lines":"fill":U.coloring,V=[[O[0],R[R.length-1]],[O[O.length-1],R[R.length-1]],[O[O.length-1],R[0]],[O[0],R[0]]];g(z);var j=1e-8*(O[O.length-1]-O[0]),te=1e-8*(R[R.length-1]-R[0]);s(z,j,te);var J,K,Z,X,Q=z;U.type==="constraint"&&(Q=r(z,W)),function(le,pe){var de,ve,be,me,ge,ke,we,ue,oe;for(de=0;de<le.length;de++){for(ge=(me=le[de]).pedgepaths=[],ke=me.ppaths=[],ve=0;ve<me.edgepaths.length;ve++){for(oe=me.edgepaths[ve],we=[],be=0;be<oe.length;be++)we[be]=pe(oe[be]);ge.push(we)}for(ve=0;ve<me.paths.length;ve++){for(oe=me.paths[ve],ue=[],be=0;be<oe.length;be++)ue[be]=pe(oe[be]);ke.push(ue)}}}(z,ie);var re=[];for(X=P.clipsegments.length-1;X>=0;X--)J=P.clipsegments[X],K=k([],J.x,x.c2p),Z=k([],J.y,_.c2p),K.reverse(),Z.reverse(),re.push(a(K,Z,J.bicubic));var ae="M"+re.join("L")+"Z";(function(le,pe,de,ve,be,me){var ge,ke,we,ue,oe=b.ensureSingle(le,"g","contourbg").selectAll("path").data(me!=="fill"||be?[]:[0]);oe.enter().append("path"),oe.exit().remove();var he=[];for(ue=0;ue<pe.length;ue++)ge=pe[ue],ke=k([],ge.x,de.c2p),we=k([],ge.y,ve.c2p),he.push(a(ke,we,ge.bicubic));oe.attr("d","M"+he.join("L")+"Z").style("stroke","none")})(S,P.clipsegments,x,_,N,F),function(le,pe,de,ve,be,me,ge,ke,we,ue,oe){var he=ue==="fill";he&&o(be,le.contours);var Ee=b.ensureSingle(pe,"g","contourfill").selectAll("path").data(he?be:[]);Ee.enter().append("path"),Ee.exit().remove(),Ee.each(function(Te){var Me=(Te.prefixBoundary?oe:"")+function(Se,ze,fe,xe,_e,Oe,De,Pe){var Ue,Ve,Xe,it,tt,pt,mt,gt="",et=ze.edgepaths.map(function(nt,Re){return Re}),$e=!0,_t=1e-4*Math.abs(fe[0][0]-fe[2][0]),Pt=1e-4*Math.abs(fe[0][1]-fe[2][1]);function Ot(nt){return Math.abs(nt[1]-fe[0][1])<Pt}function Lt(nt){return Math.abs(nt[1]-fe[2][1])<Pt}function He(nt){return Math.abs(nt[0]-fe[0][0])<_t}function We(nt){return Math.abs(nt[0]-fe[2][0])<_t}function Be(nt,Re){var Fe,rt,Ye,ct,ht="";for(Ot(nt)&&!We(nt)||Lt(nt)&&!He(nt)?(ct=_e.aaxis,Ye=u(_e,Oe,[nt[0],Re[0]],.5*(nt[1]+Re[1]))):(ct=_e.baxis,Ye=u(_e,Oe,.5*(nt[0]+Re[0]),[nt[1],Re[1]])),Fe=1;Fe<Ye.length;Fe++)for(ht+=ct.smoothing?"C":"L",rt=0;rt<Ye[Fe].length;rt++){var dt=Ye[Fe][rt];ht+=[De.c2p(dt[0]),Pe.c2p(dt[1])]+" "}return ht}for(Ue=0,Ve=null;et.length;){var Ge=ze.edgepaths[Ue][0];for(Ve&&(gt+=Be(Ve,Ge)),mt=T.smoothopen(ze.edgepaths[Ue].map(xe),ze.smoothing),gt+=$e?mt:mt.replace(/^M/,"L"),et.splice(et.indexOf(Ue),1),Ve=ze.edgepaths[Ue][ze.edgepaths[Ue].length-1],tt=-1,it=0;it<4;it++){if(!Ve){b.log("Missing end?",Ue,ze);break}for(Ot(Ve)&&!We(Ve)?Xe=fe[1]:He(Ve)?Xe=fe[0]:Lt(Ve)?Xe=fe[3]:We(Ve)&&(Xe=fe[2]),pt=0;pt<ze.edgepaths.length;pt++){var at=ze.edgepaths[pt][0];Math.abs(Ve[0]-Xe[0])<_t?Math.abs(Ve[0]-at[0])<_t&&(at[1]-Ve[1])*(Xe[1]-at[1])>=0&&(Xe=at,tt=pt):Math.abs(Ve[1]-Xe[1])<Pt?Math.abs(Ve[1]-at[1])<Pt&&(at[0]-Ve[0])*(Xe[0]-at[0])>=0&&(Xe=at,tt=pt):b.log("endpt to newendpt is not vert. or horz.",Ve,Xe,at)}if(tt>=0)break;gt+=Be(Ve,Xe),Ve=Xe}if(tt===ze.edgepaths.length){b.log("unclosed perimeter path");break}Ue=tt,($e=et.indexOf(Ue)===-1)&&(Ue=et[0],gt+=Be(Ve,Xe)+"Z",Ve=null)}for(Ue=0;Ue<ze.paths.length;Ue++)gt+=T.smoothclosed(ze.paths[Ue].map(xe),ze.smoothing);return gt}(0,Te,me,ge,ke,we,de,ve);Me?M.select(this).attr("d",Me).style("stroke","none"):M.select(this).remove()})}(E,S,x,_,Q,V,ie,C,P,F,ae),function(le,pe,de,ve,be,me,ge){var ke=de._context.staticPlot,we=b.ensureSingle(le,"g","contourlines"),ue=be.showlines!==!1,oe=be.showlabels,he=ue&&oe,Ee=t.createLines(we,ue||oe,pe,ke),Te=t.createLineClip(we,he,de,ve.trace.uid),Me=le.selectAll("g.contourlabels").data(oe?[0]:[]);if(Me.exit().remove(),Me.enter().append("g").classed("contourlabels",!0),oe){var Se=me.xaxis,ze=me.yaxis,fe=Se._length,xe=ze._length,_e=[[[0,0],[fe,0],[fe,xe],[0,xe]]],Oe=[];b.clearLocationCache();var De=t.labelFormatter(de,ve),Pe=T.tester.append("text").attr("data-notex",1).call(T.font,be.labelfont),Ue={left:0,right:fe,center:fe/2,top:0,bottom:xe,middle:xe/2},Ve=Math.sqrt(fe*fe+xe*xe),Xe=i.LABELDISTANCE*Ve/Math.max(1,pe.length/i.LABELINCREASE);Ee.each(function(it){var tt=t.calcTextOpts(it.level,De,Pe,de);M.select(this).selectAll("path").each(function(pt){var mt=this,gt=b.getVisibleSegment(mt,Ue,tt.height/2);if(gt&&(function(Pt,Ot,Lt,He,We,Be){for(var Ge,at=0;at<Lt.pedgepaths.length;at++)Ot===Lt.pedgepaths[at]&&(Ge=Lt.edgepaths[at]);if(Ge){var nt=We.a[0],Re=We.a[We.a.length-1],Fe=We.b[0],rt=We.b[We.b.length-1],Ye=d(Pt,0,1),ct=d(Pt,He.total,He.total-1),ht=ut(Ge[0],Ye),dt=He.total-ut(Ge[Ge.length-1],ct);He.min<ht&&(He.min=ht),He.max>dt&&(He.max=dt),He.len=He.max-He.min}function ut(kt,xt){var vt,Mt=0,St=.1;return(Math.abs(kt[0]-nt)<St||Math.abs(kt[0]-Re)<St)&&(vt=c(We.dxydb_rough(kt[0],kt[1],St)),Mt=Math.max(Mt,Be*m(xt,vt)/2)),(Math.abs(kt[1]-Fe)<St||Math.abs(kt[1]-rt)<St)&&(vt=c(We.dxyda_rough(kt[0],kt[1],St)),Mt=Math.max(Mt,Be*m(xt,vt)/2)),Mt}}(mt,pt,it,gt,ge,tt.height),!(gt.len<(tt.width+tt.height)*i.LABELMIN)))for(var et=Math.min(Math.ceil(gt.len/Xe),i.LABELMAX),$e=0;$e<et;$e++){var _t=t.findBestTextLocation(mt,gt,tt,Oe,Ue);if(!_t)break;t.addLabelData(_t,tt,Oe,_e)}})}),Pe.remove(),t.drawLabels(Me,Oe,de,Te,he?_e:null)}oe&&!ue&&Ee.remove()}(S,z,f,w,U,p,C),T.setClipUrl(S,C._clipPathId,f)}function ie(le){var pe=C.ab2xy(le[0],le[1],!0);return[x.c2p(pe[0]),_.c2p(pe[1])]}})}},33928:function(ee,D,e){var M=e(49084),k=e(21776).Ks,a=e(45464),T=e(31512),b=e(92880).extendFlat;ee.exports=b({lon:T.lon,lat:T.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:T.text,hovertext:T.hovertext,hoverinfo:b({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:k(),showlegend:b({},a.showlegend,{dflt:!1})},M("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(ee,D,e){var M=e(38248),k=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,T=e(47128),b=e(3400)._;ee.exports=function(g,s){for(var t=s._length,i=new Array(t),r=s.z,n=k(r)&&r.length,o=0;o<t;o++){var l=i[o]={},u=s.lon[o],d=s.lat[o];if(l.lonlat=M(u)&&M(d)?[+u,+d]:[a,a],n){var c=r[o];l.z=M(c)?c:a}}return T(g,s,{vals:n?r:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:b(g,"lat:")+" ",lon:b(g,"lon:")+" "}}),i}},4629:function(ee,D,e){var M=e(38248),k=e(3400),a=e(76308),T=e(8932),b=e(39032).BADNUM,g=e(44808).makeBlank;ee.exports=function(s){var t=s[0].trace,i=t.visible===!0&&t._length!==0,r=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:g()};if(!i)return r;var n,o=[],l=t.z,u=t.radius,d=k.isArrayOrTypedArray(l)&&l.length,c=k.isArrayOrTypedArray(u);for(n=0;n<s.length;n++){var m=s[n],f=m.lonlat;if(f[0]!==b){var p={};if(d){var v=m.z;p.z=v!==b?v:0}c&&(p.r=M(u[n])&&u[n]>0?+u[n]:0),o.push({type:"Feature",geometry:{type:"Point",coordinates:f},properties:p})}}var y=T.extractOpts(t),x=y.reversescale?T.flipScale(y.colorscale):y.colorscale,_=x[0][1],h=["interpolate",["linear"],["heatmap-density"],0,a.opacity(_)<1?_:a.addOpacity(_,0)];for(n=1;n<x.length;n++)h.push(x[n][0],x[n][1]);var S=["interpolate",["linear"],["get","z"],y.min,0,y.max,1];return k.extendFlat(r.heatmap.paint,{"heatmap-weight":d?S:1/(y.max-y.min),"heatmap-color":h,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),r.geojson={type:"FeatureCollection",features:o},r.heatmap.layout.visibility="visible",r}},97664:function(ee,D,e){var M=e(3400),k=e(27260),a=e(33928);ee.exports=function(T,b,g,s){function t(o,l){return M.coerce(T,b,a,o,l)}var i=t("lon")||[],r=t("lat")||[],n=Math.min(i.length,r.length);n?(b._length=n,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),k(T,b,s,t,{prefix:"",cLetter:"z"})):b.visible=!1}},96176:function(ee){ee.exports=function(D,e){return D.lon=e.lon,D.lat=e.lat,D.z=e.z,D}},25336:function(ee,D,e){var M=e(54460),k=e(63312).hoverPoints,a=e(63312).getExtraText;ee.exports=function(T,b,g){var s=k(T,b,g);if(s){var t=s[0],i=t.cd,r=i[0].trace,n=i[t.index];if(delete t.color,"z"in n){var o=t.subplot.mockAxis;t.z=n.z,t.zLabel=M.tickText(o,o.c2l(n.z),"hover").text}return t.extraText=a(r,n,i[0].t.labels),[t]}}},15088:function(ee,D,e){ee.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(M,k){for(var a=k.getMapLayers(),T=0;T<a.length;T++){var b=a[T],g=b.id;if(b.type==="symbol"&&typeof g=="string"&&g.indexOf("plotly-")===-1)return g}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(ee,D,e){var M=e(4629),k=e(47552).traceLayerPrefix;function a(b,g){this.type="densitymapbox",this.subplot=b,this.uid=g,this.sourceId="source-"+g,this.layerList=[["heatmap",k+g+"-heatmap"]],this.below=null}var T=a.prototype;T.update=function(b){var g=this.subplot,s=this.layerList,t=M(b),i=g.belowLookup["trace-"+this.uid];g.map.getSource(this.sourceId).setData(t.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(t,i),this.below=i);for(var r=0;r<s.length;r++){var n=s[r],o=n[0],l=n[1],u=t[o];g.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&g.setOptions(l,"setPaintProperty",u.paint)}},T._addLayers=function(b,g){for(var s=this.subplot,t=this.layerList,i=this.sourceId,r=0;r<t.length;r++){var n=t[r],o=n[0],l=b[o];s.addLayer({type:o,id:n[1],source:i,layout:l.layout,paint:l.paint},g)}},T._removeLayers=function(){for(var b=this.subplot.map,g=this.layerList,s=g.length-1;s>=0;s--)b.removeLayer(g[s][1])},T.dispose=function(){var b=this.subplot.map;this._removeLayers(),b.removeSource(this.sourceId)},ee.exports=function(b,g){var s=g[0].trace,t=new a(b,s.uid),i=t.sourceId,r=M(g),n=t.below=b.belowLookup["trace-"+s.uid];return b.map.addSource(i,{type:"geojson",data:r.geojson}),t._addLayers(r,n),t}},74248:function(ee,D,e){var M=e(3400);ee.exports=function(k,a){for(var T=0;T<k.length;T++)k[T].i=T;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.hovertext,k,"htx");var b=a.marker;if(b){M.mergeArray(b.opacity,k,"mo"),M.mergeArray(b.color,k,"mc");var g=b.line;g&&(M.mergeArray(g.color,k,"mlc"),M.mergeArrayCastPositive(g.width,k,"mlw"))}}},20088:function(ee,D,e){var M,k=e(20832),a=e(52904).line,T=e(45464),b=e(29736).axisHoverFormat,g=e(21776).Ks,s=e(21776).Gw,t=e(74732),i=e(92880).extendFlat,r=e(76308);ee.exports={x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),hovertext:k.hovertext,hovertemplate:g({},{keys:t.eventDataKeys}),hoverinfo:i({},T.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:s({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:k.text,textposition:k.textposition,insidetextanchor:i({},k.insidetextanchor,{dflt:"middle"}),textangle:i({},k.textangle,{dflt:0}),textfont:k.textfont,insidetextfont:k.insidetextfont,outsidetextfont:k.outsidetextfont,constraintext:k.constraintext,cliponaxis:k.cliponaxis,orientation:i({},k.orientation,{}),offset:i({},k.offset,{arrayOk:!1}),width:i({},k.width,{arrayOk:!1}),marker:(M=i({},k.marker),delete M.pattern,delete M.cornerradius,M),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},a.color,{dflt:r.defaultLine}),width:i({},a.width,{dflt:0,editType:"plot"}),dash:a.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup}},23096:function(ee,D,e){var M=e(54460),k=e(1220),a=e(74248),T=e(4500),b=e(39032).BADNUM;function g(s){return s===b?0:s}ee.exports=function(s,t){var i,r,n,o,l,u,d,c,m=M.getFromId(s,t.xaxis||"x"),f=M.getFromId(s,t.yaxis||"y");t.orientation==="h"?(i=m.makeCalcdata(t,"x"),n=f.makeCalcdata(t,"y"),o=k(t,f,"y",n),l=!!t.yperiodalignment,u="y"):(i=f.makeCalcdata(t,"y"),n=m.makeCalcdata(t,"x"),o=k(t,m,"x",n),l=!!t.xperiodalignment,u="x"),r=o.vals;var p,v=Math.min(r.length,i.length),y=new Array(v);for(t._base=[],d=0;d<v;d++){i[d]<0&&(i[d]=b);var x=!1;i[d]!==b&&d+1<v&&i[d+1]!==b&&(x=!0),c=y[d]={p:r[d],s:i[d],cNext:x},t._base[d]=-.5*c.s,l&&(y[d].orig_p=n[d],y[d][u+"End"]=o.ends[d],y[d][u+"Start"]=o.starts[d]),t.ids&&(c.id=String(t.ids[d])),d===0&&(y[0].vTotal=0),y[0].vTotal+=g(c.s),c.begR=g(c.s)/g(y[0].s)}for(d=0;d<v;d++)(c=y[d]).s!==b&&(c.sumR=c.s/y[0].vTotal,c.difR=p!==void 0?c.s/p:1,p=c.s);return a(y,t),T(y,t),y}},74732:function(ee){ee.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(ee,D,e){var M=e(96376).setGroupPositions;ee.exports=function(k,a){var T,b,g=k._fullLayout,s=k._fullData,t=k.calcdata,i=a.xaxis,r=a.yaxis,n=[],o=[],l=[];for(b=0;b<s.length;b++){var u=s[b],d=u.orientation==="h";u.visible===!0&&u.xaxis===i._id&&u.yaxis===r._id&&u.type==="funnel"&&(T=t[b],d?l.push(T):o.push(T),n.push(T))}var c={mode:g.funnelmode,norm:g.funnelnorm,gap:g.funnelgap,groupgap:g.funnelgroupgap};for(M(k,i,r,o,c),M(k,r,i,l,c),b=0;b<n.length;b++){T=n[b];for(var m=0;m<T.length;m++)m+1<T.length&&(T[m].nextP0=T[m+1].p0,T[m].nextS0=T[m+1].s0,T[m].nextP1=T[m+1].p1,T[m].nextS1=T[m+1].s1)}}},45432:function(ee,D,e){var M=e(3400),k=e(20011),a=e(31508).handleText,T=e(43980),b=e(31147),g=e(20088),s=e(76308);ee.exports={supplyDefaults:function(t,i,r,n){function o(c,m){return M.coerce(t,i,g,c,m)}if(T(t,i,n,o)){b(t,i,n,o),o("xhoverformat"),o("yhoverformat"),o("orientation",i.y&&!i.x?"v":"h"),o("offset"),o("width");var l=o("text");o("hovertext"),o("hovertemplate");var u=o("textposition");a(t,i,n,o,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition==="none"||i.texttemplate||o("textinfo",M.isArrayOrTypedArray(l)?"text+value":"value");var d=o("marker.color",r);o("marker.line.color",s.defaultLine),o("marker.line.width"),o("connector.visible")&&(o("connector.fillcolor",function(c){var m=M.isArrayOrTypedArray(c)?"#000":c;return s.addOpacity(m,.5*s.opacity(m))}(d)),o("connector.line.width")&&(o("connector.line.color"),o("connector.line.dash")))}else i.visible=!1},crossTraceDefaults:function(t,i){var r,n;function o(u){return M.coerce(n._input,n,g,u)}if(i.funnelmode==="group")for(var l=0;l<t.length;l++)r=(n=t[l])._input,k(r,n,i,o)}}},34580:function(ee){ee.exports=function(D,e){return D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(D.percentInitial=e.percentInitial),"percentPrevious"in e&&(D.percentPrevious=e.percentPrevious),"percentTotal"in e&&(D.percentTotal=e.percentTotal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D}},31488:function(ee,D,e){var M=e(76308).opacity,k=e(63400).hoverOnBars,a=e(3400).formatPercent;ee.exports=function(T,b,g,s,t){var i=k(T,b,g,s,t);if(i){var r=i.cd,n=r[0].trace,o=n.orientation==="h",l=r[i.index];i[(o?"x":"y")+"LabelVal"]=l.s,i.percentInitial=l.begR,i.percentInitialLabel=a(l.begR,1),i.percentPrevious=l.difR,i.percentPreviousLabel=a(l.difR,1),i.percentTotal=l.sumR,i.percentTotalLabel=a(l.sumR,1);var u=l.hi||n.hoverinfo,d=[];if(u&&u!=="none"&&u!=="skip"){var c=u==="all",m=u.split("+"),f=function(p){return c||m.indexOf(p)!==-1};f("percent initial")&&d.push(i.percentInitialLabel+" of initial"),f("percent previous")&&d.push(i.percentPreviousLabel+" of previous"),f("percent total")&&d.push(i.percentTotalLabel+" of total")}return i.extraText=d.join("<br>"),i.color=function(p,v){var y=p.marker,x=v.mc||y.color,_=v.mlc||y.line.color,h=v.mlw||y.line.width;return M(x)?x:M(_)&&h?_:void 0}(n,l),[i]}}},94704:function(ee,D,e){ee.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(ee){ee.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(ee,D,e){var M=e(3400),k=e(7076);ee.exports=function(a,T,b){var g=!1;function s(r,n){return M.coerce(a,T,k,r,n)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&i.type==="funnel"){g=!0;break}}g&&(s("funnelmode"),s("funnelgap",.2),s("funnelgroupgap"))}},42200:function(ee,D,e){var M=e(33428),k=e(3400),a=e(43616),T=e(39032).BADNUM,b=e(98184),g=e(82744).clearMinTextSize;function s(t,i,r,n){var o=[],l=[],u=n?i:r,d=n?r:i;return o[0]=u.c2p(t.s0,!0),l[0]=d.c2p(t.p0,!0),o[1]=u.c2p(t.s1,!0),l[1]=d.c2p(t.p1,!0),o[2]=u.c2p(t.nextS0,!0),l[2]=d.c2p(t.nextP0,!0),o[3]=u.c2p(t.nextS1,!0),l[3]=d.c2p(t.nextP1,!0),n?[o,l]:[l,o]}ee.exports=function(t,i,r,n){var o=t._fullLayout;g("funnel",o),function(l,u,d,c){var m=u.xaxis,f=u.yaxis;k.makeTraceGroups(c,d,"trace bars").each(function(p){var v=M.select(this),y=p[0].trace,x=k.ensureSingle(v,"g","regions");if(y.connector&&y.connector.visible){var _=y.orientation==="h",h=x.selectAll("g.region").data(k.identity);h.enter().append("g").classed("region",!0),h.exit().remove();var S=h.size();h.each(function(w,E){if(E===S-1||w.cNext){var C=s(w,m,f,_),P=C[0],O=C[1],R="";P[0]!==T&&O[0]!==T&&P[1]!==T&&O[1]!==T&&P[2]!==T&&O[2]!==T&&P[3]!==T&&O[3]!==T&&(R+=_?"M"+P[0]+","+O[1]+"L"+P[2]+","+O[2]+"H"+P[3]+"L"+P[1]+","+O[1]+"Z":"M"+P[1]+","+O[1]+"L"+P[2]+","+O[3]+"V"+O[2]+"L"+P[1]+","+O[0]+"Z"),R===""&&(R="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",R).call(a.setClipUrl,u.layerClipId,l)}})}else x.remove()})}(t,i,r,n),function(l,u,d,c){var m=u.xaxis,f=u.yaxis;k.makeTraceGroups(c,d,"trace bars").each(function(p){var v=M.select(this),y=p[0].trace,x=k.ensureSingle(v,"g","lines");if(y.connector&&y.connector.visible&&y.connector.line.width){var _=y.orientation==="h",h=x.selectAll("g.line").data(k.identity);h.enter().append("g").classed("line",!0),h.exit().remove();var S=h.size();h.each(function(w,E){if(E===S-1||w.cNext){var C=s(w,m,f,_),P=C[0],O=C[1],R="";P[3]!==void 0&&O[3]!==void 0&&(_?(R+="M"+P[0]+","+O[1]+"L"+P[2]+","+O[2],R+="M"+P[1]+","+O[1]+"L"+P[3]+","+O[2]):(R+="M"+P[1]+","+O[1]+"L"+P[2]+","+O[3],R+="M"+P[1]+","+O[0]+"L"+P[2]+","+O[2])),R===""&&(R="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",R).call(a.setClipUrl,u.layerClipId,l)}})}else x.remove()})}(t,i,r,n),b.plot(t,i,r,n,{mode:o.funnelmode,norm:o.funnelmode,gap:o.funnelgap,groupgap:o.funnelgroupgap})}},44544:function(ee,D,e){var M=e(33428),k=e(43616),a=e(76308),T=e(13448).DESELECTDIM,b=e(60100),g=e(82744).resizeText,s=b.styleTextPoints;ee.exports={style:function(t,i,r){var n=r||M.select(t).selectAll("g.funnellayer").selectAll("g.trace");g(t,n,"funnel"),n.style("opacity",function(o){return o[0].trace.opacity}),n.each(function(o){var l=M.select(this),u=o[0].trace;l.selectAll(".point > path").each(function(d){if(!d.isBlank){var c=u.marker;M.select(this).call(a.fill,d.mc||c.color).call(a.stroke,d.mlc||c.line.color).call(k.dashLine,c.line.dash,d.mlw||c.line.width).style("opacity",u.selectedpoints&&!d.selected?T:1)}}),s(l,u,t),l.selectAll(".regions").each(function(){M.select(this).selectAll("path").style("stroke-width",0).call(a.fill,u.connector.fillcolor)}),l.selectAll(".lines").each(function(){var d=u.connector.line;k.lineGroupStyle(M.select(this).selectAll("path"),d.width,d.color,d.dash)})})}}},22332:function(ee,D,e){var M=e(74996),k=e(45464),a=e(86968).u,T=e(21776).Ks,b=e(21776).Gw,g=e(92880).extendFlat;ee.exports={labels:M.labels,label0:M.label0,dlabel:M.dlabel,values:M.values,marker:{colors:M.marker.colors,line:{color:g({},M.marker.line.color,{dflt:null}),width:g({},M.marker.line.width,{dflt:1}),editType:"calc"},pattern:M.marker.pattern,editType:"calc"},text:M.text,hovertext:M.hovertext,scalegroup:g({},M.scalegroup,{}),textinfo:g({},M.textinfo,{flags:["label","text","value","percent"]}),texttemplate:b({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:g({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","text","percent"]}),textposition:g({},M.textposition,{values:["inside","none"],dflt:"inside"}),textfont:M.textfont,insidetextfont:M.insidetextfont,title:{text:M.title.text,font:M.title.font,position:g({},M.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(ee,D,e){var M=e(7316);D.name="funnelarea",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},54e3:function(ee,D,e){var M=e(45768);ee.exports={calc:function(k,a){return M.calc(k,a)},crossTraceCalc:function(k){M.crossTraceCalc(k,{type:"funnelarea"})}}},92688:function(ee,D,e){var M=e(3400),k=e(22332),a=e(86968).Q,T=e(31508).handleText,b=e(74174).handleLabelsAndValues,g=e(74174).handleMarkerDefaults;ee.exports=function(s,t,i,r){function n(v,y){return M.coerce(s,t,k,v,y)}var o=n("labels"),l=n("values"),u=b(o,l),d=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(n("label0"),n("dlabel")),d){t._length=d,g(s,t,r,n),n("scalegroup");var c,m=n("text"),f=n("texttemplate");if(f||(c=n("textinfo",Array.isArray(m)?"text+percent":"percent")),n("hovertext"),n("hovertemplate"),f||c&&c!=="none"){var p=n("textposition");T(s,t,r,n,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else c==="none"&&n("textposition","none");a(t,r,n),n("title.text")&&(n("title.position"),M.coerceFont(n,"title.font",r.font)),n("aspectratio"),n("baseratio")}else t.visible=!1}},62396:function(ee,D,e){ee.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(ee,D,e){var M=e(85204).hiddenlabels;ee.exports={hiddenlabels:M,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(ee,D,e){var M=e(3400),k=e(61280);ee.exports=function(a,T){function b(g,s){return M.coerce(a,T,k,g,s)}b("hiddenlabels"),b("funnelareacolorway",T.colorway),b("extendfunnelareacolors")}},39472:function(ee,D,e){var M=e(33428),k=e(43616),a=e(3400),T=a.strScale,b=a.strTranslate,g=e(72736),s=e(98184).toMoveInsideBar,t=e(82744),i=t.recordMinTextSize,r=t.clearMinTextSize,n=e(69656),o=e(37820),l=o.attachFxHandlers,u=o.determineInsideTextFont,d=o.layoutAreas,c=o.prerenderTitles,m=o.positionTitleOutside,f=o.formatSliceLabel;function p(v,y){return"l"+(y[0]-v[0])+","+(y[1]-v[1])}ee.exports=function(v,y){var x=v._context.staticPlot,_=v._fullLayout;r("funnelarea",_),c(y,v),d(y,_._size),a.makeTraceGroups(_._funnelarealayer,y,"trace").each(function(h){var S=M.select(this),w=h[0],E=w.trace;(function(C){if(C.length){var P=C[0],O=P.trace,R=O.aspectratio,U=O.baseratio;U>.999&&(U=.999);var z,N,W,F=Math.pow(U,2),V=P.vTotal,j=V,te=V*F/(1-F)/V,J=[];for(J.push(we()),N=C.length-1;N>-1;N--)if(!(W=C[N]).hidden){var K=W.v/j;te+=K,J.push(we())}var Z=1/0,X=-1/0;for(N=0;N<J.length;N++)z=J[N],Z=Math.min(Z,z[1]),X=Math.max(X,z[1]);for(N=0;N<J.length;N++)J[N][1]-=(X+Z)/2;var Q=J[J.length-1][0],re=P.r,ae=(X-Z)/2,ie=re/Q,le=re/ae*R;for(P.r=le*ae,N=0;N<J.length;N++)J[N][0]*=ie,J[N][1]*=le;var pe,de,ve=[-(z=J[0])[0],z[1]],be=[z[0],z[1]],me=0;for(N=C.length-1;N>-1;N--)if(!(W=C[N]).hidden){var ge=J[me+=1][0],ke=J[me][1];W.TL=[-ge,ke],W.TR=[ge,ke],W.BL=ve,W.BR=be,W.pxmid=(pe=W.TR,de=W.BR,[.5*(pe[0]+de[0]),.5*(pe[1]+de[1])]),ve=W.TL,be=W.TR}}function we(){var ue,oe={x:ue=Math.sqrt(te),y:-ue};return[oe.x,oe.y]}})(h),S.each(function(){var C=M.select(this).selectAll("g.slice").data(h);C.enter().append("g").classed("slice",!0),C.exit().remove(),C.each(function(O,R){if(O.hidden)M.select(this).selectAll("path,g").remove();else{O.pointNumber=O.i,O.curveNumber=E.index;var U=w.cx,z=w.cy,N=M.select(this),W=N.selectAll("path.surface").data([O]);W.enter().append("path").classed("surface",!0).style({"pointer-events":x?"none":"all"}),N.call(l,v,h);var F="M"+(U+O.TR[0])+","+(z+O.TR[1])+p(O.TR,O.BR)+p(O.BR,O.BL)+p(O.BL,O.TL)+"Z";W.attr("d",F),f(v,O,w);var V=n.castOption(E.textposition,O.pts),j=N.selectAll("g.slicetext").data(O.text&&V!=="none"?[0]:[]);j.enter().append("g").classed("slicetext",!0),j.exit().remove(),j.each(function(){var te=a.ensureSingle(M.select(this),"text","",function(ie){ie.attr("data-notex",1)}),J=a.ensureUniformFontSize(v,u(E,O,_.font));te.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(k.font,J).call(g.convertToTspans,v);var K,Z,X,Q=k.bBox(te.node()),re=Math.min(O.BL[1],O.BR[1])+z,ae=Math.max(O.TL[1],O.TR[1])+z;Z=Math.max(O.TL[0],O.BL[0])+U,X=Math.min(O.TR[0],O.BR[0])+U,(K=s(Z,X,re,ae,Q,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=J.size,i(E.type,K,_),h[R].transform=K,a.setTransormAndDisplay(te,K)})}});var P=M.select(this).selectAll("g.titletext").data(E.title.text?[0]:[]);P.enter().append("g").classed("titletext",!0),P.exit().remove(),P.each(function(){var O=a.ensureSingle(M.select(this),"text","",function(z){z.attr("data-notex",1)}),R=E.title.text;E._meta&&(R=a.templateString(R,E._meta)),O.text(R).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(k.font,E.title.font).call(g.convertToTspans,v);var U=m(w,_._size);O.attr("transform",b(U.x,U.y)+T(Math.min(1,U.scale))+b(U.tx,U.ty))})})})}},62096:function(ee,D,e){var M=e(33428),k=e(10528),a=e(82744).resizeText;ee.exports=function(T){var b=T._fullLayout._funnelarealayer.selectAll(".trace");a(T,b,"funnelarea"),b.each(function(g){var s=g[0].trace,t=M.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){M.select(this).call(k,i,s,T)})})}},83328:function(ee,D,e){var M=e(52904),k=e(45464),a=e(25376),T=e(29736).axisHoverFormat,b=e(21776).Ks,g=e(21776).Gw,s=e(49084),t=e(92880).extendFlat;ee.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},M.x,{impliedEdits:{xtype:"array"}}),x0:t({},M.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},M.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},M.y,{impliedEdits:{ytype:"array"}}),y0:t({},M.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},M.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},M.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},M.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},M.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},M.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},M.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},M.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:b(),texttemplate:g({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},k.showlegend,{dflt:!1})},{transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},19512:function(ee,D,e){var M=e(24040),k=e(3400),a=e(54460),T=e(1220),b=e(55480),g=e(47128),s=e(2872),t=e(26136),i=e(70448),r=e(11240),n=e(35744),o=e(39032).BADNUM;function l(u){for(var d=[],c=u.length,m=0;m<c;m++){var f=u[m];f!==o&&d.push(f)}return d}ee.exports=function(u,d){var c,m,f,p,v,y,x,_,h,S,w,E=a.getFromId(u,d.xaxis||"x"),C=a.getFromId(u,d.yaxis||"y"),P=M.traceIs(d,"contour"),O=M.traceIs(d,"histogram"),R=M.traceIs(d,"gl2d"),U=P?"best":d.zsmooth;if(E._minDtick=0,C._minDtick=0,O)p=(w=b(u,d)).orig_x,c=w.x,m=w.x0,f=w.dx,_=w.orig_y,v=w.y,y=w.y0,x=w.dy,h=w.z;else{var z=d.z;k.isArray1D(z)?(s(d,E,C,"x","y",["z"]),c=d._x,v=d._y,z=d._z):(p=d.x?E.makeCalcdata(d,"x"):[],_=d.y?C.makeCalcdata(d,"y"):[],c=T(d,E,"x",p).vals,v=T(d,C,"y",_).vals,d._x=c,d._y=v),m=d.x0,f=d.dx,y=d.y0,x=d.dy,h=t(z,d,E,C)}function N(X){U=d._input.zsmooth=d.zsmooth=!1,k.warn('cannot use zsmooth: "fast": '+X)}function W(X){if(X.length>1){var Q=(X[X.length-1]-X[0])/(X.length-1),re=Math.abs(Q/100);for(S=0;S<X.length-1;S++)if(Math.abs(X[S+1]-X[S]-Q)>re)return!1}return!0}(E.rangebreaks||C.rangebreaks)&&(h=function(X,Q,re){for(var ae=[],ie=-1,le=0;le<re.length;le++)if(Q[le]!==o){ae[++ie]=[];for(var pe=0;pe<re[le].length;pe++)X[pe]!==o&&ae[ie].push(re[le][pe])}return ae}(c,v,h),O||(c=l(c),v=l(v),d._x=c,d._y=v)),O||!P&&!d.connectgaps||(d._emptypoints=r(h),i(h,d._emptypoints)),d._islinear=!1,E.type==="log"||C.type==="log"?U==="fast"&&N("log axis found"):W(c)?W(v)?d._islinear=!0:U==="fast"&&N("y scale is not linear"):U==="fast"&&N("x scale is not linear");var F=k.maxRowLength(h),V=d.xtype==="scaled"?"":c,j=n(d,V,m,f,F,E),te=d.ytype==="scaled"?"":v,J=n(d,te,y,x,h.length,C);R||(d._extremes[E._id]=a.findExtremes(E,j),d._extremes[C._id]=a.findExtremes(C,J));var K={x:j,y:J,z:h,text:d._text||d.text,hovertext:d._hovertext||d.hovertext};if(d.xperiodalignment&&p&&(K.orig_x=p),d.yperiodalignment&&_&&(K.orig_y=_),V&&V.length===j.length-1&&(K.xCenter=V),te&&te.length===J.length-1&&(K.yCenter=te),O&&(K.xRanges=w.xRanges,K.yRanges=w.yRanges,K.pts=w.pts),P||g(u,d,{vals:h,cLetter:"z"}),P&&d.contours&&d.contours.coloring==="heatmap"){var Z={type:d.type==="contour"?"heatmap":"histogram2d",xcalendar:d.xcalendar,ycalendar:d.ycalendar};K.xfill=n(Z,V,m,f,F,E),K.yfill=n(Z,te,y,x,h.length,C)}return[K]}},26136:function(ee,D,e){var M=e(38248),k=e(3400),a=e(39032).BADNUM;ee.exports=function(T,b,g,s){var t,i,r,n,o,l;function u(v){if(M(v))return+v}if(b&&b.transpose){for(t=0,o=0;o<T.length;o++)t=Math.max(t,T[o].length);if(t===0)return!1;r=function(v){return v.length},n=function(v,y,x){return(v[x]||[])[y]}}else t=T.length,r=function(v,y){return v[y].length},n=function(v,y,x){return(v[y]||[])[x]};var d=function(v,y,x){return y===a||x===a?a:n(v,y,x)};function c(v){if(b&&b.type!=="carpet"&&b.type!=="contourcarpet"&&v&&v.type==="category"&&b["_"+v._id.charAt(0)].length){var y=v._id.charAt(0),x={},_=b["_"+y+"CategoryMap"]||b[y];for(o=0;o<_.length;o++)x[_[o]]=o;return function(h){var S=x[v._categories[h]];return S+1?S:a}}return k.identity}var m=c(g),f=c(s);s&&s.type==="category"&&(t=s._categories.length);var p=new Array(t);for(o=0;o<t;o++)for(i=g&&g.type==="category"?g._categories.length:r(T,o),p[o]=new Array(i),l=0;l<i;l++)p[o][l]=u(d(T,f(o),m(l)));return p}},96288:function(ee){ee.exports={min:"zmin",max:"zmax"}},2872:function(ee,D,e){var M=e(3400),k=e(39032).BADNUM,a=e(1220);ee.exports=function(T,b,g,s,t,i){var r=T._length,n=b.makeCalcdata(T,s),o=g.makeCalcdata(T,t);n=a(T,b,s,n).vals,o=a(T,g,t,o).vals;var l,u,d,c,m=T.text,f=m!==void 0&&M.isArray1D(m),p=T.hovertext,v=p!==void 0&&M.isArray1D(p),y=M.distinctVals(n),x=y.vals,_=M.distinctVals(o),h=_.vals,S=[],w=h.length,E=x.length;for(l=0;l<i.length;l++)S[l]=M.init2dArray(w,E);f&&(d=M.init2dArray(w,E)),v&&(c=M.init2dArray(w,E));var C=M.init2dArray(w,E);for(l=0;l<r;l++)if(n[l]!==k&&o[l]!==k){var P=M.findBin(n[l]+y.minDiff/2,x),O=M.findBin(o[l]+_.minDiff/2,h);for(u=0;u<i.length;u++){var R=T[i[u]];S[u][O][P]=R[l],C[O][P]=l}f&&(d[O][P]=m[l]),v&&(c[O][P]=p[l])}for(T["_"+s]=x,T["_"+t]=h,u=0;u<i.length;u++)T["_"+i[u]]=S[u];f&&(T._text=d),v&&(T._hovertext=c),b&&b.type==="category"&&(T["_"+s+"CategoryMap"]=x.map(function(U){return b._categories[U]})),g&&g.type==="category"&&(T["_"+t+"CategoryMap"]=h.map(function(U){return g._categories[U]})),T._after2before=C}},24480:function(ee,D,e){var M=e(3400),k=e(51264),a=e(39096),T=e(31147),b=e(82748),g=e(27260),s=e(83328);ee.exports=function(t,i,r,n){function o(l,u){return M.coerce(t,i,s,l,u)}k(t,i,o,n)?(T(t,i,n,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hovertemplate"),a(o,n),b(t,i,o,n),o("hoverongaps"),o("connectgaps",M.isArray1D(i.z)&&i.zsmooth!==!1),g(t,i,n,o,{prefix:"",cLetter:"z"})):i.visible=!1}},11240:function(ee,D,e){var M=e(3400).maxRowLength;ee.exports=function(k){var a,T,b,g,s,t,i,r,n=[],o={},l=[],u=k[0],d=[],c=[0,0,0],m=M(k);for(T=0;T<k.length;T++)for(a=d,d=u,u=k[T+1]||[],b=0;b<m;b++)d[b]===void 0&&((t=(d[b-1]!==void 0?1:0)+(d[b+1]!==void 0?1:0)+(a[b]!==void 0?1:0)+(u[b]!==void 0?1:0))?(T===0&&t++,b===0&&t++,T===k.length-1&&t++,b===d.length-1&&t++,t<4&&(o[[T,b]]=[T,b,t]),n.push([T,b,t])):l.push([T,b]));for(;l.length;){for(i={},r=!1,s=l.length-1;s>=0;s--)(t=((o[[(T=(g=l[s])[0])-1,b=g[1]]]||c)[2]+(o[[T+1,b]]||c)[2]+(o[[T,b-1]]||c)[2]+(o[[T,b+1]]||c)[2])/20)&&(i[g]=[T,b,t],l.splice(s,1),r=!0);if(!r)throw"findEmpties iterated with no new neighbors";for(g in i)o[g]=i[g],n.push(i[g])}return n.sort(function(f,p){return p[2]-f[2]})}},55512:function(ee,D,e){var M=e(93024),k=e(3400),a=k.isArrayOrTypedArray,T=e(54460),b=e(8932).extractOpts;ee.exports=function(g,s,t,i,r){r||(r={});var n,o,l,u,d=r.isContour,c=g.cd[0],m=c.trace,f=g.xa,p=g.ya,v=c.x,y=c.y,x=c.z,_=c.xCenter,h=c.yCenter,S=c.zmask,w=m.zhoverformat,E=v,C=y;if(g.index!==!1){try{l=Math.round(g.index[1]),u=Math.round(g.index[0])}catch{return void k.error("Error hovering on heatmap, pointNumber must be [row,col], found:",g.index)}if(l<0||l>=x[0].length||u<0||u>x.length)return}else{if(M.inbox(s-v[0],s-v[v.length-1],0)>0||M.inbox(t-y[0],t-y[y.length-1],0)>0)return;if(d){var P;for(E=[2*v[0]-v[1]],P=1;P<v.length;P++)E.push((v[P]+v[P-1])/2);for(E.push([2*v[v.length-1]-v[v.length-2]]),C=[2*y[0]-y[1]],P=1;P<y.length;P++)C.push((y[P]+y[P-1])/2);C.push([2*y[y.length-1]-y[y.length-2]])}l=Math.max(0,Math.min(E.length-2,k.findBin(s,E))),u=Math.max(0,Math.min(C.length-2,k.findBin(t,C)))}var O,R,U=f.c2p(v[l]),z=f.c2p(v[l+1]),N=p.c2p(y[u]),W=p.c2p(y[u+1]);d?(O=c.orig_x||v,R=c.orig_y||y,z=U,n=O[l],W=N,o=R[u]):(O=c.orig_x||_||v,R=c.orig_y||h||y,n=_?O[l]:(O[l]+O[l+1])/2,o=h?R[u]:(R[u]+R[u+1])/2,f&&f.type==="category"&&(n=v[l]),p&&p.type==="category"&&(o=y[u]),m.zsmooth&&(U=z=f.c2p(n),N=W=p.c2p(o)));var F=x[u][l];if(S&&!S[u][l]&&(F=void 0),F!==void 0||m.hoverongaps){var V;a(c.hovertext)&&a(c.hovertext[u])?V=c.hovertext[u][l]:a(c.text)&&a(c.text[u])&&(V=c.text[u][l]);var j=b(m),te={type:"linear",range:[j.min,j.max],hoverformat:w,_separators:f._separators,_numFormat:f._numFormat},J=T.tickText(te,F,"hover").text;return[k.extendFlat(g,{index:m._after2before?m._after2before[u][l]:[u,l],distance:g.maxHoverDistance,spikeDistance:g.maxSpikeDistance,x0:U,x1:z,y0:N,y1:W,xLabelVal:n,yLabelVal:o,zLabelVal:F,zLabel:J,text:V})]}}},81932:function(ee,D,e){ee.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(ee,D,e){var M=e(3400),k=[[-1,0],[1,0],[0,-1],[0,1]];function a(b){return .5-.25*Math.min(1,.5*b)}function T(b,g,s){var t,i,r,n,o,l,u,d,c,m,f,p,v,y=0;for(n=0;n<g.length;n++){for(i=(t=g[n])[0],r=t[1],f=b[i][r],m=0,c=0,o=0;o<4;o++)(u=b[i+(l=k[o])[0]])&&(d=u[r+l[1]])!==void 0&&(m===0?p=v=d:(p=Math.min(p,d),v=Math.max(v,d)),c++,m+=d);if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";b[i][r]=m/c,f===void 0?c<4&&(y=1):(b[i][r]=(1+s)*b[i][r]-s*f,v>p&&(y=Math.max(y,Math.abs(b[i][r]-f)/(v-p))))}return y}ee.exports=function(b,g){var s,t=1;for(T(b,g),s=0;s<g.length&&!(g[s][2]<4);s++);for(g=g.slice(s),s=0;s<100&&t>.01;s++)t=T(b,g,a(t));return t>.01&&M.log("interp2d didn't converge quickly",t),b}},39096:function(ee,D,e){var M=e(3400);ee.exports=function(k,a){k("texttemplate");var T=M.extendFlat({},a.font,{color:"auto",size:"auto"});M.coerceFont(k,"textfont",T)}},35744:function(ee,D,e){var M=e(24040),k=e(3400).isArrayOrTypedArray;ee.exports=function(a,T,b,g,s,t){var i,r,n,o=[],l=M.traceIs(a,"contour"),u=M.traceIs(a,"histogram"),d=M.traceIs(a,"gl2d");if(k(T)&&T.length>1&&!u&&t.type!=="category"){var c=T.length;if(!(c<=s))return l?T.slice(0,s):T.slice(0,s+1);if(l||d)o=Array.from(T).slice(0,s);else if(s===1)o=t.type==="log"?[.5*T[0],2*T[0]]:[T[0]-.5,T[0]+.5];else if(t.type==="log"){for(o=[Math.pow(T[0],1.5)/Math.pow(T[1],.5)],n=1;n<c;n++)o.push(Math.sqrt(T[n-1]*T[n]));o.push(Math.pow(T[c-1],1.5)/Math.pow(T[c-2],.5))}else{for(o=[1.5*T[0]-.5*T[1]],n=1;n<c;n++)o.push(.5*(T[n-1]+T[n]));o.push(1.5*T[c-1]-.5*T[c-2])}if(c<s){var m,f=o[o.length-1];if(t.type==="log")for(m=f/o[o.length-2],n=c;n<s;n++)f*=m,o.push(f);else for(m=f-o[o.length-2],n=c;n<s;n++)f+=m,o.push(f)}}else{var p=a[t._id.charAt(0)+"calendar"];for(i=u?t.r2c(b,0,p):k(T)&&T.length===1?T[0]:b===void 0?0:(t.type==="log"?t.d2c:t.r2c)(b,0,p),r=g||1,n=l||d?0:-.5;n<s;n++)o.push(i+r*n)}return o}},41420:function(ee,D,e){var M=e(33428),k=e(49760),a=e(24040),T=e(43616),b=e(54460),g=e(3400),s=e(72736),t=e(76688),i=e(76308),r=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,o=e(9616),l=e(84284).LINE_SPACING,u=e(9188),d=e(2264).STYLE,c="heatmap-label";function m(x){return x.selectAll("g."+c)}function f(x){m(x).remove()}function p(x,_){var h=_.length-2,S=g.constrain(g.findBin(x,_),0,h),w=_[S],E=_[S+1],C=g.constrain(S+(x-w)/(E-w)-.5,0,h),P=Math.round(C),O=Math.abs(C-P);return C&&C!==h&&O?{bin0:P,frac:O,bin1:Math.round(P+O/(C-P))}:{bin0:P,bin1:P,frac:0}}function v(x,_){var h=_.length-1,S=g.constrain(g.findBin(x,_),0,h),w=_[S],E=(x-w)/(_[S+1]-w)||0;return E<=0?{bin0:S,bin1:S,frac:0}:E<.5?{bin0:S,bin1:S+1,frac:E}:{bin0:S+1,bin1:S,frac:1-E}}function y(x,_,h){x[_]=h[0],x[_+1]=h[1],x[_+2]=h[2],x[_+3]=Math.round(255*h[3])}ee.exports=function(x,_,h,S){var w=_.xaxis,E=_.yaxis;g.makeTraceGroups(S,h,"hm").each(function(C){var P,O,R,U,z,N,W,F,V=M.select(this),j=C[0],te=j.trace,J=te.xgap||0,K=te.ygap||0,Z=j.z,X=j.x,Q=j.y,re=j.xCenter,ae=j.yCenter,ie=a.traceIs(te,"contour"),le=ie?"best":te.zsmooth,pe=Z.length,de=g.maxRowLength(Z),ve=!1,be=!1;for(N=0;P===void 0&&N<X.length-1;)P=w.c2p(X[N]),N++;for(N=X.length-1;O===void 0&&N>0;)O=w.c2p(X[N]),N--;for(O<P&&(R=O,O=P,P=R,ve=!0),N=0;U===void 0&&N<Q.length-1;)U=E.c2p(Q[N]),N++;for(N=Q.length-1;z===void 0&&N>0;)z=E.c2p(Q[N]),N--;z<U&&(R=U,U=z,z=R,be=!0),ie&&(re=X,ae=Q,X=j.xfill,Q=j.yfill);var me="default";if(le?me=le==="best"?"smooth":"fast":te._islinear&&J===0&&K===0&&u()&&(me="fast"),me!=="fast"){var ge=le==="best"?0:.5;P=Math.max(-ge*w._length,P),O=Math.min((1+ge)*w._length,O),U=Math.max(-ge*E._length,U),z=Math.min((1+ge)*E._length,z)}var ke,we,ue=Math.round(O-P),oe=Math.round(z-U);if(P>=w._length||O<=0||U>=E._length||z<=0)return V.selectAll("image").data([]).exit().remove(),void f(V);me==="fast"?(ke=de,we=pe):(ke=ue,we=oe);var he=document.createElement("canvas");he.width=ke,he.height=we;var Ee,Te,Me=he.getContext("2d",{willReadFrequently:!0}),Se=n(te,{noNumericCheck:!0,returnArray:!0});me==="fast"?(Ee=ve?function(Bt){return de-1-Bt}:g.identity,Te=be?function(Bt){return pe-1-Bt}:g.identity):(Ee=function(Bt){return g.constrain(Math.round(w.c2p(X[Bt])-P),0,ue)},Te=function(Bt){return g.constrain(Math.round(E.c2p(Q[Bt])-U),0,oe)});var ze,fe,xe,_e,Oe=Te(0),De=[Oe,Oe],Pe=ve?0:1,Ue=be?0:1,Ve=0,Xe=0,it=0,tt=0;function pt(Bt,Qt){if(Bt!==void 0){var vn=Se(Bt);return vn[0]=Math.round(vn[0]),vn[1]=Math.round(vn[1]),vn[2]=Math.round(vn[2]),Ve+=Qt,Xe+=vn[0]*Qt,it+=vn[1]*Qt,tt+=vn[2]*Qt,vn}return[0,0,0,0]}function mt(Bt,Qt,vn,fn){var Tn=Bt[vn.bin0];if(Tn===void 0)return pt(void 0,1);var jn,On=Bt[vn.bin1],Dn=Qt[vn.bin0],$n=Qt[vn.bin1],qt=On-Tn||0,hn=Dn-Tn||0;return jn=On===void 0?$n===void 0?0:Dn===void 0?2*($n-Tn):2*(2*$n-Dn-Tn)/3:$n===void 0?Dn===void 0?0:2*(2*Tn-On-Dn)/3:Dn===void 0?2*(2*$n-On-Tn)/3:$n+Tn-On-Dn,pt(Tn+vn.frac*qt+fn.frac*(hn+vn.frac*jn))}if(me!=="default"){var gt,et=0;try{gt=new Uint8Array(ke*we*4)}catch{gt=new Array(ke*we*4)}if(me==="smooth"){var $e,_t,Pt,Ot=re||X,Lt=ae||Q,He=new Array(Ot.length),We=new Array(Lt.length),Be=new Array(ue),Ge=re?v:p,at=ae?v:p;for(N=0;N<Ot.length;N++)He[N]=Math.round(w.c2p(Ot[N])-P);for(N=0;N<Lt.length;N++)We[N]=Math.round(E.c2p(Lt[N])-U);for(N=0;N<ue;N++)Be[N]=Ge(N,He);for(W=0;W<oe;W++)for(_t=Z[($e=at(W,We)).bin0],Pt=Z[$e.bin1],N=0;N<ue;N++,et+=4)y(gt,et,_e=mt(_t,Pt,Be[N],$e))}else for(W=0;W<pe;W++)for(xe=Z[W],De=Te(W),N=0;N<de;N++)_e=pt(xe[N],1),y(gt,et=4*(De*de+Ee(N)),_e);var nt=Me.createImageData(ke,we);try{nt.data.set(gt)}catch{var Re=nt.data,Fe=Re.length;for(W=0;W<Fe;W++)Re[W]=gt[W]}Me.putImageData(nt,0,0)}else{var rt=Math.floor(J/2),Ye=Math.floor(K/2);for(W=0;W<pe;W++)if(xe=Z[W],De.reverse(),De[Ue]=Te(W+1),De[0]!==De[1]&&De[0]!==void 0&&De[1]!==void 0)for(ze=[fe=Ee(0),fe],N=0;N<de;N++)ze.reverse(),ze[Pe]=Ee(N+1),ze[0]!==ze[1]&&ze[0]!==void 0&&ze[1]!==void 0&&(_e=pt(xe[N],(ze[1]-ze[0])*(De[1]-De[0])),Me.fillStyle="rgba("+_e.join(",")+")",Me.fillRect(ze[0]+rt,De[0]+Ye,ze[1]-ze[0]-J,De[1]-De[0]-K))}Xe=Math.round(Xe/Ve),it=Math.round(it/Ve),tt=Math.round(tt/Ve);var ct=k("rgb("+Xe+","+it+","+tt+")");x._hmpixcount=(x._hmpixcount||0)+Ve,x._hmlumcount=(x._hmlumcount||0)+Ve*ct.getLuminance();var ht=V.selectAll("image").data(C);ht.enter().append("svg:image").attr({xmlns:o.svg,preserveAspectRatio:"none"}),ht.attr({height:oe,width:ue,x:P,y:U,"xlink:href":he.toDataURL("image/png")}),me!=="fast"||le||ht.attr("style",d),f(V);var dt=te.texttemplate;if(dt){var ut=r(te),kt={type:"linear",range:[ut.min,ut.max],_separators:w._separators,_numFormat:w._numFormat},xt=te.type==="histogram2dcontour",vt=te.type==="contour",Mt=vt?pe-1:pe,St=vt?1:0,It=vt?de-1:de,Gt=[];for(N=vt?1:0;N<Mt;N++){var en;if(vt)en=j.y[N];else if(xt){if(N===0||N===pe-1)continue;en=j.y[N]}else if(j.yCenter)en=j.yCenter[N];else{if(N+1===pe&&j.y[N+1]===void 0)continue;en=(j.y[N]+j.y[N+1])/2}var Nt=Math.round(E.c2p(en));if(!(0>Nt||Nt>E._length))for(W=St;W<It;W++){var jt;if(vt)jt=j.x[W];else if(xt){if(W===0||W===de-1)continue;jt=j.x[W]}else if(j.xCenter)jt=j.xCenter[W];else{if(W+1===de&&j.x[W+1]===void 0)continue;jt=(j.x[W]+j.x[W+1])/2}var Jt=Math.round(w.c2p(jt));if(!(0>Jt||Jt>w._length)){var An=t({x:jt,y:en},te,x._fullLayout);An.x=jt,An.y=en;var _n=j.z[N][W];_n===void 0?(An.z="",An.zLabel=""):(An.z=_n,An.zLabel=b.tickText(kt,_n,"hover").text);var un=j.text&&j.text[N]&&j.text[N][W];un!==void 0&&un!==!1||(un=""),An.text=un;var Wt=g.texttemplateString(dt,An,x._fullLayout._d3locale,An,te._meta||{});if(Wt){var rn=Wt.split("<br>"),$t=rn.length,sn=0;for(F=0;F<$t;F++)sn=Math.max(sn,rn[F].length);Gt.push({l:$t,c:sn,t:Wt,x:Jt,y:Nt,z:_n})}}}}var xn=te.textfont,wn=xn.family,Pn=xn.size,Cn=x._fullLayout.font.size;if(!Pn||Pn==="auto"){var Sn=1/0,Nn=1/0,zn=0,er=0;for(F=0;F<Gt.length;F++){var nr=Gt[F];if(zn=Math.max(zn,nr.l),er=Math.max(er,nr.c),F<Gt.length-1){var ir=Gt[F+1],Yn=Math.abs(ir.x-nr.x),mr=Math.abs(ir.y-nr.y);Yn&&(Sn=Math.min(Sn,Yn)),mr&&(Nn=Math.min(Nn,mr))}}isFinite(Sn)&&isFinite(Nn)?(Sn-=J,Nn-=K,Sn/=er,Nn/=zn,Sn/=l/2,Nn/=l,Pn=Math.min(Math.floor(Sn),Math.floor(Nn),Cn)):Pn=Cn}if(Pn<=0||!isFinite(Pn))return;m(V).data(Gt).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(Bt){var Qt=M.select(this),vn=xn.color;vn&&vn!=="auto"||(vn=i.contrast(Bt.z===void 0?x._fullLayout.plot_bgcolor:"rgba("+Se(Bt.z).join()+")")),Qt.attr("data-notex",1).call(s.positionText,function(fn){return fn.x}(Bt),function(fn){return fn.y-Pn*(fn.l*l/2-1)}(Bt)).call(T.font,wn,Pn,vn).text(Bt.t).call(s.convertToTspans,x)})}})}},41648:function(ee,D,e){var M=e(33428);ee.exports=function(k){M.select(k).selectAll(".hm image").style("opacity",function(a){return a.trace.opacity})}},82748:function(ee){ee.exports=function(D,e,M){M("zsmooth")===!1&&(M("xgap"),M("ygap")),M("zhoverformat")}},51264:function(ee,D,e){var M=e(38248),k=e(3400),a=e(24040);function T(b,g){var s=g(b);return(s?g(b+"type","array"):"scaled")==="scaled"&&(g(b+"0"),g("d"+b)),s}ee.exports=function(b,g,s,t,i,r){var n,o,l=s("z");if(i=i||"x",r=r||"y",l===void 0||!l.length)return 0;if(k.isArray1D(l)){n=s(i),o=s(r);var u=k.minRowLength(n),d=k.minRowLength(o);if(u===0||d===0)return 0;g._length=Math.min(u,d,l.length)}else{if(n=T(i,s),o=T(r,s),!function(c){for(var m,f=!0,p=!1,v=!1,y=0;y<c.length;y++){if(m=c[y],!k.isArrayOrTypedArray(m)){f=!1;break}m.length>0&&(p=!0);for(var x=0;x<m.length;x++)if(M(m[x])){v=!0;break}}return f&&p&&v}(l))return 0;s("transpose"),g._length=null}return b.type==="heatmapgl"||a.getComponentMethod("calendars","handleTraceDefaults")(b,g,[i,r],t),!0}},74512:function(ee,D,e){for(var M=e(83328),k=e(49084),a=e(92880).extendFlat,T=e(67824).overrideAll,b=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],g={},s=0;s<b.length;s++){var t=b[s];g[t]=M[t]}g.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(g,k("",{cLetter:"z",autoColorDflt:!1})),ee.exports=T(g,"calc","nested")},84656:function(ee,D,e){var M=e(67792).gl_heatmap2d,k=e(54460),a=e(43080);function T(g,s){this.scene=g,this.uid=s,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=M(g.glplot,this.options),this.heatmap._trace=this}var b=T.prototype;b.handlePick=function(g){var s=this.options,t=s.shape,i=g.pointId,r=i%t[0],n=Math.floor(i/t[0]),o=i;return{trace:this,dataCoord:g.dataCoord,traceCoord:[s.x[r],s.y[n],s.z[o]],textLabel:this.textLabels[i],name:this.name,pointIndex:[n,r],hoverinfo:this.hoverinfo}},b.update=function(g,s){var t=s[0];this.index=g.index,this.name=g.name,this.hoverinfo=g.hoverinfo;var i=t.z;this.options.z=[].concat.apply([],i);var r=i[0].length,n=i.length;this.options.shape=[r,n],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=g.zsmooth;var o=function(m){for(var f=m.colorscale,p=m.zmin,v=m.zmax,y=f.length,x=new Array(y),_=new Array(4*y),h=0;h<y;h++){var S=f[h],w=a(S[1]);x[h]=p+S[0]*(v-p);for(var E=0;E<4;E++)_[4*h+E]=w[E]}return{colorLevels:x,colorValues:_}}(g);this.options.colorLevels=o.colorLevels,this.options.colorValues=o.colorValues,this.textLabels=[].concat.apply([],g.text),this.heatmap.update(this.options);var l,u,d=this.scene.xaxis,c=this.scene.yaxis;g.zsmooth===!1&&(l={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),g._extremes[d._id]=k.findExtremes(d,t.x,l),g._extremes[c._id]=k.findExtremes(c,t.y,u)},b.dispose=function(){this.heatmap.dispose()},ee.exports=function(g,s,t){var i=new T(g,s.uid);return i.update(s,t),i}},86464:function(ee,D,e){var M=e(3400),k=e(51264),a=e(27260),T=e(74512);ee.exports=function(b,g,s,t){function i(r,n){return M.coerce(b,g,T,r,n)}k(b,g,i,t)?(i("text"),i("zsmooth"),a(b,g,t,i,{prefix:"",cLetter:"z"})):g.visible=!1}},45536:function(ee,D,e){ee.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(ee,D,e){var M=e(20832),k=e(29736).axisHoverFormat,a=e(21776).Ks,T=e(21776).Gw,b=e(25376),g=e(11120),s=e(73316),t=e(92880).extendFlat;ee.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:k("x"),yhoverformat:k("y"),text:t({},M.text,{}),hovertext:t({},M.hovertext,{}),orientation:M.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:g("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:g("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:s.eventDataKeys}),texttemplate:T({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},M.textposition,{arrayOk:!1}),textfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:M.insidetextanchor,textangle:M.textangle,cliponaxis:M.cliponaxis,constraintext:M.constraintext,marker:M.marker,offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:M.selected,unselected:M.unselected,_deprecated:{bardir:M._deprecated.bardir}}},2e3:function(ee){ee.exports=function(D,e){for(var M=D.length,k=0,a=0;a<M;a++)e[a]?(D[a]/=e[a],k+=D[a]):D[a]=null;return k}},11120:function(ee){ee.exports=function(D,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(ee,D,e){var M=e(38248);ee.exports={count:function(k,a,T){return T[k]++,1},sum:function(k,a,T,b){var g=b[a];return M(g)?(g=Number(g),T[k]+=g,g):0},avg:function(k,a,T,b,g){var s=b[a];return M(s)&&(s=Number(s),T[k]+=s,g[k]++),0},min:function(k,a,T,b){var g=b[a];if(M(g)){if(g=Number(g),!M(T[k]))return T[k]=g,g;if(T[k]>g){var s=g-T[k];return T[k]=g,s}}return 0},max:function(k,a,T,b){var g=b[a];if(M(g)){if(g=Number(g),!M(T[k]))return T[k]=g,g;if(T[k]<g){var s=g-T[k];return T[k]=g,s}}return 0}}},67712:function(ee,D,e){var M=e(39032),k=M.ONEAVGYEAR,a=M.ONEAVGMONTH,T=M.ONEDAY,b=M.ONEHOUR,g=M.ONEMIN,s=M.ONESEC,t=e(54460).tickIncrement;function i(l,u,d,c){if(l*u<=0)return 1/0;for(var m=Math.abs(u-l),f=d.type==="date",p=r(m,f),v=0;v<10;v++){var y=r(80*p,f);if(p===y||!n(y,l,u,f,d,c))break;p=y}return p}function r(l,u){return u&&l>s?l>T?l>1.1*k?k:l>1.1*a?a:T:l>b?b:l>g?g:s:Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function n(l,u,d,c,m,f){if(c&&l>T){var p=o(u,m,f),v=o(d,m,f),y=l===k?0:1;return p[y]!==v[y]}return Math.floor(d/l)-Math.floor(u/l)>.1}function o(l,u,d){var c=u.c2d(l,k,d).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}ee.exports=function(l,u,d,c,m){var f,p,v=-1.1*u,y=-.1*u,x=l-y,_=d[0],h=d[1],S=Math.min(i(_+y,_+x,c,m),i(h+y,h+x,c,m)),w=Math.min(i(_+v,_+y,c,m),i(h+v,h+y,c,m));if(S>w&&w<Math.abs(h-_)/4e3?(f=S,p=!1):(f=Math.min(S,w),p=!0),c.type==="date"&&f>T){var E=f===k?1:6,C=f===k?"M12":"M1";return function(P,O){var R=c.c2d(P,k,m),U=R.indexOf("-",E);U>0&&(R=R.substr(0,U));var z=c.d2c(R,0,m);if(z<P){var N=t(z,C,!1,m);(z+N)/2<P+l&&(z=N)}return O&&p?t(z,C,!0,m):z}}return function(P,O){var R=f*Math.round(P/f);return R+f/10<P&&R+.9*f<P+l&&(R+=f),O&&p&&(R-=f),R}}},35852:function(ee,D,e){var M=e(38248),k=e(3400),a=e(24040),T=e(54460),b=e(84664),g=e(16964),s=e(10648),t=e(2e3),i=e(67712);function r(n,o,l,u,d){var c,m,f,p,v,y,x,_=u+"bins",h=n._fullLayout,S=o["_"+u+"bingroup"],w=h._histogramBinOpts[S],E=h.barmode==="overlay",C=function(be){return l.r2c(be,0,p)},P=function(be){return l.c2r(be,0,p)},O=l.type==="date"?function(be){return be||be===0?k.cleanDate(be,null,p):null}:function(be){return M(be)?Number(be):null};function R(be,me,ge){me[be+"Found"]?(me[be]=O(me[be]),me[be]===null&&(me[be]=ge[be])):(y[be]=me[be]=ge[be],k.nestedProperty(m[0],_+"."+be).set(ge[be]))}if(o["_"+u+"autoBinFinished"])delete o["_"+u+"autoBinFinished"];else{m=w.traces;var U=[],z=!0,N=!1,W=!1;for(c=0;c<m.length;c++)if((f=m[c]).visible){var F=w.dirs[c];v=f["_"+F+"pos0"]=l.makeCalcdata(f,F),U=k.concat(U,v),delete f["_"+u+"autoBinFinished"],o.visible===!0&&(z?z=!1:(delete f._autoBin,f["_"+u+"autoBinFinished"]=1),a.traceIs(f,"2dMap")&&(N=!0),f.type==="histogram2dcontour"&&(W=!0))}p=m[0][u+"calendar"];var V=T.autoBin(U,l,w.nbins,N,p,w.sizeFound&&w.size),j=m[0]._autoBin={};if(y=j[w.dirs[0]]={},W&&(w.size||(V.start=P(T.tickIncrement(C(V.start),V.size,!0,p))),w.end===void 0&&(V.end=P(T.tickIncrement(C(V.end),V.size,!1,p)))),E&&!a.traceIs(o,"2dMap")&&V._dataSpan===0&&l.type!=="category"&&l.type!=="multicategory"&&o.bingroup===""&&o.xbins===void 0){if(d)return[V,v,!0];V=function(be,me,ge,ke,we){var ue,oe,he,Ee=be._fullLayout,Te=function(Xe,it){for(var tt=it.xaxis,pt=it.yaxis,mt=it.orientation,gt=[],et=Xe._fullData,$e=0;$e<et.length;$e++){var _t=et[$e];_t.type==="histogram"&&_t.visible===!0&&_t.orientation===mt&&_t.xaxis===tt&&_t.yaxis===pt&&gt.push(_t)}return gt}(be,me),Me=!1,Se=1/0,ze=[me];for(ue=0;ue<Te.length;ue++)if((oe=Te[ue])===me)Me=!0;else if(Me){var fe=r(be,oe,ge,ke,!0),xe=fe[0],_e=fe[2];oe["_"+ke+"autoBinFinished"]=1,oe["_"+ke+"pos0"]=fe[1],_e?ze.push(oe):Se=Math.min(Se,xe.size)}else he=Ee._histogramBinOpts[oe["_"+ke+"bingroup"]],Se=Math.min(Se,he.size||oe[we].size);var Oe=new Array(ze.length);for(ue=0;ue<ze.length;ue++)for(var De=ze[ue]["_"+ke+"pos0"],Pe=0;Pe<De.length;Pe++)if(De[Pe]!==void 0){Oe[ue]=De[Pe];break}for(isFinite(Se)||(Se=k.distinctVals(Oe).minDiff),ue=0;ue<ze.length;ue++){var Ue=(oe=ze[ue])[ke+"calendar"],Ve={start:ge.c2r(Oe[ue]-Se/2,0,Ue),end:ge.c2r(Oe[ue]+Se/2,0,Ue),size:Se};oe._input[we]=oe[we]=Ve,(he=Ee._histogramBinOpts[oe["_"+ke+"bingroup"]])&&k.extendFlat(he,Ve)}return me[we]}(n,o,l,u,_)}(x=f.cumulative||{}).enabled&&x.currentbin!=="include"&&(x.direction==="decreasing"?V.start=P(T.tickIncrement(C(V.start),V.size,!0,p)):V.end=P(T.tickIncrement(C(V.end),V.size,!1,p))),w.size=V.size,w.sizeFound||(y.size=V.size,k.nestedProperty(m[0],_+".size").set(V.size)),R("start",w,V),R("end",w,V)}v=o["_"+u+"pos0"],delete o["_"+u+"pos0"];var te=o._input[_]||{},J=k.extendFlat({},w),K=w.start,Z=l.r2l(te.start),X=Z!==void 0;if((w.startFound||X)&&Z!==l.r2l(K)){var Q=X?Z:k.aggNums(Math.min,null,v),re={type:l.type==="category"||l.type==="multicategory"?"linear":l.type,r2l:l.r2l,dtick:w.size,tick0:K,calendar:p,range:[Q,T.tickIncrement(Q,w.size,!1,p)].map(l.l2r)},ae=T.tickFirst(re);ae>l.r2l(Q)&&(ae=T.tickIncrement(ae,w.size,!0,p)),J.start=l.l2r(ae),X||k.nestedProperty(o,_+".start").set(J.start)}var ie=w.end,le=l.r2l(te.end),pe=le!==void 0;if((w.endFound||pe)&&le!==l.r2l(ie)){var de=pe?le:k.aggNums(Math.max,null,v);J.end=l.l2r(de),pe||k.nestedProperty(o,_+".start").set(J.end)}var ve="autobin"+u;return o._input[ve]===!1&&(o._input[_]=k.extendFlat({},o[_]||{}),delete o._input[ve],delete o[ve]),[J,v]}ee.exports={calc:function(n,o){var l,u,d,c,m=[],f=[],p=o.orientation==="h",v=T.getFromId(n,p?o.yaxis:o.xaxis),y=p?"y":"x",x={x:"y",y:"x"}[y],_=o[y+"calendar"],h=o.cumulative,S=r(n,o,v,y),w=S[0],E=S[1],C=typeof w.size=="string",P=[],O=C?P:w,R=[],U=[],z=[],N=0,W=o.histnorm,F=o.histfunc,V=W.indexOf("density")!==-1;h.enabled&&V&&(W=W.replace(/ ?density$/,""),V=!1);var j,te=F==="max"||F==="min"?null:0,J=g.count,K=s[W],Z=!1,X=function(oe){return v.r2c(oe,0,_)};for(k.isArrayOrTypedArray(o[x])&&F!=="count"&&(j=o[x],Z=F==="avg",J=g[F]),l=X(w.start),d=X(w.end)+(l-T.tickIncrement(l,w.size,!1,_))/1e6;l<d&&m.length<1e6&&(u=T.tickIncrement(l,w.size,!1,_),m.push((l+u)/2),f.push(te),z.push([]),P.push(l),V&&R.push(1/(u-l)),Z&&U.push(0),!(u<=l));)l=u;P.push(l),C||v.type!=="date"||(O={start:X(O.start),end:X(O.end),size:O.size}),n._fullLayout._roundFnOpts||(n._fullLayout._roundFnOpts={});var Q=o["_"+y+"bingroup"],re={leftGap:1/0,rightGap:1/0};Q&&(n._fullLayout._roundFnOpts[Q]||(n._fullLayout._roundFnOpts[Q]=re),re=n._fullLayout._roundFnOpts[Q]);var ae,ie=f.length,le=!0,pe=re.leftGap,de=re.rightGap,ve={};for(l=0;l<E.length;l++){var be=E[l];(c=k.findBin(be,O))>=0&&c<ie&&(N+=J(c,l,f,j,U),le&&z[c].length&&be!==E[z[c][0]]&&(le=!1),z[c].push(l),ve[l]=c,pe=Math.min(pe,be-P[c]),de=Math.min(de,P[c+1]-be))}re.leftGap=pe,re.rightGap=de,le||(ae=function(oe,he){return function(){var Ee=n._fullLayout._roundFnOpts[Q];return i(Ee.leftGap,Ee.rightGap,P,v,_)(oe,he)}}),Z&&(N=t(f,U)),K&&K(f,N,R),h.enabled&&function(oe,he,Ee){var Te,Me,Se;function ze(xe){Se=oe[xe],oe[xe]/=2}function fe(xe){Me=oe[xe],oe[xe]=Se+Me/2,Se+=Me}if(Ee==="half")if(he==="increasing")for(ze(0),Te=1;Te<oe.length;Te++)fe(Te);else for(ze(oe.length-1),Te=oe.length-2;Te>=0;Te--)fe(Te);else if(he==="increasing"){for(Te=1;Te<oe.length;Te++)oe[Te]+=oe[Te-1];Ee==="exclude"&&(oe.unshift(0),oe.pop())}else{for(Te=oe.length-2;Te>=0;Te--)oe[Te]+=oe[Te+1];Ee==="exclude"&&(oe.push(0),oe.shift())}}(f,h.direction,h.currentbin);var me=Math.min(m.length,f.length),ge=[],ke=0,we=me-1;for(l=0;l<me;l++)if(f[l]){ke=l;break}for(l=me-1;l>=ke;l--)if(f[l]){we=l;break}for(l=ke;l<=we;l++)if(M(m[l])&&M(f[l])){var ue={p:m[l],s:f[l],b:0};h.enabled||(ue.pts=z[l],le?ue.ph0=ue.ph1=z[l].length?E[z[l][0]]:m[l]:(o._computePh=!0,ue.ph0=ae(P[l]),ue.ph1=ae(P[l+1],!0))),ge.push(ue)}return ge.length===1&&(ge[0].width1=T.tickIncrement(ge[0].p,w.size,!1,_)-ge[0].p),b(ge,o),k.isArrayOrTypedArray(o.selectedpoints)&&k.tagSelected(ge,o,ve),ge},calcAllAutoBins:r}},73316:function(ee){ee.exports={eventDataKeys:["binNumber"]}},80536:function(ee,D,e){var M=e(3400),k=e(79811),a=e(24040).traceIs,T=e(20011),b=e(31508).validateCornerradius,g=M.nestedProperty,s=e(71888).getAxisGroup,t=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];ee.exports=function(r,n){var o,l,u,d,c,m,f,p=n._histogramBinOpts={},v=[],y={},x=[];function _(te,J){return M.coerce(o._input,o,o._module.attributes,te,J)}function h(te){return te.orientation==="v"?"x":"y"}function S(te,J,K){var Z=te.uid+"__"+K;J||(J=Z);var X=function(ie,le){return k.getFromTrace({_fullLayout:n},ie,le).type}(te,K),Q=te[K+"calendar"]||"",re=p[J],ae=!0;re&&(X===re.axType&&Q===re.calendar?(ae=!1,re.traces.push(te),re.dirs.push(K)):(J=Z,X!==re.axType&&M.warn(["Attempted to group the bins of trace",te.index,"set on a","type:"+X,"axis","with bins on","type:"+re.axType,"axis."].join(" ")),Q!==re.calendar&&M.warn(["Attempted to group the bins of trace",te.index,"set with a",Q,"calendar","with bins",re.calendar?"on a "+re.calendar+" calendar":"w/o a set calendar"].join(" ")))),ae&&(p[J]={traces:[te],dirs:[K],axType:X,calendar:te[K+"calendar"]||""}),te["_"+K+"bingroup"]=J}for(c=0;c<r.length;c++)if(o=r[c],a(o,"histogram")){if(v.push(o),delete o._xautoBinFinished,delete o._yautoBinFinished,o.type==="histogram"){var w=_("marker.cornerradius",n.barcornerradius);o.marker&&(o.marker.cornerradius=b(w))}a(o,"2dMap")||T(o._input,o,n,_)}var E=n._alignmentOpts||{};for(c=0;c<v.length;c++){if(o=v[c],u="",!a(o,"2dMap")){if(d=h(o),n.barmode==="group"&&o.alignmentgroup){var C=o[d+"axis"],P=s(n,C)+o.orientation;(E[P]||{})[o.alignmentgroup]&&(u=P)}u||n.barmode==="overlay"||(u=s(n,o.xaxis)+s(n,o.yaxis)+h(o))}u?(y[u]||(y[u]=[]),y[u].push(o)):x.push(o)}for(u in y)if((l=y[u]).length!==1){var O=!1;for(l.length&&(o=l[0],O=_("bingroup")),u=O||u,c=0;c<l.length;c++){var R=(o=l[c])._input.bingroup;R&&R!==u&&M.warn(["Trace",o.index,"must match","within bingroup",u+".","Ignoring its bingroup:",R,"setting."].join(" ")),o.bingroup=u,S(o,u,h(o))}}else x.push(l[0]);for(c=0;c<x.length;c++){o=x[c];var U=_("bingroup");if(a(o,"2dMap"))for(f=0;f<2;f++){var z=_((d=i[f])+"bingroup",U?U+"__"+d:null);S(o,z,d)}else S(o,U,h(o))}for(u in p){var N=p[u];for(l=N.traces,m=0;m<t.length;m++){var W,F,V=t[m],j=V.name;if(j!=="nbins"||!N.sizeFound){for(c=0;c<l.length;c++){if(o=l[c],d=N.dirs[c],W=V.aStr[d],g(o._input,W).get()!==void 0){N[j]=_(W),N[j+"Found"]=!0;break}(F=(o._autoBin||{})[d]||{})[j]&&g(o,W).set(F[j])}if(j==="start"||j==="end")for(;c<l.length;c++)(o=l[c])["_"+d+"bingroup"]&&_(W,(F=(o._autoBin||{})[d]||{})[j]);j!=="nbins"||N.sizeFound||N.nbinsFound||(o=l[0],N[j]=_(W))}}}}},6616:function(ee,D,e){var M=e(24040),k=e(3400),a=e(76308),T=e(31508).handleText,b=e(55592),g=e(40196);ee.exports=function(s,t,i,r){function n(y,x){return k.coerce(s,t,g,y,x)}var o=n("x"),l=n("y");n("cumulative.enabled")&&(n("cumulative.direction"),n("cumulative.currentbin")),n("text");var u=n("textposition");T(s,t,r,n,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat");var d=n("orientation",l&&!o?"h":"v"),c=d==="v"?"x":"y",m=d==="v"?"y":"x",f=o&&l?Math.min(k.minRowLength(o)&&k.minRowLength(l)):k.minRowLength(t[c]||[]);if(f){t._length=f,M.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y"],r),t[m]&&n("histfunc"),n("histnorm"),n("autobin"+c),b(s,t,n,i,r),k.coerceSelectionMarkerOpacity(t,n);var p=(t.marker.line||{}).color,v=M.getComponentMethod("errorbars","supplyDefaults");v(s,t,p||a.defaultLine,{axis:"y"}),v(s,t,p||a.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},84980:function(ee){ee.exports=function(D,e,M,k,a){if(D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(D.z=e.zLabelVal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),!(M.cumulative||{}).enabled){var T,b=Array.isArray(a)?k[0].pts[a[0]][a[1]]:k[a].pts;if(D.pointNumbers=b,D.binNumber=D.pointNumber,delete D.pointNumber,delete D.pointIndex,M._indexToPoints){T=[];for(var g=0;g<b.length;g++)T=T.concat(M._indexToPoints[b[g]])}else T=b;D.pointIndices=T}return D}},43339:function(ee,D,e){var M=e(63400).hoverPoints,k=e(54460).hoverLabelText;ee.exports=function(a,T,b,g,s){var t=M(a,T,b,g,s);if(t){var i=(a=t[0]).cd[a.index],r=a.cd[0].trace;if(!r.cumulative.enabled){var n=r.orientation==="h"?"y":"x";a[n+"Label"]=k(a[n+"a"],[i.ph0,i.ph1],r[n+"hoverformat"])}return t}}},42600:function(ee,D,e){ee.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(ee){ee.exports={percent:function(D,e){for(var M=D.length,k=100/e,a=0;a<M;a++)D[a]*=k},probability:function(D,e){for(var M=D.length,k=0;k<M;k++)D[k]/=e},density:function(D,e,M,k){var a=D.length;k=k||1;for(var T=0;T<a;T++)D[T]*=M[T]*k},"probability density":function(D,e,M,k){var a=D.length;k&&(e/=k);for(var T=0;T<a;T++)D[T]*=M[T]/e}}},37008:function(ee,D,e){var M=e(40196),k=e(11120),a=e(83328),T=e(45464),b=e(29736).axisHoverFormat,g=e(21776).Ks,s=e(21776).Gw,t=e(49084),i=e(92880).extendFlat;ee.exports=i({x:M.x,y:M.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:M.histnorm,histfunc:M.histfunc,nbinsx:M.nbinsx,xbins:k("x"),nbinsy:M.nbinsy,ybins:k("y"),autobinx:M.autobinx,autobiny:M.autobiny,bingroup:i({},M.bingroup,{}),xbingroup:i({},M.bingroup,{}),ybingroup:i({},M.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:g({},{keys:"z"}),texttemplate:s({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:i({},T.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},55480:function(ee,D,e){var M=e(3400),k=e(54460),a=e(16964),T=e(10648),b=e(2e3),g=e(67712),s=e(35852).calcAllAutoBins;function t(n,o,l,u){var d,c=new Array(n);if(u)for(d=0;d<n;d++)c[d]=1/(o[d+1]-o[d]);else{var m=1/l;for(d=0;d<n;d++)c[d]=m}return c}function i(n,o){return{start:n(o.start),end:n(o.end),size:o.size}}function r(n,o,l,u,d,c){var m,f=n.length-1,p=new Array(f),v=g(l,u,n,d,c);for(m=0;m<f;m++){var y=(o||[])[m];p[m]=y===void 0?[v(n[m]),v(n[m+1],!0)]:[y,y]}return p}ee.exports=function(n,o){var l,u,d,c,m=k.getFromId(n,o.xaxis),f=k.getFromId(n,o.yaxis),p=o.xcalendar,v=o.ycalendar,y=function(pt){return m.r2c(pt,0,p)},x=function(pt){return f.r2c(pt,0,v)},_=s(n,o,m,"x"),h=_[0],S=_[1],w=s(n,o,f,"y"),E=w[0],C=w[1],P=o._length;S.length>P&&S.splice(P,S.length-P),C.length>P&&C.splice(P,C.length-P);var O=[],R=[],U=[],z=typeof h.size=="string",N=typeof E.size=="string",W=[],F=[],V=z?W:h,j=N?F:E,te=0,J=[],K=[],Z=o.histnorm,X=o.histfunc,Q=Z.indexOf("density")!==-1,re=X==="max"||X==="min"?null:0,ae=a.count,ie=T[Z],le=!1,pe=[],de=[],ve="z"in o?o.z:"marker"in o&&Array.isArray(o.marker.color)?o.marker.color:"";ve&&X!=="count"&&(le=X==="avg",ae=a[X]);var be=h.size,me=y(h.start),ge=y(h.end)+(me-k.tickIncrement(me,be,!1,p))/1e6;for(l=me;l<ge;l=k.tickIncrement(l,be,!1,p))R.push(re),W.push(l),le&&U.push(0);W.push(l);var ke,we=R.length,ue=(l-me)/we,oe=(ke=me+ue/2,m.c2r(ke,0,p)),he=E.size,Ee=x(E.start),Te=x(E.end)+(Ee-k.tickIncrement(Ee,he,!1,v))/1e6;for(l=Ee;l<Te;l=k.tickIncrement(l,he,!1,v)){O.push(R.slice()),F.push(l);var Me=new Array(we);for(u=0;u<we;u++)Me[u]=[];K.push(Me),le&&J.push(U.slice())}F.push(l);var Se=O.length,ze=(l-Ee)/Se,fe=function(pt){return f.c2r(pt,0,v)}(Ee+ze/2);Q&&(pe=t(R.length,V,ue,z),de=t(O.length,j,ze,N)),z||m.type!=="date"||(V=i(y,V)),N||f.type!=="date"||(j=i(x,j));var xe=!0,_e=!0,Oe=new Array(we),De=new Array(Se),Pe=1/0,Ue=1/0,Ve=1/0,Xe=1/0;for(l=0;l<P;l++){var it=S[l],tt=C[l];d=M.findBin(it,V),c=M.findBin(tt,j),d>=0&&d<we&&c>=0&&c<Se&&(te+=ae(d,l,O[c],ve,J[c]),K[c][d].push(l),xe&&(Oe[d]===void 0?Oe[d]=it:Oe[d]!==it&&(xe=!1)),_e&&(De[c]===void 0?De[c]=tt:De[c]!==tt&&(_e=!1)),Pe=Math.min(Pe,it-W[d]),Ue=Math.min(Ue,W[d+1]-it),Ve=Math.min(Ve,tt-F[c]),Xe=Math.min(Xe,F[c+1]-tt))}if(le)for(c=0;c<Se;c++)te+=b(O[c],J[c]);if(ie)for(c=0;c<Se;c++)ie(O[c],te,pe,de[c]);return{x:S,xRanges:r(W,xe&&Oe,Pe,Ue,m,p),x0:oe,dx:ue,y:C,yRanges:r(F,_e&&De,Ve,Xe,f,v),y0:fe,dy:ze,z:O,pts:K}}},99784:function(ee,D,e){var M=e(3400),k=e(56408),a=e(82748),T=e(27260),b=e(39096),g=e(37008);ee.exports=function(s,t,i,r){function n(o,l){return M.coerce(s,t,g,o,l)}k(s,t,n,r),t.visible!==!1&&(a(s,t,n,r),T(s,t,r,n,{prefix:"",cLetter:"z"}),n("hovertemplate"),b(n,r),n("xhoverformat"),n("yhoverformat"))}},59576:function(ee,D,e){var M=e(55512),k=e(54460).hoverLabelText;ee.exports=function(a,T,b,g,s){var t=M(a,T,b,g,s);if(t){var i=(a=t[0]).index,r=i[0],n=i[1],o=a.cd[0],l=o.trace,u=o.xRanges[n],d=o.yRanges[r];return a.xLabel=k(a.xa,[u[0],u[1]],l.xhoverformat),a.yLabel=k(a.ya,[d[0],d[1]],l.yhoverformat),t}}},21536:function(ee,D,e){ee.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(ee,D,e){var M=e(24040),k=e(3400);ee.exports=function(a,T,b,g){var s=b("x"),t=b("y"),i=k.minRowLength(s),r=k.minRowLength(t);i&&r?(T._length=Math.min(i,r),M.getComponentMethod("calendars","handleTraceDefaults")(a,T,["x","y"],g),(b("z")||b("marker.color"))&&b("histfunc"),b("histnorm"),b("autobinx"),b("autobiny")):T.visible=!1}},81220:function(ee,D,e){var M=e(37008),k=e(67104),a=e(49084),T=e(29736).axisHoverFormat,b=e(92880).extendFlat;ee.exports=b({x:M.x,y:M.y,z:M.z,marker:M.marker,histnorm:M.histnorm,histfunc:M.histfunc,nbinsx:M.nbinsx,xbins:M.xbins,nbinsy:M.nbinsy,ybins:M.ybins,autobinx:M.autobinx,autobiny:M.autobiny,bingroup:M.bingroup,xbingroup:M.xbingroup,ybingroup:M.ybingroup,autocontour:k.autocontour,ncontours:k.ncontours,contours:k.contours,line:{color:k.line.color,width:b({},k.line.width,{dflt:.5}),dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:M.hovertemplate,texttemplate:k.texttemplate,textfont:k.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(ee,D,e){var M=e(3400),k=e(56408),a=e(84952),T=e(97680),b=e(39096),g=e(81220);ee.exports=function(s,t,i,r){function n(o,l){return M.coerce(s,t,g,o,l)}k(s,t,n,r),t.visible!==!1&&(a(s,t,n,function(o){return M.coerce2(s,t,g,o)}),T(s,t,n,r),n("xhoverformat"),n("yhoverformat"),n("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&b(n,r))}},65664:function(ee,D,e){ee.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(ee,D,e){var M=e(21776).Ks,k=e(21776).Gw,a=e(49084),T=e(86968).u,b=e(74996),g=e(424),s=e(40516),t=e(32984),i=e(92880).extendFlat,r=e(98192).c;ee.exports={labels:g.labels,parents:g.parents,values:g.values,branchvalues:g.branchvalues,count:g.count,level:g.level,maxdepth:g.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:s.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:g.marker.colors,line:g.marker.line,pattern:r,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:g.leaf,pathbar:s.pathbar,text:b.text,textinfo:g.textinfo,texttemplate:k({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:g.hoverinfo,hovertemplate:M({},{keys:t.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:s.outsidetextfont,textposition:s.textposition,sort:b.sort,root:g.root,domain:T({name:"icicle",trace:!0,editType:"calc"})}},59564:function(ee,D,e){var M=e(7316);D.name="icicle",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},73876:function(ee,D,e){var M=e(3776);D.r=function(k,a){return M.calc(k,a)},D.q=function(k){return M._runCrossTraceCalc("icicle",k)}},7045:function(ee,D,e){var M=e(3400),k=e(97376),a=e(76308),T=e(86968).Q,b=e(31508).handleText,g=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),i=t.hasColorscale,r=t.handleDefaults;ee.exports=function(n,o,l,u){function d(x,_){return M.coerce(n,o,k,x,_)}var c=d("labels"),m=d("parents");if(c&&c.length&&m&&m.length){var f=d("values");f&&f.length?d("branchvalues"):d("count"),d("level"),d("maxdepth"),d("tiling.orientation"),d("tiling.flip"),d("tiling.pad");var p=d("text");d("texttemplate"),o.texttemplate||d("textinfo",M.isArrayOrTypedArray(p)?"text+label":"label"),d("hovertext"),d("hovertemplate");var v=d("pathbar.visible");b(n,o,u,d,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition"),s(n,o,u,d);var y=o._hasColorscale=i(n,"marker","colors")||(n.marker||{}).coloraxis;y&&r(n,o,u,d,{prefix:"marker.",cLetter:"c"}),d("leaf.opacity",y?1:.7),o._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},v&&(d("pathbar.thickness",o.pathbar.textfont.size+2*g),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),T(o,u,d),o._length=null}else o.visible=!1}},67880:function(ee,D,e){var M=e(33428),k=e(3400),a=e(43616),T=e(72736),b=e(25132),g=e(47192).styleOne,s=e(32984),t=e(78176),i=e(45716),r=e(96488).formatSliceLabel,n=!1;ee.exports=function(o,l,u,d,c){var m=c.width,f=c.height,p=c.viewX,v=c.viewY,y=c.pathSlice,x=c.toMoveInsideSlice,_=c.strTransform,h=c.hasTransition,S=c.handleSlicesExit,w=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,C=c.prevEntry,P=o._context.staticPlot,O=o._fullLayout,R=l[0].trace,U=R.textposition.indexOf("left")!==-1,z=R.textposition.indexOf("right")!==-1,N=R.textposition.indexOf("bottom")!==-1,W=b(u,[m,f],{flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,orientation:R.tiling.orientation,pad:{inner:R.tiling.pad},maxDepth:R._maxDepth}).descendants(),F=1/0,V=-1/0;W.forEach(function(Z){var X=Z.depth;X>=R._maxDepth?(Z.x0=Z.x1=(Z.x0+Z.x1)/2,Z.y0=Z.y1=(Z.y0+Z.y1)/2):(F=Math.min(F,X),V=Math.max(V,X))}),d=d.data(W,t.getPtId),R._maxVisibleLayers=isFinite(V)?V-F+1:0,d.enter().append("g").classed("slice",!0),S(d,n,{},[m,f],y),d.order();var j=null;if(h&&C){var te=t.getPtId(C);d.each(function(Z){j===null&&t.getPtId(Z)===te&&(j={x0:Z.x0,x1:Z.x1,y0:Z.y0,y1:Z.y1})})}var J=function(){return j||{x0:0,x1:m,y0:0,y1:f}},K=d;return h&&(K=K.transition().each("end",function(){var Z=M.select(this);t.setSliceCursor(Z,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(Z){Z._x0=p(Z.x0),Z._x1=p(Z.x1),Z._y0=v(Z.y0),Z._y1=v(Z.y1),Z._hoverX=p(Z.x1-R.tiling.pad),Z._hoverY=v(N?Z.y1-R.tiling.pad/2:Z.y0+R.tiling.pad/2);var X=M.select(this),Q=k.ensureSingle(X,"path","surface",function(le){le.style("pointer-events",P?"none":"all")});h?Q.transition().attrTween("d",function(le){var pe=w(le,n,J(),[m,f],{orientation:R.tiling.orientation,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1});return function(de){return y(pe(de))}}):Q.attr("d",y),X.call(i,u,o,l,{styleOne:g,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,o,{isTransitioning:o._transitioning}),Q.call(g,Z,R,o,{hovered:!1}),Z.x0===Z.x1||Z.y0===Z.y1?Z._text="":Z._text=r(Z,u,R,l,O)||"";var re=k.ensureSingle(X,"g","slicetext"),ae=k.ensureSingle(re,"text","",function(le){le.attr("data-notex",1)}),ie=k.ensureUniformFontSize(o,t.determineTextFont(R,Z,O.font));ae.text(Z._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":U?"start":"middle").call(a.font,ie).call(T.convertToTspans,o),Z.textBB=a.bBox(ae.node()),Z.transform=x(Z,{fontSize:ie.size}),Z.transform.fontSize=ie.size,h?ae.transition().attrTween("transform",function(le){var pe=E(le,n,J(),[m,f]);return function(de){return _(pe(de))}}):ae.attr("transform",_(Z))}),j}},29044:function(ee,D,e){ee.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(ee){ee.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(ee,D,e){var M=e(3400),k=e(90676);ee.exports=function(a,T){function b(g,s){return M.coerce(a,T,k,g,s)}b("iciclecolorway",T.colorway),b("extendiciclecolors")}},25132:function(ee,D,e){var M=e(74148),k=e(83024);ee.exports=function(a,T,b){var g=b.flipX,s=b.flipY,t=b.orientation==="h",i=b.maxDepth,r=T[0],n=T[1];i&&(r=(a.height+1)*T[0]/Math.min(a.height+1,i),n=(a.height+1)*T[1]/Math.min(a.height+1,i));var o=M.partition().padding(b.pad.inner).size(t?[T[1],r]:[T[0],n])(a);return(t||g||s)&&k(o,T,{swapXY:t,flipX:g,flipY:s}),o}},38364:function(ee,D,e){var M=e(95808),k=e(67880);ee.exports=function(a,T,b,g){return M(a,T,b,g,{type:"icicle",drawDescendants:k})}},47192:function(ee,D,e){var M=e(33428),k=e(76308),a=e(3400),T=e(82744).resizeText,b=e(60404);function g(s,t,i,r){var n=t.data.data,o=!t.children,l=n.i,u=a.castOption(i,l,"marker.line.color")||k.defaultLine,d=a.castOption(i,l,"marker.line.width")||0;s.call(b,t,i,r).style("stroke-width",d).call(k.stroke,u).style("opacity",o?i.leaf.opacity:null)}ee.exports={style:function(s){var t=s._fullLayout._iciclelayer.selectAll(".trace");T(s,t,"icicle"),t.each(function(i){var r=M.select(this),n=i[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(o){M.select(this).call(g,o,n,s)})})},styleOne:g}},95188:function(ee,D,e){for(var M=e(45464),k=e(21776).Ks,a=e(92880).extendFlat,T=e(47797).colormodel,b=["rgb","rgba","rgba256","hsl","hsla"],g=[],s=[],t=0;t<b.length;t++){var i=T[b[t]];g.push("For the `"+b[t]+"` colormodel, it is ["+(i.zminDflt||i.min).join(", ")+"]."),s.push("For the `"+b[t]+"` colormodel, it is ["+(i.zmaxDflt||i.max).join(", ")+"].")}ee.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:b,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},M.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:k({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(ee,D,e){var M=e(3400),k=e(47797),a=e(38248),T=e(54460),b=e(3400).maxRowLength,g=e(18712).i;function s(i,r,n,o){return function(l){return M.constrain((l-i)*r,n,o)}}function t(i,r){return function(n){return M.constrain(n,i,r)}}ee.exports=function(i,r){var n,o;if(r._hasZ)n=r.z.length,o=b(r.z);else if(r._hasSource){var l=g(r.source);n=l.height,o=l.width}var u,d=T.getFromId(i,r.xaxis||"x"),c=T.getFromId(i,r.yaxis||"y"),m=d.d2c(r.x0)-r.dx/2,f=c.d2c(r.y0)-r.dy/2,p=[m,m+o*r.dx],v=[f,f+n*r.dy];if(d&&d.type==="log")for(u=0;u<o;u++)p.push(m+u*r.dx);if(c&&c.type==="log")for(u=0;u<n;u++)v.push(f+u*r.dy);return r._extremes[d._id]=T.findExtremes(d,p),r._extremes[c._id]=T.findExtremes(c,v),r._scaler=function(y){var x=k.colormodel[y.colormodel],_=(x.colormodel||y.colormodel).length;y._sArray=[];for(var h=0;h<_;h++)x.min[h]!==y.zmin[h]||x.max[h]!==y.zmax[h]?y._sArray.push(s(y.zmin[h],(x.max[h]-x.min[h])/(y.zmax[h]-y.zmin[h]),x.min[h],x.max[h])):y._sArray.push(t(x.min[h],x.max[h]));return function(S){for(var w=S.slice(0,_),E=0;E<_;E++){var C=w[E];if(!a(C))return!1;w[E]=y._sArray[E](C)}return w}}(r),[{x0:m,y0:f,z:r.z,w:o,h:n}]}},47797:function(ee){ee.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(D){return D.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(D){return D.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(D){return D.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(D){var e=D.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(D){var e=D.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(ee,D,e){var M=e(3400),k=e(95188),a=e(47797),T=e(81792).IMAGE_URL_PREFIX;ee.exports=function(b,g){function s(r,n){return M.coerce(b,g,k,r,n)}s("source"),g.source&&!g.source.match(T)&&delete g.source,g._hasSource=!!g.source;var t,i=s("z");g._hasZ=!(i===void 0||!i.length||!i[0]||!i[0].length),g._hasZ||g._hasSource?(s("x0"),s("y0"),s("dx"),s("dy"),g._hasZ?(s("colormodel","rgb"),s("zmin",(t=a.colormodel[g.colormodel]).zminDflt||t.min),s("zmax",t.zmaxDflt||t.max)):g._hasSource&&(g.colormodel="rgba256",t=a.colormodel[g.colormodel],g.zmin=t.zminDflt,g.zmax=t.zmaxDflt),s("zsmooth"),s("text"),s("hovertext"),s("hovertemplate"),g._length=null):g.visible=!1}},79972:function(ee){ee.exports=function(D,e){return"xVal"in e&&(D.x=e.xVal),"yVal"in e&&(D.y=e.yVal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D.color=e.color,D.colormodel=e.trace.colormodel,D.z||(D.z=e.color),D}},18712:function(ee,D,e){var M=e(19480),k=e(81792).IMAGE_URL_PREFIX,a=e(33576).Buffer;D.i=function(T){var b=T.replace(k,""),g=new a(b,"base64");return M(g)}},24892:function(ee,D,e){var M=e(93024),k=e(3400),a=k.isArrayOrTypedArray,T=e(47797);ee.exports=function(b,g,s){var t=b.cd[0],i=t.trace,r=b.xa,n=b.ya;if(!(M.inbox(g-t.x0,g-(t.x0+t.w*i.dx),0)>0||M.inbox(s-t.y0,s-(t.y0+t.h*i.dy),0)>0)){var o,l=Math.floor((g-t.x0)/i.dx),u=Math.floor(Math.abs(s-t.y0)/i.dy);if(i._hasZ?o=t.z[u][l]:i._hasSource&&(o=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),o){var d,c=t.hi||i.hoverinfo;if(c){var m=c.split("+");m.indexOf("all")!==-1&&(m=["color"]),m.indexOf("color")!==-1&&(d=!0)}var f,p=T.colormodel[i.colormodel],v=p.colormodel||i.colormodel,y=v.length,x=i._scaler(o),_=p.suffix,h=[];(i.hovertemplate||d)&&(h.push("["+[x[0]+_[0],x[1]+_[1],x[2]+_[2]].join(", ")),y===4&&h.push(", "+x[3]+_[3]),h.push("]"),h=h.join(""),b.extraText=v.toUpperCase()+": "+h),a(i.hovertext)&&a(i.hovertext[u])?f=i.hovertext[u][l]:a(i.text)&&a(i.text[u])&&(f=i.text[u][l]);var S=n.c2p(t.y0+(u+.5)*i.dy),w=t.x0+(l+.5)*i.dx,E=t.y0+(u+.5)*i.dy,C="["+o.slice(0,i.colormodel.length).join(", ")+"]";return[k.extendFlat(b,{index:[u,l],x0:r.c2p(t.x0+l*i.dx),x1:r.c2p(t.x0+(l+1)*i.dx),y0:S,y1:S,color:x,xVal:w,xLabelVal:w,yVal:E,yLabelVal:E,zLabelVal:C,text:f,hovertemplateLabels:{zLabel:C,colorLabel:h,"color[0]Label":x[0]+_[0],"color[1]Label":x[1]+_[1],"color[2]Label":x[2]+_[2],"color[3]Label":x[3]+_[3]}})]}}}},48928:function(ee,D,e){ee.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(ee,D,e){var M=e(33428),k=e(3400),a=k.strTranslate,T=e(9616),b=e(47797),g=e(9188),s=e(2264).STYLE;ee.exports=function(t,i,r,n){var o=i.xaxis,l=i.yaxis,u=!t._context._exportedPlot&&g();k.makeTraceGroups(n,r,"im").each(function(d){var c=M.select(this),m=d[0],f=m.trace,p=(f.zsmooth==="fast"||f.zsmooth===!1&&u)&&!f._hasZ&&f._hasSource&&o.type==="linear"&&l.type==="linear";f._realImage=p;var v,y,x,_,h,S,w=m.z,E=m.x0,C=m.y0,P=m.w,O=m.h,R=f.dx,U=f.dy;for(S=0;v===void 0&&S<P;)v=o.c2p(E+S*R),S++;for(S=P;y===void 0&&S>0;)y=o.c2p(E+S*R),S--;for(S=0;_===void 0&&S<O;)_=l.c2p(C+S*U),S++;for(S=O;h===void 0&&S>0;)h=l.c2p(C+S*U),S--;y<v&&(x=y,y=v,v=x),h<_&&(x=_,_=h,h=x),p||(v=Math.max(-.5*o._length,v),y=Math.min(1.5*o._length,y),_=Math.max(-.5*l._length,_),h=Math.min(1.5*l._length,h));var z=Math.round(y-v),N=Math.round(h-_);if(z<=0||N<=0)c.selectAll("image").data([]).exit().remove();else{var W=c.selectAll("image").data([d]);W.enter().append("svg:image").attr({xmlns:T.svg,preserveAspectRatio:"none"}),W.exit().remove();var F=f.zsmooth===!1?s:"";if(p){var V=k.simpleMap(o.range,o.r2l),j=k.simpleMap(l.range,l.r2l),te=V[1]<V[0],J=j[1]>j[0];if(te||J){var K=v+z/2,Z=_+N/2;F+="transform:"+a(K+"px",Z+"px")+"scale("+(te?-1:1)+","+(J?-1:1)+")"+a(-K+"px",-Z+"px")+";"}}W.attr("style",F);var X=new Promise(function(re){if(f._hasZ)re();else if(f._hasSource)if(f._canvas&&f._canvas.el.width===P&&f._canvas.el.height===O&&f._canvas.source===f.source)re();else{var ae=document.createElement("canvas");ae.width=P,ae.height=O;var ie=ae.getContext("2d",{willReadFrequently:!0});f._image=f._image||new Image;var le=f._image;le.onload=function(){ie.drawImage(le,0,0),f._canvas={el:ae,source:f.source},re()},le.setAttribute("src",f.source)}}).then(function(){var re,ae;if(f._hasZ)ae=Q(function(le,pe){var de=w[pe][le];return k.isTypedArray(de)&&(de=Array.from(de)),de}),re=ae.toDataURL("image/png");else if(f._hasSource)if(p)re=f.source;else{var ie=f._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,P,O).data;ae=Q(function(le,pe){var de=4*(pe*P+le);return[ie[de],ie[de+1],ie[de+2],ie[de+3]]}),re=ae.toDataURL("image/png")}W.attr({"xlink:href":re,height:N,width:z,x:v,y:_})});t._promises.push(X)}function Q(re){var ae=document.createElement("canvas");ae.width=z,ae.height=N;var ie,le=ae.getContext("2d",{willReadFrequently:!0}),pe=function(he){return k.constrain(Math.round(o.c2p(E+he*R)-v),0,z)},de=function(he){return k.constrain(Math.round(l.c2p(C+he*U)-_),0,N)},ve=b.colormodel[f.colormodel],be=ve.colormodel||f.colormodel,me=ve.fmt;for(S=0;S<m.w;S++){var ge=pe(S),ke=pe(S+1);if(ke!==ge&&!isNaN(ke)&&!isNaN(ge))for(var we=0;we<m.h;we++){var ue=de(we),oe=de(we+1);oe===ue||isNaN(oe)||isNaN(ue)||!re(S,we)||(ie=f._scaler(re(S,we)),le.fillStyle=ie?be+"("+me(ie).join(",")+")":"rgba(0,0,0,0)",le.fillRect(ge,ue,ke-ge,oe-ue))}}return ae}})}},28576:function(ee,D,e){var M=e(33428);ee.exports=function(k){M.select(k).selectAll(".im image").style("opacity",function(a){return a[0].trace.opacity})}},89864:function(ee,D,e){var M=e(92880).extendFlat,k=e(92880).extendDeep,a=e(67824).overrideAll,T=e(25376),b=e(22548),g=e(86968).u,s=e(94724),t=e(31780).templatedArray,i=e(48164),r=e(29736).descriptionOnlyNumbers,n=T({editType:"plot",colorEditType:"plot"}),o={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:b.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},l={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",k({},o,{range:l}));ee.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:g({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:M({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:r("value")},font:M({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:r("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:M({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:k({},o,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:l,visible:M({},s.visible,{dflt:!0}),tickmode:s.minor.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:M({},s.ticks,{dflt:"outside"}),ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,tickfont:T({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:M({},o.line.color,{}),width:M({},o.line.width,{dflt:1}),editType:"plot"},thickness:M({},o.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(ee,D,e){var M=e(7316);D.name="indicator",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},79136:function(ee){ee.exports={calc:function(D,e){var M=[],k=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var a=e._lastValue,T=a;return e._hasDelta&&typeof e.delta.reference=="number"&&(T=e.delta.reference),M[0]={y:k,lastY:a,delta:k-T,relativeDelta:(k-T)/T},M}}},12096:function(ee){ee.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(ee,D,e){var M=e(3400),k=e(89864),a=e(86968).Q,T=e(31780),b=e(51272),g=e(12096),s=e(26332),t=e(25404),i=e(95936),r=e(42568);function n(o,l){function u(d,c){return M.coerce(o,l,k.gauge.steps,d,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}ee.exports={supplyDefaults:function(o,l,u,d){function c(C,P){return M.coerce(o,l,k,C,P)}a(l,d,c),c("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var m=c("value");l._range=[0,typeof m=="number"?1.5*m:1];var f,p,v,y,x,_,h=new Array(2);function S(C,P){return M.coerce(v,y,k.gauge,C,P)}function w(C,P){return M.coerce(x,_,k.gauge.axis,C,P)}if(l._hasNumber&&(c("number.valueformat"),c("number.font.color",d.font.color),c("number.font.family",d.font.family),c("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=g.defaultNumberFontSize,h[0]=!0),c("number.prefix"),c("number.suffix"),f=l.number.font.size),l._hasDelta&&(c("delta.font.color",d.font.color),c("delta.font.family",d.font.family),c("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(f||g.defaultNumberFontSize),h[1]=!0),c("delta.reference",l.value),c("delta.relative"),c("delta.valueformat",l.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),p=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||h[0])&&(!l._hasDelta||h[1])||!1,c("title.font.color",d.font.color),c("title.font.family",d.font.family),c("title.font.size",.25*(f||p||g.defaultNumberFontSize)),c("title.text"),l._hasGauge){(v=o.gauge)||(v={}),y=T.newContainer(l,"gauge"),S("shape"),(l._isBullet=l.gauge.shape==="bullet")||c("title.align","center"),(l._isAngular=l.gauge.shape==="angular")||c("align","center"),S("bgcolor",d.paper_bgcolor),S("borderwidth"),S("bordercolor"),S("bar.color"),S("bar.line.color"),S("bar.line.width"),S("bar.thickness",g.valueThickness*(l.gauge.shape==="bullet"?.5:1)),b(v,y,{name:"steps",handleItemDefaults:n}),S("threshold.value"),S("threshold.thickness"),S("threshold.line.width"),S("threshold.line.color"),x={},v&&(x=v.axis||{}),_=T.newContainer(y,"axis"),w("visible"),l._range=w("range",l._range);var E={noAutotickangles:!0,outerTicks:!0};s(x,_,w,"linear"),r(x,_,w,"linear",E),i(x,_,w,"linear",E),t(x,_,w,E)}else c("title.align","center"),c("align","center"),l._isAngular=l._isBullet=!1;l._length=null}}},43480:function(ee,D,e){ee.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(ee,D,e){var M=e(33428),k=e(67756).qy,a=e(67756).Gz,T=e(3400),b=T.strScale,g=T.strTranslate,s=T.rad2deg,t=e(84284).MID_SHIFT,i=e(43616),r=e(12096),n=e(72736),o=e(54460),l=e(28336),u=e(37668),d=e(94724),c=e(76308),m={left:"start",center:"middle",right:"end"},f={left:0,center:.5,right:1},p=/[yzafpnmkMGTPEZY]/;function v(w){return w&&w.duration>0}function y(w){w.each(function(E){c.stroke(M.select(this),E.line.color)}).each(function(E){c.fill(M.select(this),E.color)}).style("stroke-width",function(E){return E.line.width})}function x(w,E,C){var P=w._fullLayout,O=T.extendFlat({type:"linear",ticks:"outside",range:C,showline:!0},E),R={type:"linear",_id:"x"+E._id},U={letter:"x",font:P.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function z(N,W){return T.coerce(O,R,d,N,W)}return l(O,R,z,U,P),u(O,R,z,U),R}function _(w,E,C){return[Math.min(E/w.width,C/w.height),w,E+"x"+C]}function h(w,E,C,P){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),R=M.select(O);return R.text(w).attr("x",0).attr("y",0).attr("text-anchor",C).attr("data-unformatted",w).call(n.convertToTspans,P).call(i.font,E),i.bBox(R.node())}function S(w,E,C,P,O,R){var U="_cache"+E;w[U]&&w[U].key===O||(w[U]={key:O,value:C});var z=T.aggNums(R,null,[w[U].value,P],2);return w[U].value=z,z}ee.exports=function(w,E,C,P){var O,R=w._fullLayout;v(C)&&P&&(O=P()),T.makeTraceGroups(R._indicatorlayer,E,"trace").each(function(U){var z,N,W,F,V,j=U[0].trace,te=M.select(this),J=j._hasGauge,K=j._isAngular,Z=j._isBullet,X=j.domain,Q={w:R._size.w*(X.x[1]-X.x[0]),h:R._size.h*(X.y[1]-X.y[0]),l:R._size.l+R._size.w*X.x[0],r:R._size.r+R._size.w*(1-X.x[1]),t:R._size.t+R._size.h*(1-X.y[1]),b:R._size.b+R._size.h*X.y[0]},re=Q.l+Q.w/2,ae=Q.t+Q.h/2,ie=Math.min(Q.w/2,Q.h),le=r.innerRadius*ie,pe=j.align||"center";if(N=ae,J){if(K&&(z=re,N=ae+ie/2,W=function(ue){return function(oe,he){return[he/Math.sqrt(oe.width/2*(oe.width/2)+oe.height*oe.height),oe,he]}(ue,.9*le)}),Z){var de=r.bulletPadding,ve=1-r.bulletNumberDomainSize+de;z=Q.l+(ve+(1-ve)*f[pe])*Q.w,W=function(ue){return _(ue,(r.bulletNumberDomainSize-de)*Q.w,Q.h)}}}else z=Q.l+f[pe]*Q.w,W=function(ue){return _(ue,Q.w,Q.h)};(function(ue,oe,he,Ee){var Te,Me,Se,ze=he[0].trace,fe=Ee.numbersX,xe=Ee.numbersY,_e=ze.align||"center",Oe=m[_e],De=Ee.transitionOpts,Pe=Ee.onComplete,Ue=T.ensureSingle(oe,"g","numbers"),Ve=[];ze._hasNumber&&Ve.push("number"),ze._hasDelta&&(Ve.push("delta"),ze.delta.position==="left"&&Ve.reverse());var Xe=Ue.selectAll("text").data(Ve);function it(Pt,Ot,Lt,He){if(!Pt.match("s")||Lt>=0==He>=0||Ot(Lt).slice(-1).match(p)||Ot(He).slice(-1).match(p))return Ot;var We=Pt.slice().replace("s","f").replace(/\d+/,function(Ge){return parseInt(Ge)-1}),Be=x(ue,{tickformat:We});return function(Ge){return Math.abs(Ge)<1?o.tickText(Be,Ge).text:Ot(Ge)}}Xe.enter().append("text"),Xe.attr("text-anchor",function(){return Oe}).attr("class",function(Pt){return Pt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Xe.exit().remove();var tt,pt=ze.mode+ze.align;if(ze._hasDelta&&(tt=function(){var Pt=x(ue,{tickformat:ze.delta.valueformat},ze._range);Pt.setScale(),o.prepTicks(Pt);var Ot=function(Re){return o.tickText(Pt,Re).text},Lt=ze.delta.suffix,He=ze.delta.prefix,We=function(Re){return ze.delta.relative?Re.relativeDelta:Re.delta},Be=function(Re,Fe){return Re===0||typeof Re!="number"||isNaN(Re)?"-":(Re>0?ze.delta.increasing.symbol:ze.delta.decreasing.symbol)+He+Fe(Re)+Lt},Ge=function(Re){return Re.delta>=0?ze.delta.increasing.color:ze.delta.decreasing.color};ze._deltaLastValue===void 0&&(ze._deltaLastValue=We(he[0]));var at=Ue.select("text.delta");function nt(){at.text(Be(We(he[0]),Ot)).call(c.fill,Ge(he[0])).call(n.convertToTspans,ue)}return at.call(i.font,ze.delta.font).call(c.fill,Ge({delta:ze._deltaLastValue})),v(De)?at.transition().duration(De.duration).ease(De.easing).tween("text",function(){var Re=M.select(this),Fe=We(he[0]),rt=ze._deltaLastValue,Ye=it(ze.delta.valueformat,Ot,rt,Fe),ct=a(rt,Fe);return ze._deltaLastValue=Fe,function(ht){Re.text(Be(ct(ht),Ye)),Re.call(c.fill,Ge({delta:ct(ht)}))}}).each("end",function(){nt(),Pe&&Pe()}).each("interrupt",function(){nt(),Pe&&Pe()}):nt(),Me=h(Be(We(he[0]),Ot),ze.delta.font,Oe,ue),at}(),pt+=ze.delta.position+ze.delta.font.size+ze.delta.font.family+ze.delta.valueformat,pt+=ze.delta.increasing.symbol+ze.delta.decreasing.symbol,Se=Me),ze._hasNumber&&(function(){var Pt=x(ue,{tickformat:ze.number.valueformat},ze._range);Pt.setScale(),o.prepTicks(Pt);var Ot=function(Ge){return o.tickText(Pt,Ge).text},Lt=ze.number.suffix,He=ze.number.prefix,We=Ue.select("text.number");function Be(){var Ge=typeof he[0].y=="number"?He+Ot(he[0].y)+Lt:"-";We.text(Ge).call(i.font,ze.number.font).call(n.convertToTspans,ue)}v(De)?We.transition().duration(De.duration).ease(De.easing).each("end",function(){Be(),Pe&&Pe()}).each("interrupt",function(){Be(),Pe&&Pe()}).attrTween("text",function(){var Ge=M.select(this),at=a(he[0].lastY,he[0].y);ze._lastValue=he[0].y;var nt=it(ze.number.valueformat,Ot,he[0].lastY,he[0].y);return function(Re){Ge.text(He+nt(at(Re))+Lt)}}):Be(),Te=h(He+Ot(he[0].y)+Lt,ze.number.font,Oe,ue)}(),pt+=ze.number.font.size+ze.number.font.family+ze.number.valueformat+ze.number.suffix+ze.number.prefix,Se=Te),ze._hasDelta&&ze._hasNumber){var mt,gt,et=[(Te.left+Te.right)/2,(Te.top+Te.bottom)/2],$e=[(Me.left+Me.right)/2,(Me.top+Me.bottom)/2],_t=.75*ze.delta.font.size;ze.delta.position==="left"&&(mt=S(ze,"deltaPos",0,-1*(Te.width*f[ze.align]+Me.width*(1-f[ze.align])+_t),pt,Math.min),gt=et[1]-$e[1],Se={width:Te.width+Me.width+_t,height:Math.max(Te.height,Me.height),left:Me.left+mt,right:Te.right,top:Math.min(Te.top,Me.top+gt),bottom:Math.max(Te.bottom,Me.bottom+gt)}),ze.delta.position==="right"&&(mt=S(ze,"deltaPos",0,Te.width*(1-f[ze.align])+Me.width*f[ze.align]+_t,pt,Math.max),gt=et[1]-$e[1],Se={width:Te.width+Me.width+_t,height:Math.max(Te.height,Me.height),left:Te.left,right:Me.right+mt,top:Math.min(Te.top,Me.top+gt),bottom:Math.max(Te.bottom,Me.bottom+gt)}),ze.delta.position==="bottom"&&(mt=null,gt=Me.height,Se={width:Math.max(Te.width,Me.width),height:Te.height+Me.height,left:Math.min(Te.left,Me.left),right:Math.max(Te.right,Me.right),top:Te.bottom-Te.height,bottom:Te.bottom+Me.height}),ze.delta.position==="top"&&(mt=null,gt=Te.top,Se={width:Math.max(Te.width,Me.width),height:Te.height+Me.height,left:Math.min(Te.left,Me.left),right:Math.max(Te.right,Me.right),top:Te.bottom-Te.height-Me.height,bottom:Te.bottom}),tt.attr({dx:mt,dy:gt})}(ze._hasNumber||ze._hasDelta)&&Ue.attr("transform",function(){var Pt=Ee.numbersScaler(Se);pt+=Pt[2];var Ot,Lt=S(ze,"numbersScale",1,Pt[0],pt,Math.min);ze._scaleNumbers||(Lt=1),Ot=ze._isAngular?xe-Lt*Se.bottom:xe-Lt*(Se.top+Se.bottom)/2,ze._numbersTop=Lt*Se.top+Ot;var He=Se[_e];_e==="center"&&(He=(Se.left+Se.right)/2);var We=fe-Lt*He;return We=S(ze,"numbersTranslate",0,We,pt,Math.max),g(We,Ot)+b(Lt)})})(w,te,U,{numbersX:z,numbersY:N,numbersScaler:W,transitionOpts:C,onComplete:O}),J&&(F={range:j.gauge.axis.range,color:j.gauge.bgcolor,line:{color:j.gauge.bordercolor,width:0},thickness:1},V={range:j.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:j.gauge.bordercolor,width:j.gauge.borderwidth},thickness:1});var be=te.selectAll("g.angular").data(K?U:[]);be.exit().remove();var me=te.selectAll("g.angularaxis").data(K?U:[]);me.exit().remove(),K&&function(ue,oe,he,Ee){var Te,Me,Se,ze,fe=he[0].trace,xe=Ee.size,_e=Ee.radius,Oe=Ee.innerRadius,De=Ee.gaugeBg,Pe=Ee.gaugeOutline,Ue=[xe.l+xe.w/2,xe.t+xe.h/2+_e/2],Ve=Ee.gauge,Xe=Ee.layer,it=Ee.transitionOpts,tt=Ee.onComplete,pt=Math.PI/2;function mt(ht){var dt=fe.gauge.axis.range[0],ut=(ht-dt)/(fe.gauge.axis.range[1]-dt)*Math.PI-pt;return ut<-pt?-pt:ut>pt?pt:ut}function gt(ht){return M.svg.arc().innerRadius((Oe+_e)/2-ht/2*(_e-Oe)).outerRadius((Oe+_e)/2+ht/2*(_e-Oe)).startAngle(-pt)}function et(ht){ht.attr("d",function(dt){return gt(dt.thickness).startAngle(mt(dt.range[0])).endAngle(mt(dt.range[1]))()})}Ve.enter().append("g").classed("angular",!0),Ve.attr("transform",g(Ue[0],Ue[1])),Xe.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Xe.selectAll("g.xangularaxistick,path,text").remove(),(Te=x(ue,fe.gauge.axis)).type="linear",Te.range=fe.gauge.axis.range,Te._id="xangularaxis",Te.ticklabeloverflow="allow",Te.setScale();var $e=function(ht){return(Te.range[0]-ht.x)/(Te.range[1]-Te.range[0])*Math.PI+Math.PI},_t={},Pt=o.makeLabelFns(Te,0).labelStandoff;_t.xFn=function(ht){var dt=$e(ht);return Math.cos(dt)*Pt},_t.yFn=function(ht){var dt=$e(ht),ut=Math.sin(dt)>0?.2:1;return-Math.sin(dt)*(Pt+ht.fontSize*ut)+Math.abs(Math.cos(dt))*(ht.fontSize*t)},_t.anchorFn=function(ht){var dt=$e(ht),ut=Math.cos(dt);return Math.abs(ut)<.1?"middle":ut>0?"start":"end"},_t.heightFn=function(ht,dt,ut){var kt=$e(ht);return-.5*(1+Math.sin(kt))*ut};var Ot=function(ht){return g(Ue[0]+_e*Math.cos(ht),Ue[1]-_e*Math.sin(ht))};if(Se=function(ht){return Ot($e(ht))},Me=o.calcTicks(Te),ze=o.getTickSigns(Te)[2],Te.visible){ze=Te.ticks==="inside"?-1:1;var Lt=(Te.linewidth||1)/2;o.drawTicks(ue,Te,{vals:Me,layer:Xe,path:"M"+ze*Lt+",0h"+ze*Te.ticklen,transFn:function(ht){var dt=$e(ht);return Ot(dt)+"rotate("+-s(dt)+")"}}),o.drawLabels(ue,Te,{vals:Me,layer:Xe,transFn:Se,labelFns:_t})}var He=[De].concat(fe.gauge.steps),We=Ve.selectAll("g.bg-arc").data(He);We.enter().append("g").classed("bg-arc",!0).append("path"),We.select("path").call(et).call(y),We.exit().remove();var Be=gt(fe.gauge.bar.thickness),Ge=Ve.selectAll("g.value-arc").data([fe.gauge.bar]);Ge.enter().append("g").classed("value-arc",!0).append("path");var at,nt,Re,Fe=Ge.select("path");v(it)?(Fe.transition().duration(it.duration).ease(it.easing).each("end",function(){tt&&tt()}).each("interrupt",function(){tt&&tt()}).attrTween("d",(at=Be,nt=mt(he[0].lastY),Re=mt(he[0].y),function(){var ht=k(nt,Re);return function(dt){return at.endAngle(ht(dt))()}})),fe._lastValue=he[0].y):Fe.attr("d",typeof he[0].y=="number"?Be.endAngle(mt(he[0].y)):"M0,0Z"),Fe.call(y),Ge.exit().remove(),He=[];var rt=fe.gauge.threshold.value;(rt||rt===0)&&He.push({range:[rt,rt],color:fe.gauge.threshold.color,line:{color:fe.gauge.threshold.line.color,width:fe.gauge.threshold.line.width},thickness:fe.gauge.threshold.thickness});var Ye=Ve.selectAll("g.threshold-arc").data(He);Ye.enter().append("g").classed("threshold-arc",!0).append("path"),Ye.select("path").call(et).call(y),Ye.exit().remove();var ct=Ve.selectAll("g.gauge-outline").data([Pe]);ct.enter().append("g").classed("gauge-outline",!0).append("path"),ct.select("path").call(et).call(y),ct.exit().remove()}(w,0,U,{radius:ie,innerRadius:le,gauge:be,layer:me,size:Q,gaugeBg:F,gaugeOutline:V,transitionOpts:C,onComplete:O});var ge=te.selectAll("g.bullet").data(Z?U:[]);ge.exit().remove();var ke=te.selectAll("g.bulletaxis").data(Z?U:[]);ke.exit().remove(),Z&&function(ue,oe,he,Ee){var Te,Me,Se,ze,fe,xe=he[0].trace,_e=Ee.gauge,Oe=Ee.layer,De=Ee.gaugeBg,Pe=Ee.gaugeOutline,Ue=Ee.size,Ve=xe.domain,Xe=Ee.transitionOpts,it=Ee.onComplete;_e.enter().append("g").classed("bullet",!0),_e.attr("transform",g(Ue.l,Ue.t)),Oe.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Oe.selectAll("g.xbulletaxistick,path,text").remove();var tt=Ue.h,pt=xe.gauge.bar.thickness*tt,mt=Ve.x[0],gt=Ve.x[0]+(Ve.x[1]-Ve.x[0])*(xe._hasNumber||xe._hasDelta?1-r.bulletNumberDomainSize:1);function et(We){We.attr("width",function(Be){return Math.max(0,Te.c2p(Be.range[1])-Te.c2p(Be.range[0]))}).attr("x",function(Be){return Te.c2p(Be.range[0])}).attr("y",function(Be){return .5*(1-Be.thickness)*tt}).attr("height",function(Be){return Be.thickness*tt})}(Te=x(ue,xe.gauge.axis))._id="xbulletaxis",Te.domain=[mt,gt],Te.setScale(),Me=o.calcTicks(Te),Se=o.makeTransTickFn(Te),ze=o.getTickSigns(Te)[2],fe=Ue.t+Ue.h,Te.visible&&(o.drawTicks(ue,Te,{vals:Te.ticks==="inside"?o.clipEnds(Te,Me):Me,layer:Oe,path:o.makeTickPath(Te,fe,ze),transFn:Se}),o.drawLabels(ue,Te,{vals:Me,layer:Oe,transFn:Se,labelFns:o.makeLabelFns(Te,fe)}));var $e=[De].concat(xe.gauge.steps),_t=_e.selectAll("g.bg-bullet").data($e);_t.enter().append("g").classed("bg-bullet",!0).append("rect"),_t.select("rect").call(et).call(y),_t.exit().remove();var Pt=_e.selectAll("g.value-bullet").data([xe.gauge.bar]);Pt.enter().append("g").classed("value-bullet",!0).append("rect"),Pt.select("rect").attr("height",pt).attr("y",(tt-pt)/2).call(y),v(Xe)?Pt.select("rect").transition().duration(Xe.duration).ease(Xe.easing).each("end",function(){it&&it()}).each("interrupt",function(){it&&it()}).attr("width",Math.max(0,Te.c2p(Math.min(xe.gauge.axis.range[1],he[0].y)))):Pt.select("rect").attr("width",typeof he[0].y=="number"?Math.max(0,Te.c2p(Math.min(xe.gauge.axis.range[1],he[0].y))):0),Pt.exit().remove();var Ot=he.filter(function(){return xe.gauge.threshold.value||xe.gauge.threshold.value===0}),Lt=_e.selectAll("g.threshold-bullet").data(Ot);Lt.enter().append("g").classed("threshold-bullet",!0).append("line"),Lt.select("line").attr("x1",Te.c2p(xe.gauge.threshold.value)).attr("x2",Te.c2p(xe.gauge.threshold.value)).attr("y1",(1-xe.gauge.threshold.thickness)/2*tt).attr("y2",(1-(1-xe.gauge.threshold.thickness)/2)*tt).call(c.stroke,xe.gauge.threshold.line.color).style("stroke-width",xe.gauge.threshold.line.width),Lt.exit().remove();var He=_e.selectAll("g.gauge-outline").data([Pe]);He.enter().append("g").classed("gauge-outline",!0).append("rect"),He.select("rect").call(et).call(y),He.exit().remove()}(w,0,U,{gauge:ge,layer:ke,size:Q,gaugeBg:F,gaugeOutline:V,transitionOpts:C,onComplete:O});var we=te.selectAll("text.title").data(U);we.exit().remove(),we.enter().append("text").classed("title",!0),we.attr("text-anchor",function(){return Z?m.right:m[j.title.align]}).text(j.title.text).call(i.font,j.title.font).call(n.convertToTspans,w),we.attr("transform",function(){var ue,oe=Q.l+Q.w*f[j.title.align],he=r.titlePadding,Ee=i.bBox(we.node());return J?(K&&(ue=j.gauge.axis.visible?i.bBox(me.node()).top-he-Ee.bottom:Q.t+Q.h/2-ie/2-Ee.bottom-he),Z&&(ue=N-(Ee.top+Ee.bottom)/2,oe=Q.l-r.bulletPadding*Q.w)):ue=j._numbersTop-he-Ee.bottom,g(oe,ue)})})}},50048:function(ee,D,e){var M=e(49084),k=e(29736).axisHoverFormat,a=e(21776).Ks,T=e(52948),b=e(45464),g=e(92880).extendFlat,s=e(67824).overrideAll,t=ee.exports=s(g({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),valuehoverformat:k("value",1),showlegend:g({},b.showlegend,{dflt:!1})},M("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:T.opacity,lightposition:T.lightposition,lighting:T.lighting,flatshading:T.flatshading,contour:T.contour,hoverinfo:g({},b.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},62624:function(ee,D,e){var M=e(47128),k=e(3832).processGrid,a=e(3832).filter;ee.exports=function(T,b){b._len=Math.min(b.x.length,b.y.length,b.z.length,b.value.length),b._x=a(b.x,b._len),b._y=a(b.y,b._len),b._z=a(b.z,b._len),b._value=a(b.value,b._len);var g=k(b);b._gridFill=g.fill,b._Xs=g.Xs,b._Ys=g.Ys,b._Zs=g.Zs,b._len=g.len;for(var s=1/0,t=-1/0,i=0;i<b._len;i++){var r=b._value[i];s=Math.min(s,r),t=Math.max(t,r)}b._minValues=s,b._maxValues=t,b._vMin=b.isomin===void 0||b.isomin===null?s:b.isomin,b._vMax=b.isomax===void 0||b.isomin===null?t:b.isomax,M(T,b,{vals:[b._vMin,b._vMax],containerStr:"",cLetter:"c"})}},31460:function(ee,D,e){var M=e(67792).gl_mesh3d,k=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,T=e(43080),b=e(8932).extractOpts,g=e(52094),s=function(o,l){for(var u=l.length-1;u>0;u--){var d=Math.min(l[u],l[u-1]),c=Math.max(l[u],l[u-1]);if(c>d&&d<o&&o<=c)return{id:u,distRatio:(c-o)/(c-d)}}return{id:0,distRatio:0}};function t(o,l,u){this.scene=o,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(o){if(o.object===this.mesh){var l=o.data.index,u=this.data._meshX[l],d=this.data._meshY[l],c=this.data._meshZ[l],m=this.data._Ys.length,f=this.data._Zs.length,p=s(u,this.data._Xs).id,v=s(d,this.data._Ys).id,y=s(c,this.data._Zs).id,x=o.index=y+f*v+f*m*p;o.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var _=this.data.hovertext||this.data.text;return a(_)&&_[x]!==void 0?o.textLabel=_[x]:_&&(o.textLabel=_),!0}},i.update=function(o){var l=this.scene,u=l.fullSceneLayout;function d(f,p,v,y){return p.map(function(x){return f.d2l(x,0,y)*v})}this.data=n(o);var c={positions:g(d(u.xaxis,o._meshX,l.dataScale[0],o.xcalendar),d(u.yaxis,o._meshY,l.dataScale[1],o.ycalendar),d(u.zaxis,o._meshZ,l.dataScale[2],o.zcalendar)),cells:g(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:T(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},m=b(o);c.vertexIntensity=o._meshIntensity,c.vertexIntensityBounds=[m.min,m.max],c.colormap=k(o),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(o){o._meshI=[],o._meshJ=[],o._meshK=[];var l,u,d,c,m,f,p,v=o.surface.show,y=o.spaceframe.show,x=o.surface.fill,_=o.spaceframe.fill,h=!1,S=!1,w=0,E=o._Xs,C=o._Ys,P=o._Zs,O=E.length,R=C.length,U=P.length,z=r.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),N=function(Oe,De,Pe){switch(z){case 5:return Pe+U*De+U*R*Oe;case 4:return Pe+U*Oe+U*O*De;case 3:return De+R*Pe+R*U*Oe;case 2:return De+R*Oe+R*O*Pe;case 1:return Oe+O*Pe+O*U*De;default:return Oe+O*De+O*R*Pe}},W=o._minValues,F=o._maxValues,V=o._vMin,j=o._vMax;function te(Oe,De,Pe){for(var Ue=f.length,Ve=u;Ve<Ue;Ve++)if(Oe===d[Ve]&&De===c[Ve]&&Pe===m[Ve])return Ve;return-1}function J(){u=l}function K(){d=[],c=[],m=[],f=[],l=0,J()}function Z(Oe,De,Pe,Ue){return d.push(Oe),c.push(De),m.push(Pe),f.push(Ue),++l-1}function X(Oe,De,Pe){for(var Ue=[],Ve=0;Ve<Oe.length;Ve++)Ue[Ve]=Oe[Ve]*(1-Pe)+Pe*De[Ve];return Ue}function Q(Oe){p=Oe}function re(Oe,De){return Oe==="all"||Oe===null||Oe.indexOf(De)>-1}function ae(Oe,De){return Oe===null?De:Oe}function ie(Oe,De,Pe){J();var Ue,Ve,Xe,it=[De],tt=[Pe];if(p>=1)it=[De],tt=[Pe];else if(p>0){var pt=function(He,We){var Be=He[0],Ge=He[1],at=He[2],nt=function(ut,kt,xt){for(var vt=[],Mt=0;Mt<ut.length;Mt++)vt[Mt]=(ut[Mt]+kt[Mt]+xt[Mt])/3;return vt}(Be,Ge,at),Re=Math.sqrt(1-p),Fe=X(nt,Be,Re),rt=X(nt,Ge,Re),Ye=X(nt,at,Re),ct=We[0],ht=We[1],dt=We[2];return{xyzv:[[Be,Ge,rt],[rt,Fe,Be],[Ge,at,Ye],[Ye,rt,Ge],[at,Be,Fe],[Fe,Ye,at]],abc:[[ct,ht,-1],[-1,-1,ct],[ht,dt,-1],[-1,-1,ht],[dt,ct,-1],[-1,-1,dt]]}}(De,Pe);it=pt.xyzv,tt=pt.abc}for(var mt=0;mt<it.length;mt++){De=it[mt],Pe=tt[mt];for(var gt=[],et=0;et<3;et++){var $e=De[et][0],_t=De[et][1],Pt=De[et][2],Ot=De[et][3],Lt=Pe[et]>-1?Pe[et]:te($e,_t,Pt);gt[et]=Lt>-1?Lt:Z($e,_t,Pt,ae(Oe,Ot))}Ue=gt[0],Ve=gt[1],Xe=gt[2],o._meshI.push(Ue),o._meshJ.push(Ve),o._meshK.push(Xe),++w}}function le(Oe,De,Pe,Ue){var Ve=Oe[3];Ve<Pe&&(Ve=Pe),Ve>Ue&&(Ve=Ue);for(var Xe=(Oe[3]-Ve)/(Oe[3]-De[3]+1e-9),it=[],tt=0;tt<4;tt++)it[tt]=(1-Xe)*Oe[tt]+Xe*De[tt];return it}function pe(Oe,De,Pe){return Oe>=De&&Oe<=Pe}function de(Oe){var De=.001*(j-V);return Oe>=V-De&&Oe<=j+De}function ve(Oe){for(var De=[],Pe=0;Pe<4;Pe++){var Ue=Oe[Pe];De.push([o._x[Ue],o._y[Ue],o._z[Ue],o._value[Ue]])}return De}var be=3;function me(Oe,De,Pe,Ue,Ve,Xe){Xe||(Xe=1),Pe=[-1,-1,-1];var it=!1,tt=[pe(De[0][3],Ue,Ve),pe(De[1][3],Ue,Ve),pe(De[2][3],Ue,Ve)];if(!tt[0]&&!tt[1]&&!tt[2])return!1;var pt=function(gt,et,$e){return de(et[0][3])&&de(et[1][3])&&de(et[2][3])?(ie(gt,et,$e),!0):Xe<be&&me(gt,et,$e,V,j,++Xe)};if(tt[0]&&tt[1]&&tt[2])return pt(Oe,De,Pe)||it;var mt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(gt){if(tt[gt[0]]&&tt[gt[1]]&&!tt[gt[2]]){var et=De[gt[0]],$e=De[gt[1]],_t=De[gt[2]],Pt=le(_t,et,Ue,Ve),Ot=le(_t,$e,Ue,Ve);it=pt(Oe,[Ot,Pt,et],[-1,-1,Pe[gt[0]]])||it,it=pt(Oe,[et,$e,Ot],[Pe[gt[0]],Pe[gt[1]],-1])||it,mt=!0}}),mt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(gt){if(tt[gt[0]]&&!tt[gt[1]]&&!tt[gt[2]]){var et=De[gt[0]],$e=De[gt[1]],_t=De[gt[2]],Pt=le($e,et,Ue,Ve),Ot=le(_t,et,Ue,Ve);it=pt(Oe,[Ot,Pt,et],[-1,-1,Pe[gt[0]]])||it,mt=!0}}),it}function ge(Oe,De,Pe,Ue){var Ve=!1,Xe=ve(De),it=[pe(Xe[0][3],Pe,Ue),pe(Xe[1][3],Pe,Ue),pe(Xe[2][3],Pe,Ue),pe(Xe[3][3],Pe,Ue)];if(!(it[0]||it[1]||it[2]||it[3]))return Ve;if(it[0]&&it[1]&&it[2]&&it[3])return S&&(Ve=function(pt,mt,gt){var et=function($e,_t,Pt){ie(pt,[mt[$e],mt[_t],mt[Pt]],[gt[$e],gt[_t],gt[Pt]])};et(0,1,2),et(3,0,1),et(2,3,0),et(1,2,3)}(Oe,Xe,De)||Ve),Ve;var tt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(pt){if(it[pt[0]]&&it[pt[1]]&&it[pt[2]]&&!it[pt[3]]){var mt=Xe[pt[0]],gt=Xe[pt[1]],et=Xe[pt[2]],$e=Xe[pt[3]];if(S)Ve=ie(Oe,[mt,gt,et],[De[pt[0]],De[pt[1]],De[pt[2]]])||Ve;else{var _t=le($e,mt,Pe,Ue),Pt=le($e,gt,Pe,Ue),Ot=le($e,et,Pe,Ue);Ve=ie(null,[_t,Pt,Ot],[-1,-1,-1])||Ve}tt=!0}}),tt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(pt){if(it[pt[0]]&&it[pt[1]]&&!it[pt[2]]&&!it[pt[3]]){var mt=Xe[pt[0]],gt=Xe[pt[1]],et=Xe[pt[2]],$e=Xe[pt[3]],_t=le(et,mt,Pe,Ue),Pt=le(et,gt,Pe,Ue),Ot=le($e,gt,Pe,Ue),Lt=le($e,mt,Pe,Ue);S?(Ve=ie(Oe,[mt,Lt,_t],[De[pt[0]],-1,-1])||Ve,Ve=ie(Oe,[gt,Pt,Ot],[De[pt[1]],-1,-1])||Ve):Ve=function(He,We,Be){var Ge=function(at,nt,Re){ie(null,[We[at],We[nt],We[Re]],[Be[at],Be[nt],Be[Re]])};Ge(0,1,2),Ge(2,3,0)}(0,[_t,Pt,Ot,Lt],[-1,-1,-1,-1])||Ve,tt=!0}}),tt||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(pt){if(it[pt[0]]&&!it[pt[1]]&&!it[pt[2]]&&!it[pt[3]]){var mt=Xe[pt[0]],gt=Xe[pt[1]],et=Xe[pt[2]],$e=Xe[pt[3]],_t=le(gt,mt,Pe,Ue),Pt=le(et,mt,Pe,Ue),Ot=le($e,mt,Pe,Ue);S?(Ve=ie(Oe,[mt,_t,Pt],[De[pt[0]],-1,-1])||Ve,Ve=ie(Oe,[mt,Pt,Ot],[De[pt[0]],-1,-1])||Ve,Ve=ie(Oe,[mt,Ot,_t],[De[pt[0]],-1,-1])||Ve):Ve=ie(null,[_t,Pt,Ot],[-1,-1,-1])||Ve,tt=!0}})),Ve}function ke(Oe,De,Pe,Ue,Ve,Xe,it,tt,pt,mt,gt){var et=!1;return h&&(re(Oe,"A")&&(et=ge(null,[De,Pe,Ue,Xe],mt,gt)||et),re(Oe,"B")&&(et=ge(null,[Pe,Ue,Ve,pt],mt,gt)||et),re(Oe,"C")&&(et=ge(null,[Pe,Xe,it,pt],mt,gt)||et),re(Oe,"D")&&(et=ge(null,[Ue,Xe,tt,pt],mt,gt)||et),re(Oe,"E")&&(et=ge(null,[Pe,Ue,Xe,pt],mt,gt)||et)),S&&(et=ge(Oe,[Pe,Ue,Xe,pt],mt,gt)||et),et}function we(Oe,De,Pe,Ue,Ve,Xe,it,tt){return[tt[0]===!0||me(Oe,ve([De,Pe,Ue]),[De,Pe,Ue],Xe,it),tt[1]===!0||me(Oe,ve([Ue,Ve,De]),[Ue,Ve,De],Xe,it)]}function ue(Oe,De,Pe,Ue,Ve,Xe,it,tt,pt){return tt?we(Oe,De,Pe,Ve,Ue,Xe,it,pt):we(Oe,Pe,Ve,Ue,De,Xe,it,pt)}function oe(Oe,De,Pe,Ue,Ve,Xe,it){var tt,pt,mt,gt,et=!1,$e=function(){et=me(Oe,[tt,pt,mt],[-1,-1,-1],Ve,Xe)||et,et=me(Oe,[mt,gt,tt],[-1,-1,-1],Ve,Xe)||et},_t=it[0],Pt=it[1],Ot=it[2];return _t&&(tt=X(ve([N(De,Pe-0,Ue-0)])[0],ve([N(De-1,Pe-0,Ue-0)])[0],_t),pt=X(ve([N(De,Pe-0,Ue-1)])[0],ve([N(De-1,Pe-0,Ue-1)])[0],_t),mt=X(ve([N(De,Pe-1,Ue-1)])[0],ve([N(De-1,Pe-1,Ue-1)])[0],_t),gt=X(ve([N(De,Pe-1,Ue-0)])[0],ve([N(De-1,Pe-1,Ue-0)])[0],_t),$e()),Pt&&(tt=X(ve([N(De-0,Pe,Ue-0)])[0],ve([N(De-0,Pe-1,Ue-0)])[0],Pt),pt=X(ve([N(De-0,Pe,Ue-1)])[0],ve([N(De-0,Pe-1,Ue-1)])[0],Pt),mt=X(ve([N(De-1,Pe,Ue-1)])[0],ve([N(De-1,Pe-1,Ue-1)])[0],Pt),gt=X(ve([N(De-1,Pe,Ue-0)])[0],ve([N(De-1,Pe-1,Ue-0)])[0],Pt),$e()),Ot&&(tt=X(ve([N(De-0,Pe-0,Ue)])[0],ve([N(De-0,Pe-0,Ue-1)])[0],Ot),pt=X(ve([N(De-0,Pe-1,Ue)])[0],ve([N(De-0,Pe-1,Ue-1)])[0],Ot),mt=X(ve([N(De-1,Pe-1,Ue)])[0],ve([N(De-1,Pe-1,Ue-1)])[0],Ot),gt=X(ve([N(De-1,Pe-0,Ue)])[0],ve([N(De-1,Pe-0,Ue-1)])[0],Ot),$e()),et}function he(Oe,De,Pe,Ue,Ve,Xe,it,tt,pt,mt,gt,et){var $e=Oe;return et?(h&&Oe==="even"&&($e=null),ke($e,De,Pe,Ue,Ve,Xe,it,tt,pt,mt,gt)):(h&&Oe==="odd"&&($e=null),ke($e,pt,tt,it,Xe,Ve,Ue,Pe,De,mt,gt))}function Ee(Oe,De,Pe,Ue,Ve){for(var Xe=[],it=0,tt=0;tt<De.length;tt++)for(var pt=De[tt],mt=1;mt<U;mt++)for(var gt=1;gt<R;gt++)Xe.push(ue(Oe,N(pt,gt-1,mt-1),N(pt,gt-1,mt),N(pt,gt,mt-1),N(pt,gt,mt),Pe,Ue,(pt+gt+mt)%2,Ve&&Ve[it]?Ve[it]:[])),it++;return Xe}function Te(Oe,De,Pe,Ue,Ve){for(var Xe=[],it=0,tt=0;tt<De.length;tt++)for(var pt=De[tt],mt=1;mt<O;mt++)for(var gt=1;gt<U;gt++)Xe.push(ue(Oe,N(mt-1,pt,gt-1),N(mt,pt,gt-1),N(mt-1,pt,gt),N(mt,pt,gt),Pe,Ue,(mt+pt+gt)%2,Ve&&Ve[it]?Ve[it]:[])),it++;return Xe}function Me(Oe,De,Pe,Ue,Ve){for(var Xe=[],it=0,tt=0;tt<De.length;tt++)for(var pt=De[tt],mt=1;mt<R;mt++)for(var gt=1;gt<O;gt++)Xe.push(ue(Oe,N(gt-1,mt-1,pt),N(gt-1,mt,pt),N(gt,mt-1,pt),N(gt,mt,pt),Pe,Ue,(gt+mt+pt)%2,Ve&&Ve[it]?Ve[it]:[])),it++;return Xe}function Se(Oe,De,Pe){for(var Ue=1;Ue<U;Ue++)for(var Ve=1;Ve<R;Ve++)for(var Xe=1;Xe<O;Xe++)he(Oe,N(Xe-1,Ve-1,Ue-1),N(Xe-1,Ve-1,Ue),N(Xe-1,Ve,Ue-1),N(Xe-1,Ve,Ue),N(Xe,Ve-1,Ue-1),N(Xe,Ve-1,Ue),N(Xe,Ve,Ue-1),N(Xe,Ve,Ue),De,Pe,(Xe+Ve+Ue)%2)}function ze(Oe,De,Pe,Ue,Ve,Xe){for(var it=[],tt=0,pt=0;pt<De.length;pt++)for(var mt=De[pt],gt=1;gt<U;gt++)for(var et=1;et<R;et++)it.push(oe(Oe,mt,et,gt,Pe,Ue,Ve[pt],Xe&&Xe[tt]&&Xe[tt])),tt++;return it}function fe(Oe,De,Pe,Ue,Ve,Xe){for(var it=[],tt=0,pt=0;pt<De.length;pt++)for(var mt=De[pt],gt=1;gt<O;gt++)for(var et=1;et<U;et++)it.push(oe(Oe,gt,mt,et,Pe,Ue,Ve[pt],Xe&&Xe[tt]&&Xe[tt])),tt++;return it}function xe(Oe,De,Pe,Ue,Ve,Xe){for(var it=[],tt=0,pt=0;pt<De.length;pt++)for(var mt=De[pt],gt=1;gt<R;gt++)for(var et=1;et<O;et++)it.push(oe(Oe,et,gt,mt,Pe,Ue,Ve[pt],Xe&&Xe[tt]&&Xe[tt])),tt++;return it}function _e(Oe,De){for(var Pe=[],Ue=Oe;Ue<De;Ue++)Pe.push(Ue);return Pe}return function(){K(),function(){for(var pt=0;pt<O;pt++)for(var mt=0;mt<R;mt++)for(var gt=0;gt<U;gt++){var et=N(pt,mt,gt);Z(o._x[et],o._y[et],o._z[et],o._value[et])}}();var Oe=null;if(y&&_&&(Q(_),S=!0,Se(Oe,V,j),S=!1),v&&x){Q(x);for(var De=o.surface.pattern,Pe=o.surface.count,Ue=0;Ue<Pe;Ue++){var Ve=Pe===1?.5:Ue/(Pe-1),Xe=(1-Ve)*V+Ve*j,it=Math.abs(Xe-W)>Math.abs(Xe-F)?[W,Xe]:[Xe,F];h=!0,Se(De,it[0],it[1]),h=!1}}var tt=[[Math.min(V,F),Math.max(V,F)],[Math.min(W,j),Math.max(W,j)]];["x","y","z"].forEach(function(pt){for(var mt=[],gt=0;gt<tt.length;gt++){var et=0,$e=tt[gt][0],_t=tt[gt][1],Pt=o.slices[pt];if(Pt.show&&Pt.fill){Q(Pt.fill);var Ot=[],Lt=[],He=[];if(Pt.locations.length)for(var We=0;We<Pt.locations.length;We++){var Be=s(Pt.locations[We],pt==="x"?E:pt==="y"?C:P);Be.distRatio===0?Ot.push(Be.id):Be.id>0&&(Lt.push(Be.id),pt==="x"?He.push([Be.distRatio,0,0]):pt==="y"?He.push([0,Be.distRatio,0]):He.push([0,0,Be.distRatio]))}else Ot=_e(1,pt==="x"?O-1:pt==="y"?R-1:U-1);Lt.length>0&&(mt[et]=pt==="x"?ze(Oe,Lt,$e,_t,He,mt[et]):pt==="y"?fe(Oe,Lt,$e,_t,He,mt[et]):xe(Oe,Lt,$e,_t,He,mt[et]),et++),Ot.length>0&&(mt[et]=pt==="x"?Ee(Oe,Ot,$e,_t,mt[et]):pt==="y"?Te(Oe,Ot,$e,_t,mt[et]):Me(Oe,Ot,$e,_t,mt[et]),et++)}var Ge=o.caps[pt];Ge.show&&Ge.fill&&(Q(Ge.fill),mt[et]=pt==="x"?Ee(Oe,[0,O-1],$e,_t,mt[et]):pt==="y"?Te(Oe,[0,R-1],$e,_t,mt[et]):Me(Oe,[0,U-1],$e,_t,mt[et]),et++)}}),w===0&&K(),o._meshX=d,o._meshY=c,o._meshZ=m,o._meshIntensity=f,o._Xs=E,o._Ys=C,o._Zs=P}(),o}ee.exports={findNearestOnAxis:s,generateIsoMeshes:n,createIsosurfaceTrace:function(o,l){var u=o.glplot.gl,d=M({gl:u}),c=new t(o,d,l.uid);return d._trace=c,c.update(l),o.glplot.add(d),c}}},70548:function(ee,D,e){var M=e(3400),k=e(24040),a=e(50048),T=e(27260);function b(g,s,t,i,r){var n=r("isomin"),o=r("isomax");o!=null&&n!=null&&n>o&&(s.isomin=null,s.isomax=null);var l=r("x"),u=r("y"),d=r("z"),c=r("value");l&&l.length&&u&&u.length&&d&&d.length&&c&&c.length?(k.getComponentMethod("calendars","handleTraceDefaults")(g,s,["x","y","z"],i),r("valuehoverformat"),["x","y","z"].forEach(function(m){r(m+"hoverformat");var f="caps."+m;r(f+".show")&&r(f+".fill");var p="slices."+m;r(p+".show")&&(r(p+".fill"),r(p+".locations"))}),r("spaceframe.show")&&r("spaceframe.fill"),r("surface.show")&&(r("surface.count"),r("surface.fill"),r("surface.pattern")),r("contour.show")&&(r("contour.color"),r("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(m){r(m)}),T(g,s,i,r,{prefix:"",cLetter:"c"}),s._length=null):s.visible=!1}ee.exports={supplyDefaults:function(g,s,t,i){b(g,s,0,i,function(r,n){return M.coerce(g,s,a,r,n)})},supplyIsoDefaults:b}},6296:function(ee,D,e){ee.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(ee,D,e){var M=e(49084),k=e(29736).axisHoverFormat,a=e(21776).Ks,T=e(16716),b=e(45464),g=e(92880).extendFlat;ee.exports=g({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},M("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:T.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:g({},T.contours.x.show,{}),color:T.contours.x.color,width:T.contours.x.width,editType:"calc"},lightposition:{x:g({},T.lightposition.x,{dflt:1e5}),y:g({},T.lightposition.y,{dflt:1e5}),z:g({},T.lightposition.z,{dflt:0}),editType:"calc"},lighting:g({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},T.lighting),hoverinfo:g({},b.hoverinfo,{editType:"calc"}),showlegend:g({},b.showlegend,{dflt:!1})})},1876:function(ee,D,e){var M=e(47128);ee.exports=function(k,a){a.intensity&&M(k,a,{vals:a.intensity,containerStr:"",cLetter:"c"})}},576:function(ee,D,e){var M=e(67792).gl_mesh3d,k=e(67792).delaunay_triangulate,a=e(67792).alpha_shape,T=e(67792).convex_hull,b=e(33040).parseColorScale,g=e(3400).isArrayOrTypedArray,s=e(43080),t=e(8932).extractOpts,i=e(52094);function r(c,m,f){this.scene=c,this.uid=f,this.mesh=m,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=r.prototype;function o(c){for(var m=[],f=c.length,p=0;p<f;p++)m[p]=s(c[p]);return m}function l(c,m,f,p){for(var v=[],y=m.length,x=0;x<y;x++)v[x]=c.d2l(m[x],0,p)*f;return v}function u(c){for(var m=[],f=c.length,p=0;p<f;p++)m[p]=Math.round(c[p]);return m}function d(c,m){for(var f=c.length,p=0;p<f;p++)if(c[p]<=-.5||c[p]>=m-.5)return!1;return!0}n.handlePick=function(c){if(c.object===this.mesh){var m=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[m],this.data.y[m],this.data.z[m]];var f=this.data.hovertext||this.data.text;return g(f)&&f[m]!==void 0?c.textLabel=f[m]:f&&(c.textLabel=f),!0}},n.update=function(c){var m=this.scene,f=m.fullSceneLayout;this.data=c;var p,v=c.x.length,y=i(l(f.xaxis,c.x,m.dataScale[0],c.xcalendar),l(f.yaxis,c.y,m.dataScale[1],c.ycalendar),l(f.zaxis,c.z,m.dataScale[2],c.zcalendar));if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!d(c.i,v)||!d(c.j,v)||!d(c.k,v))return;p=i(u(c.i),u(c.j),u(c.k))}else p=c.alphahull===0?T(y):c.alphahull>0?a(c.alphahull,y):function(S,w){for(var E=["x","y","z"].indexOf(S),C=[],P=w.length,O=0;O<P;O++)C[O]=[w[O][(E+1)%3],w[O][(E+2)%3]];return k(C)}(c.delaunayaxis,y);var x={positions:y,cells:p,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:s(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var _=t(c);this.color="#fff";var h=c.intensitymode;x[h+"Intensity"]=c.intensity,x[h+"IntensityBounds"]=[_.min,_.max],x.colormap=b(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],x.vertexColors=o(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],x.cellColors=o(c.facecolor)):(this.color=c.color,x.meshColor=s(c.color));this.mesh.update(x)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(c,m){var f=c.glplot.gl,p=M({gl:f}),v=new r(c,p,m.uid);return p._trace=v,v.update(m),c.glplot.add(p),v}},74212:function(ee,D,e){var M=e(24040),k=e(3400),a=e(27260),T=e(52948);ee.exports=function(b,g,s,t){function i(n,o){return k.coerce(b,g,T,n,o)}function r(n){var o=n.map(function(l){var u=i(l);return u&&k.isArrayOrTypedArray(u)?u:null});return o.every(function(l){return l&&l.length===o[0].length})&&o}r(["x","y","z"])?(r(["i","j","k"]),(!g.i||g.j&&g.k)&&(!g.j||g.k&&g.i)&&(!g.k||g.i&&g.j)?(M.getComponentMethod("calendars","handleTraceDefaults")(b,g,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(n){i(n)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in b?(i("intensity"),i("intensitymode"),a(b,g,t,i,{prefix:"",cLetter:"c"})):(g.showscale=!1,"facecolor"in b?i("facecolor"):"vertexcolor"in b?i("vertexcolor"):i("color",s)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),g._length=null):g.visible=!1):g.visible=!1}},7404:function(ee,D,e){ee.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(ee,D,e){var M=e(3400).extendFlat,k=e(52904),a=e(29736).axisHoverFormat,T=e(98192).u,b=e(55756),g=e(48164),s=g.INCREASING.COLOR,t=g.DECREASING.COLOR,i=k.line;function r(n){return{line:{color:M({},i.color,{dflt:n}),width:i.width,dash:T,editType:"style"},editType:"style"}}ee.exports={xperiod:k.xperiod,xperiod0:k.xperiod0,xperiodalignment:k.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:M({},i.width,{}),dash:M({},T,{}),editType:"style"},increasing:r(s),decreasing:r(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:M({},b.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(ee,D,e){var M=e(3400),k=M._,a=e(54460),T=e(1220),b=e(39032).BADNUM;function g(t,i,r,n){return{o:t,h:i,l:r,c:n}}function s(t,i,r,n,o,l){for(var u=o.makeCalcdata(i,"open"),d=o.makeCalcdata(i,"high"),c=o.makeCalcdata(i,"low"),m=o.makeCalcdata(i,"close"),f=M.isArrayOrTypedArray(i.text),p=M.isArrayOrTypedArray(i.hovertext),v=!0,y=null,x=!!i.xperiodalignment,_=[],h=0;h<n.length;h++){var S=n[h],w=u[h],E=d[h],C=c[h],P=m[h];if(S!==b&&w!==b&&E!==b&&C!==b&&P!==b){P===w?y!==null&&P!==y&&(v=P>y):v=P>w,y=P;var O=l(w,E,C,P);O.pos=S,O.yc=(w+P)/2,O.i=h,O.dir=v?"increasing":"decreasing",O.x=O.pos,O.y=[C,E],x&&(O.orig_p=r[h]),f&&(O.tx=i.text[h]),p&&(O.htx=i.hovertext[h]),_.push(O)}else _.push({pos:S,empty:!0})}return i._extremes[o._id]=a.findExtremes(o,M.concat(c,d),{padded:!0}),_.length&&(_[0].t={labels:{open:k(t,"open:")+" ",high:k(t,"high:")+" ",low:k(t,"low:")+" ",close:k(t,"close:")+" "}}),_}ee.exports={calc:function(t,i){var r=a.getFromId(t,i.xaxis),n=a.getFromId(t,i.yaxis),o=function(m,f,p){var v=p._minDiff;if(!v){var y,x=m._fullData,_=[];for(v=1/0,y=0;y<x.length;y++){var h=x[y];if(h.type==="ohlc"&&h.visible===!0&&h.xaxis===f._id){_.push(h);var S=f.makeCalcdata(h,"x");h._origX=S;var w=T(p,f,"x",S).vals;h._xcalc=w;var E=M.distinctVals(w).minDiff;E&&isFinite(E)&&(v=Math.min(v,E))}}for(v===1/0&&(v=1),y=0;y<_.length;y++)_[y]._minDiff=v}return v*p.tickwidth}(t,r,i),l=i._minDiff;i._minDiff=null;var u=i._origX;i._origX=null;var d=i._xcalc;i._xcalc=null;var c=s(t,i,u,d,n,g);return i._extremes[r._id]=a.findExtremes(r,d,{vpad:l/2}),c.length?(M.extendFlat(c[0].t,{wHover:l/2,tickLen:o}),c):[{t:{empty:!0}}]},calcCommon:s}},23860:function(ee,D,e){var M=e(3400),k=e(52744),a=e(31147),T=e(20279);function b(g,s,t,i){t(i+".line.color"),t(i+".line.width",s.line.width),t(i+".line.dash",s.line.dash)}ee.exports=function(g,s,t,i){function r(n,o){return M.coerce(g,s,T,n,o)}k(g,s,r,i)?(a(g,s,i,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),r("line.dash"),b(0,s,r,"increasing"),b(0,s,r,"decreasing"),r("text"),r("hovertext"),r("tickwidth"),i._requestRangeslider[s.xaxis]=!0):s.visible=!1}},18720:function(ee,D,e){var M=e(54460),k=e(3400),a=e(93024),T=e(76308),b=e(3400).fillText,g=e(48164),s={increasing:g.INCREASING.SYMBOL,decreasing:g.DECREASING.SYMBOL};function t(n,o,l,u){var d,c,m=n.cd,f=n.xa,p=m[0].trace,v=m[0].t,y=p.type,x=y==="ohlc"?"l":"min",_=y==="ohlc"?"h":"max",h=v.bPos||0,S=function(F){return F.pos+h-o},w=v.bdPos||v.tickLen,E=v.wHover,C=Math.min(1,w/Math.abs(f.r2c(f.range[1])-f.r2c(f.range[0])));function P(F){var V=S(F);return a.inbox(V-E,V+E,d)}function O(F){var V=F[x],j=F[_];return V===j||a.inbox(V-l,j-l,d)}function R(F){return(P(F)+O(F))/2}d=n.maxHoverDistance-C,c=n.maxSpikeDistance-C;var U=a.getDistanceFunction(u,P,O,R);if(a.getClosest(m,U,n),n.index===!1)return null;var z=m[n.index];if(z.empty)return null;var N=p[z.dir],W=N.line.color;return T.opacity(W)&&N.line.width?n.color=W:n.color=N.fillcolor,n.x0=f.c2p(z.pos+h-w,!0),n.x1=f.c2p(z.pos+h+w,!0),n.xLabelVal=z.orig_p!==void 0?z.orig_p:z.pos,n.spikeDistance=R(z)*c/d,n.xSpike=f.c2p(z.pos,!0),n}function i(n,o,l,u){var d=n.cd,c=n.ya,m=d[0].trace,f=d[0].t,p=[],v=t(n,o,l,u);if(!v)return[];var y=d[v.index].hi||m.hoverinfo,x=y.split("+");if(y!=="all"&&x.indexOf("y")===-1)return[];for(var _=["high","open","close","low"],h={},S=0;S<_.length;S++){var w,E=_[S],C=m[E][v.index],P=c.c2p(C,!0);C in h?(w=h[C]).yLabel+="<br>"+f.labels[E]+M.hoverLabelText(c,C,m.yhoverformat):((w=k.extendFlat({},v)).y0=w.y1=P,w.yLabelVal=C,w.yLabel=f.labels[E]+M.hoverLabelText(c,C,m.yhoverformat),w.name="",p.push(w),h[C]=w)}return p}function r(n,o,l,u){var d=n.cd,c=n.ya,m=d[0].trace,f=d[0].t,p=t(n,o,l,u);if(!p)return[];var v=d[p.index],y=p.index=v.i,x=v.dir;function _(O){return f.labels[O]+M.hoverLabelText(c,m[O][y],m.yhoverformat)}var h=v.hi||m.hoverinfo,S=h.split("+"),w=h==="all",E=w||S.indexOf("y")!==-1,C=w||S.indexOf("text")!==-1,P=E?[_("open"),_("high"),_("low"),_("close")+"  "+s[x]]:[];return C&&b(v,m,P),p.extraText=P.join("<br>"),p.y0=p.y1=c.c2p(v.yc,!0),[p]}ee.exports={hoverPoints:function(n,o,l,u){return n.cd[0].trace.hoverlabel.split?i(n,o,l,u):r(n,o,l,u)},hoverSplit:i,hoverOnPoints:r}},65456:function(ee,D,e){ee.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(ee,D,e){var M=e(24040),k=e(3400);ee.exports=function(a,T,b,g){var s=b("x"),t=b("open"),i=b("high"),r=b("low"),n=b("close");if(b("hoverlabel.split"),M.getComponentMethod("calendars","handleTraceDefaults")(a,T,["x"],g),t&&i&&r&&n){var o=Math.min(t.length,i.length,r.length,n.length);return s&&(o=Math.min(o,k.minRowLength(s))),T._length=o,o}}},36664:function(ee,D,e){var M=e(33428),k=e(3400);ee.exports=function(a,T,b,g){var s=T.yaxis,t=T.xaxis,i=!!t.rangebreaks;k.makeTraceGroups(g,b,"trace ohlc").each(function(r){var n=M.select(this),o=r[0],l=o.t;if(o.trace.visible!==!0||l.empty)n.remove();else{var u=l.tickLen,d=n.selectAll("path").data(k.identity);d.enter().append("path"),d.exit().remove(),d.attr("d",function(c){if(c.empty)return"M0,0Z";var m=t.c2p(c.pos-u,!0),f=t.c2p(c.pos+u,!0),p=i?(m+f)/2:t.c2p(c.pos,!0);return"M"+m+","+s.c2p(c.o,!0)+"H"+p+"M"+p+","+s.c2p(c.h,!0)+"V"+s.c2p(c.l,!0)+"M"+f+","+s.c2p(c.c,!0)+"H"+p})}})}},97384:function(ee){ee.exports=function(D,e){var M,k=D.cd,a=D.xaxis,T=D.yaxis,b=[],g=k[0].t.bPos||0;if(e===!1)for(M=0;M<k.length;M++)k[M].selected=0;else for(M=0;M<k.length;M++){var s=k[M];e.contains([a.c2p(s.pos+g),T.c2p(s.yc)],null,s.i,D)?(b.push({pointNumber:s.i,x:a.c2d(s.pos),y:T.c2d(s.yc)}),s.selected=1):s.selected=0}return b}},14008:function(ee,D,e){var M=e(33428),k=e(43616),a=e(76308);ee.exports=function(T,b,g){var s=g||M.select(T).selectAll("g.ohlclayer").selectAll("g.trace");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=t[0].trace;M.select(this).selectAll("path").each(function(r){if(!r.empty){var n=i[r.dir].line;M.select(this).style("fill","none").call(a.stroke,n.color).call(k.dashLine,n.dash,n.width).style("opacity",i.selectedpoints&&!r.selected?.3:1)}})})}},72140:function(ee,D,e){var M=e(92880).extendFlat,k=e(45464),a=e(25376),T=e(49084),b=e(21776).Ks,g=e(86968).u,s=M({editType:"calc"},T("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});ee.exports={domain:g({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:M({},k.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:s,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(ee,D,e){var M=e(84888)._M,k=e(60268),a="parcats";D.name=a,D.plot=function(T,b,g,s){var t=M(T.calcdata,a);if(t.length){var i=t[0];k(T,i,g,s)}},D.clean=function(T,b,g,s){var t=s._has&&s._has("parcats"),i=b._has&&b._has("parcats");t&&!i&&s._paperdiv.selectAll(".parcats").remove()}},69136:function(ee,D,e){var M=e(71688).wrap,k=e(94288).hasColorscale,a=e(47128),T=e(68944),b=e(43616),g=e(3400),s=e(38248);function t(n,o,l){n.valueInds.push(o),n.count+=l}function i(n,o,l){return{categoryInds:n,color:o,rawColor:l,valueInds:[],count:0}}function r(n,o,l){n.valueInds.push(o),n.count+=l}ee.exports=function(n,o){var l=g.filterVisible(o.dimensions);if(l.length===0)return[];var u,d,c,m=l.map(function(j){var te;if(j.categoryorder==="trace")te=null;else if(j.categoryorder==="array")te=j.categoryarray;else{te=T(j.values);for(var J=!0,K=0;K<te.length;K++)if(!s(te[K])){J=!1;break}te.sort(J?g.sorterAsc:void 0),j.categoryorder==="category descending"&&(te=te.reverse())}return function(Z,X){X=X==null?[]:X.map(function(ve){return ve});var Q={},re={},ae=[];X.forEach(function(ve,be){Q[ve]=0,re[ve]=be});for(var ie=0;ie<Z.length;ie++){var le,pe=Z[ie];Q[pe]===void 0?(Q[pe]=1,le=X.push(pe)-1,re[pe]=le):(Q[pe]++,le=re[pe]),ae.push(le)}var de=X.map(function(ve){return Q[ve]});return{uniqueValues:X,uniqueCounts:de,inds:ae}}(j.values,te)});u=g.isArrayOrTypedArray(o.counts)?o.counts:[o.counts],function(j){var te,J=j.map(function(K){return K.displayindex});if(function(K){for(var Z=new Array(K.length),X=0;X<K.length;X++){if(K[X]<0||K[X]>=K.length||Z[K[X]]!==void 0)return!1;Z[K[X]]=!0}return!0}(J))for(te=0;te<j.length;te++)j[te]._displayindex=j[te].displayindex;else for(te=0;te<j.length;te++)j[te]._displayindex=te}(l),l.forEach(function(j,te){(function(J,K){J._categoryarray=K.uniqueValues,J.ticktext===null||J.ticktext===void 0?J._ticktext=[]:J._ticktext=J.ticktext.slice();for(var Z=J._ticktext.length;Z<K.uniqueValues.length;Z++)J._ticktext.push(K.uniqueValues[Z])})(j,m[te])});var f,p=o.line;p?(k(o,"line")&&a(n,o,{vals:o.line.color,containerStr:"line",cLetter:"c"}),f=b.tryColorscale(p)):f=g.identity;var v,y,x,_,h,S=l[0].values.length,w={},E=m.map(function(j){return j.inds});for(c=0,v=0;v<S;v++){var C=[];for(y=0;y<E.length;y++)C.push(E[y][v]);d=u[v%u.length],c+=d;var P=(x=v,_=void 0,h=void 0,g.isArrayOrTypedArray(p.color)?h=_=p.color[x%p.color.length]:_=p.color,{color:f(_),rawColor:h}),O=C+"-"+P.rawColor;w[O]===void 0&&(w[O]=i(C,P.color,P.rawColor)),r(w[O],v,d)}var R,U=l.map(function(j,te){return function(J,K,Z,X,Q){return{dimensionInd:J,containerInd:K,displayInd:Z,dimensionLabel:X,count:Q,categories:[],dragX:null}}(te,j._index,j._displayindex,j.label,c)});for(v=0;v<S;v++)for(d=u[v%u.length],y=0;y<U.length;y++){var z=U[y].containerInd,N=m[y].inds[v],W=U[y].categories;if(W[N]===void 0){var F=o.dimensions[z]._categoryarray[N],V=o.dimensions[z]._ticktext[N];W[N]={dimensionInd:y,categoryInd:R=N,categoryValue:F,displayInd:R,categoryLabel:V,valueInds:[],count:0,dragY:null}}t(W[N],v,d)}return M(function(j,te,J){var K=j.map(function(Z){return Z.categories.length}).reduce(function(Z,X){return Math.max(Z,X)});return{dimensions:j,paths:te,trace:void 0,maxCats:K,count:J}}(U,w,c))}},76671:function(ee,D,e){var M=e(3400),k=e(94288).hasColorscale,a=e(27260),T=e(86968).Q,b=e(51272),g=e(72140),s=e(26284),t=e(38116).isTypedArraySpec;function i(r,n){function o(p,v){return M.coerce(r,n,g.dimensions,p,v)}var l=o("values"),u=o("visible");if(l&&l.length||(u=n.visible=!1),u){o("label"),o("displayindex",n._index);var d,c=r.categoryarray,m=M.isArrayOrTypedArray(c)&&c.length>0||t(c);m&&(d="array");var f=o("categoryorder",d);f==="array"?(o("categoryarray"),o("ticktext")):(delete r.categoryarray,delete r.ticktext),m||f!=="array"||(n.categoryorder="trace")}}ee.exports=function(r,n,o,l){function u(p,v){return M.coerce(r,n,g,p,v)}var d=b(r,n,{name:"dimensions",handleItemDefaults:i}),c=function(p,v,y,x,_){_("line.shape"),_("line.hovertemplate");var h=_("line.color",x.colorway[0]);if(k(p,"line")&&M.isArrayOrTypedArray(h)){if(h.length)return _("line.colorscale"),a(p,v,x,_,{prefix:"line.",cLetter:"c"}),h.length;v.line.color=y}return 1/0}(r,n,o,l,u);T(n,l,u),Array.isArray(d)&&d.length||(n.visible=!1),s(n,d,"values",c),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var m={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};M.coerceFont(u,"labelfont",m);var f={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};M.coerceFont(u,"tickfont",f)}},22020:function(ee,D,e){ee.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(ee,D,e){var M=e(33428),k=e(67756).Gz,a=e(36424),T=e(93024),b=e(3400),g=b.strTranslate,s=e(43616),t=e(49760),i=e(72736);function r(J,K,Z,X){var Q=K._context.staticPlot,re=J.map(W.bind(0,K,Z)),ae=X.selectAll("g.parcatslayer").data([null]);ae.enter().append("g").attr("class","parcatslayer").style("pointer-events",Q?"none":"all");var ie=ae.selectAll("g.trace.parcats").data(re,n),le=ie.enter().append("g").attr("class","trace parcats");ie.attr("transform",function(ue){return g(ue.x,ue.y)}),le.append("g").attr("class","paths");var pe=ie.select("g.paths").selectAll("path.path").data(function(ue){return ue.paths},n);pe.attr("fill",function(ue){return ue.model.color});var de=pe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(ue){return ue.model.color}).attr("fill-opacity",0);p(de),pe.attr("d",function(ue){return ue.svgD}),de.empty()||pe.sort(l),pe.exit().remove(),pe.on("mouseover",u).on("mouseout",d).on("click",f),le.append("g").attr("class","dimensions");var ve=ie.select("g.dimensions").selectAll("g.dimension").data(function(ue){return ue.dimensions},n);ve.enter().append("g").attr("class","dimension"),ve.attr("transform",function(ue){return g(ue.x,0)}),ve.exit().remove();var be=ve.selectAll("g.category").data(function(ue){return ue.categories},n),me=be.enter().append("g").attr("class","category");be.attr("transform",function(ue){return g(0,ue.y)}),me.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(ue){return ue.width}).attr("height",function(ue){return ue.height}),y(me);var ge=be.selectAll("rect.bandrect").data(function(ue){return ue.bands},n);ge.each(function(){b.raiseToTop(this)}),ge.attr("fill",function(ue){return ue.color});var ke=ge.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(ue){return ue.color}).attr("fill-opacity",0);ge.attr("fill",function(ue){return ue.color}).attr("width",function(ue){return ue.width}).attr("height",function(ue){return ue.height}).attr("y",function(ue){return ue.y}).attr("cursor",function(ue){return ue.parcatsViewModel.arrangement==="fixed"?"default":ue.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(ke),ge.exit().remove(),me.append("text").attr("class","catlabel").attr("pointer-events","none");var we=K._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(ue){return o(ue)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",i.makeTextShadow(we)).style("fill","rgb(0, 0, 0)").attr("x",function(ue){return o(ue)?ue.width+5:-5}).attr("y",function(ue){return ue.height/2}).text(function(ue){return ue.model.categoryLabel}).each(function(ue){s.font(M.select(this),ue.parcatsViewModel.categorylabelfont),i.convertToTspans(M.select(this),K)}),me.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(ue){return ue.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(ue){return ue.width/2}).attr("y",-5).text(function(ue,oe){return oe===0?ue.parcatsViewModel.model.dimensions[ue.model.dimensionInd].dimensionLabel:null}).each(function(ue){s.font(M.select(this),ue.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",E).on("mouseout",C),be.exit().remove(),ve.call(M.behavior.drag().origin(function(ue){return{x:ue.x,y:0}}).on("dragstart",P).on("drag",O).on("dragend",R)),ie.each(function(ue){ue.traceSelection=M.select(this),ue.pathSelection=M.select(this).selectAll("g.paths").selectAll("path.path"),ue.dimensionSelection=M.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ie.exit().remove()}function n(J){return J.key}function o(J){var K=J.parcatsViewModel.dimensions.length,Z=J.parcatsViewModel.dimensions[K-1].model.dimensionInd;return J.model.dimensionInd===Z}function l(J,K){return J.model.rawColor>K.model.rawColor?1:J.model.rawColor<K.model.rawColor?-1:0}function u(J){if(!J.parcatsViewModel.dragDimension&&J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){b.raiseToTop(this),v(M.select(this));var K=c(J),Z=m(J);if(J.parcatsViewModel.graphDiv.emit("plotly_hover",{points:K,event:M.event,constraints:Z}),J.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var X,Q,re,ae=M.mouse(this)[0],ie=J.parcatsViewModel.graphDiv,le=J.parcatsViewModel.trace,pe=ie._fullLayout,de=pe._paperdiv.node().getBoundingClientRect(),ve=J.parcatsViewModel.graphDiv.getBoundingClientRect();for(re=0;re<J.leftXs.length-1;re++)if(J.leftXs[re]+J.dimWidths[re]-2<=ae&&ae<=J.leftXs[re+1]+2){var be=J.parcatsViewModel.dimensions[re],me=J.parcatsViewModel.dimensions[re+1];X=(be.x+be.width+me.x)/2,Q=(J.topYs[re]+J.topYs[re+1]+J.height)/2;break}var ge=J.parcatsViewModel.x+X,ke=J.parcatsViewModel.y+Q,we=t.mostReadable(J.model.color,["black","white"]),ue=J.model.count,oe=ue/J.parcatsViewModel.model.count,he={countLabel:ue,probabilityLabel:oe.toFixed(3)},Ee=[];J.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ee.push(["Count:",he.countLabel].join(" ")),J.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ee.push(["P:",he.probabilityLabel].join(" "));var Te=Ee.join("<br>"),Me=M.mouse(ie)[0];T.loneHover({trace:le,x:ge-de.left+ve.left,y:ke-de.top+ve.top,text:Te,color:J.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:we,idealAlign:Me<ge?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:he,eventData:[{data:le._input,fullData:le,count:ue,probability:oe}]},{container:pe._hoverlayer.node(),outerContainer:pe._paper.node(),gd:ie})}}}function d(J){if(!J.parcatsViewModel.dragDimension&&(p(M.select(this)),T.loneUnhover(J.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),J.parcatsViewModel.pathSelection.sort(l),J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var K=c(J),Z=m(J);J.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:K,event:M.event,constraints:Z})}}function c(J){for(var K=[],Z=U(J.parcatsViewModel),X=0;X<J.model.valueInds.length;X++){var Q=J.model.valueInds[X];K.push({curveNumber:Z,pointNumber:Q})}return K}function m(J){for(var K={},Z=J.parcatsViewModel.model.dimensions,X=0;X<Z.length;X++){var Q=Z[X],re=Q.categories[J.model.categoryInds[X]];K[Q.containerInd]=re.categoryValue}return J.model.rawColor!==void 0&&(K.color=J.model.rawColor),K}function f(J){if(J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var K=c(J),Z=m(J);J.parcatsViewModel.graphDiv.emit("plotly_click",{points:K,event:M.event,constraints:Z})}}function p(J){J.attr("fill",function(K){return K.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function v(J){J.attr("fill-opacity",.8).attr("stroke",function(K){return t.mostReadable(K.model.color,["black","white"])}).attr("stroke-width",.3)}function y(J){J.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function x(J){J.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function _(J){var K=J.parcatsViewModel.pathSelection,Z=J.categoryViewModel.model.dimensionInd,X=J.categoryViewModel.model.categoryInd;return K.filter(function(Q){return Q.model.categoryInds[Z]===X&&Q.model.color===J.color})}function h(J,K,Z){var X=M.select(J).datum(),Q=X.categoryViewModel.model,re=X.parcatsViewModel.graphDiv,ae=M.select(J.parentNode).selectAll("rect.bandrect"),ie=[];ae.each(function(pe){_(pe).each(function(de){Array.prototype.push.apply(ie,c(de))})});var le={};le[Q.dimensionInd]=Q.categoryValue,re.emit(K,{points:ie,event:Z,constraints:le})}function S(J,K,Z){var X=M.select(J).datum(),Q=X.categoryViewModel.model,re=X.parcatsViewModel.graphDiv,ae=_(X),ie=[];ae.each(function(pe){Array.prototype.push.apply(ie,c(pe))});var le={};le[Q.dimensionInd]=Q.categoryValue,X.rawColor!==void 0&&(le.color=X.rawColor),re.emit(K,{points:ie,event:Z,constraints:le})}function w(J,K,Z){J._fullLayout._calcInverseTransform(J);var X,Q,re=J._fullLayout._invScaleX,ae=J._fullLayout._invScaleY,ie=M.select(Z.parentNode).select("rect.catrect"),le=ie.node().getBoundingClientRect(),pe=ie.datum(),de=pe.parcatsViewModel,ve=de.model.dimensions[pe.model.dimensionInd],be=de.trace,me=le.top+le.height/2;de.dimensions.length>1&&ve.displayInd===de.dimensions.length-1?(X=le.left,Q="left"):(X=le.left+le.width,Q="right");var ge=pe.model.count,ke=pe.model.categoryLabel,we=ge/pe.parcatsViewModel.model.count,ue={countLabel:ge,categoryLabel:ke,probabilityLabel:we.toFixed(3)},oe=[];pe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&oe.push(["Count:",ue.countLabel].join(" ")),pe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&oe.push(["P("+ue.categoryLabel+"):",ue.probabilityLabel].join(" "));var he=oe.join("<br>");return{trace:be,x:re*(X-K.left),y:ae*(me-K.top),text:he,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Q,hovertemplate:be.hovertemplate,hovertemplateLabels:ue,eventData:[{data:be._input,fullData:be,count:ge,category:ke,probability:we}]}}function E(J){if(!J.parcatsViewModel.dragDimension&&J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(M.mouse(this)[1]<-1)return;var K,Z=J.parcatsViewModel.graphDiv,X=Z._fullLayout,Q=X._paperdiv.node().getBoundingClientRect(),re=J.parcatsViewModel.hoveron,ae=this;re==="color"?(function(ie){var le=M.select(ie).datum(),pe=_(le);v(pe),pe.each(function(){b.raiseToTop(this)}),M.select(ie.parentNode).selectAll("rect.bandrect").filter(function(de){return de.color===le.color}).each(function(){b.raiseToTop(this),M.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(ae),S(ae,"plotly_hover",M.event)):(function(ie){M.select(ie.parentNode).selectAll("rect.bandrect").each(function(le){var pe=_(le);v(pe),pe.each(function(){b.raiseToTop(this)})}),M.select(ie.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ae),h(ae,"plotly_hover",M.event)),J.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(re==="category"?K=w(Z,Q,ae):re==="color"?K=function(ie,le,pe){ie._fullLayout._calcInverseTransform(ie);var de,ve,be=ie._fullLayout._invScaleX,me=ie._fullLayout._invScaleY,ge=pe.getBoundingClientRect(),ke=M.select(pe).datum(),we=ke.categoryViewModel,ue=we.parcatsViewModel,oe=ue.model.dimensions[we.model.dimensionInd],he=ue.trace,Ee=ge.y+ge.height/2;ue.dimensions.length>1&&oe.displayInd===ue.dimensions.length-1?(de=ge.left,ve="left"):(de=ge.left+ge.width,ve="right");var Te=we.model.categoryLabel,Me=ke.parcatsViewModel.model.count,Se=0;ke.categoryViewModel.bands.forEach(function(Xe){Xe.color===ke.color&&(Se+=Xe.count)});var ze=we.model.count,fe=0;ue.pathSelection.each(function(Xe){Xe.model.color===ke.color&&(fe+=Xe.model.count)});var xe=Se/Me,_e=Se/fe,Oe=Se/ze,De={countLabel:Me,categoryLabel:Te,probabilityLabel:xe.toFixed(3)},Pe=[];we.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Pe.push(["Count:",De.countLabel].join(" ")),we.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Pe.push("P(color  "+Te+"): "+De.probabilityLabel),Pe.push("P("+Te+" | color): "+_e.toFixed(3)),Pe.push("P(color | "+Te+"): "+Oe.toFixed(3)));var Ue=Pe.join("<br>"),Ve=t.mostReadable(ke.color,["black","white"]);return{trace:he,x:be*(de-le.left),y:me*(Ee-le.top),text:Ue,color:ke.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Ve,fontSize:10,idealAlign:ve,hovertemplate:he.hovertemplate,hovertemplateLabels:De,eventData:[{data:he._input,fullData:he,category:Te,count:Me,probability:xe,categorycount:ze,colorcount:fe,bandcolorcount:Se}]}}(Z,Q,ae):re==="dimension"&&(K=function(ie,le,pe){var de=[];return M.select(pe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){de.push(w(ie,le,this))}),de}(Z,Q,ae)),K&&T.loneHover(K,{container:X._hoverlayer.node(),outerContainer:X._paper.node(),gd:Z}))}}function C(J){var K=J.parcatsViewModel;K.dragDimension||(p(K.pathSelection),y(K.dimensionSelection.selectAll("g.category")),x(K.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),T.loneUnhover(K.graphDiv._fullLayout._hoverlayer.node()),K.pathSelection.sort(l),K.hoverinfoItems.indexOf("skip")!==-1)||(J.parcatsViewModel.hoveron==="color"?S(this,"plotly_unhover",M.event):h(this,"plotly_unhover",M.event))}function P(J){J.parcatsViewModel.arrangement!=="fixed"&&(J.dragDimensionDisplayInd=J.model.displayInd,J.initialDragDimensionDisplayInds=J.parcatsViewModel.model.dimensions.map(function(K){return K.displayInd}),J.dragHasMoved=!1,J.dragCategoryDisplayInd=null,M.select(this).selectAll("g.category").select("rect.catrect").each(function(K){var Z=M.mouse(this)[0],X=M.mouse(this)[1];-2<=Z&&Z<=K.width+2&&-2<=X&&X<=K.height+2&&(J.dragCategoryDisplayInd=K.model.displayInd,J.initialDragCategoryDisplayInds=J.model.categories.map(function(Q){return Q.displayInd}),K.model.dragY=K.y,b.raiseToTop(this.parentNode),M.select(this.parentNode).selectAll("rect.bandrect").each(function(Q){Q.y<X&&X<=Q.y+Q.height&&(J.potentialClickBand=this)}))}),J.parcatsViewModel.dragDimension=J,T.loneUnhover(J.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(J){if(J.parcatsViewModel.arrangement!=="fixed"&&(J.dragHasMoved=!0,J.dragDimensionDisplayInd!==null)){var K=J.dragDimensionDisplayInd,Z=K-1,X=K+1,Q=J.parcatsViewModel.dimensions[K];if(J.dragCategoryDisplayInd!==null){var re=Q.categories[J.dragCategoryDisplayInd];re.model.dragY+=M.event.dy;var ae=re.model.dragY,ie=re.model.displayInd,le=Q.categories,pe=le[ie-1],de=le[ie+1];pe!==void 0&&ae<pe.y+pe.height/2&&(re.model.displayInd=pe.model.displayInd,pe.model.displayInd=ie),de!==void 0&&ae+re.height>de.y+de.height/2&&(re.model.displayInd=de.model.displayInd,de.model.displayInd=ie),J.dragCategoryDisplayInd=re.model.displayInd}if(J.dragCategoryDisplayInd===null||J.parcatsViewModel.arrangement==="freeform"){Q.model.dragX=M.event.x;var ve=J.parcatsViewModel.dimensions[Z],be=J.parcatsViewModel.dimensions[X];ve!==void 0&&Q.model.dragX<ve.x+ve.width&&(Q.model.displayInd=ve.model.displayInd,ve.model.displayInd=K),be!==void 0&&Q.model.dragX+Q.width>be.x&&(Q.model.displayInd=be.model.displayInd,be.model.displayInd=J.dragDimensionDisplayInd),J.dragDimensionDisplayInd=Q.model.displayInd}j(J.parcatsViewModel),V(J.parcatsViewModel),N(J.parcatsViewModel),z(J.parcatsViewModel)}}function R(J){if(J.parcatsViewModel.arrangement!=="fixed"&&J.dragDimensionDisplayInd!==null){M.select(this).selectAll("text").attr("font-weight","normal");var K={},Z=U(J.parcatsViewModel),X=J.parcatsViewModel.model.dimensions.map(function(de){return de.displayInd}),Q=J.initialDragDimensionDisplayInds.some(function(de,ve){return de!==X[ve]});Q&&X.forEach(function(de,ve){var be=J.parcatsViewModel.model.dimensions[ve].containerInd;K["dimensions["+be+"].displayindex"]=de});var re=!1;if(J.dragCategoryDisplayInd!==null){var ae=J.model.categories.map(function(de){return de.displayInd});if(re=J.initialDragCategoryDisplayInds.some(function(de,ve){return de!==ae[ve]})){var ie=J.model.categories.slice().sort(function(de,ve){return de.displayInd-ve.displayInd}),le=ie.map(function(de){return de.categoryValue}),pe=ie.map(function(de){return de.categoryLabel});K["dimensions["+J.model.containerInd+"].categoryarray"]=[le],K["dimensions["+J.model.containerInd+"].ticktext"]=[pe],K["dimensions["+J.model.containerInd+"].categoryorder"]="array"}}J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!J.dragHasMoved&&J.potentialClickBand&&(J.parcatsViewModel.hoveron==="color"?S(J.potentialClickBand,"plotly_click",M.event.sourceEvent):h(J.potentialClickBand,"plotly_click",M.event.sourceEvent)),J.model.dragX=null,J.dragCategoryDisplayInd!==null&&(J.parcatsViewModel.dimensions[J.dragDimensionDisplayInd].categories[J.dragCategoryDisplayInd].model.dragY=null,J.dragCategoryDisplayInd=null),J.dragDimensionDisplayInd=null,J.parcatsViewModel.dragDimension=null,J.dragHasMoved=null,J.potentialClickBand=null,j(J.parcatsViewModel),V(J.parcatsViewModel),M.transition().duration(300).ease("cubic-in-out").each(function(){N(J.parcatsViewModel,!0),z(J.parcatsViewModel,!0)}).each("end",function(){(Q||re)&&a.restyle(J.parcatsViewModel.graphDiv,K,[Z])})}}function U(J){for(var K,Z=J.graphDiv._fullData,X=0;X<Z.length;X++)if(J.key===Z[X].uid){K=X;break}return K}function z(J,K){var Z;K===void 0&&(K=!1),J.pathSelection.data(function(X){return X.paths},n),(Z=J.pathSelection,K?Z.transition():Z).attr("d",function(X){return X.svgD})}function N(J,K){function Z(ae){return K?ae.transition():ae}K===void 0&&(K=!1),J.dimensionSelection.data(function(ae){return ae.dimensions},n);var X=J.dimensionSelection.selectAll("g.category").data(function(ae){return ae.categories},n);Z(J.dimensionSelection).attr("transform",function(ae){return g(ae.x,0)}),Z(X).attr("transform",function(ae){return g(0,ae.y)}),X.select(".dimlabel").text(function(ae,ie){return ie===0?ae.parcatsViewModel.model.dimensions[ae.model.dimensionInd].dimensionLabel:null}),X.select(".catlabel").attr("text-anchor",function(ae){return o(ae)?"start":"end"}).attr("x",function(ae){return o(ae)?ae.width+5:-5}).each(function(ae){var ie,le;o(ae)?(ie=ae.width+5,le="start"):(ie=-5,le="end"),M.select(this).selectAll("tspan").attr("x",ie).attr("text-anchor",le)});var Q=X.selectAll("rect.bandrect").data(function(ae){return ae.bands},n),re=Q.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ae){return ae.color}).attr("fill-opacity",0);Q.attr("fill",function(ae){return ae.color}).attr("width",function(ae){return ae.width}).attr("height",function(ae){return ae.height}).attr("y",function(ae){return ae.y}),x(re),Q.each(function(){b.raiseToTop(this)}),Q.exit().remove()}function W(J,K,Z){var X,Q=Z[0],re=K.margin||{l:80,r:80,t:100,b:80},ae=Q.trace,ie=ae.domain,le=K.width,pe=K.height,de=Math.floor(le*(ie.x[1]-ie.x[0])),ve=Math.floor(pe*(ie.y[1]-ie.y[0])),be=ie.x[0]*le+re.l,me=K.height-ie.y[1]*K.height+re.t,ge=ae.line.shape;X=ae.hoverinfo==="all"?["count","probability"]:(ae.hoverinfo||"").split("+");var ke={trace:ae,key:ae.uid,model:Q,x:be,y:me,width:de,height:ve,hoveron:ae.hoveron,hoverinfoItems:X,arrangement:ae.arrangement,bundlecolors:ae.bundlecolors,sortpaths:ae.sortpaths,labelfont:ae.labelfont,categorylabelfont:ae.tickfont,pathShape:ge,dragDimension:null,margin:re,paths:[],dimensions:[],graphDiv:J,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(j(ke),V(ke)),ke}function F(J,K,Z,X,Q){var re,ae,ie=[],le=[];for(ae=0;ae<Z.length-1;ae++)re=k(Z[ae]+J[ae],J[ae+1]),ie.push(re(Q)),le.push(re(1-Q));var pe="M "+J[0]+","+K[0];for(pe+="l"+Z[0]+",0 ",ae=1;ae<Z.length;ae++)pe+="C"+ie[ae-1]+","+K[ae-1]+" "+le[ae-1]+","+K[ae]+" "+J[ae]+","+K[ae],pe+="l"+Z[ae]+",0 ";for(pe+="l0,"+X+" ",pe+="l -"+Z[Z.length-1]+",0 ",ae=Z.length-2;ae>=0;ae--)pe+="C"+le[ae]+","+(K[ae+1]+X)+" "+ie[ae]+","+(K[ae]+X)+" "+(J[ae]+Z[ae])+","+(K[ae]+X),pe+="l-"+Z[ae]+",0 ";return pe+"Z"}function V(J){var K=J.dimensions,Z=J.model,X=K.map(function(De){return De.categories.map(function(Pe){return Pe.y})}),Q=J.model.dimensions.map(function(De){return De.categories.map(function(Pe){return Pe.displayInd})}),re=J.model.dimensions.map(function(De){return De.displayInd}),ae=J.dimensions.map(function(De){return De.model.dimensionInd}),ie=K.map(function(De){return De.x}),le=K.map(function(De){return De.width}),pe=[];for(var de in Z.paths)Z.paths.hasOwnProperty(de)&&pe.push(Z.paths[de]);function ve(De){var Pe=De.categoryInds.map(function(Ue,Ve){return Q[Ve][Ue]});return ae.map(function(Ue){return Pe[Ue]})}pe.sort(function(De,Pe){var Ue=ve(De),Ve=ve(Pe);return J.sortpaths==="backward"&&(Ue.reverse(),Ve.reverse()),Ue.push(De.valueInds[0]),Ve.push(Pe.valueInds[0]),J.bundlecolors&&(Ue.unshift(De.rawColor),Ve.unshift(Pe.rawColor)),Ue<Ve?-1:Ue>Ve?1:0});for(var be=new Array(pe.length),me=K[0].model.count,ge=K[0].categories.map(function(De){return De.height}).reduce(function(De,Pe){return De+Pe}),ke=0;ke<pe.length;ke++){var we,ue=pe[ke];we=me>0?ge*(ue.count/me):0;for(var oe,he=new Array(X.length),Ee=0;Ee<ue.categoryInds.length;Ee++){var Te=ue.categoryInds[Ee],Me=Q[Ee][Te],Se=re[Ee];he[Se]=X[Se][Me],X[Se][Me]+=we;var ze=J.dimensions[Se].categories[Me],fe=ze.bands.length,xe=ze.bands[fe-1];if(xe===void 0||ue.rawColor!==xe.rawColor){var _e=xe===void 0?0:xe.y+xe.height;ze.bands.push({key:_e,color:ue.color,rawColor:ue.rawColor,height:we,width:ze.width,count:ue.count,y:_e,categoryViewModel:ze,parcatsViewModel:J})}else{var Oe=ze.bands[fe-1];Oe.height+=we,Oe.count+=ue.count}}oe=J.pathShape==="hspline"?F(ie,he,le,we,.5):F(ie,he,le,we,0),be[ke]={key:ue.valueInds[0],model:ue,height:we,leftXs:ie,topYs:he,dimWidths:le,svgD:oe,parcatsViewModel:J}}J.paths=be}function j(J){var K=J.model.dimensions.map(function(ae){return{displayInd:ae.displayInd,dimensionInd:ae.dimensionInd}});K.sort(function(ae,ie){return ae.displayInd-ie.displayInd});var Z=[];for(var X in K){var Q=K[X].dimensionInd,re=J.model.dimensions[Q];Z.push(te(J,re))}J.dimensions=Z}function te(J,K){var Z,X=J.model.dimensions.length,Q=K.displayInd;Z=40+(X>1?(J.width-80-16)/(X-1):0)*Q;var re,ae,ie,le,pe,de=[],ve=J.model.maxCats,be=K.categories.length,me=K.count,ge=J.height-8*(ve-1),ke=8*(ve-be)/2,we=K.categories.map(function(ue){return{displayInd:ue.displayInd,categoryInd:ue.categoryInd}});for(we.sort(function(ue,oe){return ue.displayInd-oe.displayInd}),pe=0;pe<be;pe++)le=we[pe].categoryInd,ae=K.categories[le],re=me>0?ae.count/me*ge:0,ie={key:ae.valueInds[0],model:ae,width:16,height:re,y:ae.dragY!==null?ae.dragY:ke,bands:[],parcatsViewModel:J},ke=ke+re+8,de.push(ie);return{key:K.dimensionInd,x:K.dragX!==null?K.dragX:Z,y:0,width:16,model:K,categories:de,parcatsViewModel:J,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}ee.exports=function(J,K,Z,X){r(Z,J,X,K)}},60268:function(ee,D,e){var M=e(51036);ee.exports=function(k,a,T,b){var g=k._fullLayout,s=g._paper,t=g._size;M(k,s,a,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},T,b)}},82296:function(ee,D,e){var M=e(49084),k=e(94724),a=e(25376),T=e(86968).u,b=e(92880).extendFlat,g=e(31780).templatedArray;ee.exports={domain:T({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:g("dimension",{label:{valType:"string",editType:"plot"},tickvals:b({},k.tickvals,{editType:"plot"}),ticktext:b({},k.ticktext,{editType:"plot"}),tickformat:b({},k.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:b({editType:"calc"},M("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(ee,D,e){var M=e(30140),k=e(33428),a=e(71688).keyFun,T=e(71688).repeat,b=e(3400).sorterAsc,g=e(3400).strTranslate,s=M.bar.snapRatio;function t(w,E){return w*(1-s)+E*s}var i=M.bar.snapClose;function r(w,E){return w*(1-i)+E*i}function n(w,E,C,P){if(function(te,J){for(var K=0;K<J.length;K++)if(te>=J[K][0]&&te<=J[K][1])return!0;return!1}(C,P))return C;var O=w?-1:1,R=0,U=E.length-1;if(O<0){var z=R;R=U,U=z}for(var N=E[R],W=N,F=R;O*F<O*U;F+=O){var V=F+O,j=E[V];if(O*C<O*r(N,j))return t(N,W);if(O*C<O*j||V===U)return t(j,N);W=N,N=j}}function o(w){w.attr("x",-M.bar.captureWidth/2).attr("width",M.bar.captureWidth)}function l(w){w.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(w){if(!w.brush.filterSpecified)return"0,"+w.height;for(var E,C,P,O=d(w.brush.filter.getConsolidated(),w.height),R=[0],U=O.length?O[0][0]:null,z=0;z<O.length;z++)C=(E=O[z])[1]-E[0],R.push(U),R.push(C),(P=z+1)<O.length&&(U=O[P][0]-E[1]);return R.push(w.height),R}function d(w,E){return w.map(function(C){return C.map(function(P){return Math.max(0,P*E)}).sort(b)})}function c(){k.select(document.body).style("cursor",null)}function m(w){w.attr("stroke-dasharray",u)}function f(w,E){var C=k.select(w).selectAll(".highlight, .highlight-shadow");m(E?C.transition().duration(M.bar.snapDuration).each("end",E):C)}function p(w,E){var C,P=w.brush,O=NaN,R={};if(P.filterSpecified){var U=w.height,z=P.filter.getConsolidated(),N=d(z,U),W=NaN,F=NaN,V=NaN;for(C=0;C<=N.length;C++){var j=N[C];if(j&&j[0]<=E&&E<=j[1]){W=C;break}if(F=C?C-1:NaN,j&&j[0]>E){V=C;break}}if(O=W,isNaN(O)&&(O=isNaN(F)||isNaN(V)?isNaN(F)?V:F:E-N[F][1]<N[V][0]-E?F:V),!isNaN(O)){var te=N[O],J=function(Q,re){var ae=M.bar.handleHeight;if(!(re>Q[1]+ae||re<Q[0]-ae))return re>=.9*Q[1]+.1*Q[0]?"n":re<=.9*Q[0]+.1*Q[1]?"s":"ns"}(te,E);J&&(R.interval=z[O],R.intervalPix=te,R.region=J)}}if(w.ordinal&&!R.region){var K=w.unitTickvals,Z=w.unitToPaddedPx.invert(E);for(C=0;C<K.length;C++){var X=[.25*K[Math.max(C-1,0)]+.75*K[C],.25*K[Math.min(C+1,K.length-1)]+.75*K[C]];if(Z>=X[0]&&Z<=X[1]){R.clickableOrdinalRange=X;break}}}return R}function v(w,E){k.event.sourceEvent.stopPropagation();var C=E.height-k.mouse(w)[1]-2*M.verticalPadding,P=E.brush.svgBrush;P.wasDragged=!0,P._dragging=!0,P.grabbingBar?P.newExtent=[C-P.grabPoint,C+P.barLength-P.grabPoint].map(E.unitToPaddedPx.invert):P.newExtent=[P.startExtent,E.unitToPaddedPx.invert(C)].sort(b),E.brush.filterSpecified=!0,P.extent=P.stayingIntervals.concat([P.newExtent]),P.brushCallback(E),f(w.parentNode)}function y(w,E){var C=p(E,E.height-k.mouse(w)[1]-2*M.verticalPadding),P="crosshair";C.clickableOrdinalRange?P="pointer":C.region&&(P=C.region+"-resize"),k.select(document.body).style("cursor",P)}function x(w){w.on("mousemove",function(E){k.event.preventDefault(),E.parent.inBrushDrag||y(this,E)}).on("mouseleave",function(E){E.parent.inBrushDrag||c()}).call(k.behavior.drag().on("dragstart",function(E){(function(C,P){k.event.sourceEvent.stopPropagation();var O=P.height-k.mouse(C)[1]-2*M.verticalPadding,R=P.unitToPaddedPx.invert(O),U=P.brush,z=p(P,O),N=z.interval,W=U.svgBrush;if(W.wasDragged=!1,W.grabbingBar=z.region==="ns",W.grabbingBar){var F=N.map(P.unitToPaddedPx);W.grabPoint=O-F[0]-M.verticalPadding,W.barLength=F[1]-F[0]}W.clickableOrdinalRange=z.clickableOrdinalRange,W.stayingIntervals=P.multiselect&&U.filterSpecified?U.filter.getConsolidated():[],N&&(W.stayingIntervals=W.stayingIntervals.filter(function(V){return V[0]!==N[0]&&V[1]!==N[1]})),W.startExtent=z.region?N[z.region==="s"?1:0]:R,P.parent.inBrushDrag=!0,W.brushStartCallback()})(this,E)}).on("drag",function(E){v(this,E)}).on("dragend",function(E){(function(C,P){var O=P.brush,R=O.filter,U=O.svgBrush;U._dragging||(y(C,P),v(C,P),P.brush.svgBrush.wasDragged=!1),U._dragging=!1,k.event.sourceEvent.stopPropagation();var z=U.grabbingBar;if(U.grabbingBar=!1,U.grabLocation=void 0,P.parent.inBrushDrag=!1,c(),!U.wasDragged)return U.wasDragged=void 0,U.clickableOrdinalRange?O.filterSpecified&&P.multiselect?U.extent.push(U.clickableOrdinalRange):(U.extent=[U.clickableOrdinalRange],O.filterSpecified=!0):z?(U.extent=U.stayingIntervals,U.extent.length===0&&h(O)):h(O),U.brushCallback(P),f(C.parentNode),void U.brushEndCallback(O.filterSpecified?R.getConsolidated():[]);var N=function(){R.set(R.getConsolidated())};if(P.ordinal){var W=P.unitTickvals;W[W.length-1]<W[0]&&W.reverse(),U.newExtent=[n(0,W,U.newExtent[0],U.stayingIntervals),n(1,W,U.newExtent[1],U.stayingIntervals)];var F=U.newExtent[1]>U.newExtent[0];U.extent=U.stayingIntervals.concat(F?[U.newExtent]:[]),U.extent.length||h(O),U.brushCallback(P),F?f(C.parentNode,N):(N(),f(C.parentNode))}else N();U.brushEndCallback(O.filterSpecified?R.getConsolidated():[])})(this,E)}))}function _(w,E){return w[0]-E[0]}function h(w){w.filterSpecified=!1,w.svgBrush.extent=[[-1/0,1/0]]}function S(w){for(var E,C=w.slice(),P=[],O=C.shift();O;){for(E=O.slice();(O=C.shift())&&O[0]<=E[1];)E[1]=Math.max(E[1],O[1]);P.push(E)}return P.length===1&&P[0][0]>P[0][1]&&(P=[]),P}ee.exports={makeBrush:function(w,E,C,P,O,R){var U,z=function(){var N,W,F=[];return{set:function(V){(F=V.map(function(j){return j.slice().sort(b)}).sort(_)).length===1&&F[0][0]===-1/0&&F[0][1]===1/0&&(F=[[0,-1]]),N=S(F),W=F.reduce(function(j,te){return[Math.min(j[0],te[0]),Math.max(j[1],te[1])]},[1/0,-1/0])},get:function(){return F.slice()},getConsolidated:function(){return N},getBounds:function(){return W}}}();return z.set(C),{filter:z,filterSpecified:E,svgBrush:{extent:[],brushStartCallback:P,brushCallback:(U=O,function(N){var W=N.brush,F=function(j){return j.svgBrush.extent.map(function(te){return te.slice()})}(W),V=F.slice();W.filter.set(V),U()}),brushEndCallback:R}}},ensureAxisBrush:function(w,E,C){var P=w.selectAll("."+M.cn.axisBrush).data(T,a);P.enter().append("g").classed(M.cn.axisBrush,!0),function(O,R,U){var z=U._context.staticPlot,N=O.selectAll(".background").data(T);N.enter().append("rect").classed("background",!0).call(o).call(l).style("pointer-events",z?"none":"auto").attr("transform",g(0,M.verticalPadding)),N.call(x).attr("height",function(V){return V.height-M.verticalPadding});var W=O.selectAll(".highlight-shadow").data(T);W.enter().append("line").classed("highlight-shadow",!0).attr("x",-M.bar.width/2).attr("stroke-width",M.bar.width+M.bar.strokeWidth).attr("stroke",R).attr("opacity",M.bar.strokeOpacity).attr("stroke-linecap","butt"),W.attr("y1",function(V){return V.height}).call(m);var F=O.selectAll(".highlight").data(T);F.enter().append("line").classed("highlight",!0).attr("x",-M.bar.width/2).attr("stroke-width",M.bar.width-M.bar.strokeWidth).attr("stroke",M.bar.fillColor).attr("opacity",M.bar.fillOpacity).attr("stroke-linecap","butt"),F.attr("y1",function(V){return V.height}).call(m)}(P,E,C)},cleanRanges:function(w,E){if(Array.isArray(w[0])?(w=w.map(function(P){return P.sort(b)}),w=E.multiselect?S(w.sort(_)):[w[0]]):w=[w.sort(b)],E.tickvals){var C=E.tickvals.slice().sort(b);if(!(w=w.map(function(P){var O=[n(0,C,P[0],[]),n(1,C,P[1],[])];if(O[1]>O[0])return O}).filter(function(P){return P})).length)return}return w.length>1?w:w[0]}}},61664:function(ee,D,e){ee.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(ee,D,e){var M=e(33428),k=e(84888)._M,a=e(24196),T=e(9616);D.name="parcoords",D.plot=function(b){var g=k(b.calcdata,"parcoords")[0];g.length&&a(b,g)},D.clean=function(b,g,s,t){var i=t._has&&t._has("parcoords"),r=g._has&&g._has("parcoords");i&&!r&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},D.toSVG=function(b){var g=b._fullLayout._glimages,s=M.select(b).selectAll(".svg-container");s.filter(function(t,i){return i===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,i=t.toDataURL("image/png");g.append("svg:image").attr({xmlns:T.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){M.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(ee,D,e){var M=e(3400).isArrayOrTypedArray,k=e(8932),a=e(71688).wrap;ee.exports=function(T,b){var g,s;return k.hasColorscale(b,"line")&&M(b.line.color)?(g=b.line.color,s=k.extractOpts(b.line).colorscale,k.calc(T,b,{vals:g,containerStr:"line",cLetter:"c"})):(g=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=.5;return i}(b._length),s=[[0,b.line.color],[1,b.line.color]]),a({lineColor:g,cscale:s})}},30140:function(ee){ee.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(ee,D,e){var M=e(3400),k=e(94288).hasColorscale,a=e(27260),T=e(86968).Q,b=e(51272),g=e(54460),s=e(82296),t=e(71864),i=e(30140).maxDimensionCount,r=e(26284);function n(o,l,u,d){function c(y,x){return M.coerce(o,l,s.dimensions,y,x)}var m=c("values"),f=c("visible");if(m&&m.length||(f=l.visible=!1),f){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var p=c("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},g.setConvert(l._ax,d.layout),c("multiselect");var v=c("constraintrange");v&&(l.constraintrange=t.cleanRanges(v,l))}}ee.exports=function(o,l,u,d){function c(y,x){return M.coerce(o,l,s,y,x)}var m=o.dimensions;Array.isArray(m)&&m.length>i&&(M.log("parcoords traces support up to "+i+" dimensions at the moment"),m.splice(i));var f=b(o,l,{name:"dimensions",layout:d,handleItemDefaults:n}),p=function(y,x,_,h,S){var w=S("line.color",_);if(k(y,"line")&&M.isArrayOrTypedArray(w)){if(w.length)return S("line.colorscale"),a(y,x,h,S,{prefix:"line.",cLetter:"c"}),w.length;x.line.color=_}return 1/0}(o,l,u,d,c);T(l,d,c),Array.isArray(f)&&f.length||(l.visible=!1),r(l,f,"values",p);var v={family:d.font.family,size:Math.round(d.font.size/1.2),color:d.font.color};M.coerceFont(c,"labelfont",v),M.coerceFont(c,"tickfont",v),M.coerceFont(c,"rangefont",v),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(ee,D,e){var M=e(3400).isTypedArray;D.convertTypedArray=function(k){return M(k)?Array.prototype.slice.call(k):k},D.isOrdinal=function(k){return!!k.tickvals},D.isVisible=function(k){return k.visible||!("visible"in k)}},29928:function(ee,D,e){var M=e(61664);M.plot=e(24196),ee.exports=M},51352:function(ee,D,e){var M=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),k=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),a=e(30140).maxDimensionCount,T=e(3400),b=1e-6,g=new Uint8Array(4),s=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(f,p,v,y,x){var _=f._gl;_.enable(_.SCISSOR_TEST),_.scissor(p,v,y,x),f.clear({color:[0,0,0,0],depth:1})}function r(f,p,v,y,x,_){var h=_.key;v.drawCompleted||(function(S){S.read({x:0,y:0,width:1,height:1,data:g})}(f),v.drawCompleted=!0),function S(w){var E=Math.min(y,x-w*y);w===0&&(window.cancelAnimationFrame(v.currentRafs[h]),delete v.currentRafs[h],i(f,_.scissorX,_.scissorY,_.scissorWidth,_.viewBoxSize[1])),v.clearOnly||(_.count=2*E,_.offset=2*w*y,p(_),w*y+E<x&&(v.currentRafs[h]=window.requestAnimationFrame(function(){S(w+1)})),v.drawCompleted=!1)}(0)}function n(f,p){for(var v=new Array(256),y=0;y<256;y++)v[y]=f(y/255).concat(p);return v}function o(f,p){return(f>>>8*p)%256/255}function l(f,p,v){for(var y=new Array(8*p),x=0,_=0;_<p;_++)for(var h=0;h<2;h++)for(var S=0;S<4;S++){var w=4*f+S,E=v[64*_+w];w===63&&h===0&&(E*=-1),y[x++]=E}return y}function u(f){var p="0"+f;return p.substr(p.length-2)}function d(f){return f<a?"p"+u(f+1)+"_"+u(f+4):"colors"}function c(f,p,v,y,x,_,h,S,w,E,C,P,O,R){for(var U=[[],[]],z=0;z<64;z++)U[0][z]=z===x?1:0,U[1][z]=z===_?1:0;h*=R,S*=R,w*=R,E*=R;var N=f.lines.canvasOverdrag*R,W=f.domain,F=f.canvasWidth*R,V=f.canvasHeight*R,j=f.pad.l*R,te=f.pad.b*R,J=f.layoutHeight*R,K=f.layoutWidth*R,Z=f.deselectedLines.color,X=f.deselectedLines.opacity;return T.extendFlat({key:C,resolution:[F,V],viewBoxPos:[h+N,S],viewBoxSize:[w,E],i0:x,i1:_,dim0A:U[0].slice(0,16),dim0B:U[0].slice(16,32),dim0C:U[0].slice(32,48),dim0D:U[0].slice(48,64),dim1A:U[1].slice(0,16),dim1B:U[1].slice(16,32),dim1C:U[1].slice(32,48),dim1D:U[1].slice(48,64),drwLayer:P,contextColor:[Z[0]/255,Z[1]/255,Z[2]/255,X!=="auto"?Z[3]*X:Math.max(.00392156862745098,Math.pow(1/f.lines.color.length,.3333333333333333))],scissorX:(y===p?0:h+N)+(j-N)+K*W.x[0],scissorWidth:(y===v?F-h+N:w+.5)+(y===p?h+N:0),scissorY:S+te+J*W.y[0],scissorHeight:E,viewportX:j-N+K*W.x[0],viewportY:te+J*W.y[0],viewportWidth:F,viewportHeight:V},O)}function m(f){var p=2047,v=Math.max(0,Math.floor(f[0]*p),0),y=Math.min(p,Math.ceil(f[1]*p),p);return[Math.min(v,y),Math.max(v,y)]}ee.exports=function(f,p){var v,y,x,_,h,S=p.context,w=p.pick,E=p.regl,C=E._gl,P=C.getParameter(C.ALIASED_LINE_WIDTH_RANGE),O=Math.max(P[0],Math.min(P[1],p.viewModel.plotGlPixelRatio)),R={currentRafs:{},drawCompleted:!0,clearOnly:!1},U=function(V){for(var j={},te=0;te<=a;te+=4)j[d(te)]=V.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return j}(E),z=E.texture(t),N=[];F(p);var W=E({profile:!1,blend:{enable:S,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!S,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:M,frag:k,primitive:"lines",lineWidth:O,attributes:U,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:z,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function F(V){v=V.model,y=V.viewModel,x=y.dimensions.slice(),_=x[0]?x[0].values.length:0;var j=v.lines,te=w?j.color.map(function(K,Z){return Z/j.color.length}):j.color,J=function(K,Z,X){for(var Q,re=new Array(K*(a+4)),ae=0,ie=0;ie<K;ie++){for(var le=0;le<a;le++)re[ae++]=le<Z.length?Z[le].paddedUnitValues[ie]:.5;re[ae++]=o(ie,2),re[ae++]=o(ie,1),re[ae++]=o(ie,0),re[ae++]=(Q=X[ie],Math.max(b,Math.min(.999999,Q)))}return re}(_,x,te);(function(K,Z,X){for(var Q=0;Q<=a;Q+=4)K[d(Q)](l(Q/4,Z,X))})(U,_,J),S||w||(z=E.texture(T.extendFlat({data:n(v.unitToColor,255)},t)))}return{render:function(V,j,te){var J,K,Z,X=V.length,Q=1/0,re=-1/0;for(J=0;J<X;J++)V[J].dim0.canvasX<Q&&(Q=V[J].dim0.canvasX,K=J),V[J].dim1.canvasX>re&&(re=V[J].dim1.canvasX,Z=J);X===0&&i(E,0,0,v.canvasWidth,v.canvasHeight);var ae=function(we){var ue,oe,he,Ee=[[],[]];for(he=0;he<64;he++){var Te=!we&&he<x.length?x[he].brush.filter.getBounds():[-1/0,1/0];Ee[0][he]=Te[0],Ee[1][he]=Te[1]}var Me=new Array(16384);for(ue=0;ue<16384;ue++)Me[ue]=255;if(!we)for(ue=0;ue<x.length;ue++){var Se=ue%8,ze=(ue-Se)/8,fe=Math.pow(2,Se),xe=x[ue].brush.filter.get();if(!(xe.length<2)){var _e=m(xe[0])[1];for(oe=1;oe<xe.length;oe++){var Oe=m(xe[oe]);for(he=_e+1;he<Oe[0];he++)Me[8*he+ze]&=~fe;_e=Math.max(_e,Oe[1])}}}var De={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Me};return h?h(De):h=E.texture(De),{maskTexture:h,maskHeight:2048,loA:Ee[0].slice(0,16),loB:Ee[0].slice(16,32),loC:Ee[0].slice(32,48),loD:Ee[0].slice(48,64),hiA:Ee[1].slice(0,16),hiB:Ee[1].slice(16,32),hiC:Ee[1].slice(32,48),hiD:Ee[1].slice(48,64)}}(S);for(J=0;J<X;J++){var ie=V[J],le=ie.dim0.crossfilterDimensionIndex,pe=ie.dim1.crossfilterDimensionIndex,de=ie.canvasX,ve=ie.canvasY,be=de+ie.panelSizeX,me=ie.plotGlPixelRatio;if(j||!N[le]||N[le][0]!==de||N[le][1]!==be){N[le]=[de,be];var ge=c(v,K,Z,J,le,pe,de,ve,ie.panelSizeX,ie.panelSizeY,ie.dim0.crossfilterDimensionIndex,S?0:w?2:1,ae,me);R.clearOnly=te;var ke=j?v.lines.blockLineCount:_;r(E,W,R,ke,_,ge)}}},readPixel:function(V,j){return E.read({x:V,y:j,width:1,height:1,data:s}),s},readPixels:function(V,j,te,J){var K=new Uint8Array(4*te*J);return E.read({x:V,y:j,width:te,height:J,data:K}),K},destroy:function(){for(var V in f.style["pointer-events"]="none",z.destroy(),h&&h.destroy(),U)U[V].destroy()},update:F}}},26284:function(ee){ee.exports=function(D,e,M,k){var a,T;for(k||(k=1/0),a=0;a<e.length;a++)(T=e[a]).visible&&(k=Math.min(k,T[M].length));for(k===1/0&&(k=0),D._length=k,a=0;a<e.length;a++)(T=e[a]).visible&&(T._length=k);return k}},36336:function(ee,D,e){var M=e(33428),k=e(3400),a=k.isArrayOrTypedArray,T=k.numberFormat,b=e(96824),g=e(54460),s=k.strRotate,t=k.strTranslate,i=e(72736),r=e(43616),n=e(8932),o=e(71688),l=o.keyFun,u=o.repeat,d=o.unwrap,c=e(95724),m=e(30140),f=e(71864),p=e(51352);function v(W,F,V){return k.aggNums(W,null,F,V)}function y(W,F){return _(v(Math.min,W,F),v(Math.max,W,F))}function x(W){var F=W.range;return F?_(F[0],F[1]):y(W.values,W._length)}function _(W,F){return!isNaN(W)&&isFinite(W)||(W=0),!isNaN(F)&&isFinite(F)||(F=0),W===F&&(W===0?(W-=1,F+=1):(W*=.9,F*=1.1)),[W,F]}function h(W,F,V,j,te){var J,K,Z=x(V);return j?M.scale.ordinal().domain(j.map((J=T(V.tickformat),K=te,K?function(X,Q){var re=K[Q];return re??J(X)}:J))).range(j.map(function(X){var Q=(X-Z[0])/(Z[1]-Z[0]);return W-F+Q*(2*F-W)})):M.scale.linear().domain(Z).range([W-F,F])}function S(W){if(W.tickvals){var F=x(W);return M.scale.ordinal().domain(W.tickvals).range(W.tickvals.map(function(V){return(V-F[0])/(F[1]-F[0])}))}}function w(W){var F=W.map(function(te){return te[0]}),V=W.map(function(te){var J=b(te[1]);return M.rgb("rgb("+J[0]+","+J[1]+","+J[2]+")")}),j="rgb".split("").map(function(te){return M.scale.linear().clamp(!0).domain(F).range(V.map((J=te,function(K){return K[J]})));var J});return function(te){return j.map(function(J){return J(te)})}}function E(W){return W.dimensions.some(function(F){return F.brush.filterSpecified})}function C(W,F,V){var j=d(F),te=j.trace,J=c.convertTypedArray(j.lineColor),K=te.line,Z={color:b(te.unselected.line.color),opacity:te.unselected.line.opacity},X=n.extractOpts(K),Q=X.reversescale?n.flipScale(j.cscale):j.cscale,re=te.domain,ae=te.dimensions,ie=W.width,le=te.labelangle,pe=te.labelside,de=te.labelfont,ve=te.tickfont,be=te.rangefont,me=k.extendDeepNoArrays({},K,{color:J.map(M.scale.linear().domain(x({values:J,range:[X.min,X.max],_length:te._length}))),blockLineCount:m.blockLineCount,canvasOverdrag:m.overdrag*m.canvasPixelRatio}),ge=Math.floor(ie*(re.x[1]-re.x[0])),ke=Math.floor(W.height*(re.y[1]-re.y[0])),we=W.margin||{l:80,r:80,t:100,b:80},ue=ge,oe=ke;return{key:V,colCount:ae.filter(c.isVisible).length,dimensions:ae,tickDistance:m.tickDistance,unitToColor:w(Q),lines:me,deselectedLines:Z,labelAngle:le,labelSide:pe,labelFont:de,tickFont:ve,rangeFont:be,layoutWidth:ie,layoutHeight:W.height,domain:re,translateX:re.x[0]*ie,translateY:W.height-re.y[1]*W.height,pad:we,canvasWidth:ue*m.canvasPixelRatio+2*me.canvasOverdrag,canvasHeight:oe*m.canvasPixelRatio,width:ue,height:oe,canvasPixelRatio:m.canvasPixelRatio}}function P(W,F,V){var j=V.width,te=V.height,J=V.dimensions,K=V.canvasPixelRatio,Z=function(ie){return j*ie/Math.max(1,V.colCount-1)},X=m.verticalPadding/te,Q=function(ie,le){return M.scale.linear().range([le,ie-le])}(te,m.verticalPadding),re={key:V.key,xScale:Z,model:V,inBrushDrag:!1},ae={};return re.dimensions=J.filter(c.isVisible).map(function(ie,le){var pe=function(Se,ze){return M.scale.linear().domain(x(Se)).range([ze,1-ze])}(ie,X),de=ae[ie.label];ae[ie.label]=(de||0)+1;var ve=ie.label+(de?"__"+de:""),be=ie.constraintrange,me=be&&be.length;me&&!a(be[0])&&(be=[be]);var ge=me?be.map(function(Se){return Se.map(pe)}):[[-1/0,1/0]],ke=ie.values;ke.length>ie._length&&(ke=ke.slice(0,ie._length));var we,ue=ie.tickvals;function oe(Se,ze){return{val:Se,text:we[ze]}}function he(Se,ze){return Se.val-ze.val}if(a(ue)&&ue.length){k.isTypedArray(ue)&&(ue=Array.from(ue)),we=ie.ticktext,a(we)&&we.length?we.length>ue.length?we=we.slice(0,ue.length):ue.length>we.length&&(ue=ue.slice(0,we.length)):we=ue.map(T(ie.tickformat));for(var Ee=1;Ee<ue.length;Ee++)if(ue[Ee]<ue[Ee-1]){for(var Te=ue.map(oe).sort(he),Me=0;Me<ue.length;Me++)ue[Me]=Te[Me].val,we[Me]=Te[Me].text;break}}else ue=void 0;return ke=c.convertTypedArray(ke),{key:ve,label:ie.label,tickFormat:ie.tickformat,tickvals:ue,ticktext:we,ordinal:c.isOrdinal(ie),multiselect:ie.multiselect,xIndex:le,crossfilterDimensionIndex:le,visibleIndex:ie._index,height:te,values:ke,paddedUnitValues:ke.map(pe),unitTickvals:ue&&ue.map(pe),xScale:Z,x:Z(le),canvasX:Z(le)*K,unitToPaddedPx:Q,domainScale:h(te,m.verticalPadding,ie,ue,we),ordinalScale:S(ie),parent:re,model:V,brush:f.makeBrush(W,me,ge,function(){W.linePickActive(!1)},function(){var Se=re;Se.focusLayer&&Se.focusLayer.render(Se.panels,!0);var ze=E(Se);!W.contextShown()&&ze?(Se.contextLayer&&Se.contextLayer.render(Se.panels,!0),W.contextShown(!0)):W.contextShown()&&!ze&&(Se.contextLayer&&Se.contextLayer.render(Se.panels,!0,!0),W.contextShown(!1))},function(Se){if(re.focusLayer.render(re.panels,!0),re.pickLayer&&re.pickLayer.render(re.panels,!0),W.linePickActive(!0),F&&F.filterChanged){var ze=pe.invert,fe=Se.map(function(xe){return xe.map(ze).sort(k.sorterAsc)}).sort(function(xe,_e){return xe[0]-_e[0]});F.filterChanged(re.key,ie._index,fe)}})}}),re}function O(W){W.classed(m.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function R(W,F){var V=F==="top"?1:-1,j=W*Math.PI/180;return{dir:V,dx:Math.sin(j),dy:Math.cos(j),degrees:W}}function U(W,F,V){for(var j=F.panels||(F.panels=[]),te=W.data(),J=0;J<te.length-1;J++){var K=j[J]||(j[J]={}),Z=te[J],X=te[J+1];K.dim0=Z,K.dim1=X,K.canvasX=Z.canvasX,K.panelSizeX=X.canvasX-Z.canvasX,K.panelSizeY=F.model.canvasHeight,K.y=0,K.canvasY=0,K.plotGlPixelRatio=V}}function z(W,F){return g.tickText(W._ax,F,!1).text}function N(W,F){if(W.ordinal)return"";var V=W.domainScale.domain(),j=V[F?V.length-1:0];return z(W.model.dimensions[W.visibleIndex],j)}ee.exports=function(W,F,V,j){var te=W._context.staticPlot,J=W._fullLayout,K=J._toppaper,Z=J._glcontainer,X=W._context.plotGlPixelRatio,Q=W._fullLayout.paper_bgcolor;(function(Se){for(var ze=0;ze<Se.length;ze++)for(var fe=0;fe<Se[ze].length;fe++)for(var xe=Se[ze][fe].trace,_e=xe.dimensions,Oe=0;Oe<_e.length;Oe++){var De=_e[Oe].values,Pe=_e[Oe]._ax;Pe&&(Pe.range?Pe.range=_(Pe.range[0],Pe.range[1]):Pe.range=y(De,xe._length),Pe.dtick||(Pe.dtick=.01*(Math.abs(Pe.range[1]-Pe.range[0])||1)),Pe.tickformat=_e[Oe].tickformat,g.calcTicks(Pe),Pe.cleanRange())}})(F);var re,ae,ie=(re=!0,ae=!1,{linePickActive:function(Se){return arguments.length?re=!!Se:re},contextShown:function(Se){return arguments.length?ae=!!Se:ae}}),le=F.filter(function(Se){return d(Se).trace.visible}).map(C.bind(0,V)).map(P.bind(0,ie,j));Z.each(function(Se,ze){return k.extendFlat(Se,le[ze])});var pe=Z.selectAll(".gl-canvas").each(function(Se){Se.viewModel=le[0],Se.viewModel.plotGlPixelRatio=X,Se.viewModel.paperColor=Q,Se.model=Se.viewModel?Se.viewModel.model:null}),de=null;pe.filter(function(Se){return Se.pick}).style("pointer-events",te?"none":"auto").on("mousemove",function(Se){if(ie.linePickActive()&&Se.lineLayer&&j&&j.hover){var ze=M.event,fe=this.width,xe=this.height,_e=M.mouse(this),Oe=_e[0],De=_e[1];if(Oe<0||De<0||Oe>=fe||De>=xe)return;var Pe=Se.lineLayer.readPixel(Oe,xe-1-De),Ue=Pe[3]!==0,Ve=Ue?Pe[2]+256*(Pe[1]+256*Pe[0]):null,Xe={x:Oe,y:De,clientX:ze.clientX,clientY:ze.clientY,dataIndex:Se.model.key,curveNumber:Ve};Ve!==de&&(Ue?j.hover(Xe):j.unhover&&j.unhover(Xe),de=Ve)}}),pe.style("opacity",function(Se){return Se.pick?0:1}),K.style("background","rgba(255, 255, 255, 0)");var ve=K.selectAll("."+m.cn.parcoords).data(le,l);ve.exit().remove(),ve.enter().append("g").classed(m.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),ve.attr("transform",function(Se){return t(Se.model.translateX,Se.model.translateY)});var be=ve.selectAll("."+m.cn.parcoordsControlView).data(u,l);be.enter().append("g").classed(m.cn.parcoordsControlView,!0),be.attr("transform",function(Se){return t(Se.model.pad.l,Se.model.pad.t)});var me=be.selectAll("."+m.cn.yAxis).data(function(Se){return Se.dimensions},l);me.enter().append("g").classed(m.cn.yAxis,!0),be.each(function(Se){U(me,Se,X)}),pe.each(function(Se){if(Se.viewModel){!Se.lineLayer||j?Se.lineLayer=p(this,Se):Se.lineLayer.update(Se),(Se.key||Se.key===0)&&(Se.viewModel[Se.key]=Se.lineLayer);var ze=!Se.context||j;Se.lineLayer.render(Se.viewModel.panels,ze)}}),me.attr("transform",function(Se){return t(Se.xScale(Se.xIndex),0)}),me.call(M.behavior.drag().origin(function(Se){return Se}).on("drag",function(Se){var ze=Se.parent;ie.linePickActive(!1),Se.x=Math.max(-m.overdrag,Math.min(Se.model.width+m.overdrag,M.event.x)),Se.canvasX=Se.x*Se.model.canvasPixelRatio,me.sort(function(fe,xe){return fe.x-xe.x}).each(function(fe,xe){fe.xIndex=xe,fe.x=Se===fe?fe.x:fe.xScale(fe.xIndex),fe.canvasX=fe.x*fe.model.canvasPixelRatio}),U(me,ze,X),me.filter(function(fe){return Math.abs(Se.xIndex-fe.xIndex)!==0}).attr("transform",function(fe){return t(fe.xScale(fe.xIndex),0)}),M.select(this).attr("transform",t(Se.x,0)),me.each(function(fe,xe,_e){_e===Se.parent.key&&(ze.dimensions[xe]=fe)}),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!E(ze)),ze.focusLayer.render&&ze.focusLayer.render(ze.panels)}).on("dragend",function(Se){var ze=Se.parent;Se.x=Se.xScale(Se.xIndex),Se.canvasX=Se.x*Se.model.canvasPixelRatio,U(me,ze,X),M.select(this).attr("transform",function(fe){return t(fe.x,0)}),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!E(ze)),ze.focusLayer&&ze.focusLayer.render(ze.panels),ze.pickLayer&&ze.pickLayer.render(ze.panels,!0),ie.linePickActive(!0),j&&j.axesMoved&&j.axesMoved(ze.key,ze.dimensions.map(function(fe){return fe.crossfilterDimensionIndex}))})),me.exit().remove();var ge=me.selectAll("."+m.cn.axisOverlays).data(u,l);ge.enter().append("g").classed(m.cn.axisOverlays,!0),ge.selectAll("."+m.cn.axis).remove();var ke=ge.selectAll("."+m.cn.axis).data(u,l);ke.enter().append("g").classed(m.cn.axis,!0),ke.each(function(Se){var ze=Se.model.height/Se.model.tickDistance,fe=Se.domainScale,xe=fe.domain();M.select(this).call(M.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(ze,Se.tickFormat).tickValues(Se.ordinal?xe:null).tickFormat(function(_e){return c.isOrdinal(Se)?_e:z(Se.model.dimensions[Se.visibleIndex],_e)}).scale(fe)),r.font(ke.selectAll("text"),Se.model.tickFont)}),ke.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),ke.selectAll("text").style("text-shadow",i.makeTextShadow(Q)).style("cursor","default");var we=ge.selectAll("."+m.cn.axisHeading).data(u,l);we.enter().append("g").classed(m.cn.axisHeading,!0);var ue=we.selectAll("."+m.cn.axisTitle).data(u,l);ue.enter().append("text").classed(m.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",te?"none":"auto"),ue.text(function(Se){return Se.label}).each(function(Se){var ze=M.select(this);r.font(ze,Se.model.labelFont),i.convertToTspans(ze,W)}).attr("transform",function(Se){var ze=R(Se.model.labelAngle,Se.model.labelSide),fe=m.axisTitleOffset;return(ze.dir>0?"":t(0,2*fe+Se.model.height))+s(ze.degrees)+t(-fe*ze.dx,-fe*ze.dy)}).attr("text-anchor",function(Se){var ze=R(Se.model.labelAngle,Se.model.labelSide);return 2*Math.abs(ze.dx)>Math.abs(ze.dy)?ze.dir*ze.dx<0?"start":"end":"middle"});var oe=ge.selectAll("."+m.cn.axisExtent).data(u,l);oe.enter().append("g").classed(m.cn.axisExtent,!0);var he=oe.selectAll("."+m.cn.axisExtentTop).data(u,l);he.enter().append("g").classed(m.cn.axisExtentTop,!0),he.attr("transform",t(0,-m.axisExtentOffset));var Ee=he.selectAll("."+m.cn.axisExtentTopText).data(u,l);Ee.enter().append("text").classed(m.cn.axisExtentTopText,!0).call(O),Ee.text(function(Se){return N(Se,!0)}).each(function(Se){r.font(M.select(this),Se.model.rangeFont)});var Te=oe.selectAll("."+m.cn.axisExtentBottom).data(u,l);Te.enter().append("g").classed(m.cn.axisExtentBottom,!0),Te.attr("transform",function(Se){return t(0,Se.model.height+m.axisExtentOffset)});var Me=Te.selectAll("."+m.cn.axisExtentBottomText).data(u,l);Me.enter().append("text").classed(m.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(O),Me.text(function(Se){return N(Se,!1)}).each(function(Se){r.font(M.select(this),Se.model.rangeFont)}),f.ensureAxisBrush(ge,Q,W)}},24196:function(ee,D,e){var M=e(36336),k=e(5048),a=e(95724).isVisible,T={};function b(g,s,t){var i=s.indexOf(t),r=g.indexOf(i);return r===-1&&(r+=s.length),r}(ee.exports=function(g,s){var t=g._fullLayout;if(k(g,[],T)){var i={},r={},n={},o={},l=t._size;s.forEach(function(u,d){var c=u[0].trace;n[d]=c.index;var m=o[d]=c._fullInput.index;i[d]=g.data[m].dimensions,r[d]=g.data[m].dimensions.slice()}),M(g,s,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:function(u,d,c){var m=r[u][d],f=c.map(function(h){return h.slice()}),p="dimensions["+d+"].constraintrange",v=t._tracePreGUI[g._fullData[n[u]]._fullInput.uid];if(v[p]===void 0){var y=m.constraintrange;v[p]=y||null}var x=g._fullData[n[u]].dimensions[d];f.length?(f.length===1&&(f=f[0]),m.constraintrange=f,x.constraintrange=f.slice(),f=[f]):(delete m.constraintrange,delete x.constraintrange,f=null);var _={};_[p]=f,g.emit("plotly_restyle",[_,[o[u]]])},hover:function(u){g.emit("plotly_hover",u)},unhover:function(u){g.emit("plotly_unhover",u)},axesMoved:function(u,d){var c=function(m,f){return function(p,v){return b(m,f,p)-b(m,f,v)}}(d,r[u].filter(a));i[u].sort(c),r[u].filter(function(m){return!a(m)}).sort(function(m){return r[u].indexOf(m)}).forEach(function(m){i[u].splice(i[u].indexOf(m),1),i[u].splice(r[u].indexOf(m),0,m)}),g.emit("plotly_restyle",[{dimensions:[i[u]]},[o[u]]])}})}}).reglPrecompiled=T},74996:function(ee,D,e){var M=e(45464),k=e(86968).u,a=e(25376),T=e(22548),b=e(21776).Ks,g=e(21776).Gw,s=e(92880).extendFlat,t=e(98192).c,i=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});ee.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:T.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},M.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","percent","text"]}),texttemplate:g({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},i,{}),outsidetextfont:s({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:k({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(ee,D,e){var M=e(7316);D.name="pie",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},45768:function(ee,D,e){var M=e(38248),k=e(49760),a=e(76308),T={};function b(s){return function(t,i){return!!t&&!!(t=k(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),s[i]||(s[i]=t),t)}}function g(s,t){var i,r=JSON.stringify(s),n=t[r];if(!n){for(n=s.slice(),i=0;i<s.length;i++)n.push(k(s[i]).lighten(20).toHexString());for(i=0;i<s.length;i++)n.push(k(s[i]).darken(20).toHexString());t[r]=n}return n}ee.exports={calc:function(s,t){var i,r,n=[],o=s._fullLayout,l=o.hiddenlabels||[],u=t.labels,d=t.marker.colors||[],c=t.values,m=t._length,f=t._hasValues&&m;if(t.dlabel)for(u=new Array(m),i=0;i<m;i++)u[i]=String(t.label0+i*t.dlabel);var p={},v=b(o["_"+t.type+"colormap"]),y=0,x=!1;for(i=0;i<m;i++){var _,h,S;if(f){if(_=c[i],!M(_))continue;_=+_}else _=1;(h=u[i])!==void 0&&h!==""||(h=i);var w=p[h=String(h)];w===void 0?(p[h]=n.length,(S=l.indexOf(h)!==-1)||(y+=_),n.push({v:_,label:h,color:v(d[i],h),i,pts:[i],hidden:S})):(x=!0,(r=n[w]).v+=_,r.pts.push(i),r.hidden||(y+=_),r.color===!1&&d[i]&&(r.color=v(d[i],h)))}return n=n.filter(function(E){return E.v>=0}),(t.type==="funnelarea"?x:t.sort)&&n.sort(function(E,C){return C.v-E.v}),n[0]&&(n[0].vTotal=y),n},crossTraceCalc:function(s,t){var i=(t||{}).type;i||(i="pie");var r=s._fullLayout,n=s.calcdata,o=r[i+"colorway"],l=r["_"+i+"colormap"];r["extend"+i+"colors"]&&(o=g(o,T));for(var u=0,d=0;d<n.length;d++){var c=n[d];if(c[0].trace.type===i)for(var m=0;m<c.length;m++){var f=c[m];f.color===!1&&(l[f.label]?f.color=l[f.label]:(l[f.label]=f.color=o[u%o.length],u++))}}},makePullColorFn:b,generateExtendedColors:g}},74174:function(ee,D,e){var M=e(38248),k=e(3400),a=e(74996),T=e(86968).Q,b=e(31508).handleText,g=e(3400).coercePattern;function s(i,r){var n=k.isArrayOrTypedArray(i),o=k.isArrayOrTypedArray(r),l=Math.min(n?i.length:1/0,o?r.length:1/0);if(isFinite(l)||(l=0),l&&o){for(var u,d=0;d<l;d++){var c=r[d];if(M(c)&&c>0){u=!0;break}}u||(l=0)}return{hasLabels:n,hasValues:o,len:l}}function t(i,r,n,o,l){o("marker.line.width")&&o("marker.line.color",l?void 0:n.paper_bgcolor);var u=o("marker.colors");g(o,"marker.pattern",u),i.marker&&!r.marker.pattern.fgcolor&&(r.marker.pattern.fgcolor=i.marker.colors),r.marker.pattern.bgcolor||(r.marker.pattern.bgcolor=n.paper_bgcolor)}ee.exports={handleLabelsAndValues:s,handleMarkerDefaults:t,supplyDefaults:function(i,r,n,o){function l(x,_){return k.coerce(i,r,a,x,_)}var u=s(l("labels"),l("values")),d=u.len;if(r._hasLabels=u.hasLabels,r._hasValues=u.hasValues,!r._hasLabels&&r._hasValues&&(l("label0"),l("dlabel")),d){r._length=d,t(i,r,o,l,!0),l("scalegroup");var c,m=l("text"),f=l("texttemplate");if(f||(c=l("textinfo",k.isArrayOrTypedArray(m)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),f||c&&c!=="none"){var p=l("textposition");b(i,r,o,l,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(p)||p==="auto"||p==="outside")&&l("automargin"),(p==="inside"||p==="auto"||Array.isArray(p))&&l("insidetextorientation")}else c==="none"&&l("textposition","none");T(r,o,l);var v=l("hole");if(l("title.text")){var y=l("title.position",v?"middle center":"top center");v||y!=="middle center"||(r.title.position="top center"),k.coerceFont(l,"title.font",o.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else r.visible=!1}}},53644:function(ee,D,e){var M=e(10624).appendArrayMultiPointValues;ee.exports=function(k,a){var T={curveNumber:a.index,pointNumbers:k.pts,data:a._input,fullData:a,label:k.label,color:k.color,value:k.v,percent:k.percent,text:k.text,bbox:k.bbox,v:k.v};return k.pts.length===1&&(T.pointNumber=T.i=k.pts[0]),M(T,a,k.pts),a.type==="funnelarea"&&(delete T.v,delete T.i),T}},21552:function(ee,D,e){var M=e(43616),k=e(76308);ee.exports=function(a,T,b,g){var s=b.marker.pattern;s&&s.shape?M.pointStyle(a,b,g,T):k.fill(a,T.color)}},69656:function(ee,D,e){var M=e(3400);function k(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}D.formatPiePercent=function(a,T){var b=k((100*a).toPrecision(3));return M.numSeparate(b,T)+"%"},D.formatPieValue=function(a,T){var b=k(a.toPrecision(10));return M.numSeparate(b,T)},D.getFirstFilled=function(a,T){if(M.isArrayOrTypedArray(a))for(var b=0;b<T.length;b++){var g=a[T[b]];if(g||g===0||g==="")return g}},D.castOption=function(a,T){return M.isArrayOrTypedArray(a)?D.getFirstFilled(a,T):a||void 0},D.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},75792:function(ee,D,e){ee.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(ee){ee.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(ee,D,e){var M=e(3400),k=e(85204);ee.exports=function(a,T){function b(g,s){return M.coerce(a,T,k,g,s)}b("hiddenlabels"),b("piecolorway",T.colorway),b("extendpiecolors")}},37820:function(ee,D,e){var M=e(33428),k=e(7316),a=e(93024),T=e(76308),b=e(43616),g=e(3400),s=g.strScale,t=g.strTranslate,i=e(72736),r=e(82744),n=r.recordMinTextSize,o=r.clearMinTextSize,l=e(78048).TEXTPAD,u=e(69656),d=e(53644),c=e(3400).isValidTextValue;function m(W,F,V){var j=V[0],te=j.cx,J=j.cy,K=j.trace,Z=K.type==="funnelarea";"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),W.on("mouseover",function(X){var Q=F._fullLayout,re=F._fullData[K.index];if(!F._dragging&&Q.hovermode!==!1){var ae=re.hoverinfo;if(Array.isArray(ae)&&(ae=a.castHoverinfo({hoverinfo:[u.castOption(ae,X.pts)],_module:K._module},Q,0)),ae==="all"&&(ae="label+text+value+percent+name"),re.hovertemplate||ae!=="none"&&ae!=="skip"&&ae){var ie=X.rInscribed||0,le=te+X.pxmid[0]*(1-ie),pe=J+X.pxmid[1]*(1-ie),de=Q.separators,ve=[];if(ae&&ae.indexOf("label")!==-1&&ve.push(X.label),X.text=u.castOption(re.hovertext||re.text,X.pts),ae&&ae.indexOf("text")!==-1){var be=X.text;g.isValidTextValue(be)&&ve.push(be)}X.value=X.v,X.valueLabel=u.formatPieValue(X.v,de),ae&&ae.indexOf("value")!==-1&&ve.push(X.valueLabel),X.percent=X.v/j.vTotal,X.percentLabel=u.formatPiePercent(X.percent,de),ae&&ae.indexOf("percent")!==-1&&ve.push(X.percentLabel);var me=re.hoverlabel,ge=me.font,ke=[];a.loneHover({trace:K,x0:le-ie*j.r,x1:le+ie*j.r,y:pe,_x0:Z?te+X.TL[0]:le-ie*j.r,_x1:Z?te+X.TR[0]:le+ie*j.r,_y0:Z?J+X.TL[1]:pe-ie*j.r,_y1:Z?J+X.BL[1]:pe+ie*j.r,text:ve.join("<br>"),name:re.hovertemplate||ae.indexOf("name")!==-1?re.name:void 0,idealAlign:X.pxmid[0]<0?"left":"right",color:u.castOption(me.bgcolor,X.pts)||X.color,borderColor:u.castOption(me.bordercolor,X.pts),fontFamily:u.castOption(ge.family,X.pts),fontSize:u.castOption(ge.size,X.pts),fontColor:u.castOption(ge.color,X.pts),nameLength:u.castOption(me.namelength,X.pts),textAlign:u.castOption(me.align,X.pts),hovertemplate:u.castOption(re.hovertemplate,X.pts),hovertemplateLabels:X,eventData:[d(X,re)]},{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:F,inOut_bbox:ke}),X.bbox=ke[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,F.emit("plotly_hover",{points:[d(X,re)],event:M.event})}}),W.on("mouseout",function(X){var Q=F._fullLayout,re=F._fullData[K.index],ae=M.select(this).datum();K._hasHoverEvent&&(X.originalEvent=M.event,F.emit("plotly_unhover",{points:[d(ae,re)],event:M.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(a.loneUnhover(Q._hoverlayer.node()),K._hasHoverLabel=!1)}),W.on("click",function(X){var Q=F._fullLayout,re=F._fullData[K.index];F._dragging||Q.hovermode===!1||(F._hoverdata=[d(X,re)],a.click(F,M.event))})}function f(W,F,V){var j=u.castOption(W.insidetextfont.color,F.pts);!j&&W._input.textfont&&(j=u.castOption(W._input.textfont.color,F.pts));var te=u.castOption(W.insidetextfont.family,F.pts)||u.castOption(W.textfont.family,F.pts)||V.family,J=u.castOption(W.insidetextfont.size,F.pts)||u.castOption(W.textfont.size,F.pts)||V.size;return{color:j||T.contrast(F.color),family:te,size:J}}function p(W,F){for(var V,j,te=0;te<W.length;te++)if((j=(V=W[te][0]).trace).title.text){var J=j.title.text;j._meta&&(J=g.templateString(J,j._meta));var K=b.tester.append("text").attr("data-notex",1).text(J).call(b.font,j.title.font).call(i.convertToTspans,F),Z=b.bBox(K.node(),!0);V.titleBox={width:Z.width,height:Z.height},K.remove()}}function v(W,F,V){var j=V.r||F.rpx1,te=F.rInscribed;if(F.startangle===F.stopangle)return{rCenter:1-te,scale:0,rotate:0,textPosAngle:0};var J,K=F.ring,Z=K===1&&Math.abs(F.startangle-F.stopangle)===2*Math.PI,X=F.halfangle,Q=F.midangle,re=V.trace.insidetextorientation,ae=re==="horizontal",ie=re==="tangential",le=re==="radial",pe=re==="auto",de=[];if(!pe){var ve,be=function(oe,he){if(function(Se,ze){var fe=Se.startangle,xe=Se.stopangle;return fe>ze&&ze>xe||fe<ze&&ze<xe}(F,oe)){var Ee=Math.abs(oe-F.startangle),Te=Math.abs(oe-F.stopangle),Me=Ee<Te?Ee:Te;(J=he==="tan"?x(W,j,K,Me,0):y(W,j,K,Me,Math.PI/2)).textPosAngle=oe,de.push(J)}};if(ae||ie){for(ve=4;ve>=-4;ve-=2)be(Math.PI*ve,"tan");for(ve=4;ve>=-4;ve-=2)be(Math.PI*(ve+1),"tan")}if(ae||le){for(ve=4;ve>=-4;ve-=2)be(Math.PI*(ve+1.5),"rad");for(ve=4;ve>=-4;ve-=2)be(Math.PI*(ve+.5),"rad")}}if(Z||pe||ae){var me=Math.sqrt(W.width*W.width+W.height*W.height);if((J={scale:te*j*2/me,rCenter:1-te,rotate:0}).textPosAngle=(F.startangle+F.stopangle)/2,J.scale>=1)return J;de.push(J)}(pe||le)&&((J=y(W,j,K,X,Q)).textPosAngle=(F.startangle+F.stopangle)/2,de.push(J)),(pe||ie)&&((J=x(W,j,K,X,Q)).textPosAngle=(F.startangle+F.stopangle)/2,de.push(J));for(var ge=0,ke=0,we=0;we<de.length;we++){var ue=de[we].scale;if(ke<ue&&(ke=ue,ge=we),!pe&&ke>=1)break}return de[ge]}function y(W,F,V,j,te){F=Math.max(0,F-2*l);var J=W.width/W.height,K=S(J,j,F,V);return{scale:2*K/W.height,rCenter:_(J,K/F),rotate:h(te)}}function x(W,F,V,j,te){F=Math.max(0,F-2*l);var J=W.height/W.width,K=S(J,j,F,V);return{scale:2*K/W.width,rCenter:_(J,K/F),rotate:h(te+Math.PI/2)}}function _(W,F){return Math.cos(F)-W*F}function h(W){return(180/Math.PI*W+720)%180-90}function S(W,F,V,j){var te=W+1/(2*Math.tan(F));return V*Math.min(1/(Math.sqrt(te*te+.5)+te),j/(Math.sqrt(W*W+j/2)+W))}function w(W,F){return W.v!==F.vTotal||F.trace.hole?Math.min(1/(1+1/Math.sin(W.halfangle)),W.ring/2):1}function E(W,F){var V=F.pxmid[0],j=F.pxmid[1],te=W.width/2,J=W.height/2;return V<0&&(te*=-1),j<0&&(J*=-1),{scale:1,rCenter:1,rotate:0,x:te+Math.abs(J)*(te>0?1:-1)/2,y:J/(1+V*V/(j*j)),outside:!0}}function C(W,F){var V,j,te,J=W.trace,K={x:W.cx,y:W.cy},Z={tx:0,ty:0};Z.ty+=J.title.font.size,te=O(J),J.title.position.indexOf("top")!==-1?(K.y-=(1+te)*W.r,Z.ty-=W.titleBox.height):J.title.position.indexOf("bottom")!==-1&&(K.y+=(1+te)*W.r);var X,Q=W.r/((X=W.trace.aspectratio)===void 0?1:X),re=F.w*(J.domain.x[1]-J.domain.x[0])/2;return J.title.position.indexOf("left")!==-1?(re+=Q,K.x-=(1+te)*Q,Z.tx+=W.titleBox.width/2):J.title.position.indexOf("center")!==-1?re*=2:J.title.position.indexOf("right")!==-1&&(re+=Q,K.x+=(1+te)*Q,Z.tx-=W.titleBox.width/2),V=re/W.titleBox.width,j=P(W,F)/W.titleBox.height,{x:K.x,y:K.y,scale:Math.min(V,j),tx:Z.tx,ty:Z.ty}}function P(W,F){var V=W.trace,j=F.h*(V.domain.y[1]-V.domain.y[0]);return Math.min(W.titleBox.height,j/2)}function O(W){var F,V=W.pull;if(!V)return 0;if(g.isArrayOrTypedArray(V))for(V=0,F=0;F<W.pull.length;F++)W.pull[F]>V&&(V=W.pull[F]);return V}function R(W,F){for(var V=[],j=0;j<W.length;j++){var te=W[j][0],J=te.trace,K=J.domain,Z=F.w*(K.x[1]-K.x[0]),X=F.h*(K.y[1]-K.y[0]);J.title.text&&J.title.position!=="middle center"&&(X-=P(te,F));var Q=Z/2,re=X/2;J.type!=="funnelarea"||J.scalegroup||(re/=J.aspectratio),te.r=Math.min(Q,re)/(1+O(J)),te.cx=F.l+F.w*(J.domain.x[1]+J.domain.x[0])/2,te.cy=F.t+F.h*(1-J.domain.y[0])-X/2,J.title.text&&J.title.position.indexOf("bottom")!==-1&&(te.cy-=P(te,F)),J.scalegroup&&V.indexOf(J.scalegroup)===-1&&V.push(J.scalegroup)}(function(ae,ie){for(var le,pe,de,ve=0;ve<ie.length;ve++){var be=1/0,me=ie[ve];for(pe=0;pe<ae.length;pe++)if((de=(le=ae[pe][0]).trace).scalegroup===me){var ge;if(de.type==="pie")ge=le.r*le.r;else if(de.type==="funnelarea"){var ke,we;de.aspectratio>1?we=(ke=le.r)/de.aspectratio:ke=(we=le.r)*de.aspectratio,ge=(ke*=(1+de.baseratio)/2)*we}be=Math.min(be,ge/le.vTotal)}for(pe=0;pe<ae.length;pe++)if((de=(le=ae[pe][0]).trace).scalegroup===me){var ue=be*le.vTotal;de.type==="funnelarea"&&(ue/=(1+de.baseratio)/2,ue/=de.aspectratio),le.r=Math.sqrt(ue)}}})(W,V)}function U(W,F){return[W*Math.sin(F),-W*Math.cos(F)]}function z(W,F,V){var j=W._fullLayout,te=V.trace,J=te.texttemplate,K=te.textinfo;if(!J&&K&&K!=="none"){var Z,X=K.split("+"),Q=function(ge){return X.indexOf(ge)!==-1},re=Q("label"),ae=Q("text"),ie=Q("value"),le=Q("percent"),pe=j.separators;if(Z=re?[F.label]:[],ae){var de=u.getFirstFilled(te.text,F.pts);c(de)&&Z.push(de)}ie&&Z.push(u.formatPieValue(F.v,pe)),le&&Z.push(u.formatPiePercent(F.v/V.vTotal,pe)),F.text=Z.join("<br>")}if(J){var ve=g.castOption(te,F.i,"texttemplate");if(ve){var be=function(ge){return{label:ge.label,value:ge.v,valueLabel:u.formatPieValue(ge.v,j.separators),percent:ge.v/V.vTotal,percentLabel:u.formatPiePercent(ge.v/V.vTotal,j.separators),color:ge.color,text:ge.text,customdata:g.castOption(te,ge.i,"customdata")}}(F),me=u.getFirstFilled(te.text,F.pts);(c(me)||me==="")&&(be.text=me),F.text=g.texttemplateString(ve,be,W._fullLayout._d3locale,be,te._meta||{})}else F.text=""}}function N(W,F){var V=W.rotate*Math.PI/180,j=Math.cos(V),te=Math.sin(V),J=(F.left+F.right)/2,K=(F.top+F.bottom)/2;W.textX=J*j-K*te,W.textY=J*te+K*j,W.noCenter=!0}ee.exports={plot:function(W,F){var V=W._context.staticPlot,j=W._fullLayout,te=j._size;o("pie",j),p(F,W),R(F,te);var J=g.makeTraceGroups(j._pielayer,F,"trace").each(function(K){var Z=M.select(this),X=K[0],Q=X.trace;(function(re){var ae,ie,le,pe=re[0],de=pe.r,ve=pe.trace,be=u.getRotationAngle(ve.rotation),me=2*Math.PI/pe.vTotal,ge="px0",ke="px1";if(ve.direction==="counterclockwise"){for(ae=0;ae<re.length&&re[ae].hidden;ae++);if(ae===re.length)return;be+=me*re[ae].v,me*=-1,ge="px1",ke="px0"}for(le=U(de,be),ae=0;ae<re.length;ae++)(ie=re[ae]).hidden||(ie[ge]=le,ie.startangle=be,be+=me*ie.v/2,ie.pxmid=U(de,be),ie.midangle=be,le=U(de,be+=me*ie.v/2),ie.stopangle=be,ie[ke]=le,ie.largeArc=ie.v>pe.vTotal/2?1:0,ie.halfangle=Math.PI*Math.min(ie.v/pe.vTotal,.5),ie.ring=1-ve.hole,ie.rInscribed=w(ie,pe))})(K),Z.attr("stroke-linejoin","round"),Z.each(function(){var re=M.select(this).selectAll("g.slice").data(K);re.enter().append("g").classed("slice",!0),re.exit().remove();var ae=[[[],[]],[[],[]]],ie=!1;re.each(function(ke,we){if(ke.hidden)M.select(this).selectAll("path,g").remove();else{ke.pointNumber=ke.i,ke.curveNumber=Q.index,ae[ke.pxmid[1]<0?0:1][ke.pxmid[0]<0?0:1].push(ke);var ue=X.cx,oe=X.cy,he=M.select(this),Ee=he.selectAll("path.surface").data([ke]);if(Ee.enter().append("path").classed("surface",!0).style({"pointer-events":V?"none":"all"}),he.call(m,W,K),Q.pull){var Te=+u.castOption(Q.pull,ke.pts)||0;Te>0&&(ue+=Te*ke.pxmid[0],oe+=Te*ke.pxmid[1])}ke.cxFinal=ue,ke.cyFinal=oe;var Me=Q.hole;if(ke.v===X.vTotal){var Se="M"+(ue+ke.px0[0])+","+(oe+ke.px0[1])+Oe(ke.px0,ke.pxmid,!0,1)+Oe(ke.pxmid,ke.px0,!0,1)+"Z";Me?Ee.attr("d","M"+(ue+Me*ke.px0[0])+","+(oe+Me*ke.px0[1])+Oe(ke.px0,ke.pxmid,!1,Me)+Oe(ke.pxmid,ke.px0,!1,Me)+"Z"+Se):Ee.attr("d",Se)}else{var ze=Oe(ke.px0,ke.px1,!0,1);if(Me){var fe=1-Me;Ee.attr("d","M"+(ue+Me*ke.px1[0])+","+(oe+Me*ke.px1[1])+Oe(ke.px1,ke.px0,!1,Me)+"l"+fe*ke.px0[0]+","+fe*ke.px0[1]+ze+"Z")}else Ee.attr("d","M"+ue+","+oe+"l"+ke.px0[0]+","+ke.px0[1]+ze+"Z")}z(W,ke,X);var xe=u.castOption(Q.textposition,ke.pts),_e=he.selectAll("g.slicetext").data(ke.text&&xe!=="none"?[0]:[]);_e.enter().append("g").classed("slicetext",!0),_e.exit().remove(),_e.each(function(){var De=g.ensureSingle(M.select(this),"text","",function(mt){mt.attr("data-notex",1)}),Pe=g.ensureUniformFontSize(W,xe==="outside"?function(mt,gt,et){return{color:u.castOption(mt.outsidetextfont.color,gt.pts)||u.castOption(mt.textfont.color,gt.pts)||et.color,family:u.castOption(mt.outsidetextfont.family,gt.pts)||u.castOption(mt.textfont.family,gt.pts)||et.family,size:u.castOption(mt.outsidetextfont.size,gt.pts)||u.castOption(mt.textfont.size,gt.pts)||et.size}}(Q,ke,j.font):f(Q,ke,j.font));De.text(ke.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(b.font,Pe).call(i.convertToTspans,W);var Ue,Ve=b.bBox(De.node());if(xe==="outside")Ue=E(Ve,ke);else if(Ue=v(Ve,ke,X),xe==="auto"&&Ue.scale<1){var Xe=g.ensureUniformFontSize(W,Q.outsidetextfont);De.call(b.font,Xe),Ue=E(Ve=b.bBox(De.node()),ke)}var it=Ue.textPosAngle,tt=it===void 0?ke.pxmid:U(X.r,it);if(Ue.targetX=ue+tt[0]*Ue.rCenter+(Ue.x||0),Ue.targetY=oe+tt[1]*Ue.rCenter+(Ue.y||0),N(Ue,Ve),Ue.outside){var pt=Ue.targetY;ke.yLabelMin=pt-Ve.height/2,ke.yLabelMid=pt,ke.yLabelMax=pt+Ve.height/2,ke.labelExtraX=0,ke.labelExtraY=0,ie=!0}Ue.fontSize=Pe.size,n(Q.type,Ue,j),K[we].transform=Ue,g.setTransormAndDisplay(De,Ue)})}function Oe(De,Pe,Ue,Ve){var Xe=Ve*(Pe[0]-De[0]),it=Ve*(Pe[1]-De[1]);return"a"+Ve*X.r+","+Ve*X.r+" 0 "+ke.largeArc+(Ue?" 1 ":" 0 ")+Xe+","+it}});var le=M.select(this).selectAll("g.titletext").data(Q.title.text?[0]:[]);if(le.enter().append("g").classed("titletext",!0),le.exit().remove(),le.each(function(){var ke,we=g.ensureSingle(M.select(this),"text","",function(oe){oe.attr("data-notex",1)}),ue=Q.title.text;Q._meta&&(ue=g.templateString(ue,Q._meta)),we.text(ue).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(b.font,Q.title.font).call(i.convertToTspans,W),ke=Q.title.position==="middle center"?function(oe){var he=Math.sqrt(oe.titleBox.width*oe.titleBox.width+oe.titleBox.height*oe.titleBox.height);return{x:oe.cx,y:oe.cy,scale:oe.trace.hole*oe.r*2/he,tx:0,ty:-oe.titleBox.height/2+oe.trace.title.font.size}}(X):C(X,te),we.attr("transform",t(ke.x,ke.y)+s(Math.min(1,ke.scale))+t(ke.tx,ke.ty))}),ie&&function(ke,we){var ue,oe,he,Ee,Te,Me,Se,ze,fe,xe,_e,Oe,De;function Pe(it,tt){return it.pxmid[1]-tt.pxmid[1]}function Ue(it,tt){return tt.pxmid[1]-it.pxmid[1]}function Ve(it,tt){tt||(tt={});var pt,mt,gt,et,$e=tt.labelExtraY+(oe?tt.yLabelMax:tt.yLabelMin),_t=oe?it.yLabelMin:it.yLabelMax,Pt=oe?it.yLabelMax:it.yLabelMin,Ot=it.cyFinal+Te(it.px0[1],it.px1[1]),Lt=$e-_t;if(Lt*Se>0&&(it.labelExtraY=Lt),g.isArrayOrTypedArray(we.pull))for(mt=0;mt<xe.length;mt++)(gt=xe[mt])===it||(u.castOption(we.pull,it.pts)||0)>=(u.castOption(we.pull,gt.pts)||0)||((it.pxmid[1]-gt.pxmid[1])*Se>0?(Lt=gt.cyFinal+Te(gt.px0[1],gt.px1[1])-_t-it.labelExtraY)*Se>0&&(it.labelExtraY+=Lt):(Pt+it.labelExtraY-Ot)*Se>0&&(pt=3*Me*Math.abs(mt-xe.indexOf(it)),(et=gt.cxFinal+Ee(gt.px0[0],gt.px1[0])+pt-(it.cxFinal+it.pxmid[0])-it.labelExtraX)*Me>0&&(it.labelExtraX+=et)))}for(oe=0;oe<2;oe++)for(he=oe?Pe:Ue,Te=oe?Math.max:Math.min,Se=oe?1:-1,ue=0;ue<2;ue++){for(Ee=ue?Math.max:Math.min,Me=ue?1:-1,(ze=ke[oe][ue]).sort(he),fe=ke[1-oe][ue],xe=fe.concat(ze),Oe=[],_e=0;_e<ze.length;_e++)ze[_e].yLabelMid!==void 0&&Oe.push(ze[_e]);for(De=!1,_e=0;oe&&_e<fe.length;_e++)if(fe[_e].yLabelMid!==void 0){De=fe[_e];break}for(_e=0;_e<Oe.length;_e++){var Xe=_e&&Oe[_e-1];De&&!_e&&(Xe=De),Ve(Oe[_e],Xe)}}}(ae,Q),function(ke,we){ke.each(function(ue){var oe=M.select(this);if(ue.labelExtraX||ue.labelExtraY){var he=oe.select("g.slicetext text");ue.transform.targetX+=ue.labelExtraX,ue.transform.targetY+=ue.labelExtraY,g.setTransormAndDisplay(he,ue.transform);var Ee=ue.cxFinal+ue.pxmid[0],Te="M"+Ee+","+(ue.cyFinal+ue.pxmid[1]),Me=(ue.yLabelMax-ue.yLabelMin)*(ue.pxmid[0]<0?-1:1)/4;if(ue.labelExtraX){var Se=ue.labelExtraX*ue.pxmid[1]/ue.pxmid[0],ze=ue.yLabelMid+ue.labelExtraY-(ue.cyFinal+ue.pxmid[1]);Math.abs(Se)>Math.abs(ze)?Te+="l"+ze*ue.pxmid[0]/ue.pxmid[1]+","+ze+"H"+(Ee+ue.labelExtraX+Me):Te+="l"+ue.labelExtraX+","+Se+"v"+(ze-Se)+"h"+Me}else Te+="V"+(ue.yLabelMid+ue.labelExtraY)+"h"+Me;g.ensureSingle(oe,"path","textline").call(T.stroke,we.outsidetextfont.color).attr({"stroke-width":Math.min(2,we.outsidetextfont.size/8),d:Te,fill:"none"})}else oe.select("path.textline").remove()})}(re,Q),ie&&Q.automargin){var pe=b.bBox(Z.node()),de=Q.domain,ve=te.w*(de.x[1]-de.x[0]),be=te.h*(de.y[1]-de.y[0]),me=(.5*ve-X.r)/te.w,ge=(.5*be-X.r)/te.h;k.autoMargin(W,"pie."+Q.uid+".automargin",{xl:de.x[0]-me,xr:de.x[1]+me,yb:de.y[0]-ge,yt:de.y[1]+ge,l:Math.max(X.cx-X.r-pe.left,0),r:Math.max(pe.right-(X.cx+X.r),0),b:Math.max(pe.bottom-(X.cy+X.r),0),t:Math.max(X.cy-X.r-pe.top,0),pad:5})}})});setTimeout(function(){J.selectAll("tspan").each(function(){var K=M.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)},formatSliceLabel:z,transformInsideText:v,determineInsideTextFont:f,positionTitleOutside:C,prerenderTitles:p,layoutAreas:R,attachFxHandlers:m,computeTransform:N}},22152:function(ee,D,e){var M=e(33428),k=e(10528),a=e(82744).resizeText;ee.exports=function(T){var b=T._fullLayout._pielayer.selectAll(".trace");a(T,b,"pie"),b.each(function(g){var s=g[0].trace,t=M.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){M.select(this).call(k,i,s,T)})})}},10528:function(ee,D,e){var M=e(76308),k=e(69656).castOption,a=e(21552);ee.exports=function(T,b,g,s){var t=g.marker.line,i=k(t.color,b.pts)||M.defaultLine,r=k(t.width,b.pts)||0;T.call(a,b,g,s).style("stroke-width",r).call(M.stroke,i)}},35484:function(ee,D,e){var M=e(52904);ee.exports={x:M.x,y:M.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:M.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(ee,D,e){var M=e(67792).gl_pointcloud2d,k=e(3400).isArrayOrTypedArray,a=e(43080),T=e(19280).findExtremes,b=e(44928);function g(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=M(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var s=g.prototype;s.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:k(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},s.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=b(t,{})},s.updateFast=function(t){var i,r,n,o,l,u,d=this.xData=this.pickXData=t.x,c=this.yData=this.pickYData=t.y,m=this.pickXYData=t.xy,f=t.xbounds&&t.ybounds,p=t.indices,v=this.bounds;if(m){if(n=m,i=m.length>>>1,f)v[0]=t.xbounds[0],v[2]=t.xbounds[1],v[1]=t.ybounds[0],v[3]=t.ybounds[1];else for(u=0;u<i;u++)o=n[2*u],l=n[2*u+1],o<v[0]&&(v[0]=o),o>v[2]&&(v[2]=o),l<v[1]&&(v[1]=l),l>v[3]&&(v[3]=l);if(p)r=p;else for(r=new Int32Array(i),u=0;u<i;u++)r[u]=u}else for(i=d.length,n=new Float32Array(2*i),r=new Int32Array(i),u=0;u<i;u++)o=d[u],l=c[u],r[u]=u,n[2*u]=o,n[2*u+1]=l,o<v[0]&&(v[0]=o),o>v[2]&&(v[2]=o),l<v[1]&&(v[1]=l),l>v[3]&&(v[3]=l);this.idToIndex=r,this.pointcloudOptions.idToIndex=r,this.pointcloudOptions.positions=n;var y=a(t.marker.color),x=a(t.marker.border.color),_=t.opacity*t.marker.opacity;y[3]*=_,this.pointcloudOptions.color=y;var h=t.marker.blend;h===null&&(h=d.length<100||c.length<100),this.pointcloudOptions.blend=h,x[3]*=_,this.pointcloudOptions.borderColor=x;var S=t.marker.sizemin,w=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=S,this.pointcloudOptions.sizeMax=w,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var E=this.scene.xaxis,C=this.scene.yaxis,P=w/2||.5;t._extremes[E._id]=T(E,[v[0],v[2]],{ppad:P}),t._extremes[C._id]=T(C,[v[1],v[3]],{ppad:P})},s.dispose=function(){this.pointcloud.dispose()},ee.exports=function(t,i){var r=new g(t,i.uid);return r.update(i),r}},41904:function(ee,D,e){var M=e(3400),k=e(35484);ee.exports=function(a,T,b){function g(s,t){return M.coerce(a,T,k,s,t)}g("x"),g("y"),g("xbounds"),g("ybounds"),a.xy&&a.xy instanceof Float32Array&&(T.xy=a.xy),a.indices&&a.indices instanceof Int32Array&&(T.indices=a.indices),g("text"),g("marker.color",b),g("marker.opacity"),g("marker.blend"),g("marker.sizemin"),g("marker.sizemax"),g("marker.border.color",b),g("marker.border.arearatio"),T._length=null}},156:function(ee,D,e){ee.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(ee,D,e){var M=e(25376),k=e(45464),a=e(22548),T=e(55756),b=e(86968).u,g=e(21776).Ks,s=e(49084),t=e(31780).templatedArray,i=e(29736).descriptionOnlyNumbers,r=e(92880).extendFlat,n=e(67824).overrideAll;(ee.exports=n({hoverinfo:r({},k.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:T.hoverlabel,domain:b({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:M({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:T.hoverlabel,hovertemplate:g({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:T.hoverlabel,hovertemplate:g({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:r(s().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},10760:function(ee,D,e){var M=e(67824).overrideAll,k=e(84888)._M,a=e(59596),T=e(65460),b=e(93972),g=e(86476),s=e(22676).prepSelect,t=e(3400),i=e(24040),r="sankey";function n(o,l){var u=o._fullData[l],d=o._fullLayout,c=d.dragmode,m=d.dragmode==="pan"?"move":"crosshair",f=u._bgRect;if(f&&c!=="pan"&&c!=="zoom"){b(f,m);var p={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},v={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},y={gd:o,element:f.node(),plotinfo:{id:l,xaxis:p,yaxis:v,fillRangeItems:t.noop},subplot:l,xaxes:[p],yaxes:[v],doneFnCompleted:function(x){var _,h=o._fullData[l],S=h.node.groups.slice(),w=[];function E(R){for(var U=h._sankey.graph.nodes,z=0;z<U.length;z++)if(U[z].pointNumber===R)return U[z]}for(var C=0;C<x.length;C++){var P=E(x[C].pointNumber);if(P)if(P.group){for(var O=0;O<P.childrenNodes.length;O++)w.push(P.childrenNodes[O].pointNumber);S[P.pointNumber-h.node._count]=!1}else w.push(P.pointNumber)}_=S.filter(Boolean).concat([w]),i.call("_guiRestyle",o,{"node.groups":[_]},l)},prepFn:function(x,_,h){s(x,_,h,y,c)}};g.init(y)}}D.name=r,D.baseLayoutAttrOverrides=M({hoverlabel:T.hoverlabel},"plot","nested"),D.plot=function(o){var l=k(o.calcdata,r)[0];a(o,l),D.updateFx(o)},D.clean=function(o,l,u,d){var c=d._has&&d._has(r),m=l._has&&l._has(r);c&&!m&&(d._paperdiv.selectAll(".sankey").remove(),d._paperdiv.selectAll(".bgsankey").remove())},D.updateFx=function(o){for(var l=0;l<o._fullData.length;l++)n(o,l)}},48068:function(ee,D,e){var M=e(78484),k=e(3400),a=e(71688).wrap,T=k.isArrayOrTypedArray,b=k.isIndex,g=e(8932);ee.exports=function(s,t){var i=function(r){var n,o=r.node,l=r.link,u=[],d=T(l.color),c=T(l.hovercolor),m=T(l.customdata),f={},p={},v=l.colorscales.length;for(n=0;n<v;n++){var y=l.colorscales[n],x=g.extractScale(y,{cLetter:"c"}),_=g.makeColorScaleFunc(x);p[y.label]=_}var h=0;for(n=0;n<l.value.length;n++)l.source[n]>h&&(h=l.source[n]),l.target[n]>h&&(h=l.target[n]);var S,w=h+1;r.node._count=w;var E=r.node.groups,C={};for(n=0;n<E.length;n++){var P=E[n];for(S=0;S<P.length;S++){var O=P[S],R=w+n;C.hasOwnProperty(O)?k.warn("Node "+O+" is already part of a group."):C[O]=R}}var U={source:[],target:[]};for(n=0;n<l.value.length;n++){var z=l.value[n],N=l.source[n],W=l.target[n];if(z>0&&b(N,w)&&b(W,w)&&(!C.hasOwnProperty(N)||!C.hasOwnProperty(W)||C[N]!==C[W])){C.hasOwnProperty(W)&&(W=C[W]),C.hasOwnProperty(N)&&(N=C[N]),W=+W,f[N=+N]=f[W]=!0;var F="";l.label&&l.label[n]&&(F=l.label[n]);var V=null;F&&p.hasOwnProperty(F)&&(V=p[F]),u.push({pointNumber:n,label:F,color:d?l.color[n]:l.color,hovercolor:c?l.hovercolor[n]:l.hovercolor,customdata:m?l.customdata[n]:l.customdata,concentrationscale:V,source:N,target:W,value:+z}),U.source.push(N),U.target.push(W)}}var j=w+E.length,te=T(o.color),J=T(o.customdata),K=[];for(n=0;n<j;n++)if(f[n]){var Z=o.label[n];K.push({group:n>w-1,childrenNodes:[],pointNumber:n,label:Z,color:te?o.color[n]:o.color,customdata:J?o.customdata[n]:o.customdata})}var X=!1;return function(Q,re,ae){for(var ie=k.init2dArray(Q,0),le=0;le<Math.min(re.length,ae.length);le++)if(k.isIndex(re[le],Q)&&k.isIndex(ae[le],Q)){if(re[le]===ae[le])return!0;ie[re[le]].push(ae[le])}return M(ie).components.some(function(pe){return pe.length>1})}(j,U.source,U.target)&&(X=!0),{circular:X,links:u,nodes:K,groups:E,groupLookup:C}}(t);return a({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},11820:function(ee){ee.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(ee,D,e){var M=e(3400),k=e(41440),a=e(76308),T=e(49760),b=e(86968).Q,g=e(16132),s=e(31780),t=e(51272);function i(r,n){function o(l,u){return M.coerce(r,n,k.link.colorscales,l,u)}o("label"),o("cmin"),o("cmax"),o("colorscale")}ee.exports=function(r,n,o,l){function u(E,C){return M.coerce(r,n,k,E,C)}var d=M.extendDeep(l.hoverlabel,r.hoverlabel),c=r.node,m=s.newContainer(n,"node");function f(E,C){return M.coerce(c,m,k.node,E,C)}f("label"),f("groups"),f("x"),f("y"),f("pad"),f("thickness"),f("line.color"),f("line.width"),f("hoverinfo",r.hoverinfo),g(c,m,f,d),f("hovertemplate"),f("align");var p=l.colorway;f("color",m.label.map(function(E,C){return a.addOpacity(function(P){return p[P%p.length]}(C),.8)})),f("customdata");var v=r.link||{},y=s.newContainer(n,"link");function x(E,C){return M.coerce(v,y,k.link,E,C)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",r.hoverinfo),g(v,y,x,d),x("hovertemplate");var _,h=T(l.paper_bgcolor).getLuminance()<.333,S=x("color",h?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)");function w(E){var C=T(E);if(!C.isValid())return E;var P=C.getAlpha();return P<=.8?C.setAlpha(P+.2):C=h?C.brighten():C.darken(),C.toRgbString()}x("hovercolor",Array.isArray(S)?S.map(w):w(S)),x("customdata"),t(v,y,{name:"colorscales",handleItemDefaults:i}),b(n,l,u),u("orientation"),u("valueformat"),u("valuesuffix"),m.x.length&&m.y.length&&(_="freeform"),u("arrangement",_),M.coerceFont(u,"textfont",M.extendFlat({},l.font)),n._length=null}},45499:function(ee,D,e){ee.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(ee,D,e){var M=e(33428),k=e(3400),a=k.numberFormat,T=e(83248),b=e(93024),g=e(76308),s=e(11820).cn,t=k._;function i(v){return v!==""}function r(v,y){return v.filter(function(x){return x.key===y.traceId})}function n(v,y){M.select(v).select("path").style("fill-opacity",y),M.select(v).select("rect").style("fill-opacity",y)}function o(v){M.select(v).select("text.name").style("fill","black")}function l(v){return function(y){return v.node.sourceLinks.indexOf(y.link)!==-1||v.node.targetLinks.indexOf(y.link)!==-1}}function u(v){return function(y){return y.node.sourceLinks.indexOf(v.link)!==-1||y.node.targetLinks.indexOf(v.link)!==-1}}function d(v,y,x){y&&x&&r(x,y).selectAll("."+s.sankeyLink).filter(l(y)).call(m.bind(0,y,x,!1))}function c(v,y,x){y&&x&&r(x,y).selectAll("."+s.sankeyLink).filter(l(y)).call(f.bind(0,y,x,!1))}function m(v,y,x,_){_.style("fill",function(h){if(!h.link.concentrationscale)return h.tinyColorHoverHue}).style("fill-opacity",function(h){if(!h.link.concentrationscale)return h.tinyColorHoverAlpha}),_.each(function(h){var S=h.link.label;S!==""&&r(y,v).selectAll("."+s.sankeyLink).filter(function(w){return w.link.label===S}).style("fill",function(w){if(!w.link.concentrationscale)return w.tinyColorHoverHue}).style("fill-opacity",function(w){if(!w.link.concentrationscale)return w.tinyColorHoverAlpha})}),x&&r(y,v).selectAll("."+s.sankeyNode).filter(u(v)).call(d)}function f(v,y,x,_){_.style("fill",function(h){return h.tinyColorHue}).style("fill-opacity",function(h){return h.tinyColorAlpha}),_.each(function(h){var S=h.link.label;S!==""&&r(y,v).selectAll("."+s.sankeyLink).filter(function(w){return w.link.label===S}).style("fill",function(w){return w.tinyColorHue}).style("fill-opacity",function(w){return w.tinyColorAlpha})}),x&&r(y,v).selectAll(s.sankeyNode).filter(u(v)).call(c)}function p(v,y){var x=v.hoverlabel||{},_=k.nestedProperty(x,y).get();return!Array.isArray(_)&&_}ee.exports=function(v,y){for(var x=v._fullLayout,_=x._paper,h=x._size,S=0;S<v._fullData.length;S++)if(v._fullData[S].visible&&v._fullData[S].type===s.sankey&&!v._fullData[S]._viewInitial){var w=v._fullData[S].node;v._fullData[S]._viewInitial={node:{groups:w.groups.slice(),x:w.x.slice(),y:w.y.slice()}}}var E=t(v,"source:")+" ",C=t(v,"target:")+" ",P=t(v,"concentration:")+" ",O=t(v,"incoming flow count:")+" ",R=t(v,"outgoing flow count:")+" ";T(v,_,y,{width:h.w,height:h.h,margin:{t:h.t,r:h.r,b:h.b,l:h.l}},{linkEvents:{hover:function(U,z,N){v._fullLayout.hovermode!==!1&&(M.select(U).call(m.bind(0,z,N,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,v.emit("plotly_hover",{event:M.event,points:[z.link]})))},follow:function(U,z){if(v._fullLayout.hovermode!==!1){var N=z.link.trace.link;if(N.hoverinfo!=="none"&&N.hoverinfo!=="skip"){for(var W=[],F=0,V=0;V<z.flow.links.length;V++){var j=z.flow.links[V];if(v._fullLayout.hovermode!=="closest"||z.link.pointNumber===j.pointNumber){z.link.pointNumber===j.pointNumber&&(F=V),j.fullData=j.trace,N=z.link.trace.link;var te=K(j),J={valueLabel:a(z.valueFormat)(j.value)+z.valueSuffix};W.push({x:te[0],y:te[1],name:J.valueLabel,text:[j.label||"",E+j.source.label,C+j.target.label,j.concentrationscale?P+a("%0.2f")(j.flow.labelConcentration):""].filter(i).join("<br>"),color:p(N,"bgcolor")||g.addOpacity(j.color,1),borderColor:p(N,"bordercolor"),fontFamily:p(N,"font.family"),fontSize:p(N,"font.size"),fontColor:p(N,"font.color"),nameLength:p(N,"namelength"),textAlign:p(N,"align"),idealAlign:M.event.x<te[0]?"right":"left",hovertemplate:N.hovertemplate,hovertemplateLabels:J,eventData:[j]})}}b.loneHover(W,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:v,anchorIndex:F}).each(function(){z.link.concentrationscale||n(this,.65),o(this)})}}function K(Z){var X,Q;Z.circular?(X=(Z.circularPathData.leftInnerExtent+Z.circularPathData.rightInnerExtent)/2,Q=Z.circularPathData.verticalFullExtent):(X=(Z.source.x1+Z.target.x0)/2,Q=(Z.y0+Z.y1)/2);var re=[X,Q];return Z.trace.orientation==="v"&&re.reverse(),re[0]+=z.parent.translateX,re[1]+=z.parent.translateY,re}},unhover:function(U,z,N){v._fullLayout.hovermode!==!1&&(M.select(U).call(f.bind(0,z,N,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,v.emit("plotly_unhover",{event:M.event,points:[z.link]})),b.loneUnhover(x._hoverlayer.node()))},select:function(U,z){var N=z.link;N.originalEvent=M.event,v._hoverdata=[N],b.click(v,{target:!0})}},nodeEvents:{hover:function(U,z,N){v._fullLayout.hovermode!==!1&&(M.select(U).call(d,z,N),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,v.emit("plotly_hover",{event:M.event,points:[z.node]})))},follow:function(U,z){if(v._fullLayout.hovermode!==!1){var N=z.node.trace.node;if(N.hoverinfo!=="none"&&N.hoverinfo!=="skip"){var W=M.select(U).select("."+s.nodeRect),F=v._fullLayout._paperdiv.node().getBoundingClientRect(),V=W.node().getBoundingClientRect(),j=V.left-2-F.left,te=V.right+2-F.left,J=V.top+V.height/4-F.top,K={valueLabel:a(z.valueFormat)(z.node.value)+z.valueSuffix};z.node.fullData=z.node.trace,v._fullLayout._calcInverseTransform(v);var Z=v._fullLayout._invScaleX,X=v._fullLayout._invScaleY,Q=b.loneHover({x0:Z*j,x1:Z*te,y:X*J,name:a(z.valueFormat)(z.node.value)+z.valueSuffix,text:[z.node.label,O+z.node.targetLinks.length,R+z.node.sourceLinks.length].filter(i).join("<br>"),color:p(N,"bgcolor")||z.tinyColorHue,borderColor:p(N,"bordercolor"),fontFamily:p(N,"font.family"),fontSize:p(N,"font.size"),fontColor:p(N,"font.color"),nameLength:p(N,"namelength"),textAlign:p(N,"align"),idealAlign:"left",hovertemplate:N.hovertemplate,hovertemplateLabels:K,eventData:[z.node]},{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:v});n(Q,.85),o(Q)}}},unhover:function(U,z,N){v._fullLayout.hovermode!==!1&&(M.select(U).call(c,z,N),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,v.emit("plotly_unhover",{event:M.event,points:[z.node]})),b.loneUnhover(x._hoverlayer.node()))},select:function(U,z,N){var W=z.node;W.originalEvent=M.event,v._hoverdata=[W],M.select(U).call(c,z,N),b.click(v,{target:!0})}}})}},83248:function(ee,D,e){var M=e(49812),k=e(67756).Gz,a=e(33428),T=e(26800),b=e(48932),g=e(11820),s=e(49760),t=e(76308),i=e(43616),r=e(3400),n=r.strTranslate,o=r.strRotate,l=e(71688),u=l.keyFun,d=l.repeat,c=l.unwrap,m=e(72736),f=e(24040),p=e(84284),v=p.CAP_SHIFT,y=p.LINE_SPACING;function x(V,j,te){var J,K=c(j),Z=K.trace,X=Z.domain,Q=Z.orientation==="h",re=Z.node.pad,ae=Z.node.thickness,ie={justify:T.sankeyJustify,left:T.sankeyLeft,right:T.sankeyRight,center:T.sankeyCenter}[Z.node.align],le=V.width*(X.x[1]-X.x[0]),pe=V.height*(X.y[1]-X.y[0]),de=K._nodes,ve=K._links,be=K.circular;(J=be?b.sankeyCircular().circularLinkGap(0):T.sankey()).iterations(g.sankeyIterations).size(Q?[le,pe]:[pe,le]).nodeWidth(ae).nodePadding(re).nodeId(function(Se){return Se.pointNumber}).nodeAlign(ie).nodes(de).links(ve);var me,ge,ke,we=J();for(var ue in J.nodePadding()<re&&r.warn("node.pad was reduced to ",J.nodePadding()," to fit within the figure."),K._groupLookup){var oe,he=parseInt(K._groupLookup[ue]);for(me=0;me<we.nodes.length;me++)if(we.nodes[me].pointNumber===he){oe=we.nodes[me];break}if(oe){var Ee={pointNumber:parseInt(ue),x0:oe.x0,x1:oe.x1,y0:oe.y0,y1:oe.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};we.nodes.unshift(Ee),oe.childrenNodes.unshift(Ee)}}if(function(){for(me=0;me<we.nodes.length;me++){var Se,ze,fe=we.nodes[me],xe={};for(ge=0;ge<fe.targetLinks.length;ge++)Se=(ze=fe.targetLinks[ge]).source.pointNumber+":"+ze.target.pointNumber,xe.hasOwnProperty(Se)||(xe[Se]=[]),xe[Se].push(ze);var _e=Object.keys(xe);for(ge=0;ge<_e.length;ge++){var Oe=xe[Se=_e[ge]],De=0,Pe={};for(ke=0;ke<Oe.length;ke++)Pe[(ze=Oe[ke]).label]||(Pe[ze.label]=0),Pe[ze.label]+=ze.value,De+=ze.value;for(ke=0;ke<Oe.length;ke++)(ze=Oe[ke]).flow={value:De,labelConcentration:Pe[ze.label]/De,concentration:ze.value/De,links:Oe},ze.concentrationscale&&(ze.color=s(ze.concentrationscale(ze.flow.labelConcentration)))}var Ue=0;for(ge=0;ge<fe.sourceLinks.length;ge++)Ue+=fe.sourceLinks[ge].value;for(ge=0;ge<fe.sourceLinks.length;ge++)(ze=fe.sourceLinks[ge]).concentrationOut=ze.value/Ue;var Ve=0;for(ge=0;ge<fe.targetLinks.length;ge++)Ve+=fe.targetLinks[ge].value;for(ge=0;ge<fe.targetLinks.length;ge++)(ze=fe.targetLinks[ge]).concenrationIn=ze.value/Ve}}(),Z.node.x.length&&Z.node.y.length){for(me=0;me<Math.min(Z.node.x.length,Z.node.y.length,we.nodes.length);me++)if(Z.node.x[me]&&Z.node.y[me]){var Te=[Z.node.x[me]*le,Z.node.y[me]*pe];we.nodes[me].x0=Te[0]-ae/2,we.nodes[me].x1=Te[0]+ae/2;var Me=we.nodes[me].y1-we.nodes[me].y0;we.nodes[me].y0=Te[1]-Me/2,we.nodes[me].y1=Te[1]+Me/2}Z.arrangement==="snap"&&function(Se){var ze,fe,xe=Se.map(function(Ue,Ve){return{x0:Ue.x0,index:Ve}}).sort(function(Ue,Ve){return Ue.x0-Ve.x0}),_e=[],Oe=-1,De=-1/0;for(me=0;me<xe.length;me++){var Pe=Se[xe[me].index];Pe.x0>De+ae&&(Oe+=1,ze=Pe.x0),De=Pe.x0,_e[Oe]||(_e[Oe]=[]),_e[Oe].push(Pe),fe=ze-Pe.x0,Pe.x0+=fe,Pe.x1+=fe}return _e}(de=we.nodes).forEach(function(Se){var ze,fe,xe,_e=0,Oe=Se.length;for(Se.sort(function(De,Pe){return De.y0-Pe.y0}),xe=0;xe<Oe;++xe)(ze=Se[xe]).y0>=_e||(fe=_e-ze.y0)>1e-6&&(ze.y0+=fe,ze.y1+=fe),_e=ze.y1+re}),J.update(we)}return{circular:be,key:te,trace:Z,guid:r.randstr(),horizontal:Q,width:le,height:pe,nodePad:Z.node.pad,nodeLineColor:Z.node.line.color,nodeLineWidth:Z.node.line.width,linkLineColor:Z.link.line.color,linkLineWidth:Z.link.line.width,linkArrowLength:Z.link.arrowlen,valueFormat:Z.valueformat,valueSuffix:Z.valuesuffix,textFont:Z.textfont,translateX:X.x[0]*V.width+V.margin.l,translateY:V.height-X.y[1]*V.height+V.margin.t,dragParallel:Q?pe:le,dragPerpendicular:Q?le:pe,arrangement:Z.arrangement,sankey:J,graph:we,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function _(V,j,te){var J=s(j.color),K=s(j.hovercolor),Z=j.source.label+"|"+j.target.label+"__"+te;return j.trace=V.trace,j.curveNumber=V.trace.index,{circular:V.circular,key:Z,traceId:V.key,pointNumber:j.pointNumber,link:j,tinyColorHue:t.tinyRGB(J),tinyColorAlpha:J.getAlpha(),tinyColorHoverHue:t.tinyRGB(K),tinyColorHoverAlpha:K.getAlpha(),linkPath:h,linkLineColor:V.linkLineColor,linkLineWidth:V.linkLineWidth,linkArrowLength:V.linkArrowLength,valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,parent:V,interactionState:V.interactionState,flow:j.flow}}function h(){return function(V){var j=V.linkArrowLength;if(V.link.circular)return function(me,ge){var ke=me.width/2,we=me.circularPathData;return me.circularLinkType==="top"?"M "+(we.targetX-ge)+" "+(we.targetY+ke)+" L"+(we.rightInnerExtent-ge)+" "+(we.targetY+ke)+"A"+(we.rightLargeArcRadius+ke)+" "+(we.rightSmallArcRadius+ke)+" 0 0 1 "+(we.rightFullExtent-ke-ge)+" "+(we.targetY-we.rightSmallArcRadius)+"L"+(we.rightFullExtent-ke-ge)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+ke)+" "+(we.rightLargeArcRadius+ke)+" 0 0 1 "+(we.rightInnerExtent-ge)+" "+(we.verticalFullExtent-ke)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent-ke)+"A"+(we.leftLargeArcRadius+ke)+" "+(we.leftLargeArcRadius+ke)+" 0 0 1 "+(we.leftFullExtent+ke)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+ke)+" "+(we.sourceY-we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+ke)+" "+(we.leftSmallArcRadius+ke)+" 0 0 1 "+we.leftInnerExtent+" "+(we.sourceY+ke)+"L"+we.sourceX+" "+(we.sourceY+ke)+"L"+we.sourceX+" "+(we.sourceY-ke)+"L"+we.leftInnerExtent+" "+(we.sourceY-ke)+"A"+(we.leftLargeArcRadius-ke)+" "+(we.leftSmallArcRadius-ke)+" 0 0 0 "+(we.leftFullExtent-ke)+" "+(we.sourceY-we.leftSmallArcRadius)+"L"+(we.leftFullExtent-ke)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-ke)+" "+(we.leftLargeArcRadius-ke)+" 0 0 0 "+we.leftInnerExtent+" "+(we.verticalFullExtent+ke)+"L"+(we.rightInnerExtent-ge)+" "+(we.verticalFullExtent+ke)+"A"+(we.rightLargeArcRadius-ke)+" "+(we.rightLargeArcRadius-ke)+" 0 0 0 "+(we.rightFullExtent+ke-ge)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+ke-ge)+" "+(we.targetY-we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-ke)+" "+(we.rightSmallArcRadius-ke)+" 0 0 0 "+(we.rightInnerExtent-ge)+" "+(we.targetY-ke)+"L"+(we.targetX-ge)+" "+(we.targetY-ke)+(ge>0?"L"+we.targetX+" "+we.targetY:"")+"Z":"M "+(we.targetX-ge)+" "+(we.targetY-ke)+" L"+(we.rightInnerExtent-ge)+" "+(we.targetY-ke)+"A"+(we.rightLargeArcRadius+ke)+" "+(we.rightSmallArcRadius+ke)+" 0 0 0 "+(we.rightFullExtent-ke-ge)+" "+(we.targetY+we.rightSmallArcRadius)+"L"+(we.rightFullExtent-ke-ge)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+ke)+" "+(we.rightLargeArcRadius+ke)+" 0 0 0 "+(we.rightInnerExtent-ge)+" "+(we.verticalFullExtent+ke)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent+ke)+"A"+(we.leftLargeArcRadius+ke)+" "+(we.leftLargeArcRadius+ke)+" 0 0 0 "+(we.leftFullExtent+ke)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+ke)+" "+(we.sourceY+we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+ke)+" "+(we.leftSmallArcRadius+ke)+" 0 0 0 "+we.leftInnerExtent+" "+(we.sourceY-ke)+"L"+we.sourceX+" "+(we.sourceY-ke)+"L"+we.sourceX+" "+(we.sourceY+ke)+"L"+we.leftInnerExtent+" "+(we.sourceY+ke)+"A"+(we.leftLargeArcRadius-ke)+" "+(we.leftSmallArcRadius-ke)+" 0 0 1 "+(we.leftFullExtent-ke)+" "+(we.sourceY+we.leftSmallArcRadius)+"L"+(we.leftFullExtent-ke)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-ke)+" "+(we.leftLargeArcRadius-ke)+" 0 0 1 "+we.leftInnerExtent+" "+(we.verticalFullExtent-ke)+"L"+(we.rightInnerExtent-ge)+" "+(we.verticalFullExtent-ke)+"A"+(we.rightLargeArcRadius-ke)+" "+(we.rightLargeArcRadius-ke)+" 0 0 1 "+(we.rightFullExtent+ke-ge)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+ke-ge)+" "+(we.targetY+we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-ke)+" "+(we.rightSmallArcRadius-ke)+" 0 0 1 "+(we.rightInnerExtent-ge)+" "+(we.targetY+ke)+"L"+(we.targetX-ge)+" "+(we.targetY+ke)+(ge>0?"L"+we.targetX+" "+we.targetY:"")+"Z"}(V.link,j);var te=Math.abs((V.link.target.x0-V.link.source.x1)/2);j>te&&(j=te);var J=V.link.source.x1,K=V.link.target.x0-j,Z=k(J,K),X=Z(.5),Q=Z(.5),re=V.link.y0-V.link.width/2,ae=V.link.y0+V.link.width/2,ie=V.link.y1-V.link.width/2,le=V.link.y1+V.link.width/2,pe="M"+J+","+re,de="C"+X+","+re+" "+Q+","+ie+" "+K+","+ie,ve="C"+Q+","+le+" "+X+","+ae+" "+J+","+ae,be=j>0?"L"+(K+j)+","+(ie+V.link.width/2):"";return pe+de+(be+="L"+K+","+le)+ve+"Z"}}function S(V,j){var te=s(j.color),J=g.nodePadAcross,K=V.nodePad/2;j.dx=j.x1-j.x0,j.dy=j.y1-j.y0;var Z=j.dx,X=Math.max(.5,j.dy),Q="node_"+j.pointNumber;return j.group&&(Q=r.randstr()),j.trace=V.trace,j.curveNumber=V.trace.index,{index:j.pointNumber,key:Q,partOfGroup:j.partOfGroup||!1,group:j.group,traceId:V.key,trace:V.trace,node:j,nodePad:V.nodePad,nodeLineColor:V.nodeLineColor,nodeLineWidth:V.nodeLineWidth,textFont:V.textFont,size:V.horizontal?V.height:V.width,visibleWidth:Math.ceil(Z),visibleHeight:X,zoneX:-J,zoneY:-K,zoneWidth:Z+2*J,zoneHeight:X+2*K,labelY:V.horizontal?j.dy/2+1:j.dx/2+1,left:j.originalLayer===1,sizeAcross:V.width,forceLayouts:V.forceLayouts,horizontal:V.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,graph:V.graph,arrangement:V.arrangement,uniqueNodeLabelPathId:[V.guid,V.key,Q].join("_"),interactionState:V.interactionState,figure:V}}function w(V){V.attr("transform",function(j){return n(j.node.x0.toFixed(3),j.node.y0.toFixed(3))})}function E(V){V.call(w)}function C(V,j){V.call(E),j.attr("d",h())}function P(V){V.attr("width",function(j){return j.node.x1-j.node.x0}).attr("height",function(j){return j.visibleHeight})}function O(V){return V.link.width>1||V.linkLineWidth>0}function R(V){return n(V.translateX,V.translateY)+(V.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function U(V,j,te){V.on(".basic",null).on("mouseover.basic",function(J){J.interactionState.dragInProgress||J.partOfGroup||(te.hover(this,J,j),J.interactionState.hovered=[this,J])}).on("mousemove.basic",function(J){J.interactionState.dragInProgress||J.partOfGroup||(te.follow(this,J),J.interactionState.hovered=[this,J])}).on("mouseout.basic",function(J){J.interactionState.dragInProgress||J.partOfGroup||(te.unhover(this,J,j),J.interactionState.hovered=!1)}).on("click.basic",function(J){J.interactionState.hovered&&(te.unhover(this,J,j),J.interactionState.hovered=!1),J.interactionState.dragInProgress||J.partOfGroup||te.select(this,J,j)})}function z(V,j,te,J){var K=a.behavior.drag().origin(function(Z){return{x:Z.node.x0+Z.visibleWidth/2,y:Z.node.y0+Z.visibleHeight/2}}).on("dragstart",function(Z){if(Z.arrangement!=="fixed"&&(r.ensureSingle(J._fullLayout._infolayer,"g","dragcover",function(Q){J._fullLayout._dragCover=Q}),r.raiseToTop(this),Z.interactionState.dragInProgress=Z.node,W(Z.node),Z.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,Z.interactionState.hovered),Z.interactionState.hovered=!1),Z.arrangement==="snap")){var X=Z.traceId+"|"+Z.key;Z.forceLayouts[X]?Z.forceLayouts[X].alpha(1):function(Q,re,ae,ie){(function(pe){for(var de=0;de<pe.length;de++)pe[de].y=(pe[de].y0+pe[de].y1)/2,pe[de].x=(pe[de].x0+pe[de].x1)/2})(ae.graph.nodes);var le=ae.graph.nodes.filter(function(pe){return pe.originalX===ae.node.originalX}).filter(function(pe){return!pe.partOfGroup});ae.forceLayouts[re]=M.forceSimulation(le).alphaDecay(0).force("collide",M.forceCollide().radius(function(pe){return pe.dy/2+ae.nodePad/2}).strength(1).iterations(g.forceIterations)).force("constrain",function(pe,de,ve,be){return function(){for(var me=0,ge=0;ge<ve.length;ge++){var ke=ve[ge];ke===be.interactionState.dragInProgress?(ke.x=ke.lastDraggedX,ke.y=ke.lastDraggedY):(ke.vx=(ke.originalX-ke.x)/g.forceTicksPerFrame,ke.y=Math.min(be.size-ke.dy/2,Math.max(ke.dy/2,ke.y))),me=Math.max(me,Math.abs(ke.vx),Math.abs(ke.vy))}!be.interactionState.dragInProgress&&me<.1&&be.forceLayouts[de].alpha()>0&&be.forceLayouts[de].alpha(0)}}(0,re,le,ae)).stop()}(0,X,Z),function(Q,re,ae,ie,le){window.requestAnimationFrame(function pe(){var de;for(de=0;de<g.forceTicksPerFrame;de++)ae.forceLayouts[ie].tick();if(function(be){for(var me=0;me<be.length;me++)be[me].y0=be[me].y-be[me].dy/2,be[me].y1=be[me].y0+be[me].dy,be[me].x0=be[me].x-be[me].dx/2,be[me].x1=be[me].x0+be[me].dx}(ae.graph.nodes),ae.sankey.update(ae.graph),C(Q.filter(F(ae)),re),ae.forceLayouts[ie].alpha()>0)window.requestAnimationFrame(pe);else{var ve=ae.node.originalX;ae.node.x0=ve-ae.visibleWidth/2,ae.node.x1=ve+ae.visibleWidth/2,N(ae,le)}})}(V,j,Z,X,J)}}).on("drag",function(Z){if(Z.arrangement!=="fixed"){var X=a.event.x,Q=a.event.y;Z.arrangement==="snap"?(Z.node.x0=X-Z.visibleWidth/2,Z.node.x1=X+Z.visibleWidth/2,Z.node.y0=Q-Z.visibleHeight/2,Z.node.y1=Q+Z.visibleHeight/2):(Z.arrangement==="freeform"&&(Z.node.x0=X-Z.visibleWidth/2,Z.node.x1=X+Z.visibleWidth/2),Q=Math.max(0,Math.min(Z.size-Z.visibleHeight/2,Q)),Z.node.y0=Q-Z.visibleHeight/2,Z.node.y1=Q+Z.visibleHeight/2),W(Z.node),Z.arrangement!=="snap"&&(Z.sankey.update(Z.graph),C(V.filter(F(Z)),j))}}).on("dragend",function(Z){if(Z.arrangement!=="fixed"){Z.interactionState.dragInProgress=!1;for(var X=0;X<Z.node.childrenNodes.length;X++)Z.node.childrenNodes[X].x=Z.node.x,Z.node.childrenNodes[X].y=Z.node.y;Z.arrangement!=="snap"&&N(Z,J)}});V.on(".drag",null).call(K)}function N(V,j){for(var te=[],J=[],K=0;K<V.graph.nodes.length;K++){var Z=(V.graph.nodes[K].x0+V.graph.nodes[K].x1)/2,X=(V.graph.nodes[K].y0+V.graph.nodes[K].y1)/2;te.push(Z/V.figure.width),J.push(X/V.figure.height)}f.call("_guiRestyle",j,{"node.x":[te],"node.y":[J]},V.trace.index).then(function(){j._fullLayout._dragCover&&j._fullLayout._dragCover.remove()})}function W(V){V.lastDraggedX=V.x0+V.dx/2,V.lastDraggedY=V.y0+V.dy/2}function F(V){return function(j){return j.node.originalX===V.node.originalX}}ee.exports=function(V,j,te,J,K){var Z=V._context.staticPlot,X=!1;r.ensureSingle(V._fullLayout._infolayer,"g","first-render",function(){X=!0});var Q=V._fullLayout._dragCover,re=te.filter(function(me){return c(me).trace.visible}).map(x.bind(null,J)),ae=j.selectAll("."+g.cn.sankey).data(re,u);ae.exit().remove(),ae.enter().append("g").classed(g.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Z?"none":"auto").attr("transform",R),ae.each(function(me,ge){V._fullData[ge]._sankey=me;var ke="bgsankey-"+me.trace.uid+"-"+ge;r.ensureSingle(V._fullLayout._draggers,"rect",ke),V._fullData[ge]._bgRect=a.select("."+ke),V._fullData[ge]._bgRect.style("pointer-events",Z?"none":"all").attr("width",me.width).attr("height",me.height).attr("x",me.translateX).attr("y",me.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ae.transition().ease(g.ease).duration(g.duration).attr("transform",R);var ie=ae.selectAll("."+g.cn.sankeyLinks).data(d,u);ie.enter().append("g").classed(g.cn.sankeyLinks,!0).style("fill","none");var le=ie.selectAll("."+g.cn.sankeyLink).data(function(me){return me.graph.links.filter(function(ge){return ge.value}).map(_.bind(null,me))},u);le.enter().append("path").classed(g.cn.sankeyLink,!0).call(U,ae,K.linkEvents),le.style("stroke",function(me){return O(me)?t.tinyRGB(s(me.linkLineColor)):me.tinyColorHue}).style("stroke-opacity",function(me){return O(me)?t.opacity(me.linkLineColor):me.tinyColorAlpha}).style("fill",function(me){return me.tinyColorHue}).style("fill-opacity",function(me){return me.tinyColorAlpha}).style("stroke-width",function(me){return O(me)?me.linkLineWidth:1}).attr("d",h()),le.style("opacity",function(){return V._context.staticPlot||X||Q?1:0}).transition().ease(g.ease).duration(g.duration).style("opacity",1),le.exit().transition().ease(g.ease).duration(g.duration).style("opacity",0).remove();var pe=ae.selectAll("."+g.cn.sankeyNodeSet).data(d,u);pe.enter().append("g").classed(g.cn.sankeyNodeSet,!0),pe.style("cursor",function(me){switch(me.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var de=pe.selectAll("."+g.cn.sankeyNode).data(function(me){var ge=me.graph.nodes;return function(ke){var we,ue=[];for(we=0;we<ke.length;we++)ke[we].originalX=(ke[we].x0+ke[we].x1)/2,ke[we].originalY=(ke[we].y0+ke[we].y1)/2,ue.indexOf(ke[we].originalX)===-1&&ue.push(ke[we].originalX);for(ue.sort(function(oe,he){return oe-he}),we=0;we<ke.length;we++)ke[we].originalLayerIndex=ue.indexOf(ke[we].originalX),ke[we].originalLayer=ke[we].originalLayerIndex/(ue.length-1)}(ge),ge.map(S.bind(null,me))},u);de.enter().append("g").classed(g.cn.sankeyNode,!0).call(w).style("opacity",function(me){return!V._context.staticPlot&&!X||me.partOfGroup?0:1}),de.call(U,ae,K.nodeEvents).call(z,le,K,V),de.transition().ease(g.ease).duration(g.duration).call(w).style("opacity",function(me){return me.partOfGroup?0:1}),de.exit().transition().ease(g.ease).duration(g.duration).style("opacity",0).remove();var ve=de.selectAll("."+g.cn.nodeRect).data(d);ve.enter().append("rect").classed(g.cn.nodeRect,!0).call(P),ve.style("stroke-width",function(me){return me.nodeLineWidth}).style("stroke",function(me){return t.tinyRGB(s(me.nodeLineColor))}).style("stroke-opacity",function(me){return t.opacity(me.nodeLineColor)}).style("fill",function(me){return me.tinyColorHue}).style("fill-opacity",function(me){return me.tinyColorAlpha}),ve.transition().ease(g.ease).duration(g.duration).call(P);var be=de.selectAll("."+g.cn.nodeLabel).data(d);be.enter().append("text").classed(g.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(me){return me.node.label}).each(function(me){var ge=a.select(this);i.font(ge,me.textFont),m.convertToTspans(ge,V)}).style("text-shadow",m.makeTextShadow(V._fullLayout.paper_bgcolor)).attr("text-anchor",function(me){return me.horizontal&&me.left?"end":"start"}).attr("transform",function(me){var ge=a.select(this),ke=m.lineCount(ge),we=me.textFont.size*((ke-1)*y-v),ue=me.nodeLineWidth/2+3,oe=((me.horizontal?me.visibleHeight:me.visibleWidth)-we)/2;me.horizontal&&(me.left?ue=-ue:ue+=me.visibleWidth);var he=me.horizontal?"":"scale(-1,1)"+o(90);return n(me.horizontal?ue:oe,me.horizontal?oe:ue)+he}),be.transition().ease(g.ease).duration(g.duration)}},81128:function(ee){ee.exports=function(D,e){for(var M=[],k=D.cd[0].trace,a=k._sankey.graph.nodes,T=0;T<a.length;T++){var b=a[T];if(!b.partOfGroup){var g=[(b.x0+b.x1)/2,(b.y0+b.y1)/2];k.orientation==="v"&&g.reverse(),e&&e.contains(g,!1,T,D)&&M.push({pointNumber:b.pointNumber})}}return M}},20148:function(ee,D,e){var M=e(3400);ee.exports=function(k,a){for(var T=0;T<k.length;T++)k[T].i=T;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.texttemplate,k,"txt"),M.mergeArray(a.hovertext,k,"htx"),M.mergeArray(a.customdata,k,"data"),M.mergeArray(a.textposition,k,"tp"),a.textfont&&(M.mergeArrayCastPositive(a.textfont.size,k,"ts"),M.mergeArray(a.textfont.color,k,"tc"),M.mergeArray(a.textfont.family,k,"tf"));var b=a.marker;if(b){M.mergeArrayCastPositive(b.size,k,"ms"),M.mergeArrayCastPositive(b.opacity,k,"mo"),M.mergeArray(b.symbol,k,"mx"),M.mergeArray(b.angle,k,"ma"),M.mergeArray(b.standoff,k,"mf"),M.mergeArray(b.color,k,"mc");var g=b.line;b.line&&(M.mergeArray(g.color,k,"mlc"),M.mergeArrayCastPositive(g.width,k,"mlw"));var s=b.gradient;s&&s.type!=="none"&&(M.mergeArray(s.type,k,"mgt"),M.mergeArray(s.color,k,"mgc"))}}},52904:function(ee,D,e){var M=e(29736).axisHoverFormat,k=e(21776).Gw,a=e(21776).Ks,T=e(49084),b=e(25376),g=e(98192).u,s=e(98192).c,t=e(43616),i=e(88200),r=e(92880).extendFlat,n=e(98304);ee.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:M("x"),yhoverformat:M("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:k({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r({},g,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:r({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:r({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},T("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},T("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:b({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(ee,D,e){var M=e(38248),k=e(3400),a=e(54460),T=e(1220),b=e(39032).BADNUM,g=e(43028),s=e(90136),t=e(20148),i=e(4500);function r(d,c,m,f,p,v,y){var x=c._length,_=d._fullLayout,h=m._id,S=f._id,w=_._firstScatter[l(c)]===c.uid,E=(u(c,_,m,f)||{}).orientation,C=c.fill;m._minDtick=0,f._minDtick=0;var P={padded:!0},O={padded:!0};y&&(P.ppad=O.ppad=y);var R=x<2||p[0]!==p[x-1]||v[0]!==v[x-1];R&&(C==="tozerox"||C==="tonextx"&&(w||E==="h"))?P.tozero=!0:(c.error_y||{}).visible||C!=="tonexty"&&C!=="tozeroy"&&(g.hasMarkers(c)||g.hasText(c))||(P.padded=!1,P.ppad=0),R&&(C==="tozeroy"||C==="tonexty"&&(w||E==="v"))?O.tozero=!0:C!=="tonextx"&&C!=="tozerox"||(O.padded=!1),h&&(c._extremes[h]=a.findExtremes(m,p,P)),S&&(c._extremes[S]=a.findExtremes(f,v,O))}function n(d,c){if(g.hasMarkers(d)){var m,f=d.marker,p=1.6*(d.marker.sizeref||1);if(m=d.marker.sizemode==="area"?function(h){return Math.max(Math.sqrt((h||0)/p),3)}:function(h){return Math.max((h||0)/p,3)},k.isArrayOrTypedArray(f.size)){var v={type:"linear"};a.setConvert(v);for(var y=v.makeCalcdata(d.marker,"size"),x=new Array(c),_=0;_<c;_++)x[_]=m(y[_]);return x}return m(f.size)}}function o(d,c){var m=l(c),f=d._firstScatter;f[m]||(f[m]=c.uid)}function l(d){var c=d.stackgroup;return d.xaxis+d.yaxis+d.type+(c?"-"+c:"")}function u(d,c,m,f){var p=d.stackgroup;if(p){var v=c._scatterStackOpts[m._id+f._id][p],y=v.orientation==="v"?f:m;return y.type==="linear"||y.type==="log"?v:void 0}}ee.exports={calc:function(d,c){var m,f,p,v,y,x,_=d._fullLayout,h=c._xA=a.getFromId(d,c.xaxis||"x","x"),S=c._yA=a.getFromId(d,c.yaxis||"y","y"),w=h.makeCalcdata(c,"x"),E=S.makeCalcdata(c,"y"),C=T(c,h,"x",w),P=T(c,S,"y",E),O=C.vals,R=P.vals,U=c._length,z=new Array(U),N=c.ids,W=u(c,_,h,S),F=!1;o(_,c);var V,j="x",te="y";W?(k.pushUnique(W.traceIndices,c._expandedIndex),(m=W.orientation==="v")?(te="s",V="x"):(j="s",V="y"),y=W.stackgaps==="interpolate"):r(d,c,h,S,O,R,n(c,U));var J=!!c.xperiodalignment,K=!!c.yperiodalignment;for(f=0;f<U;f++){var Z=z[f]={},X=M(O[f]),Q=M(R[f]);X&&Q?(Z[j]=O[f],Z[te]=R[f],J&&(Z.orig_x=w[f],Z.xEnd=C.ends[f],Z.xStart=C.starts[f]),K&&(Z.orig_y=E[f],Z.yEnd=P.ends[f],Z.yStart=P.starts[f])):W&&(m?X:Q)?(Z[V]=m?O[f]:R[f],Z.gap=!0,y?(Z.s=b,F=!0):Z.s=0):Z[j]=Z[te]=b,N&&(Z.id=String(N[f]))}if(t(z,c),s(d,c),i(z,c),W){for(f=0;f<z.length;)z[f][V]===b?z.splice(f,1):f++;if(k.sort(z,function(le,pe){return le[V]-pe[V]||le.i-pe.i}),F){for(f=0;f<z.length-1&&z[f].gap;)f++;for((x=z[f].s)||(x=z[f].s=0),p=0;p<f;p++)z[p].s=x;for(v=z.length-1;v>f&&z[v].gap;)v--;for(x=z[v].s,p=z.length-1;p>v;p--)z[p].s=x;for(;f<v;)if(z[++f].gap){for(p=f+1;z[p].gap;)p++;for(var re=z[f-1][V],ae=z[f-1].s,ie=(z[p].s-ae)/(z[p][V]-re);f<p;)z[f].s=ae+(z[f][V]-re)*ie,f++}}}return z},calcMarkerSize:n,calcAxisExpansion:r,setFirstScatter:o,getStackOpts:u}},4500:function(ee,D,e){var M=e(3400);ee.exports=function(k,a){M.isArrayOrTypedArray(a.selectedpoints)&&M.tagSelected(k,a)}},90136:function(ee,D,e){var M=e(94288).hasColorscale,k=e(47128),a=e(43028);ee.exports=function(T,b){a.hasLines(b)&&M(b,"line")&&k(T,b,{vals:b.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(b)&&(M(b,"marker")&&k(T,b,{vals:b.marker.color,containerStr:"marker",cLetter:"c"}),M(b,"marker.line")&&k(T,b,{vals:b.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(ee){ee.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(ee,D,e){var M=e(16356),k=e(96376).setGroupPositions;function a(T,b,g,s,t,i,r){t[s]=!0;var n={i:null,gap:!0,s:0};if(n[r]=g,T.splice(b,0,n),b&&g===T[b-1][r]){var o=T[b-1];n.s=o.s,n.i=o.i,n.gap=o.gap}else i&&(n.s=function(l,u,d,c){var m=l[u-1],f=l[u+1];return f?m?m.s+(f.s-m.s)*(d-m[c])/(f[c]-m[c]):f.s:m.s}(T,b,g,r));b||(T[0].t=T[1].t,T[0].trace=T[1].trace,delete T[1].t,delete T[1].trace)}ee.exports=function(T,b){T._fullLayout.scattermode==="group"&&function(V,j){for(var te=j.xaxis,J=j.yaxis,K=V._fullLayout,Z=V._fullData,X=V.calcdata,Q=[],re=[],ae=0;ae<Z.length;ae++){var ie=Z[ae];ie.visible===!0&&ie.type==="scatter"&&ie.xaxis===te._id&&ie.yaxis===J._id&&(ie.orientation==="h"?Q.push(X[ae]):ie.orientation==="v"&&re.push(X[ae]))}var le={mode:K.scattermode,gap:K.scattergap};k(V,te,J,re,le),k(V,J,te,Q,le)}(T,b);var g=b.xaxis,s=b.yaxis,t=g._id+s._id,i=T._fullLayout._scatterStackOpts[t];if(i){var r,n,o,l,u,d,c,m,f,p,v,y,x,_,h,S=T.calcdata;for(var w in i){var E=(p=i[w]).traceIndices;if(E.length){for(v=p.stackgaps==="interpolate",y=p.groupnorm,p.orientation==="v"?(x="x",_="y"):(x="y",_="x"),h=new Array(E.length),r=0;r<h.length;r++)h[r]=!1;d=S[E[0]];var C=new Array(d.length);for(r=0;r<d.length;r++)C[r]=d[r][x];for(r=1;r<E.length;r++){for(u=S[E[r]],n=o=0;n<u.length;n++){for(c=u[n][x];c>C[o]&&o<C.length;o++)a(u,n,C[o],r,h,v,x),n++;if(c!==C[o]){for(l=0;l<r;l++)a(S[E[l]],o,c,l,h,v,x);C.splice(o,0,c)}o++}for(;o<C.length;o++)a(u,n,C[o],r,h,v,x),n++}var P=C.length;for(n=0;n<d.length;n++){for(m=d[n][_]=d[n].s,r=1;r<E.length;r++)(u=S[E[r]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=P,m+=u[n].s,u[n][_]=m;if(y)for(f=(y==="fraction"?m:m/100)||1,r=0;r<E.length;r++){var O=S[E[r]][n];O[_]/=f,O.sNorm=O.s/f}}for(r=0;r<E.length;r++){var R=(u=S[E[r]])[0].trace,U=M.calcMarkerSize(R,R._rawLength),z=Array.isArray(U);if(U&&h[r]||z){var N=U;for(U=new Array(P),n=0;n<P;n++)U[n]=u[n].gap?0:z?N[u[n].i]:N}var W=new Array(P),F=new Array(P);for(n=0;n<P;n++)W[n]=u[n].x,F[n]=u[n].y;M.calcAxisExpansion(T,R,g,s,W,F,U),u[0].t.orientation=p.orientation}}}}}},35036:function(ee,D,e){var M=e(3400),k=e(20011),a=e(52904);ee.exports=function(T,b){var g,s,t;function i(u){return M.coerce(s._input,s,a,u)}if(b.scattermode==="group")for(t=0;t<T.length;t++)(s=T[t]).type==="scatter"&&(g=s._input,k(g,s,b,i));for(t=0;t<T.length;t++){var r=T[t];if(r.type==="scatter"){var n=r.fill;if(n!=="none"&&n!=="toself"&&(r.opacity=void 0,n==="tonexty"||n==="tonextx"))for(var o=t-1;o>=0;o--){var l=T[o];if(l.type==="scatter"&&l.xaxis===r.xaxis&&l.yaxis===r.yaxis){l.opacity=void 0;break}}}}}},18800:function(ee,D,e){var M=e(3400),k=e(24040),a=e(52904),T=e(88200),b=e(43028),g=e(43980),s=e(31147),t=e(43912),i=e(74428),r=e(66828),n=e(11731),o=e(124),l=e(70840),u=e(3400).coercePattern;ee.exports=function(d,c,m,f){function p(E,C){return M.coerce(d,c,a,E,C)}var v=g(d,c,f,p);if(v||(c.visible=!1),c.visible){s(d,c,f,p),p("xhoverformat"),p("yhoverformat");var y=t(d,c,f,p);f.scattermode==="group"&&c.orientation===void 0&&p("orientation","v");var x=!y&&v<T.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",x),b.hasMarkers(c)&&i(d,c,m,f,p,{gradient:!0}),b.hasLines(c)&&(r(d,c,m,f,p,{backoff:!0}),n(d,c,p),p("connectgaps"),p("line.simplify")),b.hasText(c)&&(p("texttemplate"),o(d,c,f,p));var _=[];(b.hasMarkers(c)||b.hasText(c))&&(p("cliponaxis"),p("marker.maxdisplayed"),_.push("points")),p("fill",y?y.fillDflt:"none"),c.fill!=="none"&&(l(d,c,m,p,{moduleHasFillgradient:!0}),b.hasLines(c)||n(d,c,p),u(p,"fillpattern",c.fillcolor,!1));var h=(c.line||{}).color,S=(c.marker||{}).color;c.fill!=="tonext"&&c.fill!=="toself"||_.push("fills"),p("hoveron",_.join("+")||"points"),c.hoveron!=="fills"&&p("hovertemplate");var w=k.getComponentMethod("errorbars","supplyDefaults");w(d,c,h||S||m,{axis:"y"}),w(d,c,h||S||m,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(c,p)}}},98304:function(ee){ee.exports=function(D){return{valType:"color",editType:"style",anim:!0}}},70840:function(ee,D,e){var M=e(76308),k=e(3400).isArrayOrTypedArray;ee.exports=function(a,T,b,g,s){s||(s={});var t,i=!1;if(T.marker){var r=T.marker.color,n=(T.marker.line||{}).color;r&&!k(r)?i=r:n&&!k(n)&&(i=n)}if(s.moduleHasFillgradient&&g("fillgradient.type")!=="none"){g("fillgradient.start"),g("fillgradient.stop");var o=g("fillgradient.colorscale");o&&(t=function(l){for(var u=M.interpolate(l[0][1],l[1][1],.5),d=2;d<l.length;d++){var c=M.interpolate(l[d-1][1],l[d][1],.5);u=M.interpolate(u,c,l[d-1][0]/l[d][0])}return u}(o))}g("fillcolor",M.addOpacity((T.line||{}).color||i||t||b,.5))}},76688:function(ee,D,e){var M=e(54460);ee.exports=function(k,a,T){var b={},g={_fullLayout:T},s=M.getFromTrace(g,a,"x"),t=M.getFromTrace(g,a,"y"),i=k.orig_x;i===void 0&&(i=k.x);var r=k.orig_y;return r===void 0&&(r=k.y),b.xLabel=M.tickText(s,s.c2l(i),!0).text,b.yLabel=M.tickText(t,t.c2l(r),!0).text,b}},44928:function(ee,D,e){var M=e(76308),k=e(43028);ee.exports=function(a,T){var b,g;if(a.mode==="lines")return(b=a.line.color)&&M.opacity(b)?b:a.fillcolor;if(a.mode==="none")return a.fill?a.fillcolor:"";var s=T.mcc||(a.marker||{}).color,t=T.mlcc||((a.marker||{}).line||{}).color;return(g=s&&M.opacity(s)?s:t&&M.opacity(t)&&(T.mlw||((a.marker||{}).line||{}).width)?t:"")?M.opacity(g)<.3?M.addOpacity(g,.3):g:(b=(a.line||{}).color)&&M.opacity(b)&&k.hasLines(a)&&a.line.width?b:a.fillcolor}},20011:function(ee,D,e){var M=e(71888).getAxisGroup;ee.exports=function(k,a,T,b){var g=a.orientation,s=a[{v:"x",h:"y"}[g]+"axis"],t=M(T,s)+g,i=T._alignmentOpts||{},r=b("alignmentgroup"),n=i[t];n||(n=i[t]={});var o=n[r];o?o.traces.push(a):o=n[r]={traces:[a],alignmentIndex:Object.keys(n).length,offsetGroups:{}};var l=b("offsetgroup"),u=o.offsetGroups,d=u[l];l&&(d||(d=u[l]={offsetIndex:Object.keys(u).length}),a._offsetIndex=d.offsetIndex)}},98723:function(ee,D,e){var M=e(3400),k=e(93024),a=e(24040),T=e(44928),b=e(76308),g=M.fillText;ee.exports=function(s,t,i,r){var n=s.cd,o=n[0].trace,l=s.xa,u=s.ya,d=l.c2p(t),c=u.c2p(i),m=[d,c],f=o.hoveron||"",p=o.mode.indexOf("markers")!==-1?3:.5,v=!!o.xperiodalignment,y=!!o.yperiodalignment;if(f.indexOf("points")!==-1){var x=function(W){var F=Math.max(p,W.mrc||0),V=l.c2p(W.x)-d,j=u.c2p(W.y)-c;return Math.max(Math.sqrt(V*V+j*j)-F,1-p/F)},_=k.getDistanceFunction(r,function(W){if(v){var F=l.c2p(W.xStart),V=l.c2p(W.xEnd);return d>=Math.min(F,V)&&d<=Math.max(F,V)?0:1/0}var j=Math.max(3,W.mrc||0),te=1-1/j,J=Math.abs(l.c2p(W.x)-d);return J<j?te*J/j:J-j+te},function(W){if(y){var F=u.c2p(W.yStart),V=u.c2p(W.yEnd);return c>=Math.min(F,V)&&c<=Math.max(F,V)?0:1/0}var j=Math.max(3,W.mrc||0),te=1-1/j,J=Math.abs(u.c2p(W.y)-c);return J<j?te*J/j:J-j+te},x);if(k.getClosest(n,_,s),s.index!==!1){var h=n[s.index],S=l.c2p(h.x,!0),w=u.c2p(h.y,!0),E=h.mrc||1;s.index=h.i;var C=n[0].t.orientation,P=C&&(h.sNorm||h.s),O=C==="h"?P:h.orig_x!==void 0?h.orig_x:h.x,R=C==="v"?P:h.orig_y!==void 0?h.orig_y:h.y;return M.extendFlat(s,{color:T(o,h),x0:S-E,x1:S+E,xLabelVal:O,y0:w-E,y1:w+E,yLabelVal:R,spikeDistance:x(h),hovertemplate:o.hovertemplate}),g(h,o,s),a.getComponentMethod("errorbars","hoverInfo")(h,o,s),[s]}}function U(W){if(!W)return!1;var F=W.node();try{var V=new DOMPoint(m[0],m[1]);return F.isPointInFill(V)}catch{var j=F.ownerSVGElement.createSVGPoint();return j.x=m[0],j.y=m[1],F.isPointInFill(j)}}if(f.indexOf("fills")!==-1&&o._fillElement&&U(o._fillElement)&&!U(o._fillExclusionElement)){var z=function(W){var F,V,j,te,J,K,Z,X,Q,re=[],ae=1/0,ie=-1/0,le=1/0,pe=-1/0;for(F=0;F<W.length;F++){var de=W[F];de.contains(m)&&(re.push(de),le=Math.min(le,de.ymin),pe=Math.max(pe,de.ymax))}if(re.length===0)return null;for(V=((le=Math.max(le,0))+(pe=Math.min(pe,u._length)))/2,F=0;F<re.length;F++)for(te=re[F].pts,j=1;j<te.length;j++)(X=te[j-1][1])>V!=(Q=te[j][1])>=V&&(K=te[j-1][0],Z=te[j][0],Q-X&&(J=K+(Z-K)*(V-X)/(Q-X),ae=Math.min(ae,J),ie=Math.max(ie,J)));return{x0:ae=Math.max(ae,0),x1:ie=Math.min(ie,l._length),y0:V,y1:V}}(o._polygons);z===null&&(z={x0:m[0],x1:m[0],y0:m[1],y1:m[1]});var N=b.defaultLine;return b.opacity(o.fillcolor)?N=o.fillcolor:b.opacity((o.line||{}).color)&&(N=o.line.color),M.extendFlat(s,{distance:s.maxHoverDistance,x0:z.x0,x1:z.x1,y0:z.y0,y1:z.y1,color:N,hovertemplate:!1}),delete s.index,o.text&&!M.isArrayOrTypedArray(o.text)?s.text=String(o.text):s.text=o.name,[s]}}},65875:function(ee,D,e){var M=e(43028);ee.exports={hasLines:M.hasLines,hasMarkers:M.hasMarkers,hasText:M.hasText,isBubble:M.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(ee){ee.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(ee,D,e){var M=e(3400),k=e(55308);ee.exports=function(a,T){var b,g=T.barmode==="group";T.scattermode==="group"&&(b=g?T.bargap:.2,M.coerce(a,T,k,"scattergap",b))}},66828:function(ee,D,e){var M=e(3400).isArrayOrTypedArray,k=e(94288).hasColorscale,a=e(27260);ee.exports=function(T,b,g,s,t,i){i||(i={});var r=(T.marker||{}).color;r&&r._inputArray&&(r=r._inputArray),t("line.color",g),k(T,"line")?a(T,b,s,t,{prefix:"line.",cLetter:"c"}):t("line.color",!M(r)&&r||g),t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},52340:function(ee,D,e){var M=e(43616),k=e(39032),a=k.BADNUM,T=k.LOG_CLIP,b=T+.5,g=T-.5,s=e(3400),t=s.segmentsIntersect,i=s.constrain,r=e(88200);ee.exports=function(n,o){var l,u,d,c,m,f,p,v,y,x,_,h,S,w,E,C,P,O,R=o.trace||{},U=o.xaxis,z=o.yaxis,N=U.type==="log",W=z.type==="log",F=U._length,V=z._length,j=o.backoff,te=R.marker,J=o.connectGaps,K=o.baseTolerance,Z=o.shape,X=Z==="linear",Q=R.fill&&R.fill!=="none",re=[],ae=r.minTolerance,ie=n.length,le=new Array(ie),pe=0;function de(Lt){var He=n[Lt];if(!He)return!1;var We=o.linearized?U.l2p(He.x):U.c2p(He.x),Be=o.linearized?z.l2p(He.y):z.c2p(He.y);if(We===a){if(N&&(We=U.c2p(He.x,!0)),We===a)return!1;W&&Be===a&&(We*=Math.abs(U._m*V*(U._m>0?b:g)/(z._m*F*(z._m>0?b:g)))),We*=1e3}if(Be===a){if(W&&(Be=z.c2p(He.y,!0)),Be===a)return!1;Be*=1e3}return[We,Be]}function ve(Lt,He,We,Be){var Ge=We-Lt,at=Be-He,nt=.5-Lt,Re=.5-He,Fe=Ge*Ge+at*at,rt=Ge*nt+at*Re;if(rt>0&&rt<Fe){var Ye=nt*at-Re*Ge;if(Ye*Ye<Fe)return!0}}function be(Lt,He){var We=Lt[0]/F,Be=Lt[1]/V,Ge=Math.max(0,-We,We-1,-Be,Be-1);return Ge&&P!==void 0&&ve(We,Be,P,O)&&(Ge=0),Ge&&He&&ve(We,Be,He[0]/F,He[1]/V)&&(Ge=0),(1+r.toleranceGrowth*Ge)*K}function me(Lt,He){var We=Lt[0]-He[0],Be=Lt[1]-He[1];return Math.sqrt(We*We+Be*Be)}var ge,ke,we,ue,oe,he,Ee,Te=r.maxScreensAway,Me=-F*Te,Se=F*(1+Te),ze=-V*Te,fe=V*(1+Te),xe=[[Me,ze,Se,ze],[Se,ze,Se,fe],[Se,fe,Me,fe],[Me,fe,Me,ze]];function _e(Lt){if(Lt[0]<Me||Lt[0]>Se||Lt[1]<ze||Lt[1]>fe)return[i(Lt[0],Me,Se),i(Lt[1],ze,fe)]}function Oe(Lt,He){return Lt[0]===He[0]&&(Lt[0]===Me||Lt[0]===Se)||Lt[1]===He[1]&&(Lt[1]===ze||Lt[1]===fe)||void 0}function De(Lt,He,We){return function(Be,Ge){var at=_e(Be),nt=_e(Ge),Re=[];if(at&&nt&&Oe(at,nt))return Re;at&&Re.push(at),nt&&Re.push(nt);var Fe=2*s.constrain((Be[Lt]+Ge[Lt])/2,He,We)-((at||Be)[Lt]+(nt||Ge)[Lt]);return Fe&&((at&&nt?Fe>0==at[Lt]>nt[Lt]?at:nt:at||nt)[Lt]+=Fe),Re}}function Pe(Lt){var He=Lt[0],We=Lt[1],Be=He===le[pe-1][0],Ge=We===le[pe-1][1];if(!Be||!Ge)if(pe>1){var at=He===le[pe-2][0],nt=We===le[pe-2][1];Be&&(He===Me||He===Se)&&at?nt?pe--:le[pe-1]=Lt:Ge&&(We===ze||We===fe)&&nt?at?pe--:le[pe-1]=Lt:le[pe++]=Lt}else le[pe++]=Lt}function Ue(Lt){le[pe-1][0]!==Lt[0]&&le[pe-1][1]!==Lt[1]&&Pe([we,ue]),Pe(Lt),oe=null,we=ue=0}Z==="linear"||Z==="spline"?Ee=function(Lt,He){for(var We=[],Be=0,Ge=0;Ge<4;Ge++){var at=xe[Ge],nt=t(Lt[0],Lt[1],He[0],He[1],at[0],at[1],at[2],at[3]);nt&&(!Be||Math.abs(nt.x-We[0][0])>1||Math.abs(nt.y-We[0][1])>1)&&(nt=[nt.x,nt.y],Be&&me(nt,Lt)<me(We[0],Lt)?We.unshift(nt):We.push(nt),Be++)}return We}:Z==="hv"||Z==="vh"?Ee=function(Lt,He){var We=[],Be=_e(Lt),Ge=_e(He);return Be&&Ge&&Oe(Be,Ge)||(Be&&We.push(Be),Ge&&We.push(Ge)),We}:Z==="hvh"?Ee=De(0,Me,Se):Z==="vhv"&&(Ee=De(1,ze,fe));var Ve=s.isArrayOrTypedArray(te);function Xe(Lt){if(Lt&&j&&(Lt.i=l,Lt.d=n,Lt.trace=R,Lt.marker=Ve?te[Lt.i]:te,Lt.backoff=j),P=Lt[0]/F,O=Lt[1]/V,ge=Lt[0]<Me?Me:Lt[0]>Se?Se:0,ke=Lt[1]<ze?ze:Lt[1]>fe?fe:0,ge||ke){if(pe)if(oe){var He=Ee(oe,Lt);He.length>1&&(Ue(He[0]),le[pe++]=He[1])}else he=Ee(le[pe-1],Lt)[0],le[pe++]=he;else le[pe++]=[ge||Lt[0],ke||Lt[1]];var We=le[pe-1];ge&&ke&&(We[0]!==ge||We[1]!==ke)?(oe&&(we!==ge&&ue!==ke?Pe(we&&ue?(Be=oe,at=(Ge=Lt)[0]-Be[0],nt=(Ge[1]-Be[1])/at,(Be[1]*Ge[0]-Ge[1]*Be[0])/at>0?[nt>0?Me:Se,fe]:[nt>0?Se:Me,ze]):[we||ge,ue||ke]):we&&ue&&Pe([we,ue])),Pe([ge,ke])):we-ge&&ue-ke&&Pe([ge||we,ke||ue]),oe=Lt,we=ge,ue=ke}else oe&&Ue(Ee(oe,Lt)[0]),le[pe++]=Lt;var Be,Ge,at,nt}for(l=0;l<ie;l++)if(u=de(l)){for(pe=0,oe=null,Xe(u),l++;l<ie;l++){if(!(c=de(l))){if(J)continue;break}if(X&&o.simplify){var it=de(l+1);if(x=me(c,u),Q&&(pe===0||pe===ie-1)||!(x<be(c,it)*ae)){for(v=[(c[0]-u[0])/x,(c[1]-u[1])/x],m=u,_=x,h=w=E=0,p=!1,d=c,l++;l<n.length;l++){if(f=it,it=de(l+1),!f){if(J)continue;break}if(C=(y=[f[0]-u[0],f[1]-u[1]])[0]*v[1]-y[1]*v[0],w=Math.min(w,C),(E=Math.max(E,C))-w>be(f,it))break;d=f,(S=y[0]*v[0]+y[1]*v[1])>_?(_=S,c=f,p=!1):S<h&&(h=S,m=f,p=!0)}if(p?(Xe(c),d!==m&&Xe(m)):(m!==u&&Xe(m),d!==c&&Xe(c)),Xe(d),l>=n.length||!f)break;Xe(f),u=f}}else Xe(c)}oe&&Pe([we||oe[0],ue||oe[1]]),re.push(le.slice(0,pe))}var tt=Z.slice(Z.length-1);if(j&&tt!=="h"&&tt!=="v"){for(var pt=!1,mt=-1,gt=[],et=0;et<re.length;et++)for(var $e=0;$e<re[et].length-1;$e++){var _t=re[et][$e],Pt=re[et][$e+1],Ot=M.applyBackoff(Pt,_t);Ot[0]===Pt[0]&&Ot[1]===Pt[1]||(pt=!0),gt[mt+1]||(gt[++mt]=[_t,[Ot[0],Ot[1]]])}return pt?gt:re}return re}},11731:function(ee){ee.exports=function(D,e,M){M("line.shape")==="spline"&&M("line.smoothing")}},14328:function(ee){var D={tonextx:1,tonexty:1,tonext:1};ee.exports=function(e,M,k){var a,T,b,g,s,t={},i=!1,r=-1,n=0,o=-1;for(T=0;T<k.length;T++)(b=(a=k[T][0].trace).stackgroup||"")?b in t?s=t[b]:(s=t[b]=n,n++):a.fill in D&&o>=0?s=o:(s=o=n,n++),s<r&&(i=!0),a._groupIndex=r=s;var l=k.slice();i&&l.sort(function(d,c){var m=d[0].trace,f=c[0].trace;return m._groupIndex-f._groupIndex||m.index-f.index});var u={};for(T=0;T<l.length;T++)b=(a=l[T][0].trace).stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in D&&(g=u[b],a._prevtrace=g||null,g&&(g._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),u[b]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return l}},7152:function(ee,D,e){var M=e(38248);ee.exports=function(k,a){a||(a=2);var T=k.marker,b=T.sizeref||1,g=T.sizemin||0,s=T.sizemode==="area"?function(t){return Math.sqrt(t/b)}:function(t){return t/b};return function(t){var i=s(t/a);return M(i)&&i>0?Math.max(i,g):0}}},5528:function(ee){ee.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(ee,D,e){var M=e(76308),k=e(94288).hasColorscale,a=e(27260),T=e(43028);ee.exports=function(b,g,s,t,i,r){var n=T.isBubble(b),o=(b.line||{}).color;r=r||{},o&&(s=o),i("marker.symbol"),i("marker.opacity",n?.7:1),i("marker.size"),r.noAngle||(i("marker.angle"),r.noAngleRef||i("marker.angleref"),r.noStandOff||i("marker.standoff")),i("marker.color",s),k(b,"marker")&&a(b,g,t,i,{prefix:"marker.",cLetter:"c"}),r.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),r.noLine||(i("marker.line.color",o&&!Array.isArray(o)&&g.marker.color!==o?o:n?M.background:M.defaultLine),k(b,"marker.line")&&a(b,g,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",n?1:0)),n&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),r.gradient&&i("marker.gradient.type")!=="none"&&i("marker.gradient.color")}},31147:function(ee,D,e){var M=e(3400).dateTick0,k=e(39032).ONEWEEK;function a(T,b){return M(b,T%k==0?1:0)}ee.exports=function(T,b,g,s,t){if(t||(t={x:!0,y:!0}),t.x){var i=s("xperiod");i&&(s("xperiod0",a(i,b.xcalendar)),s("xperiodalignment"))}if(t.y){var r=s("yperiod");r&&(s("yperiod0",a(r,b.ycalendar)),s("yperiodalignment"))}}},96504:function(ee,D,e){var M=e(33428),k=e(24040),a=e(3400),T=a.ensureSingle,b=a.identity,g=e(43616),s=e(43028),t=e(52340),i=e(14328),r=e(92065).tester;function n(o,l,u,d,c,m,f){var p,v=o._context.staticPlot;(function(Pe,Ue,Ve,Xe,it){var tt=Ve.xaxis,pt=Ve.yaxis,mt=M.extent(a.simpleMap(tt.range,tt.r2c)),gt=M.extent(a.simpleMap(pt.range,pt.r2c)),et=Xe[0].trace;if(s.hasMarkers(et)){var $e=et.marker.maxdisplayed;if($e!==0){var _t=Xe.filter(function(He){return He.x>=mt[0]&&He.x<=mt[1]&&He.y>=gt[0]&&He.y<=gt[1]}),Pt=Math.ceil(_t.length/$e),Ot=0;it.forEach(function(He,We){var Be=He[0].trace;s.hasMarkers(Be)&&Be.marker.maxdisplayed>0&&We<Ue&&Ot++});var Lt=Math.round(Ot*Pt/3+Math.floor(Ot/3)*Pt/7.1);Xe.forEach(function(He){delete He.vis}),_t.forEach(function(He,We){Math.round((We+Lt)%Pt)===0&&(He.vis=!0)})}}})(0,l,u,d,c);var y=!!f&&f.duration>0;function x(Pe){return y?Pe.transition():Pe}var _=u.xaxis,h=u.yaxis,S=d[0].trace,w=S.line,E=M.select(m),C=T(E,"g","errorbars"),P=T(E,"g","lines"),O=T(E,"g","points"),R=T(E,"g","text");if(k.getComponentMethod("errorbars","plot")(o,C,u,f),S.visible===!0){var U,z;x(E).style("opacity",S.opacity);var N,W,F=S.fill.charAt(S.fill.length-1);F!=="x"&&F!=="y"&&(F=""),F==="y"?(N=1,W=h.c2p(0,!0)):F==="x"&&(N=0,W=_.c2p(0,!0)),d[0][u.isRangePlot?"nodeRangePlot3":"node3"]=E;var V,j,te="",J=[],K=S._prevtrace,Z=null,X=null;K&&(te=K._prevRevpath||"",z=K._nextFill,J=K._ownPolygons,Z=K._fillsegments,X=K._fillElement);var Q,re,ae,ie,le,pe,de="",ve="",be=[];S._polygons=[];var me=[],ge=[],ke=a.noop;if(U=S._ownFill,s.hasLines(S)||S.fill!=="none"){z&&z.datum(d),["hv","vh","hvh","vhv"].indexOf(w.shape)!==-1?(Q=g.steps(w.shape),re=g.steps(w.shape.split("").reverse().join(""))):Q=re=w.shape==="spline"?function(Pe){var Ue=Pe[Pe.length-1];return Pe.length>1&&Pe[0][0]===Ue[0]&&Pe[0][1]===Ue[1]?g.smoothclosed(Pe.slice(1),w.smoothing):g.smoothopen(Pe,w.smoothing)}:function(Pe){return"M"+Pe.join("L")},ae=function(Pe){return re(Pe.reverse())},ge=t(d,{xaxis:_,yaxis:h,trace:S,connectGaps:S.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,backoff:w.backoff,simplify:w.simplify,fill:S.fill}),me=new Array(ge.length);var we=0;for(p=0;p<ge.length;p++){var ue,oe=ge[p];ue&&F?ue.push.apply(ue,oe):(ue=oe.slice(),me[we]=ue,we++)}S._fillElement=null,S._fillExclusionElement=X,S._fillsegments=me.slice(0,we),me=S._fillsegments,ge.length&&(ie=ge[0][0].slice(),pe=(le=ge[ge.length-1])[le.length-1].slice()),ke=function(Pe){return function(Ue){if(V=Q(Ue),j=ae(Ue),de?F?(de+="L"+V.substr(1),ve=j+"L"+ve.substr(1)):(de+="Z"+V,ve=j+"Z"+ve):(de=V,ve=j),s.hasLines(S)){var Ve=M.select(this);if(Ve.datum(d),Pe)x(Ve.style("opacity",0).attr("d",V).call(g.lineGroupStyle)).style("opacity",1);else{var Xe=x(Ve);Xe.attr("d",V),g.singleLineStyle(d,Xe)}}}}}var he=P.selectAll(".js-line").data(ge);x(he.exit()).style("opacity",0).remove(),he.each(ke(!1)),he.enter().append("path").classed("js-line",!0).style("vector-effect",v?"none":"non-scaling-stroke").call(g.lineGroupStyle).each(ke(!0)),g.setClipUrl(he,u.layerClipId,o);var Ee=function(){var Pe=new Array(me.length);for(p=0;p<me.length;p++)Pe[p]=r(me[p]);return Pe},Te=function(Pe){var Ue,Ve;if(Pe&&Pe.length!==0){for(Ue=new Array(Pe.length-1+me.length),Ve=0;Ve<Pe.length-1;Ve++)Ue[Ve]=r(Pe[Ve]);var Xe=Pe[Pe.length-1].slice();for(Xe.reverse(),Ve=0;Ve<me.length;Ve++)Ue[Pe.length-1+Ve]=r(me[Ve].concat(Xe))}else for(Ue=new Array(me.length),Ve=0;Ve<me.length;Ve++){var it=me[Ve][0].slice(),tt=me[Ve][me[Ve].length-1].slice();it[N]=tt[N]=W;var pt=[tt,it].concat(me[Ve]);Ue[Ve]=r(pt)}return Ue};ge.length?(U?(U.datum(d),ie&&pe&&(F?(ie[N]=pe[N]=W,x(U).attr("d","M"+pe+"L"+ie+"L"+de.substr(1)).call(g.singleFillStyle,o),be=Te(null)):(x(U).attr("d",de+"Z").call(g.singleFillStyle,o),be=Ee())),S._polygons=be,S._fillElement=U):z&&(S.fill.substr(0,6)==="tonext"&&de&&te?(S.fill==="tonext"?(x(z).attr("d",de+"Z"+te+"Z").call(g.singleFillStyle,o),be=Ee(),S._polygons=be.concat(J)):(x(z).attr("d",de+"L"+te.substr(1)+"Z").call(g.singleFillStyle,o),be=Te(Z),S._polygons=be),S._fillElement=z):Se(z)),S._prevRevpath=ve):(U?Se(U):z&&Se(z),S._prevRevpath=null),S._ownPolygons=be,O.datum(d),R.datum(d),function(Pe,Ue,Ve){var Xe,it=Ve[0].trace,tt=s.hasMarkers(it),pt=s.hasText(it),mt=Oe(it),gt=De,et=De;if(tt||pt){var $e=b,_t=it.stackgroup,Pt=_t&&o._fullLayout._scatterStackOpts[_._id+h._id][_t].stackgaps==="infer zero";it.marker.maxdisplayed||it._needsCull?$e=Pt?fe:ze:_t&&!Pt&&($e=xe),tt&&(gt=$e),pt&&(et=$e)}var Ot,Lt=(Xe=Pe.selectAll("path.point").data(gt,mt)).enter().append("path").classed("point",!0);y&&Lt.call(g.pointStyle,it,o).call(g.translatePoints,_,h).style("opacity",0).transition().style("opacity",1),Xe.order(),tt&&(Ot=g.makePointStyleFns(it)),Xe.each(function(He){var We=M.select(this),Be=x(We);g.translatePoint(He,Be,_,h)?(g.singlePointStyle(He,Be,it,Ot,o),u.layerClipId&&g.hideOutsideRangePoint(He,Be,_,h,it.xcalendar,it.ycalendar),it.customdata&&We.classed("plotly-customdata",He.data!==null&&He.data!==void 0)):Be.remove()}),y?Xe.exit().transition().style("opacity",0).remove():Xe.exit().remove(),(Xe=Ue.selectAll("g").data(et,mt)).enter().append("g").classed("textpoint",!0).append("text"),Xe.order(),Xe.each(function(He){var We=M.select(this),Be=x(We.select("text"));g.translatePoint(He,Be,_,h)?u.layerClipId&&g.hideOutsideRangePoint(He,We,_,h,it.xcalendar,it.ycalendar):We.remove()}),Xe.selectAll("text").call(g.textPointStyle,it,o).each(function(He){var We=_.c2p(He.x),Be=h.c2p(He.y);M.select(this).selectAll("tspan.line").each(function(){x(M.select(this)).attr({x:We,y:Be})})}),Xe.exit().remove()}(O,R,d);var Me=S.cliponaxis===!1?null:u.layerClipId;g.setClipUrl(O,Me,o),g.setClipUrl(R,Me,o)}function Se(Pe){x(Pe).attr("d","M0,0Z")}function ze(Pe){return Pe.filter(function(Ue){return!Ue.gap&&Ue.vis})}function fe(Pe){return Pe.filter(function(Ue){return Ue.vis})}function xe(Pe){return Pe.filter(function(Ue){return!Ue.gap})}function _e(Pe){return Pe.id}function Oe(Pe){if(Pe.ids)return _e}function De(){return!1}}ee.exports=function(o,l,u,d,c,m){var f,p,v=!c,y=!!c&&c.duration>0,x=i(o,l,u);(f=d.selectAll("g.trace").data(x,function(_){return _[0].trace.uid})).enter().append("g").attr("class",function(_){return"trace scatter trace"+_[0].trace.uid}).style("stroke-miterlimit",2),f.order(),function(_,h,S){h.each(function(w){var E=T(M.select(this),"g","fills");g.setClipUrl(E,S.layerClipId,_);var C=w[0].trace,P=[];C._ownfill&&P.push("_ownFill"),C._nexttrace&&P.push("_nextFill");var O=E.selectAll("g").data(P,b);O.enter().append("g"),O.exit().each(function(R){C[R]=null}).remove(),O.order().each(function(R){C[R]=T(M.select(this),"path","js-fill")})})}(o,f,l),y?(m&&(p=m()),M.transition().duration(c.duration).ease(c.easing).each("end",function(){p&&p()}).each("interrupt",function(){p&&p()}).each(function(){d.selectAll("g.trace").each(function(_,h){n(o,h,l,_,x,this,c)})})):f.each(function(_,h){n(o,h,l,_,x,this,c)}),v&&f.exit().remove(),d.selectAll("path:not([d])").remove()}},91560:function(ee,D,e){var M=e(43028);ee.exports=function(k,a){var T,b,g,s,t=k.cd,i=k.xaxis,r=k.yaxis,n=[],o=t[0].trace;if(!M.hasMarkers(o)&&!M.hasText(o))return[];if(a===!1)for(T=0;T<t.length;T++)t[T].selected=0;else for(T=0;T<t.length;T++)b=t[T],g=i.c2p(b.x),s=r.c2p(b.y),b.i!==null&&a.contains([g,s],!1,T,k)?(n.push({pointNumber:b.i,x:i.c2d(b.x),y:r.c2d(b.y)}),b.selected=1):b.selected=0;return n}},43912:function(ee){var D=["orientation","groupnorm","stackgaps"];ee.exports=function(e,M,k,a){var T=k._scatterStackOpts,b=a("stackgroup");if(b){var g=M.xaxis+M.yaxis,s=T[g];s||(s=T[g]={});var t=s[b],i=!1;t?t.traces.push(M):(t=s[b]={traceIndices:[],traces:[M]},i=!0);for(var r={orientation:M.x&&!M.y?"h":"v"},n=0;n<D.length;n++){var o=D[n],l=o+"Found";if(!t[l]){var u=e[o]!==void 0,d=o==="orientation";if((u||i)&&(t[o]=a(o,r[o]),d&&(t.fillDflt=t[o]==="h"?"tonextx":"tonexty"),u&&(t[l]=!0,!i&&(delete t.traces[0][o],d))))for(var c=0;c<t.traces.length-1;c++){var m=t.traces[c];m._input.fill!==m.fill&&(m.fill=t.fillDflt)}}}return t}}},49224:function(ee,D,e){var M=e(33428),k=e(43616),a=e(24040);function T(g,s,t){k.pointStyle(g.selectAll("path.point"),s,t)}function b(g,s,t){k.textPointStyle(g.selectAll("text"),s,t)}ee.exports={style:function(g){var s=M.select(g).selectAll("g.trace.scatter");s.style("opacity",function(t){return t[0].trace.opacity}),s.selectAll("g.points").each(function(t){T(M.select(this),t.trace||t[0].trace,g)}),s.selectAll("g.text").each(function(t){b(M.select(this),t.trace||t[0].trace,g)}),s.selectAll("g.trace path.js-line").call(k.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(k.fillGroupStyle,g,!1),a.getComponentMethod("errorbars","style")(s)},stylePoints:T,styleText:b,styleOnSelect:function(g,s,t){var i=s[0].trace;i.selectedpoints?(k.selectedPointStyle(t.selectAll("path.point"),i),k.selectedTextStyle(t.selectAll("text"),i)):(T(t,i,g),b(t,i,g))}}},43028:function(ee,D,e){var M=e(3400),k=e(38116).isTypedArraySpec;ee.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var T=a.marker;return M.isPlainObject(T)&&(M.isArrayOrTypedArray(T.size)||k(T.size))}}},124:function(ee,D,e){var M=e(3400);ee.exports=function(k,a,T,b,g){g=g||{},b("textposition"),M.coerceFont(b,"textfont",g.font||T.font),g.noSelect||(b("selected.textfont.color"),b("unselected.textfont.color"))}},43980:function(ee,D,e){var M=e(3400),k=e(24040);ee.exports=function(a,T,b,g){var s,t=g("x"),i=g("y");if(k.getComponentMethod("calendars","handleTraceDefaults")(a,T,["x","y"],b),t){var r=M.minRowLength(t);i?s=Math.min(r,M.minRowLength(i)):(s=r,g("y0"),g("dy"))}else{if(!i)return 0;s=M.minRowLength(i),g("x0"),g("dx")}return T._length=s,s}},91592:function(ee,D,e){var M=e(52904),k=e(49084),a=e(29736).axisHoverFormat,T=e(21776).Ks,b=e(21776).Gw,g=e(45464),s=e(99168),t=e(87792),i=e(92880).extendFlat,r=e(67824).overrideAll,n=e(95376),o=M.line,l=M.marker,u=l.line,d=i({width:o.width,dash:{valType:"enumerated",values:n(s),dflt:"solid"}},k("line")),c=ee.exports=r({x:M.x,y:M.y,z:{valType:"data_array"},text:i({},M.text,{}),texttemplate:b({},{}),hovertext:i({},M.hovertext,{}),hovertemplate:T(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:i({},M.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:M.connectgaps,line:d,marker:i({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:i({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:i({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:i({width:i({},u.width,{arrayOk:!1})},k("marker.line"))},k("marker")),textposition:i({},M.textposition,{dflt:"top center"}),textfont:{color:M.textfont.color,size:M.textfont.size,family:i({},M.textfont.family,{arrayOk:!1})},opacity:g.opacity,hoverinfo:i({},g.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(ee,D,e){var M=e(20148),k=e(90136);ee.exports=function(a,T){var b=[{x:!1,y:!1,trace:T,t:{}}];return M(b,T),k(a,T),b}},45156:function(ee,D,e){var M=e(24040);function k(a,T,b,g){if(!T||!T.visible)return null;for(var s=M.getComponentMethod("errorbars","makeComputeError")(T),t=new Array(a.length),i=0;i<a.length;i++){var r=s(+a[i],i);if(g.type==="log"){var n=g.c2l(a[i]),o=a[i]-r[0],l=a[i]+r[1];if(t[i]=[(g.c2l(o,!0)-n)*b,(g.c2l(l,!0)-n)*b],o>0){var u=g.c2l(o);g._lowerLogErrorBound||(g._lowerLogErrorBound=u),g._lowerErrorBound=Math.min(g._lowerLogErrorBound,u)}}else t[i]=[-r[0]*b,r[1]*b]}return t}ee.exports=function(a,T,b){var g=[k(a.x,a.error_x,T[0],b.xaxis),k(a.y,a.error_y,T[1],b.yaxis),k(a.z,a.error_z,T[2],b.zaxis)],s=function(l){for(var u=0;u<l.length;u++)if(l[u])return l[u].length;return 0}(g);if(s===0)return null;for(var t=new Array(s),i=0;i<s;i++){for(var r=[[0,0,0],[0,0,0]],n=0;n<3;n++)if(g[n])for(var o=0;o<2;o++)r[o][n]=g[n][i][o];t[i]=r}return t}},41064:function(ee,D,e){var M=e(67792).gl_line3d,k=e(67792).gl_scatter3d,a=e(67792).gl_error3d,T=e(67792).gl_mesh3d,b=e(67792).delaunay_triangulate,g=e(3400),s=e(43080),t=e(33040).formatColor,i=e(7152),r=e(99168),n=e(87792),o=e(54460),l=e(10624).appendArrayPointValue,u=e(45156);function d(h,S){this.scene=h,this.uid=S,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=d.prototype;function m(h){return h==null?0:h.indexOf("left")>-1?-1:h.indexOf("right")>-1?1:0}function f(h){return h==null?0:h.indexOf("top")>-1?-1:h.indexOf("bottom")>-1?1:0}function p(h,S){return S(4*h)}function v(h){return n[h]}function y(h,S,w,E,C){var P=null;if(g.isArrayOrTypedArray(h)){P=[];for(var O=0;O<S;O++)h[O]===void 0?P[O]=E:P[O]=w(h[O],C)}else P=w(h,g.identity);return P}function x(h){if(g.isArrayOrTypedArray(h)){var S=h[0];return g.isArrayOrTypedArray(S)&&(h=S),"rgb("+h.slice(0,3).map(function(w){return Math.round(255*w)})+")"}return null}function _(h){return g.isArrayOrTypedArray(h)?h.length===4&&typeof h[0]=="number"?x(h):h.map(x):null}c.handlePick=function(h){if(h.object&&(h.object===this.linePlot||h.object===this.delaunayMesh||h.object===this.textMarkers||h.object===this.scatterPlot)){var S=h.index=h.data.index;return h.object.highlight&&h.object.highlight(null),this.scatterPlot&&(h.object=this.scatterPlot,this.scatterPlot.highlight(h.data)),h.textLabel="",this.textLabels&&(g.isArrayOrTypedArray(this.textLabels)?(this.textLabels[S]||this.textLabels[S]===0)&&(h.textLabel=this.textLabels[S]):h.textLabel=this.textLabels),h.traceCoordinate=[this.data.x[S],this.data.y[S],this.data.z[S]],!0}},c.update=function(h){var S,w,E,C,P=this.scene.glplot.gl,O=r.solid;this.data=h;var R=function(N,W){var F,V,j,te,J,K,Z=[],X=N.fullSceneLayout,Q=N.dataScale,re=X.xaxis,ae=X.yaxis,ie=X.zaxis,le=W.marker,pe=W.line,de=W.x||[],ve=W.y||[],be=W.z||[],me=de.length,ge=W.xcalendar,ke=W.ycalendar,we=W.zcalendar;for(J=0;J<me;J++)F=re.d2l(de[J],0,ge)*Q[0],V=ae.d2l(ve[J],0,ke)*Q[1],j=ie.d2l(be[J],0,we)*Q[2],Z[J]=[F,V,j];if(Array.isArray(W.text))K=W.text;else if(g.isTypedArray(W.text))K=Array.from(W.text);else if(W.text!==void 0)for(K=new Array(me),J=0;J<me;J++)K[J]=W.text;function ue(Ue,Ve){var Xe=X[Ue];return o.tickText(Xe,Xe.d2l(Ve),!0).text}var oe=W.texttemplate;if(oe){var he=N.fullLayout._d3locale,Ee=Array.isArray(oe),Te=Ee?Math.min(oe.length,me):me,Me=Ee?function(Ue){return oe[Ue]}:function(){return oe};for(K=new Array(Te),J=0;J<Te;J++){var Se={x:de[J],y:ve[J],z:be[J]},ze={xLabel:ue("xaxis",de[J]),yLabel:ue("yaxis",ve[J]),zLabel:ue("zaxis",be[J])},fe={};l(fe,W,J);var xe=W._meta||{};K[J]=g.texttemplateString(Me(J),ze,he,fe,Se,xe)}}if(te={position:Z,mode:W.mode,text:K},"line"in W&&(te.lineColor=t(pe,1,me),te.lineWidth=pe.width,te.lineDashes=pe.dash),"marker"in W){var _e=i(W);te.scatterColor=t(le,1,me),te.scatterSize=y(le.size,me,p,20,_e),te.scatterMarker=y(le.symbol,me,v,""),te.scatterLineWidth=le.line.width,te.scatterLineColor=t(le.line,1,me),te.scatterAngle=0}"textposition"in W&&(te.textOffset=function(Ue){var Ve=[0,0];if(Array.isArray(Ue))for(var Xe=0;Xe<Ue.length;Xe++)Ve[Xe]=[0,0],Ue[Xe]&&(Ve[Xe][0]=m(Ue[Xe]),Ve[Xe][1]=f(Ue[Xe]));else Ve[0]=m(Ue),Ve[1]=f(Ue);return Ve}(W.textposition),te.textColor=t(W.textfont,1,me),te.textSize=y(W.textfont.size,me,g.identity,12),te.textFont=W.textfont.family,te.textAngle=0);var Oe=["x","y","z"];for(te.project=[!1,!1,!1],te.projectScale=[1,1,1],te.projectOpacity=[1,1,1],J=0;J<3;++J){var De=W.projection[Oe[J]];(te.project[J]=De.show)&&(te.projectOpacity[J]=De.opacity,te.projectScale[J]=De.scale)}te.errorBounds=u(W,Q,X);var Pe=function(Ue){for(var Ve=[0,0,0],Xe=[[0,0,0],[0,0,0],[0,0,0]],it=[1,1,1],tt=0;tt<3;tt++){var pt=Ue[tt];pt&&pt.copy_zstyle!==!1&&Ue[2].visible!==!1&&(pt=Ue[2]),pt&&pt.visible&&(Ve[tt]=pt.width/2,Xe[tt]=s(pt.color),it[tt]=pt.thickness)}return{capSize:Ve,color:Xe,lineWidth:it}}([W.error_x,W.error_y,W.error_z]);return te.errorColor=Pe.color,te.errorLineWidth=Pe.lineWidth,te.errorCapSize=Pe.capSize,te.delaunayAxis=W.surfaceaxis,te.delaunayColor=s(W.surfacecolor),te}(this.scene,h);"mode"in R&&(this.mode=R.mode),"lineDashes"in R&&R.lineDashes in r&&(O=r[R.lineDashes]),this.color=_(R.scatterColor)||_(R.lineColor),this.dataPoints=R.position,S={gl:this.scene.glplot.gl,position:R.position,color:R.lineColor,lineWidth:R.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:h.opacity,connectGaps:h.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(S):(this.linePlot=M(S),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var U=h.opacity;if(h.marker&&h.marker.opacity!==void 0&&(U*=h.marker.opacity),w={gl:this.scene.glplot.gl,position:R.position,color:R.scatterColor,size:R.scatterSize,glyph:R.scatterMarker,opacity:U,orthographic:!0,lineWidth:R.scatterLineWidth,lineColor:R.scatterLineColor,project:R.project,projectScale:R.projectScale,projectOpacity:R.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(w):(this.scatterPlot=k(w),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),C={gl:this.scene.glplot.gl,position:R.position,glyph:R.text,color:R.textColor,size:R.textSize,angle:R.textAngle,alignment:R.textOffset,font:R.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:h.opacity},this.textLabels=h.hovertext||h.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(C):(this.textMarkers=k(C),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),E={gl:this.scene.glplot.gl,position:R.position,color:R.errorColor,error:R.errorBounds,lineWidth:R.errorLineWidth,capSize:R.errorCapSize,opacity:h.opacity},this.errorBars?R.errorBounds?this.errorBars.update(E):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):R.errorBounds&&(this.errorBars=a(E),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),R.delaunayAxis>=0){var z=function(N,W,F){var V,j=(F+1)%3,te=(F+2)%3,J=[],K=[];for(V=0;V<N.length;++V){var Z=N[V];!isNaN(Z[j])&&isFinite(Z[j])&&!isNaN(Z[te])&&isFinite(Z[te])&&(J.push([Z[j],Z[te]]),K.push(V))}var X=b(J);for(V=0;V<X.length;++V)for(var Q=X[V],re=0;re<Q.length;++re)Q[re]=K[Q[re]];return{positions:N,cells:X,meshColor:W}}(R.position,R.delaunayColor,R.delaunayAxis);z.opacity=h.opacity,this.delaunayMesh?this.delaunayMesh.update(z):(z.gl=P,this.delaunayMesh=T(z),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},ee.exports=function(h,S){var w=new d(h,S.uid);return w.update(S),w}},83484:function(ee,D,e){var M=e(24040),k=e(3400),a=e(43028),T=e(74428),b=e(66828),g=e(124),s=e(91592);ee.exports=function(t,i,r,n){function o(v,y){return k.coerce(t,i,s,v,y)}var l=function(v,y,x,_){var h=0,S=x("x"),w=x("y"),E=x("z");return M.getComponentMethod("calendars","handleTraceDefaults")(v,y,["x","y","z"],_),S&&w&&E&&(h=Math.min(S.length,w.length,E.length),y._length=y._xlength=y._ylength=y._zlength=h),h}(t,i,o,n);if(l){o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),a.hasMarkers(i)&&T(t,i,r,n,o,{noSelect:!0,noAngle:!0}),a.hasLines(i)&&(o("connectgaps"),b(t,i,r,n,o)),a.hasText(i)&&(o("texttemplate"),g(t,i,n,o,{noSelect:!0}));var u=(i.line||{}).color,d=(i.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",u||d);for(var c=["x","y","z"],m=0;m<3;++m){var f="projection."+c[m];o(f+".show")&&(o(f+".opacity"),o(f+".scale"))}var p=M.getComponentMethod("errorbars","supplyDefaults");p(t,i,u||d||r,{axis:"z"}),p(t,i,u||d||r,{axis:"y",inherit:"z"}),p(t,i,u||d||r,{axis:"x",inherit:"z"})}else i.visible=!1}},3296:function(ee,D,e){ee.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(ee,D,e){var M=e(98304),k=e(52904),a=e(45464),T=e(21776).Ks,b=e(21776).Gw,g=e(49084),s=e(92880).extendFlat,t=k.marker,i=k.line,r=t.line;ee.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:s({},k.mode,{dflt:"markers"}),text:s({},k.text,{}),texttemplate:b({editType:"plot"},{keys:["a","b","text"]}),hovertext:s({},k.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:s({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:k.connectgaps,fill:s({},k.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M(),marker:s({symbol:t.symbol,opacity:t.opacity,maxdisplayed:t.maxdisplayed,angle:t.angle,angleref:t.angleref,standoff:t.standoff,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:s({width:r.width,editType:"calc"},g("marker.line")),gradient:t.gradient,editType:"calc"},g("marker")),textfont:k.textfont,textposition:k.textposition,selected:k.selected,unselected:k.unselected,hoverinfo:s({},a.hoverinfo,{flags:["a","b","text","name"]}),hoveron:k.hoveron,hovertemplate:T()}},48228:function(ee,D,e){var M=e(38248),k=e(90136),a=e(20148),T=e(4500),b=e(16356).calcMarkerSize,g=e(50948);ee.exports=function(s,t){var i=t._carpetTrace=g(s,t);if(i&&i.visible&&i.visible!=="legendonly"){var r;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var n,o,l=t._length,u=new Array(l),d=!1;for(r=0;r<l;r++)if(n=t.a[r],o=t.b[r],M(n)&&M(o)){var c=i.ab2xy(+n,+o,!0),m=i.isVisible(+n,+o);m||(d=!0),u[r]={x:c[0],y:c[1],a:n,b:o,vis:m}}else u[r]={x:!1,y:!1};return t._needsCull=d,u[0].carpet=i,u[0].trace=t,b(t,l),k(s,t),a(u,t),T(u,t),u}}},6176:function(ee,D,e){var M=e(3400),k=e(88200),a=e(43028),T=e(74428),b=e(66828),g=e(11731),s=e(124),t=e(70840),i=e(90372);ee.exports=function(r,n,o,l){function u(p,v){return M.coerce(r,n,i,p,v)}u("carpet"),n.xaxis="x",n.yaxis="y";var d=u("a"),c=u("b"),m=Math.min(d.length,c.length);if(m){n._length=m,u("text"),u("texttemplate"),u("hovertext"),u("mode",m<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(n)&&T(r,n,o,l,u,{gradient:!0}),a.hasLines(n)&&(b(r,n,o,l,u,{backoff:!0}),g(r,n,u),u("connectgaps")),a.hasText(n)&&s(r,n,l,u);var f=[];(a.hasMarkers(n)||a.hasText(n))&&(u("marker.maxdisplayed"),f.push("points")),u("fill"),n.fill!=="none"&&(t(r,n,o,u),a.hasLines(n)||g(r,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||f.push("fills"),u("hoveron",f.join("+")||"points")!=="fills"&&u("hovertemplate"),M.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},89307:function(ee){ee.exports=function(D,e,M,k,a){var T=k[a];return D.a=T.a,D.b=T.b,D.y=T.y,D}},52364:function(ee){ee.exports=function(D,e){var M={},k=e._carpet,a=k.ab2ij([D.a,D.b]),T=Math.floor(a[0]),b=a[0]-T,g=Math.floor(a[1]),s=a[1]-g,t=k.evalxy([],T,g,b,s);return M.yLabel=t[1].toFixed(3),M}},58960:function(ee,D,e){var M=e(98723),k=e(3400).fillText;ee.exports=function(a,T,b,g){var s=M(a,T,b,g);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0){var i=1-t.y0/a.ya._length,r=a.xa._length,n=r*i/2,o=r-n;return t.x0=Math.max(Math.min(t.x0,o),n),t.x1=Math.max(Math.min(t.x1,o),n),s}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,d=u._carpet,c=u._module.formatLabels(l,u);t.yLabel=c.yLabel,delete t.text;var m=[];if(!u.hovertemplate){var f=(l.hi||u.hoverinfo).split("+");f.indexOf("all")!==-1&&(f=["a","b","text"]),f.indexOf("a")!==-1&&p(d.aaxis,l.a),f.indexOf("b")!==-1&&p(d.baxis,l.b),m.push("y: "+t.yLabel),f.indexOf("text")!==-1&&k(l,u,m),t.extraText=m.join("<br>")}return s}function p(v,y){var x;x=v.labelprefix&&v.labelprefix.length>0?v.labelprefix.replace(/ = $/,""):v._hovertitle,m.push(x+": "+y.toFixed(3)+v.labelsuffix)}}},4184:function(ee,D,e){ee.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(ee,D,e){var M=e(96504),k=e(54460),a=e(43616);ee.exports=function(T,b,g,s){var t,i,r,n=g[0][0].carpet,o=k.getFromId(T,n.xaxis||"x"),l=k.getFromId(T,n.yaxis||"y"),u={xaxis:o,yaxis:l,plot:b.plot};for(t=0;t<g.length;t++)(i=g[t][0].trace)._xA=o,i._yA=l;for(M(T,u,g,s),t=0;t<g.length;t++)i=g[t][0].trace,r=s.selectAll("g.trace"+i.uid+" .js-line"),a.setClipUrl(r,g[t][0].carpet._clipPathId,T)}},6096:function(ee,D,e){var M=e(21776).Ks,k=e(21776).Gw,a=e(98304),T=e(52904),b=e(45464),g=e(49084),s=e(98192).u,t=e(92880).extendFlat,i=e(67824).overrideAll,r=T.marker,n=T.line,o=r.line;ee.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:t({},T.mode,{dflt:"markers"}),text:t({},T.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:t({},T.hovertext,{}),textfont:T.textfont,textposition:T.textposition,line:{color:n.color,width:n.width,dash:s},connectgaps:T.connectgaps,marker:t({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:t({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:t({width:o.width},g("marker.line")),gradient:r.gradient},g("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a(),selected:T.selected,unselected:T.unselected,hoverinfo:t({},b.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:M()},"calc","nested")},25212:function(ee,D,e){var M=e(38248),k=e(39032).BADNUM,a=e(90136),T=e(20148),b=e(4500),g=e(3400).isArrayOrTypedArray,s=e(3400)._;function t(i){return i&&typeof i=="string"}ee.exports=function(i,r){var n,o=g(r.locations),l=o?r.locations.length:r._length,u=new Array(l);n=r.geojson?function(v){return t(v)||M(v)}:t;for(var d=0;d<l;d++){var c=u[d]={};if(o){var m=r.locations[d];c.loc=n(m)?m:null}else{var f=r.lon[d],p=r.lat[d];M(f)&&M(p)?c.lonlat=[+f,+p]:c.lonlat=[k,k]}}return T(u,r),a(i,r),b(u,r),l&&(u[0].t={labels:{lat:s(i,"lat:")+" ",lon:s(i,"lon:")+" "}}),u}},86188:function(ee,D,e){var M=e(3400),k=e(43028),a=e(74428),T=e(66828),b=e(124),g=e(70840),s=e(6096);ee.exports=function(t,i,r,n){function o(p,v){return M.coerce(t,i,s,p,v)}var l,u=o("locations");if(u&&u.length){var d,c=o("geojson");(typeof c=="string"&&c!==""||M.isPlainObject(c))&&(d="geojson-id"),o("locationmode",d)==="geojson-id"&&o("featureidkey"),l=u.length}else{var m=o("lon")||[],f=o("lat")||[];l=Math.min(m.length,f.length)}l?(i._length=l,o("text"),o("hovertext"),o("hovertemplate"),o("mode"),k.hasMarkers(i)&&a(t,i,r,n,o,{gradient:!0}),k.hasLines(i)&&(T(t,i,r,n,o),o("connectgaps")),k.hasText(i)&&(o("texttemplate"),b(t,i,n,o)),o("fill"),i.fill!=="none"&&g(t,i,r,o),M.coerceSelectionMarkerOpacity(i,o)):i.visible=!1}},58544:function(ee){ee.exports=function(D,e,M,k,a){D.lon=e.lon,D.lat=e.lat,D.location=e.loc?e.loc:null;var T=k[a];return T.fIn&&T.fIn.properties&&(D.properties=T.fIn.properties),D}},56696:function(ee,D,e){var M=e(54460);ee.exports=function(k,a,T){var b={},g=T[a.geo]._subplot.mockAxis,s=k.lonlat;return b.lonLabel=M.tickText(g,g.c2l(s[0]),!0).text,b.latLabel=M.tickText(g,g.c2l(s[1]),!0).text,b}},64292:function(ee,D,e){var M=e(93024),k=e(39032).BADNUM,a=e(44928),T=e(3400).fillText,b=e(6096);ee.exports=function(g,s,t){var i=g.cd,r=i[0].trace,n=g.xa,o=g.ya,l=g.subplot,u=l.projection.isLonLatOverEdges,d=l.project;if(M.getClosest(i,function(x){var _=x.lonlat;if(_[0]===k||u(_))return 1/0;var h=d(_),S=d([s,t]),w=Math.abs(h[0]-S[0]),E=Math.abs(h[1]-S[1]),C=Math.max(3,x.mrc||0);return Math.max(Math.sqrt(w*w+E*E)-C,1-3/C)},g),g.index!==!1){var c=i[g.index],m=c.lonlat,f=[n.c2p(m),o.c2p(m)],p=c.mrc||1;g.x0=f[0]-p,g.x1=f[0]+p,g.y0=f[1]-p,g.y1=f[1]+p,g.loc=c.loc,g.lon=m[0],g.lat=m[1];var v={};v[r.geo]={_subplot:l};var y=r._module.formatLabels(c,r,v);return g.lonLabel=y.lonLabel,g.latLabel=y.latLabel,g.color=a(r,c),g.extraText=function(x,_,h,S){if(!x.hovertemplate){var w=_.hi||x.hoverinfo,E=w==="all"?b.hoverinfo.flags:w.split("+"),C=E.indexOf("location")!==-1&&Array.isArray(x.locations),P=E.indexOf("lon")!==-1,O=E.indexOf("lat")!==-1,R=E.indexOf("text")!==-1,U=[];return C?U.push(_.loc):P&&O?U.push("("+z(h.latLabel)+", "+z(h.lonLabel)+")"):P?U.push(S.lon+z(h.lonLabel)):O&&U.push(S.lat+z(h.latLabel)),R&&T(_,x,U),U.join("<br>")}function z(N){return N+""}}(r,c,g,i[0].t.labels),g.hovertemplate=r.hovertemplate,[g]}}},36952:function(ee,D,e){ee.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(ee,D,e){var M=e(33428),k=e(3400),a=e(59972).getTopojsonFeatures,T=e(44808),b=e(27144),g=e(19280).findExtremes,s=e(39032).BADNUM,t=e(16356).calcMarkerSize,i=e(43028),r=e(25064);ee.exports={calcGeoJSON:function(n,o){var l,u,d=n[0].trace,c=o[d.geo],m=c._subplot,f=d._length;if(k.isArrayOrTypedArray(d.locations)){var p=d.locationmode,v=p==="geojson-id"?b.extractTraceFeature(n):a(d,m.topojson);for(l=0;l<f;l++){u=n[l];var y=p==="geojson-id"?u.fOut:b.locationToFeature(p,u.loc,v);u.lonlat=y?y.properties.ct:[s,s]}}var x,_,h={padded:!0};if(c.fitbounds==="geojson"&&d.locationmode==="geojson-id"){var S=b.computeBbox(b.getTraceGeojson(d));x=[S[0],S[2]],_=[S[1],S[3]]}else{for(x=new Array(f),_=new Array(f),l=0;l<f;l++)u=n[l],x[l]=u.lonlat[0],_[l]=u.lonlat[1];h.ppad=t(d,f)}d._extremes.lon=g(c.lonaxis._ax,x,h),d._extremes.lat=g(c.lataxis._ax,_,h)},plot:function(n,o,l){var u=o.layers.frontplot.select(".scatterlayer"),d=k.makeTraceGroups(u,l,"trace scattergeo");function c(m,f){m.lonlat[0]===s&&M.select(f).remove()}d.selectAll("*").remove(),d.each(function(m){var f=M.select(this),p=m[0].trace;if(i.hasLines(p)||p.fill!=="none"){var v=T.calcTraceToLineCoords(m),y=p.fill!=="none"?T.makePolygon(v):T.makeLine(v);f.selectAll("path.js-line").data([{geojson:y,trace:p}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(p)&&f.selectAll("path.point").data(k.identity).enter().append("path").classed("point",!0).each(function(x){c(x,this)}),i.hasText(p)&&f.selectAll("g").data(k.identity).enter().append("g").append("text").each(function(x){c(x,this)}),r(n,m)})}}},8796:function(ee,D,e){var M=e(43028),k=e(39032).BADNUM;ee.exports=function(a,T){var b,g,s,t,i,r=a.cd,n=a.xaxis,o=a.yaxis,l=[],u=r[0].trace;if(!M.hasMarkers(u)&&!M.hasText(u))return[];if(T===!1)for(i=0;i<r.length;i++)r[i].selected=0;else for(i=0;i<r.length;i++)(g=(b=r[i]).lonlat)[0]!==k&&(s=n.c2p(g),t=o.c2p(g),T.contains([s,t],null,i,a)?(l.push({pointNumber:i,lon:g[0],lat:g[1]}),b.selected=1):b.selected=0);return l}},25064:function(ee,D,e){var M=e(33428),k=e(43616),a=e(76308),T=e(49224),b=T.stylePoints,g=T.styleText;ee.exports=function(s,t){t&&function(i,r){var n=r[0].trace,o=r[0].node3;o.style("opacity",r[0].trace.opacity),b(o,n,i),g(o,n,i),o.selectAll("path.js-line").style("fill","none").each(function(l){var u=M.select(this),d=l.trace,c=d.line||{};u.call(a.stroke,c.color).call(k.dashLine,c.dash||"",c.width||0),d.fill!=="none"&&u.call(a.fill,d.fillcolor)})}(s,t)}},2876:function(ee,D,e){var M=e(45464),k=e(98304),a=e(52904),T=e(29736).axisHoverFormat,b=e(49084),g=e(95376),s=e(92880).extendFlat,t=e(67824).overrideAll,i=e(67072).DASHES,r=a.line,n=a.marker,o=n.line,l=ee.exports=t({x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),text:a.text,hovertext:a.hovertext,textposition:a.textposition,textfont:a.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:g(i),dflt:"solid"}},marker:s({},b("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:s({},b("marker.line"),{width:o.width})}),connectgaps:a.connectgaps,fill:s({},a.fill,{dflt:"none"}),fillcolor:k(),selected:{marker:a.selected.marker,textfont:a.selected.textfont},unselected:{marker:a.unselected.marker,textfont:a.unselected.textfont},opacity:M.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=a.hovertemplate,l.texttemplate=a.texttemplate},64628:function(ee,D,e){var M=e(41272);ee.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:M.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(ee,D,e){var M=e(3108),k=e(3400),a=e(79811),T=e(19280).findExtremes,b=e(1220),g=e(16356),s=g.calcMarkerSize,t=g.calcAxisExpansion,i=g.setFirstScatter,r=e(90136),n=e(84236),o=e(74588),l=e(39032).BADNUM,u=e(67072).TOO_MANY_POINTS;function d(c,m,f){var p=c._extremes[m._id],v=T(m,f._bnds,{padded:!0});p.min=p.min.concat(v.min),p.max=p.max.concat(v.max)}ee.exports=function(c,m){var f,p=c._fullLayout,v=m._xA=a.getFromId(c,m.xaxis,"x"),y=m._yA=a.getFromId(c,m.yaxis,"y"),x=p._plots[m.xaxis+m.yaxis],_=m._length,h=_>=u,S=2*_,w={},E=v.makeCalcdata(m,"x"),C=y.makeCalcdata(m,"y"),P=b(m,v,"x",E),O=b(m,y,"y",C),R=P.vals,U=O.vals;m._x=R,m._y=U,m.xperiodalignment&&(m._origX=E,m._xStarts=P.starts,m._xEnds=P.ends),m.yperiodalignment&&(m._origY=C,m._yStarts=O.starts,m._yEnds=O.ends);var z=new Array(S),N=new Array(_);for(f=0;f<_;f++)z[2*f]=R[f]===l?NaN:R[f],z[2*f+1]=U[f]===l?NaN:U[f],N[f]=f;if(v.type==="log")for(f=0;f<S;f+=2)z[f]=v.c2l(z[f]);if(y.type==="log")for(f=1;f<S;f+=2)z[f]=y.c2l(z[f]);h&&v.type!=="log"&&y.type!=="log"?w.tree=M(z):w.ids=N,r(c,m);var W,F=function(j,te,J,K,Z,X){var Q=n.style(j,J);if(Q.marker&&(Q.marker.positions=K),Q.line&&K.length>1&&k.extendFlat(Q.line,n.linePositions(j,J,K)),Q.errorX||Q.errorY){var re=n.errorBarPositions(j,J,K,Z,X);Q.errorX&&k.extendFlat(Q.errorX,re.x),Q.errorY&&k.extendFlat(Q.errorY,re.y)}return Q.text&&(k.extendFlat(Q.text,{positions:K},n.textPosition(j,J,Q.text,Q.marker)),k.extendFlat(Q.textSel,{positions:K},n.textPosition(j,J,Q.text,Q.markerSel)),k.extendFlat(Q.textUnsel,{positions:K},n.textPosition(j,J,Q.text,Q.markerUnsel))),Q}(c,0,m,z,R,U),V=o(c,x);return i(p,m),h?F.marker&&(W=F.marker.sizeAvg||Math.max(F.marker.size,3)):W=s(m,_),t(c,m,v,y,R,U,W),F.errorX&&d(m,v,F.errorX),F.errorY&&d(m,y,F.errorY),F.fill&&!V.fill2d&&(V.fill2d=!0),F.marker&&!V.scatter2d&&(V.scatter2d=!0),F.line&&!V.line2d&&(V.line2d=!0),!F.errorX&&!F.errorY||V.error2d||(V.error2d=!0),F.text&&!V.glText&&(V.glText=!0),F.marker&&(F.marker.snap=_),V.lineOptions.push(F.line),V.errorXOptions.push(F.errorX),V.errorYOptions.push(F.errorY),V.fillOptions.push(F.fill),V.markerOptions.push(F.marker),V.markerSelectedOptions.push(F.markerSel),V.markerUnselectedOptions.push(F.markerUnsel),V.textOptions.push(F.text),V.textSelectedOptions.push(F.textSel),V.textUnselectedOptions.push(F.textUnsel),V.selectBatch.push([]),V.unselectBatch.push([]),w._scene=V,w.index=V.count,w.x=R,w.y=U,w.positions=z,V.count++,[{x:!1,y:!1,t:w,trace:m}]}},67072:function(ee){ee.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(ee,D,e){var M=e(38248),k=e(20472),a=e(72160),T=e(24040),b=e(3400),g=b.isArrayOrTypedArray,s=e(43616),t=e(79811),i=e(33040).formatColor,r=e(43028),n=e(7152),o=e(80088),l=e(67072),u=e(13448).DESELECTDIM,d={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function m(C,P){var O,R=C._fullLayout,U=P._length,z=P.textfont,N=P.textposition,W=g(N)?N:[N],F=z.color,V=z.size,j=z.family,te={},J=C._context.plotGlPixelRatio,K=P.texttemplate;if(K){te.text=[];var Z=R._d3locale,X=Array.isArray(K),Q=X?Math.min(K.length,U):U,re=X?function(be){return K[be]}:function(){return K};for(O=0;O<Q;O++){var ae={i:O},ie=P._module.formatLabels(ae,P,R),le={};c(le,P,O);var pe=P._meta||{};te.text.push(b.texttemplateString(re(O),ie,Z,le,ae,pe))}}else g(P.text)&&P.text.length<U?te.text=P.text.slice():te.text=P.text;if(g(te.text))for(O=te.text.length;O<U;O++)te.text[O]="";for(te.opacity=P.opacity,te.font={},te.align=[],te.baseline=[],O=0;O<W.length;O++){var de=W[O].split(/\s+/);switch(de[1]){case"left":te.align.push("right");break;case"right":te.align.push("left");break;default:te.align.push(de[1])}switch(de[0]){case"top":te.baseline.push("bottom");break;case"bottom":te.baseline.push("top");break;default:te.baseline.push(de[0])}}if(g(F))for(te.color=new Array(U),O=0;O<U;O++)te.color[O]=F[O];else te.color=F;if(g(V)||g(j))for(te.font=new Array(U),O=0;O<U;O++){var ve=te.font[O]={};ve.size=(b.isTypedArray(V)?V[O]:g(V)?M(V[O])?V[O]:0:V)*J,ve.family=g(j)?j[O]:j}else te.font={size:V*J,family:j};return te}function f(C,P){var O,R,U=P._length,z=P.marker,N={},W=g(z.symbol),F=g(z.angle),V=g(z.color),j=g(z.line.color),te=g(z.opacity),J=g(z.size),K=g(z.line.width);if(W||(R=o.isOpenSymbol(z.symbol)),W||V||j||te||F){N.symbols=new Array(U),N.angles=new Array(U),N.colors=new Array(U),N.borderColors=new Array(U);var Z=z.symbol,X=z.angle,Q=i(z,z.opacity,U),re=i(z.line,z.opacity,U);if(!g(re[0])){var ae=re;for(re=Array(U),O=0;O<U;O++)re[O]=ae}if(!g(Q[0])){var ie=Q;for(Q=Array(U),O=0;O<U;O++)Q[O]=ie}if(!g(Z)){var le=Z;for(Z=Array(U),O=0;O<U;O++)Z[O]=le}if(!g(X)){var pe=X;for(X=Array(U),O=0;O<U;O++)X[O]=pe}for(N.symbols=Z,N.angles=X,N.colors=Q,N.borderColors=re,O=0;O<U;O++)W&&(R=o.isOpenSymbol(z.symbol[O])),R&&(re[O]=Q[O].slice(),Q[O]=Q[O].slice(),Q[O][3]=0);for(N.opacity=P.opacity,N.markers=new Array(U),O=0;O<U;O++)N.markers[O]=E({mx:N.symbols[O],ma:N.angles[O]},P)}else R?(N.color=a(z.color,"uint8"),N.color[3]=0,N.borderColor=a(z.color,"uint8")):(N.color=a(z.color,"uint8"),N.borderColor=a(z.line.color,"uint8")),N.opacity=P.opacity*z.opacity,N.marker=E({mx:z.symbol,ma:z.angle},P);var de,ve=n(P,1);if(J||K){var be,me=N.sizes=new Array(U),ge=N.borderSizes=new Array(U),ke=0;if(J){for(O=0;O<U;O++)me[O]=ve(z.size[O]),ke+=me[O];be=ke/U}else for(de=ve(z.size),O=0;O<U;O++)me[O]=de;if(K)for(O=0;O<U;O++)ge[O]=z.line.width[O];else for(de=z.line.width,O=0;O<U;O++)ge[O]=de;N.sizeAvg=be}else N.size=ve(z&&z.size||10),N.borderSizes=ve(z.line.width);return N}function p(C,P,O){var R=P.marker,U={};return O&&(O.marker&&O.marker.symbol?U=f(0,b.extendFlat({},R,O.marker)):O.marker&&(O.marker.size&&(U.size=O.marker.size),O.marker.color&&(U.colors=O.marker.color),O.marker.opacity!==void 0&&(U.opacity=O.marker.opacity))),U}function v(C,P,O){var R={};if(!O)return R;if(O.textfont){var U={opacity:1,text:P.text,texttemplate:P.texttemplate,textposition:P.textposition,textfont:b.extendFlat({},P.textfont)};O.textfont&&b.extendFlat(U.textfont,O.textfont),R=m(C,U)}return R}function y(C,P,O){var R={capSize:2*P.width*O,lineWidth:P.thickness*O,color:P.color};return P.copy_ystyle&&(R=C.error_y),R}var x=l.SYMBOL_SDF_SIZE,_=l.SYMBOL_SIZE,h=l.SYMBOL_STROKE,S={},w=s.symbolFuncs[0](.05*_);function E(C,P){var O,R,U=C.mx;if(U==="circle")return null;var z=s.symbolNumber(U),N=s.symbolFuncs[z%100],W=!!s.symbolNoDot[z%100],F=!!s.symbolNoFill[z%100],V=o.isDotSymbol(U);if(C.ma&&(U+="_"+C.ma),S[U])return S[U];var j=s.getMarkerAngle(C,P);return O=V&&!W?N(1.1*_,j)+w:N(_,j),R=k(O,{w:x,h:x,viewBox:[-_,-_,_,_],stroke:F?h:-h}),S[U]=R,R||null}ee.exports={style:function(C,P){var O,R={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},U=C._context.plotGlPixelRatio;if(P.visible!==!0)return R;if(r.hasText(P)&&(R.text=m(C,P),R.textSel=v(C,P,P.selected),R.textUnsel=v(C,P,P.unselected)),r.hasMarkers(P)&&(R.marker=f(0,P),R.markerSel=p(0,P,P.selected),R.markerUnsel=p(0,P,P.unselected),!P.unselected&&g(P.marker.opacity))){var z=P.marker.opacity;for(R.markerUnsel.opacity=new Array(z.length),O=0;O<z.length;O++)R.markerUnsel.opacity[O]=u*z[O]}if(r.hasLines(P)){R.line={overlay:!0,thickness:P.line.width*U,color:P.line.color,opacity:P.opacity};var N=(l.DASHES[P.line.dash]||[1]).slice();for(O=0;O<N.length;++O)N[O]*=P.line.width*U;R.line.dashes=N}return P.error_x&&P.error_x.visible&&(R.errorX=y(P,P.error_x,U)),P.error_y&&P.error_y.visible&&(R.errorY=y(P,P.error_y,U)),P.fill&&P.fill!=="none"&&(R.fill={closed:!0,fill:P.fillcolor,thickness:0}),R},markerStyle:f,markerSelection:p,linePositions:function(C,P,O){var R,U,z=O.length,N=z/2;if(r.hasLines(P)&&N)if(P.line.shape==="hv"){for(R=[],U=0;U<N-1;U++)isNaN(O[2*U])||isNaN(O[2*U+1])?R.push(NaN,NaN,NaN,NaN):(R.push(O[2*U],O[2*U+1]),isNaN(O[2*U+2])||isNaN(O[2*U+3])?R.push(NaN,NaN):R.push(O[2*U+2],O[2*U+1]));R.push(O[z-2],O[z-1])}else if(P.line.shape==="hvh"){for(R=[],U=0;U<N-1;U++)if(isNaN(O[2*U])||isNaN(O[2*U+1])||isNaN(O[2*U+2])||isNaN(O[2*U+3]))isNaN(O[2*U])||isNaN(O[2*U+1])?R.push(NaN,NaN):R.push(O[2*U],O[2*U+1]),R.push(NaN,NaN);else{var W=(O[2*U]+O[2*U+2])/2;R.push(O[2*U],O[2*U+1],W,O[2*U+1],W,O[2*U+3])}R.push(O[z-2],O[z-1])}else if(P.line.shape==="vhv"){for(R=[],U=0;U<N-1;U++)if(isNaN(O[2*U])||isNaN(O[2*U+1])||isNaN(O[2*U+2])||isNaN(O[2*U+3]))isNaN(O[2*U])||isNaN(O[2*U+1])?R.push(NaN,NaN):R.push(O[2*U],O[2*U+1]),R.push(NaN,NaN);else{var F=(O[2*U+1]+O[2*U+3])/2;R.push(O[2*U],O[2*U+1],O[2*U],F,O[2*U+2],F)}R.push(O[z-2],O[z-1])}else if(P.line.shape==="vh"){for(R=[],U=0;U<N-1;U++)isNaN(O[2*U])||isNaN(O[2*U+1])?R.push(NaN,NaN,NaN,NaN):(R.push(O[2*U],O[2*U+1]),isNaN(O[2*U+2])||isNaN(O[2*U+3])?R.push(NaN,NaN):R.push(O[2*U],O[2*U+3]));R.push(O[z-2],O[z-1])}else R=O;var V=!1;for(U=0;U<R.length;U++)if(isNaN(R[U])){V=!0;break}var j=V||R.length>l.TOO_MANY_POINTS||r.hasMarkers(P)?"rect":"round";if(V&&P.connectgaps){var te=R[0],J=R[1];for(U=0;U<R.length;U+=2)isNaN(R[U])||isNaN(R[U+1])?(R[U]=te,R[U+1]=J):(te=R[U],J=R[U+1])}return{join:j,positions:R}},errorBarPositions:function(C,P,O,R,U){var z=T.getComponentMethod("errorbars","makeComputeError"),N=t.getFromId(C,P.xaxis,"x"),W=t.getFromId(C,P.yaxis,"y"),F=O.length/2,V={};function j(te,J){var K=J._id.charAt(0),Z=P["error_"+K];if(Z&&Z.visible&&(J.type==="linear"||J.type==="log")){for(var X=z(Z),Q={x:0,y:1}[K],re={x:[0,1,2,3],y:[2,3,0,1]}[K],ae=new Float64Array(4*F),ie=1/0,le=-1/0,pe=0,de=0;pe<F;pe++,de+=4){var ve=te[pe];if(M(ve)){var be=O[2*pe+Q],me=X(ve,pe),ge=me[0],ke=me[1];if(M(ge)&&M(ke)){var we=ve-ge,ue=ve+ke;ae[de+re[0]]=be-J.c2l(we),ae[de+re[1]]=J.c2l(ue)-be,ae[de+re[2]]=0,ae[de+re[3]]=0,ie=Math.min(ie,ve-ge),le=Math.max(le,ve+ke)}}}V[K]={positions:O,errors:ae,_bnds:[ie,le]}}}return j(R,N),j(U,W),V},textPosition:function(C,P,O,R){var U,z=P._length,N={};if(r.hasMarkers(P)){var W=O.font,F=O.align,V=O.baseline;for(N.offset=new Array(z),U=0;U<z;U++){var j=R.sizes?R.sizes[U]:R.size,te=g(W)?W[U].size:W.size,J=g(F)?F.length>1?F[U]:F[0]:F,K=g(V)?V.length>1?V[U]:V[0]:V,Z=d[J],X=d[K],Q=j?j/.8+1:0,re=-X*Q-.5*X;N.offset[U]=[Z*Q/te,re/te]}}return N}}},80220:function(ee,D,e){var M=e(3400),k=e(24040),a=e(80088),T=e(2876),b=e(88200),g=e(43028),s=e(43980),t=e(31147),i=e(74428),r=e(66828),n=e(70840),o=e(124);ee.exports=function(l,u,d,c){function m(S,w){return M.coerce(l,u,T,S,w)}var f=!!l.marker&&a.isOpenSymbol(l.marker.symbol),p=g.isBubble(l),v=s(l,u,c,m);if(v){t(l,u,c,m),m("xhoverformat"),m("yhoverformat");var y=v<b.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("hovertemplate"),m("mode",y),g.hasMarkers(u)&&(i(l,u,d,c,m,{noAngleRef:!0,noStandOff:!0}),m("marker.line.width",f||p?1:0)),g.hasLines(u)&&(m("connectgaps"),r(l,u,d,c,m),m("line.shape")),g.hasText(u)&&(m("texttemplate"),o(l,u,c,m));var x=(u.line||{}).color,_=(u.marker||{}).color;m("fill"),u.fill!=="none"&&n(l,u,d,m);var h=k.getComponentMethod("errorbars","supplyDefaults");h(l,u,x||_||d,{axis:"y"}),h(l,u,x||_||d,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(u,m)}else u.visible=!1}},26768:function(ee,D,e){var M=e(3400),k=e(76308),a=e(13448).DESELECTDIM;ee.exports={styleTextSelection:function(T){var b,g,s=T[0],t=s.trace,i=s.t,r=i._scene,n=i.index,o=r.selectBatch[n],l=r.unselectBatch[n],u=r.textOptions[n],d=r.textSelectedOptions[n]||{},c=r.textUnselectedOptions[n]||{},m=M.extendFlat({},u);if(o.length||l.length){var f=d.color,p=c.color,v=u.color,y=M.isArrayOrTypedArray(v);for(m.color=new Array(t._length),b=0;b<o.length;b++)g=o[b],m.color[g]=f||(y?v[g]:v);for(b=0;b<l.length;b++){g=l[b];var x=y?v[g]:v;m.color[g]=p||(f?x:k.addOpacity(x,a))}}r.glText[n].update(m)}}},99396:function(ee,D,e){var M=e(76688);ee.exports=function(k,a,T){var b=k.i;return"x"in k||(k.x=a._x[b]),"y"in k||(k.y=a._y[b]),M(k,a,T)}},80088:function(ee,D,e){var M=e(67072);D.isOpenSymbol=function(k){return typeof k=="string"?M.OPEN_RE.test(k):k%200>100},D.isDotSymbol=function(k){return typeof k=="string"?M.DOT_RE.test(k):k>200}},41272:function(ee,D,e){var M=e(24040),k=e(3400),a=e(44928);function T(b,g,s,t){var i=b.xa,r=b.ya,n=b.distance,o=b.dxy,l=b.index,u={pointNumber:l,x:g[l],y:s[l]};u.tx=k.isArrayOrTypedArray(t.text)?t.text[l]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var d=t.textfont;d&&(u.ts=k.isArrayOrTypedArray(d.size)?d.size[l]:d.size,u.tc=Array.isArray(d.color)?d.color[l]:d.color,u.tf=Array.isArray(d.family)?d.family[l]:d.family);var c=t.marker;c&&(u.ms=k.isArrayOrTypedArray(c.size)?c.size[l]:c.size,u.mo=k.isArrayOrTypedArray(c.opacity)?c.opacity[l]:c.opacity,u.mx=k.isArrayOrTypedArray(c.symbol)?c.symbol[l]:c.symbol,u.ma=k.isArrayOrTypedArray(c.angle)?c.angle[l]:c.angle,u.mc=k.isArrayOrTypedArray(c.color)?c.color[l]:c.color);var m=c&&c.line;m&&(u.mlc=Array.isArray(m.color)?m.color[l]:m.color,u.mlw=k.isArrayOrTypedArray(m.width)?m.width[l]:m.width);var f=c&&c.gradient;f&&f.type!=="none"&&(u.mgt=Array.isArray(f.type)?f.type[l]:f.type,u.mgc=Array.isArray(f.color)?f.color[l]:f.color);var p=i.c2p(u.x,!0),v=r.c2p(u.y,!0),y=u.mrc||1,x=t.hoverlabel;x&&(u.hbg=Array.isArray(x.bgcolor)?x.bgcolor[l]:x.bgcolor,u.hbc=Array.isArray(x.bordercolor)?x.bordercolor[l]:x.bordercolor,u.hts=k.isArrayOrTypedArray(x.font.size)?x.font.size[l]:x.font.size,u.htc=Array.isArray(x.font.color)?x.font.color[l]:x.font.color,u.htf=Array.isArray(x.font.family)?x.font.family[l]:x.font.family,u.hnl=k.isArrayOrTypedArray(x.namelength)?x.namelength[l]:x.namelength);var _=t.hoverinfo;_&&(u.hi=Array.isArray(_)?_[l]:_);var h=t.hovertemplate;h&&(u.ht=Array.isArray(h)?h[l]:h);var S={};S[b.index]=u;var w=t._origX,E=t._origY,C=k.extendFlat({},b,{color:a(t,u),x0:p-y,x1:p+y,xLabelVal:w?w[l]:u.x,y0:v-y,y1:v+y,yLabelVal:E?E[l]:u.y,cd:S,distance:n,spikeDistance:o,hovertemplate:u.ht});return u.htx?C.text=u.htx:u.tx?C.text=u.tx:t.text&&(C.text=t.text),k.fillText(u,t,C),M.getComponentMethod("errorbars","hoverInfo")(u,t,C),C}ee.exports={hoverPoints:function(b,g,s,t){var i,r,n,o,l,u,d,c,m,f,p=b.cd,v=p[0].t,y=p[0].trace,x=b.xa,_=b.ya,h=v.x,S=v.y,w=x.c2p(g),E=_.c2p(s),C=b.distance;if(v.tree){var P=x.p2c(w-C),O=x.p2c(w+C),R=_.p2c(E-C),U=_.p2c(E+C);i=t==="x"?v.tree.range(Math.min(P,O),Math.min(_._rl[0],_._rl[1]),Math.max(P,O),Math.max(_._rl[0],_._rl[1])):v.tree.range(Math.min(P,O),Math.min(R,U),Math.max(P,O),Math.max(R,U))}else i=v.ids;var z=C;if(t==="x"){var N=!!y.xperiodalignment,W=!!y.yperiodalignment;for(u=0;u<i.length;u++){if(o=h[r=i[u]],d=Math.abs(x.c2p(o)-w),N){var F=x.c2p(y._xStarts[r]),V=x.c2p(y._xEnds[r]);d=w>=Math.min(F,V)&&w<=Math.max(F,V)?0:1/0}if(d<z){if(z=d,l=S[r],c=_.c2p(l)-E,W){var j=_.c2p(y._yStarts[r]),te=_.c2p(y._yEnds[r]);c=E>=Math.min(j,te)&&E<=Math.max(j,te)?0:1/0}f=Math.sqrt(d*d+c*c),n=i[u]}}}else for(u=i.length-1;u>-1;u--)o=h[r=i[u]],l=S[r],d=x.c2p(o)-w,c=_.c2p(l)-E,(m=Math.sqrt(d*d+c*c))<z&&(z=f=m,n=r);return b.index=n,b.distance=z,b.dxy=f,n===void 0?[b]:[T(b,h,S,y)]},calcHover:T}},38983:function(ee,D,e){var M=e(64628);M.plot=e(89876),ee.exports=M},89876:function(ee,D,e){var M=e(38540),k=e(13472),a=e(24544),T=e(23352),b=e(3400),g=e(72760).selectMode,s=e(5048),t=e(43028),i=e(14328),r=e(26768).styleTextSelection,n={};function o(l,u,d,c){var m=l._size,f=l.width*c,p=l.height*c,v=m.l*c,y=m.b*c,x=m.r*c,_=m.t*c,h=m.w*c,S=m.h*c;return[v+u.domain[0]*h,y+d.domain[0]*S,f-x-(1-u.domain[1])*h,p-_-(1-d.domain[1])*S]}(ee.exports=function(l,u,d){if(d.length){var c,m,f=l._fullLayout,p=u._scene,v=u.xaxis,y=u.yaxis;if(p)if(s(l,["ANGLE_instanced_arrays","OES_element_index_uint"],n)){var x=p.count,_=f._glcanvas.data()[0].regl;if(i(l,u,d),p.dirty){if(!p.line2d&&!p.error2d||p.scatter2d||p.fill2d||p.glText||_.clear({}),p.error2d===!0&&(p.error2d=a(_)),p.line2d===!0&&(p.line2d=k(_)),p.scatter2d===!0&&(p.scatter2d=M(_)),p.fill2d===!0&&(p.fill2d=k(_)),p.glText===!0)for(p.glText=new Array(x),c=0;c<x;c++)p.glText[c]=new T(_);if(p.glText){if(x>p.glText.length){var h=x-p.glText.length;for(c=0;c<h;c++)p.glText.push(new T(_))}else if(x<p.glText.length){var S=p.glText.length-x;p.glText.splice(x,S).forEach(function(re){re.destroy()})}for(c=0;c<x;c++)p.glText[c].update(p.textOptions[c])}if(p.line2d&&(p.line2d.update(p.lineOptions),p.lineOptions=p.lineOptions.map(function(re){if(re&&re.positions){for(var ae=re.positions,ie=0;ie<ae.length&&(isNaN(ae[ie])||isNaN(ae[ie+1]));)ie+=2;for(var le=ae.length-2;le>ie&&(isNaN(ae[le])||isNaN(ae[le+1]));)le-=2;re.positions=ae.slice(ie,le+2)}return re}),p.line2d.update(p.lineOptions)),p.error2d){var w=(p.errorXOptions||[]).concat(p.errorYOptions||[]);p.error2d.update(w)}p.scatter2d&&p.scatter2d.update(p.markerOptions),p.fillOrder=b.repeat(null,x),p.fill2d&&(p.fillOptions=p.fillOptions.map(function(re,ae){var ie=d[ae];if(re&&ie&&ie[0]&&ie[0].trace){var le,pe,de=ie[0],ve=de.trace,be=de.t,me=p.lineOptions[ae],ge=[];ve._ownfill&&ge.push(ae),ve._nexttrace&&ge.push(ae+1),ge.length&&(p.fillOrder[ae]=ge);var ke,we,ue=[],oe=me&&me.positions||be.positions;if(ve.fill==="tozeroy"){for(ke=0;ke<oe.length&&isNaN(oe[ke+1]);)ke+=2;for(we=oe.length-2;we>ke&&isNaN(oe[we+1]);)we-=2;oe[ke+1]!==0&&(ue=[oe[ke],0]),ue=ue.concat(oe.slice(ke,we+2)),oe[we+1]!==0&&(ue=ue.concat([oe[we],0]))}else if(ve.fill==="tozerox"){for(ke=0;ke<oe.length&&isNaN(oe[ke]);)ke+=2;for(we=oe.length-2;we>ke&&isNaN(oe[we]);)we-=2;oe[ke]!==0&&(ue=[0,oe[ke+1]]),ue=ue.concat(oe.slice(ke,we+2)),oe[we]!==0&&(ue=ue.concat([0,oe[we+1]]))}else if(ve.fill==="toself"||ve.fill==="tonext"){for(ue=[],le=0,re.splitNull=!0,pe=0;pe<oe.length;pe+=2)(isNaN(oe[pe])||isNaN(oe[pe+1]))&&((ue=ue.concat(oe.slice(le,pe))).push(oe[le],oe[le+1]),ue.push(null,null),le=pe+2);ue=ue.concat(oe.slice(le)),le&&ue.push(oe[le],oe[le+1])}else{var he=ve._nexttrace;if(he){var Ee=p.lineOptions[ae+1];if(Ee){var Te=Ee.positions;if(ve.fill==="tonexty"){for(ue=oe.slice(),ae=Math.floor(Te.length/2);ae--;){var Me=Te[2*ae],Se=Te[2*ae+1];isNaN(Me)||isNaN(Se)||ue.push(Me,Se)}re.fill=he.fillcolor}}}}if(ve._prevtrace&&ve._prevtrace.fill==="tonext"){var ze=p.lineOptions[ae-1].positions,fe=ue.length/2,xe=[le=fe];for(pe=0;pe<ze.length;pe+=2)(isNaN(ze[pe])||isNaN(ze[pe+1]))&&(xe.push(pe/2+fe+1),le=pe+2);ue=ue.concat(ze),re.hole=xe}return re.fillmode=ve.fill,re.opacity=ve.opacity,re.positions=ue,re}}),p.fill2d.update(p.fillOptions))}var E=f.dragmode,C=g(E),P=f.clickmode.indexOf("select")>-1;for(c=0;c<x;c++){var O=d[c][0],R=O.trace,U=O.t,z=U.index,N=R._length,W=U.x,F=U.y;if(R.selectedpoints||C||P){if(C||(C=!0),R.selectedpoints){var V=p.selectBatch[z]=b.selIndices2selPoints(R),j={};for(m=0;m<V.length;m++)j[V[m]]=1;var te=[];for(m=0;m<N;m++)j[m]||te.push(m);p.unselectBatch[z]=te}var J=U.xpx=new Array(N),K=U.ypx=new Array(N);for(m=0;m<N;m++)J[m]=v.c2p(W[m]),K[m]=y.c2p(F[m])}else U.xpx=U.ypx=null}if(C){if(p.select2d||(p.select2d=M(f._glcanvas.data()[1].regl)),p.scatter2d){var Z=new Array(x);for(c=0;c<x;c++)Z[c]=p.selectBatch[c].length||p.unselectBatch[c].length?p.markerUnselectedOptions[c]:{};p.scatter2d.update(Z)}p.select2d&&(p.select2d.update(p.markerOptions),p.select2d.update(p.markerSelectedOptions)),p.glText&&d.forEach(function(re){var ae=((re||[])[0]||{}).trace||{};t.hasText(ae)&&r(re)})}else p.scatter2d&&p.scatter2d.update(p.markerOptions);var X={viewport:o(f,v,y,l._context.plotGlPixelRatio),range:[(v._rl||v.range)[0],(y._rl||y.range)[0],(v._rl||v.range)[1],(y._rl||y.range)[1]]},Q=b.repeat(X,p.count);p.fill2d&&p.fill2d.update(Q),p.line2d&&p.line2d.update(Q),p.error2d&&p.error2d.update(Q.concat(Q)),p.scatter2d&&p.scatter2d.update(Q),p.select2d&&p.select2d.update(Q),p.glText&&p.glText.forEach(function(re){re.update(X)})}else p.init()}}).reglPrecompiled=n},74588:function(ee,D,e){var M=e(3400);ee.exports=function(k,a){var T=a._scene,b={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},g={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return a._scene||((T=a._scene={}).init=function(){M.extendFlat(T,g,b)},T.init(),T.update=function(s){var t=M.repeat(s,T.count);if(T.fill2d&&T.fill2d.update(t),T.scatter2d&&T.scatter2d.update(t),T.line2d&&T.line2d.update(t),T.error2d&&T.error2d.update(t.concat(t)),T.select2d&&T.select2d.update(t),T.glText)for(var i=0;i<T.count;i++)T.glText[i].update(s)},T.draw=function(){for(var s=T.count,t=T.fill2d,i=T.error2d,r=T.line2d,n=T.scatter2d,o=T.glText,l=T.select2d,u=T.selectBatch,d=T.unselectBatch,c=0;c<s;c++){if(t&&T.fillOrder[c]&&t.draw(T.fillOrder[c]),r&&T.lineOptions[c]&&r.draw(c),i&&(T.errorXOptions[c]&&i.draw(c),T.errorYOptions[c]&&i.draw(c+s)),n&&T.markerOptions[c])if(d[c].length){var m=M.repeat([],T.count);m[c]=d[c],n.draw(m)}else u[c].length||n.draw(c);o[c]&&T.textOptions[c]&&o[c].render()}l&&l.draw(u),T.dirty=!1},T.destroy=function(){T.fill2d&&T.fill2d.destroy&&T.fill2d.destroy(),T.scatter2d&&T.scatter2d.destroy&&T.scatter2d.destroy(),T.error2d&&T.error2d.destroy&&T.error2d.destroy(),T.line2d&&T.line2d.destroy&&T.line2d.destroy(),T.select2d&&T.select2d.destroy&&T.select2d.destroy(),T.glText&&T.glText.forEach(function(s){s.destroy&&s.destroy()}),T.lineOptions=null,T.fillOptions=null,T.markerOptions=null,T.markerSelectedOptions=null,T.markerUnselectedOptions=null,T.errorXOptions=null,T.errorYOptions=null,T.textOptions=null,T.textSelectedOptions=null,T.textUnselectedOptions=null,T.selectBatch=null,T.unselectBatch=null,a._scene=null}),T.dirty||M.extendFlat(T,b),T}},73224:function(ee,D,e){var M=e(43028),k=e(26768).styleTextSelection;ee.exports=function(a,T){var b=a.cd,g=a.xaxis,s=a.yaxis,t=[],i=b[0].trace,r=b[0].t,n=i._length,o=r.x,l=r.y,u=r._scene,d=r.index;if(!u)return t;var c=M.hasText(i),m=M.hasMarkers(i),f=!m&&!c;if(i.visible!==!0||f)return t;var p=[],v=[];if(T!==!1&&!T.degenerate)for(var y=0;y<n;y++)T.contains([r.xpx[y],r.ypx[y]],!1,y,a)?(p.push(y),t.push({pointNumber:y,x:g.c2d(o[y]),y:s.c2d(l[y])})):v.push(y);if(m){var x=u.scatter2d;if(p.length||v.length){if(!u.selectBatch[d].length&&!u.unselectBatch[d].length){var _=new Array(u.count);_[d]=u.markerUnselectedOptions[d],x.update.apply(x,_)}}else{var h=new Array(u.count);h[d]=u.markerOptions[d],x.update.apply(x,h)}}return u.selectBatch[d]=p,u.unselectBatch[d]=v,c&&k(b),t}},31512:function(ee,D,e){var M=e(21776).Ks,k=e(21776).Gw,a=e(98304),T=e(6096),b=e(52904),g=e(5232),s=e(45464),t=e(49084),i=e(92880).extendFlat,r=e(67824).overrideAll,n=e(5232),o=T.line,l=T.marker;ee.exports=r({lon:T.lon,lat:T.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},l.opacity,{dflt:1})},mode:i({},b.mode,{dflt:"markers"}),text:i({},b.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},b.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:b.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},t("marker")),fill:T.fill,fillcolor:a(),textfont:g.layers.symbol.textfont,textposition:g.layers.symbol.textposition,below:{valType:"string"},selected:{marker:b.selected.marker},unselected:{marker:b.unselected.marker},hoverinfo:i({},s.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:M()},"calc","nested")},59392:function(ee,D,e){var M=e(38248),k=e(3400),a=e(39032).BADNUM,T=e(44808),b=e(8932),g=e(43616),s=e(7152),t=e(43028),i=e(89032),r=e(10624).appendArrayPointValue,n=e(72736).NEWLINES,o=e(72736).BR_TAG_ALL;function l(f){return{type:f,geojson:T.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(f,p){return k.isArrayOrTypedArray(f)?p?function(v){return M(f[v])?+f[v]:0}:function(v){return f[v]}:f?function(){return f}:d}function d(){return""}function c(f){return f[0]===a}function m(f,p){var v;if(k.isArrayOrTypedArray(f)&&k.isArrayOrTypedArray(p)){v=["step",["get","point_count"],f[0]];for(var y=1;y<f.length;y++)v.push(p[y-1],f[y])}else v=f;return v}ee.exports=function(f,p){var v,y=p[0].trace,x=y.visible===!0&&y._length!==0,_=y.fill!=="none",h=t.hasLines(y),S=t.hasMarkers(y),w=t.hasText(y),E=S&&y.marker.symbol==="circle",C=S&&y.marker.symbol!=="circle",P=y.cluster&&y.cluster.enabled,O=l("fill"),R=l("line"),U=l("circle"),z=l("symbol"),N={fill:O,line:R,circle:U,symbol:z};if(!x)return N;if((_||h)&&(v=T.calcTraceToLineCoords(p)),_&&(O.geojson=T.makePolygon(v),O.layout.visibility="visible",k.extendFlat(O.paint,{"fill-color":y.fillcolor})),h&&(R.geojson=T.makeLine(v),R.layout.visibility="visible",k.extendFlat(R.paint,{"line-width":y.line.width,"line-color":y.line.color,"line-opacity":y.opacity})),E){var W=function(j){var te,J,K,Z,X=j[0].trace,Q=X.marker,re=X.selectedpoints,ae=k.isArrayOrTypedArray(Q.color),ie=k.isArrayOrTypedArray(Q.size),le=k.isArrayOrTypedArray(Q.opacity);function pe(ue){return X.opacity*ue}ae&&(J=b.hasColorscale(X,"marker")?b.makeColorScaleFuncFromTrace(Q):k.identity),ie&&(K=s(X)),le&&(Z=function(ue){return pe(M(ue)?+k.constrain(ue,0,1):0)});var de,ve,be=[];for(te=0;te<j.length;te++){var me=j[te],ge=me.lonlat;if(!c(ge)){var ke={};J&&(ke.mcc=me.mcc=J(me.mc)),K&&(ke.mrc=me.mrc=K(me.ms)),Z&&(ke.mo=Z(me.mo)),re&&(ke.selected=me.selected||0),be.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:ge},properties:ke})}}if(re)for(de=g.makeSelectedPointStyleFns(X),te=0;te<be.length;te++){var we=be[te].properties;de.selectedOpacityFn&&(we.mo=pe(de.selectedOpacityFn(we))),de.selectedColorFn&&(we.mcc=de.selectedColorFn(we)),de.selectedSizeFn&&(we.mrc=de.selectedSizeFn(we))}return{geojson:{type:"FeatureCollection",features:be},mcc:ae||de&&de.selectedColorFn?{type:"identity",property:"mcc"}:Q.color,mrc:ie||de&&de.selectedSizeFn?{type:"identity",property:"mrc"}:(ve=Q.size,ve/2),mo:le||de&&de.selectedOpacityFn?{type:"identity",property:"mo"}:pe(Q.opacity)}}(p);U.geojson=W.geojson,U.layout.visibility="visible",P&&(U.filter=["!",["has","point_count"]],N.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":m(y.cluster.color,y.cluster.step),"circle-radius":m(y.cluster.size,y.cluster.step),"circle-opacity":m(y.cluster.opacity,y.cluster.step)}},N.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),k.extendFlat(U.paint,{"circle-color":W.mcc,"circle-radius":W.mrc,"circle-opacity":W.mo})}if(E&&P&&(U.filter=["!",["has","point_count"]]),(C||w)&&(z.geojson=function(j,te){for(var J=te._fullLayout,K=j[0].trace,Z=K.marker||{},X=Z.symbol,Q=Z.angle,re=X!=="circle"?u(X):d,ae=Q!=="auto"?u(Q,!0):d,ie=t.hasText(K)?u(K.text):d,le=[],pe=0;pe<j.length;pe++){var de=j[pe];if(!c(de.lonlat)){var ve,be=K.texttemplate;if(be){var me=Array.isArray(be)?be[pe]||"":be,ge=K._module.formatLabels(de,K,J),ke={};r(ke,K,de.i);var we=K._meta||{};ve=k.texttemplateString(me,ge,J._d3locale,ke,de,we)}else ve=ie(pe);ve&&(ve=ve.replace(n,"").replace(o,`
`)),le.push({type:"Feature",geometry:{type:"Point",coordinates:de.lonlat},properties:{symbol:re(pe),angle:ae(pe),text:ve}})}}return{type:"FeatureCollection",features:le}}(p,f),k.extendFlat(z.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),C&&(k.extendFlat(z.layout,{"icon-size":y.marker.size/10}),"angle"in y.marker&&y.marker.angle!=="auto"&&k.extendFlat(z.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),z.layout["icon-allow-overlap"]=y.marker.allowoverlap,k.extendFlat(z.paint,{"icon-opacity":y.opacity*y.marker.opacity,"icon-color":y.marker.color})),w)){var F=(y.marker||{}).size,V=i(y.textposition,F);k.extendFlat(z.layout,{"text-size":y.textfont.size,"text-anchor":V.anchor,"text-offset":V.offset,"text-font":y.textfont.family.split(", ")}),k.extendFlat(z.paint,{"text-color":y.textfont.color,"text-opacity":y.opacity})}return N}},15752:function(ee,D,e){var M=e(3400),k=e(43028),a=e(74428),T=e(66828),b=e(124),g=e(70840),s=e(31512),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];ee.exports=function(i,r,n,o){function l(x,_){return M.coerce(i,r,s,x,_)}function u(x,_){return M.coerce2(i,r,s,x,_)}var d=function(x,_,h){var S=h("lon")||[],w=h("lat")||[],E=Math.min(S.length,w.length);return _._length=E,E}(0,r,l);if(d){if(l("text"),l("texttemplate"),l("hovertext"),l("hovertemplate"),l("mode"),l("below"),k.hasMarkers(r)){a(i,r,n,o,l,{noLine:!0,noAngle:!0}),l("marker.allowoverlap"),l("marker.angle");var c=r.marker;c.symbol!=="circle"&&(M.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),M.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}k.hasLines(r)&&(T(i,r,n,o,l,{noDash:!0}),l("connectgaps"));var m=u("cluster.maxzoom"),f=u("cluster.step"),p=u("cluster.color",r.marker&&r.marker.color||n),v=u("cluster.size"),y=u("cluster.opacity");l("cluster.enabled",m!==!1||f!==!1||p!==!1||v!==!1||y!==!1),k.hasText(r)&&b(i,r,o,l,{noSelect:!0,font:{family:t.indexOf(o.font.family)!==-1?o.font.family:"Open Sans Regular",size:o.font.size,color:o.font.color}}),l("fill"),r.fill!=="none"&&g(i,r,n,l),M.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},37920:function(ee){ee.exports=function(D,e){return D.lon=e.lon,D.lat=e.lat,D}},11960:function(ee,D,e){var M=e(54460);ee.exports=function(k,a,T){var b={},g=T[a.subplot]._subplot.mockAxis,s=k.lonlat;return b.lonLabel=M.tickText(g,g.c2l(s[0]),!0).text,b.latLabel=M.tickText(g,g.c2l(s[1]),!0).text,b}},63312:function(ee,D,e){var M=e(93024),k=e(3400),a=e(44928),T=k.fillText,b=e(39032).BADNUM,g=e(47552).traceLayerPrefix;function s(t,i,r){if(!t.hovertemplate){var n=(i.hi||t.hoverinfo).split("+"),o=n.indexOf("all")!==-1,l=n.indexOf("lon")!==-1,u=n.indexOf("lat")!==-1,d=i.lonlat,c=[];return o||l&&u?c.push("("+m(d[1])+", "+m(d[0])+")"):l?c.push(r.lon+m(d[0])):u&&c.push(r.lat+m(d[1])),(o||n.indexOf("text")!==-1)&&T(i,t,c),c.join("<br>")}function m(f){return f+""}}ee.exports={hoverPoints:function(t,i,r){var n=t.cd,o=n[0].trace,l=t.xa,u=t.ya,d=t.subplot,c=[],m=g+o.uid+"-circle",f=o.cluster&&o.cluster.enabled;if(f){var p=d.map.queryRenderedFeatures(null,{layers:[m]});c=p.map(function(O){return O.id})}var v=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),y=i-v;if(M.getClosest(n,function(O){var R=O.lonlat;if(R[0]===b||f&&c.indexOf(O.i+1)===-1)return 1/0;var U=k.modHalf(R[0],360),z=R[1],N=d.project([U,z]),W=N.x-l.c2p([y,z]),F=N.y-u.c2p([U,r]),V=Math.max(3,O.mrc||0);return Math.max(Math.sqrt(W*W+F*F)-V,1-3/V)},t),t.index!==!1){var x=n[t.index],_=x.lonlat,h=[k.modHalf(_[0],360)+v,_[1]],S=l.c2p(h),w=u.c2p(h),E=x.mrc||1;t.x0=S-E,t.x1=S+E,t.y0=w-E,t.y1=w+E;var C={};C[o.subplot]={_subplot:d};var P=o._module.formatLabels(x,o,C);return t.lonLabel=P.lonLabel,t.latLabel=P.latLabel,t.color=a(o,x),t.extraText=s(o,x,n[0].t.labels),t.hovertemplate=o.hovertemplate,[t]}},getExtraText:s}},11572:function(ee,D,e){ee.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(M,k){k&&k[0].trace._glTrace.update(k)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(ee,D,e){var M=e(3400),k=e(59392),a=e(47552).traceLayerPrefix,T={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function b(s,t,i,r){this.type="scattermapbox",this.subplot=s,this.uid=t,this.clusterEnabled=i,this.isHidden=r,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var g=b.prototype;g.addSource=function(s,t,i){var r={type:"geojson",data:t.geojson};i&&i.enabled&&M.extendFlat(r,{cluster:!0,clusterMaxZoom:i.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[s]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[s],r)},g.setSourceData=function(s,t){this.subplot.map.getSource(this.sourceIds[s]).setData(t.geojson)},g.addLayer=function(s,t,i){var r={type:t.type,id:this.layerIds[s],source:this.sourceIds[s],layout:t.layout,paint:t.paint};t.filter&&(r.filter=t.filter);for(var n,o=this.layerIds[s],l=this.subplot.getMapLayers(),u=0;u<l.length;u++)if(l[u].id===o){n=!0;break}n?(this.subplot.setOptions(o,"setLayoutProperty",r.layout),r.layout.visibility==="visible"&&this.subplot.setOptions(o,"setPaintProperty",r.paint)):this.subplot.addLayer(r,i)},g.update=function(s){var t=s[0].trace,i=this.subplot,r=i.map,n=k(i.gd,s),o=i.belowLookup["trace-"+this.uid],l=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,d=this;function c(y){u?function(x){for(var _=T.cluster,h=_.length-1;h>=0;h--){var S=_[h];r.removeLayer(d.layerIds[S])}x||r.removeSource(d.sourceIds.circle)}(y):function(x){for(var _=T.nonCluster,h=_.length-1;h>=0;h--){var S=_[h];r.removeLayer(d.layerIds[S]),x||r.removeSource(d.sourceIds[S])}}(y)}function m(y){l?function(x){x||d.addSource("circle",n.circle,t.cluster);for(var _=T.cluster,h=0;h<_.length;h++){var S=_[h],w=n[S];d.addLayer(S,w,o)}}(y):function(x){for(var _=T.nonCluster,h=0;h<_.length;h++){var S=_[h],w=n[S];x||d.addSource(S,w),d.addLayer(S,w,o)}}(y)}function f(){for(var y=l?T.cluster:T.nonCluster,x=0;x<y.length;x++){var _=y[x],h=n[_];h&&(i.setOptions(d.layerIds[_],"setLayoutProperty",h.layout),h.layout.visibility==="visible"&&(_!=="cluster"&&d.setSourceData(_,h),i.setOptions(d.layerIds[_],"setPaintProperty",h.paint)))}}var p=this.isHidden,v=t.visible!==!0;v?p||c():p?v||m():u!==l?(c(),m()):(this.below!==o&&(c(!0),m(!0)),f()),this.clusterEnabled=l,this.isHidden=v,this.below=o,s[0].trace._glTrace=this},g.dispose=function(){for(var s=this.subplot.map,t=this.clusterEnabled?T.cluster:T.nonCluster,i=t.length-1;i>=0;i--){var r=t[i];s.removeLayer(this.layerIds[r]),s.removeSource(this.sourceIds[r])}},ee.exports=function(s,t){var i,r,n,o=t[0].trace,l=o.cluster&&o.cluster.enabled,u=o.visible!==!0,d=new b(s,o.uid,l,u),c=k(s.gd,t),m=d.below=s.belowLookup["trace-"+o.uid];if(l)for(d.addSource("circle",c.circle,o.cluster),i=0;i<T.cluster.length;i++)n=c[r=T.cluster[i]],d.addLayer(r,n,m);else for(i=0;i<T.nonCluster.length;i++)n=c[r=T.nonCluster[i]],d.addSource(r,n,o.cluster),d.addLayer(r,n,m);return t[0].trace._glTrace=d,d}},404:function(ee,D,e){var M=e(3400),k=e(43028),a=e(39032).BADNUM;ee.exports=function(T,b){var g,s=T.cd,t=T.xaxis,i=T.yaxis,r=[],n=s[0].trace;if(!k.hasMarkers(n))return[];if(b===!1)for(g=0;g<s.length;g++)s[g].selected=0;else for(g=0;g<s.length;g++){var o=s[g],l=o.lonlat;if(l[0]!==a){var u=[M.modHalf(l[0],360),l[1]],d=[t.c2p(u),i.c2p(u)];b.contains(d,null,g,T)?(r.push({pointNumber:g,lon:l[0],lat:l[1]}),o.selected=1):o.selected=0}}return r}},8319:function(ee,D,e){var M=e(21776).Ks,k=e(21776).Gw,a=e(92880).extendFlat,T=e(98304),b=e(52904),g=e(45464),s=b.line;ee.exports={mode:b.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:k({editType:"plot"},{keys:["r","theta","text"]}),hovertext:b.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:a({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:a({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:a({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:T(),hoverinfo:a({},g.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:b.hoveron,hovertemplate:M(),selected:b.selected,unselected:b.unselected}},58320:function(ee,D,e){var M=e(38248),k=e(39032).BADNUM,a=e(54460),T=e(90136),b=e(20148),g=e(4500),s=e(16356).calcMarkerSize;ee.exports=function(t,i){for(var r=t._fullLayout,n=i.subplot,o=r[n].radialaxis,l=r[n].angularaxis,u=o.makeCalcdata(i,"r"),d=l.makeCalcdata(i,"theta"),c=i._length,m=new Array(c),f=0;f<c;f++){var p=u[f],v=d[f],y=m[f]={};M(p)&&M(v)?(y.r=p,y.theta=v):y.r=k}var x=s(i,c);return i._extremes.x=a.findExtremes(o,u,{ppad:x}),T(t,i),b(m,i),g(m,i),m}},85968:function(ee,D,e){var M=e(3400),k=e(43028),a=e(74428),T=e(66828),b=e(11731),g=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,i=e(8319);function r(n,o,l,u){var d,c=u("r"),m=u("theta");if(M.isTypedArray(c)&&(o.r=c=Array.from(c)),M.isTypedArray(m)&&(o.theta=m=Array.from(m)),c)m?d=Math.min(c.length,m.length):(d=c.length,u("theta0"),u("dtheta"));else{if(!m)return 0;d=o.theta.length,u("r0"),u("dr")}return o._length=d,d}ee.exports={handleRThetaDefaults:r,supplyDefaults:function(n,o,l,u){function d(f,p){return M.coerce(n,o,i,f,p)}var c=r(0,o,0,d);if(c){d("thetaunit"),d("mode",c<t?"lines+markers":"lines"),d("text"),d("hovertext"),o.hoveron!=="fills"&&d("hovertemplate"),k.hasMarkers(o)&&a(n,o,l,u,d,{gradient:!0}),k.hasLines(o)&&(T(n,o,l,u,d,{backoff:!0}),b(n,o,d),d("connectgaps")),k.hasText(o)&&(d("texttemplate"),g(n,o,u,d));var m=[];(k.hasMarkers(o)||k.hasText(o))&&(d("cliponaxis"),d("marker.maxdisplayed"),m.push("points")),d("fill"),o.fill!=="none"&&(s(n,o,l,d),k.hasLines(o)||b(n,o,d)),o.fill!=="tonext"&&o.fill!=="toself"||m.push("fills"),d("hoveron",m.join("+")||"points"),M.coerceSelectionMarkerOpacity(o,d)}else o.visible=!1}}},22852:function(ee,D,e){var M=e(3400),k=e(54460);ee.exports=function(a,T,b){var g,s,t={},i=b[T.subplot]._subplot;i?(g=i.radialAxis,s=i.angularAxis):(g=(i=b[T.subplot]).radialaxis,s=i.angularaxis);var r=g.c2l(a.r);t.rLabel=k.tickText(g,r,!0).text;var n=s.thetaunit==="degrees"?M.rad2deg(a.theta):a.theta;return t.thetaLabel=k.tickText(s,n,!0).text,t}},8504:function(ee,D,e){var M=e(98723);function k(a,T,b,g){var s=b.radialAxis,t=b.angularAxis;s._hovertitle="r",t._hovertitle="";var i={};i[T.subplot]={_subplot:b};var r=T._module.formatLabels(a,T,i);g.rLabel=r.rLabel,g.thetaLabel=r.thetaLabel;var n=a.hi||T.hoverinfo,o=[];function l(d,c){o.push(d._hovertitle+": "+c)}if(!T.hovertemplate){var u=n.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&l(s,g.rLabel),u.indexOf("theta")!==-1&&l(t,g.thetaLabel),u.indexOf("text")!==-1&&g.text&&(o.push(g.text),delete g.text),g.extraText=o.join("<br>")}}ee.exports={hoverPoints:function(a,T,b,g){var s=M(a,T,b,g);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var i=a.subplot,r=t.cd[t.index],n=t.trace;if(i.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(r,n,i,t),t.hovertemplate=n.hovertemplate,s}},makeHoverPointText:k}},76924:function(ee,D,e){ee.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(ee,D,e){var M=e(96504),k=e(39032).BADNUM;ee.exports=function(a,T,b){for(var g=T.layers.frontplot.select("g.scatterlayer"),s=T.xaxis,t=T.yaxis,i={xaxis:s,yaxis:t,plot:T.framework,layerClipId:T._hasClipOnAxisFalse?T.clipIds.forTraces:null},r=T.radialAxis,n=T.angularAxis,o=0;o<b.length;o++)for(var l=b[o],u=0;u<l.length;u++){u===0&&(l[0].trace._xA=s,l[0].trace._yA=t);var d=l[u],c=d.r;if(c===k)d.x=d.y=k;else{var m=r.c2g(c),f=n.c2g(d.theta);d.x=m*Math.cos(f),d.y=m*Math.sin(f)}}M(a,i,b,g)}},24396:function(ee,D,e){var M=e(8319),k=e(2876),a=e(21776).Gw;ee.exports={mode:M.mode,r:M.r,theta:M.theta,r0:M.r0,dr:M.dr,theta0:M.theta0,dtheta:M.dtheta,thetaunit:M.thetaunit,text:M.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:M.hovertext,hovertemplate:M.hovertemplate,line:{color:k.line.color,width:k.line.width,dash:k.line.dash,editType:"calc"},connectgaps:k.connectgaps,marker:k.marker,fill:k.fill,fillcolor:k.fillcolor,textposition:k.textposition,textfont:k.textfont,hoverinfo:M.hoverinfo,selected:M.selected,unselected:M.unselected}},27160:function(ee,D,e){ee.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(ee,D,e){var M=e(90136),k=e(16356).calcMarkerSize,a=e(84236),T=e(54460),b=e(67072).TOO_MANY_POINTS;ee.exports=function(g,s){var t=g._fullLayout,i=s.subplot,r=t[i].radialaxis,n=t[i].angularaxis,o=s._r=r.makeCalcdata(s,"r"),l=s._theta=n.makeCalcdata(s,"theta"),u=s._length,d={};u<o.length&&(o=o.slice(0,u)),u<l.length&&(l=l.slice(0,u)),d.r=o,d.theta=l,M(g,s);var c,m=d.opts=a.style(g,s);return u<b?c=k(s,u):m.marker&&(c=2*(m.marker.sizeAvg||Math.max(m.marker.size,3))),s._extremes.x=T.findExtremes(r,o,{ppad:c}),[{x:!1,y:!1,t:d,trace:s}]}},98608:function(ee,D,e){var M=e(3400),k=e(43028),a=e(85968).handleRThetaDefaults,T=e(74428),b=e(66828),g=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,i=e(24396);ee.exports=function(r,n,o,l){function u(c,m){return M.coerce(r,n,i,c,m)}var d=a(r,n,l,u);d?(u("thetaunit"),u("mode",d<t?"lines+markers":"lines"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),k.hasMarkers(n)&&T(r,n,o,l,u,{noAngleRef:!0,noStandOff:!0}),k.hasLines(n)&&(b(r,n,o,l,u),u("connectgaps")),k.hasText(n)&&(u("texttemplate"),g(r,n,l,u)),u("fill"),n.fill!=="none"&&s(r,n,o,u),M.coerceSelectionMarkerOpacity(n,u)):n.visible=!1}},94120:function(ee,D,e){var M=e(22852);ee.exports=function(k,a,T){var b=k.i;return"r"in k||(k.r=a._r[b]),"theta"in k||(k.theta=a._theta[b]),M(k,a,T)}},1600:function(ee,D,e){var M=e(41272),k=e(8504).makeHoverPointText;ee.exports={hoverPoints:function(a,T,b,g){var s=a.cd[0].t,t=s.r,i=s.theta,r=M.hoverPoints(a,T,b,g);if(r&&r[0].index!==!1){var n=r[0];if(n.index===void 0)return r;var o=a.subplot,l=n.cd[n.index],u=n.trace;if(l.r=t[n.index],l.theta=i[n.index],o.isPtInside(l))return n.xLabelVal=void 0,n.yLabelVal=void 0,k(l,u,o,n),r}}}},62944:function(ee,D,e){var M=e(27160);M.plot=e(56512),ee.exports=M},56512:function(ee,D,e){var M=e(3108),k=e(38248),a=e(89876),T=e(74588),b=e(84236),g=e(3400),s=e(67072).TOO_MANY_POINTS;ee.exports=function(t,i,r){if(r.length){var n=i.radialAxis,o=i.angularAxis,l=T(t,i);return r.forEach(function(u){if(u&&u[0]&&u[0].trace){var d,c=u[0],m=c.trace,f=c.t,p=m._length,v=f.r,y=f.theta,x=f.opts,_=v.slice(),h=y.slice();for(d=0;d<v.length;d++)i.isPtInside({r:v[d],theta:y[d]})||(_[d]=NaN,h[d]=NaN);var S=new Array(2*p),w=Array(p),E=Array(p);for(d=0;d<p;d++){var C,P,O=_[d];if(k(O)){var R=n.c2g(O),U=o.c2g(h[d],m.thetaunit);C=R*Math.cos(U),P=R*Math.sin(U)}else C=P=NaN;w[d]=S[2*d]=C,E[d]=S[2*d+1]=P}f.tree=M(S),x.marker&&p>=s&&(x.marker.cluster=f.tree),x.marker&&(x.markerSel.positions=x.markerUnsel.positions=x.marker.positions=S),x.line&&S.length>1&&g.extendFlat(x.line,b.linePositions(t,m,S)),x.text&&(g.extendFlat(x.text,{positions:S},b.textPosition(t,m,x.text,x.marker)),g.extendFlat(x.textSel,{positions:S},b.textPosition(t,m,x.text,x.markerSel)),g.extendFlat(x.textUnsel,{positions:S},b.textPosition(t,m,x.text,x.markerUnsel))),x.fill&&!l.fill2d&&(l.fill2d=!0),x.marker&&!l.scatter2d&&(l.scatter2d=!0),x.line&&!l.line2d&&(l.line2d=!0),x.text&&!l.glText&&(l.glText=!0),l.lineOptions.push(x.line),l.fillOptions.push(x.fill),l.markerOptions.push(x.marker),l.markerSelectedOptions.push(x.markerSel),l.markerUnselectedOptions.push(x.markerUnsel),l.textOptions.push(x.text),l.textSelectedOptions.push(x.textSel),l.textUnselectedOptions.push(x.textUnsel),l.selectBatch.push([]),l.unselectBatch.push([]),f.x=w,f.y=E,f.rawx=w,f.rawy=E,f.r=v,f.theta=y,f.positions=S,f._scene=l,f.index=l.count,l.count++}}),a(t,i,r)}},ee.exports.reglPrecompiled={}},69496:function(ee,D,e){var M=e(21776).Ks,k=e(21776).Gw,a=e(92880).extendFlat,T=e(98304),b=e(52904),g=e(45464),s=b.line;ee.exports={mode:b.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:k({editType:"plot"},{keys:["real","imag","text"]}),hovertext:b.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:a({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:a({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:a({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:T(),hoverinfo:a({},g.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:b.hoveron,hovertemplate:M(),selected:b.selected,unselected:b.unselected}},47507:function(ee,D,e){var M=e(38248),k=e(39032).BADNUM,a=e(90136),T=e(20148),b=e(4500),g=e(16356).calcMarkerSize;ee.exports=function(s,t){for(var i=s._fullLayout,r=t.subplot,n=i[r].realaxis,o=i[r].imaginaryaxis,l=n.makeCalcdata(t,"real"),u=o.makeCalcdata(t,"imag"),d=t._length,c=new Array(d),m=0;m<d;m++){var f=l[m],p=u[m],v=c[m]={};M(f)&&M(p)?(v.real=f,v.imag=p):v.real=k}return g(t,d),a(s,t),T(c,t),b(c,t),c}},76716:function(ee,D,e){var M=e(3400),k=e(43028),a=e(74428),T=e(66828),b=e(11731),g=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,i=e(69496);ee.exports=function(r,n,o,l){function u(m,f){return M.coerce(r,n,i,m,f)}var d=function(m,f,p,v){var y,x=v("real"),_=v("imag");return x&&_&&(y=Math.min(x.length,_.length)),M.isTypedArray(x)&&(f.real=x=Array.from(x)),M.isTypedArray(_)&&(f.imag=_=Array.from(_)),f._length=y,y}(0,n,0,u);if(d){u("mode",d<t?"lines+markers":"lines"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),k.hasMarkers(n)&&a(r,n,o,l,u,{gradient:!0}),k.hasLines(n)&&(T(r,n,o,l,u,{backoff:!0}),b(r,n,u),u("connectgaps")),k.hasText(n)&&(u("texttemplate"),g(r,n,l,u));var c=[];(k.hasMarkers(n)||k.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),n.fill!=="none"&&(s(r,n,o,u),k.hasLines(n)||b(r,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||c.push("fills"),u("hoveron",c.join("+")||"points"),M.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},49504:function(ee,D,e){var M=e(54460);ee.exports=function(k,a,T){var b={},g=T[a.subplot]._subplot;return b.realLabel=M.tickText(g.radialAxis,k.real,!0).text,b.imagLabel=M.tickText(g.angularAxis,k.imag,!0).text,b}},25292:function(ee,D,e){var M=e(98723);function k(a,T,b,g){var s=b.radialAxis,t=b.angularAxis;s._hovertitle="real",t._hovertitle="imag";var i={};i[T.subplot]={_subplot:b};var r=T._module.formatLabels(a,T,i);g.realLabel=r.realLabel,g.imagLabel=r.imagLabel;var n=a.hi||T.hoverinfo,o=[];function l(d,c){o.push(d._hovertitle+": "+c)}if(!T.hovertemplate){var u=n.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&l(s,g.realLabel),u.indexOf("imag")!==-1&&l(t,g.imagLabel),u.indexOf("text")!==-1&&g.text&&(o.push(g.text),delete g.text),g.extraText=o.join("<br>")}}ee.exports={hoverPoints:function(a,T,b,g){var s=M(a,T,b,g);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var i=a.subplot,r=t.cd[t.index],n=t.trace;if(i.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(r,n,i,t),t.hovertemplate=n.hovertemplate,s}},makeHoverPointText:k}},95443:function(ee,D,e){ee.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(ee,D,e){var M=e(96504),k=e(39032).BADNUM,a=e(36416).smith;ee.exports=function(T,b,g){for(var s=b.layers.frontplot.select("g.scatterlayer"),t=b.xaxis,i=b.yaxis,r={xaxis:t,yaxis:i,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},n=0;n<g.length;n++)for(var o=g[n],l=0;l<o.length;l++){l===0&&(o[0].trace._xA=t,o[0].trace._yA=i);var u=o[l],d=u.real;if(d===k)u.x=u.y=k;else{var c=a([d,u.imag]);u.x=c[0],u.y=c[1]}}M(T,r,g,s)}},5896:function(ee,D,e){var M=e(21776).Ks,k=e(21776).Gw,a=e(98304),T=e(52904),b=e(45464),g=e(49084),s=e(98192).u,t=e(92880).extendFlat,i=T.marker,r=T.line,n=i.line;ee.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:t({},T.mode,{dflt:"markers"}),text:t({},T.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:t({},T.hovertext,{}),line:{color:r.color,width:r.width,dash:s,backoff:r.backoff,shape:t({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:T.connectgaps,cliponaxis:T.cliponaxis,fill:t({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a(),marker:t({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:t({width:n.width,editType:"calc"},g("marker.line")),gradient:i.gradient,editType:"calc"},g("marker")),textfont:T.textfont,textposition:T.textposition,selected:T.selected,unselected:T.unselected,hoverinfo:t({},b.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:T.hoveron,hovertemplate:M()}},34335:function(ee,D,e){var M=e(38248),k=e(90136),a=e(20148),T=e(4500),b=e(16356).calcMarkerSize,g=["a","b","c"],s={a:["b","c"],b:["a","c"],c:["a","b"]};ee.exports=function(t,i){var r,n,o,l,u,d,c=t._fullLayout[i.subplot].sum,m=i.sum||c,f={a:i.a,b:i.b,c:i.c};for(r=0;r<g.length;r++)if(!f[o=g[r]]){for(u=f[s[o][0]],d=f[s[o][1]],l=new Array(u.length),n=0;n<u.length;n++)l[n]=m-u[n]-d[n];f[o]=l}var p,v,y,x,_,h,S=i._length,w=new Array(S);for(r=0;r<S;r++)p=f.a[r],v=f.b[r],y=f.c[r],M(p)&&M(v)&&M(y)?((x=c/((p=+p)+(v=+v)+(y=+y)))!=1&&(p*=x,v*=x,y*=x),h=p,_=y-v,w[r]={x:_,y:h,a:p,b:v,c:y}):w[r]={x:!1,y:!1};return b(i,S),k(t,i),a(w,i),T(w,i),w}},84256:function(ee,D,e){var M=e(3400),k=e(88200),a=e(43028),T=e(74428),b=e(66828),g=e(11731),s=e(124),t=e(70840),i=e(5896);ee.exports=function(r,n,o,l){function u(v,y){return M.coerce(r,n,i,v,y)}var d,c=u("a"),m=u("b"),f=u("c");if(c?(d=c.length,m?(d=Math.min(d,m.length),f&&(d=Math.min(d,f.length))):d=f?Math.min(d,f.length):0):m&&f&&(d=Math.min(m.length,f.length)),d){n._length=d,u("sum"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),u("mode",d<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(n)&&T(r,n,o,l,u,{gradient:!0}),a.hasLines(n)&&(b(r,n,o,l,u,{backoff:!0}),g(r,n,u),u("connectgaps")),a.hasText(n)&&(u("texttemplate"),s(r,n,l,u));var p=[];(a.hasMarkers(n)||a.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),p.push("points")),u("fill"),n.fill!=="none"&&(t(r,n,o,u),a.hasLines(n)||g(r,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||p.push("fills"),u("hoveron",p.join("+")||"points"),M.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},97476:function(ee){ee.exports=function(D,e,M,k,a){if(e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),k[a]){var T=k[a];D.a=T.a,D.b=T.b,D.c=T.c}else D.a=e.a,D.b=e.b,D.c=e.c;return D}},90404:function(ee,D,e){var M=e(54460);ee.exports=function(k,a,T){var b={},g=T[a.subplot]._subplot;return b.aLabel=M.tickText(g.aaxis,k.a,!0).text,b.bLabel=M.tickText(g.baxis,k.b,!0).text,b.cLabel=M.tickText(g.caxis,k.c,!0).text,b}},26596:function(ee,D,e){var M=e(98723);ee.exports=function(k,a,T,b){var g=M(k,a,T,b);if(g&&g[0].index!==!1){var s=g[0];if(s.index===void 0){var t=1-s.y0/k.ya._length,i=k.xa._length,r=i*t/2,n=i-r;return s.x0=Math.max(Math.min(s.x0,n),r),s.x1=Math.max(Math.min(s.x1,n),r),g}var o=s.cd[s.index],l=s.trace,u=s.subplot;s.a=o.a,s.b=o.b,s.c=o.c,s.xLabelVal=void 0,s.yLabelVal=void 0;var d={};d[l.subplot]={_subplot:u};var c=l._module.formatLabels(o,l,d);s.aLabel=c.aLabel,s.bLabel=c.bLabel,s.cLabel=c.cLabel;var m=o.hi||l.hoverinfo,f=[];if(!l.hovertemplate){var p=m.split("+");p.indexOf("all")!==-1&&(p=["a","b","c"]),p.indexOf("a")!==-1&&v(u.aaxis,s.aLabel),p.indexOf("b")!==-1&&v(u.baxis,s.bLabel),p.indexOf("c")!==-1&&v(u.caxis,s.cLabel)}return s.extraText=f.join("<br>"),s.hovertemplate=l.hovertemplate,g}function v(y,x){f.push(y._hovertitle+": "+x)}}},34864:function(ee,D,e){ee.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(ee,D,e){var M=e(96504);ee.exports=function(k,a,T){var b=a.plotContainer;b.select(".scatterlayer").selectAll("*").remove();for(var g=a.xaxis,s=a.yaxis,t={xaxis:g,yaxis:s,plot:b,layerClipId:a._hasClipOnAxisFalse?a.clipIdRelative:null},i=a.layers.frontplot.select("g.scatterlayer"),r=0;r<T.length;r++){var n=T[r];n.length&&(n[0].trace._xA=g,n[0].trace._yA=s)}M(k,t,T,i)}},44524:function(ee,D,e){var M=e(52904),k=e(49084),a=e(29736).axisHoverFormat,T=e(21776).Ks,b=e(2876),g=e(33816).idRegex,s=e(31780).templatedArray,t=e(92880).extendFlat,i=M.marker,r=i.line,n=t(k("marker.line",{editTypeOverride:"calc"}),{width:t({},r.width,{editType:"calc"}),editType:"calc"}),o=t(k("marker"),{symbol:i.symbol,angle:i.angle,size:t({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:n,editType:"calc"});function l(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:g[u],editType:"plot"}}}o.color.editType=o.cmin.editType=o.cmax.editType="style",ee.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},b.text,{}),hovertext:t({},b.hovertext,{}),hovertemplate:T(),xhoverformat:a("x"),yhoverformat:a("y"),marker:o,xaxes:l("x"),yaxes:l("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:b.selected.marker,editType:"calc"},unselected:{marker:b.unselected.marker,editType:"calc"},opacity:b.opacity}},28888:function(ee,D,e){var M=e(24040),k=e(12704);ee.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},M.register(k)},99332:function(ee,D,e){var M=e(13472),k=e(24040),a=e(5048),T=e(84888)._M,b=e(57952),g=e(79811).getFromId,s=e(54460).shouldShowZeroLine,t="splom",i={};function r(o,l,u){for(var d=u.matrixOptions.data.length,c=l._visibleDims,m=u.viewOpts.ranges=new Array(d),f=0;f<c.length;f++){var p=c[f],v=m[f]=new Array(4),y=g(o,l._diag[p][0]);y&&(v[0]=y.r2l(y.range[0]),v[2]=y.r2l(y.range[1]));var x=g(o,l._diag[p][1]);x&&(v[1]=x.r2l(x.range[0]),v[3]=x.r2l(x.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:m},{ranges:m}):u.matrix.update({ranges:m})}function n(o){var l=o._fullLayout,u=l._glcanvas.data()[0].regl,d=l._splomGrid;d||(d=l._splomGrid=M(u)),d.update(function(c){var m,f=c._context.plotGlPixelRatio,p=c._fullLayout,v=p._size,y=[0,0,p.width*f,p.height*f],x={};function _(j,te,J,K,Z,X){J*=f,K*=f,Z*=f,X*=f;var Q=te[j+"color"],re=te[j+"width"],ae=String(Q+re);ae in x?x[ae].data.push(NaN,NaN,J,K,Z,X):x[ae]={data:[J,K,Z,X],join:"rect",thickness:re*f,color:Q,viewport:y,range:y,overlay:!1}}for(m in p._splomSubplots){var h,S,w=p._plots[m],E=w.xaxis,C=w.yaxis,P=E._gridVals,O=C._gridVals,R=E._offset,U=E._length,z=C._length,N=v.b+C.domain[0]*v.h,W=-C._m,F=-W*C.r2l(C.range[0],C.calendar);if(E.showgrid)for(m=0;m<P.length;m++)h=R+E.l2p(P[m].x),_("grid",E,h,N,h,N+z);if(C.showgrid)for(m=0;m<O.length;m++)_("grid",C,R,S=N+F+W*O[m].x,R+U,S);s(c,E,C)&&(h=R+E.l2p(0),_("zeroline",E,h,N,h,N+z)),s(c,C,E)&&_("zeroline",C,R,S=N+F+0,R+U,S)}var V=[];for(m in x)V.push(x[m]);return V}(o))}ee.exports={name:t,attr:b.attr,attrRegex:b.attrRegex,layoutAttributes:b.layoutAttributes,supplyLayoutDefaults:b.supplyLayoutDefaults,drawFramework:b.drawFramework,plot:function(o){var l=o._fullLayout,u=k.getModule(t),d=T(o.calcdata,u)[0];a(o,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(l._hasOnlyLargeSploms&&n(o),u.plot(o,{},d))},drag:function(o){var l=o.calcdata,u=o._fullLayout;u._hasOnlyLargeSploms&&n(o);for(var d=0;d<l.length;d++){var c=l[d][0].trace,m=u._splomScenes[c.uid];c.type==="splom"&&m&&m.matrix&&r(o,c,m)}},updateGrid:n,clean:function(o,l,u,d){var c,m={};if(d._splomScenes){for(c=0;c<o.length;c++){var f=o[c];f.type==="splom"&&(m[f.uid]=1)}for(c=0;c<u.length;c++){var p=u[c];if(!m[p.uid]){var v=d._splomScenes[p.uid];v&&v.destroy&&v.destroy(),d._splomScenes[p.uid]=null,delete d._splomScenes[p.uid]}}}Object.keys(d._splomScenes||{}).length===0&&delete d._splomScenes,d._splomGrid&&!l._hasOnlyLargeSploms&&d._hasOnlyLargeSploms&&(d._splomGrid.destroy(),d._splomGrid=null,delete d._splomGrid),b.clean(o,l,u,d)},updateFx:b.updateFx,toSVG:b.toSVG,reglPrecompiled:i}},66821:function(ee,D,e){var M=e(3400),k=e(79811),a=e(16356).calcMarkerSize,T=e(16356).calcAxisExpansion,b=e(90136),g=e(84236).markerSelection,s=e(84236).markerStyle,t=e(72308),i=e(39032).BADNUM,r=e(67072).TOO_MANY_POINTS;ee.exports=function(n,o){var l,u,d,c,m,f,p=o.dimensions,v=o._length,y={},x=y.cdata=[],_=y.data=[],h=o._visibleDims=[];function S(E,C){for(var P=E.makeCalcdata({v:C.values,vcalendar:o.calendar},"v"),O=0;O<P.length;O++)P[O]=P[O]===i?NaN:P[O];x.push(P),_.push(E.type==="log"?M.simpleMap(P,E.c2l):P)}for(l=0;l<p.length;l++)if((d=p[l]).visible){if(c=k.getFromId(n,o._diag[l][0]),m=k.getFromId(n,o._diag[l][1]),c&&m&&c.type!==m.type){M.log("Skipping splom dimension "+l+" with conflicting axis types");continue}c?(S(c,d),m&&m.type==="category"&&(m._categories=c._categories.slice())):S(m,d),h.push(l)}for(b(n,o),M.extendFlat(y,s(n,o)),f=x.length*v>r?y.sizeAvg||Math.max(y.size,3):a(o,v),u=0;u<h.length;u++)d=p[l=h[u]],c=k.getFromId(n,o._diag[l][0])||{},m=k.getFromId(n,o._diag[l][1])||{},T(n,o,c,m,x[u],x[u],f);var w=t(n,o);return w.matrix||(w.matrix=!0),w.matrixOptions=y,w.selectedOptions=g(n,o,o.selected),w.unselectedOptions=g(n,o,o.unselected),[{x:!1,y:!1,t:{},trace:o}]}},69544:function(ee,D,e){var M=e(3400),k=e(51272),a=e(44524),T=e(43028),b=e(74428),g=e(26284),s=e(80088).isOpenSymbol;function t(i,r){function n(l,u){return M.coerce(i,r,a.dimensions,l,u)}n("label");var o=n("values");o&&o.length?n("visible"):r.visible=!1,n("axis.type"),n("axis.matches")}ee.exports=function(i,r,n,o){function l(v,y){return M.coerce(i,r,a,v,y)}var u=k(i,r,{name:"dimensions",handleItemDefaults:t}),d=l("diagonal.visible"),c=l("showupperhalf"),m=l("showlowerhalf");if(g(r,u,"values")&&(d||c||m)){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),b(i,r,n,o,l,{noAngleRef:!0,noStandOff:!0});var f=s(r.marker.symbol),p=T.isBubble(r);l("marker.line.width",f||p?1:0),function(v,y,x,_){var h,S,w=y.dimensions,E=w.length,C=y.showupperhalf,P=y.showlowerhalf,O=y.diagonal.visible,R=new Array(E),U=new Array(E);for(h=0;h<E;h++){var z=h?h+1:"";R[h]="x"+z,U[h]="y"+z}var N=_("xaxes",R),W=_("yaxes",U),F=y._diag=new Array(E);y._xaxes={},y._yaxes={};var V=[],j=[];function te(le,pe,de,ve){if(le){var be=le.charAt(0),me=x._splomAxes[be];if(y["_"+be+"axes"][le]=1,ve.push(le),!(le in me)){var ge=me[le]={};de&&(ge.label=de.label||"",de.visible&&de.axis&&(de.axis.type&&(ge.type=de.axis.type),de.axis.matches&&(ge.matches=pe)))}}}var J=!O&&!P,K=!O&&!C;for(y._axesDim={},h=0;h<E;h++){var Z=w[h],X=h===0,Q=h===E-1,re=X&&J||Q&&K?void 0:N[h],ae=X&&K||Q&&J?void 0:W[h];te(re,ae,Z,V),te(ae,re,Z,j),F[h]=[re,ae],y._axesDim[re]=h,y._axesDim[ae]=h}for(h=0;h<V.length;h++)for(S=0;S<j.length;S++){var ie=V[h]+j[S];h>S&&C||h<S&&P?x._splomSubplots[ie]=1:h!==S||!O&&P&&C||(x._splomSubplots[ie]=1)}(!P||!O&&C&&P)&&(x._splomGridDflt.xside="bottom",x._splomGridDflt.yside="left")}(0,r,o,l),M.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},83156:function(ee,D,e){var M=e(3400),k=e(90136),a=e(84236).markerStyle;ee.exports=function(T,b){var g=b.trace,s=T._fullLayout._splomScenes[g.uid];if(s){k(T,g),M.extendFlat(s.matrixOptions,a(T,g));var t=M.extendFlat({},s.matrixOptions,s.viewOpts);s.matrix.update(t,null)}}},50328:function(ee,D){D.getDimIndex=function(e,M){for(var k=M._id,a={x:0,y:1}[k.charAt(0)],T=e._visibleDims,b=0;b<T.length;b++){var g=T[b];if(e._diag[g][a]===k)return b}return!1}},72248:function(ee,D,e){var M=e(50328),k=e(41272).calcHover;ee.exports={hoverPoints:function(a,T,b){var g=a.cd[0].trace,s=a.scene.matrixOptions.cdata,t=a.xa,i=a.ya,r=t.c2p(T),n=i.c2p(b),o=a.distance,l=M.getDimIndex(g,t),u=M.getDimIndex(g,i);if(l===!1||u===!1)return[a];for(var d,c,m=s[l],f=s[u],p=o,v=0;v<m.length;v++){var y=m[v],x=f[v],_=t.c2p(y)-r,h=i.c2p(x)-n,S=Math.sqrt(_*_+h*h);S<p&&(p=c=S,d=v)}return a.index=d,a.distance=p,a.dxy=c,d===void 0?[a]:[k(a,m,f,g)]}}},97924:function(ee,D,e){var M=e(28888);M.basePlotModule=e(99332),ee.exports=M},54840:function(ee,D,e){var M=e(55795),k=e(3400),a=e(79811),T=e(72760).selectMode;function b(g,s){var t,i,r,n,o,l=g._fullLayout,u=l._size,d=s.trace,c=s.t,m=l._splomScenes[d.uid],f=m.matrixOptions,p=f.cdata,v=l._glcanvas.data()[0].regl,y=l.dragmode;if(p.length!==0){f.lower=d.showupperhalf,f.upper=d.showlowerhalf,f.diagonal=d.diagonal.visible;var x=d._visibleDims,_=p.length,h=m.viewOpts={};for(h.ranges=new Array(_),h.domains=new Array(_),o=0;o<x.length;o++){r=x[o];var S=h.ranges[o]=new Array(4),w=h.domains[o]=new Array(4);(t=a.getFromId(g,d._diag[r][0]))&&(S[0]=t._rl[0],S[2]=t._rl[1],w[0]=t.domain[0],w[2]=t.domain[1]),(i=a.getFromId(g,d._diag[r][1]))&&(S[1]=i._rl[0],S[3]=i._rl[1],w[1]=i.domain[0],w[3]=i.domain[1])}var E=g._context.plotGlPixelRatio,C=u.l*E,P=u.b*E,O=u.w*E,R=u.h*E;h.viewport=[C,P,O+C,R+P],m.matrix===!0&&(m.matrix=M(v));var U=l.clickmode.indexOf("select")>-1,z=!0;if(T(y)||d.selectedpoints||U){var N=d._length;if(d.selectedpoints){m.selectBatch=d.selectedpoints;var W=d.selectedpoints,F={};for(r=0;r<W.length;r++)F[W[r]]=!0;var V=[];for(r=0;r<N;r++)F[r]||V.push(r);m.unselectBatch=V}var j=c.xpx=new Array(_),te=c.ypx=new Array(_);for(o=0;o<x.length;o++){if(r=x[o],t=a.getFromId(g,d._diag[r][0]))for(j[o]=new Array(N),n=0;n<N;n++)j[o][n]=t.c2p(p[o][n]);if(i=a.getFromId(g,d._diag[r][1]))for(te[o]=new Array(N),n=0;n<N;n++)te[o][n]=i.c2p(p[o][n])}if(m.selectBatch.length||m.unselectBatch.length){var J=k.extendFlat({},f,m.unselectedOptions,h),K=k.extendFlat({},f,m.selectedOptions,h);m.matrix.update(J,K),z=!1}}else c.xpx=c.ypx=null;if(z){var Z=k.extendFlat({},f,h);m.matrix.update(Z,null)}}}ee.exports=function(g,s,t){if(t.length)for(var i=0;i<t.length;i++)b(g,t[i][0])}},72308:function(ee,D,e){var M=e(3400);ee.exports=function(k,a){var T=k._fullLayout,b=a.uid,g=T._splomScenes;g||(g=T._splomScenes={});var s={dirty:!0,selectBatch:[],unselectBatch:[]},t=g[a.uid];return t||((t=g[b]=M.extendFlat({},s,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||M.extendFlat(t,s),t}},62500:function(ee,D,e){var M=e(3400),k=M.pushUnique,a=e(43028),T=e(50328);ee.exports=function(b,g){var s=b.cd,t=s[0].trace,i=s[0].t,r=b.scene,n=r.matrixOptions.cdata,o=b.xaxis,l=b.yaxis,u=[];if(!r)return u;var d=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||d)return u;var c=T.getDimIndex(t,o),m=T.getDimIndex(t,l);if(c===!1||m===!1)return u;var f=i.xpx[c],p=i.ypx[m],v=n[c],y=n[m],x=(b.scene.selectBatch||[]).slice(),_=[];if(g!==!1&&!g.degenerate)for(var h=0;h<v.length;h++)g.contains([f[h],p[h]],null,h,b)?(u.push({pointNumber:h,x:v[h],y:y[h]}),k(x,h)):x.indexOf(h)!==-1?k(x,h):_.push(h);var S=r.matrixOptions;return x.length||_.length?r.selectBatch.length||r.unselectBatch.length||r.matrix.update(r.unselectedOptions,M.extendFlat({},S,r.selectedOptions,r.viewOpts)):r.matrix.update(S,null),r.selectBatch=x,r.unselectBatch=_,u}},90167:function(ee,D,e){var M=e(49084),k=e(29736).axisHoverFormat,a=e(21776).Ks,T=e(52948),b=e(45464),g=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:g({},b.showlegend,{dflt:!1})};g(s,M("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=T[t]}),s.hoverinfo=g({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,ee.exports=s},3832:function(ee,D,e){var M=e(3400),k=e(47128);function a(g){var s,t,i,r,n,o,l,u,d,c,m,f,p=g._x,v=g._y,y=g._z,x=g._len,_=-1/0,h=1/0,S=-1/0,w=1/0,E=-1/0,C=1/0,P="";for(x&&(l=p[0],d=v[0],m=y[0]),x>1&&(u=p[x-1],c=v[x-1],f=y[x-1]),s=0;s<x;s++)_=Math.max(_,p[s]),h=Math.min(h,p[s]),S=Math.max(S,v[s]),w=Math.min(w,v[s]),E=Math.max(E,y[s]),C=Math.min(C,y[s]),r||p[s]===l||(r=!0,P+="x"),n||v[s]===d||(n=!0,P+="y"),o||y[s]===m||(o=!0,P+="z");r||(P+="x"),n||(P+="y"),o||(P+="z");var O=T(g._x),R=T(g._y),U=T(g._z);P=(P=(P=P.replace("x",(l>u?"-":"+")+"x")).replace("y",(d>c?"-":"+")+"y")).replace("z",(m>f?"-":"+")+"z");var z=function(){x=0,O=[],R=[],U=[]};(!x||x<O.length*R.length*U.length)&&z();var N=function(be){return be==="x"?p:be==="y"?v:y},W=function(be){return be==="x"?O:be==="y"?R:U},F=function(be){return be[x-1]<be[0]?-1:1},V=N(P[1]),j=N(P[3]),te=N(P[5]),J=W(P[1]).length,K=W(P[3]).length,Z=W(P[5]).length,X=!1,Q=function(be,me,ge){return J*(K*be+me)+ge},re=F(N(P[1])),ae=F(N(P[3])),ie=F(N(P[5]));for(s=0;s<Z-1;s++){for(t=0;t<K-1;t++){for(i=0;i<J-1;i++){var le=Q(s,t,i),pe=Q(s,t,i+1),de=Q(s,t+1,i),ve=Q(s+1,t,i);if(V[le]*re<V[pe]*re&&j[le]*ae<j[de]*ae&&te[le]*ie<te[ve]*ie||(X=!0),X)break}if(X)break}if(X)break}return X&&(M.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:h,yMin:w,zMin:C,xMax:_,yMax:S,zMax:E,Xs:O,Ys:R,Zs:U,len:x,fill:P}}function T(g){return M.distinctVals(g).vals}function b(g,s){if(s===void 0&&(s=g.length),M.isTypedArray(g))return g.subarray(0,s);for(var t=[],i=0;i<s;i++)t[i]=+g[i];return t}ee.exports={calc:function(g,s){s._len=Math.min(s.u.length,s.v.length,s.w.length,s.x.length,s.y.length,s.z.length),s._u=b(s.u,s._len),s._v=b(s.v,s._len),s._w=b(s.w,s._len),s._x=b(s.x,s._len),s._y=b(s.y,s._len),s._z=b(s.z,s._len);var t=a(s);s._gridFill=t.fill,s._Xs=t.Xs,s._Ys=t.Ys,s._Zs=t.Zs,s._len=t.len;var i,r,n,o=0;s.starts&&(i=b(s.starts.x||[]),r=b(s.starts.y||[]),n=b(s.starts.z||[]),o=Math.min(i.length,r.length,n.length)),s._startsX=i||[],s._startsY=r||[],s._startsZ=n||[];var l,u=0,d=1/0;for(l=0;l<s._len;l++){var c=s._u[l],m=s._v[l],f=s._w[l],p=Math.sqrt(c*c+m*m+f*f);u=Math.max(u,p),d=Math.min(d,p)}for(k(g,s,{vals:[d,u],containerStr:"",cLetter:"c"}),l=0;l<o;l++){var v=i[l];t.xMax=Math.max(t.xMax,v),t.xMin=Math.min(t.xMin,v);var y=r[l];t.yMax=Math.max(t.yMax,y),t.yMin=Math.min(t.yMin,y);var x=n[l];t.zMax=Math.max(t.zMax,x),t.zMin=Math.min(t.zMin,x)}s._slen=o,s._normMax=u,s._xbnds=[t.xMin,t.xMax],s._ybnds=[t.yMin,t.yMax],s._zbnds=[t.zMin,t.zMax]},filter:b,processGrid:a}},25668:function(ee,D,e){var M=e(67792).gl_streamtube3d,k=M.createTubeMesh,a=e(3400),T=e(33040).parseColorScale,b=e(8932).extractOpts,g=e(52094),s={xaxis:0,yaxis:1,zaxis:2};function t(l,u){this.scene=l,this.uid=u,this.mesh=null,this.data=null}var i=t.prototype;function r(l){var u=l.length;return u>2?l.slice(1,u-1):u===2?[(l[0]+l[1])/2]:l}function n(l){var u=l.length;return u===1?[.5,.5]:[l[1]-l[0],l[u-1]-l[u-2]]}function o(l,u){var d=l.fullSceneLayout,c=l.dataScale,m=u._len,f={};function p(J,K){var Z=d[K],X=c[s[K]];return a.simpleMap(J,function(Q){return Z.d2l(Q)*X})}if(f.vectors=g(p(u._u,"xaxis"),p(u._v,"yaxis"),p(u._w,"zaxis"),m),!m)return{positions:[],cells:[]};var v=p(u._Xs,"xaxis"),y=p(u._Ys,"yaxis"),x=p(u._Zs,"zaxis");if(f.meshgrid=[v,y,x],f.gridFill=u._gridFill,u._slen)f.startingPositions=g(p(u._startsX,"xaxis"),p(u._startsY,"yaxis"),p(u._startsZ,"zaxis"));else{for(var _=y[0],h=r(v),S=r(x),w=new Array(h.length*S.length),E=0,C=0;C<h.length;C++)for(var P=0;P<S.length;P++)w[E++]=[h[C],_,S[P]];f.startingPositions=w}f.colormap=T(u),f.tubeSize=u.sizeref,f.maxLength=u.maxdisplayed;var O=p(u._xbnds,"xaxis"),R=p(u._ybnds,"yaxis"),U=p(u._zbnds,"zaxis"),z=n(v),N=n(y),W=n(x),F=[[O[0]-z[0],R[0]-N[0],U[0]-W[0]],[O[1]+z[1],R[1]+N[1],U[1]+W[1]]],V=M(f,F),j=b(u);V.vertexIntensityBounds=[j.min/u._normMax,j.max/u._normMax];var te=u.lightposition;return V.lightPosition=[te.x,te.y,te.z],V.ambient=u.lighting.ambient,V.diffuse=u.lighting.diffuse,V.specular=u.lighting.specular,V.roughness=u.lighting.roughness,V.fresnel=u.lighting.fresnel,V.opacity=u.opacity,u._pad=V.tubeScale*u.sizeref*2,V}i.handlePick=function(l){var u=this.scene.fullSceneLayout,d=this.scene.dataScale;function c(p,v){var y=u[v],x=d[s[v]];return y.l2c(p)/x}if(l.object===this.mesh){var m=l.data.position,f=l.data.velocity;return l.traceCoordinate=[c(m[0],"xaxis"),c(m[1],"yaxis"),c(m[2],"zaxis"),c(f[0],"xaxis"),c(f[1],"yaxis"),c(f[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(l){this.data=l;var u=o(this.scene,l);this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(l,u){var d=l.glplot.gl,c=o(l,u),m=k(d,c),f=new t(l,u.uid);return f.mesh=m,f.data=u,m._trace=f,l.glplot.add(m),f}},54304:function(ee,D,e){var M=e(3400),k=e(27260),a=e(90167);ee.exports=function(T,b,g,s){function t(d,c){return M.coerce(T,b,a,d,c)}var i=t("u"),r=t("v"),n=t("w"),o=t("x"),l=t("y"),u=t("z");i&&i.length&&r&&r.length&&n&&n.length&&o&&o.length&&l&&l.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(T,b,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},15436:function(ee,D,e){ee.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(M,k){return M.tubex=M.x,M.tubey=M.y,M.tubez=M.z,M.tubeu=k.traceCoordinate[3],M.tubev=k.traceCoordinate[4],M.tubew=k.traceCoordinate[5],M.norm=k.traceCoordinate[6],M.divergence=k.traceCoordinate[7],delete M.x,delete M.y,delete M.z,M},meta:{}}},424:function(ee,D,e){var M=e(45464),k=e(21776).Ks,a=e(21776).Gw,T=e(49084),b=e(86968).u,g=e(74996),s=e(27328),t=e(92880).extendFlat,i=e(98192).c;ee.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},g.marker.line.color,{dflt:null}),width:t({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},T("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:g.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:g.hovertext,hoverinfo:t({},M.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:k({},{keys:s.eventDataKeys}),textfont:g.textfont,insidetextorientation:g.insidetextorientation,insidetextfont:g.insidetextfont,outsidetextfont:t({},g.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:g.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:b({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(ee,D,e){var M=e(7316);D.name="sunburst",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},3776:function(ee,D,e){var M=e(74148),k=e(38248),a=e(3400),T=e(8932).makeColorScaleFuncFromTrace,b=e(45768).makePullColorFn,g=e(45768).generateExtendedColors,s=e(8932).calc,t=e(39032).ALMOST_EQUAL,i={},r={},n={};function o(l,u,d){var c=0,m=l.children;if(m){for(var f=m.length,p=0;p<f;p++)c+=o(m[p],u,d);d.branches&&c++}else d.leaves&&c++;return l.value=l.data.data.value=c,u._values||(u._values=[]),u._values[l.data.data.i]=c,c}D.calc=function(l,u){var d,c,m,f,p,v,y=l._fullLayout,x=u.ids,_=a.isArrayOrTypedArray(x),h=u.labels,S=u.parents,w=u.values,E=a.isArrayOrTypedArray(w),C=[],P={},O={},R=function(ie){return ie||typeof ie=="number"},U=function(ie){return!E||k(w[ie])&&w[ie]>=0};_?(d=Math.min(x.length,S.length),c=function(ie){return R(x[ie])&&U(ie)},m=function(ie){return String(x[ie])}):(d=Math.min(h.length,S.length),c=function(ie){return R(h[ie])&&U(ie)},m=function(ie){return String(h[ie])}),E&&(d=Math.min(d,w.length));for(var z=0;z<d;z++)if(c(z)){var N=m(z),W=R(S[z])?String(S[z]):"",F={i:z,id:N,pid:W,label:R(h[z])?String(h[z]):""};E&&(F.v=+w[z]),C.push(F),p=N,P[f=W]?P[f].push(p):P[f]=[p],O[p]=1}if(P[""]){if(P[""].length>1){for(var V=a.randstr(),j=0;j<C.length;j++)C[j].pid===""&&(C[j].pid=V);C.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var te,J=[];for(te in P)O[te]||J.push(te);if(J.length!==1)return a.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",J.join(", ")].join(" "));te=J[0],C.unshift({hasImpliedRoot:!0,id:te,pid:"",label:te})}try{v=M.stratify().id(function(ie){return ie.id}).parentId(function(ie){return ie.pid})(C)}catch(ie){return a.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",ie.message].join(" "))}var K=M.hierarchy(v),Z=!1;if(E)switch(u.branchvalues){case"remainder":K.sum(function(ie){return ie.data.v});break;case"total":K.each(function(ie){var le=ie.data.data,pe=le.v;if(ie.children){var de=ie.children.reduce(function(ve,be){return ve+be.data.data.v},0);if((le.hasImpliedRoot||le.hasMultipleRoots)&&(pe=de),pe<de*t)return Z=!0,a.warn(["Total value for node",ie.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,pe,`
children sum =`,de].join(" "))}ie.value=pe})}else o(K,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!Z){var X,Q;u.sort&&K.sort(function(ie,le){return le.value-ie.value});var re=u.marker.colors||[],ae=!!re.length;return u._hasColorscale?(ae||(re=E?u.values:u._values),s(l,u,{vals:re,containerStr:"marker",cLetter:"c"}),Q=T(u.marker)):X=b(y["_"+u.type+"colormap"]),K.each(function(ie){var le=ie.data.data;le.color=u._hasColorscale?Q(re[le.i]):X(re[le.i],le.id)}),C[0].hierarchy=K,C}},D._runCrossTraceCalc=function(l,u){var d=u._fullLayout,c=u.calcdata,m=d[l+"colorway"],f=d["_"+l+"colormap"];d["extend"+l+"colors"]&&(m=g(m,l==="icicle"?n:l==="treemap"?r:i));var p,v=0;function y(h){var S=h.data.data,w=S.id;S.color===!1&&(f[w]?S.color=f[w]:h.parent?h.parent.parent?S.color=h.parent.data.data.color:(f[w]=S.color=m[v%m.length],v++):S.color=p)}for(var x=0;x<c.length;x++){var _=c[x][0];_.trace.type===l&&_.hierarchy&&(p=_.trace.root.color,_.hierarchy.each(y))}},D.crossTraceCalc=function(l){return D._runCrossTraceCalc("sunburst",l)}},27328:function(ee){ee.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(ee,D,e){var M=e(3400),k=e(424),a=e(86968).Q,T=e(31508).handleText,b=e(74174).handleMarkerDefaults,g=e(8932),s=g.hasColorscale,t=g.handleDefaults;ee.exports=function(i,r,n,o){function l(p,v){return M.coerce(i,r,k,p,v)}var u=l("labels"),d=l("parents");if(u&&u.length&&d&&d.length){var c=l("values");c&&c.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),b(i,r,o,l);var m=r._hasColorscale=s(i,"marker","colors")||(i.marker||{}).coloraxis;m&&t(i,r,o,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",m?1:.7);var f=l("text");l("texttemplate"),r.texttemplate||l("textinfo",M.isArrayOrTypedArray(f)?"text+label":"label"),l("hovertext"),l("hovertemplate"),T(i,r,o,l,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),a(r,o,l),r._length=null}else r.visible=!1}},60404:function(ee,D,e){var M=e(43616),k=e(76308);ee.exports=function(a,T,b,g,s){var t=T.data.data,i=t.i,r=s||t.color;if(i>=0){T.i=t.i;var n=b.marker;n.pattern&&n.colors&&n.pattern.shape||(n.color=r,T.color=r),M.pointStyle(a,b,g,T)}else k.fill(a,r)}},45716:function(ee,D,e){var M=e(33428),k=e(24040),a=e(10624).appendArrayPointValue,T=e(93024),b=e(3400),g=e(95924),s=e(78176),t=e(69656).formatPieValue;function i(r,n,o){for(var l=r.data.data,u={curveNumber:n.index,pointNumber:l.i,data:n._input,fullData:n},d=0;d<o.length;d++){var c=o[d];c in r&&(u[c]=r[c])}return"parentString"in r&&!s.isHierarchyRoot(r)&&(u.parent=r.parentString),a(u,n,l.i),u}ee.exports=function(r,n,o,l,u){var d=l[0],c=d.trace,m=d.hierarchy,f=c.type==="sunburst",p=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),r.on("mouseover",function(v){var y=o._fullLayout;if(!o._dragging&&y.hovermode!==!1){var x,_=o._fullData[c.index],h=v.data.data,S=h.i,w=s.isHierarchyRoot(v),E=s.getParent(m,v),C=s.getValue(v),P=function(re){return b.castOption(_,S,re)},O=P("hovertemplate"),R=T.castHoverinfo(_,y,S),U=y.separators;if(O||R&&R!=="none"&&R!=="skip"){var z,N;f&&(z=d.cx+v.pxmid[0]*(1-v.rInscribed),N=d.cy+v.pxmid[1]*(1-v.rInscribed)),p&&(z=v._hoverX,N=v._hoverY);var W,F={},V=[],j=[],te=function(re){return V.indexOf(re)!==-1};R&&(V=R==="all"?_._module.attributes.hoverinfo.flags:R.split("+")),F.label=h.label,te("label")&&F.label&&j.push(F.label),h.hasOwnProperty("v")&&(F.value=h.v,F.valueLabel=t(F.value,U),te("value")&&j.push(F.valueLabel)),F.currentPath=v.currentPath=s.getPath(v.data),te("current path")&&!w&&j.push(F.currentPath);var J=[],K=function(){J.indexOf(W)===-1&&(j.push(W),J.push(W))};F.percentParent=v.percentParent=C/s.getValue(E),F.parent=v.parentString=s.getPtLabel(E),te("percent parent")&&(W=s.formatPercent(F.percentParent,U)+" of "+F.parent,K()),F.percentEntry=v.percentEntry=C/s.getValue(n),F.entry=v.entry=s.getPtLabel(n),!te("percent entry")||w||v.onPathbar||(W=s.formatPercent(F.percentEntry,U)+" of "+F.entry,K()),F.percentRoot=v.percentRoot=C/s.getValue(m),F.root=v.root=s.getPtLabel(m),te("percent root")&&!w&&(W=s.formatPercent(F.percentRoot,U)+" of "+F.root,K()),F.text=P("hovertext")||P("text"),te("text")&&(W=F.text,b.isValidTextValue(W)&&j.push(W)),x=[i(v,_,u.eventDataKeys)];var Z={trace:_,y:N,_x0:v._x0,_x1:v._x1,_y0:v._y0,_y1:v._y1,text:j.join("<br>"),name:O||te("name")?_.name:void 0,color:P("hoverlabel.bgcolor")||h.color,borderColor:P("hoverlabel.bordercolor"),fontFamily:P("hoverlabel.font.family"),fontSize:P("hoverlabel.font.size"),fontColor:P("hoverlabel.font.color"),nameLength:P("hoverlabel.namelength"),textAlign:P("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:F,eventData:x};f&&(Z.x0=z-v.rInscribed*v.rpx1,Z.x1=z+v.rInscribed*v.rpx1,Z.idealAlign=v.pxmid[0]<0?"left":"right"),p&&(Z.x=z,Z.idealAlign=z<0?"left":"right");var X=[];T.loneHover(Z,{container:y._hoverlayer.node(),outerContainer:y._paper.node(),gd:o,inOut_bbox:X}),x[0].bbox=X[0],c._hasHoverLabel=!0}if(p){var Q=r.select("path.surface");u.styleOne(Q,v,_,o,{hovered:!0})}c._hasHoverEvent=!0,o.emit("plotly_hover",{points:x||[i(v,_,u.eventDataKeys)],event:M.event})}}),r.on("mouseout",function(v){var y=o._fullLayout,x=o._fullData[c.index],_=M.select(this).datum();if(c._hasHoverEvent&&(v.originalEvent=M.event,o.emit("plotly_unhover",{points:[i(_,x,u.eventDataKeys)],event:M.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(T.loneUnhover(y._hoverlayer.node()),c._hasHoverLabel=!1),p){var h=r.select("path.surface");u.styleOne(h,_,x,o,{hovered:!1})}}),r.on("click",function(v){var y=o._fullLayout,x=o._fullData[c.index],_=f&&(s.isHierarchyRoot(v)||s.isLeaf(v)),h=s.getPtId(v),S=s.isEntry(v)?s.findEntryWithChild(m,h):s.findEntryWithLevel(m,h),w=s.getPtId(S),E={points:[i(v,x,u.eventDataKeys)],event:M.event};_||(E.nextLevel=w);var C=g.triggerHandler(o,"plotly_"+c.type+"click",E);if(C!==!1&&y.hovermode&&(o._hoverdata=[i(v,x,u.eventDataKeys)],T.click(o,M.event)),!_&&C!==!1&&!o._dragging&&!o._transitioning){k.call("_storeDirectGUIEdit",x,y._tracePreGUI[x.uid],{level:x.level});var P={data:[{level:w}],traces:[c.index]},O={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};T.loneUnhover(y._hoverlayer.node()),k.call("animate",o,P,O)}})}},78176:function(ee,D,e){var M=e(3400),k=e(76308),a=e(93972),T=e(69656);function b(g){return g.data.data.pid}D.findEntryWithLevel=function(g,s){var t;return s&&g.eachAfter(function(i){if(D.getPtId(i)===s)return t=i.copy()}),t||g},D.findEntryWithChild=function(g,s){var t;return g.eachAfter(function(i){for(var r=i.children||[],n=0;n<r.length;n++){var o=r[n];if(D.getPtId(o)===s)return t=i.copy()}}),t||g},D.isEntry=function(g){return!g.parent},D.isLeaf=function(g){return!g.children},D.getPtId=function(g){return g.data.data.id},D.getPtLabel=function(g){return g.data.data.label},D.getValue=function(g){return g.value},D.isHierarchyRoot=function(g){return b(g)===""},D.setSliceCursor=function(g,s,t){var i=t.isTransitioning;if(!i){var r=g.datum();i=t.hideOnRoot&&D.isHierarchyRoot(r)||t.hideOnLeaves&&D.isLeaf(r)}a(g,i?null:"pointer")},D.getInsideTextFontKey=function(g,s,t,i,r){var n=(r||{}).onPathbar?"pathbar.textfont":"insidetextfont",o=t.data.data.i;return M.castOption(s,o,n+"."+g)||M.castOption(s,o,"textfont."+g)||i.size},D.getOutsideTextFontKey=function(g,s,t,i){var r=t.data.data.i;return M.castOption(s,r,"outsidetextfont."+g)||M.castOption(s,r,"textfont."+g)||i.size},D.isOutsideText=function(g,s){return!g._hasColorscale&&D.isHierarchyRoot(s)},D.determineTextFont=function(g,s,t,i){return D.isOutsideText(g,s)?function(r,n,o){return{color:D.getOutsideTextFontKey("color",r,n,o),family:D.getOutsideTextFontKey("family",r,n,o),size:D.getOutsideTextFontKey("size",r,n,o)}}(g,s,t):function(r,n,o,l){var u=(l||{}).onPathbar,d=n.data.data,c=d.i,m=M.castOption(r,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!m&&r._input.textfont&&(m=M.castOption(r._input,c,"textfont.color")),{color:m||k.contrast(d.color),family:D.getInsideTextFontKey("family",r,n,o,l),size:D.getInsideTextFontKey("size",r,n,o,l)}}(g,s,t,i)},D.hasTransition=function(g){return!!(g&&g.duration>0)},D.getMaxDepth=function(g){return g.maxdepth>=0?g.maxdepth:1/0},D.isHeader=function(g,s){return!(D.isLeaf(g)||g.depth===s._maxDepth-1)},D.getParent=function(g,s){return D.findEntryWithLevel(g,b(s))},D.listPath=function(g,s){var t=g.parent;if(!t)return[];var i=s?[t.data[s]]:[t];return D.listPath(t,s).concat(i)},D.getPath=function(g){return D.listPath(g,"label").join("/")+"/"},D.formatValue=T.formatPieValue,D.formatPercent=function(g,s){var t=M.formatPercent(g,0);return t==="0%"&&(t=T.formatPiePercent(g,s)),t}},5621:function(ee,D,e){ee.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(ee){ee.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(ee,D,e){var M=e(3400),k=e(84920);ee.exports=function(a,T){function b(g,s){return M.coerce(a,T,k,g,s)}b("sunburstcolorway",T.colorway),b("extendsunburstcolors")}},96488:function(ee,D,e){var M=e(33428),k=e(74148),a=e(67756).qy,T=e(43616),b=e(3400),g=e(72736),s=e(82744),t=s.recordMinTextSize,i=s.clearMinTextSize,r=e(37820),n=e(69656).getRotationAngle,o=r.computeTransform,l=r.transformInsideText,u=e(85676).styleOne,d=e(60100).resizeText,c=e(45716),m=e(27328),f=e(78176);function p(y,x,_,h){var S=y._context.staticPlot,w=y._fullLayout,E=!w.uniformtext.mode&&f.hasTransition(h),C=M.select(_).selectAll("g.slice"),P=x[0],O=P.trace,R=P.hierarchy,U=f.findEntryWithLevel(R,O.level),z=f.getMaxDepth(O),N=w._size,W=O.domain,F=N.w*(W.x[1]-W.x[0]),V=N.h*(W.y[1]-W.y[0]),j=.5*Math.min(F,V),te=P.cx=N.l+N.w*(W.x[1]+W.x[0])/2,J=P.cy=N.t+N.h*(1-W.y[0])-V/2;if(!U)return C.remove();var K=null,Z={};E&&C.each(function(oe){Z[f.getPtId(oe)]={rpx0:oe.rpx0,rpx1:oe.rpx1,x0:oe.x0,x1:oe.x1,transform:oe.transform},!K&&f.isEntry(oe)&&(K=oe)});var X=function(oe){return k.partition().size([2*Math.PI,oe.height+1])(oe)}(U).descendants(),Q=U.height+1,re=0,ae=z;P.hasMultipleRoots&&f.isHierarchyRoot(U)&&(X=X.slice(1),Q-=1,re=1,ae+=1),X=X.filter(function(oe){return oe.y1<=ae});var ie=n(O.rotation);ie&&X.forEach(function(oe){oe.x0+=ie,oe.x1+=ie});var le=Math.min(Q,z),pe=function(oe){return(oe-re)/le*j},de=function(oe,he){return[oe*Math.cos(he),-oe*Math.sin(he)]},ve=function(oe){return b.pathAnnulus(oe.rpx0,oe.rpx1,oe.x0,oe.x1,te,J)},be=function(oe){return te+v(oe)[0]*(oe.transform.rCenter||0)+(oe.transform.x||0)},me=function(oe){return J+v(oe)[1]*(oe.transform.rCenter||0)+(oe.transform.y||0)};(C=C.data(X,f.getPtId)).enter().append("g").classed("slice",!0),E?C.exit().transition().each(function(){var oe=M.select(this);oe.select("path.surface").transition().attrTween("d",function(he){var Ee=function(Te){var Me,Se=f.getPtId(Te),ze=Z[Se],fe=Z[f.getPtId(U)];if(fe){var xe=(Te.x1>fe.x1?2*Math.PI:0)+ie;Me=Te.rpx1<fe.rpx1?{x0:Te.x0,x1:Te.x1,rpx0:0,rpx1:0}:{x0:xe,x1:xe,rpx0:Te.rpx0,rpx1:Te.rpx1}}else{var _e,Oe=f.getPtId(Te.parent);C.each(function(Xe){if(f.getPtId(Xe)===Oe)return _e=Xe});var De,Pe=_e.children;Pe.forEach(function(Xe,it){if(f.getPtId(Xe)===Se)return De=it});var Ue=Pe.length,Ve=a(_e.x0,_e.x1);Me={rpx0:j,rpx1:j,x0:Ve(De/Ue),x1:Ve((De+1)/Ue)}}return a(ze,Me)}(he);return function(Te){return ve(Ee(Te))}}),oe.select("g.slicetext").attr("opacity",0)}).remove():C.exit().remove(),C.order();var ge=null;if(E&&K){var ke=f.getPtId(K);C.each(function(oe){ge===null&&f.getPtId(oe)===ke&&(ge=oe.x1)})}var we=C;function ue(oe){var he=oe.parent,Ee=Z[f.getPtId(he)],Te={};if(Ee){var Me=he.children,Se=Me.indexOf(oe),ze=Me.length,fe=a(Ee.x0,Ee.x1);Te.x0=fe(Se/ze),Te.x1=fe(Se/ze)}else Te.x0=Te.x1=0;return Te}E&&(we=we.transition().each("end",function(){var oe=M.select(this);f.setSliceCursor(oe,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),we.each(function(oe){var he=M.select(this),Ee=b.ensureSingle(he,"path","surface",function(xe){xe.style("pointer-events",S?"none":"all")});oe.rpx0=pe(oe.y0),oe.rpx1=pe(oe.y1),oe.xmid=(oe.x0+oe.x1)/2,oe.pxmid=de(oe.rpx1,oe.xmid),oe.midangle=-(oe.xmid-Math.PI/2),oe.startangle=-(oe.x0-Math.PI/2),oe.stopangle=-(oe.x1-Math.PI/2),oe.halfangle=.5*Math.min(b.angleDelta(oe.x0,oe.x1)||Math.PI,Math.PI),oe.ring=1-oe.rpx0/oe.rpx1,oe.rInscribed=function(xe){return xe.rpx0===0&&b.isFullCircle([xe.x0,xe.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(xe.halfangle)),xe.ring/2))}(oe),E?Ee.transition().attrTween("d",function(xe){var _e=function(Oe){var De,Pe=Z[f.getPtId(Oe)],Ue={x0:Oe.x0,x1:Oe.x1,rpx0:Oe.rpx0,rpx1:Oe.rpx1};if(Pe)De=Pe;else if(K)if(Oe.parent)if(ge){var Ve=(Oe.x1>ge?2*Math.PI:0)+ie;De={x0:Ve,x1:Ve}}else De={rpx0:j,rpx1:j},b.extendFlat(De,ue(Oe));else De={rpx0:0,rpx1:0};else De={x0:ie,x1:ie};return a(De,Ue)}(xe);return function(Oe){return ve(_e(Oe))}}):Ee.attr("d",ve),he.call(c,U,y,x,{eventDataKeys:m.eventDataKeys,transitionTime:m.CLICK_TRANSITION_TIME,transitionEasing:m.CLICK_TRANSITION_EASING}).call(f.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),Ee.call(u,oe,O,y);var Te=b.ensureSingle(he,"g","slicetext"),Me=b.ensureSingle(Te,"text","",function(xe){xe.attr("data-notex",1)}),Se=b.ensureUniformFontSize(y,f.determineTextFont(O,oe,w.font));Me.text(D.formatSliceLabel(oe,U,O,x,w)).classed("slicetext",!0).attr("text-anchor","middle").call(T.font,Se).call(g.convertToTspans,y);var ze=T.bBox(Me.node());oe.transform=l(ze,oe,P),oe.transform.targetX=be(oe),oe.transform.targetY=me(oe);var fe=function(xe,_e){var Oe=xe.transform;return o(Oe,_e),Oe.fontSize=Se.size,t(O.type,Oe,w),b.getTextTransform(Oe)};E?Me.transition().attrTween("transform",function(xe){var _e=function(Oe){var De,Pe=Z[f.getPtId(Oe)],Ue=Oe.transform;if(Pe)De=Pe;else if(De={rpx1:Oe.rpx1,transform:{textPosAngle:Ue.textPosAngle,scale:0,rotate:Ue.rotate,rCenter:Ue.rCenter,x:Ue.x,y:Ue.y}},K)if(Oe.parent)if(ge){var Ve=Oe.x1>ge?2*Math.PI:0;De.x0=De.x1=Ve}else b.extendFlat(De,ue(Oe));else De.x0=De.x1=ie;else De.x0=De.x1=ie;var Xe=a(De.transform.textPosAngle,Oe.transform.textPosAngle),it=a(De.rpx1,Oe.rpx1),tt=a(De.x0,Oe.x0),pt=a(De.x1,Oe.x1),mt=a(De.transform.scale,Ue.scale),gt=a(De.transform.rotate,Ue.rotate),et=Ue.rCenter===0?3:De.transform.rCenter===0?1/3:1,$e=a(De.transform.rCenter,Ue.rCenter);return function(_t){var Pt=it(_t),Ot=tt(_t),Lt=pt(_t),He=function(Be){return $e(Math.pow(Be,et))}(_t),We={pxmid:de(Pt,(Ot+Lt)/2),rpx1:Pt,transform:{textPosAngle:Xe(_t),rCenter:He,x:Ue.x,y:Ue.y}};return t(O.type,Ue,w),{transform:{targetX:be(We),targetY:me(We),scale:mt(_t),rotate:gt(_t),rCenter:He}}}}(xe);return function(Oe){return fe(_e(Oe),ze)}}):Me.attr("transform",fe(oe,ze))})}function v(y){return x=y.rpx1,_=y.transform.textPosAngle,[x*Math.sin(_),-x*Math.cos(_)];var x,_}D.plot=function(y,x,_,h){var S,w,E=y._fullLayout,C=E._sunburstlayer,P=!_,O=!E.uniformtext.mode&&f.hasTransition(_);i("sunburst",E),(S=C.selectAll("g.trace.sunburst").data(x,function(R){return R[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),S.order(),O?(h&&(w=h()),M.transition().duration(_.duration).ease(_.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()}).each(function(){C.selectAll("g.trace").each(function(R){p(y,R,this,_)})})):(S.each(function(R){p(y,R,this,_)}),E.uniformtext.mode&&d(y,E._sunburstlayer.selectAll(".trace"),"sunburst")),P&&S.exit().remove()},D.formatSliceLabel=function(y,x,_,h,S){var w=_.texttemplate,E=_.textinfo;if(!(w||E&&E!=="none"))return"";var C=S.separators,P=h[0],O=y.data.data,R=P.hierarchy,U=f.isHierarchyRoot(y),z=f.getParent(R,y),N=f.getValue(y);if(!w){var W,F=E.split("+"),V=function(ae){return F.indexOf(ae)!==-1},j=[];if(V("label")&&O.label&&j.push(O.label),O.hasOwnProperty("v")&&V("value")&&j.push(f.formatValue(O.v,C)),!U){V("current path")&&j.push(f.getPath(y.data));var te=0;V("percent parent")&&te++,V("percent entry")&&te++,V("percent root")&&te++;var J=te>1;if(te){var K,Z=function(ae){W=f.formatPercent(K,C),J&&(W+=" of "+ae),j.push(W)};V("percent parent")&&!U&&(K=N/f.getValue(z),Z("parent")),V("percent entry")&&(K=N/f.getValue(x),Z("entry")),V("percent root")&&(K=N/f.getValue(R),Z("root"))}}return V("text")&&(W=b.castOption(_,O.i,"text"),b.isValidTextValue(W)&&j.push(W)),j.join("<br>")}var X=b.castOption(_,O.i,"texttemplate");if(!X)return"";var Q={};O.label&&(Q.label=O.label),O.hasOwnProperty("v")&&(Q.value=O.v,Q.valueLabel=f.formatValue(O.v,C)),Q.currentPath=f.getPath(y.data),U||(Q.percentParent=N/f.getValue(z),Q.percentParentLabel=f.formatPercent(Q.percentParent,C),Q.parent=f.getPtLabel(z)),Q.percentEntry=N/f.getValue(x),Q.percentEntryLabel=f.formatPercent(Q.percentEntry,C),Q.entry=f.getPtLabel(x),Q.percentRoot=N/f.getValue(R),Q.percentRootLabel=f.formatPercent(Q.percentRoot,C),Q.root=f.getPtLabel(R),O.hasOwnProperty("color")&&(Q.color=O.color);var re=b.castOption(_,O.i,"text");return(b.isValidTextValue(re)||re==="")&&(Q.text=re),Q.customdata=b.castOption(_,O.i,"customdata"),b.texttemplateString(X,Q,S._d3locale,Q,_._meta||{})}},85676:function(ee,D,e){var M=e(33428),k=e(76308),a=e(3400),T=e(82744).resizeText,b=e(60404);function g(s,t,i,r){var n=t.data.data,o=!t.children,l=n.i,u=a.castOption(i,l,"marker.line.color")||k.defaultLine,d=a.castOption(i,l,"marker.line.width")||0;s.call(b,t,i,r).style("stroke-width",d).call(k.stroke,u).style("opacity",o?i.leaf.opacity:null)}ee.exports={style:function(s){var t=s._fullLayout._sunburstlayer.selectAll(".trace");T(s,t,"sunburst"),t.each(function(i){var r=M.select(this),n=i[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(o){M.select(this).call(g,o,n,s)})})},styleOne:g}},16716:function(ee,D,e){var M=e(76308),k=e(49084),a=e(29736).axisHoverFormat,T=e(21776).Ks,b=e(45464),g=e(92880).extendFlat,s=e(67824).overrideAll;function t(r){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:M.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:M.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=ee.exports=s(g({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:T(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},k("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:g({},k.zauto,{}),zmin:g({},k.zmin,{}),zmax:g({},k.zmax,{})},hoverinfo:g({},b.hoverinfo),showlegend:g({},b.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(ee,D,e){var M=e(47128);ee.exports=function(k,a){a.surfacecolor?M(k,a,{vals:a.surfacecolor,containerStr:"",cLetter:"c"}):M(k,a,{vals:a.z,containerStr:"",cLetter:"c"})}},79164:function(ee,D,e){var M=e(67792).gl_surface3d,k=e(67792).ndarray,a=e(67792).ndarray_linear_interpolate.d2,T=e(70448),b=e(11240),g=e(3400).isArrayOrTypedArray,s=e(33040).parseColorScale,t=e(43080),i=e(8932).extractOpts;function r(_,h,S){this.scene=_,this.uid=S,this.surface=h,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=r.prototype;n.getXat=function(_,h,S,w){var E=g(this.data.x)?g(this.data.x[0])?this.data.x[h][_]:this.data.x[_]:_;return S===void 0?E:w.d2l(E,0,S)},n.getYat=function(_,h,S,w){var E=g(this.data.y)?g(this.data.y[0])?this.data.y[h][_]:this.data.y[h]:h;return S===void 0?E:w.d2l(E,0,S)},n.getZat=function(_,h,S,w){var E=this.data.z[h][_];return E===null&&this.data.connectgaps&&this.data._interpolatedZ&&(E=this.data._interpolatedZ[h][_]),S===void 0?E:w.d2l(E,0,S)},n.handlePick=function(_){if(_.object===this.surface){var h=(_.data.index[0]-1)/this.dataScaleX-1,S=(_.data.index[1]-1)/this.dataScaleY-1,w=Math.max(Math.min(Math.round(h),this.data.z[0].length-1),0),E=Math.max(Math.min(Math.round(S),this.data._ylength-1),0);_.index=[w,E],_.traceCoordinate=[this.getXat(w,E),this.getYat(w,E),this.getZat(w,E)],_.dataCoordinate=[this.getXat(w,E,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(w,E,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(w,E,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var C=0;C<3;C++)_.dataCoordinate[C]!=null&&(_.dataCoordinate[C]*=this.scene.dataScale[C]);var P=this.data.hovertext||this.data.text;return g(P)&&P[E]&&P[E][w]!==void 0?_.textLabel=P[E][w]:_.textLabel=P||"",_.data.dataCoordinate=_.dataCoordinate.slice(),this.surface.highlight(_.data),this.scene.glplot.spikes.position=_.dataCoordinate,!0}};var o=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(_,h){if(_<h)return 0;for(var S=0;Math.floor(_%h)===0;)_/=h,S++;return S}function u(_){for(var h=[],S=0;S<o.length;S++){var w=o[S];h.push(l(_,w))}return h}function d(_){for(var h=u(_),S=_,w=0;w<o.length;w++)if(h[w]>0){S=o[w];break}return S}function c(_,h){if(!(_<1||h<1)){for(var S=u(_),w=u(h),E=1,C=0;C<o.length;C++)E*=Math.pow(o[C],Math.max(S[C],w[C]));return E}}n.calcXnums=function(_){var h,S=[];for(h=1;h<_;h++){var w=this.getXat(h-1,0),E=this.getXat(h,0);S[h-1]=E!==w&&w!=null&&E!=null?Math.abs(E-w):0}var C=0;for(h=1;h<_;h++)C+=S[h-1];for(h=1;h<_;h++)S[h-1]===0?S[h-1]=1:S[h-1]=Math.round(C/S[h-1]);return S},n.calcYnums=function(_){var h,S=[];for(h=1;h<_;h++){var w=this.getYat(0,h-1),E=this.getYat(0,h);S[h-1]=E!==w&&w!=null&&E!=null?Math.abs(E-w):0}var C=0;for(h=1;h<_;h++)C+=S[h-1];for(h=1;h<_;h++)S[h-1]===0?S[h-1]=1:S[h-1]=Math.round(C/S[h-1]);return S};var m=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],f=m[9],p=m[13];function v(_,h,S){var w=S[8]+S[2]*h[0]+S[5]*h[1];return _[0]=(S[6]+S[0]*h[0]+S[3]*h[1])/w,_[1]=(S[7]+S[1]*h[0]+S[4]*h[1])/w,_}function y(_,h,S){return function(w,E,C,P){for(var O=[0,0],R=w.shape[0],U=w.shape[1],z=0;z<R;z++)for(var N=0;N<U;N++)C(O,[z,N],P),w.set(z,N,a(E,O[0],O[1]))}(_,h,v,S),_}function x(_,h){for(var S=!1,w=0;w<_.length;w++)if(h===_[w]){S=!0;break}S===!1&&_.push(h)}n.estimateScale=function(_,h){for(var S=1+function(E){if(E.length!==0){for(var C=1,P=0;P<E.length;P++)C=c(C,E[P]);return C}}(h===0?this.calcXnums(_):this.calcYnums(_));S<f;)S*=2;for(;S>p;)S--,S/=d(S),++S<f&&(S=p);var w=Math.round(S/_);return w>1?w:1},n.refineCoords=function(_){for(var h=this.dataScaleX,S=this.dataScaleY,w=_[0].shape[0],E=_[0].shape[1],C=0|Math.floor(_[0].shape[0]*h+1),P=0|Math.floor(_[0].shape[1]*S+1),O=1+w+1,R=1+E+1,U=k(new Float32Array(O*R),[O,R]),z=[1/h,0,0,0,1/S,0,0,0,1],N=0;N<_.length;++N){this.surface.padField(U,_[N]);var W=k(new Float32Array(C*P),[C,P]);y(W,U,z),_[N]=W}},n.setContourLevels=function(){var _,h,S,w=[[],[],[]],E=[!1,!1,!1],C=!1;for(_=0;_<3;++_)if(this.showContour[_]&&(C=!0,this.contourSize[_]>0&&this.contourStart[_]!==null&&this.contourEnd[_]!==null&&this.contourEnd[_]>this.contourStart[_]))for(E[_]=!0,h=this.contourStart[_];h<this.contourEnd[_];h+=this.contourSize[_])S=h*this.scene.dataScale[_],x(w[_],S);if(C){var P=[[],[],[]];for(_=0;_<3;++_)this.showContour[_]&&(P[_]=E[_]?w[_]:this.scene.contourLevels[_]);this.surface.update({levels:P})}},n.update=function(_){var h,S,w,E,C=this.scene,P=C.fullSceneLayout,O=this.surface,R=s(_),U=C.dataScale,z=_.z[0].length,N=_._ylength,W=C.contourLevels;this.data=_;var F=[];for(h=0;h<3;h++)for(F[h]=[],S=0;S<z;S++)F[h][S]=[];for(S=0;S<z;S++)for(w=0;w<N;w++)F[0][S][w]=this.getXat(S,w,_.xcalendar,P.xaxis),F[1][S][w]=this.getYat(S,w,_.ycalendar,P.yaxis),F[2][S][w]=this.getZat(S,w,_.zcalendar,P.zaxis);if(_.connectgaps)for(_._emptypoints=b(F[2]),T(F[2],_._emptypoints),_._interpolatedZ=[],S=0;S<z;S++)for(_._interpolatedZ[S]=[],w=0;w<N;w++)_._interpolatedZ[S][w]=F[2][S][w];for(h=0;h<3;h++)for(S=0;S<z;S++)for(w=0;w<N;w++)(E=F[h][S][w])==null?F[h][S][w]=NaN:E=F[h][S][w]*=U[h];for(h=0;h<3;h++)for(S=0;S<z;S++)for(w=0;w<N;w++)(E=F[h][S][w])!=null&&(this.minValues[h]>E&&(this.minValues[h]=E),this.maxValues[h]<E&&(this.maxValues[h]=E));for(h=0;h<3;h++)this.objectOffset[h]=.5*(this.minValues[h]+this.maxValues[h]);for(h=0;h<3;h++)for(S=0;S<z;S++)for(w=0;w<N;w++)(E=F[h][S][w])!=null&&(F[h][S][w]-=this.objectOffset[h]);var V=[k(new Float32Array(z*N),[z,N]),k(new Float32Array(z*N),[z,N]),k(new Float32Array(z*N),[z,N])];for(h=0;h<3;h++)for(S=0;S<z;S++)for(w=0;w<N;w++)V[h].set(S,w,F[h][S][w]);F=[];var j={colormap:R,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!_.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:_.opacityscale,opacity:_.opacity},te=i(_);if(j.intensityBounds=[te.min,te.max],_.surfacecolor){var J=k(new Float32Array(z*N),[z,N]);for(S=0;S<z;S++)for(w=0;w<N;w++)J.set(S,w,_.surfacecolor[w][S]);V.push(J)}else j.intensityBounds[0]*=U[2],j.intensityBounds[1]*=U[2];(p<V[0].shape[0]||p<V[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(V[0].shape[0],0),this.dataScaleY=this.estimateScale(V[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(V)),_.surfacecolor&&(j.intensity=V.pop());var K=[!0,!0,!0],Z=["x","y","z"];for(h=0;h<3;++h){var X=_.contours[Z[h]];K[h]=X.highlight,j.showContour[h]=X.show||X.highlight,j.showContour[h]&&(j.contourProject[h]=[X.project.x,X.project.y,X.project.z],X.show?(this.showContour[h]=!0,j.levels[h]=W[h],O.highlightColor[h]=j.contourColor[h]=t(X.color),X.usecolormap?O.highlightTint[h]=j.contourTint[h]=0:O.highlightTint[h]=j.contourTint[h]=1,j.contourWidth[h]=X.width,this.contourStart[h]=X.start,this.contourEnd[h]=X.end,this.contourSize[h]=X.size):(this.showContour[h]=!1,this.contourStart[h]=null,this.contourEnd[h]=null,this.contourSize[h]=0),X.highlight&&(j.dynamicColor[h]=t(X.highlightcolor),j.dynamicWidth[h]=X.highlightwidth))}(function(Q){var re=Q[0].rgb,ae=Q[Q.length-1].rgb;return re[0]===ae[0]&&re[1]===ae[1]&&re[2]===ae[2]&&re[3]===ae[3]})(R)&&(j.vertexColor=!0),j.objectOffset=this.objectOffset,j.coords=V,O.update(j),O.visible=_.visible,O.enableDynamic=K,O.enableHighlight=K,O.snapToData=!0,"lighting"in _&&(O.ambientLight=_.lighting.ambient,O.diffuseLight=_.lighting.diffuse,O.specularLight=_.lighting.specular,O.roughness=_.lighting.roughness,O.fresnel=_.lighting.fresnel),"lightposition"in _&&(O.lightPosition=[_.lightposition.x,_.lightposition.y,_.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},ee.exports=function(_,h){var S=_.glplot.gl,w=M({gl:S}),E=new r(_,w,h.uid);return w._trace=E,E.update(h),_.glplot.add(w),E}},60192:function(ee,D,e){var M=e(24040),k=e(3400),a=e(27260),T=e(16716);function b(s,t,i,r){var n=r("opacityscale");n==="max"?t.opacityscale=[[0,.1],[1,1]]:n==="min"?t.opacityscale=[[0,1],[1,.1]]:n==="extremes"?t.opacityscale=function(o,l){for(var u=[],d=0;d<32;d++){var c=d/31,m=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,m))])}return u}():function(o){var l=0;if(!Array.isArray(o)||o.length<2||!o[0]||!o[o.length-1]||+o[0][0]!=0||+o[o.length-1][0]!=1)return!1;for(var u=0;u<o.length;u++){var d=o[u];if(d.length!==2||+d[0]<l)return!1;l=+d[0]}return!0}(n)||(t.opacityscale=void 0)}function g(s,t,i){t in s&&!(i in s)&&(s[i]=s[t])}ee.exports={supplyDefaults:function(s,t,i,r){var n,o;function l(x,_){return k.coerce(s,t,T,x,_)}var u=l("x"),d=l("y"),c=l("z");if(!c||!c.length||u&&u.length<1||d&&d.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&k.isArrayOrTypedArray(u[0])?c.length:c[0].length,t._ylength=c.length,M.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y","z"],r),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(x){l(x)});var m=l("surfacecolor"),f=["x","y","z"];for(n=0;n<3;++n){var p="contours."+f[n],v=l(p+".show"),y=l(p+".highlight");if(v||y)for(o=0;o<3;++o)l(p+".project."+f[o]);v&&(l(p+".color"),l(p+".width"),l(p+".usecolormap")),y&&(l(p+".highlightcolor"),l(p+".highlightwidth")),l(p+".start"),l(p+".end"),l(p+".size")}m||(g(s,"zmin","cmin"),g(s,"zmax","cmax"),g(s,"zauto","cauto")),a(s,t,r,l,{prefix:"",cLetter:"c"}),b(0,t,0,l),t._length=null}},opacityscaleDefaults:b}},91304:function(ee,D,e){ee.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(ee,D,e){var M=e(13916),k=e(92880).extendFlat,a=e(67824).overrideAll,T=e(25376),b=e(86968).u,g=e(29736).descriptionOnlyNumbers;(ee.exports=a({domain:b({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:g("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:k({},M.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},T({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:g("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:k({},M.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},T({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},85852:function(ee,D,e){var M=e(84888)._M,k=e(24752),a="table";D.name=a,D.plot=function(T){var b=M(T.calcdata,a)[0];b.length&&k(T,b)},D.clean=function(T,b,g,s){var t=s._has&&s._has(a),i=b._has&&b._has(a);t&&!i&&s._paperdiv.selectAll(".table").remove()}},39312:function(ee,D,e){var M=e(71688).wrap;ee.exports=function(){return M({})}},23536:function(ee){ee.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(ee,D,e){var M=e(23536),k=e(92880).extendFlat,a=e(38248),T=e(38116).isTypedArray,b=e(38116).isArrayOrTypedArray;function g(l){if(b(l)){for(var u=0,d=0;d<l.length;d++)u=Math.max(u,g(l[d]));return u}return l}function s(l,u){return l+u}function t(l){var u,d=l.slice(),c=1/0,m=0;for(u=0;u<d.length;u++)T(d[u])?d[u]=Array.from(d[u]):b(d[u])||(d[u]=[d[u]]),c=Math.min(c,d[u].length),m=Math.max(m,d[u].length);if(c!==m)for(u=0;u<d.length;u++){var f=m-d[u].length;f&&(d[u]=d[u].concat(i(f)))}return d}function i(l){for(var u=new Array(l),d=0;d<l;d++)u[d]="";return u}function r(l){return l.calcdata.columns.reduce(function(u,d){return d.xIndex<l.xIndex?u+d.columnWidth:u},0)}function n(l,u){return Object.keys(l).map(function(d){return k({},l[d],{auxiliaryBlocks:u})})}function o(l,u){for(var d,c={},m=0,f=0,p={firstRowIndex:null,lastRowIndex:null,rows:[]},v=0,y=0,x=0;x<l.length;x++)d=l[x],p.rows.push({rowIndex:x,rowHeight:d}),((f+=d)>=u||x===l.length-1)&&(c[m]=p,p.key=y++,p.firstRowIndex=v,p.lastRowIndex=x,p={firstRowIndex:null,lastRowIndex:null,rows:[]},m+=f,v=x+1,f=0);return c}ee.exports=function(l,u){var d=t(u.cells.values),c=function(N){return N.slice(u.header.values.length,N.length)},m=t(u.header.values);m.length&&!m[0].length&&(m[0]=[""],m=t(m));var f=m.concat(c(d).map(function(){return i((m[0]||[""]).length)})),p=u.domain,v=Math.floor(l._fullLayout._size.w*(p.x[1]-p.x[0])),y=Math.floor(l._fullLayout._size.h*(p.y[1]-p.y[0])),x=u.header.values.length?f[0].map(function(){return u.header.height}):[M.emptyHeaderHeight],_=d.length?d[0].map(function(){return u.cells.height}):[],h=x.reduce(s,0),S=o(_,y-h+M.uplift),w=n(o(x,h),[]),E=n(S,w),C={},P=u._fullInput.columnorder;b(P)&&(P=Array.from(P)),P=P.concat(c(d.map(function(N,W){return W})));var O=f.map(function(N,W){var F=b(u.columnwidth)?u.columnwidth[Math.min(W,u.columnwidth.length-1)]:u.columnwidth;return a(F)?Number(F):1}),R=O.reduce(s,0);O=O.map(function(N){return N/R*v});var U=Math.max(g(u.header.line.width),g(u.cells.line.width)),z={key:u.uid+l._context.staticPlot,translateX:p.x[0]*l._fullLayout._size.w,translateY:l._fullLayout._size.h*(1-p.y[1]),size:l._fullLayout._size,width:v,maxLineWidth:U,height:y,columnOrder:P,groupHeight:y,rowBlocks:E,headerRowBlocks:w,scrollY:0,cells:k({},u.cells,{values:d}),headerCells:k({},u.header,{values:f}),gdColumns:f.map(function(N){return N[0]}),gdColumnsOriginalOrder:f.map(function(N){return N[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:f.map(function(N,W){var F=C[N];return C[N]=(F||0)+1,{key:N+"__"+C[N],label:N,specIndex:W,xIndex:P[W],xScale:r,x:void 0,calcdata:void 0,columnWidth:O[W]}})};return z.columns.forEach(function(N){N.calcdata=z,N.x=r(N)}),z}},53056:function(ee,D,e){var M=e(92880).extendFlat;D.splitToPanels=function(k){var a=[0,0],T=M({},k,{key:"header",type:"header",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!0,values:k.calcdata.headerCells.values[k.specIndex],rowBlocks:k.calcdata.headerRowBlocks,calcdata:M({},k.calcdata,{cells:k.calcdata.headerCells})});return[M({},k,{key:"cells1",type:"cells",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),M({},k,{key:"cells2",type:"cells",page:1,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),T]},D.splitToCells=function(k){var a=function(T){var b=T.rowBlocks[T.page],g=b?b.rows[0].rowIndex:0;return[g,b?g+b.rows.length:0]}(k);return(k.values||[]).slice(a[0],a[1]).map(function(T,b){return{keyWithinBlock:b+(typeof T=="string"&&T.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:a[0]+b,column:k,calcdata:k.calcdata,page:k.page,rowBlocks:k.rowBlocks,value:T}})}},53212:function(ee,D,e){var M=e(3400),k=e(60520),a=e(86968).Q;ee.exports=function(T,b,g,s){function t(i,r){return M.coerce(T,b,k,i,r)}a(b,s,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),M.coerceFont(t,"header.font",M.extendFlat({},s.font)),function(i,r){for(var n=i.columnorder||[],o=i.header.values.length,l=n.slice(0,o),u=l.slice().sort(function(m,f){return m-f}),d=l.map(function(m){return u.indexOf(m)}),c=d.length;c<o;c++)d.push(c);r("columnorder",d)}(b,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),M.coerceFont(t,"cells.font",M.extendFlat({},s.font)),b._length=null}},41724:function(ee,D,e){ee.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(ee,D,e){var M=e(23536),k=e(33428),a=e(3400),T=a.numberFormat,b=e(71688),g=e(43616),s=e(72736),t=e(3400).raiseToTop,i=e(3400).strTranslate,r=e(3400).cancelTransition,n=e(55992),o=e(53056),l=e(76308);function u(j){return Math.ceil(j.calcdata.maxLineWidth/2)}function d(j,te){return"clip"+j._fullLayout._uid+"_scrollAreaBottomClip_"+te.key}function c(j,te){return"clip"+j._fullLayout._uid+"_columnBoundaryClippath_"+te.calcdata.key+"_"+te.specIndex}function m(j){return[].concat.apply([],j.map(function(te){return te})).map(function(te){return te.__data__})}function f(j,te,J){var K=j.selectAll("."+M.cn.scrollbarKit).data(b.repeat,b.keyFun);K.enter().append("g").classed(M.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),K.each(function(ae){var ie=ae.scrollbarState;ie.totalHeight=function(le){var pe=le.rowBlocks;return N(pe,pe.length-1)+(pe.length?W(pe[pe.length-1],1/0):1)}(ae),ie.scrollableAreaHeight=ae.groupHeight-w(ae),ie.currentlyVisibleHeight=Math.min(ie.totalHeight,ie.scrollableAreaHeight),ie.ratio=ie.currentlyVisibleHeight/ie.totalHeight,ie.barLength=Math.max(ie.ratio*ie.currentlyVisibleHeight,M.goldenRatio*M.scrollbarWidth),ie.barWiggleRoom=ie.currentlyVisibleHeight-ie.barLength,ie.wiggleRoom=Math.max(0,ie.totalHeight-ie.scrollableAreaHeight),ie.topY=ie.barWiggleRoom===0?0:ae.scrollY/ie.wiggleRoom*ie.barWiggleRoom,ie.bottomY=ie.topY+ie.barLength,ie.dragMultiplier=ie.wiggleRoom/ie.barWiggleRoom}).attr("transform",function(ae){var ie=ae.width+M.scrollbarWidth/2+M.scrollbarOffset;return i(ie,w(ae))});var Z=K.selectAll("."+M.cn.scrollbar).data(b.repeat,b.keyFun);Z.enter().append("g").classed(M.cn.scrollbar,!0);var X=Z.selectAll("."+M.cn.scrollbarSlider).data(b.repeat,b.keyFun);X.enter().append("g").classed(M.cn.scrollbarSlider,!0),X.attr("transform",function(ae){return i(0,ae.scrollbarState.topY||0)});var Q=X.selectAll("."+M.cn.scrollbarGlyph).data(b.repeat,b.keyFun);Q.enter().append("line").classed(M.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",M.scrollbarWidth).attr("stroke-linecap","round").attr("y1",M.scrollbarWidth/2),Q.attr("y2",function(ae){return ae.scrollbarState.barLength-M.scrollbarWidth/2}).attr("stroke-opacity",function(ae){return ae.columnDragInProgress||!ae.scrollbarState.barWiggleRoom||J?0:.4}),Q.transition().delay(0).duration(0),Q.transition().delay(M.scrollbarHideDelay).duration(M.scrollbarHideDuration).attr("stroke-opacity",0);var re=Z.selectAll("."+M.cn.scrollbarCaptureZone).data(b.repeat,b.keyFun);re.enter().append("line").classed(M.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",M.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ae){var ie=k.event.y,le=this.getBoundingClientRect(),pe=ae.scrollbarState,de=ie-le.top,ve=k.scale.linear().domain([0,pe.scrollableAreaHeight]).range([0,pe.totalHeight]).clamp(!0);pe.topY<=de&&de<=pe.bottomY||C(te,j,null,ve(de-pe.barLength/2))(ae)}).call(k.behavior.drag().origin(function(ae){return k.event.stopPropagation(),ae.scrollbarState.scrollbarScrollInProgress=!0,ae}).on("drag",C(te,j)).on("dragend",function(){})),re.attr("y2",function(ae){return ae.scrollbarState.scrollableAreaHeight}),te._context.staticPlot&&(Q.remove(),re.remove())}function p(j,te,J,K){var Z=function(ie){var le=ie.selectAll("."+M.cn.columnCells).data(b.repeat,b.keyFun);return le.enter().append("g").classed(M.cn.columnCells,!0),le.exit().remove(),le}(J),X=function(ie){var le=ie.selectAll("."+M.cn.columnCell).data(o.splitToCells,function(pe){return pe.keyWithinBlock});return le.enter().append("g").classed(M.cn.columnCell,!0),le.exit().remove(),le}(Z);(function(ie){ie.each(function(le,pe){var de=le.calcdata.cells.font,ve=le.column.specIndex,be={size:x(de.size,ve,pe),color:x(de.color,ve,pe),family:x(de.family,ve,pe)};le.rowNumber=le.key,le.align=x(le.calcdata.cells.align,ve,pe),le.cellBorderWidth=x(le.calcdata.cells.line.width,ve,pe),le.font=be})})(X);var Q=function(ie){var le=ie.selectAll("."+M.cn.cellRect).data(b.repeat,function(pe){return pe.keyWithinBlock});return le.enter().append("rect").classed(M.cn.cellRect,!0),le}(X);(function(ie){ie.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var pe=k.select(this);l.stroke(pe,x(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),l.fill(pe,x(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})})(Q);var re=function(ie){var le=ie.selectAll("."+M.cn.cellTextHolder).data(b.repeat,function(pe){return pe.keyWithinBlock});return le.enter().append("g").classed(M.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}(X),ae=function(ie){var le=ie.selectAll("."+M.cn.cellText).data(b.repeat,function(pe){return pe.keyWithinBlock});return le.enter().append("text").classed(M.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){k.event.stopPropagation()}),le}(re);(function(ie){ie.each(function(le){g.font(k.select(this),le.font)})})(ae),v(ae,te,K,j),z(X)}function v(j,te,J,K){j.text(function(Z){var X=Z.column.specIndex,Q=Z.rowNumber,re=Z.value,ae=typeof re=="string",ie=ae&&re.match(/<br>/i),le=!ae||ie;Z.mayHaveMarkup=ae&&re.match(/[<&>]/);var pe,de=typeof(pe=re)=="string"&&pe.match(M.latexCheck);Z.latex=de;var ve,be,me=de?"":x(Z.calcdata.cells.prefix,X,Q)||"",ge=de?"":x(Z.calcdata.cells.suffix,X,Q)||"",ke=de?null:x(Z.calcdata.cells.format,X,Q)||null,we=me+(ke?T(ke)(Z.value):Z.value)+ge;if(Z.wrappingNeeded=!Z.wrapped&&!le&&!de&&(ve=y(we)),Z.cellHeightMayIncrease=ie||de||Z.mayHaveMarkup||(ve===void 0?y(we):ve),Z.needsConvertToTspans=Z.mayHaveMarkup||Z.wrappingNeeded||Z.latex,Z.wrappingNeeded){var ue=(M.wrapSplitCharacter===" "?we.replace(/<a href=/gi,"<a_href="):we).split(M.wrapSplitCharacter),oe=M.wrapSplitCharacter===" "?ue.map(function(he){return he.replace(/<a_href=/gi,"<a href=")}):ue;Z.fragments=oe.map(function(he){return{text:he,width:null}}),Z.fragments.push({fragment:M.wrapSpacer,width:null}),be=oe.join(M.lineBreaker)+M.lineBreaker+M.wrapSpacer}else delete Z.fragments,be=we;return be}).attr("dy",function(Z){return Z.needsConvertToTspans?0:"0.75em"}).each(function(Z){var X=this,Q=k.select(X),re=Z.wrappingNeeded?O:R;Z.needsConvertToTspans?s.convertToTspans(Q,K,re(J,X,te,K,Z)):k.select(X.parentNode).attr("transform",function(ae){return i(U(ae),M.cellPad)}).attr("text-anchor",function(ae){return{left:"start",center:"middle",right:"end"}[ae.align]})})}function y(j){return j.indexOf(M.wrapSplitCharacter)!==-1}function x(j,te,J){if(a.isArrayOrTypedArray(j)){var K=j[Math.min(te,j.length-1)];return a.isArrayOrTypedArray(K)?K[Math.min(J,K.length-1)]:K}return j}function _(j,te,J){j.transition().ease(M.releaseTransitionEase).duration(M.releaseTransitionDuration).attr("transform",i(te.x,J))}function h(j){return j.type==="cells"}function S(j){return j.type==="header"}function w(j){return(j.rowBlocks.length?j.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(te,J){return te+W(J,1/0)},0)}function E(j,te,J){var K=m(te)[0];if(K!==void 0){var Z=K.rowBlocks,X=K.calcdata,Q=N(Z,Z.length),re=K.calcdata.groupHeight-w(K),ae=X.scrollY=Math.max(0,Math.min(Q-re,X.scrollY)),ie=function(le,pe,de){for(var ve=[],be=0,me=0;me<le.length;me++){for(var ge=le[me],ke=ge.rows,we=0,ue=0;ue<ke.length;ue++)we+=ke[ue].rowHeight;ge.allRowsHeight=we,pe<be+we&&pe+de>be&&ve.push(me),be+=we}return ve}(Z,ae,re);ie.length===1&&(ie[0]===Z.length-1?ie.unshift(ie[0]-1):ie.push(ie[0]+1)),ie[0]%2&&ie.reverse(),te.each(function(le,pe){le.page=ie[pe],le.scrollY=ae}),te.attr("transform",function(le){var pe=N(le.rowBlocks,le.page)-le.scrollY;return i(0,pe)}),j&&(P(j,J,te,ie,K.prevPages,K,0),P(j,J,te,ie,K.prevPages,K,1),f(J,j))}}function C(j,te,J,K){return function(Z){var X=Z.calcdata?Z.calcdata:Z,Q=te.filter(function(le){return X.key===le.key}),re=J||X.scrollbarState.dragMultiplier,ae=X.scrollY;X.scrollY=K===void 0?X.scrollY+re*k.event.dy:K;var ie=Q.selectAll("."+M.cn.yColumn).selectAll("."+M.cn.columnBlock).filter(h);return E(j,ie,Q),X.scrollY===ae}}function P(j,te,J,K,Z,X,Q){K[Q]!==Z[Q]&&(clearTimeout(X.currentRepaint[Q]),X.currentRepaint[Q]=setTimeout(function(){var re=J.filter(function(ae,ie){return ie===Q&&K[ie]!==Z[ie]});p(j,te,re,J),Z[Q]=K[Q]}))}function O(j,te,J,K){return function(){var Z=k.select(te.parentNode);Z.each(function(X){var Q=X.fragments;Z.selectAll("tspan.line").each(function(be,me){Q[me].width=this.getComputedTextLength()});var re,ae,ie=Q[Q.length-1].width,le=Q.slice(0,-1),pe=[],de=0,ve=X.column.columnWidth-2*M.cellPad;for(X.value="";le.length;)de+(ae=(re=le.shift()).width+ie)>ve&&(X.value+=pe.join(M.wrapSpacer)+M.lineBreaker,pe=[],de=0),pe.push(re.text),de+=ae;de&&(X.value+=pe.join(M.wrapSpacer)),X.wrapped=!0}),Z.selectAll("tspan.line").remove(),v(Z.select("."+M.cn.cellText),J,j,K),k.select(te.parentNode.parentNode).call(z)}}function R(j,te,J,K,Z){return function(){if(!Z.settledY){var X=k.select(te.parentNode),Q=V(Z),re=Z.key-Q.firstRowIndex,ae=Q.rows[re].rowHeight,ie=Z.cellHeightMayIncrease?te.parentNode.getBoundingClientRect().height+2*M.cellPad:ae,le=Math.max(ie,ae);le-Q.rows[re].rowHeight&&(Q.rows[re].rowHeight=le,j.selectAll("."+M.cn.columnCell).call(z),E(null,j.filter(h),0),f(J,K,!0)),X.attr("transform",function(){var pe=this,de=pe.parentNode.getBoundingClientRect(),ve=k.select(pe.parentNode).select("."+M.cn.cellRect).node().getBoundingClientRect(),be=pe.transform.baseVal.consolidate(),me=ve.top-de.top+(be?be.matrix.f:M.cellPad);return i(U(Z,k.select(pe.parentNode).select("."+M.cn.cellTextHolder).node().getBoundingClientRect().width),me)}),Z.settledY=!0}}}function U(j,te){switch(j.align){case"left":default:return M.cellPad;case"right":return j.column.columnWidth-(te||0)-M.cellPad;case"center":return(j.column.columnWidth-(te||0))/2}}function z(j){j.attr("transform",function(te){var J=te.rowBlocks[0].auxiliaryBlocks.reduce(function(Z,X){return Z+W(X,1/0)},0),K=W(V(te),te.key);return i(0,K+J)}).selectAll("."+M.cn.cellRect).attr("height",function(te){return(J=V(te),K=te.key,J.rows[K-J.firstRowIndex]).rowHeight;var J,K})}function N(j,te){for(var J=0,K=te-1;K>=0;K--)J+=F(j[K]);return J}function W(j,te){for(var J=0,K=0;K<j.rows.length&&j.rows[K].rowIndex<te;K++)J+=j.rows[K].rowHeight;return J}function F(j){var te=j.allRowsHeight;if(te!==void 0)return te;for(var J=0,K=0;K<j.rows.length;K++)J+=j.rows[K].rowHeight;return j.allRowsHeight=J,J}function V(j){return j.rowBlocks[j.page]}ee.exports=function(j,te){var J=!j._context.staticPlot,K=j._fullLayout._paper.selectAll("."+M.cn.table).data(te.map(function(ge){var ke=b.unwrap(ge).trace;return n(j,ke)}),b.keyFun);K.exit().remove(),K.enter().append("g").classed(M.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),K.attr("width",function(ge){return ge.width+ge.size.l+ge.size.r}).attr("height",function(ge){return ge.height+ge.size.t+ge.size.b}).attr("transform",function(ge){return i(ge.translateX,ge.translateY)});var Z=K.selectAll("."+M.cn.tableControlView).data(b.repeat,b.keyFun),X=Z.enter().append("g").classed(M.cn.tableControlView,!0).style("box-sizing","content-box");if(J){var Q="onwheel"in document?"wheel":"mousewheel";X.on("mousemove",function(ge){Z.filter(function(ke){return ge===ke}).call(f,j)}).on(Q,function(ge){if(!ge.scrollbarState.wheeling){ge.scrollbarState.wheeling=!0;var ke=ge.scrollY+k.event.deltaY;C(j,Z,null,ke)(ge)||(k.event.stopPropagation(),k.event.preventDefault()),ge.scrollbarState.wheeling=!1}}).call(f,j,!0)}Z.attr("transform",function(ge){return i(ge.size.l,ge.size.t)});var re=Z.selectAll("."+M.cn.scrollBackground).data(b.repeat,b.keyFun);re.enter().append("rect").classed(M.cn.scrollBackground,!0).attr("fill","none"),re.attr("width",function(ge){return ge.width}).attr("height",function(ge){return ge.height}),Z.each(function(ge){g.setClipUrl(k.select(this),d(j,ge),j)});var ae=Z.selectAll("."+M.cn.yColumn).data(function(ge){return ge.columns},b.keyFun);ae.enter().append("g").classed(M.cn.yColumn,!0),ae.exit().remove(),ae.attr("transform",function(ge){return i(ge.x,0)}),J&&ae.call(k.behavior.drag().origin(function(ge){return _(k.select(this),ge,-M.uplift),t(this),ge.calcdata.columnDragInProgress=!0,f(Z.filter(function(ke){return ge.calcdata.key===ke.key}),j),ge}).on("drag",function(ge){var ke=k.select(this),we=function(ue){return(ge===ue?k.event.x:ue.x)+ue.columnWidth/2};ge.x=Math.max(-M.overdrag,Math.min(ge.calcdata.width+M.overdrag-ge.columnWidth,k.event.x)),m(ae).filter(function(ue){return ue.calcdata.key===ge.calcdata.key}).sort(function(ue,oe){return we(ue)-we(oe)}).forEach(function(ue,oe){ue.xIndex=oe,ue.x=ge===ue?ue.x:ue.xScale(ue)}),ae.filter(function(ue){return ge!==ue}).transition().ease(M.transitionEase).duration(M.transitionDuration).attr("transform",function(ue){return i(ue.x,0)}),ke.call(r).attr("transform",i(ge.x,-M.uplift))}).on("dragend",function(ge){var ke=k.select(this),we=ge.calcdata;ge.x=ge.xScale(ge),ge.calcdata.columnDragInProgress=!1,_(ke,ge,0),function(ue,oe,he){var Ee=oe.gdColumnsOriginalOrder;oe.gdColumns.sort(function(Te,Me){return he[Ee.indexOf(Te)]-he[Ee.indexOf(Me)]}),oe.columnorder=he,ue.emit("plotly_restyle")}(j,we,we.columns.map(function(ue){return ue.xIndex}))})),ae.each(function(ge){g.setClipUrl(k.select(this),c(j,ge),j)});var ie=ae.selectAll("."+M.cn.columnBlock).data(o.splitToPanels,b.keyFun);ie.enter().append("g").classed(M.cn.columnBlock,!0).attr("id",function(ge){return ge.key}),ie.style("cursor",function(ge){return ge.dragHandle?"ew-resize":ge.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var le=ie.filter(S),pe=ie.filter(h);J&&pe.call(k.behavior.drag().origin(function(ge){return k.event.stopPropagation(),ge}).on("drag",C(j,Z,-1)).on("dragend",function(){})),p(j,Z,le,ie),p(j,Z,pe,ie);var de=Z.selectAll("."+M.cn.scrollAreaClip).data(b.repeat,b.keyFun);de.enter().append("clipPath").classed(M.cn.scrollAreaClip,!0).attr("id",function(ge){return d(j,ge)});var ve=de.selectAll("."+M.cn.scrollAreaClipRect).data(b.repeat,b.keyFun);ve.enter().append("rect").classed(M.cn.scrollAreaClipRect,!0).attr("x",-M.overdrag).attr("y",-M.uplift).attr("fill","none"),ve.attr("width",function(ge){return ge.width+2*M.overdrag}).attr("height",function(ge){return ge.height+M.uplift}),ae.selectAll("."+M.cn.columnBoundary).data(b.repeat,b.keyFun).enter().append("g").classed(M.cn.columnBoundary,!0);var be=ae.selectAll("."+M.cn.columnBoundaryClippath).data(b.repeat,b.keyFun);be.enter().append("clipPath").classed(M.cn.columnBoundaryClippath,!0),be.attr("id",function(ge){return c(j,ge)});var me=be.selectAll("."+M.cn.columnBoundaryRect).data(b.repeat,b.keyFun);me.enter().append("rect").classed(M.cn.columnBoundaryRect,!0).attr("fill","none"),me.attr("width",function(ge){return ge.columnWidth+2*u(ge)}).attr("height",function(ge){return ge.calcdata.height+2*u(ge)+M.uplift}).attr("x",function(ge){return-u(ge)}).attr("y",function(ge){return-u(ge)}),E(null,pe,Z)}},40516:function(ee,D,e){var M=e(21776).Ks,k=e(21776).Gw,a=e(49084),T=e(86968).u,b=e(74996),g=e(424),s=e(32984),t=e(92880).extendFlat,i=e(98192).c;ee.exports={labels:g.labels,parents:g.parents,values:g.values,branchvalues:g.branchvalues,count:g.count,level:g.level,maxdepth:g.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:g.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:g.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},b.textfont,{}),editType:"calc"},text:b.text,textinfo:g.textinfo,texttemplate:k({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:g.hoverinfo,hovertemplate:M({},{keys:s.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:t({},b.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:b.sort,root:g.root,domain:T({name:"treemap",trace:!0,editType:"calc"})}},79516:function(ee,D,e){var M=e(7316);D.name="treemap",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},97840:function(ee,D,e){var M=e(3776);D.r=function(k,a){return M.calc(k,a)},D.q=function(k){return M._runCrossTraceCalc("treemap",k)}},32984:function(ee){ee.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(ee,D,e){var M=e(3400),k=e(40516),a=e(76308),T=e(86968).Q,b=e(31508).handleText,g=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),i=t.hasColorscale,r=t.handleDefaults;ee.exports=function(n,o,l,u){function d(_,h){return M.coerce(n,o,k,_,h)}var c=d("labels"),m=d("parents");if(c&&c.length&&m&&m.length){var f=d("values");f&&f.length?d("branchvalues"):d("count"),d("level"),d("maxdepth"),d("tiling.packing")==="squarify"&&d("tiling.squarifyratio"),d("tiling.flip"),d("tiling.pad");var p=d("text");d("texttemplate"),o.texttemplate||d("textinfo",M.isArrayOrTypedArray(p)?"text+label":"label"),d("hovertext"),d("hovertemplate");var v=d("pathbar.visible");b(n,o,u,d,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition");var y=o.textposition.indexOf("bottom")!==-1;s(n,o,u,d),(o._hasColorscale=i(n,"marker","colors")||(n.marker||{}).coloraxis)?r(n,o,u,d,{prefix:"marker.",cLetter:"c"}):d("marker.depthfade",!(o.marker.colors||[]).length);var x=2*o.textfont.size;d("marker.pad.t",y?x/4:x),d("marker.pad.l",x/4),d("marker.pad.r",x/4),d("marker.pad.b",y?x:x/4),d("marker.cornerradius"),o._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},v&&(d("pathbar.thickness",o.pathbar.textfont.size+2*g),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),T(o,u,d),o._length=null}else o.visible=!1}},95808:function(ee,D,e){var M=e(33428),k=e(78176),a=e(82744).clearMinTextSize,T=e(60100).resizeText,b=e(52960);ee.exports=function(g,s,t,i,r){var n,o,l=r.type,u=r.drawDescendants,d=g._fullLayout,c=d["_"+l+"layer"],m=!t;a(l,d),(n=c.selectAll("g.trace."+l).data(s,function(f){return f[0].trace.uid})).enter().append("g").classed("trace",!0).classed(l,!0),n.order(),!d.uniformtext.mode&&k.hasTransition(t)?(i&&(o=i()),M.transition().duration(t.duration).ease(t.easing).each("end",function(){o&&o()}).each("interrupt",function(){o&&o()}).each(function(){c.selectAll("g.trace").each(function(f){b(g,f,this,t,u)})})):(n.each(function(f){b(g,f,this,t,u)}),d.uniformtext.mode&&T(g,c.selectAll(".trace"),l)),m&&n.exit().remove()}},27336:function(ee,D,e){var M=e(33428),k=e(3400),a=e(43616),T=e(72736),b=e(13832),g=e(66192).styleOne,s=e(32984),t=e(78176),i=e(45716),r=!0;ee.exports=function(n,o,l,u,d){var c=d.barDifY,m=d.width,f=d.height,p=d.viewX,v=d.viewY,y=d.pathSlice,x=d.toMoveInsideSlice,_=d.strTransform,h=d.hasTransition,S=d.handleSlicesExit,w=d.makeUpdateSliceInterpolator,E=d.makeUpdateTextInterpolator,C={},P=n._context.staticPlot,O=n._fullLayout,R=o[0],U=R.trace,z=R.hierarchy,N=m/U._entryDepth,W=t.listPath(l.data,"id"),F=b(z.copy(),[m,f],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(F=F.filter(function(j){var te=W.indexOf(j.data.id);return te!==-1&&(j.x0=N*te,j.x1=N*(te+1),j.y0=c,j.y1=c+f,j.onPathbar=!0,!0)})).reverse(),(u=u.data(F,t.getPtId)).enter().append("g").classed("pathbar",!0),S(u,r,C,[m,f],y),u.order();var V=u;h&&(V=V.transition().each("end",function(){var j=M.select(this);t.setSliceCursor(j,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),V.each(function(j){j._x0=p(j.x0),j._x1=p(j.x1),j._y0=v(j.y0),j._y1=v(j.y1),j._hoverX=p(j.x1-Math.min(m,f)/2),j._hoverY=v(j.y1-f/2);var te=M.select(this),J=k.ensureSingle(te,"path","surface",function(Q){Q.style("pointer-events",P?"none":"all")});h?J.transition().attrTween("d",function(Q){var re=w(Q,r,C,[m,f]);return function(ae){return y(re(ae))}}):J.attr("d",y),te.call(i,l,n,o,{styleOne:g,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:n._transitioning}),J.call(g,j,U,n,{hovered:!1}),j._text=(t.getPtLabel(j)||"").split("<br>").join(" ")||"";var K=k.ensureSingle(te,"g","slicetext"),Z=k.ensureSingle(K,"text","",function(Q){Q.attr("data-notex",1)}),X=k.ensureUniformFontSize(n,t.determineTextFont(U,j,O.font,{onPathbar:!0}));Z.text(j._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,X).call(T.convertToTspans,n),j.textBB=a.bBox(Z.node()),j.transform=x(j,{fontSize:X.size,onPathbar:!0}),j.transform.fontSize=X.size,h?Z.transition().attrTween("transform",function(Q){var re=E(Q,r,C,[m,f]);return function(ae){return _(re(ae))}}):Z.attr("transform",_(j))})}},76477:function(ee,D,e){var M=e(33428),k=e(3400),a=e(43616),T=e(72736),b=e(13832),g=e(66192).styleOne,s=e(32984),t=e(78176),i=e(45716),r=e(96488).formatSliceLabel,n=!1;ee.exports=function(o,l,u,d,c){var m=c.width,f=c.height,p=c.viewX,v=c.viewY,y=c.pathSlice,x=c.toMoveInsideSlice,_=c.strTransform,h=c.hasTransition,S=c.handleSlicesExit,w=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,C=c.prevEntry,P=o._context.staticPlot,O=o._fullLayout,R=l[0].trace,U=R.textposition.indexOf("left")!==-1,z=R.textposition.indexOf("right")!==-1,N=R.textposition.indexOf("bottom")!==-1,W=!N&&!R.marker.pad.t||N&&!R.marker.pad.b,F=b(u,[m,f],{packing:R.tiling.packing,squarifyratio:R.tiling.squarifyratio,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,pad:{inner:R.tiling.pad,top:R.marker.pad.t,left:R.marker.pad.l,right:R.marker.pad.r,bottom:R.marker.pad.b}}).descendants(),V=1/0,j=-1/0;F.forEach(function(X){var Q=X.depth;Q>=R._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(V=Math.min(V,Q),j=Math.max(j,Q))}),d=d.data(F,t.getPtId),R._maxVisibleLayers=isFinite(j)?j-V+1:0,d.enter().append("g").classed("slice",!0),S(d,n,{},[m,f],y),d.order();var te=null;if(h&&C){var J=t.getPtId(C);d.each(function(X){te===null&&t.getPtId(X)===J&&(te={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var K=function(){return te||{x0:0,x1:m,y0:0,y1:f}},Z=d;return h&&(Z=Z.transition().each("end",function(){var X=M.select(this);t.setSliceCursor(X,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(X){var Q=t.isHeader(X,R);X._x0=p(X.x0),X._x1=p(X.x1),X._y0=v(X.y0),X._y1=v(X.y1),X._hoverX=p(X.x1-R.marker.pad.r),X._hoverY=v(N?X.y1-R.marker.pad.b/2:X.y0+R.marker.pad.t/2);var re=M.select(this),ae=k.ensureSingle(re,"path","surface",function(be){be.style("pointer-events",P?"none":"all")});h?ae.transition().attrTween("d",function(be){var me=w(be,n,K(),[m,f]);return function(ge){return y(me(ge))}}):ae.attr("d",y),re.call(i,u,o,l,{styleOne:g,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,o,{isTransitioning:o._transitioning}),ae.call(g,X,R,o,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=Q?W?"":t.getPtLabel(X)||"":r(X,u,R,l,O)||"";var ie=k.ensureSingle(re,"g","slicetext"),le=k.ensureSingle(ie,"text","",function(be){be.attr("data-notex",1)}),pe=k.ensureUniformFontSize(o,t.determineTextFont(R,X,O.font)),de=X._text||" ",ve=Q&&de.indexOf("<br>")===-1;le.text(de).classed("slicetext",!0).attr("text-anchor",z?"end":U||ve?"start":"middle").call(a.font,pe).call(T.convertToTspans,o),X.textBB=a.bBox(le.node()),X.transform=x(X,{fontSize:pe.size,isHeader:Q}),X.transform.fontSize=pe.size,h?le.transition().attrTween("transform",function(be){var me=E(be,n,K(),[m,f]);return function(ge){return _(me(ge))}}):le.attr("transform",_(X))}),te}},83024:function(ee){ee.exports=function D(e,M,k){var a;k.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),k.flipX&&(a=e.x0,e.x0=M[0]-e.x1,e.x1=M[0]-a),k.flipY&&(a=e.y0,e.y0=M[1]-e.y1,e.y1=M[1]-a);var T=e.children;if(T)for(var b=0;b<T.length;b++)D(T[b],M,k)}},31991:function(ee,D,e){ee.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(ee){ee.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(ee,D,e){var M=e(3400),k=e(45392);ee.exports=function(a,T){function b(g,s){return M.coerce(a,T,k,g,s)}b("treemapcolorway",T.colorway),b("extendtreemapcolors")}},13832:function(ee,D,e){var M=e(74148),k=e(83024);ee.exports=function(a,T,b){var g,s=b.flipX,t=b.flipY,i=b.packing==="dice-slice",r=b.pad[t?"bottom":"top"],n=b.pad[s?"right":"left"],o=b.pad[s?"left":"right"],l=b.pad[t?"top":"bottom"];i&&(g=n,n=r,r=g,g=o,o=l,l=g);var u=M.treemap().tile(function(d,c){switch(d){case"squarify":return M.treemapSquarify.ratio(c);case"binary":return M.treemapBinary;case"dice":return M.treemapDice;case"slice":return M.treemapSlice;default:return M.treemapSliceDice}}(b.packing,b.squarifyratio)).paddingInner(b.pad.inner).paddingLeft(n).paddingRight(o).paddingTop(r).paddingBottom(l).size(i?[T[1],T[0]]:T)(a);return(i||s||t)&&k(u,T,{swapXY:i,flipX:s,flipY:t}),u}},53264:function(ee,D,e){var M=e(95808),k=e(76477);ee.exports=function(a,T,b,g){return M(a,T,b,g,{type:"treemap",drawDescendants:k})}},52960:function(ee,D,e){var M=e(33428),k=e(67756).qy,a=e(78176),T=e(3400),b=e(78048).TEXTPAD,g=e(98184).toMoveInsideBar,s=e(82744).recordMinTextSize,t=e(32984),i=e(27336);function r(n){return a.isHierarchyRoot(n)?"":a.getPtId(n)}ee.exports=function(n,o,l,u,d){var c=n._fullLayout,m=o[0],f=m.trace,p=f.type==="icicle",v=m.hierarchy,y=a.findEntryWithLevel(v,f.level),x=M.select(l),_=x.selectAll("g.pathbar"),h=x.selectAll("g.slice");if(!y)return _.remove(),void h.remove();var S=a.isHierarchyRoot(y),w=!c.uniformtext.mode&&a.hasTransition(u),E=a.getMaxDepth(f),C=c._size,P=f.domain,O=C.w*(P.x[1]-P.x[0]),R=C.h*(P.y[1]-P.y[0]),U=O,z=f.pathbar.thickness,N=f.marker.line.width+t.gapWithPathbar,W=f.pathbar.visible?f.pathbar.side.indexOf("bottom")>-1?R+N:-(z+N):0,F={x0:U,x1:U,y0:W,y1:W+z},V=function(_e,Oe,De){var Pe=f.tiling.pad,Ue=function(tt){return tt-Pe<=Oe.x0},Ve=function(tt){return tt+Pe>=Oe.x1},Xe=function(tt){return tt-Pe<=Oe.y0},it=function(tt){return tt+Pe>=Oe.y1};return _e.x0===Oe.x0&&_e.x1===Oe.x1&&_e.y0===Oe.y0&&_e.y1===Oe.y1?{x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1}:{x0:Ue(_e.x0-Pe)?0:Ve(_e.x0-Pe)?De[0]:_e.x0,x1:Ue(_e.x1+Pe)?0:Ve(_e.x1+Pe)?De[0]:_e.x1,y0:Xe(_e.y0-Pe)?0:it(_e.y0-Pe)?De[1]:_e.y0,y1:Xe(_e.y1+Pe)?0:it(_e.y1+Pe)?De[1]:_e.y1}},j=null,te={},J={},K=null,Z=function(_e,Oe){return Oe?te[r(_e)]:J[r(_e)]};m.hasMultipleRoots&&S&&E++,f._maxDepth=E,f._backgroundColor=c.paper_bgcolor,f._entryDepth=y.data.depth,f._atRootLevel=S;var X=-O/2+C.l+C.w*(P.x[1]+P.x[0])/2,Q=-R/2+C.t+C.h*(1-(P.y[1]+P.y[0])/2),re=function(_e){return X+_e},ae=function(_e){return Q+_e},ie=ae(0),le=re(0),pe=function(_e){return le+_e},de=function(_e){return ie+_e};function ve(_e,Oe){return _e+","+Oe}var be=pe(0),me=function(_e){_e.x=Math.max(be,_e.x)},ge=f.pathbar.edgeshape,ke=f[p?"tiling":"marker"].pad,we=function(_e){return f.textposition.indexOf(_e)!==-1},ue=we("top"),oe=we("left"),he=we("right"),Ee=we("bottom"),Te=function(_e,Oe){var De=_e.x0,Pe=_e.x1,Ue=_e.y0,Ve=_e.y1,Xe=_e.textBB,it=ue||Oe.isHeader&&!Ee?"start":Ee?"end":"middle",tt=we("right"),pt=we("left")||Oe.onPathbar?-1:tt?1:0;if(Oe.isHeader){if((De+=(p?ke:ke.l)-b)>=(Pe-=(p?ke:ke.r)-b)){var mt=(De+Pe)/2;De=mt,Pe=mt}var gt;Ee?Ue<(gt=Ve-(p?ke:ke.b))&&gt<Ve&&(Ue=gt):Ue<(gt=Ue+(p?ke:ke.t))&&gt<Ve&&(Ve=gt)}var et=g(De,Pe,Ue,Ve,Xe,{isHorizontal:!1,constrained:!0,angle:0,anchor:it,leftToRight:pt});return et.fontSize=Oe.fontSize,et.targetX=re(et.targetX),et.targetY=ae(et.targetY),isNaN(et.targetX)||isNaN(et.targetY)?{}:(De!==Pe&&Ue!==Ve&&s(f.type,et,c),{scale:et.scale,rotate:et.rotate,textX:et.textX,textY:et.textY,anchorX:et.anchorX,anchorY:et.anchorY,targetX:et.targetX,targetY:et.targetY})},Me=function(_e,Oe){for(var De,Pe=0,Ue=_e;!De&&Pe<E;)Pe++,(Ue=Ue.parent)?De=Z(Ue,Oe):Pe=E;return De||{}},Se=function(_e,Oe,De,Pe,Ue){var Ve,Xe=Z(_e,Oe);if(Xe)Ve=Xe;else if(Oe)Ve=F;else if(j)if(_e.parent){var it=K||De;it&&!Oe?Ve=V(_e,it,Pe):(Ve={},T.extendFlat(Ve,Me(_e,Oe)))}else Ve=T.extendFlat({},_e),p&&(Ue.orientation==="h"?Ue.flipX?Ve.x0=_e.x1:Ve.x1=0:Ue.flipY?Ve.y0=_e.y1:Ve.y1=0);else Ve={};return k(Ve,{x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1})},ze=function(_e,Oe,De,Pe){var Ue=Z(_e,Oe),Ve={},Xe=function(tt,pt,mt,gt){if(pt)return te[r(v)]||F;var et=J[f.level]||mt;return function($e){return $e.data.depth-y.data.depth<E}(tt)?V(tt,et,gt):{}}(_e,Oe,De,Pe);T.extendFlat(Ve,{transform:Te({x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1,textBB:_e.textBB,_text:_e._text},{isHeader:a.isHeader(_e,f)})}),Ue?Ve=Ue:_e.parent&&T.extendFlat(Ve,Me(_e,Oe));var it=_e.transform;return _e.x0!==_e.x1&&_e.y0!==_e.y1&&s(f.type,it,c),k(Ve,{transform:{scale:it.scale,rotate:it.rotate,textX:it.textX,textY:it.textY,anchorX:it.anchorX,anchorY:it.anchorY,targetX:it.targetX,targetY:it.targetY}})},fe=function(_e,Oe,De,Pe,Ue){var Ve=Pe[0],Xe=Pe[1];w?_e.exit().transition().each(function(){var it=M.select(this);it.select("path.surface").transition().attrTween("d",function(tt){var pt=function(mt,gt,et,$e){var _t,Pt=Z(mt,gt);if(gt)_t=F;else{var Ot=Z(y,gt);_t=Ot?V(mt,Ot,$e):{}}return k(Pt,_t)}(tt,Oe,0,[Ve,Xe]);return function(mt){return Ue(pt(mt))}}),it.select("g.slicetext").attr("opacity",0)}).remove():_e.exit().remove()},xe=function(_e){var Oe=_e.transform;return _e.x0!==_e.x1&&_e.y0!==_e.y1&&s(f.type,Oe,c),T.getTextTransform({textX:Oe.textX,textY:Oe.textY,anchorX:Oe.anchorX,anchorY:Oe.anchorY,targetX:Oe.targetX,targetY:Oe.targetY,scale:Oe.scale,rotate:Oe.rotate})};w&&(_.each(function(_e){te[r(_e)]={x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1},_e.transform&&(te[r(_e)].transform={textX:_e.transform.textX,textY:_e.transform.textY,anchorX:_e.transform.anchorX,anchorY:_e.transform.anchorY,targetX:_e.transform.targetX,targetY:_e.transform.targetY,scale:_e.transform.scale,rotate:_e.transform.rotate})}),h.each(function(_e){J[r(_e)]={x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1},_e.transform&&(J[r(_e)].transform={textX:_e.transform.textX,textY:_e.transform.textY,anchorX:_e.transform.anchorX,anchorY:_e.transform.anchorY,targetX:_e.transform.targetX,targetY:_e.transform.targetY,scale:_e.transform.scale,rotate:_e.transform.rotate}),!j&&a.isEntry(_e)&&(j=_e)})),K=d(n,o,y,h,{width:O,height:R,viewX:re,viewY:ae,pathSlice:function(_e){var Oe=re(_e.x0),De=re(_e.x1),Pe=ae(_e.y0),Ue=ae(_e.y1),Ve=De-Oe,Xe=Ue-Pe;if(!Ve||!Xe)return"";var it=f.marker.cornerradius||0,tt=Math.min(it,Ve/2,Xe/2);tt&&_e.data&&_e.data.data&&_e.data.data.label&&(ue&&(tt=Math.min(tt,ke.t)),oe&&(tt=Math.min(tt,ke.l)),he&&(tt=Math.min(tt,ke.r)),Ee&&(tt=Math.min(tt,ke.b)));var pt=function(mt,gt){return tt?"a"+ve(tt,tt)+" 0 0 1 "+ve(mt,gt):""};return"M"+ve(Oe,Pe+tt)+pt(tt,-tt)+"L"+ve(De-tt,Pe)+pt(tt,tt)+"L"+ve(De,Ue-tt)+pt(-tt,tt)+"L"+ve(Oe+tt,Ue)+pt(-tt,-tt)+"Z"},toMoveInsideSlice:Te,prevEntry:j,makeUpdateSliceInterpolator:Se,makeUpdateTextInterpolator:ze,handleSlicesExit:fe,hasTransition:w,strTransform:xe}),f.pathbar.visible?i(n,o,y,_,{barDifY:W,width:U,height:z,viewX:pe,viewY:de,pathSlice:function(_e){var Oe=pe(Math.max(Math.min(_e.x0,_e.x0),0)),De=pe(Math.min(Math.max(_e.x1,_e.x1),U)),Pe=de(_e.y0),Ue=de(_e.y1),Ve=z/2,Xe={},it={};Xe.x=Oe,it.x=De,Xe.y=it.y=(Pe+Ue)/2;var tt={x:Oe,y:Pe},pt={x:De,y:Pe},mt={x:De,y:Ue},gt={x:Oe,y:Ue};return ge===">"?(tt.x-=Ve,pt.x-=Ve,mt.x-=Ve,gt.x-=Ve):ge==="/"?(mt.x-=Ve,gt.x-=Ve,Xe.x-=Ve/2,it.x-=Ve/2):ge==="\\"?(tt.x-=Ve,pt.x-=Ve,Xe.x-=Ve/2,it.x-=Ve/2):ge==="<"&&(Xe.x-=Ve,it.x-=Ve),me(tt),me(gt),me(Xe),me(pt),me(mt),me(it),"M"+ve(tt.x,tt.y)+"L"+ve(pt.x,pt.y)+"L"+ve(it.x,it.y)+"L"+ve(mt.x,mt.y)+"L"+ve(gt.x,gt.y)+"L"+ve(Xe.x,Xe.y)+"Z"},toMoveInsideSlice:Te,makeUpdateSliceInterpolator:Se,makeUpdateTextInterpolator:ze,handleSlicesExit:fe,hasTransition:w,strTransform:xe}):_.remove()}},66192:function(ee,D,e){var M=e(33428),k=e(76308),a=e(3400),T=e(78176),b=e(82744).resizeText,g=e(60404);function s(t,i,r,n,o){var l,u,d=(o||{}).hovered,c=i.data.data,m=c.i,f=c.color,p=T.isHierarchyRoot(i),v=1;if(d)l=r._hovered.marker.line.color,u=r._hovered.marker.line.width;else if(p&&f===r.root.color)v=100,l="rgba(0,0,0,0)",u=0;else if(l=a.castOption(r,m,"marker.line.color")||k.defaultLine,u=a.castOption(r,m,"marker.line.width")||0,!r._hasColorscale&&!i.onPathbar){var y=r.marker.depthfade;if(y){var x,_=k.combine(k.addOpacity(r._backgroundColor,.75),f);if(y===!0){var h=T.getMaxDepth(r);x=isFinite(h)?T.isLeaf(i)?0:r._maxVisibleLayers-(i.data.depth-r._entryDepth):i.data.height+1}else x=i.data.depth-r._entryDepth,r._atRootLevel||x++;if(x>0)for(var S=0;S<x;S++){var w=.5*S/x;f=k.combine(k.addOpacity(_,w),f)}}}t.call(g,i,r,n,f).style("stroke-width",u).call(k.stroke,l).style("opacity",v)}ee.exports={style:function(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");b(t,i,"treemap"),i.each(function(r){var n=M.select(this),o=r[0].trace;n.style("opacity",o.opacity),n.selectAll("path.surface").each(function(l){M.select(this).call(s,l,o,t,{hovered:!1})})})},styleOne:s}},13988:function(ee,D,e){var M=e(63188),k=e(92880).extendFlat,a=e(29736).axisHoverFormat;ee.exports={y:M.y,x:M.x,x0:M.x0,y0:M.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:k({},M.name,{}),orientation:k({},M.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:M.fillcolor,points:k({},M.boxpoints,{}),jitter:k({},M.jitter,{}),pointpos:k({},M.pointpos,{}),width:k({},M.width,{}),marker:M.marker,text:M.text,hovertext:M.hovertext,hovertemplate:M.hovertemplate,quartilemethod:M.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:M.selected,unselected:M.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(ee,D,e){var M=e(3400),k=e(54460),a=e(62555),T=e(63800),b=e(39032).BADNUM;function g(t,i,r){var n=i.max-i.min;if(!n)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,n/1e4);var o=r.length,l=M.stdev(r,o-1,i.mean);return Math.max(function(u,d,c){return 1.059*Math.min(d,c/1.349)*Math.pow(u,-.2)}(o,l,i.q3-i.q1),n/100)}function s(t,i,r,n){var o,l=t.spanmode,u=t.span||[],d=[i.min,i.max],c=[i.min-2*n,i.max+2*n];function m(p){var v=u[p],y=r.type==="multicategory"?r.r2c(v):r.d2c(v,0,t[i.valLetter+"calendar"]);return y===b?c[p]:y}var f={type:"linear",range:o=l==="soft"?c:l==="hard"?d:[m(0),m(1)]};return k.setConvert(f),f.cleanRange(),o}ee.exports=function(t,i){var r=a(t,i);if(r[0].t.empty)return r;for(var n=t._fullLayout,o=k.getFromId(t,i[i.orientation==="h"?"xaxis":"yaxis"]),l=1/0,u=-1/0,d=0,c=0,m=0;m<r.length;m++){var f=r[m],p=f.pts.map(T.extractVal),v=f.bandwidth=g(i,f,p),y=f.span=s(i,f,o,v);if(f.min===f.max&&v===0)y=f.span=[f.min,f.max],f.density=[{v:1,t:y[0]}],f.bandwidth=v,d=Math.max(d,1);else{var x=y[1]-y[0],_=Math.ceil(x/(v/3)),h=x/_;if(!isFinite(h)||!isFinite(_))return M.error("Something went wrong with computing the violin span"),r[0].t.empty=!0,r;var S=T.makeKDE(f,i,p);f.density=new Array(_);for(var w=0,E=y[0];E<y[1]+h/2;w++,E+=h){var C=S(E);f.density[w]={v:C,t:E},d=Math.max(d,C)}}c=Math.max(c,p.length),l=Math.min(l,y[0]),u=Math.max(u,y[1])}var P=k.findExtremes(o,[l,u],{padded:!0});if(i._extremes[o._id]=P,i.width)r[0].t.maxKDE=d;else{var O=n._violinScaleGroupStats,R=i.scalegroup,U=O[R];U?(U.maxKDE=Math.max(U.maxKDE,d),U.maxCount=Math.max(U.maxCount,c)):O[R]={maxKDE:d,maxCount:c}}return r[0].t.labels.kde=M._(t,"kde:"),r}},14348:function(ee,D,e){var M=e(96404).setPositionOffset,k=["v","h"];ee.exports=function(a,T){for(var b=a.calcdata,g=T.xaxis,s=T.yaxis,t=0;t<k.length;t++){for(var i=k[t],r=i==="h"?s:g,n=[],o=0;o<b.length;o++){var l=b[o],u=l[0].t,d=l[0].trace;d.visible!==!0||d.type!=="violin"||u.empty||d.orientation!==i||d.xaxis!==g._id||d.yaxis!==s._id||n.push(o)}M("violin",a,n,r)}}},36240:function(ee,D,e){var M=e(3400),k=e(76308),a=e(90624),T=e(13988);ee.exports=function(b,g,s,t){function i(x,_){return M.coerce(b,g,T,x,_)}function r(x,_){return M.coerce2(b,g,T,x,_)}if(a.handleSampleDefaults(b,g,i,t),g.visible!==!1){i("bandwidth"),i("side"),i("width")||(i("scalegroup",g.name),i("scalemode"));var n,o=i("span");Array.isArray(o)&&(n="manual"),i("spanmode",n);var l=i("line.color",(b.marker||{}).color||s),u=i("line.width"),d=i("fillcolor",k.addOpacity(g.line.color,.5));a.handlePointsDefaults(b,g,i,{prefix:""});var c=r("box.width"),m=r("box.fillcolor",d),f=r("box.line.color",l),p=r("box.line.width",u);i("box.visible",!!(c||m||f||p))||(g.box={visible:!1});var v=r("meanline.color",l),y=r("meanline.width",u);i("meanline.visible",!!(v||y))||(g.meanline={visible:!1}),i("quartilemethod")}}},63800:function(ee,D,e){var M=e(3400),k=function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)};D.makeKDE=function(a,T,b){var g=b.length,s=k,t=a.bandwidth,i=1/(g*t);return function(r){for(var n=0,o=0;o<g;o++)n+=s((r-b[o])/t);return i*n}},D.getPositionOnKdePath=function(a,T,b){var g,s;T.orientation==="h"?(g="y",s="x"):(g="x",s="y");var t=M.findPointOnPath(a.path,b,s,{pathLength:a.pathLength}),i=a.posCenterPx,r=t[g];return[r,T.side==="both"?2*i-r:i]},D.getKdeValue=function(a,T,b){var g=a.pts.map(D.extractVal);return D.makeKDE(a,T,g)(b)/a.posDensityScale},D.extractVal=function(a){return a.v}},78e3:function(ee,D,e){var M=e(76308),k=e(3400),a=e(54460),T=e(27576),b=e(63800);ee.exports=function(g,s,t,i,r){r||(r={});var n,o,l=r.hoverLayer,u=g.cd,d=u[0].trace,c=d.hoveron,m=c.indexOf("violins")!==-1,f=c.indexOf("kde")!==-1,p=[];if(m||f){var v=T.hoverOnBoxes(g,s,t,i);if(f&&v.length>0){var y,x,_,h,S,w=g.xa,E=g.ya;d.orientation==="h"?(S=s,y="y",_=E,x="x",h=w):(S=t,y="x",_=w,x="y",h=E);var C=u[g.index];if(S>=C.span[0]&&S<=C.span[1]){var P=k.extendFlat({},g),O=h.c2p(S,!0),R=b.getKdeValue(C,d,S),U=b.getPositionOnKdePath(C,d,O),z=_._offset,N=_._length;P[y+"0"]=U[0],P[y+"1"]=U[1],P[x+"0"]=P[x+"1"]=O,P[x+"Label"]=x+": "+a.hoverLabelText(h,S,d[x+"hoverformat"])+", "+u[0].t.labels.kde+" "+R.toFixed(3);for(var W=0,F=0;F<v.length;F++)if(v[F].attr==="med"){W=F;break}P.spikeDistance=v[W].spikeDistance;var V=y+"Spike";P[V]=v[W][V],v[W].spikeDistance=void 0,v[W][V]=void 0,P.hovertemplate=!1,p.push(P),(o={})[y+"1"]=k.constrain(z+U[0],z,z+N),o[y+"2"]=k.constrain(z+U[1],z,z+N),o[x+"1"]=o[x+"2"]=h._offset+O}}m&&(p=p.concat(v))}c.indexOf("points")!==-1&&(n=T.hoverOnPoints(g,s,t));var j=l.selectAll(".violinline-"+d.uid).data(o?[0]:[]);return j.enter().append("line").classed("violinline-"+d.uid,!0).attr("stroke-width",1.5),j.exit().remove(),j.attr(o).call(M.stroke,g.color),i==="closest"?n?[n]:p:(n&&p.push(n),p)}},22869:function(ee,D,e){ee.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(ee,D,e){var M=e(16560),k=e(3400).extendFlat;ee.exports={violinmode:k({},M.boxmode,{}),violingap:k({},M.boxgap,{}),violingroupgap:k({},M.boxgroupgap,{})}},8939:function(ee,D,e){var M=e(3400),k=e(98228),a=e(68832);ee.exports=function(T,b,g){a._supply(T,b,g,function(s,t){return M.coerce(T,b,k,s,t)},"violin")}},5140:function(ee,D,e){var M=e(33428),k=e(3400),a=e(43616),T=e(18728),b=e(52340),g=e(63800);ee.exports=function(s,t,i,r){var n=s._context.staticPlot,o=s._fullLayout,l=t.xaxis,u=t.yaxis;function d(c,m){var f=b(c,{xaxis:l,yaxis:u,trace:m,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(f[0],1)}k.makeTraceGroups(r,i,"trace violins").each(function(c){var m=M.select(this),f=c[0],p=f.t,v=f.trace;if(v.visible!==!0||p.empty)m.remove();else{var y=p.bPos,x=p.bdPos,_=t[p.valLetter+"axis"],h=t[p.posLetter+"axis"],S=v.side==="both",w=S||v.side==="positive",E=S||v.side==="negative",C=m.selectAll("path.violin").data(k.identity);C.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","violin"),C.exit().remove(),C.each(function(F){var V,j,te,J,K,Z,X,Q,re=M.select(this),ae=F.density,ie=ae.length,le=h.c2l(F.pos+y,!0),pe=h.l2p(le);if(v.width)V=p.maxKDE/x;else{var de=o._violinScaleGroupStats[v.scalegroup];V=v.scalemode==="count"?de.maxKDE/x*(de.maxCount/F.pts.length):de.maxKDE/x}if(w){for(X=new Array(ie),K=0;K<ie;K++)(Q=X[K]={})[p.posLetter]=le+ae[K].v/V,Q[p.valLetter]=_.c2l(ae[K].t,!0);j=d(X,v)}if(E){for(X=new Array(ie),Z=0,K=ie-1;Z<ie;Z++,K--)(Q=X[Z]={})[p.posLetter]=le-ae[K].v/V,Q[p.valLetter]=_.c2l(ae[K].t,!0);te=d(X,v)}if(S)J=j+"L"+te.substr(1)+"Z";else{var ve=[pe,_.c2p(ae[0].t)],be=[pe,_.c2p(ae[ie-1].t)];v.orientation==="h"&&(ve.reverse(),be.reverse()),J=w?"M"+ve+"L"+j.substr(1)+"L"+be:"M"+be+"L"+te.substr(1)+"L"+ve}re.attr("d",J),F.posCenterPx=pe,F.posDensityScale=V*x,F.path=re.node(),F.pathLength=F.path.getTotalLength()/(S?2:1)});var P,O,R,U=v.box,z=U.width,N=(U.line||{}).width;S?(P=x*z,O=0):w?(P=[0,x*z/2],O=N*{x:1,y:-1}[p.posLetter]):(P=[x*z/2,0],O=N*{x:-1,y:1}[p.posLetter]),T.plotBoxAndWhiskers(m,{pos:h,val:_},v,{bPos:y,bdPos:P,bPosPxOffset:O}),T.plotBoxMean(m,{pos:h,val:_},v,{bPos:y,bdPos:P,bPosPxOffset:O}),!v.box.visible&&v.meanline.visible&&(R=k.identity);var W=m.selectAll("path.meanline").data(R||[]);W.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",n?"none":"non-scaling-stroke"),W.exit().remove(),W.each(function(F){var V=_.c2p(F.mean,!0),j=g.getPositionOnKdePath(F,v,V);M.select(this).attr("d",v.orientation==="h"?"M"+V+","+j[0]+"V"+j[1]:"M"+j[0]+","+V+"H"+j[1])}),T.plotPoints(m,{x:l,y:u},v,p)}})}},95908:function(ee,D,e){var M=e(33428),k=e(76308),a=e(49224).stylePoints;ee.exports=function(T){var b=M.select(T).selectAll("g.trace.violins");b.style("opacity",function(g){return g[0].trace.opacity}),b.each(function(g){var s=g[0].trace,t=M.select(this),i=s.box||{},r=i.line||{},n=s.meanline||{},o=n.width;t.selectAll("path.violin").style("stroke-width",s.line.width+"px").call(k.stroke,s.line.color).call(k.fill,s.fillcolor),t.selectAll("path.box").style("stroke-width",r.width+"px").call(k.stroke,r.color).call(k.fill,i.fillcolor);var l={"stroke-width":o+"px","stroke-dasharray":2*o+"px,"+o+"px"};t.selectAll("path.mean").style(l).call(k.stroke,n.color),t.selectAll("path.meanline").style(l).call(k.stroke,n.color),a(t,s,T)})}},58168:function(ee,D,e){var M=e(49084),k=e(50048),a=e(16716),T=e(45464),b=e(92880).extendFlat,g=e(67824).overrideAll,s=ee.exports=g(b({x:k.x,y:k.y,z:k.z,value:k.value,isomin:k.isomin,isomax:k.isomax,surface:k.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:k.slices,caps:k.caps,text:k.text,hovertext:k.hovertext,xhoverformat:k.xhoverformat,yhoverformat:k.yhoverformat,zhoverformat:k.zhoverformat,valuehoverformat:k.valuehoverformat,hovertemplate:k.hovertemplate},M("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:k.colorbar,opacity:k.opacity,opacityscale:a.opacityscale,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:b({},T.hoverinfo),showlegend:b({},T.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},91976:function(ee,D,e){var M=e(67792).gl_mesh3d,k=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,T=e(43080),b=e(8932).extractOpts,g=e(52094),s=e(31460).findNearestOnAxis,t=e(31460).generateIsoMeshes;function i(n,o,l){this.scene=n,this.uid=l,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var r=i.prototype;r.handlePick=function(n){if(n.object===this.mesh){var o=n.data.index,l=this.data._meshX[o],u=this.data._meshY[o],d=this.data._meshZ[o],c=this.data._Ys.length,m=this.data._Zs.length,f=s(l,this.data._Xs).id,p=s(u,this.data._Ys).id,v=s(d,this.data._Zs).id,y=n.index=v+m*p+m*c*f;n.traceCoordinate=[this.data._meshX[y],this.data._meshY[y],this.data._meshZ[y],this.data._value[y]];var x=this.data.hovertext||this.data.text;return a(x)&&x[y]!==void 0?n.textLabel=x[y]:x&&(n.textLabel=x),!0}},r.update=function(n){var o=this.scene,l=o.fullSceneLayout;function u(m,f,p,v){return f.map(function(y){return m.d2l(y,0,v)*p})}this.data=t(n);var d={positions:g(u(l.xaxis,n._meshX,o.dataScale[0],n.xcalendar),u(l.yaxis,n._meshY,o.dataScale[1],n.ycalendar),u(l.zaxis,n._meshZ,o.dataScale[2],n.zcalendar)),cells:g(n._meshI,n._meshJ,n._meshK),lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,opacityscale:n.opacityscale,contourEnable:n.contour.show,contourColor:T(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},c=b(n);d.vertexIntensity=n._meshIntensity,d.vertexIntensityBounds=[c.min,c.max],d.colormap=k(n),this.mesh.update(d)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(n,o){var l=n.glplot.gl,u=M({gl:l}),d=new i(n,u,o.uid);return u._trace=d,d.update(o),n.glplot.add(u),d}},12448:function(ee,D,e){var M=e(3400),k=e(58168),a=e(70548).supplyIsoDefaults,T=e(60192).opacityscaleDefaults;ee.exports=function(b,g,s,t){function i(r,n){return M.coerce(b,g,k,r,n)}a(b,g,s,t,i),T(b,g,t,i)}},67776:function(ee,D,e){ee.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(ee,D,e){var M=e(20832),k=e(52904).line,a=e(45464),T=e(29736).axisHoverFormat,b=e(21776).Ks,g=e(21776).Gw,s=e(10213),t=e(92880).extendFlat,i=e(76308);function r(n){return{marker:{color:t({},M.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},M.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},M.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}ee.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),hovertext:M.hovertext,hovertemplate:b({},{keys:s.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:g({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:M.text,textposition:M.textposition,insidetextanchor:M.insidetextanchor,textangle:M.textangle,textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:M.outsidetextfont,constraintext:M.constraintext,cliponaxis:M.cliponaxis,orientation:M.orientation,offset:M.offset,width:M.width,increasing:r(),decreasing:r(),totals:r(),connector:{line:{color:t({},k.color,{dflt:i.defaultLine}),width:t({},k.width,{editType:"plot"}),dash:k.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup}},73540:function(ee,D,e){var M=e(54460),k=e(1220),a=e(3400).mergeArray,T=e(4500),b=e(39032).BADNUM;function g(t){return t==="a"||t==="absolute"}function s(t){return t==="t"||t==="total"}ee.exports=function(t,i){var r,n,o,l,u,d,c=M.getFromId(t,i.xaxis||"x"),m=M.getFromId(t,i.yaxis||"y");i.orientation==="h"?(r=c.makeCalcdata(i,"x"),o=m.makeCalcdata(i,"y"),l=k(i,m,"y",o),u=!!i.yperiodalignment,d="y"):(r=m.makeCalcdata(i,"y"),o=c.makeCalcdata(i,"x"),l=k(i,c,"x",o),u=!!i.xperiodalignment,d="x"),n=l.vals;for(var f,p=Math.min(n.length,r.length),v=new Array(p),y=0,x=!1,_=0;_<p;_++){var h=r[_]||0,S=!1;(r[_]!==b||s(i.measure[_])||g(i.measure[_]))&&_+1<p&&(r[_+1]!==b||s(i.measure[_+1])||g(i.measure[_+1]))&&(S=!0);var w=v[_]={i:_,p:n[_],s:h,rawS:h,cNext:S};g(i.measure[_])?(y=w.s,w.isSum=!0,w.dir="totals",w.s=y):s(i.measure[_])?(w.isSum=!0,w.dir="totals",w.s=y):(w.isSum=!1,w.dir=w.rawS<0?"decreasing":"increasing",f=w.s,w.s=y+f,y+=f),w.dir==="totals"&&(x=!0),u&&(v[_].orig_p=o[_],v[_][d+"End"]=l.ends[_],v[_][d+"Start"]=l.starts[_]),i.ids&&(w.id=String(i.ids[_])),w.v=(i.base||0)+y}return v.length&&(v[0].hasTotals=x),a(i.text,v,"tx"),a(i.hovertext,v,"htx"),T(v,i),v}},10213:function(ee){ee.exports={eventDataKeys:["initial","delta","final"]}},50152:function(ee,D,e){var M=e(96376).setGroupPositions;ee.exports=function(k,a){var T,b,g=k._fullLayout,s=k._fullData,t=k.calcdata,i=a.xaxis,r=a.yaxis,n=[],o=[],l=[];for(b=0;b<s.length;b++){var u=s[b];u.visible===!0&&u.xaxis===i._id&&u.yaxis===r._id&&u.type==="waterfall"&&(T=t[b],u.orientation==="h"?l.push(T):o.push(T),n.push(T))}var d={mode:g.waterfallmode,norm:g.waterfallnorm,gap:g.waterfallgap,groupgap:g.waterfallgroupgap};for(M(k,i,r,o,d),M(k,r,i,l,d),b=0;b<n.length;b++){T=n[b];for(var c=0;c<T.length;c++){var m=T[c];m.isSum===!1&&(m.s0+=c===0?0:T[c-1].s),c+1<T.length&&(T[c].nextP0=T[c+1].p0,T[c].nextS0=T[c+1].s0)}}}},24224:function(ee,D,e){var M=e(3400),k=e(20011),a=e(31508).handleText,T=e(43980),b=e(31147),g=e(65776),s=e(76308),t=e(48164),i=t.INCREASING.COLOR,r=t.DECREASING.COLOR;function n(o,l,u){o(l+".marker.color",u),o(l+".marker.line.color",s.defaultLine),o(l+".marker.line.width")}ee.exports={supplyDefaults:function(o,l,u,d){function c(f,p){return M.coerce(o,l,g,f,p)}if(T(o,l,d,c)){b(o,l,d,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",l.x&&!l.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var m=c("textposition");a(o,l,d,c,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&(c("texttemplate"),l.texttemplate||c("textinfo")),n(c,"increasing",i),n(c,"decreasing",r),n(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash")))}else l.visible=!1},crossTraceDefaults:function(o,l){var u,d;function c(f){return M.coerce(d._input,d,g,f)}if(l.waterfallmode==="group")for(var m=0;m<o.length;m++)u=(d=o[m])._input,k(u,d,l,c)}}},53256:function(ee){ee.exports=function(D,e){return D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,"initial"in e&&(D.initial=e.initial),"delta"in e&&(D.delta=e.delta),"final"in e&&(D.final=e.final),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D}},94196:function(ee,D,e){var M=e(54460).hoverLabelText,k=e(76308).opacity,a=e(63400).hoverOnBars,T=e(48164),b=T.INCREASING.SYMBOL,g=T.DECREASING.SYMBOL;ee.exports=function(s,t,i,r,n){var o=a(s,t,i,r,n);if(o){var l=o.cd,u=l[0].trace,d=u.orientation==="h",c=d?"x":"y",m=d?s.xa:s.ya,f=l[o.index],p=f.isSum?f.b+f.s:f.rawS;o.initial=f.b+f.s-p,o.delta=p,o.final=o.initial+o.delta;var v=w(Math.abs(o.delta));o.deltaLabel=p<0?"("+v+")":v,o.finalLabel=w(o.final),o.initialLabel=w(o.initial);var y=f.hi||u.hoverinfo,x=[];if(y&&y!=="none"&&y!=="skip"){var _=y==="all",h=y.split("+"),S=function(E){return _||h.indexOf(E)!==-1};f.isSum||(!S("final")||S(d?"x":"y")||x.push(o.finalLabel),S("delta")&&(p<0?x.push(o.deltaLabel+" "+g):x.push(o.deltaLabel+" "+b)),S("initial")&&x.push("Initial: "+o.initialLabel))}return x.length&&(o.extraText=x.join("<br>")),o.color=function(E,C){var P=E[C.dir].marker,O=P.color,R=P.line.color,U=P.line.width;return k(O)?O:k(R)&&U?R:void 0}(u,f),[o]}function w(E){return M(m,E,u[c+"hoverformat"])}}},95952:function(ee,D,e){ee.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(ee){ee.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(ee,D,e){var M=e(3400),k=e(91352);ee.exports=function(a,T,b){var g=!1;function s(r,n){return M.coerce(a,T,k,r,n)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&i.type==="waterfall"){g=!0;break}}g&&(s("waterfallmode"),s("waterfallgap",.2),s("waterfallgroupgap"))}},64488:function(ee,D,e){var M=e(33428),k=e(3400),a=e(43616),T=e(39032).BADNUM,b=e(98184),g=e(82744).clearMinTextSize;ee.exports=function(s,t,i,r){var n=s._fullLayout;g("waterfall",n),b.plot(s,t,i,r,{mode:n.waterfallmode,norm:n.waterfallmode,gap:n.waterfallgap,groupgap:n.waterfallgroupgap}),function(o,l,u,d){var c=l.xaxis,m=l.yaxis;k.makeTraceGroups(d,u,"trace bars").each(function(f){var p=M.select(this),v=f[0].trace,y=k.ensureSingle(p,"g","lines");if(v.connector&&v.connector.visible){var x=v.orientation==="h",_=v.connector.mode,h=y.selectAll("g.line").data(k.identity);h.enter().append("g").classed("line",!0),h.exit().remove();var S=h.size();h.each(function(w,E){if(E===S-1||w.cNext){var C=function(U,z,N,W){var F=[],V=[],j=W?z:N,te=W?N:z;return F[0]=j.c2p(U.s0,!0),V[0]=te.c2p(U.p0,!0),F[1]=j.c2p(U.s1,!0),V[1]=te.c2p(U.p1,!0),F[2]=j.c2p(U.nextS0,!0),V[2]=te.c2p(U.nextP0,!0),W?[F,V]:[V,F]}(w,c,m,x),P=C[0],O=C[1],R="";P[0]!==T&&O[0]!==T&&P[1]!==T&&O[1]!==T&&(_==="spanning"&&!w.isSum&&E>0&&(R+=x?"M"+P[0]+","+O[1]+"V"+O[0]:"M"+P[1]+","+O[0]+"H"+P[0]),_!=="between"&&(w.isSum||E<S-1)&&(R+=x?"M"+P[1]+","+O[0]+"V"+O[1]:"M"+P[0]+","+O[1]+"H"+P[1]),P[2]!==T&&O[2]!==T&&(R+=x?"M"+P[1]+","+O[1]+"V"+O[2]:"M"+P[1]+","+O[1]+"H"+P[2])),R===""&&(R="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",R).call(a.setClipUrl,l.layerClipId,o)}})}else y.remove()})}(s,t,i,r)}},12252:function(ee,D,e){var M=e(33428),k=e(43616),a=e(76308),T=e(13448).DESELECTDIM,b=e(60100),g=e(82744).resizeText,s=b.styleTextPoints;ee.exports={style:function(t,i,r){var n=r||M.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");g(t,n,"waterfall"),n.style("opacity",function(o){return o[0].trace.opacity}),n.each(function(o){var l=M.select(this),u=o[0].trace;l.selectAll(".point > path").each(function(d){if(!d.isBlank){var c=u[d.dir].marker;M.select(this).call(a.fill,c.color).call(a.stroke,c.line.color).call(k.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!d.selected?T:1)}}),s(l,u,t),l.selectAll(".lines").each(function(){var d=u.connector.line;k.lineGroupStyle(M.select(this).selectAll("path"),d.width,d.color,d.dash)})})}}},84224:function(ee,D,e){var M=e(54460),k=e(3400),a=e(73060),T=e(60468).W,b=e(39032).BADNUM;D.moduleType="transform",D.name="aggregate";var g=D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=g.aggregations;function t(o,l,u,d){if(d.enabled){for(var c=d.target,m=k.nestedProperty(l,c),f=m.get(),p=function(x,_){var h=x.func,S=_.d2c,w=_.c2d;switch(h){case"count":return i;case"first":return r;case"last":return n;case"sum":return function(E,C){for(var P=0,O=0;O<C.length;O++){var R=S(E[C[O]]);R!==b&&(P+=R)}return w(P)};case"avg":return function(E,C){for(var P=0,O=0,R=0;R<C.length;R++){var U=S(E[C[R]]);U!==b&&(P+=U,O++)}return O?w(P/O):b};case"min":return function(E,C){for(var P=1/0,O=0;O<C.length;O++){var R=S(E[C[O]]);R!==b&&(P=Math.min(P,R))}return P===1/0?b:w(P)};case"max":return function(E,C){for(var P=-1/0,O=0;O<C.length;O++){var R=S(E[C[O]]);R!==b&&(P=Math.max(P,R))}return P===-1/0?b:w(P)};case"range":return function(E,C){for(var P=1/0,O=-1/0,R=0;R<C.length;R++){var U=S(E[C[R]]);U!==b&&(P=Math.min(P,U),O=Math.max(O,U))}return O===-1/0||P===1/0?b:w(O-P)};case"change":return function(E,C){var P=S(E[C[0]]),O=S(E[C[C.length-1]]);return P===b||O===b?b:w(O-P)};case"median":return function(E,C){for(var P=[],O=0;O<C.length;O++){var R=S(E[C[O]]);R!==b&&P.push(R)}if(!P.length)return b;P.sort(k.sorterAsc);var U=(P.length-1)/2;return w((P[Math.floor(U)]+P[Math.ceil(U)])/2)};case"mode":return function(E,C){for(var P={},O=0,R=b,U=0;U<C.length;U++){var z=S(E[C[U]]);if(z!==b){var N=P[z]=(P[z]||0)+1;N>O&&(O=N,R=z)}}return O?w(R):b};case"rms":return function(E,C){for(var P=0,O=0,R=0;R<C.length;R++){var U=S(E[C[R]]);U!==b&&(P+=U*U,O++)}return O?w(Math.sqrt(P/O)):b};case"stddev":return function(E,C){var P,O=0,R=0,U=1,z=b;for(P=0;P<C.length&&z===b;P++)z=S(E[C[P]]);if(z===b)return b;for(;P<C.length;P++){var N=S(E[C[P]]);if(N!==b){var W=N-z;O+=W,R+=W*W,U++}}var F=x.funcmode==="sample"?U-1:U;return F?Math.sqrt((R-O*O/U)/F):0}}}(d,M.getDataConversions(o,l,c,f)),v=new Array(u.length),y=0;y<u.length;y++)v[y]=p(f,u[y]);m.set(v),d.func==="count"&&k.pushUnique(l._arrayAttrs,c)}}function i(o,l){return l.length}function r(o,l){return o[l[0]]}function n(o,l){return o[l[l.length-1]]}D.supplyDefaults=function(o,l){var u,d={};function c(w,E){return k.coerce(o,d,g,w,E)}if(!c("enabled"))return d;var m=a.findArrayAttributes(l),f={};for(u=0;u<m.length;u++)f[m[u]]=1;var p=c("groups");if(!Array.isArray(p)){if(!f[p])return d.enabled=!1,d;f[p]=0}var v,y=o.aggregations||[],x=d.aggregations=new Array(y.length);function _(w,E){return k.coerce(y[u],v,s,w,E)}for(u=0;u<y.length;u++){v={_index:u};var h=_("target"),S=_("func");_("enabled")&&h&&(f[h]||S==="count"&&f[h]===void 0)?(S==="stddev"&&_("funcmode"),f[h]=0,x[u]=v):x[u]={enabled:!1,_index:u}}for(u=0;u<m.length;u++)f[m[u]]&&x.push({target:m[u],func:s.func.dflt,enabled:!0,_index:-1});return d},D.calcTransform=function(o,l,u){if(u.enabled){var d=u.groups,c=k.getTargetArray(l,{target:d});if(c){var m,f,p,v,y={},x={},_=[],h=T(l.transforms,u),S=c.length;for(l._length&&(S=Math.min(S,l._length)),m=0;m<S;m++)(p=y[f=c[m]])===void 0?(y[f]=_.length,v=[m],_.push(v),x[y[f]]=h(m)):(_[p].push(m),x[y[f]]=(x[y[f]]||[]).concat(h(m)));u._indexToPoints=x;var w=u.aggregations;for(m=0;m<w.length;m++)t(o,l,_,w[m]);typeof d=="string"&&t(o,l,_,{target:d,func:"first",enabled:!0}),l._length=_.length}}}},76744:function(ee,D,e){var M=e(3400),k=e(24040),a=e(54460),T=e(60468).W,b=e(69104),g=b.COMPARISON_OPS,s=b.INTERVAL_OPS,t=b.SET_OPS;D.moduleType="transform",D.name="filter",D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(g).concat(s).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},D.supplyDefaults=function(i){var r={};function n(u,d){return M.coerce(i,r,D.attributes,u,d)}if(n("enabled")){var o=n("target");if(M.isArrayOrTypedArray(o)&&o.length===0)return r.enabled=!1,r;n("preservegaps"),n("operation"),n("value");var l=k.getComponentMethod("calendars","handleDefaults");l(i,r,"valuecalendar",null),l(i,r,"targetcalendar",null)}return r},D.calcTransform=function(i,r,n){if(n.enabled){var o=M.getTargetArray(r,n);if(o){var l=n.target,u=o.length;r._length&&(u=Math.min(u,r._length));var d=n.targetcalendar,c=r._arrayAttrs,m=n.preservegaps;if(typeof l=="string"){var f=M.nestedProperty(r,l+"calendar").get();f&&(d=f)}var p,v,y=function(C,P,O){var R=C.operation,U=C.value,z=M.isArrayOrTypedArray(U);function N(j){return j.indexOf(R)!==-1}var W,F=function(j){return P(j,0,C.valuecalendar)},V=function(j){return P(j,0,O)};switch(N(g)?W=F(z?U[0]:U):N(s)?W=z?[F(U[0]),F(U[1])]:[F(U),F(U)]:N(t)&&(W=z?U.map(F):[F(U)]),R){case"=":return function(j){return V(j)===W};case"!=":return function(j){return V(j)!==W};case"<":return function(j){return V(j)<W};case"<=":return function(j){return V(j)<=W};case">":return function(j){return V(j)>W};case">=":return function(j){return V(j)>=W};case"[]":return function(j){var te=V(j);return te>=W[0]&&te<=W[1]};case"()":return function(j){var te=V(j);return te>W[0]&&te<W[1]};case"[)":return function(j){var te=V(j);return te>=W[0]&&te<W[1]};case"(]":return function(j){var te=V(j);return te>W[0]&&te<=W[1]};case"][":return function(j){var te=V(j);return te<=W[0]||te>=W[1]};case")(":return function(j){var te=V(j);return te<W[0]||te>W[1]};case"](":return function(j){var te=V(j);return te<=W[0]||te>W[1]};case")[":return function(j){var te=V(j);return te<W[0]||te>=W[1]};case"{}":return function(j){return W.indexOf(V(j))!==-1};case"}{":return function(j){return W.indexOf(V(j))===-1}}}(n,a.getDataToCoordFunc(i,r,l,o),d),x={},_={},h=0;m?(p=function(C){x[C.astr]=M.extendDeep([],C.get()),C.set(new Array(u))},v=function(C,P){var O=x[C.astr][P];C.get()[P]=O}):(p=function(C){x[C.astr]=M.extendDeep([],C.get()),C.set([])},v=function(C,P){var O=x[C.astr][P];C.get().push(O)}),E(p);for(var S=T(r.transforms,n),w=0;w<u;w++)y(o[w])?(E(v,w),_[h++]=S(w)):m&&h++;n._indexToPoints=_,r._length=h}}function E(C,P){for(var O=0;O<c.length;O++)C(M.nestedProperty(r,c[O]),P)}}},32028:function(ee,D,e){var M=e(3400),k=e(73060),a=e(7316),T=e(60468).W;function b(g,s){var t,i,r,n,o,l,u,d,c,m,f=s.transform,p=s.transformIndex,v=g.transforms[p].groups,y=T(g.transforms,f);if(!M.isArrayOrTypedArray(v)||v.length===0)return[g];var x=M.filterUnique(v),_=new Array(x.length),h=v.length,S=k.findArrayAttributes(g),w=f.styles||[],E={};for(t=0;t<w.length;t++)E[w[t].target]=w[t].value;f.styles&&(m=M.keyedContainer(f,"styles","target","value.name"));var C={},P={};for(t=0;t<x.length;t++){C[l=x[t]]=t,P[l]=0,(u=_[t]=M.extendDeepNoArrays({},g))._group=l,u.transforms[p]._indexToPoints={};var O=null;for(m&&(O=m.get(l)),u.name=O||O===""?O:M.templateString(f.nameformat,{trace:g.name,group:l}),d=u.transforms,u.transforms=[],i=0;i<d.length;i++)u.transforms[i]=M.extendDeepNoArrays({},d[i]);for(i=0;i<S.length;i++)M.nestedProperty(u,S[i]).set([])}for(r=0;r<S.length;r++){for(n=S[r],i=0,c=[];i<x.length;i++)c[i]=M.nestedProperty(_[i],n).get();for(o=M.nestedProperty(g,n).get(),i=0;i<h;i++)c[C[v[i]]].push(o[i])}for(i=0;i<h;i++)(u=_[C[v[i]]]).transforms[p]._indexToPoints[P[v[i]]]=y(i),P[v[i]]++;for(t=0;t<x.length;t++)l=x[t],u=_[t],a.clearExpandedTraceDefaultColors(u),u=M.extendDeepNoArrays(u,E[l]||{});return _}D.moduleType="transform",D.name="groupby",D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},D.supplyDefaults=function(g,s,t){var i,r={};function n(c,m){return M.coerce(g,r,D.attributes,c,m)}if(!n("enabled"))return r;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var o=g.styles,l=r.styles=[];if(o)for(i=0;i<o.length;i++){var u=l[i]={};M.coerce(o[i],l[i],D.attributes.styles,"target");var d=M.coerce(o[i],l[i],D.attributes.styles,"value");M.isPlainObject(d)?u.value=M.extendDeep({},d):d&&delete u.value}return r},D.transform=function(g,s){var t,i,r,n=[];for(i=0;i<g.length;i++)for(t=b(g[i],s),r=0;r<t.length;r++)n.push(t[r]);return n}},60468:function(ee,D){D.W=function(e,M){for(var k,a,T=0;T<e.length&&(k=e[T])!==M;T++)k._indexToPoints&&k.enabled!==!1&&(a=k._indexToPoints);var b=a?function(g){return a[g]}:function(g){return[g]};return b}},76272:function(ee,D,e){var M=e(3400),k=e(54460),a=e(60468).W,T=e(39032).BADNUM;D.moduleType="transform",D.name="sort",D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},D.supplyDefaults=function(b){var g={};function s(t,i){return M.coerce(b,g,D.attributes,t,i)}return s("enabled")&&(s("target"),s("order")),g},D.calcTransform=function(b,g,s){if(s.enabled){var t=M.getTargetArray(g,s);if(t){var i=s.target,r=t.length;g._length&&(r=Math.min(r,g._length));var n,o,l=g._arrayAttrs,u=function(v,y,x,_){var h,S=new Array(_),w=new Array(_);for(h=0;h<_;h++)S[h]={v:y[h],i:h};for(S.sort(function(E,C){switch(E.order){case"ascending":return function(P,O){var R=C(P.v),U=C(O.v);return R===T?1:U===T?-1:R-U};case"descending":return function(P,O){var R=C(P.v),U=C(O.v);return R===T?1:U===T?-1:U-R}}}(v,x)),h=0;h<_;h++)w[h]=S[h].i;return w}(s,t,k.getDataToCoordFunc(b,g,i,t),r),d=a(g.transforms,s),c={};for(n=0;n<l.length;n++){var m=M.nestedProperty(g,l[n]),f=m.get(),p=new Array(r);for(o=0;o<r;o++)p[o]=f[u[o]];m.set(p)}for(o=0;o<r;o++)c[o]=d(u[o]);s._indexToPoints=c,g._length=r}}}},25788:function(ee,D){D.version="2.30.1"},67792:function(ee,D,e){var M,k=e(4168);M=function(){return function(){var a={7386:function(g,s,t){g.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(g,s,t){function i(fe,xe){for(var _e=0;_e<xe.length;_e++){var Oe=xe[_e];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(fe,Oe.key,Oe)}}function r(fe,xe){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Oe){return _e.__proto__=Oe,_e},r(fe,xe)}function n(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function o(fe){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},o(fe)}function l(fe){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},l(fe)}var u=t(3910),d=t(3187),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.lW=p,s.h2=50;var m=2147483647;function f(fe){if(fe>m)throw new RangeError('The value "'+fe+'" is invalid for option "size"');var xe=new Uint8Array(fe);return Object.setPrototypeOf(xe,p.prototype),xe}function p(fe,xe,_e){if(typeof fe=="number"){if(typeof xe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(fe)}return v(fe,xe,_e)}function v(fe,xe,_e){if(typeof fe=="string")return function(Pe,Ue){if(typeof Ue=="string"&&Ue!==""||(Ue="utf8"),!p.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);var Ve=0|w(Pe,Ue),Xe=f(Ve),it=Xe.write(Pe,Ue);return it!==Ve&&(Xe=Xe.slice(0,it)),Xe}(fe,xe);if(ArrayBuffer.isView(fe))return function(Pe){if(Ee(Pe,Uint8Array)){var Ue=new Uint8Array(Pe);return h(Ue.buffer,Ue.byteOffset,Ue.byteLength)}return _(Pe)}(fe);if(fe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(fe));if(Ee(fe,ArrayBuffer)||fe&&Ee(fe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(fe,SharedArrayBuffer)||fe&&Ee(fe.buffer,SharedArrayBuffer)))return h(fe,xe,_e);if(typeof fe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Oe=fe.valueOf&&fe.valueOf();if(Oe!=null&&Oe!==fe)return p.from(Oe,xe,_e);var De=function(Pe){if(p.isBuffer(Pe)){var Ue=0|S(Pe.length),Ve=f(Ue);return Ve.length===0||Pe.copy(Ve,0,0,Ue),Ve}return Pe.length!==void 0?typeof Pe.length!="number"||Te(Pe.length)?f(0):_(Pe):Pe.type==="Buffer"&&Array.isArray(Pe.data)?_(Pe.data):void 0}(fe);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof fe[Symbol.toPrimitive]=="function")return p.from(fe[Symbol.toPrimitive]("string"),xe,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(fe))}function y(fe){if(typeof fe!="number")throw new TypeError('"size" argument must be of type number');if(fe<0)throw new RangeError('The value "'+fe+'" is invalid for option "size"')}function x(fe){return y(fe),f(fe<0?0:0|S(fe))}function _(fe){for(var xe=fe.length<0?0:0|S(fe.length),_e=f(xe),Oe=0;Oe<xe;Oe+=1)_e[Oe]=255&fe[Oe];return _e}function h(fe,xe,_e){if(xe<0||fe.byteLength<xe)throw new RangeError('"offset" is outside of buffer bounds');if(fe.byteLength<xe+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var Oe;return Oe=xe===void 0&&_e===void 0?new Uint8Array(fe):_e===void 0?new Uint8Array(fe,xe):new Uint8Array(fe,xe,_e),Object.setPrototypeOf(Oe,p.prototype),Oe}function S(fe){if(fe>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|fe}function w(fe,xe){if(p.isBuffer(fe))return fe.length;if(ArrayBuffer.isView(fe)||Ee(fe,ArrayBuffer))return fe.byteLength;if(typeof fe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(fe));var _e=fe.length,Oe=arguments.length>2&&arguments[2]===!0;if(!Oe&&_e===0)return 0;for(var De=!1;;)switch(xe){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return ue(fe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_e;case"hex":return _e>>>1;case"base64":return oe(fe).length;default:if(De)return Oe?-1:ue(fe).length;xe=(""+xe).toLowerCase(),De=!0}}function E(fe,xe,_e){var Oe=!1;if((xe===void 0||xe<0)&&(xe=0),xe>this.length||((_e===void 0||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0)<=(xe>>>=0))return"";for(fe||(fe="utf8");;)switch(fe){case"hex":return K(this,xe,_e);case"utf8":case"utf-8":return V(this,xe,_e);case"ascii":return te(this,xe,_e);case"latin1":case"binary":return J(this,xe,_e);case"base64":return F(this,xe,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,xe,_e);default:if(Oe)throw new TypeError("Unknown encoding: "+fe);fe=(fe+"").toLowerCase(),Oe=!0}}function C(fe,xe,_e){var Oe=fe[xe];fe[xe]=fe[_e],fe[_e]=Oe}function P(fe,xe,_e,Oe,De){if(fe.length===0)return-1;if(typeof _e=="string"?(Oe=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),Te(_e=+_e)&&(_e=De?0:fe.length-1),_e<0&&(_e=fe.length+_e),_e>=fe.length){if(De)return-1;_e=fe.length-1}else if(_e<0){if(!De)return-1;_e=0}if(typeof xe=="string"&&(xe=p.from(xe,Oe)),p.isBuffer(xe))return xe.length===0?-1:O(fe,xe,_e,Oe,De);if(typeof xe=="number")return xe&=255,typeof Uint8Array.prototype.indexOf=="function"?De?Uint8Array.prototype.indexOf.call(fe,xe,_e):Uint8Array.prototype.lastIndexOf.call(fe,xe,_e):O(fe,[xe],_e,Oe,De);throw new TypeError("val must be string, number or Buffer")}function O(fe,xe,_e,Oe,De){var Pe,Ue=1,Ve=fe.length,Xe=xe.length;if(Oe!==void 0&&((Oe=String(Oe).toLowerCase())==="ucs2"||Oe==="ucs-2"||Oe==="utf16le"||Oe==="utf-16le")){if(fe.length<2||xe.length<2)return-1;Ue=2,Ve/=2,Xe/=2,_e/=2}function it(gt,et){return Ue===1?gt[et]:gt.readUInt16BE(et*Ue)}if(De){var tt=-1;for(Pe=_e;Pe<Ve;Pe++)if(it(fe,Pe)===it(xe,tt===-1?0:Pe-tt)){if(tt===-1&&(tt=Pe),Pe-tt+1===Xe)return tt*Ue}else tt!==-1&&(Pe-=Pe-tt),tt=-1}else for(_e+Xe>Ve&&(_e=Ve-Xe),Pe=_e;Pe>=0;Pe--){for(var pt=!0,mt=0;mt<Xe;mt++)if(it(fe,Pe+mt)!==it(xe,mt)){pt=!1;break}if(pt)return Pe}return-1}function R(fe,xe,_e,Oe){_e=Number(_e)||0;var De=fe.length-_e;Oe?(Oe=Number(Oe))>De&&(Oe=De):Oe=De;var Pe,Ue=xe.length;for(Oe>Ue/2&&(Oe=Ue/2),Pe=0;Pe<Oe;++Pe){var Ve=parseInt(xe.substr(2*Pe,2),16);if(Te(Ve))return Pe;fe[_e+Pe]=Ve}return Pe}function U(fe,xe,_e,Oe){return he(ue(xe,fe.length-_e),fe,_e,Oe)}function z(fe,xe,_e,Oe){return he(function(De){for(var Pe=[],Ue=0;Ue<De.length;++Ue)Pe.push(255&De.charCodeAt(Ue));return Pe}(xe),fe,_e,Oe)}function N(fe,xe,_e,Oe){return he(oe(xe),fe,_e,Oe)}function W(fe,xe,_e,Oe){return he(function(De,Pe){for(var Ue,Ve,Xe,it=[],tt=0;tt<De.length&&!((Pe-=2)<0);++tt)Ve=(Ue=De.charCodeAt(tt))>>8,Xe=Ue%256,it.push(Xe),it.push(Ve);return it}(xe,fe.length-_e),fe,_e,Oe)}function F(fe,xe,_e){return xe===0&&_e===fe.length?u.fromByteArray(fe):u.fromByteArray(fe.slice(xe,_e))}function V(fe,xe,_e){_e=Math.min(fe.length,_e);for(var Oe=[],De=xe;De<_e;){var Pe=fe[De],Ue=null,Ve=Pe>239?4:Pe>223?3:Pe>191?2:1;if(De+Ve<=_e){var Xe=void 0,it=void 0,tt=void 0,pt=void 0;switch(Ve){case 1:Pe<128&&(Ue=Pe);break;case 2:(192&(Xe=fe[De+1]))==128&&(pt=(31&Pe)<<6|63&Xe)>127&&(Ue=pt);break;case 3:Xe=fe[De+1],it=fe[De+2],(192&Xe)==128&&(192&it)==128&&(pt=(15&Pe)<<12|(63&Xe)<<6|63&it)>2047&&(pt<55296||pt>57343)&&(Ue=pt);break;case 4:Xe=fe[De+1],it=fe[De+2],tt=fe[De+3],(192&Xe)==128&&(192&it)==128&&(192&tt)==128&&(pt=(15&Pe)<<18|(63&Xe)<<12|(63&it)<<6|63&tt)>65535&&pt<1114112&&(Ue=pt)}}Ue===null?(Ue=65533,Ve=1):Ue>65535&&(Ue-=65536,Oe.push(Ue>>>10&1023|55296),Ue=56320|1023&Ue),Oe.push(Ue),De+=Ve}return function(mt){var gt=mt.length;if(gt<=j)return String.fromCharCode.apply(String,mt);for(var et="",$e=0;$e<gt;)et+=String.fromCharCode.apply(String,mt.slice($e,$e+=j));return et}(Oe)}p.TYPED_ARRAY_SUPPORT=function(){try{var fe=new Uint8Array(1),xe={foo:function(){return 42}};return Object.setPrototypeOf(xe,Uint8Array.prototype),Object.setPrototypeOf(fe,xe),fe.foo()===42}catch{return!1}}(),p.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(fe,xe,_e){return v(fe,xe,_e)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(fe,xe,_e){return function(Oe,De,Pe){return y(Oe),Oe<=0?f(Oe):De!==void 0?typeof Pe=="string"?f(Oe).fill(De,Pe):f(Oe).fill(De):f(Oe)}(fe,xe,_e)},p.allocUnsafe=function(fe){return x(fe)},p.allocUnsafeSlow=function(fe){return x(fe)},p.isBuffer=function(fe){return fe!=null&&fe._isBuffer===!0&&fe!==p.prototype},p.compare=function(fe,xe){if(Ee(fe,Uint8Array)&&(fe=p.from(fe,fe.offset,fe.byteLength)),Ee(xe,Uint8Array)&&(xe=p.from(xe,xe.offset,xe.byteLength)),!p.isBuffer(fe)||!p.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(fe===xe)return 0;for(var _e=fe.length,Oe=xe.length,De=0,Pe=Math.min(_e,Oe);De<Pe;++De)if(fe[De]!==xe[De]){_e=fe[De],Oe=xe[De];break}return _e<Oe?-1:Oe<_e?1:0},p.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(fe,xe){if(!Array.isArray(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(fe.length===0)return p.alloc(0);var _e;if(xe===void 0)for(xe=0,_e=0;_e<fe.length;++_e)xe+=fe[_e].length;var Oe=p.allocUnsafe(xe),De=0;for(_e=0;_e<fe.length;++_e){var Pe=fe[_e];if(Ee(Pe,Uint8Array))De+Pe.length>Oe.length?(p.isBuffer(Pe)||(Pe=p.from(Pe)),Pe.copy(Oe,De)):Uint8Array.prototype.set.call(Oe,Pe,De);else{if(!p.isBuffer(Pe))throw new TypeError('"list" argument must be an Array of Buffers');Pe.copy(Oe,De)}De+=Pe.length}return Oe},p.byteLength=w,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var fe=this.length;if(fe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var xe=0;xe<fe;xe+=2)C(this,xe,xe+1);return this},p.prototype.swap32=function(){var fe=this.length;if(fe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var xe=0;xe<fe;xe+=4)C(this,xe,xe+3),C(this,xe+1,xe+2);return this},p.prototype.swap64=function(){var fe=this.length;if(fe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var xe=0;xe<fe;xe+=8)C(this,xe,xe+7),C(this,xe+1,xe+6),C(this,xe+2,xe+5),C(this,xe+3,xe+4);return this},p.prototype.toString=function(){var fe=this.length;return fe===0?"":arguments.length===0?V(this,0,fe):E.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(fe){if(!p.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe||p.compare(this,fe)===0},p.prototype.inspect=function(){var fe="",xe=s.h2;return fe=this.toString("hex",0,xe).replace(/(.{2})/g,"$1 ").trim(),this.length>xe&&(fe+=" ... "),"<Buffer "+fe+">"},c&&(p.prototype[c]=p.prototype.inspect),p.prototype.compare=function(fe,xe,_e,Oe,De){if(Ee(fe,Uint8Array)&&(fe=p.from(fe,fe.offset,fe.byteLength)),!p.isBuffer(fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(fe));if(xe===void 0&&(xe=0),_e===void 0&&(_e=fe?fe.length:0),Oe===void 0&&(Oe=0),De===void 0&&(De=this.length),xe<0||_e>fe.length||Oe<0||De>this.length)throw new RangeError("out of range index");if(Oe>=De&&xe>=_e)return 0;if(Oe>=De)return-1;if(xe>=_e)return 1;if(this===fe)return 0;for(var Pe=(De>>>=0)-(Oe>>>=0),Ue=(_e>>>=0)-(xe>>>=0),Ve=Math.min(Pe,Ue),Xe=this.slice(Oe,De),it=fe.slice(xe,_e),tt=0;tt<Ve;++tt)if(Xe[tt]!==it[tt]){Pe=Xe[tt],Ue=it[tt];break}return Pe<Ue?-1:Ue<Pe?1:0},p.prototype.includes=function(fe,xe,_e){return this.indexOf(fe,xe,_e)!==-1},p.prototype.indexOf=function(fe,xe,_e){return P(this,fe,xe,_e,!0)},p.prototype.lastIndexOf=function(fe,xe,_e){return P(this,fe,xe,_e,!1)},p.prototype.write=function(fe,xe,_e,Oe){if(xe===void 0)Oe="utf8",_e=this.length,xe=0;else if(_e===void 0&&typeof xe=="string")Oe=xe,_e=this.length,xe=0;else{if(!isFinite(xe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");xe>>>=0,isFinite(_e)?(_e>>>=0,Oe===void 0&&(Oe="utf8")):(Oe=_e,_e=void 0)}var De=this.length-xe;if((_e===void 0||_e>De)&&(_e=De),fe.length>0&&(_e<0||xe<0)||xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");for(var Pe=!1;;)switch(Oe){case"hex":return R(this,fe,xe,_e);case"utf8":case"utf-8":return U(this,fe,xe,_e);case"ascii":case"latin1":case"binary":return z(this,fe,xe,_e);case"base64":return N(this,fe,xe,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,fe,xe,_e);default:if(Pe)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),Pe=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function te(fe,xe,_e){var Oe="";_e=Math.min(fe.length,_e);for(var De=xe;De<_e;++De)Oe+=String.fromCharCode(127&fe[De]);return Oe}function J(fe,xe,_e){var Oe="";_e=Math.min(fe.length,_e);for(var De=xe;De<_e;++De)Oe+=String.fromCharCode(fe[De]);return Oe}function K(fe,xe,_e){var Oe=fe.length;(!xe||xe<0)&&(xe=0),(!_e||_e<0||_e>Oe)&&(_e=Oe);for(var De="",Pe=xe;Pe<_e;++Pe)De+=Me[fe[Pe]];return De}function Z(fe,xe,_e){for(var Oe=fe.slice(xe,_e),De="",Pe=0;Pe<Oe.length-1;Pe+=2)De+=String.fromCharCode(Oe[Pe]+256*Oe[Pe+1]);return De}function X(fe,xe,_e){if(fe%1!=0||fe<0)throw new RangeError("offset is not uint");if(fe+xe>_e)throw new RangeError("Trying to access beyond buffer length")}function Q(fe,xe,_e,Oe,De,Pe){if(!p.isBuffer(fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(xe>De||xe<Pe)throw new RangeError('"value" argument is out of bounds');if(_e+Oe>fe.length)throw new RangeError("Index out of range")}function re(fe,xe,_e,Oe,De){me(xe,Oe,De,fe,_e,7);var Pe=Number(xe&BigInt(4294967295));fe[_e++]=Pe,Pe>>=8,fe[_e++]=Pe,Pe>>=8,fe[_e++]=Pe,Pe>>=8,fe[_e++]=Pe;var Ue=Number(xe>>BigInt(32)&BigInt(4294967295));return fe[_e++]=Ue,Ue>>=8,fe[_e++]=Ue,Ue>>=8,fe[_e++]=Ue,Ue>>=8,fe[_e++]=Ue,_e}function ae(fe,xe,_e,Oe,De){me(xe,Oe,De,fe,_e,7);var Pe=Number(xe&BigInt(4294967295));fe[_e+7]=Pe,Pe>>=8,fe[_e+6]=Pe,Pe>>=8,fe[_e+5]=Pe,Pe>>=8,fe[_e+4]=Pe;var Ue=Number(xe>>BigInt(32)&BigInt(4294967295));return fe[_e+3]=Ue,Ue>>=8,fe[_e+2]=Ue,Ue>>=8,fe[_e+1]=Ue,Ue>>=8,fe[_e]=Ue,_e+8}function ie(fe,xe,_e,Oe,De,Pe){if(_e+Oe>fe.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function le(fe,xe,_e,Oe,De){return xe=+xe,_e>>>=0,De||ie(fe,0,_e,4),d.write(fe,xe,_e,Oe,23,4),_e+4}function pe(fe,xe,_e,Oe,De){return xe=+xe,_e>>>=0,De||ie(fe,0,_e,8),d.write(fe,xe,_e,Oe,52,8),_e+8}p.prototype.slice=function(fe,xe){var _e=this.length;(fe=~~fe)<0?(fe+=_e)<0&&(fe=0):fe>_e&&(fe=_e),(xe=xe===void 0?_e:~~xe)<0?(xe+=_e)<0&&(xe=0):xe>_e&&(xe=_e),xe<fe&&(xe=fe);var Oe=this.subarray(fe,xe);return Object.setPrototypeOf(Oe,p.prototype),Oe},p.prototype.readUintLE=p.prototype.readUIntLE=function(fe,xe,_e){fe>>>=0,xe>>>=0,_e||X(fe,xe,this.length);for(var Oe=this[fe],De=1,Pe=0;++Pe<xe&&(De*=256);)Oe+=this[fe+Pe]*De;return Oe},p.prototype.readUintBE=p.prototype.readUIntBE=function(fe,xe,_e){fe>>>=0,xe>>>=0,_e||X(fe,xe,this.length);for(var Oe=this[fe+--xe],De=1;xe>0&&(De*=256);)Oe+=this[fe+--xe]*De;return Oe},p.prototype.readUint8=p.prototype.readUInt8=function(fe,xe){return fe>>>=0,xe||X(fe,1,this.length),this[fe]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(fe,xe){return fe>>>=0,xe||X(fe,2,this.length),this[fe]|this[fe+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(fe,xe){return fe>>>=0,xe||X(fe,2,this.length),this[fe]<<8|this[fe+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(fe,xe){return fe>>>=0,xe||X(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+16777216*this[fe+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(fe,xe){return fe>>>=0,xe||X(fe,4,this.length),16777216*this[fe]+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},p.prototype.readBigUInt64LE=Se(function(fe){ge(fe>>>=0,"offset");var xe=this[fe],_e=this[fe+7];xe!==void 0&&_e!==void 0||ke(fe,this.length-8);var Oe=xe+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24),De=this[++fe]+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+_e*Math.pow(2,24);return BigInt(Oe)+(BigInt(De)<<BigInt(32))}),p.prototype.readBigUInt64BE=Se(function(fe){ge(fe>>>=0,"offset");var xe=this[fe],_e=this[fe+7];xe!==void 0&&_e!==void 0||ke(fe,this.length-8);var Oe=xe*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe],De=this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+_e;return(BigInt(Oe)<<BigInt(32))+BigInt(De)}),p.prototype.readIntLE=function(fe,xe,_e){fe>>>=0,xe>>>=0,_e||X(fe,xe,this.length);for(var Oe=this[fe],De=1,Pe=0;++Pe<xe&&(De*=256);)Oe+=this[fe+Pe]*De;return Oe>=(De*=128)&&(Oe-=Math.pow(2,8*xe)),Oe},p.prototype.readIntBE=function(fe,xe,_e){fe>>>=0,xe>>>=0,_e||X(fe,xe,this.length);for(var Oe=xe,De=1,Pe=this[fe+--Oe];Oe>0&&(De*=256);)Pe+=this[fe+--Oe]*De;return Pe>=(De*=128)&&(Pe-=Math.pow(2,8*xe)),Pe},p.prototype.readInt8=function(fe,xe){return fe>>>=0,xe||X(fe,1,this.length),128&this[fe]?-1*(255-this[fe]+1):this[fe]},p.prototype.readInt16LE=function(fe,xe){fe>>>=0,xe||X(fe,2,this.length);var _e=this[fe]|this[fe+1]<<8;return 32768&_e?4294901760|_e:_e},p.prototype.readInt16BE=function(fe,xe){fe>>>=0,xe||X(fe,2,this.length);var _e=this[fe+1]|this[fe]<<8;return 32768&_e?4294901760|_e:_e},p.prototype.readInt32LE=function(fe,xe){return fe>>>=0,xe||X(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},p.prototype.readInt32BE=function(fe,xe){return fe>>>=0,xe||X(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},p.prototype.readBigInt64LE=Se(function(fe){ge(fe>>>=0,"offset");var xe=this[fe],_e=this[fe+7];xe!==void 0&&_e!==void 0||ke(fe,this.length-8);var Oe=this[fe+4]+this[fe+5]*Math.pow(2,8)+this[fe+6]*Math.pow(2,16)+(_e<<24);return(BigInt(Oe)<<BigInt(32))+BigInt(xe+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24))}),p.prototype.readBigInt64BE=Se(function(fe){ge(fe>>>=0,"offset");var xe=this[fe],_e=this[fe+7];xe!==void 0&&_e!==void 0||ke(fe,this.length-8);var Oe=(xe<<24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe];return(BigInt(Oe)<<BigInt(32))+BigInt(this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+_e)}),p.prototype.readFloatLE=function(fe,xe){return fe>>>=0,xe||X(fe,4,this.length),d.read(this,fe,!0,23,4)},p.prototype.readFloatBE=function(fe,xe){return fe>>>=0,xe||X(fe,4,this.length),d.read(this,fe,!1,23,4)},p.prototype.readDoubleLE=function(fe,xe){return fe>>>=0,xe||X(fe,8,this.length),d.read(this,fe,!0,52,8)},p.prototype.readDoubleBE=function(fe,xe){return fe>>>=0,xe||X(fe,8,this.length),d.read(this,fe,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(fe,xe,_e,Oe){fe=+fe,xe>>>=0,_e>>>=0,Oe||Q(this,fe,xe,_e,Math.pow(2,8*_e)-1,0);var De=1,Pe=0;for(this[xe]=255&fe;++Pe<_e&&(De*=256);)this[xe+Pe]=fe/De&255;return xe+_e},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(fe,xe,_e,Oe){fe=+fe,xe>>>=0,_e>>>=0,Oe||Q(this,fe,xe,_e,Math.pow(2,8*_e)-1,0);var De=_e-1,Pe=1;for(this[xe+De]=255&fe;--De>=0&&(Pe*=256);)this[xe+De]=fe/Pe&255;return xe+_e},p.prototype.writeUint8=p.prototype.writeUInt8=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,1,255,0),this[xe]=255&fe,xe+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,2,65535,0),this[xe]=255&fe,this[xe+1]=fe>>>8,xe+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,2,65535,0),this[xe]=fe>>>8,this[xe+1]=255&fe,xe+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,4,4294967295,0),this[xe+3]=fe>>>24,this[xe+2]=fe>>>16,this[xe+1]=fe>>>8,this[xe]=255&fe,xe+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,4,4294967295,0),this[xe]=fe>>>24,this[xe+1]=fe>>>16,this[xe+2]=fe>>>8,this[xe+3]=255&fe,xe+4},p.prototype.writeBigUInt64LE=Se(function(fe){return re(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Se(function(fe){return ae(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(fe,xe,_e,Oe){if(fe=+fe,xe>>>=0,!Oe){var De=Math.pow(2,8*_e-1);Q(this,fe,xe,_e,De-1,-De)}var Pe=0,Ue=1,Ve=0;for(this[xe]=255&fe;++Pe<_e&&(Ue*=256);)fe<0&&Ve===0&&this[xe+Pe-1]!==0&&(Ve=1),this[xe+Pe]=(fe/Ue>>0)-Ve&255;return xe+_e},p.prototype.writeIntBE=function(fe,xe,_e,Oe){if(fe=+fe,xe>>>=0,!Oe){var De=Math.pow(2,8*_e-1);Q(this,fe,xe,_e,De-1,-De)}var Pe=_e-1,Ue=1,Ve=0;for(this[xe+Pe]=255&fe;--Pe>=0&&(Ue*=256);)fe<0&&Ve===0&&this[xe+Pe+1]!==0&&(Ve=1),this[xe+Pe]=(fe/Ue>>0)-Ve&255;return xe+_e},p.prototype.writeInt8=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,1,127,-128),fe<0&&(fe=255+fe+1),this[xe]=255&fe,xe+1},p.prototype.writeInt16LE=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,2,32767,-32768),this[xe]=255&fe,this[xe+1]=fe>>>8,xe+2},p.prototype.writeInt16BE=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,2,32767,-32768),this[xe]=fe>>>8,this[xe+1]=255&fe,xe+2},p.prototype.writeInt32LE=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,4,2147483647,-2147483648),this[xe]=255&fe,this[xe+1]=fe>>>8,this[xe+2]=fe>>>16,this[xe+3]=fe>>>24,xe+4},p.prototype.writeInt32BE=function(fe,xe,_e){return fe=+fe,xe>>>=0,_e||Q(this,fe,xe,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),this[xe]=fe>>>24,this[xe+1]=fe>>>16,this[xe+2]=fe>>>8,this[xe+3]=255&fe,xe+4},p.prototype.writeBigInt64LE=Se(function(fe){return re(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Se(function(fe){return ae(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeFloatLE=function(fe,xe,_e){return le(this,fe,xe,!0,_e)},p.prototype.writeFloatBE=function(fe,xe,_e){return le(this,fe,xe,!1,_e)},p.prototype.writeDoubleLE=function(fe,xe,_e){return pe(this,fe,xe,!0,_e)},p.prototype.writeDoubleBE=function(fe,xe,_e){return pe(this,fe,xe,!1,_e)},p.prototype.copy=function(fe,xe,_e,Oe){if(!p.isBuffer(fe))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),Oe||Oe===0||(Oe=this.length),xe>=fe.length&&(xe=fe.length),xe||(xe=0),Oe>0&&Oe<_e&&(Oe=_e),Oe===_e||fe.length===0||this.length===0)return 0;if(xe<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),fe.length-xe<Oe-_e&&(Oe=fe.length-xe+_e);var De=Oe-_e;return this===fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xe,_e,Oe):Uint8Array.prototype.set.call(fe,this.subarray(_e,Oe),xe),De},p.prototype.fill=function(fe,xe,_e,Oe){if(typeof fe=="string"){if(typeof xe=="string"?(Oe=xe,xe=0,_e=this.length):typeof _e=="string"&&(Oe=_e,_e=this.length),Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!p.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);if(fe.length===1){var De=fe.charCodeAt(0);(Oe==="utf8"&&De<128||Oe==="latin1")&&(fe=De)}}else typeof fe=="number"?fe&=255:typeof fe=="boolean"&&(fe=Number(fe));if(xe<0||this.length<xe||this.length<_e)throw new RangeError("Out of range index");if(_e<=xe)return this;var Pe;if(xe>>>=0,_e=_e===void 0?this.length:_e>>>0,fe||(fe=0),typeof fe=="number")for(Pe=xe;Pe<_e;++Pe)this[Pe]=fe;else{var Ue=p.isBuffer(fe)?fe:p.from(fe,Oe),Ve=Ue.length;if(Ve===0)throw new TypeError('The value "'+fe+'" is invalid for argument "value"');for(Pe=0;Pe<_e-xe;++Pe)this[Pe+xe]=Ue[Pe%Ve]}return this};var de={};function ve(fe,xe,_e){de[fe]=function(Oe){(function(tt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),pt&&r(tt,pt)})(it,Oe);var De,Pe,Ue,Ve,Xe=(Ue=it,Ve=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var tt,pt=o(Ue);if(Ve){var mt=o(this).constructor;tt=Reflect.construct(pt,arguments,mt)}else tt=pt.apply(this,arguments);return function(gt,et){if(et&&(l(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(gt)}(this,tt)});function it(){var tt;return function(pt,mt){if(!(pt instanceof mt))throw new TypeError("Cannot call a class as a function")}(this,it),tt=Xe.call(this),Object.defineProperty(n(tt),"message",{value:xe.apply(n(tt),arguments),writable:!0,configurable:!0}),tt.name="".concat(tt.name," [").concat(fe,"]"),tt.stack,delete tt.name,tt}return De=it,(Pe=[{key:"code",get:function(){return fe},set:function(tt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:tt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(fe,"]: ").concat(this.message)}}])&&i(De.prototype,Pe),Object.defineProperty(De,"prototype",{writable:!1}),it}(_e)}function be(fe){for(var xe="",_e=fe.length,Oe=fe[0]==="-"?1:0;_e>=Oe+4;_e-=3)xe="_".concat(fe.slice(_e-3,_e)).concat(xe);return"".concat(fe.slice(0,_e)).concat(xe)}function me(fe,xe,_e,Oe,De,Pe){if(fe>_e||fe<xe){var Ue,Ve=typeof xe=="bigint"?"n":"";throw Ue=Pe>3?xe===0||xe===BigInt(0)?">= 0".concat(Ve," and < 2").concat(Ve," ** ").concat(8*(Pe+1)).concat(Ve):">= -(2".concat(Ve," ** ").concat(8*(Pe+1)-1).concat(Ve,") and < 2 ** ")+"".concat(8*(Pe+1)-1).concat(Ve):">= ".concat(xe).concat(Ve," and <= ").concat(_e).concat(Ve),new de.ERR_OUT_OF_RANGE("value",Ue,fe)}(function(Xe,it,tt){ge(it,"offset"),Xe[it]!==void 0&&Xe[it+tt]!==void 0||ke(it,Xe.length-(tt+1))})(Oe,De,Pe)}function ge(fe,xe){if(typeof fe!="number")throw new de.ERR_INVALID_ARG_TYPE(xe,"number",fe)}function ke(fe,xe,_e){throw Math.floor(fe)!==fe?(ge(fe,_e),new de.ERR_OUT_OF_RANGE(_e||"offset","an integer",fe)):xe<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE(_e||"offset",">= ".concat(_e?1:0," and <= ").concat(xe),fe)}ve("ERR_BUFFER_OUT_OF_BOUNDS",function(fe){return fe?"".concat(fe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function(fe,xe){return'The "'.concat(fe,'" argument must be of type number. Received type ').concat(l(xe))},TypeError),ve("ERR_OUT_OF_RANGE",function(fe,xe,_e){var Oe='The value of "'.concat(fe,'" is out of range.'),De=_e;return Number.isInteger(_e)&&Math.abs(_e)>Math.pow(2,32)?De=be(String(_e)):typeof _e=="bigint"&&(De=String(_e),(_e>Math.pow(BigInt(2),BigInt(32))||_e<-Math.pow(BigInt(2),BigInt(32)))&&(De=be(De)),De+="n"),Oe+" It must be ".concat(xe,". Received ").concat(De)},RangeError);var we=/[^+/0-9A-Za-z-_]/g;function ue(fe,xe){var _e;xe=xe||1/0;for(var Oe=fe.length,De=null,Pe=[],Ue=0;Ue<Oe;++Ue){if((_e=fe.charCodeAt(Ue))>55295&&_e<57344){if(!De){if(_e>56319){(xe-=3)>-1&&Pe.push(239,191,189);continue}if(Ue+1===Oe){(xe-=3)>-1&&Pe.push(239,191,189);continue}De=_e;continue}if(_e<56320){(xe-=3)>-1&&Pe.push(239,191,189),De=_e;continue}_e=65536+(De-55296<<10|_e-56320)}else De&&(xe-=3)>-1&&Pe.push(239,191,189);if(De=null,_e<128){if((xe-=1)<0)break;Pe.push(_e)}else if(_e<2048){if((xe-=2)<0)break;Pe.push(_e>>6|192,63&_e|128)}else if(_e<65536){if((xe-=3)<0)break;Pe.push(_e>>12|224,_e>>6&63|128,63&_e|128)}else{if(!(_e<1114112))throw new Error("Invalid code point");if((xe-=4)<0)break;Pe.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,63&_e|128)}}return Pe}function oe(fe){return u.toByteArray(function(xe){if((xe=(xe=xe.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;xe.length%4!=0;)xe+="=";return xe}(fe))}function he(fe,xe,_e,Oe){var De;for(De=0;De<Oe&&!(De+_e>=xe.length||De>=fe.length);++De)xe[De+_e]=fe[De];return De}function Ee(fe,xe){return fe instanceof xe||fe!=null&&fe.constructor!=null&&fe.constructor.name!=null&&fe.constructor.name===xe.name}function Te(fe){return fe!=fe}var Me=function(){for(var fe="0123456789abcdef",xe=new Array(256),_e=0;_e<16;++_e)for(var Oe=16*_e,De=0;De<16;++De)xe[Oe+De]=fe[_e]+fe[De];return xe}();function Se(fe){return typeof BigInt>"u"?ze:fe}function ze(){throw new Error("BigInt not supported")}},2321:function(g){g.exports=r,g.exports.isMobile=r,g.exports.default=r;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,i=/android|ipad|playbook|silk/i;function r(n){n||(n={});var o=n.ua;if(o||typeof navigator>"u"||(o=navigator.userAgent),o&&o.headers&&typeof o.headers["user-agent"]=="string"&&(o=o.headers["user-agent"]),typeof o!="string")return!1;var l=s.test(o)&&!t.test(o)||!!n.tablet&&i.test(o);return!l&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&o.indexOf("Macintosh")!==-1&&o.indexOf("Safari")!==-1&&(l=!0),l}},3910:function(g,s){s.byteLength=function(d){var c=l(d),m=c[0],f=c[1];return 3*(m+f)/4-f},s.toByteArray=function(d){var c,m,f=l(d),p=f[0],v=f[1],y=new r(function(h,S,w){return 3*(S+w)/4-w}(0,p,v)),x=0,_=v>0?p-4:p;for(m=0;m<_;m+=4)c=i[d.charCodeAt(m)]<<18|i[d.charCodeAt(m+1)]<<12|i[d.charCodeAt(m+2)]<<6|i[d.charCodeAt(m+3)],y[x++]=c>>16&255,y[x++]=c>>8&255,y[x++]=255&c;return v===2&&(c=i[d.charCodeAt(m)]<<2|i[d.charCodeAt(m+1)]>>4,y[x++]=255&c),v===1&&(c=i[d.charCodeAt(m)]<<10|i[d.charCodeAt(m+1)]<<4|i[d.charCodeAt(m+2)]>>2,y[x++]=c>>8&255,y[x++]=255&c),y},s.fromByteArray=function(d){for(var c,m=d.length,f=m%3,p=[],v=16383,y=0,x=m-f;y<x;y+=v)p.push(u(d,y,y+v>x?x:y+v));return f===1?(c=d[m-1],p.push(t[c>>2]+t[c<<4&63]+"==")):f===2&&(c=(d[m-2]<<8)+d[m-1],p.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),p.join("")};for(var t=[],i=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)t[o]=n[o],i[n.charCodeAt(o)]=o;function l(d){var c=d.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=d.indexOf("=");return m===-1&&(m=c),[m,m===c?0:4-m%4]}function u(d,c,m){for(var f,p,v=[],y=c;y<m;y+=3)f=(d[y]<<16&16711680)+(d[y+1]<<8&65280)+(255&d[y+2]),v.push(t[(p=f)>>18&63]+t[p>>12&63]+t[p>>6&63]+t[63&p]);return v.join("")}i[45]=62,i[95]=63},3187:function(g,s){s.read=function(t,i,r,n,o){var l,u,d=8*o-n-1,c=(1<<d)-1,m=c>>1,f=-7,p=r?o-1:0,v=r?-1:1,y=t[i+p];for(p+=v,l=y&(1<<-f)-1,y>>=-f,f+=d;f>0;l=256*l+t[i+p],p+=v,f-=8);for(u=l&(1<<-f)-1,l>>=-f,f+=n;f>0;u=256*u+t[i+p],p+=v,f-=8);if(l===0)l=1-m;else{if(l===c)return u?NaN:1/0*(y?-1:1);u+=Math.pow(2,n),l-=m}return(y?-1:1)*u*Math.pow(2,l-n)},s.write=function(t,i,r,n,o,l){var u,d,c,m=8*l-o-1,f=(1<<m)-1,p=f>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:l-1,x=n?1:-1,_=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(d=isNaN(i)?1:0,u=f):(u=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-u))<1&&(u--,c*=2),(i+=u+p>=1?v/c:v*Math.pow(2,1-p))*c>=2&&(u++,c/=2),u+p>=f?(d=0,u=f):u+p>=1?(d=(i*c-1)*Math.pow(2,o),u+=p):(d=i*Math.pow(2,p-1)*Math.pow(2,o),u=0));o>=8;t[r+y]=255&d,y+=x,d/=256,o-=8);for(u=u<<o|d,m+=o;m>0;t[r+y]=255&u,y+=x,u/=256,m-=8);t[r+y-x]|=128*_}},1152:function(g,s,t){g.exports=function(u){var d=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],m=u.up||[0,1,0],f=u.distanceLimits||[0,1/0],p=u.mode||"turntable",v=i(),y=r(),x=n();return v.setDistanceLimits(f[0],f[1]),v.lookAt(0,d,c,m),y.setDistanceLimits(f[0],f[1]),y.lookAt(0,d,c,m),x.setDistanceLimits(f[0],f[1]),x.lookAt(0,d,c,m),new o({turntable:v,orbit:y,matrix:x},p)};var i=t(3440),r=t(7774),n=t(9298);function o(u,d){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=d,this._active=u[d],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var l=o.prototype;l.flush=function(u){for(var d=this._controllerList,c=0;c<d.length;++c)d[c].flush(u)},l.idle=function(u){for(var d=this._controllerList,c=0;c<d.length;++c)d[c].idle(u)},l.lookAt=function(u,d,c,m){for(var f=this._controllerList,p=0;p<f.length;++p)f[p].lookAt(u,d,c,m)},l.rotate=function(u,d,c,m){for(var f=this._controllerList,p=0;p<f.length;++p)f[p].rotate(u,d,c,m)},l.pan=function(u,d,c,m){for(var f=this._controllerList,p=0;p<f.length;++p)f[p].pan(u,d,c,m)},l.translate=function(u,d,c,m){for(var f=this._controllerList,p=0;p<f.length;++p)f[p].translate(u,d,c,m)},l.setMatrix=function(u,d){for(var c=this._controllerList,m=0;m<c.length;++m)c[m].setMatrix(u,d)},l.setDistanceLimits=function(u,d){for(var c=this._controllerList,m=0;m<c.length;++m)c[m].setDistanceLimits(u,d)},l.setDistance=function(u,d){for(var c=this._controllerList,m=0;m<c.length;++m)c[m].setDistance(u,d)},l.recalcMatrix=function(u){this._active.recalcMatrix(u)},l.getDistance=function(u){return this._active.getDistance(u)},l.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},l.lastT=function(){return this._active.lastT()},l.setMode=function(u){if(u!==this._mode){var d=this._controllerNames.indexOf(u);if(!(d<0)){var c=this._active,m=this._controllerList[d],f=Math.max(c.lastT(),m.lastT());c.recalcMatrix(f),m.setMatrix(f,c.computedMatrix),this._active=m,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},8126:function(g,s,t){var i=typeof WeakMap>"u"?t(5346):WeakMap,r=t(5827),n=t(2944),o=new i;g.exports=function(l){var u=o.get(l),d=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!d||!l.isBuffer(d)){var c=r(l,new Float32Array([-1,-1,-1,4,4,-1]));(u=n(l,[{buffer:c,type:l.FLOAT,size:2}]))._triangleBuffer=c,o.set(l,u)}u.bind(),l.drawArrays(l.TRIANGLES,0,3),u.unbind()}},8008:function(g,s,t){var i=t(4930);g.exports=function(r,n,o){n=typeof n=="number"?n:1,o=o||": ";var l=r.split(/\r?\n/),u=String(l.length+n-1).length;return l.map(function(d,c){var m=c+n,f=String(m).length;return i(m,u-f)+o+d}).join(`
`)}},2153:function(g,s,t){g.exports=function(n){var o=n.length;if(o===0)return[];if(o===1)return[0];for(var l=n[0].length,u=[n[0]],d=[0],c=1;c<o;++c)if(u.push(n[c]),r(u,l)){if(d.push(c),d.length===l+1)return d}else u.pop();return d};var i=t(417);function r(n,o){for(var l=new Array(o+1),u=0;u<n.length;++u)l[u]=n[u];for(u=0;u<=n.length;++u){for(var d=n.length;d<=o;++d){for(var c=new Array(o),m=0;m<o;++m)c[m]=Math.pow(d+1-u,m);l[d]=c}if(i.apply(void 0,l))return!0}return!1}},4653:function(g,s,t){g.exports=function(n,o){return i(o).filter(function(l){for(var u=new Array(l.length),d=0;d<l.length;++d)u[d]=o[l[d]];return r(u)*n<1})};var i=t(4419),r=t(1778)},2350:function(g,s,t){g.exports=function(n,o){return r(i(n,o))};var i=t(4653),r=t(8691)},7896:function(g){g.exports=function(s){return atob(s)}},957:function(g,s,t){g.exports=function(n,o){for(var l=o.length,u=new Array(l+1),d=0;d<l;++d){for(var c=new Array(l+1),m=0;m<=l;++m)c[m]=n[m][d];u[d]=c}for(u[l]=new Array(l+1),d=0;d<=l;++d)u[l][d]=1;var f=new Array(l+1);for(d=0;d<l;++d)f[d]=o[d];f[l]=1;var p=i(u,f),v=r(p[l+1]);v===0&&(v=1);var y=new Array(l+1);for(d=0;d<=l;++d)y[d]=r(p[d])/v;return y};var i=t(6606);function r(n){for(var o=0,l=0;l<n.length;++l)o+=n[l];return o}},1539:function(g,s,t){var i=t(8524);g.exports=function(r,n){return i(r[0].mul(n[1]).add(n[0].mul(r[1])),r[1].mul(n[1]))}},8846:function(g){g.exports=function(s,t){return s[0].mul(t[1]).cmp(t[0].mul(s[1]))}},9189:function(g,s,t){var i=t(8524);g.exports=function(r,n){return i(r[0].mul(n[1]),r[1].mul(n[0]))}},5125:function(g,s,t){var i=t(234),r=t(3218),n=t(5514),o=t(2813),l=t(8524),u=t(9189);g.exports=function d(c,m){if(i(c))return m?u(c,d(m)):[c[0].clone(),c[1].clone()];var f,p,v=0;if(r(c))f=c.clone();else if(typeof c=="string")f=o(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))f=n(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),v-=256;f=n(c)}}if(i(m))f.mul(m[1]),p=m[0].clone();else if(r(m))p=m.clone();else if(typeof m=="string")p=o(m);else if(m)if(m===Math.floor(m))p=n(m);else{for(;m!==Math.floor(m);)m*=Math.pow(2,256),v+=256;p=n(m)}else p=n(1);return v>0?f=f.ushln(v):v<0&&(p=p.ushln(-v)),l(f,p)}},234:function(g,s,t){var i=t(3218);g.exports=function(r){return Array.isArray(r)&&r.length===2&&i(r[0])&&i(r[1])}},4275:function(g,s,t){var i=t(1928);g.exports=function(r){return r.cmp(new i(0))}},9958:function(g,s,t){var i=t(4275);g.exports=function(r){var n=r.length,o=r.words,l=0;if(n===1)l=o[0];else if(n===2)l=o[0]+67108864*o[1];else for(var u=0;u<n;u++)l+=o[u]*Math.pow(67108864,u);return i(r)*l}},1112:function(g,s,t){var i=t(8362),r=t(2288).countTrailingZeros;g.exports=function(n){var o=r(i.lo(n));if(o<32)return o;var l=r(i.hi(n));return l>20?52:l+32}},3218:function(g,s,t){t(1928),g.exports=function(i){return i&&typeof i=="object"&&!!i.words}},5514:function(g,s,t){var i=t(1928),r=t(8362);g.exports=function(n){var o=r.exponent(n);return o<52?new i(n):new i(n*Math.pow(2,52-o)).ushln(o-52)}},8524:function(g,s,t){var i=t(5514),r=t(4275);g.exports=function(n,o){var l=r(n),u=r(o);if(l===0)return[i(0),i(1)];if(u===0)return[i(0),i(0)];u<0&&(n=n.neg(),o=o.neg());var d=n.gcd(o);return d.cmpn(1)?[n.div(d),o.div(d)]:[n,o]}},2813:function(g,s,t){var i=t(1928);g.exports=function(r){return new i(r)}},3962:function(g,s,t){var i=t(8524);g.exports=function(r,n){return i(r[0].mul(n[0]),r[1].mul(n[1]))}},4951:function(g,s,t){var i=t(4275);g.exports=function(r){return i(r[0])*i(r[1])}},4354:function(g,s,t){var i=t(8524);g.exports=function(r,n){return i(r[0].mul(n[1]).sub(r[1].mul(n[0])),r[1].mul(n[1]))}},7999:function(g,s,t){var i=t(9958),r=t(1112);g.exports=function(n){var o=n[0],l=n[1];if(o.cmpn(0)===0)return 0;var u=o.abs().divmod(l.abs()),d=u.div,c=i(d),m=u.mod,f=o.negative!==l.negative?-1:1;if(m.cmpn(0)===0)return f*c;if(c){var p=r(c)+4;return f*(c+(y=i(m.ushln(p).divRound(l)))*Math.pow(2,-p))}var v=l.bitLength()-m.bitLength()+53,y=i(m.ushln(v).divRound(l));return v<1023?f*y*Math.pow(2,-v):f*(y*=Math.pow(2,-1023))*Math.pow(2,1023-v)}},5070:function(g){function s(l,u,d,c,m){for(var f=m+1;c<=m;){var p=c+m>>>1,v=l[p];(d!==void 0?d(v,u):v-u)>=0?(f=p,m=p-1):c=p+1}return f}function t(l,u,d,c,m){for(var f=m+1;c<=m;){var p=c+m>>>1,v=l[p];(d!==void 0?d(v,u):v-u)>0?(f=p,m=p-1):c=p+1}return f}function i(l,u,d,c,m){for(var f=c-1;c<=m;){var p=c+m>>>1,v=l[p];(d!==void 0?d(v,u):v-u)<0?(f=p,c=p+1):m=p-1}return f}function r(l,u,d,c,m){for(var f=c-1;c<=m;){var p=c+m>>>1,v=l[p];(d!==void 0?d(v,u):v-u)<=0?(f=p,c=p+1):m=p-1}return f}function n(l,u,d,c,m){for(;c<=m;){var f=c+m>>>1,p=l[f],v=d!==void 0?d(p,u):p-u;if(v===0)return f;v<=0?c=f+1:m=f-1}return-1}function o(l,u,d,c,m,f){return typeof d=="function"?f(l,u,d,c===void 0?0:0|c,m===void 0?l.length-1:0|m):f(l,u,void 0,d===void 0?0:0|d,c===void 0?l.length-1:0|c)}g.exports={ge:function(l,u,d,c,m){return o(l,u,d,c,m,s)},gt:function(l,u,d,c,m){return o(l,u,d,c,m,t)},lt:function(l,u,d,c,m){return o(l,u,d,c,m,i)},le:function(l,u,d,c,m){return o(l,u,d,c,m,r)},eq:function(l,u,d,c,m){return o(l,u,d,c,m,n)}}},2288:function(g,s){function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var n=r>>31;return(r^n)-n},s.min=function(r,n){return n^(r^n)&-(r<n)},s.max=function(r,n){return r^(r^n)&-(r<n)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var n,o;return n=(r>65535)<<4,n|=o=((r>>>=n)>255)<<3,n|=o=((r>>>=o)>15)<<2,(n|=o=((r>>>=o)>3)<<1)|(r>>>=o)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,1+((r|=r>>>8)|r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var n=0;n<256;++n){var o=n,l=n,u=7;for(o>>>=1;o;o>>>=1)l<<=1,l|=1&o,--u;r[n]=l<<u&255}})(i),s.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},s.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},s.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,n,o){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},s.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},1928:function(g,s,t){(function(i,r){function n(z,N){if(!z)throw new Error(N||"Assertion failed")}function o(z,N){z.super_=N;var W=function(){};W.prototype=N.prototype,z.prototype=new W,z.prototype.constructor=z}function l(z,N,W){if(l.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&(N!=="le"&&N!=="be"||(W=N,N=10),this._init(z||0,N||10,W||"be"))}var u;typeof i=="object"?i.exports=l:r.BN=l,l.BN=l,l.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t(6601).Buffer}catch{}function d(z,N){var W=z.charCodeAt(N);return W>=65&&W<=70?W-55:W>=97&&W<=102?W-87:W-48&15}function c(z,N,W){var F=d(z,W);return W-1>=N&&(F|=d(z,W-1)<<4),F}function m(z,N,W,F){for(var V=0,j=Math.min(z.length,W),te=N;te<j;te++){var J=z.charCodeAt(te)-48;V*=F,V+=J>=49?J-49+10:J>=17?J-17+10:J}return V}l.isBN=function(z){return z instanceof l||z!==null&&typeof z=="object"&&z.constructor.wordSize===l.wordSize&&Array.isArray(z.words)},l.max=function(z,N){return z.cmp(N)>0?z:N},l.min=function(z,N){return z.cmp(N)<0?z:N},l.prototype._init=function(z,N,W){if(typeof z=="number")return this._initNumber(z,N,W);if(typeof z=="object")return this._initArray(z,N,W);N==="hex"&&(N=16),n(N===(0|N)&&N>=2&&N<=36);var F=0;(z=z.toString().replace(/\s+/g,""))[0]==="-"&&(F++,this.negative=1),F<z.length&&(N===16?this._parseHex(z,F,W):(this._parseBase(z,N,F),W==="le"&&this._initArray(this.toArray(),N,W)))},l.prototype._initNumber=function(z,N,W){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[67108863&z],this.length=1):z<4503599627370496?(this.words=[67108863&z,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[67108863&z,z/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),N,W)},l.prototype._initArray=function(z,N,W){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var V,j,te=0;if(W==="be")for(F=z.length-1,V=0;F>=0;F-=3)j=z[F]|z[F-1]<<8|z[F-2]<<16,this.words[V]|=j<<te&67108863,this.words[V+1]=j>>>26-te&67108863,(te+=24)>=26&&(te-=26,V++);else if(W==="le")for(F=0,V=0;F<z.length;F+=3)j=z[F]|z[F+1]<<8|z[F+2]<<16,this.words[V]|=j<<te&67108863,this.words[V+1]=j>>>26-te&67108863,(te+=24)>=26&&(te-=26,V++);return this.strip()},l.prototype._parseHex=function(z,N,W){this.length=Math.ceil((z.length-N)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var V,j=0,te=0;if(W==="be")for(F=z.length-1;F>=N;F-=2)V=c(z,N,F)<<j,this.words[te]|=67108863&V,j>=18?(j-=18,te+=1,this.words[te]|=V>>>26):j+=8;else for(F=(z.length-N)%2==0?N+1:N;F<z.length;F+=2)V=c(z,N,F)<<j,this.words[te]|=67108863&V,j>=18?(j-=18,te+=1,this.words[te]|=V>>>26):j+=8;this.strip()},l.prototype._parseBase=function(z,N,W){this.words=[0],this.length=1;for(var F=0,V=1;V<=67108863;V*=N)F++;F--,V=V/N|0;for(var j=z.length-W,te=j%F,J=Math.min(j,j-te)+W,K=0,Z=W;Z<J;Z+=F)K=m(z,Z,Z+F,N),this.imuln(V),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(te!==0){var X=1;for(K=m(z,Z,z.length,N),Z=0;Z<te;Z++)X*=N;this.imuln(X),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this.strip()},l.prototype.copy=function(z){z.words=new Array(this.length);for(var N=0;N<this.length;N++)z.words[N]=this.words[N];z.length=this.length,z.negative=this.negative,z.red=this.red},l.prototype.clone=function(){var z=new l(null);return this.copy(z),z},l.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(z,N,W){W.negative=N.negative^z.negative;var F=z.length+N.length|0;W.length=F,F=F-1|0;var V=0|z.words[0],j=0|N.words[0],te=V*j,J=67108863&te,K=te/67108864|0;W.words[0]=J;for(var Z=1;Z<F;Z++){for(var X=K>>>26,Q=67108863&K,re=Math.min(Z,N.length-1),ae=Math.max(0,Z-z.length+1);ae<=re;ae++){var ie=Z-ae|0;X+=(te=(V=0|z.words[ie])*(j=0|N.words[ae])+Q)/67108864|0,Q=67108863&te}W.words[Z]=0|Q,K=0|X}return K!==0?W.words[Z]=0|K:W.length--,W.strip()}l.prototype.toString=function(z,N){var W;if(N=0|N||1,(z=z||10)===16||z==="hex"){W="";for(var F=0,V=0,j=0;j<this.length;j++){var te=this.words[j],J=(16777215&(te<<F|V)).toString(16);W=(V=te>>>24-F&16777215)!=0||j!==this.length-1?f[6-J.length]+J+W:J+W,(F+=2)>=26&&(F-=26,j--)}for(V!==0&&(W=V.toString(16)+W);W.length%N!=0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(z===(0|z)&&z>=2&&z<=36){var K=p[z],Z=v[z];W="";var X=this.clone();for(X.negative=0;!X.isZero();){var Q=X.modn(Z).toString(z);W=(X=X.idivn(Z)).isZero()?Q+W:f[K-Q.length]+Q+W}for(this.isZero()&&(W="0"+W);W.length%N!=0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}n(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=67108864*this.words[1]:this.length===3&&this.words[2]===1?z+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(z,N){return n(u!==void 0),this.toArrayLike(u,z,N)},l.prototype.toArray=function(z,N){return this.toArrayLike(Array,z,N)},l.prototype.toArrayLike=function(z,N,W){var F=this.byteLength(),V=W||Math.max(1,F);n(F<=V,"byte array longer than desired length"),n(V>0,"Requested array length <= 0"),this.strip();var j,te,J=N==="le",K=new z(V),Z=this.clone();if(J){for(te=0;!Z.isZero();te++)j=Z.andln(255),Z.iushrn(8),K[te]=j;for(;te<V;te++)K[te]=0}else{for(te=0;te<V-F;te++)K[te]=0;for(te=0;!Z.isZero();te++)j=Z.andln(255),Z.iushrn(8),K[V-te-1]=j}return K},Math.clz32?l.prototype._countBits=function(z){return 32-Math.clz32(z)}:l.prototype._countBits=function(z){var N=z,W=0;return N>=4096&&(W+=13,N>>>=13),N>=64&&(W+=7,N>>>=7),N>=8&&(W+=4,N>>>=4),N>=2&&(W+=2,N>>>=2),W+N},l.prototype._zeroBits=function(z){if(z===0)return 26;var N=z,W=0;return!(8191&N)&&(W+=13,N>>>=13),!(127&N)&&(W+=7,N>>>=7),!(15&N)&&(W+=4,N>>>=4),!(3&N)&&(W+=2,N>>>=2),!(1&N)&&W++,W},l.prototype.bitLength=function(){var z=this.words[this.length-1],N=this._countBits(z);return 26*(this.length-1)+N},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,N=0;N<this.length;N++){var W=this._zeroBits(this.words[N]);if(z+=W,W!==26)break}return z},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},l.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var N=0;N<z.length;N++)this.words[N]=this.words[N]|z.words[N];return this.strip()},l.prototype.ior=function(z){return n((this.negative|z.negative)==0),this.iuor(z)},l.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},l.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},l.prototype.iuand=function(z){var N;N=this.length>z.length?z:this;for(var W=0;W<N.length;W++)this.words[W]=this.words[W]&z.words[W];return this.length=N.length,this.strip()},l.prototype.iand=function(z){return n((this.negative|z.negative)==0),this.iuand(z)},l.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},l.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},l.prototype.iuxor=function(z){var N,W;this.length>z.length?(N=this,W=z):(N=z,W=this);for(var F=0;F<W.length;F++)this.words[F]=N.words[F]^W.words[F];if(this!==N)for(;F<N.length;F++)this.words[F]=N.words[F];return this.length=N.length,this.strip()},l.prototype.ixor=function(z){return n((this.negative|z.negative)==0),this.iuxor(z)},l.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},l.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},l.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var N=0|Math.ceil(z/26),W=z%26;this._expand(N),W>0&&N--;for(var F=0;F<N;F++)this.words[F]=67108863&~this.words[F];return W>0&&(this.words[F]=~this.words[F]&67108863>>26-W),this.strip()},l.prototype.notn=function(z){return this.clone().inotn(z)},l.prototype.setn=function(z,N){n(typeof z=="number"&&z>=0);var W=z/26|0,F=z%26;return this._expand(W+1),this.words[W]=N?this.words[W]|1<<F:this.words[W]&~(1<<F),this.strip()},l.prototype.iadd=function(z){var N,W,F;if(this.negative!==0&&z.negative===0)return this.negative=0,N=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,N=this.isub(z),z.negative=1,N._normSign();this.length>z.length?(W=this,F=z):(W=z,F=this);for(var V=0,j=0;j<F.length;j++)N=(0|W.words[j])+(0|F.words[j])+V,this.words[j]=67108863&N,V=N>>>26;for(;V!==0&&j<W.length;j++)N=(0|W.words[j])+V,this.words[j]=67108863&N,V=N>>>26;if(this.length=W.length,V!==0)this.words[this.length]=V,this.length++;else if(W!==this)for(;j<W.length;j++)this.words[j]=W.words[j];return this},l.prototype.add=function(z){var N;return z.negative!==0&&this.negative===0?(z.negative=0,N=this.sub(z),z.negative^=1,N):z.negative===0&&this.negative!==0?(this.negative=0,N=z.sub(this),this.negative=1,N):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},l.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var N=this.iadd(z);return z.negative=1,N._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var W,F,V=this.cmp(z);if(V===0)return this.negative=0,this.length=1,this.words[0]=0,this;V>0?(W=this,F=z):(W=z,F=this);for(var j=0,te=0;te<F.length;te++)j=(N=(0|W.words[te])-(0|F.words[te])+j)>>26,this.words[te]=67108863&N;for(;j!==0&&te<W.length;te++)j=(N=(0|W.words[te])+j)>>26,this.words[te]=67108863&N;if(j===0&&te<W.length&&W!==this)for(;te<W.length;te++)this.words[te]=W.words[te];return this.length=Math.max(this.length,te),W!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(z){return this.clone().isub(z)};var x=function(z,N,W){var F,V,j,te=z.words,J=N.words,K=W.words,Z=0,X=0|te[0],Q=8191&X,re=X>>>13,ae=0|te[1],ie=8191&ae,le=ae>>>13,pe=0|te[2],de=8191&pe,ve=pe>>>13,be=0|te[3],me=8191&be,ge=be>>>13,ke=0|te[4],we=8191&ke,ue=ke>>>13,oe=0|te[5],he=8191&oe,Ee=oe>>>13,Te=0|te[6],Me=8191&Te,Se=Te>>>13,ze=0|te[7],fe=8191&ze,xe=ze>>>13,_e=0|te[8],Oe=8191&_e,De=_e>>>13,Pe=0|te[9],Ue=8191&Pe,Ve=Pe>>>13,Xe=0|J[0],it=8191&Xe,tt=Xe>>>13,pt=0|J[1],mt=8191&pt,gt=pt>>>13,et=0|J[2],$e=8191&et,_t=et>>>13,Pt=0|J[3],Ot=8191&Pt,Lt=Pt>>>13,He=0|J[4],We=8191&He,Be=He>>>13,Ge=0|J[5],at=8191&Ge,nt=Ge>>>13,Re=0|J[6],Fe=8191&Re,rt=Re>>>13,Ye=0|J[7],ct=8191&Ye,ht=Ye>>>13,dt=0|J[8],ut=8191&dt,kt=dt>>>13,xt=0|J[9],vt=8191&xt,Mt=xt>>>13;W.negative=z.negative^N.negative,W.length=19;var St=(Z+(F=Math.imul(Q,it))|0)+((8191&(V=(V=Math.imul(Q,tt))+Math.imul(re,it)|0))<<13)|0;Z=((j=Math.imul(re,tt))+(V>>>13)|0)+(St>>>26)|0,St&=67108863,F=Math.imul(ie,it),V=(V=Math.imul(ie,tt))+Math.imul(le,it)|0,j=Math.imul(le,tt);var It=(Z+(F=F+Math.imul(Q,mt)|0)|0)+((8191&(V=(V=V+Math.imul(Q,gt)|0)+Math.imul(re,mt)|0))<<13)|0;Z=((j=j+Math.imul(re,gt)|0)+(V>>>13)|0)+(It>>>26)|0,It&=67108863,F=Math.imul(de,it),V=(V=Math.imul(de,tt))+Math.imul(ve,it)|0,j=Math.imul(ve,tt),F=F+Math.imul(ie,mt)|0,V=(V=V+Math.imul(ie,gt)|0)+Math.imul(le,mt)|0,j=j+Math.imul(le,gt)|0;var Gt=(Z+(F=F+Math.imul(Q,$e)|0)|0)+((8191&(V=(V=V+Math.imul(Q,_t)|0)+Math.imul(re,$e)|0))<<13)|0;Z=((j=j+Math.imul(re,_t)|0)+(V>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,F=Math.imul(me,it),V=(V=Math.imul(me,tt))+Math.imul(ge,it)|0,j=Math.imul(ge,tt),F=F+Math.imul(de,mt)|0,V=(V=V+Math.imul(de,gt)|0)+Math.imul(ve,mt)|0,j=j+Math.imul(ve,gt)|0,F=F+Math.imul(ie,$e)|0,V=(V=V+Math.imul(ie,_t)|0)+Math.imul(le,$e)|0,j=j+Math.imul(le,_t)|0;var en=(Z+(F=F+Math.imul(Q,Ot)|0)|0)+((8191&(V=(V=V+Math.imul(Q,Lt)|0)+Math.imul(re,Ot)|0))<<13)|0;Z=((j=j+Math.imul(re,Lt)|0)+(V>>>13)|0)+(en>>>26)|0,en&=67108863,F=Math.imul(we,it),V=(V=Math.imul(we,tt))+Math.imul(ue,it)|0,j=Math.imul(ue,tt),F=F+Math.imul(me,mt)|0,V=(V=V+Math.imul(me,gt)|0)+Math.imul(ge,mt)|0,j=j+Math.imul(ge,gt)|0,F=F+Math.imul(de,$e)|0,V=(V=V+Math.imul(de,_t)|0)+Math.imul(ve,$e)|0,j=j+Math.imul(ve,_t)|0,F=F+Math.imul(ie,Ot)|0,V=(V=V+Math.imul(ie,Lt)|0)+Math.imul(le,Ot)|0,j=j+Math.imul(le,Lt)|0;var Nt=(Z+(F=F+Math.imul(Q,We)|0)|0)+((8191&(V=(V=V+Math.imul(Q,Be)|0)+Math.imul(re,We)|0))<<13)|0;Z=((j=j+Math.imul(re,Be)|0)+(V>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,F=Math.imul(he,it),V=(V=Math.imul(he,tt))+Math.imul(Ee,it)|0,j=Math.imul(Ee,tt),F=F+Math.imul(we,mt)|0,V=(V=V+Math.imul(we,gt)|0)+Math.imul(ue,mt)|0,j=j+Math.imul(ue,gt)|0,F=F+Math.imul(me,$e)|0,V=(V=V+Math.imul(me,_t)|0)+Math.imul(ge,$e)|0,j=j+Math.imul(ge,_t)|0,F=F+Math.imul(de,Ot)|0,V=(V=V+Math.imul(de,Lt)|0)+Math.imul(ve,Ot)|0,j=j+Math.imul(ve,Lt)|0,F=F+Math.imul(ie,We)|0,V=(V=V+Math.imul(ie,Be)|0)+Math.imul(le,We)|0,j=j+Math.imul(le,Be)|0;var jt=(Z+(F=F+Math.imul(Q,at)|0)|0)+((8191&(V=(V=V+Math.imul(Q,nt)|0)+Math.imul(re,at)|0))<<13)|0;Z=((j=j+Math.imul(re,nt)|0)+(V>>>13)|0)+(jt>>>26)|0,jt&=67108863,F=Math.imul(Me,it),V=(V=Math.imul(Me,tt))+Math.imul(Se,it)|0,j=Math.imul(Se,tt),F=F+Math.imul(he,mt)|0,V=(V=V+Math.imul(he,gt)|0)+Math.imul(Ee,mt)|0,j=j+Math.imul(Ee,gt)|0,F=F+Math.imul(we,$e)|0,V=(V=V+Math.imul(we,_t)|0)+Math.imul(ue,$e)|0,j=j+Math.imul(ue,_t)|0,F=F+Math.imul(me,Ot)|0,V=(V=V+Math.imul(me,Lt)|0)+Math.imul(ge,Ot)|0,j=j+Math.imul(ge,Lt)|0,F=F+Math.imul(de,We)|0,V=(V=V+Math.imul(de,Be)|0)+Math.imul(ve,We)|0,j=j+Math.imul(ve,Be)|0,F=F+Math.imul(ie,at)|0,V=(V=V+Math.imul(ie,nt)|0)+Math.imul(le,at)|0,j=j+Math.imul(le,nt)|0;var Jt=(Z+(F=F+Math.imul(Q,Fe)|0)|0)+((8191&(V=(V=V+Math.imul(Q,rt)|0)+Math.imul(re,Fe)|0))<<13)|0;Z=((j=j+Math.imul(re,rt)|0)+(V>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,F=Math.imul(fe,it),V=(V=Math.imul(fe,tt))+Math.imul(xe,it)|0,j=Math.imul(xe,tt),F=F+Math.imul(Me,mt)|0,V=(V=V+Math.imul(Me,gt)|0)+Math.imul(Se,mt)|0,j=j+Math.imul(Se,gt)|0,F=F+Math.imul(he,$e)|0,V=(V=V+Math.imul(he,_t)|0)+Math.imul(Ee,$e)|0,j=j+Math.imul(Ee,_t)|0,F=F+Math.imul(we,Ot)|0,V=(V=V+Math.imul(we,Lt)|0)+Math.imul(ue,Ot)|0,j=j+Math.imul(ue,Lt)|0,F=F+Math.imul(me,We)|0,V=(V=V+Math.imul(me,Be)|0)+Math.imul(ge,We)|0,j=j+Math.imul(ge,Be)|0,F=F+Math.imul(de,at)|0,V=(V=V+Math.imul(de,nt)|0)+Math.imul(ve,at)|0,j=j+Math.imul(ve,nt)|0,F=F+Math.imul(ie,Fe)|0,V=(V=V+Math.imul(ie,rt)|0)+Math.imul(le,Fe)|0,j=j+Math.imul(le,rt)|0;var An=(Z+(F=F+Math.imul(Q,ct)|0)|0)+((8191&(V=(V=V+Math.imul(Q,ht)|0)+Math.imul(re,ct)|0))<<13)|0;Z=((j=j+Math.imul(re,ht)|0)+(V>>>13)|0)+(An>>>26)|0,An&=67108863,F=Math.imul(Oe,it),V=(V=Math.imul(Oe,tt))+Math.imul(De,it)|0,j=Math.imul(De,tt),F=F+Math.imul(fe,mt)|0,V=(V=V+Math.imul(fe,gt)|0)+Math.imul(xe,mt)|0,j=j+Math.imul(xe,gt)|0,F=F+Math.imul(Me,$e)|0,V=(V=V+Math.imul(Me,_t)|0)+Math.imul(Se,$e)|0,j=j+Math.imul(Se,_t)|0,F=F+Math.imul(he,Ot)|0,V=(V=V+Math.imul(he,Lt)|0)+Math.imul(Ee,Ot)|0,j=j+Math.imul(Ee,Lt)|0,F=F+Math.imul(we,We)|0,V=(V=V+Math.imul(we,Be)|0)+Math.imul(ue,We)|0,j=j+Math.imul(ue,Be)|0,F=F+Math.imul(me,at)|0,V=(V=V+Math.imul(me,nt)|0)+Math.imul(ge,at)|0,j=j+Math.imul(ge,nt)|0,F=F+Math.imul(de,Fe)|0,V=(V=V+Math.imul(de,rt)|0)+Math.imul(ve,Fe)|0,j=j+Math.imul(ve,rt)|0,F=F+Math.imul(ie,ct)|0,V=(V=V+Math.imul(ie,ht)|0)+Math.imul(le,ct)|0,j=j+Math.imul(le,ht)|0;var _n=(Z+(F=F+Math.imul(Q,ut)|0)|0)+((8191&(V=(V=V+Math.imul(Q,kt)|0)+Math.imul(re,ut)|0))<<13)|0;Z=((j=j+Math.imul(re,kt)|0)+(V>>>13)|0)+(_n>>>26)|0,_n&=67108863,F=Math.imul(Ue,it),V=(V=Math.imul(Ue,tt))+Math.imul(Ve,it)|0,j=Math.imul(Ve,tt),F=F+Math.imul(Oe,mt)|0,V=(V=V+Math.imul(Oe,gt)|0)+Math.imul(De,mt)|0,j=j+Math.imul(De,gt)|0,F=F+Math.imul(fe,$e)|0,V=(V=V+Math.imul(fe,_t)|0)+Math.imul(xe,$e)|0,j=j+Math.imul(xe,_t)|0,F=F+Math.imul(Me,Ot)|0,V=(V=V+Math.imul(Me,Lt)|0)+Math.imul(Se,Ot)|0,j=j+Math.imul(Se,Lt)|0,F=F+Math.imul(he,We)|0,V=(V=V+Math.imul(he,Be)|0)+Math.imul(Ee,We)|0,j=j+Math.imul(Ee,Be)|0,F=F+Math.imul(we,at)|0,V=(V=V+Math.imul(we,nt)|0)+Math.imul(ue,at)|0,j=j+Math.imul(ue,nt)|0,F=F+Math.imul(me,Fe)|0,V=(V=V+Math.imul(me,rt)|0)+Math.imul(ge,Fe)|0,j=j+Math.imul(ge,rt)|0,F=F+Math.imul(de,ct)|0,V=(V=V+Math.imul(de,ht)|0)+Math.imul(ve,ct)|0,j=j+Math.imul(ve,ht)|0,F=F+Math.imul(ie,ut)|0,V=(V=V+Math.imul(ie,kt)|0)+Math.imul(le,ut)|0,j=j+Math.imul(le,kt)|0;var un=(Z+(F=F+Math.imul(Q,vt)|0)|0)+((8191&(V=(V=V+Math.imul(Q,Mt)|0)+Math.imul(re,vt)|0))<<13)|0;Z=((j=j+Math.imul(re,Mt)|0)+(V>>>13)|0)+(un>>>26)|0,un&=67108863,F=Math.imul(Ue,mt),V=(V=Math.imul(Ue,gt))+Math.imul(Ve,mt)|0,j=Math.imul(Ve,gt),F=F+Math.imul(Oe,$e)|0,V=(V=V+Math.imul(Oe,_t)|0)+Math.imul(De,$e)|0,j=j+Math.imul(De,_t)|0,F=F+Math.imul(fe,Ot)|0,V=(V=V+Math.imul(fe,Lt)|0)+Math.imul(xe,Ot)|0,j=j+Math.imul(xe,Lt)|0,F=F+Math.imul(Me,We)|0,V=(V=V+Math.imul(Me,Be)|0)+Math.imul(Se,We)|0,j=j+Math.imul(Se,Be)|0,F=F+Math.imul(he,at)|0,V=(V=V+Math.imul(he,nt)|0)+Math.imul(Ee,at)|0,j=j+Math.imul(Ee,nt)|0,F=F+Math.imul(we,Fe)|0,V=(V=V+Math.imul(we,rt)|0)+Math.imul(ue,Fe)|0,j=j+Math.imul(ue,rt)|0,F=F+Math.imul(me,ct)|0,V=(V=V+Math.imul(me,ht)|0)+Math.imul(ge,ct)|0,j=j+Math.imul(ge,ht)|0,F=F+Math.imul(de,ut)|0,V=(V=V+Math.imul(de,kt)|0)+Math.imul(ve,ut)|0,j=j+Math.imul(ve,kt)|0;var Wt=(Z+(F=F+Math.imul(ie,vt)|0)|0)+((8191&(V=(V=V+Math.imul(ie,Mt)|0)+Math.imul(le,vt)|0))<<13)|0;Z=((j=j+Math.imul(le,Mt)|0)+(V>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,F=Math.imul(Ue,$e),V=(V=Math.imul(Ue,_t))+Math.imul(Ve,$e)|0,j=Math.imul(Ve,_t),F=F+Math.imul(Oe,Ot)|0,V=(V=V+Math.imul(Oe,Lt)|0)+Math.imul(De,Ot)|0,j=j+Math.imul(De,Lt)|0,F=F+Math.imul(fe,We)|0,V=(V=V+Math.imul(fe,Be)|0)+Math.imul(xe,We)|0,j=j+Math.imul(xe,Be)|0,F=F+Math.imul(Me,at)|0,V=(V=V+Math.imul(Me,nt)|0)+Math.imul(Se,at)|0,j=j+Math.imul(Se,nt)|0,F=F+Math.imul(he,Fe)|0,V=(V=V+Math.imul(he,rt)|0)+Math.imul(Ee,Fe)|0,j=j+Math.imul(Ee,rt)|0,F=F+Math.imul(we,ct)|0,V=(V=V+Math.imul(we,ht)|0)+Math.imul(ue,ct)|0,j=j+Math.imul(ue,ht)|0,F=F+Math.imul(me,ut)|0,V=(V=V+Math.imul(me,kt)|0)+Math.imul(ge,ut)|0,j=j+Math.imul(ge,kt)|0;var rn=(Z+(F=F+Math.imul(de,vt)|0)|0)+((8191&(V=(V=V+Math.imul(de,Mt)|0)+Math.imul(ve,vt)|0))<<13)|0;Z=((j=j+Math.imul(ve,Mt)|0)+(V>>>13)|0)+(rn>>>26)|0,rn&=67108863,F=Math.imul(Ue,Ot),V=(V=Math.imul(Ue,Lt))+Math.imul(Ve,Ot)|0,j=Math.imul(Ve,Lt),F=F+Math.imul(Oe,We)|0,V=(V=V+Math.imul(Oe,Be)|0)+Math.imul(De,We)|0,j=j+Math.imul(De,Be)|0,F=F+Math.imul(fe,at)|0,V=(V=V+Math.imul(fe,nt)|0)+Math.imul(xe,at)|0,j=j+Math.imul(xe,nt)|0,F=F+Math.imul(Me,Fe)|0,V=(V=V+Math.imul(Me,rt)|0)+Math.imul(Se,Fe)|0,j=j+Math.imul(Se,rt)|0,F=F+Math.imul(he,ct)|0,V=(V=V+Math.imul(he,ht)|0)+Math.imul(Ee,ct)|0,j=j+Math.imul(Ee,ht)|0,F=F+Math.imul(we,ut)|0,V=(V=V+Math.imul(we,kt)|0)+Math.imul(ue,ut)|0,j=j+Math.imul(ue,kt)|0;var $t=(Z+(F=F+Math.imul(me,vt)|0)|0)+((8191&(V=(V=V+Math.imul(me,Mt)|0)+Math.imul(ge,vt)|0))<<13)|0;Z=((j=j+Math.imul(ge,Mt)|0)+(V>>>13)|0)+($t>>>26)|0,$t&=67108863,F=Math.imul(Ue,We),V=(V=Math.imul(Ue,Be))+Math.imul(Ve,We)|0,j=Math.imul(Ve,Be),F=F+Math.imul(Oe,at)|0,V=(V=V+Math.imul(Oe,nt)|0)+Math.imul(De,at)|0,j=j+Math.imul(De,nt)|0,F=F+Math.imul(fe,Fe)|0,V=(V=V+Math.imul(fe,rt)|0)+Math.imul(xe,Fe)|0,j=j+Math.imul(xe,rt)|0,F=F+Math.imul(Me,ct)|0,V=(V=V+Math.imul(Me,ht)|0)+Math.imul(Se,ct)|0,j=j+Math.imul(Se,ht)|0,F=F+Math.imul(he,ut)|0,V=(V=V+Math.imul(he,kt)|0)+Math.imul(Ee,ut)|0,j=j+Math.imul(Ee,kt)|0;var sn=(Z+(F=F+Math.imul(we,vt)|0)|0)+((8191&(V=(V=V+Math.imul(we,Mt)|0)+Math.imul(ue,vt)|0))<<13)|0;Z=((j=j+Math.imul(ue,Mt)|0)+(V>>>13)|0)+(sn>>>26)|0,sn&=67108863,F=Math.imul(Ue,at),V=(V=Math.imul(Ue,nt))+Math.imul(Ve,at)|0,j=Math.imul(Ve,nt),F=F+Math.imul(Oe,Fe)|0,V=(V=V+Math.imul(Oe,rt)|0)+Math.imul(De,Fe)|0,j=j+Math.imul(De,rt)|0,F=F+Math.imul(fe,ct)|0,V=(V=V+Math.imul(fe,ht)|0)+Math.imul(xe,ct)|0,j=j+Math.imul(xe,ht)|0,F=F+Math.imul(Me,ut)|0,V=(V=V+Math.imul(Me,kt)|0)+Math.imul(Se,ut)|0,j=j+Math.imul(Se,kt)|0;var xn=(Z+(F=F+Math.imul(he,vt)|0)|0)+((8191&(V=(V=V+Math.imul(he,Mt)|0)+Math.imul(Ee,vt)|0))<<13)|0;Z=((j=j+Math.imul(Ee,Mt)|0)+(V>>>13)|0)+(xn>>>26)|0,xn&=67108863,F=Math.imul(Ue,Fe),V=(V=Math.imul(Ue,rt))+Math.imul(Ve,Fe)|0,j=Math.imul(Ve,rt),F=F+Math.imul(Oe,ct)|0,V=(V=V+Math.imul(Oe,ht)|0)+Math.imul(De,ct)|0,j=j+Math.imul(De,ht)|0,F=F+Math.imul(fe,ut)|0,V=(V=V+Math.imul(fe,kt)|0)+Math.imul(xe,ut)|0,j=j+Math.imul(xe,kt)|0;var wn=(Z+(F=F+Math.imul(Me,vt)|0)|0)+((8191&(V=(V=V+Math.imul(Me,Mt)|0)+Math.imul(Se,vt)|0))<<13)|0;Z=((j=j+Math.imul(Se,Mt)|0)+(V>>>13)|0)+(wn>>>26)|0,wn&=67108863,F=Math.imul(Ue,ct),V=(V=Math.imul(Ue,ht))+Math.imul(Ve,ct)|0,j=Math.imul(Ve,ht),F=F+Math.imul(Oe,ut)|0,V=(V=V+Math.imul(Oe,kt)|0)+Math.imul(De,ut)|0,j=j+Math.imul(De,kt)|0;var Pn=(Z+(F=F+Math.imul(fe,vt)|0)|0)+((8191&(V=(V=V+Math.imul(fe,Mt)|0)+Math.imul(xe,vt)|0))<<13)|0;Z=((j=j+Math.imul(xe,Mt)|0)+(V>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,F=Math.imul(Ue,ut),V=(V=Math.imul(Ue,kt))+Math.imul(Ve,ut)|0,j=Math.imul(Ve,kt);var Cn=(Z+(F=F+Math.imul(Oe,vt)|0)|0)+((8191&(V=(V=V+Math.imul(Oe,Mt)|0)+Math.imul(De,vt)|0))<<13)|0;Z=((j=j+Math.imul(De,Mt)|0)+(V>>>13)|0)+(Cn>>>26)|0,Cn&=67108863;var Sn=(Z+(F=Math.imul(Ue,vt))|0)+((8191&(V=(V=Math.imul(Ue,Mt))+Math.imul(Ve,vt)|0))<<13)|0;return Z=((j=Math.imul(Ve,Mt))+(V>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,K[0]=St,K[1]=It,K[2]=Gt,K[3]=en,K[4]=Nt,K[5]=jt,K[6]=Jt,K[7]=An,K[8]=_n,K[9]=un,K[10]=Wt,K[11]=rn,K[12]=$t,K[13]=sn,K[14]=xn,K[15]=wn,K[16]=Pn,K[17]=Cn,K[18]=Sn,Z!==0&&(K[19]=Z,W.length++),W};function _(z,N,W){return new h().mulp(z,N,W)}function h(z,N){this.x=z,this.y=N}Math.imul||(x=y),l.prototype.mulTo=function(z,N){var W,F=this.length+z.length;return W=this.length===10&&z.length===10?x(this,z,N):F<63?y(this,z,N):F<1024?function(V,j,te){te.negative=j.negative^V.negative,te.length=V.length+j.length;for(var J=0,K=0,Z=0;Z<te.length-1;Z++){var X=K;K=0;for(var Q=67108863&J,re=Math.min(Z,j.length-1),ae=Math.max(0,Z-V.length+1);ae<=re;ae++){var ie=Z-ae,le=(0|V.words[ie])*(0|j.words[ae]),pe=67108863&le;Q=67108863&(pe=pe+Q|0),K+=(X=(X=X+(le/67108864|0)|0)+(pe>>>26)|0)>>>26,X&=67108863}te.words[Z]=Q,J=X,X=K}return J!==0?te.words[Z]=J:te.length--,te.strip()}(this,z,N):_(this,z,N),W},h.prototype.makeRBT=function(z){for(var N=new Array(z),W=l.prototype._countBits(z)-1,F=0;F<z;F++)N[F]=this.revBin(F,W,z);return N},h.prototype.revBin=function(z,N,W){if(z===0||z===W-1)return z;for(var F=0,V=0;V<N;V++)F|=(1&z)<<N-V-1,z>>=1;return F},h.prototype.permute=function(z,N,W,F,V,j){for(var te=0;te<j;te++)F[te]=N[z[te]],V[te]=W[z[te]]},h.prototype.transform=function(z,N,W,F,V,j){this.permute(j,z,N,W,F,V);for(var te=1;te<V;te<<=1)for(var J=te<<1,K=Math.cos(2*Math.PI/J),Z=Math.sin(2*Math.PI/J),X=0;X<V;X+=J)for(var Q=K,re=Z,ae=0;ae<te;ae++){var ie=W[X+ae],le=F[X+ae],pe=W[X+ae+te],de=F[X+ae+te],ve=Q*pe-re*de;de=Q*de+re*pe,pe=ve,W[X+ae]=ie+pe,F[X+ae]=le+de,W[X+ae+te]=ie-pe,F[X+ae+te]=le-de,ae!==J&&(ve=K*Q-Z*re,re=K*re+Z*Q,Q=ve)}},h.prototype.guessLen13b=function(z,N){var W=1|Math.max(N,z),F=1&W,V=0;for(W=W/2|0;W;W>>>=1)V++;return 1<<V+1+F},h.prototype.conjugate=function(z,N,W){if(!(W<=1))for(var F=0;F<W/2;F++){var V=z[F];z[F]=z[W-F-1],z[W-F-1]=V,V=N[F],N[F]=-N[W-F-1],N[W-F-1]=-V}},h.prototype.normalize13b=function(z,N){for(var W=0,F=0;F<N/2;F++){var V=8192*Math.round(z[2*F+1]/N)+Math.round(z[2*F]/N)+W;z[F]=67108863&V,W=V<67108864?0:V/67108864|0}return z},h.prototype.convert13b=function(z,N,W,F){for(var V=0,j=0;j<N;j++)V+=0|z[j],W[2*j]=8191&V,V>>>=13,W[2*j+1]=8191&V,V>>>=13;for(j=2*N;j<F;++j)W[j]=0;n(V===0),n((-8192&V)==0)},h.prototype.stub=function(z){for(var N=new Array(z),W=0;W<z;W++)N[W]=0;return N},h.prototype.mulp=function(z,N,W){var F=2*this.guessLen13b(z.length,N.length),V=this.makeRBT(F),j=this.stub(F),te=new Array(F),J=new Array(F),K=new Array(F),Z=new Array(F),X=new Array(F),Q=new Array(F),re=W.words;re.length=F,this.convert13b(z.words,z.length,te,F),this.convert13b(N.words,N.length,Z,F),this.transform(te,j,J,K,F,V),this.transform(Z,j,X,Q,F,V);for(var ae=0;ae<F;ae++){var ie=J[ae]*X[ae]-K[ae]*Q[ae];K[ae]=J[ae]*Q[ae]+K[ae]*X[ae],J[ae]=ie}return this.conjugate(J,K,F),this.transform(J,K,re,j,F,V),this.conjugate(re,j,F),this.normalize13b(re,F),W.negative=z.negative^N.negative,W.length=z.length+N.length,W.strip()},l.prototype.mul=function(z){var N=new l(null);return N.words=new Array(this.length+z.length),this.mulTo(z,N)},l.prototype.mulf=function(z){var N=new l(null);return N.words=new Array(this.length+z.length),_(this,z,N)},l.prototype.imul=function(z){return this.clone().mulTo(z,this)},l.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var N=0,W=0;W<this.length;W++){var F=(0|this.words[W])*z,V=(67108863&F)+(67108863&N);N>>=26,N+=F/67108864|0,N+=V>>>26,this.words[W]=67108863&V}return N!==0&&(this.words[W]=N,this.length++),this},l.prototype.muln=function(z){return this.clone().imuln(z)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(z){var N=function(j){for(var te=new Array(j.bitLength()),J=0;J<te.length;J++){var K=J/26|0,Z=J%26;te[J]=(j.words[K]&1<<Z)>>>Z}return te}(z);if(N.length===0)return new l(1);for(var W=this,F=0;F<N.length&&N[F]===0;F++,W=W.sqr());if(++F<N.length)for(var V=W.sqr();F<N.length;F++,V=V.sqr())N[F]!==0&&(W=W.mul(V));return W},l.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var N,W=z%26,F=(z-W)/26,V=67108863>>>26-W<<26-W;if(W!==0){var j=0;for(N=0;N<this.length;N++){var te=this.words[N]&V,J=(0|this.words[N])-te<<W;this.words[N]=J|j,j=te>>>26-W}j&&(this.words[N]=j,this.length++)}if(F!==0){for(N=this.length-1;N>=0;N--)this.words[N+F]=this.words[N];for(N=0;N<F;N++)this.words[N]=0;this.length+=F}return this.strip()},l.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},l.prototype.iushrn=function(z,N,W){var F;n(typeof z=="number"&&z>=0),F=N?(N-N%26)/26:0;var V=z%26,j=Math.min((z-V)/26,this.length),te=67108863^67108863>>>V<<V,J=W;if(F-=j,F=Math.max(0,F),J){for(var K=0;K<j;K++)J.words[K]=this.words[K];J.length=j}if(j!==0)if(this.length>j)for(this.length-=j,K=0;K<this.length;K++)this.words[K]=this.words[K+j];else this.words[0]=0,this.length=1;var Z=0;for(K=this.length-1;K>=0&&(Z!==0||K>=F);K--){var X=0|this.words[K];this.words[K]=Z<<26-V|X>>>V,Z=X&te}return J&&Z!==0&&(J.words[J.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(z,N,W){return n(this.negative===0),this.iushrn(z,N,W)},l.prototype.shln=function(z){return this.clone().ishln(z)},l.prototype.ushln=function(z){return this.clone().iushln(z)},l.prototype.shrn=function(z){return this.clone().ishrn(z)},l.prototype.ushrn=function(z){return this.clone().iushrn(z)},l.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var N=z%26,W=(z-N)/26,F=1<<N;return!(this.length<=W||!(this.words[W]&F))},l.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var N=z%26,W=(z-N)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(N!==0&&W++,this.length=Math.min(W,this.length),N!==0){var F=67108863^67108863>>>N<<N;this.words[this.length-1]&=F}return this.strip()},l.prototype.maskn=function(z){return this.clone().imaskn(z)},l.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(0|this.words[0])<z?(this.words[0]=z-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},l.prototype._iaddn=function(z){this.words[0]+=z;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},l.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},l.prototype.addn=function(z){return this.clone().iaddn(z)},l.prototype.subn=function(z){return this.clone().isubn(z)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(z,N,W){var F,V,j=z.length+W;this._expand(j);var te=0;for(F=0;F<z.length;F++){V=(0|this.words[F+W])+te;var J=(0|z.words[F])*N;te=((V-=67108863&J)>>26)-(J/67108864|0),this.words[F+W]=67108863&V}for(;F<this.length-W;F++)te=(V=(0|this.words[F+W])+te)>>26,this.words[F+W]=67108863&V;if(te===0)return this.strip();for(n(te===-1),te=0,F=0;F<this.length;F++)te=(V=-(0|this.words[F])+te)>>26,this.words[F]=67108863&V;return this.negative=1,this.strip()},l.prototype._wordDiv=function(z,N){var W=(this.length,z.length),F=this.clone(),V=z,j=0|V.words[V.length-1];(W=26-this._countBits(j))!=0&&(V=V.ushln(W),F.iushln(W),j=0|V.words[V.length-1]);var te,J=F.length-V.length;if(N!=="mod"){(te=new l(null)).length=J+1,te.words=new Array(te.length);for(var K=0;K<te.length;K++)te.words[K]=0}var Z=F.clone()._ishlnsubmul(V,1,J);Z.negative===0&&(F=Z,te&&(te.words[J]=1));for(var X=J-1;X>=0;X--){var Q=67108864*(0|F.words[V.length+X])+(0|F.words[V.length+X-1]);for(Q=Math.min(Q/j|0,67108863),F._ishlnsubmul(V,Q,X);F.negative!==0;)Q--,F.negative=0,F._ishlnsubmul(V,1,X),F.isZero()||(F.negative^=1);te&&(te.words[X]=Q)}return te&&te.strip(),F.strip(),N!=="div"&&W!==0&&F.iushrn(W),{div:te||null,mod:F}},l.prototype.divmod=function(z,N,W){return n(!z.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&z.negative===0?(j=this.neg().divmod(z,N),N!=="mod"&&(F=j.div.neg()),N!=="div"&&(V=j.mod.neg(),W&&V.negative!==0&&V.iadd(z)),{div:F,mod:V}):this.negative===0&&z.negative!==0?(j=this.divmod(z.neg(),N),N!=="mod"&&(F=j.div.neg()),{div:F,mod:j.mod}):this.negative&z.negative?(j=this.neg().divmod(z.neg(),N),N!=="div"&&(V=j.mod.neg(),W&&V.negative!==0&&V.isub(z)),{div:j.div,mod:V}):z.length>this.length||this.cmp(z)<0?{div:new l(0),mod:this}:z.length===1?N==="div"?{div:this.divn(z.words[0]),mod:null}:N==="mod"?{div:null,mod:new l(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new l(this.modn(z.words[0]))}:this._wordDiv(z,N);var F,V,j},l.prototype.div=function(z){return this.divmod(z,"div",!1).div},l.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},l.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},l.prototype.divRound=function(z){var N=this.divmod(z);if(N.mod.isZero())return N.div;var W=N.div.negative!==0?N.mod.isub(z):N.mod,F=z.ushrn(1),V=z.andln(1),j=W.cmp(F);return j<0||V===1&&j===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},l.prototype.modn=function(z){n(z<=67108863);for(var N=67108864%z,W=0,F=this.length-1;F>=0;F--)W=(N*W+(0|this.words[F]))%z;return W},l.prototype.idivn=function(z){n(z<=67108863);for(var N=0,W=this.length-1;W>=0;W--){var F=(0|this.words[W])+67108864*N;this.words[W]=F/z|0,N=F%z}return this.strip()},l.prototype.divn=function(z){return this.clone().idivn(z)},l.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var N=this,W=z.clone();N=N.negative!==0?N.umod(z):N.clone();for(var F=new l(1),V=new l(0),j=new l(0),te=new l(1),J=0;N.isEven()&&W.isEven();)N.iushrn(1),W.iushrn(1),++J;for(var K=W.clone(),Z=N.clone();!N.isZero();){for(var X=0,Q=1;!(N.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(N.iushrn(X);X-- >0;)(F.isOdd()||V.isOdd())&&(F.iadd(K),V.isub(Z)),F.iushrn(1),V.iushrn(1);for(var re=0,ae=1;!(W.words[0]&ae)&&re<26;++re,ae<<=1);if(re>0)for(W.iushrn(re);re-- >0;)(j.isOdd()||te.isOdd())&&(j.iadd(K),te.isub(Z)),j.iushrn(1),te.iushrn(1);N.cmp(W)>=0?(N.isub(W),F.isub(j),V.isub(te)):(W.isub(N),j.isub(F),te.isub(V))}return{a:j,b:te,gcd:W.iushln(J)}},l.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var N=this,W=z.clone();N=N.negative!==0?N.umod(z):N.clone();for(var F,V=new l(1),j=new l(0),te=W.clone();N.cmpn(1)>0&&W.cmpn(1)>0;){for(var J=0,K=1;!(N.words[0]&K)&&J<26;++J,K<<=1);if(J>0)for(N.iushrn(J);J-- >0;)V.isOdd()&&V.iadd(te),V.iushrn(1);for(var Z=0,X=1;!(W.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(W.iushrn(Z);Z-- >0;)j.isOdd()&&j.iadd(te),j.iushrn(1);N.cmp(W)>=0?(N.isub(W),V.isub(j)):(W.isub(N),j.isub(V))}return(F=N.cmpn(1)===0?V:j).cmpn(0)<0&&F.iadd(z),F},l.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var N=this.clone(),W=z.clone();N.negative=0,W.negative=0;for(var F=0;N.isEven()&&W.isEven();F++)N.iushrn(1),W.iushrn(1);for(;;){for(;N.isEven();)N.iushrn(1);for(;W.isEven();)W.iushrn(1);var V=N.cmp(W);if(V<0){var j=N;N=W,W=j}else if(V===0||W.cmpn(1)===0)break;N.isub(W)}return W.iushln(F)},l.prototype.invm=function(z){return this.egcd(z).a.umod(z)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(z){return this.words[0]&z},l.prototype.bincn=function(z){n(typeof z=="number");var N=z%26,W=(z-N)/26,F=1<<N;if(this.length<=W)return this._expand(W+1),this.words[W]|=F,this;for(var V=F,j=W;V!==0&&j<this.length;j++){var te=0|this.words[j];V=(te+=V)>>>26,te&=67108863,this.words[j]=te}return V!==0&&(this.words[j]=V,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(z){var N,W=z<0;if(this.negative!==0&&!W)return-1;if(this.negative===0&&W)return 1;if(this.strip(),this.length>1)N=1;else{W&&(z=-z),n(z<=67108863,"Number is too big");var F=0|this.words[0];N=F===z?0:F<z?-1:1}return this.negative!==0?0|-N:N},l.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var N=this.ucmp(z);return this.negative!==0?0|-N:N},l.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var N=0,W=this.length-1;W>=0;W--){var F=0|this.words[W],V=0|z.words[W];if(F!==V){F<V?N=-1:F>V&&(N=1);break}}return N},l.prototype.gtn=function(z){return this.cmpn(z)===1},l.prototype.gt=function(z){return this.cmp(z)===1},l.prototype.gten=function(z){return this.cmpn(z)>=0},l.prototype.gte=function(z){return this.cmp(z)>=0},l.prototype.ltn=function(z){return this.cmpn(z)===-1},l.prototype.lt=function(z){return this.cmp(z)===-1},l.prototype.lten=function(z){return this.cmpn(z)<=0},l.prototype.lte=function(z){return this.cmp(z)<=0},l.prototype.eqn=function(z){return this.cmpn(z)===0},l.prototype.eq=function(z){return this.cmp(z)===0},l.red=function(z){return new R(z)},l.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},l.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(z){return this.red=z,this},l.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},l.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},l.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},l.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},l.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},l.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},l.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},l.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},l.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var S={k256:null,p224:null,p192:null,p25519:null};function w(z,N){this.name=z,this.p=new l(N,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function C(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(z){if(typeof z=="string"){var N=l._prime(z);this.m=N.p,this.prime=N}else n(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function U(z){R.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var z=new l(null);return z.words=new Array(Math.ceil(this.n/13)),z},w.prototype.ireduce=function(z){var N,W=z;do this.split(W,this.tmp),N=(W=(W=this.imulK(W)).iadd(this.tmp)).bitLength();while(N>this.n);var F=N<this.n?-1:W.ucmp(this.p);return F===0?(W.words[0]=0,W.length=1):F>0?W.isub(this.p):W.strip!==void 0?W.strip():W._strip(),W},w.prototype.split=function(z,N){z.iushrn(this.n,0,N)},w.prototype.imulK=function(z){return z.imul(this.k)},o(E,w),E.prototype.split=function(z,N){for(var W=4194303,F=Math.min(z.length,9),V=0;V<F;V++)N.words[V]=z.words[V];if(N.length=F,z.length<=9)return z.words[0]=0,void(z.length=1);var j=z.words[9];for(N.words[N.length++]=j&W,V=10;V<z.length;V++){var te=0|z.words[V];z.words[V-10]=(te&W)<<4|j>>>22,j=te}j>>>=22,z.words[V-10]=j,j===0&&z.length>10?z.length-=10:z.length-=9},E.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var N=0,W=0;W<z.length;W++){var F=0|z.words[W];N+=977*F,z.words[W]=67108863&N,N=64*F+(N/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z},o(C,w),o(P,w),o(O,w),O.prototype.imulK=function(z){for(var N=0,W=0;W<z.length;W++){var F=19*(0|z.words[W])+N,V=67108863&F;F>>>=26,z.words[W]=V,N=F}return N!==0&&(z.words[z.length++]=N),z},l._prime=function(z){if(S[z])return S[z];var N;if(z==="k256")N=new E;else if(z==="p224")N=new C;else if(z==="p192")N=new P;else{if(z!=="p25519")throw new Error("Unknown prime "+z);N=new O}return S[z]=N,N},R.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},R.prototype._verify2=function(z,N){n((z.negative|N.negative)==0,"red works only with positives"),n(z.red&&z.red===N.red,"red works only with red numbers")},R.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},R.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},R.prototype.add=function(z,N){this._verify2(z,N);var W=z.add(N);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},R.prototype.iadd=function(z,N){this._verify2(z,N);var W=z.iadd(N);return W.cmp(this.m)>=0&&W.isub(this.m),W},R.prototype.sub=function(z,N){this._verify2(z,N);var W=z.sub(N);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},R.prototype.isub=function(z,N){this._verify2(z,N);var W=z.isub(N);return W.cmpn(0)<0&&W.iadd(this.m),W},R.prototype.shl=function(z,N){return this._verify1(z),this.imod(z.ushln(N))},R.prototype.imul=function(z,N){return this._verify2(z,N),this.imod(z.imul(N))},R.prototype.mul=function(z,N){return this._verify2(z,N),this.imod(z.mul(N))},R.prototype.isqr=function(z){return this.imul(z,z.clone())},R.prototype.sqr=function(z){return this.mul(z,z)},R.prototype.sqrt=function(z){if(z.isZero())return z.clone();var N=this.m.andln(3);if(n(N%2==1),N===3){var W=this.m.add(new l(1)).iushrn(2);return this.pow(z,W)}for(var F=this.m.subn(1),V=0;!F.isZero()&&F.andln(1)===0;)V++,F.iushrn(1);n(!F.isZero());var j=new l(1).toRed(this),te=j.redNeg(),J=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new l(2*K*K).toRed(this);this.pow(K,J).cmp(te)!==0;)K.redIAdd(te);for(var Z=this.pow(K,F),X=this.pow(z,F.addn(1).iushrn(1)),Q=this.pow(z,F),re=V;Q.cmp(j)!==0;){for(var ae=Q,ie=0;ae.cmp(j)!==0;ie++)ae=ae.redSqr();n(ie<re);var le=this.pow(Z,new l(1).iushln(re-ie-1));X=X.redMul(le),Z=le.redSqr(),Q=Q.redMul(Z),re=ie}return X},R.prototype.invm=function(z){var N=z._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},R.prototype.pow=function(z,N){if(N.isZero())return new l(1).toRed(this);if(N.cmpn(1)===0)return z.clone();var W=new Array(16);W[0]=new l(1).toRed(this),W[1]=z;for(var F=2;F<W.length;F++)W[F]=this.mul(W[F-1],z);var V=W[0],j=0,te=0,J=N.bitLength()%26;for(J===0&&(J=26),F=N.length-1;F>=0;F--){for(var K=N.words[F],Z=J-1;Z>=0;Z--){var X=K>>Z&1;V!==W[0]&&(V=this.sqr(V)),X!==0||j!==0?(j<<=1,j|=X,(++te==4||F===0&&Z===0)&&(V=this.mul(V,W[j]),te=0,j=0)):te=0}J=26}return V},R.prototype.convertTo=function(z){var N=z.umod(this.m);return N===z?N.clone():N},R.prototype.convertFrom=function(z){var N=z.clone();return N.red=null,N},l.mont=function(z){return new U(z)},o(U,R),U.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},U.prototype.convertFrom=function(z){var N=this.imod(z.mul(this.rinv));return N.red=null,N},U.prototype.imul=function(z,N){if(z.isZero()||N.isZero())return z.words[0]=0,z.length=1,z;var W=z.imul(N),F=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=W.isub(F).iushrn(this.shift),j=V;return V.cmp(this.m)>=0?j=V.isub(this.m):V.cmpn(0)<0&&(j=V.iadd(this.m)),j._forceRed(this)},U.prototype.mul=function(z,N){if(z.isZero()||N.isZero())return new l(0)._forceRed(this);var W=z.mul(N),F=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=W.isub(F).iushrn(this.shift),j=V;return V.cmp(this.m)>=0?j=V.isub(this.m):V.cmpn(0)<0&&(j=V.iadd(this.m)),j._forceRed(this)},U.prototype.invm=function(z){return this.imod(z._invmp(this.m).mul(this.r2))._forceRed(this)}})(g=t.nmd(g),this)},2692:function(g){g.exports=function(s){var t,i,r,n=s.length,o=0;for(t=0;t<n;++t)o+=s[t].length;var l=new Array(o),u=0;for(t=0;t<n;++t){var d=s[t],c=d.length;for(i=0;i<c;++i){var m=l[u++]=new Array(c-1),f=0;for(r=0;r<c;++r)r!==i&&(m[f++]=d[r]);if(1&i){var p=m[1];m[1]=m[0],m[0]=p}}}return l}},2569:function(g,s,t){g.exports=function(m,f,p){switch(arguments.length){case 1:return i=[],d(v=m,v,c,!0),i;case 2:return typeof f=="function"?d(m,m,f,!0):function(y,x){return i=[],d(y,x,c,!1),i}(m,f);case 3:return d(m,f,p,!1);default:throw new Error("box-intersect: Invalid arguments")}var v};var i,r=t(5306),n=t(1390),o=t(2337);function l(m,f){for(var p=0;p<m;++p)if(!(f[p]<=f[p+m]))return!0;return!1}function u(m,f,p,v){for(var y=0,x=0,_=0,h=m.length;_<h;++_){var S=m[_];if(!l(f,S)){for(var w=0;w<2*f;++w)p[y++]=S[w];v[x++]=_}}return x}function d(m,f,p,v){var y=m.length,x=f.length;if(!(y<=0||x<=0)){var _=m[0].length>>>1;if(!(_<=0)){var h,S=r.mallocDouble(2*_*y),w=r.mallocInt32(y);if((y=u(m,_,S,w))>0){if(_===1&&v)n.init(y),h=n.sweepComplete(_,p,0,y,S,w,0,y,S,w);else{var E=r.mallocDouble(2*_*x),C=r.mallocInt32(x);(x=u(f,_,E,C))>0&&(n.init(y+x),h=_===1?n.sweepBipartite(_,p,0,y,S,w,0,x,E,C):o(_,p,v,y,S,w,x,E,C),r.free(E),r.free(C))}r.free(S),r.free(w)}return h}}}function c(m,f){i.push([m,f])}},7333:function(g,s){function t(i){return i?function(r,n,o,l,u,d,c,m,f,p,v){return u-l>f-m?function(y,x,_,h,S,w,E,C,P,O,R){for(var U=2*y,z=h,N=U*h;z<S;++z,N+=U){var W=w[x+N],F=w[x+N+y],V=E[z];e:for(var j=C,te=U*C;j<P;++j,te+=U){var J=O[x+te],K=O[x+te+y],Z=R[j];if(!(K<W||F<J)){for(var X=x+1;X<y;++X){var Q=w[X+N],re=w[X+y+N],ae=O[X+te],ie=O[X+y+te];if(re<ae||ie<Q)continue e}var le=_(V,Z);if(le!==void 0)return le}}}}(r,n,o,l,u,d,c,m,f,p,v):function(y,x,_,h,S,w,E,C,P,O,R){for(var U=2*y,z=C,N=U*C;z<P;++z,N+=U){var W=O[x+N],F=O[x+N+y],V=R[z];e:for(var j=h,te=U*h;j<S;++j,te+=U){var J=w[x+te],K=w[x+te+y],Z=E[j];if(!(F<J||K<W)){for(var X=x+1;X<y;++X){var Q=w[X+te],re=w[X+y+te],ae=O[X+N],ie=O[X+y+N];if(re<ae||ie<Q)continue e}var le=_(Z,V);if(le!==void 0)return le}}}}(r,n,o,l,u,d,c,m,f,p,v)}:function(r,n,o,l,u,d,c,m,f,p,v,y){return d-u>p-f?l?function(x,_,h,S,w,E,C,P,O,R,U){for(var z=2*x,N=S,W=z*S;N<w;++N,W+=z){var F=E[_+W],V=E[_+W+x],j=C[N];e:for(var te=P,J=z*P;te<O;++te,J+=z){var K=R[_+J],Z=U[te];if(!(K<=F||V<K)){for(var X=_+1;X<x;++X){var Q=E[X+W],re=E[X+x+W],ae=R[X+J],ie=R[X+x+J];if(re<ae||ie<Q)continue e}var le=h(Z,j);if(le!==void 0)return le}}}}(r,n,o,u,d,c,m,f,p,v,y):function(x,_,h,S,w,E,C,P,O,R,U){for(var z=2*x,N=S,W=z*S;N<w;++N,W+=z){var F=E[_+W],V=E[_+W+x],j=C[N];e:for(var te=P,J=z*P;te<O;++te,J+=z){var K=R[_+J],Z=U[te];if(!(K<F||V<K)){for(var X=_+1;X<x;++X){var Q=E[X+W],re=E[X+x+W],ae=R[X+J],ie=R[X+x+J];if(re<ae||ie<Q)continue e}var le=h(j,Z);if(le!==void 0)return le}}}}(r,n,o,u,d,c,m,f,p,v,y):l?function(x,_,h,S,w,E,C,P,O,R,U){for(var z=2*x,N=P,W=z*P;N<O;++N,W+=z){var F=R[_+W],V=U[N];e:for(var j=S,te=z*S;j<w;++j,te+=z){var J=E[_+te],K=E[_+te+x],Z=C[j];if(!(F<=J||K<F)){for(var X=_+1;X<x;++X){var Q=E[X+te],re=E[X+x+te],ae=R[X+W],ie=R[X+x+W];if(re<ae||ie<Q)continue e}var le=h(V,Z);if(le!==void 0)return le}}}}(r,n,o,u,d,c,m,f,p,v,y):function(x,_,h,S,w,E,C,P,O,R,U){for(var z=2*x,N=P,W=z*P;N<O;++N,W+=z){var F=R[_+W],V=U[N];e:for(var j=S,te=z*S;j<w;++j,te+=z){var J=E[_+te],K=E[_+te+x],Z=C[j];if(!(F<J||K<F)){for(var X=_+1;X<x;++X){var Q=E[X+te],re=E[X+x+te],ae=R[X+W],ie=R[X+x+W];if(re<ae||ie<Q)continue e}var le=h(Z,V);if(le!==void 0)return le}}}}(r,n,o,u,d,c,m,f,p,v,y)}}s.partial=t(!1),s.full=t(!0)},2337:function(g,s,t){g.exports=function(z,N,W,F,V,j,te,J,K){(function(De,Pe){var Ue=8*r.log2(Pe+1)*(De+1)|0,Ve=r.nextPow2(w*Ue);C.length<Ve&&(i.free(C),C=i.mallocInt32(Ve));var Xe=r.nextPow2(E*Ue);P.length<Xe&&(i.free(P),P=i.mallocDouble(Xe))})(z,F+te);var Z,X=0,Q=2*z;for(O(X++,0,0,F,0,te,W?16:0,-1/0,1/0),W||O(X++,0,0,te,0,F,1,-1/0,1/0);X>0;){var re=(X-=1)*w,ae=C[re],ie=C[re+1],le=C[re+2],pe=C[re+3],de=C[re+4],ve=C[re+5],be=X*E,me=P[be],ge=P[be+1],ke=1&ve,we=!!(16&ve),ue=V,oe=j,he=J,Ee=K;if(ke&&(ue=J,oe=K,he=V,Ee=j),!(2&ve&&ie>=(le=x(z,ae,ie,le,ue,oe,ge))||4&ve&&(ie=_(z,ae,ie,le,ue,oe,me))>=le)){var Te=le-ie,Me=de-pe;if(we){if(z*Te*(Te+Me)<p){if((Z=u.scanComplete(z,ae,N,ie,le,ue,oe,pe,de,he,Ee))!==void 0)return Z;continue}}else{if(z*Math.min(Te,Me)<m){if((Z=o(z,ae,N,ke,ie,le,ue,oe,pe,de,he,Ee))!==void 0)return Z;continue}if(z*Te*Me<f){if((Z=u.scanBipartite(z,ae,N,ke,ie,le,ue,oe,pe,de,he,Ee))!==void 0)return Z;continue}}var Se=v(z,ae,ie,le,ue,oe,me,ge);if(ie<Se)if(z*(Se-ie)<m){if((Z=l(z,ae+1,N,ie,Se,ue,oe,pe,de,he,Ee))!==void 0)return Z}else if(ae===z-2){if((Z=ke?u.sweepBipartite(z,N,pe,de,he,Ee,ie,Se,ue,oe):u.sweepBipartite(z,N,ie,Se,ue,oe,pe,de,he,Ee))!==void 0)return Z}else O(X++,ae+1,ie,Se,pe,de,ke,-1/0,1/0),O(X++,ae+1,pe,de,ie,Se,1^ke,-1/0,1/0);if(Se<le){var ze=d(z,ae,pe,de,he,Ee),fe=he[Q*ze+ae],xe=y(z,ae,ze,de,he,Ee,fe);if(xe<de&&O(X++,ae,Se,le,xe,de,(4|ke)+(we?16:0),fe,ge),pe<ze&&O(X++,ae,Se,le,pe,ze,(2|ke)+(we?16:0),me,fe),ze+1===xe){if((Z=we?U(z,ae,N,Se,le,ue,oe,ze,he,Ee[ze]):R(z,ae,N,ke,Se,le,ue,oe,ze,he,Ee[ze]))!==void 0)return Z}else if(ze<xe){var _e;if(we){if(Se<(_e=h(z,ae,Se,le,ue,oe,fe))){var Oe=y(z,ae,Se,_e,ue,oe,fe);if(ae===z-2){if(Se<Oe&&(Z=u.sweepComplete(z,N,Se,Oe,ue,oe,ze,xe,he,Ee))!==void 0||Oe<_e&&(Z=u.sweepBipartite(z,N,Oe,_e,ue,oe,ze,xe,he,Ee))!==void 0)return Z}else Se<Oe&&O(X++,ae+1,Se,Oe,ze,xe,16,-1/0,1/0),Oe<_e&&(O(X++,ae+1,Oe,_e,ze,xe,0,-1/0,1/0),O(X++,ae+1,ze,xe,Oe,_e,1,-1/0,1/0))}}else Se<(_e=ke?S(z,ae,Se,le,ue,oe,fe):h(z,ae,Se,le,ue,oe,fe))&&(ae===z-2?Z=ke?u.sweepBipartite(z,N,ze,xe,he,Ee,Se,_e,ue,oe):u.sweepBipartite(z,N,Se,_e,ue,oe,ze,xe,he,Ee):(O(X++,ae+1,Se,_e,ze,xe,ke,-1/0,1/0),O(X++,ae+1,ze,xe,Se,_e,1^ke,-1/0,1/0)))}}}}};var i=t(5306),r=t(2288),n=t(7333),o=n.partial,l=n.full,u=t(1390),d=t(2464),c=t(122),m=128,f=1<<22,p=1<<22,v=c("!(lo>=p0)&&!(p1>=hi)"),y=c("lo===p0"),x=c("lo<p0"),_=c("hi<=p0"),h=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),w=6,E=2,C=i.mallocInt32(1024),P=i.mallocDouble(1024);function O(z,N,W,F,V,j,te,J,K){var Z=w*z;C[Z]=N,C[Z+1]=W,C[Z+2]=F,C[Z+3]=V,C[Z+4]=j,C[Z+5]=te;var X=E*z;P[X]=J,P[X+1]=K}function R(z,N,W,F,V,j,te,J,K,Z,X){var Q=2*z,re=K*Q,ae=Z[re+N];e:for(var ie=V,le=V*Q;ie<j;++ie,le+=Q){var pe=te[le+N],de=te[le+N+z];if(!(ae<pe||de<ae||F&&ae===pe)){for(var ve,be=J[ie],me=N+1;me<z;++me){pe=te[le+me],de=te[le+me+z];var ge=Z[re+me],ke=Z[re+me+z];if(de<ge||ke<pe)continue e}if((ve=F?W(X,be):W(be,X))!==void 0)return ve}}}function U(z,N,W,F,V,j,te,J,K,Z){var X=2*z,Q=J*X,re=K[Q+N];e:for(var ae=F,ie=F*X;ae<V;++ae,ie+=X){var le=te[ae];if(le!==Z){var pe=j[ie+N],de=j[ie+N+z];if(!(re<pe||de<re)){for(var ve=N+1;ve<z;++ve){pe=j[ie+ve],de=j[ie+ve+z];var be=K[Q+ve],me=K[Q+ve+z];if(de<be||me<pe)continue e}var ge=W(le,Z);if(ge!==void 0)return ge}}}}},2464:function(g,s,t){g.exports=function(o,l,u,d,c,m){if(d<=u+1)return u;for(var f=u,p=d,v=d+u>>>1,y=2*o,x=v,_=c[y*v+l];f<p;){if(p-f<r){n(o,l,f,p,c,m),_=c[y*v+l];break}var h=p-f,S=Math.random()*h+f|0,w=c[y*S+l],E=Math.random()*h+f|0,C=c[y*E+l],P=Math.random()*h+f|0,O=c[y*P+l];w<=C?O>=C?(x=E,_=C):w>=O?(x=S,_=w):(x=P,_=O):C>=O?(x=E,_=C):O>=w?(x=S,_=w):(x=P,_=O);for(var R=y*(p-1),U=y*x,z=0;z<y;++z,++R,++U){var N=c[R];c[R]=c[U],c[U]=N}var W=m[p-1];for(m[p-1]=m[x],m[x]=W,R=y*(p-1),U=y*(x=i(o,l,f,p-1,c,m,_)),z=0;z<y;++z,++R,++U)N=c[R],c[R]=c[U],c[U]=N;if(W=m[p-1],m[p-1]=m[x],m[x]=W,v<x){for(p=x-1;f<p&&c[y*(p-1)+l]===_;)p-=1;p+=1}else{if(!(x<v))break;for(f=x+1;f<p&&c[y*f+l]===_;)f+=1}}return i(o,l,u,v,c,m,c[y*v+l])};var i=t(122)("lo<p0"),r=8;function n(o,l,u,d,c,m){for(var f=2*o,p=f*(u+1)+l,v=u+1;v<d;++v,p+=f)for(var y=c[p],x=v,_=f*(v-1);x>u&&c[_+l]>y;--x,_-=f){for(var h=_,S=_+f,w=0;w<f;++w,++h,++S){var E=c[h];c[h]=c[S],c[S]=E}var C=m[x];m[x]=m[x-1],m[x-1]=C}}},122:function(g){g.exports=function(t){return s[t]};var s={"lo===p0":function(t,i,r,n,o,l,u){for(var d=2*t,c=d*r,m=c,f=r,p=i,v=r;n>v;++v,c+=d)if(o[c+p]===u)if(f===v)f+=1,m+=d;else{for(var y=0;d>y;++y){var x=o[c+y];o[c+y]=o[m],o[m++]=x}var _=l[v];l[v]=l[f],l[f++]=_}return f},"lo<p0":function(t,i,r,n,o,l,u){for(var d=2*t,c=d*r,m=c,f=r,p=i,v=r;n>v;++v,c+=d)if(o[c+p]<u)if(f===v)f+=1,m+=d;else{for(var y=0;d>y;++y){var x=o[c+y];o[c+y]=o[m],o[m++]=x}var _=l[v];l[v]=l[f],l[f++]=_}return f},"lo<=p0":function(t,i,r,n,o,l,u){for(var d=2*t,c=d*r,m=c,f=r,p=t+i,v=r;n>v;++v,c+=d)if(o[c+p]<=u)if(f===v)f+=1,m+=d;else{for(var y=0;d>y;++y){var x=o[c+y];o[c+y]=o[m],o[m++]=x}var _=l[v];l[v]=l[f],l[f++]=_}return f},"hi<=p0":function(t,i,r,n,o,l,u){for(var d=2*t,c=d*r,m=c,f=r,p=t+i,v=r;n>v;++v,c+=d)if(o[c+p]<=u)if(f===v)f+=1,m+=d;else{for(var y=0;d>y;++y){var x=o[c+y];o[c+y]=o[m],o[m++]=x}var _=l[v];l[v]=l[f],l[f++]=_}return f},"lo<p0&&p0<=hi":function(t,i,r,n,o,l,u){for(var d=2*t,c=d*r,m=c,f=r,p=i,v=t+i,y=r;n>y;++y,c+=d){var x=o[c+p],_=o[c+v];if(x<u&&u<=_)if(f===y)f+=1,m+=d;else{for(var h=0;d>h;++h){var S=o[c+h];o[c+h]=o[m],o[m++]=S}var w=l[y];l[y]=l[f],l[f++]=w}}return f},"lo<=p0&&p0<=hi":function(t,i,r,n,o,l,u){for(var d=2*t,c=d*r,m=c,f=r,p=i,v=t+i,y=r;n>y;++y,c+=d){var x=o[c+p],_=o[c+v];if(x<=u&&u<=_)if(f===y)f+=1,m+=d;else{for(var h=0;d>h;++h){var S=o[c+h];o[c+h]=o[m],o[m++]=S}var w=l[y];l[y]=l[f],l[f++]=w}}return f},"!(lo>=p0)&&!(p1>=hi)":function(t,i,r,n,o,l,u,d){for(var c=2*t,m=c*r,f=m,p=r,v=i,y=t+i,x=r;n>x;++x,m+=c){var _=o[m+v],h=o[m+y];if(!(_>=u||d>=h))if(p===x)p+=1,f+=c;else{for(var S=0;c>S;++S){var w=o[m+S];o[m+S]=o[f],o[f++]=w}var E=l[x];l[x]=l[p],l[p++]=E}}return p}}},309:function(g){g.exports=function(c,m){m<=4*s?t(0,m-1,c):d(0,m-1,c)};var s=32;function t(c,m,f){for(var p=2*(c+1),v=c+1;v<=m;++v){for(var y=f[p++],x=f[p++],_=v,h=p-2;_-- >c;){var S=f[h-2],w=f[h-1];if(S<y||S===y&&w<x)break;f[h]=S,f[h+1]=w,h-=2}f[h]=y,f[h+1]=x}}function i(c,m,f){m*=2;var p=f[c*=2],v=f[c+1];f[c]=f[m],f[c+1]=f[m+1],f[m]=p,f[m+1]=v}function r(c,m,f){m*=2,f[c*=2]=f[m],f[c+1]=f[m+1]}function n(c,m,f,p){m*=2,f*=2;var v=p[c*=2],y=p[c+1];p[c]=p[m],p[c+1]=p[m+1],p[m]=p[f],p[m+1]=p[f+1],p[f]=v,p[f+1]=y}function o(c,m,f,p,v){m*=2,v[c*=2]=v[m],v[m]=f,v[c+1]=v[m+1],v[m+1]=p}function l(c,m,f){m*=2;var p=f[c*=2],v=f[m];return!(p<v)&&(p!==v||f[c+1]>f[m+1])}function u(c,m,f,p){var v=p[c*=2];return v<m||v===m&&p[c+1]<f}function d(c,m,f){var p=(m-c+1)/6|0,v=c+p,y=m-p,x=c+m>>1,_=x-p,h=x+p,S=v,w=_,E=x,C=h,P=y,O=c+1,R=m-1,U=0;l(S,w,f)&&(U=S,S=w,w=U),l(C,P,f)&&(U=C,C=P,P=U),l(S,E,f)&&(U=S,S=E,E=U),l(w,E,f)&&(U=w,w=E,E=U),l(S,C,f)&&(U=S,S=C,C=U),l(E,C,f)&&(U=E,E=C,C=U),l(w,P,f)&&(U=w,w=P,P=U),l(w,E,f)&&(U=w,w=E,E=U),l(C,P,f)&&(U=C,C=P,P=U);for(var z=f[2*w],N=f[2*w+1],W=f[2*C],F=f[2*C+1],V=2*S,j=2*E,te=2*P,J=2*v,K=2*x,Z=2*y,X=0;X<2;++X){var Q=f[V+X],re=f[j+X],ae=f[te+X];f[J+X]=Q,f[K+X]=re,f[Z+X]=ae}r(_,c,f),r(h,m,f);for(var ie=O;ie<=R;++ie)if(u(ie,z,N,f))ie!==O&&i(ie,O,f),++O;else if(!u(ie,W,F,f))for(;;){if(u(R,W,F,f)){u(R,z,N,f)?(n(ie,O,R,f),++O,--R):(i(ie,R,f),--R);break}if(--R<ie)break}o(c,O-1,z,N,f),o(m,R+1,W,F,f),O-2-c<=s?t(c,O-2,f):d(c,O-2,f),m-(R+2)<=s?t(R+2,m,f):d(R+2,m,f),R-O<=s?t(O,R,f):d(O,R,f)}},1390:function(g,s,t){g.exports={init:function(_){var h=r.nextPow2(_);u.length<h&&(i.free(u),u=i.mallocInt32(h)),d.length<h&&(i.free(d),d=i.mallocInt32(h)),c.length<h&&(i.free(c),c=i.mallocInt32(h)),m.length<h&&(i.free(m),m=i.mallocInt32(h)),f.length<h&&(i.free(f),f=i.mallocInt32(h)),p.length<h&&(i.free(p),p=i.mallocInt32(h));var S=8*h;v.length<S&&(i.free(v),v=i.mallocDouble(S))},sweepBipartite:function(_,h,S,w,E,C,P,O,R,U){for(var z=0,N=2*_,W=_-1,F=N-1,V=S;V<w;++V){var j=C[V],te=N*V;v[z++]=E[te+W],v[z++]=-(j+1),v[z++]=E[te+F],v[z++]=j}for(V=P;V<O;++V){j=U[V]+o;var J=N*V;v[z++]=R[J+W],v[z++]=-j,v[z++]=R[J+F],v[z++]=j}var K=z>>>1;n(v,K);var Z=0,X=0;for(V=0;V<K;++V){var Q=0|v[2*V+1];if(Q>=o)y(c,m,X--,Q=Q-o|0);else if(Q>=0)y(u,d,Z--,Q);else if(Q<=-o){Q=-Q-o|0;for(var re=0;re<Z;++re)if((ae=h(u[re],Q))!==void 0)return ae;x(c,m,X++,Q)}else{for(Q=-Q-1|0,re=0;re<X;++re){var ae;if((ae=h(Q,c[re]))!==void 0)return ae}x(u,d,Z++,Q)}}},sweepComplete:function(_,h,S,w,E,C,P,O,R,U){for(var z=0,N=2*_,W=_-1,F=N-1,V=S;V<w;++V){var j=C[V]+1<<1,te=N*V;v[z++]=E[te+W],v[z++]=-j,v[z++]=E[te+F],v[z++]=j}for(V=P;V<O;++V){j=U[V]+1<<1;var J=N*V;v[z++]=R[J+W],v[z++]=1|-j,v[z++]=R[J+F],v[z++]=1|j}var K=z>>>1;n(v,K);var Z=0,X=0,Q=0;for(V=0;V<K;++V){var re=0|v[2*V+1],ae=1&re;if(V<K-1&&re>>1==v[2*V+3]>>1&&(ae=2,V+=1),re<0){for(var ie=-(re>>1)-1,le=0;le<Q;++le)if((pe=h(f[le],ie))!==void 0)return pe;if(ae!==0){for(le=0;le<Z;++le)if((pe=h(u[le],ie))!==void 0)return pe}if(ae!==1)for(le=0;le<X;++le){var pe;if((pe=h(c[le],ie))!==void 0)return pe}ae===0?x(u,d,Z++,ie):ae===1?x(c,m,X++,ie):ae===2&&x(f,p,Q++,ie)}else ie=(re>>1)-1,ae===0?y(u,d,Z--,ie):ae===1?y(c,m,X--,ie):ae===2&&y(f,p,Q--,ie)}},scanBipartite:function(_,h,S,w,E,C,P,O,R,U,z,N){var W=0,F=2*_,V=h,j=h+_,te=1,J=1;w?J=o:te=o;for(var K=E;K<C;++K){var Z=K+te,X=F*K;v[W++]=P[X+V],v[W++]=-Z,v[W++]=P[X+j],v[W++]=Z}for(K=R;K<U;++K){Z=K+J;var Q=F*K;v[W++]=z[Q+V],v[W++]=-Z}var re=W>>>1;n(v,re);var ae=0;for(K=0;K<re;++K){var ie=0|v[2*K+1];if(ie<0){var le=!1;if((Z=-ie)>=o?(le=!w,Z-=o):(le=!!w,Z-=1),le)x(u,d,ae++,Z);else{var pe=N[Z],de=F*Z,ve=z[de+h+1],be=z[de+h+1+_];e:for(var me=0;me<ae;++me){var ge=u[me],ke=F*ge;if(!(be<P[ke+h+1]||P[ke+h+1+_]<ve)){for(var we=h+2;we<_;++we)if(z[de+we+_]<P[ke+we]||P[ke+we+_]<z[de+we])continue e;var ue,oe=O[ge];if((ue=w?S(pe,oe):S(oe,pe))!==void 0)return ue}}}}else y(u,d,ae--,ie-te)}},scanComplete:function(_,h,S,w,E,C,P,O,R,U,z){for(var N=0,W=2*_,F=h,V=h+_,j=w;j<E;++j){var te=j+o,J=W*j;v[N++]=C[J+F],v[N++]=-te,v[N++]=C[J+V],v[N++]=te}for(j=O;j<R;++j){te=j+1;var K=W*j;v[N++]=U[K+F],v[N++]=-te}var Z=N>>>1;n(v,Z);var X=0;for(j=0;j<Z;++j){var Q=0|v[2*j+1];if(Q<0)if((te=-Q)>=o)u[X++]=te-o;else{var re=z[te-=1],ae=W*te,ie=U[ae+h+1],le=U[ae+h+1+_];e:for(var pe=0;pe<X;++pe){var de=u[pe],ve=P[de];if(ve===re)break;var be=W*de;if(!(le<C[be+h+1]||C[be+h+1+_]<ie)){for(var me=h+2;me<_;++me)if(U[ae+me+_]<C[be+me]||C[be+me+_]<U[ae+me])continue e;var ge=S(ve,re);if(ge!==void 0)return ge}}}else{for(te=Q-o,pe=X-1;pe>=0;--pe)if(u[pe]===te){for(me=pe+1;me<X;++me)u[me-1]=u[me];break}--X}}}};var i=t(5306),r=t(2288),n=t(309),o=1<<28,l=1024,u=i.mallocInt32(l),d=i.mallocInt32(l),c=i.mallocInt32(l),m=i.mallocInt32(l),f=i.mallocInt32(l),p=i.mallocInt32(l),v=i.mallocDouble(8192);function y(_,h,S,w){var E=h[w],C=_[S-1];_[E]=C,h[C]=E}function x(_,h,S,w){_[S]=w,h[w]=S}},7761:function(g,s,t){var i=t(9971),r=t(743),n=t(2161),o=t(7098);function l(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,m){return c[0]-m[0]||c[1]-m[1]}function d(c,m,f){return m in c?c[m]:f}g.exports=function(c,m,f){Array.isArray(m)?(f=f||{},m=m||[]):(f=m||{},m=[]);var p=!!d(f,"delaunay",!0),v=!!d(f,"interior",!0),y=!!d(f,"exterior",!0),x=!!d(f,"infinity",!1);if(!v&&!y||c.length===0)return[];var _=i(c,m);if(p||v!==y||x){for(var h=r(c.length,function(E){return E.map(l).sort(u)}(m)),S=0;S<_.length;++S){var w=_[S];h.addTriangle(w[0],w[1],w[2])}return p&&n(c,h),y?v?x?o(h,0,x):h.cells():o(h,1,x):o(h,-1)}return _}},2161:function(g,s,t){var i=t(2227)[4];function r(n,o,l,u,d,c){var m=o.opposite(u,d);if(!(m<0)){if(d<u){var f=u;u=d,d=f,f=c,c=m,m=f}o.isConstraint(u,d)||i(n[u],n[d],n[c],n[m])<0&&l.push(u,d)}}t(5070),g.exports=function(n,o){for(var l=[],u=n.length,d=o.stars,c=0;c<u;++c)for(var m=d[c],f=1;f<m.length;f+=2)if(!((x=m[f])<c||o.isConstraint(c,x))){for(var p=m[f-1],v=-1,y=1;y<m.length;y+=2)if(m[y-1]===x){v=m[y];break}v<0||i(n[c],n[x],n[p],n[v])<0&&l.push(c,x)}for(;l.length>0;){for(var x=l.pop(),_=(p=-1,v=-1,m=d[c=l.pop()],1);_<m.length;_+=2){var h=m[_-1],S=m[_];h===x?v=S:S===x&&(p=h)}p<0||v<0||i(n[c],n[x],n[p],n[v])>=0||(o.flip(c,x),r(n,o,l,p,c,v),r(n,o,l,c,v,p),r(n,o,l,v,x,p),r(n,o,l,x,p,v))}}},7098:function(g,s,t){var i,r=t(5070);function n(l,u,d,c,m,f,p){this.cells=l,this.neighbor=u,this.flags=c,this.constraint=d,this.active=m,this.next=f,this.boundary=p}function o(l,u){return l[0]-u[0]||l[1]-u[1]||l[2]-u[2]}g.exports=function(l,u,d){var c=function(P,O){for(var R=P.cells(),U=R.length,z=0;z<U;++z){var N=(Q=R[z])[0],W=Q[1],F=Q[2];W<F?W<N&&(Q[0]=W,Q[1]=F,Q[2]=N):F<N&&(Q[0]=F,Q[1]=N,Q[2]=W)}R.sort(o);var V=new Array(U);for(z=0;z<V.length;++z)V[z]=0;var j=[],te=[],J=new Array(3*U),K=new Array(3*U),Z=null;O&&(Z=[]);var X=new n(R,J,K,V,j,te,Z);for(z=0;z<U;++z)for(var Q=R[z],re=0;re<3;++re){N=Q[re],W=Q[(re+1)%3];var ae=J[3*z+re]=X.locate(W,N,P.opposite(W,N)),ie=K[3*z+re]=P.isConstraint(N,W);ae<0&&(ie?te.push(z):(j.push(z),V[z]=1),O&&Z.push([W,N,-1]))}return X}(l,d);if(u===0)return d?c.cells.concat(c.boundary):c.cells;for(var m=1,f=c.active,p=c.next,v=c.flags,y=c.cells,x=c.constraint,_=c.neighbor;f.length>0||p.length>0;){for(;f.length>0;){var h=f.pop();if(v[h]!==-m){v[h]=m,y[h];for(var S=0;S<3;++S){var w=_[3*h+S];w>=0&&v[w]===0&&(x[3*h+S]?p.push(w):(f.push(w),v[w]=m))}}}var E=p;p=f,f=E,p.length=0,m=-m}var C=function(P,O,R){for(var U=0,z=0;z<P.length;++z)O[z]===R&&(P[U++]=P[z]);return P.length=U,P}(y,v,u);return d?C.concat(c.boundary):C},n.prototype.locate=(i=[0,0,0],function(l,u,d){var c=l,m=u,f=d;return u<d?u<l&&(c=u,m=d,f=l):d<l&&(c=d,m=l,f=u),c<0?-1:(i[0]=c,i[1]=m,i[2]=f,r.eq(this.cells,i,o))})},9971:function(g,s,t){var i=t(5070),r=t(417)[3];function n(p,v,y,x,_){this.a=p,this.b=v,this.idx=y,this.lowerIds=x,this.upperIds=_}function o(p,v,y,x){this.a=p,this.b=v,this.type=y,this.idx=x}function l(p,v){var y=p.a[0]-v.a[0]||p.a[1]-v.a[1]||p.type-v.type;return y||(p.type!==0&&(y=r(p.a,p.b,v.b))?y:p.idx-v.idx)}function u(p,v){return r(p.a,p.b,v)}function d(p,v,y,x,_){for(var h=i.lt(v,x,u),S=i.gt(v,x,u),w=h;w<S;++w){for(var E=v[w],C=E.lowerIds,P=C.length;P>1&&r(y[C[P-2]],y[C[P-1]],x)>0;)p.push([C[P-1],C[P-2],_]),P-=1;C.length=P,C.push(_);var O=E.upperIds;for(P=O.length;P>1&&r(y[O[P-2]],y[O[P-1]],x)<0;)p.push([O[P-2],O[P-1],_]),P-=1;O.length=P,O.push(_)}}function c(p,v){var y;return(y=p.a[0]<v.a[0]?r(p.a,p.b,v.a):r(v.b,v.a,p.a))?y:(y=v.b[0]<p.b[0]?r(p.a,p.b,v.b):r(v.b,v.a,p.b))||p.idx-v.idx}function m(p,v,y){var x=i.le(p,y,c),_=p[x],h=_.upperIds,S=h[h.length-1];_.upperIds=[S],p.splice(x+1,0,new n(y.a,y.b,y.idx,[S],h))}function f(p,v,y){var x=y.a;y.a=y.b,y.b=x;var _=i.eq(p,y,c),h=p[_];p[_-1].upperIds=h.upperIds,p.splice(_,1)}g.exports=function(p,v){for(var y=p.length,x=v.length,_=[],h=0;h<y;++h)_.push(new o(p[h],null,0,h));for(h=0;h<x;++h){var S=v[h],w=p[S[0]],E=p[S[1]];w[0]<E[0]?_.push(new o(w,E,2,h),new o(E,w,1,h)):w[0]>E[0]&&_.push(new o(E,w,2,h),new o(w,E,1,h))}_.sort(l);for(var C=_[0].a[0]-(1+Math.abs(_[0].a[0]))*Math.pow(2,-52),P=[new n([C,1],[C,0],-1,[],[])],O=[],R=(h=0,_.length);h<R;++h){var U=_[h],z=U.type;z===0?d(O,P,p,U.a,U.idx):z===2?m(P,0,U):f(P,0,U)}return O}},743:function(g,s,t){var i=t(5070);function r(l,u){this.stars=l,this.edges=u}g.exports=function(l,u){for(var d=new Array(l),c=0;c<l;++c)d[c]=[];return new r(d,u)};var n=r.prototype;function o(l,u,d){for(var c=1,m=l.length;c<m;c+=2)if(l[c-1]===u&&l[c]===d)return l[c-1]=l[m-2],l[c]=l[m-1],void(l.length=m-2)}n.isConstraint=function(){var l=[0,0];function u(d,c){return d[0]-c[0]||d[1]-c[1]}return function(d,c){return l[0]=Math.min(d,c),l[1]=Math.max(d,c),i.eq(this.edges,l,u)>=0}}(),n.removeTriangle=function(l,u,d){var c=this.stars;o(c[l],u,d),o(c[u],d,l),o(c[d],l,u)},n.addTriangle=function(l,u,d){var c=this.stars;c[l].push(u,d),c[u].push(d,l),c[d].push(l,u)},n.opposite=function(l,u){for(var d=this.stars[u],c=1,m=d.length;c<m;c+=2)if(d[c]===l)return d[c-1];return-1},n.flip=function(l,u){var d=this.opposite(l,u),c=this.opposite(u,l);this.removeTriangle(l,u,d),this.removeTriangle(u,l,c),this.addTriangle(l,c,d),this.addTriangle(u,d,c)},n.edges=function(){for(var l=this.stars,u=[],d=0,c=l.length;d<c;++d)for(var m=l[d],f=0,p=m.length;f<p;f+=2)u.push([m[f],m[f+1]]);return u},n.cells=function(){for(var l=this.stars,u=[],d=0,c=l.length;d<c;++d)for(var m=l[d],f=0,p=m.length;f<p;f+=2){var v=m[f],y=m[f+1];d<Math.min(v,y)&&u.push([d,v,y])}return u}},9887:function(g){g.exports=function(s){for(var t=1,i=1;i<s.length;++i)for(var r=0;r<i;++r)if(s[i]<s[r])t=-t;else if(s[r]===s[i])return 0;return t}},9243:function(g,s,t){var i=t(3094),r=t(6606);function n(u,d){for(var c=0,m=u.length,f=0;f<m;++f)c+=u[f]*d[f];return c}function o(u){var d=u.length;if(d===0)return[];u[0].length;var c=i([u.length+1,u.length+1],1),m=i([u.length+1],1);c[d][d]=0;for(var f=0;f<d;++f){for(var p=0;p<=f;++p)c[p][f]=c[f][p]=2*n(u[f],u[p]);m[f]=n(u[f],u[f])}var v=r(c,m),y=0,x=v[d+1];for(f=0;f<x.length;++f)y+=x[f];var _=new Array(d);for(f=0;f<d;++f){x=v[f];var h=0;for(p=0;p<x.length;++p)h+=x[p];_[f]=h/y}return _}function l(u){if(u.length===0)return[];for(var d=u[0].length,c=i([d]),m=o(u),f=0;f<u.length;++f)for(var p=0;p<d;++p)c[p]+=u[f][p]*m[f];return c}l.barycenetric=o,g.exports=l},1778:function(g,s,t){g.exports=function(r){for(var n=i(r),o=0,l=0;l<r.length;++l)for(var u=r[l],d=0;d<n.length;++d)o+=Math.pow(u[d]-n[d],2);return Math.sqrt(o/r.length)};var i=t(9243)},197:function(g,s,t){g.exports=function(S,w,E){var C;if(E){C=w;for(var P=new Array(w.length),O=0;O<w.length;++O){var R=w[O];P[O]=[R[0],R[1],E[O]]}w=P}for(var U=function(z,N,W){var F=v(z,[],p(z));return _(N,F,W),!!F}(S,w,!!E);h(S,w,!!E);)U=!0;if(E&&U)for(C.length=0,E.length=0,O=0;O<w.length;++O)R=w[O],C.push([R[0],R[1]]),E.push(R[2]);return U};var i=t(1731),r=t(2569),n=t(4434),o=t(5125),l=t(8846),u=t(7999),d=t(2826),c=t(8551),m=t(5528);function f(S){var w=u(S);return[c(w,-1/0),c(w,1/0)]}function p(S){for(var w=new Array(S.length),E=0;E<S.length;++E){var C=S[E];w[E]=[c(C[0],-1/0),c(C[1],-1/0),c(C[0],1/0),c(C[1],1/0)]}return w}function v(S,w,E){for(var C=w.length,P=new i(C),O=[],R=0;R<w.length;++R){var U=w[R],z=f(U[0]),N=f(U[1]);O.push([c(z[0],-1/0),c(N[0],-1/0),c(z[1],1/0),c(N[1],1/0)])}r(O,function(te,J){P.link(te,J)});var W=!0,F=new Array(C);for(R=0;R<C;++R)(j=P.find(R))!==R&&(W=!1,S[j]=[Math.min(S[R][0],S[j][0]),Math.min(S[R][1],S[j][1])]);if(W)return null;var V=0;for(R=0;R<C;++R){var j;(j=P.find(R))===R?(F[R]=V,S[V++]=S[R]):F[R]=-1}for(S.length=V,R=0;R<C;++R)F[R]<0&&(F[R]=F[P.find(R)]);return F}function y(S,w){return S[0]-w[0]||S[1]-w[1]}function x(S,w){return S[0]-w[0]||S[1]-w[1]||(S[2]<w[2]?-1:S[2]>w[2]?1:0)}function _(S,w,E){if(S.length!==0){if(w)for(var C=0;C<S.length;++C){var P=w[(R=S[C])[0]],O=w[R[1]];R[0]=Math.min(P,O),R[1]=Math.max(P,O)}else for(C=0;C<S.length;++C){var R;P=(R=S[C])[0],O=R[1],R[0]=Math.min(P,O),R[1]=Math.max(P,O)}E?S.sort(x):S.sort(y);var U=1;for(C=1;C<S.length;++C){var z=S[C-1],N=S[C];(N[0]!==z[0]||N[1]!==z[1]||E&&N[2]!==z[2])&&(S[U++]=N)}S.length=U}}function h(S,w,E){var C=function(z,N){for(var W=new Array(N.length),F=0;F<N.length;++F){var V=N[F],j=z[V[0]],te=z[V[1]];W[F]=[c(Math.min(j[0],te[0]),-1/0),c(Math.min(j[1],te[1]),-1/0),c(Math.max(j[0],te[0]),1/0),c(Math.max(j[1],te[1]),1/0)]}return W}(S,w),P=function(z,N,W){var F=[];return r(W,function(V,j){var te=N[V],J=N[j];if(te[0]!==J[0]&&te[0]!==J[1]&&te[1]!==J[0]&&te[1]!==J[1]){var K=z[te[0]],Z=z[te[1]],X=z[J[0]],Q=z[J[1]];n(K,Z,X,Q)&&F.push([V,j])}}),F}(S,w,C),O=function(z,N,W,F){var V=[];return r(W,F,function(j,te){var J=N[j];if(J[0]!==te&&J[1]!==te){var K=z[te],Z=z[J[0]],X=z[J[1]];n(Z,X,K,K)&&V.push([j,te])}}),V}(S,w,C,p(S)),R=function(z,N,W,F,V){var j,te,J=z.map(function(ue){return[o(ue[0]),o(ue[1])]});for(j=0;j<W.length;++j){var K=W[j];te=K[0];var Z=K[1],X=N[te],Q=N[Z],re=m(d(z[X[0]]),d(z[X[1]]),d(z[Q[0]]),d(z[Q[1]]));if(re){var ae=z.length;z.push([u(re[0]),u(re[1])]),J.push(re),F.push([te,ae],[Z,ae])}}for(F.sort(function(ue,oe){if(ue[0]!==oe[0])return ue[0]-oe[0];var he=J[ue[1]],Ee=J[oe[1]];return l(he[0],Ee[0])||l(he[1],Ee[1])}),j=F.length-1;j>=0;--j){var ie=N[te=(ke=F[j])[0]],le=ie[0],pe=ie[1],de=z[le],ve=z[pe];if((de[0]-ve[0]||de[1]-ve[1])<0){var be=le;le=pe,pe=be}ie[0]=le;var me,ge=ie[1]=ke[1];for(V&&(me=ie[2]);j>0&&F[j-1][0]===te;){var ke,we=(ke=F[--j])[1];V?N.push([ge,we,me]):N.push([ge,we]),ge=we}V?N.push([ge,pe,me]):N.push([ge,pe])}return J}(S,w,P,O,E),U=v(S,R);return _(w,U,E),!!U||P.length>0||O.length>0}},5528:function(g,s,t){g.exports=function(m,f,p,v){var y=l(f,m),x=l(v,p),_=c(y,x);if(o(_)===0)return null;var h=c(x,l(m,p)),S=r(h,_),w=d(y,S);return u(m,w)};var i=t(3962),r=t(9189),n=t(4354),o=t(4951),l=t(6695),u=t(7584),d=t(4469);function c(m,f){return n(i(m[0],f[1]),i(m[1],f[0]))}},5692:function(g){g.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(g,s,t){var i=t(5692),r=t(3578);function n(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function o(u){for(var d,c="#",m=0;m<3;++m)c+=("00"+(d=(d=u[m]).toString(16))).substr(d.length);return c}function l(u){return"rgba("+u.join(",")+")"}g.exports=function(u){var d,c,m,f,p,v,y,x,_,h;if(u||(u={}),x=(u.nshades||72)-1,y=u.format||"hex",(v=u.colormap)||(v="jet"),typeof v=="string"){if(v=v.toLowerCase(),!i[v])throw Error(v+" not a supported colorscale");p=i[v]}else{if(!Array.isArray(v))throw Error("unsupported colormap option",v);p=v.slice()}if(p.length>x+1)throw new Error(v+" map requires nshades to be at least size "+p.length);_=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],d=p.map(function(P){return Math.round(P.index*x)}),_[0]=Math.min(Math.max(_[0],0),1),_[1]=Math.min(Math.max(_[1],0),1);var S=p.map(function(P,O){var R=p[O].index,U=p[O].rgb.slice();return U.length===4&&U[3]>=0&&U[3]<=1||(U[3]=_[0]+(_[1]-_[0])*R),U}),w=[];for(h=0;h<d.length-1;++h){f=d[h+1]-d[h],c=S[h],m=S[h+1];for(var E=0;E<f;E++){var C=E/f;w.push([Math.round(r(c[0],m[0],C)),Math.round(r(c[1],m[1],C)),Math.round(r(c[2],m[2],C)),r(c[3],m[3],C)])}}return w.push(p[p.length-1].rgb.concat(_[1])),y==="hex"?w=w.map(o):y==="rgbaString"?w=w.map(l):y==="float"&&(w=w.map(n)),w}},9398:function(g,s,t){g.exports=function(d,c,m,f){var p=i(c,m,f);if(p===0){var v=r(i(d,c,m)),y=r(i(d,c,f));if(v===y){if(v===0){var x=u(d,c,m);return x===u(d,c,f)?0:x?1:-1}return 0}return y===0?v>0||u(d,c,f)?-1:1:v===0?y>0||u(d,c,m)?1:-1:r(y-v)}var _=i(d,c,m);return _>0?p>0&&i(d,c,f)>0?1:-1:_<0?p>0||i(d,c,f)>0?1:-1:i(d,c,f)>0||u(d,c,m)?1:-1};var i=t(417),r=t(7538),n=t(87),o=t(2019),l=t(9662);function u(d,c,m){var f=n(d[0],-c[0]),p=n(d[1],-c[1]),v=n(m[0],-c[0]),y=n(m[1],-c[1]),x=l(o(f,v),o(p,y));return x[x.length-1]>=0}},7538:function(g){g.exports=function(s){return s<0?-1:s>0?1:0}},9209:function(g){g.exports=function(i,r){var n=i.length,o=i.length-r.length;if(o)return o;switch(n){case 0:return 0;case 1:return i[0]-r[0];case 2:return i[0]+i[1]-r[0]-r[1]||s(i[0],i[1])-s(r[0],r[1]);case 3:var l=i[0]+i[1],u=r[0]+r[1];if(o=l+i[2]-(u+r[2]))return o;var d=s(i[0],i[1]),c=s(r[0],r[1]);return s(d,i[2])-s(c,r[2])||s(d+i[2],l)-s(c+r[2],u);case 4:var m=i[0],f=i[1],p=i[2],v=i[3],y=r[0],x=r[1],_=r[2],h=r[3];return m+f+p+v-(y+x+_+h)||s(m,f,p,v)-s(y,x,_,h,y)||s(m+f,m+p,m+v,f+p,f+v,p+v)-s(y+x,y+_,y+h,x+_,x+h,_+h)||s(m+f+p,m+f+v,m+p+v,f+p+v)-s(y+x+_,y+x+h,y+_+h,x+_+h);default:for(var S=i.slice().sort(t),w=r.slice().sort(t),E=0;E<n;++E)if(o=S[E]-w[E])return o;return 0}};var s=Math.min;function t(i,r){return i-r}},1284:function(g,s,t){var i=t(9209),r=t(9887);g.exports=function(n,o){return i(n,o)||r(n)-r(o)}},5537:function(g,s,t){var i=t(8950),r=t(8722),n=t(3332);g.exports=function(o){var l=o.length;if(l===0)return[];if(l===1)return[[0]];var u=o[0].length;return u===0?[]:u===1?i(o):u===2?r(o):n(o,u)}},8950:function(g){g.exports=function(s){for(var t=0,i=0,r=1;r<s.length;++r)s[r][0]<s[t][0]&&(t=r),s[r][0]>s[i][0]&&(i=r);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(g,s,t){g.exports=function(r){var n=i(r),o=n.length;if(o<=2)return[];for(var l=new Array(o),u=n[o-1],d=0;d<o;++d){var c=n[d];l[d]=[u,c],u=c}return l};var i=t(3266)},3332:function(g,s,t){g.exports=function(n,o){try{return i(n,!0)}catch{var l=r(n);if(l.length<=o)return[];var u=function(c,m){for(var f=c.length,p=new Array(f),v=0;v<m.length;++v)p[v]=c[m[v]];var y=m.length;for(v=0;v<f;++v)m.indexOf(v)<0&&(p[y++]=c[v]);return p}(n,l);return function(c,m){for(var f=c.length,p=m.length,v=0;v<f;++v)for(var y=c[v],x=0;x<y.length;++x){var _=y[x];if(_<p)y[x]=m[_];else{_-=p;for(var h=0;h<p;++h)_>=m[h]&&(_+=1);y[x]=_}}return c}(i(u,!0),l)}};var i=t(2183),r=t(2153)},9680:function(g){g.exports=function(s,t,i,r,n,o){var l=n-1,u=n*n,d=l*l,c=(1+2*n)*d,m=n*d,f=u*(3-2*n),p=u*l;if(s.length){o||(o=new Array(s.length));for(var v=s.length-1;v>=0;--v)o[v]=c*s[v]+m*t[v]+f*i[v]+p*r[v];return o}return c*s+m*t+f*i+p*r},g.exports.derivative=function(s,t,i,r,n,o){var l=6*n*n-6*n,u=3*n*n-4*n+1,d=-6*n*n+6*n,c=3*n*n-2*n;if(s.length){o||(o=new Array(s.length));for(var m=s.length-1;m>=0;--m)o[m]=l*s[m]+u*t[m]+d*i[m]+c*r[m];return o}return l*s+u*t+d*i[m]+c*r}},4419:function(g,s,t){var i=t(2183),r=t(1215);function n(l,u){this.point=l,this.index=u}function o(l,u){for(var d=l.point,c=u.point,m=d.length,f=0;f<m;++f){var p=c[f]-d[f];if(p)return p}return 0}g.exports=function(l,u){var d=l.length;if(d===0)return[];var c=l[0].length;if(c<1)return[];if(c===1)return function(R,U,z){if(R===1)return z?[[-1,0]]:[];var N=U.map(function(te,J){return[te[0],J]});N.sort(function(te,J){return te[0]-J[0]});for(var W=new Array(R-1),F=1;F<R;++F){var V=N[F-1],j=N[F];W[F-1]=[V[1],j[1]]}return z&&W.push([-1,W[0][1]],[W[R-1][1],-1]),W}(d,l,u);for(var m=new Array(d),f=1,p=0;p<d;++p){for(var v=l[p],y=new Array(c+1),x=0,_=0;_<c;++_){var h=v[_];y[_]=h,x+=h*h}y[c]=x,m[p]=new n(y,p),f=Math.max(x,f)}r(m,o),d=m.length;var S=new Array(d+c+1),w=new Array(d+c+1),E=(c+1)*(c+1)*f,C=new Array(c+1);for(p=0;p<=c;++p)C[p]=0;for(C[c]=E,S[0]=C.slice(),w[0]=-1,p=0;p<=c;++p)(y=C.slice())[p]=1,S[p+1]=y,w[p+1]=-1;for(p=0;p<d;++p){var P=m[p];S[p+c+1]=P.point,w[p+c+1]=P.index}var O=i(S,!1);if(O=u?O.filter(function(R){for(var U=0,z=0;z<=c;++z){var N=w[R[z]];if(N<0&&++U>=2)return!1;R[z]=N}return!0}):O.filter(function(R){for(var U=0;U<=c;++U){var z=w[R[U]];if(z<0)return!1;R[U]=z}return!0}),1&c)for(p=0;p<O.length;++p)y=(P=O[p])[0],P[0]=P[1],P[1]=y;return O}},8362:function(g){var s=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),i=new Uint32Array(t.buffer);t[0]=1,s=!0,i[1]===1072693248?(g.exports=function(n){return t[0]=n,[i[0],i[1]]},g.exports.pack=function(n,o){return i[0]=n,i[1]=o,t[0]},g.exports.lo=function(n){return t[0]=n,i[0]},g.exports.hi=function(n){return t[0]=n,i[1]}):i[0]===1072693248?(g.exports=function(n){return t[0]=n,[i[1],i[0]]},g.exports.pack=function(n,o){return i[1]=n,i[0]=o,t[0]},g.exports.lo=function(n){return t[0]=n,i[1]},g.exports.hi=function(n){return t[0]=n,i[0]}):s=!1}if(!s){var r=new Buffer(8);g.exports=function(n){return r.writeDoubleLE(n,0,!0),[r.readUInt32LE(0,!0),r.readUInt32LE(4,!0)]},g.exports.pack=function(n,o){return r.writeUInt32LE(n,0,!0),r.writeUInt32LE(o,4,!0),r.readDoubleLE(0,!0)},g.exports.lo=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(0,!0)},g.exports.hi=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(4,!0)}}g.exports.sign=function(n){return g.exports.hi(n)>>>31},g.exports.exponent=function(n){return(g.exports.hi(n)<<1>>>21)-1023},g.exports.fraction=function(n){var o=g.exports.lo(n),l=g.exports.hi(n),u=1048575&l;return 2146435072&l&&(u+=1048576),[o,u]},g.exports.denormalized=function(n){return!(2146435072&g.exports.hi(n))}},3094:function(g){function s(t,i,r){var n=0|t[r];if(n<=0)return[];var o,l=new Array(n);if(r===t.length-1)for(o=0;o<n;++o)l[o]=i;else for(o=0;o<n;++o)l[o]=s(t,i,r+1);return l}g.exports=function(t,i){switch(i===void 0&&(i=0),typeof t){case"number":if(t>0)return function(r,n){var o,l;for(o=new Array(r),l=0;l<r;++l)o[l]=n;return o}(0|t,i);break;case"object":if(typeof t.length=="number")return s(t,i,0)}return[]}},8348:function(g,s,t){g.exports=function(r,n){var o=r.length;if(typeof n!="number"){n=0;for(var l=0;l<o;++l){var u=r[l];n=Math.max(n,u[0],u[1])}n=1+(0|n)}n|=0;var d=new Array(n);for(l=0;l<n;++l)d[l]=[];for(l=0;l<o;++l)d[(u=r[l])[0]].push(u[1]),d[u[1]].push(u[0]);for(var c=0;c<n;++c)i(d[c],function(m,f){return m-f});return d};var i=t(1215)},5795:function(g){g.exports=function(s,t,i){var r=t||0,n=i||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[r*s[12]+s[8],r*s[13]+s[9],r*s[14]+s[10],r*s[15]+s[11]],[n*s[12]-s[8],n*s[13]-s[9],n*s[14]-s[10],n*s[15]-s[11]]]}},8444:function(g,s,t){g.exports=function(d,c,m){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return typeof d=="number"?new o(f=u(d),f,0):new o(d,u(d.length),0);case 2:var f;if(typeof c=="number")return new o(d,f=u(d.length),+c);m=0;case 3:if(d.length!==c.length)throw new Error("state and velocity lengths must match");return new o(d,c,m)}};var i=t(9680),r=t(5070);function n(d,c,m){return Math.min(c,Math.max(d,m))}function o(d,c,m){this.dimension=d.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var f=0;f<this.dimension;++f)this.bounds[0][f]=-1/0,this.bounds[1][f]=1/0;this._state=d.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[m],this._scratch=[d.slice(),d.slice(),d.slice(),d.slice(),d.slice()]}var l=o.prototype;function u(d){for(var c=new Array(d),m=0;m<d;++m)c[m]=0;return c}l.flush=function(d){var c=r.gt(this._time,d)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},l.curve=function(d){var c=this._time,m=c.length,f=r.le(c,d),p=this._scratch[0],v=this._state,y=this._velocity,x=this.dimension,_=this.bounds;if(f<0)for(var h=x-1,S=0;S<x;++S,--h)p[S]=v[h];else if(f>=m-1){h=v.length-1;var w=d-c[m-1];for(S=0;S<x;++S,--h)p[S]=v[h]+w*y[h]}else{h=x*(f+1)-1;var E=c[f],C=c[f+1]-E||1,P=this._scratch[1],O=this._scratch[2],R=this._scratch[3],U=this._scratch[4],z=!0;for(S=0;S<x;++S,--h)P[S]=v[h],R[S]=y[h]*C,O[S]=v[h+x],U[S]=y[h+x]*C,z=z&&P[S]===O[S]&&R[S]===U[S]&&R[S]===0;if(z)for(S=0;S<x;++S)p[S]=P[S];else i(P,R,O,U,(d-E)/C,p)}var N=_[0],W=_[1];for(S=0;S<x;++S)p[S]=n(N[S],W[S],p[S]);return p},l.dcurve=function(d){var c=this._time,m=c.length,f=r.le(c,d),p=this._scratch[0],v=this._state,y=this._velocity,x=this.dimension;if(f>=m-1)for(var _=v.length-1,h=(c[m-1],0);h<x;++h,--_)p[h]=y[_];else{_=x*(f+1)-1;var S=c[f],w=c[f+1]-S||1,E=this._scratch[1],C=this._scratch[2],P=this._scratch[3],O=this._scratch[4],R=!0;for(h=0;h<x;++h,--_)E[h]=v[_],P[h]=y[_]*w,C[h]=v[_+x],O[h]=y[_+x]*w,R=R&&E[h]===C[h]&&P[h]===O[h]&&P[h]===0;if(R)for(h=0;h<x;++h)p[h]=0;else for(i.derivative(E,P,C,O,(d-S)/w,p),h=0;h<x;++h)p[h]/=w}return p},l.lastT=function(){var d=this._time;return d[d.length-1]},l.stable=function(){for(var d=this._velocity,c=d.length,m=this.dimension-1;m>=0;--m)if(d[--c])return!1;return!0},l.jump=function(d){var c=this.lastT(),m=this.dimension;if(!(d<c||arguments.length!==m+1)){var f=this._state,p=this._velocity,v=f.length-this.dimension,y=this.bounds,x=y[0],_=y[1];this._time.push(c,d);for(var h=0;h<2;++h)for(var S=0;S<m;++S)f.push(f[v++]),p.push(0);for(this._time.push(d),S=m;S>0;--S)f.push(n(x[S-1],_[S-1],arguments[S])),p.push(0)}},l.push=function(d){var c=this.lastT(),m=this.dimension;if(!(d<c||arguments.length!==m+1)){var f=this._state,p=this._velocity,v=f.length-this.dimension,y=d-c,x=this.bounds,_=x[0],h=x[1],S=y>1e-6?1/y:0;this._time.push(d);for(var w=m;w>0;--w){var E=n(_[w-1],h[w-1],arguments[w]);f.push(E),p.push((E-f[v++])*S)}}},l.set=function(d){var c=this.dimension;if(!(d<this.lastT()||arguments.length!==c+1)){var m=this._state,f=this._velocity,p=this.bounds,v=p[0],y=p[1];this._time.push(d);for(var x=c;x>0;--x)m.push(n(v[x-1],y[x-1],arguments[x])),f.push(0)}},l.move=function(d){var c=this.lastT(),m=this.dimension;if(!(d<=c||arguments.length!==m+1)){var f=this._state,p=this._velocity,v=f.length-this.dimension,y=this.bounds,x=y[0],_=y[1],h=d-c,S=h>1e-6?1/h:0;this._time.push(d);for(var w=m;w>0;--w){var E=arguments[w];f.push(n(x[w-1],_[w-1],f[v++]+E)),p.push(E*S)}}},l.idle=function(d){var c=this.lastT();if(!(d<c)){var m=this.dimension,f=this._state,p=this._velocity,v=f.length-m,y=this.bounds,x=y[0],_=y[1],h=d-c;this._time.push(d);for(var S=m-1;S>=0;--S)f.push(n(x[S],_[S],f[v]+h*p[v])),p.push(0),v+=1}}},7080:function(g){function s(v,y,x,_,h,S){this._color=v,this.key=y,this.value=x,this.left=_,this.right=h,this._count=S}function t(v){return new s(v._color,v.key,v.value,v.left,v.right,v._count)}function i(v,y){return new s(v,y.key,y.value,y.left,y.right,y._count)}function r(v){v._count=1+(v.left?v.left._count:0)+(v.right?v.right._count:0)}function n(v,y){this._compare=v,this.root=y}g.exports=function(v){return new n(v||p,null)};var o=n.prototype;function l(v,y){var x;return y.left&&(x=l(v,y.left))?x:(x=v(y.key,y.value))||(y.right?l(v,y.right):void 0)}function u(v,y,x,_){if(y(v,_.key)<=0){var h;if(_.left&&(h=u(v,y,x,_.left))||(h=x(_.key,_.value)))return h}if(_.right)return u(v,y,x,_.right)}function d(v,y,x,_,h){var S,w=x(v,h.key),E=x(y,h.key);if(w<=0&&(h.left&&(S=d(v,y,x,_,h.left))||E>0&&(S=_(h.key,h.value))))return S;if(E>0&&h.right)return d(v,y,x,_,h.right)}function c(v,y){this.tree=v,this._stack=y}Object.defineProperty(o,"keys",{get:function(){var v=[];return this.forEach(function(y,x){v.push(y)}),v}}),Object.defineProperty(o,"values",{get:function(){var v=[];return this.forEach(function(y,x){v.push(x)}),v}}),Object.defineProperty(o,"length",{get:function(){return this.root?this.root._count:0}}),o.insert=function(v,y){for(var x=this._compare,_=this.root,h=[],S=[];_;){var w=x(v,_.key);h.push(_),S.push(w),_=w<=0?_.left:_.right}h.push(new s(0,v,y,null,null,1));for(var E=h.length-2;E>=0;--E)_=h[E],S[E]<=0?h[E]=new s(_._color,_.key,_.value,h[E+1],_.right,_._count+1):h[E]=new s(_._color,_.key,_.value,_.left,h[E+1],_._count+1);for(E=h.length-1;E>1;--E){var C=h[E-1];if(_=h[E],C._color===1||_._color===1)break;var P=h[E-2];if(P.left===C)if(C.left===_){if(!(O=P.right)||O._color!==0){P._color=0,P.left=C.right,C._color=1,C.right=P,h[E-2]=C,h[E-1]=_,r(P),r(C),E>=3&&((R=h[E-3]).left===P?R.left=C:R.right=C);break}C._color=1,P.right=i(1,O),P._color=0,E-=1}else{if(!(O=P.right)||O._color!==0){C.right=_.left,P._color=0,P.left=_.right,_._color=1,_.left=C,_.right=P,h[E-2]=_,h[E-1]=C,r(P),r(C),r(_),E>=3&&((R=h[E-3]).left===P?R.left=_:R.right=_);break}C._color=1,P.right=i(1,O),P._color=0,E-=1}else if(C.right===_){if(!(O=P.left)||O._color!==0){P._color=0,P.right=C.left,C._color=1,C.left=P,h[E-2]=C,h[E-1]=_,r(P),r(C),E>=3&&((R=h[E-3]).right===P?R.right=C:R.left=C);break}C._color=1,P.left=i(1,O),P._color=0,E-=1}else{var O;if(!(O=P.left)||O._color!==0){var R;C.left=_.right,P._color=0,P.right=_.left,_._color=1,_.right=C,_.left=P,h[E-2]=_,h[E-1]=C,r(P),r(C),r(_),E>=3&&((R=h[E-3]).right===P?R.right=_:R.left=_);break}C._color=1,P.left=i(1,O),P._color=0,E-=1}}return h[0]._color=1,new n(x,h[0])},o.forEach=function(v,y,x){if(this.root)switch(arguments.length){case 1:return l(v,this.root);case 2:return u(y,this._compare,v,this.root);case 3:return this._compare(y,x)>=0?void 0:d(y,x,this._compare,v,this.root)}},Object.defineProperty(o,"begin",{get:function(){for(var v=[],y=this.root;y;)v.push(y),y=y.left;return new c(this,v)}}),Object.defineProperty(o,"end",{get:function(){for(var v=[],y=this.root;y;)v.push(y),y=y.right;return new c(this,v)}}),o.at=function(v){if(v<0)return new c(this,[]);for(var y=this.root,x=[];;){if(x.push(y),y.left){if(v<y.left._count){y=y.left;continue}v-=y.left._count}if(!v)return new c(this,x);if(v-=1,!y.right||v>=y.right._count)break;y=y.right}return new c(this,[])},o.ge=function(v){for(var y=this._compare,x=this.root,_=[],h=0;x;){var S=y(v,x.key);_.push(x),S<=0&&(h=_.length),x=S<=0?x.left:x.right}return _.length=h,new c(this,_)},o.gt=function(v){for(var y=this._compare,x=this.root,_=[],h=0;x;){var S=y(v,x.key);_.push(x),S<0&&(h=_.length),x=S<0?x.left:x.right}return _.length=h,new c(this,_)},o.lt=function(v){for(var y=this._compare,x=this.root,_=[],h=0;x;){var S=y(v,x.key);_.push(x),S>0&&(h=_.length),x=S<=0?x.left:x.right}return _.length=h,new c(this,_)},o.le=function(v){for(var y=this._compare,x=this.root,_=[],h=0;x;){var S=y(v,x.key);_.push(x),S>=0&&(h=_.length),x=S<0?x.left:x.right}return _.length=h,new c(this,_)},o.find=function(v){for(var y=this._compare,x=this.root,_=[];x;){var h=y(v,x.key);if(_.push(x),h===0)return new c(this,_);x=h<=0?x.left:x.right}return new c(this,[])},o.remove=function(v){var y=this.find(v);return y?y.remove():this},o.get=function(v){for(var y=this._compare,x=this.root;x;){var _=y(v,x.key);if(_===0)return x.value;x=_<=0?x.left:x.right}};var m=c.prototype;function f(v,y){v.key=y.key,v.value=y.value,v.left=y.left,v.right=y.right,v._color=y._color,v._count=y._count}function p(v,y){return v<y?-1:v>y?1:0}Object.defineProperty(m,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(m,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),m.clone=function(){return new c(this.tree,this._stack.slice())},m.remove=function(){var v=this._stack;if(v.length===0)return this.tree;var y=new Array(v.length),x=v[v.length-1];y[y.length-1]=new s(x._color,x.key,x.value,x.left,x.right,x._count);for(var _=v.length-2;_>=0;--_)(x=v[_]).left===v[_+1]?y[_]=new s(x._color,x.key,x.value,y[_+1],x.right,x._count):y[_]=new s(x._color,x.key,x.value,x.left,y[_+1],x._count);if((x=y[y.length-1]).left&&x.right){var h=y.length;for(x=x.left;x.right;)y.push(x),x=x.right;var S=y[h-1];for(y.push(new s(x._color,S.key,S.value,x.left,x.right,x._count)),y[h-1].key=x.key,y[h-1].value=x.value,_=y.length-2;_>=h;--_)x=y[_],y[_]=new s(x._color,x.key,x.value,x.left,y[_+1],x._count);y[h-1].left=y[h]}if((x=y[y.length-1])._color===0){var w=y[y.length-2];for(w.left===x?w.left=null:w.right===x&&(w.right=null),y.pop(),_=0;_<y.length;++_)y[_]._count--;return new n(this.tree._compare,y[0])}if(x.left||x.right){for(x.left?f(x,x.left):x.right&&f(x,x.right),x._color=1,_=0;_<y.length-1;++_)y[_]._count--;return new n(this.tree._compare,y[0])}if(y.length===1)return new n(this.tree._compare,null);for(_=0;_<y.length;++_)y[_]._count--;var E=y[y.length-2];return function(C){for(var P,O,R,U,z=C.length-1;z>=0;--z){if(P=C[z],z===0)return void(P._color=1);if((O=C[z-1]).left===P){if((R=O.right).right&&R.right._color===0)return U=(R=O.right=t(R)).right=t(R.right),O.right=R.left,R.left=O,R.right=U,R._color=O._color,P._color=1,O._color=1,U._color=1,r(O),r(R),z>1&&((N=C[z-2]).left===O?N.left=R:N.right=R),void(C[z-1]=R);if(R.left&&R.left._color===0)return U=(R=O.right=t(R)).left=t(R.left),O.right=U.left,R.left=U.right,U.left=O,U.right=R,U._color=O._color,O._color=1,R._color=1,P._color=1,r(O),r(R),r(U),z>1&&((N=C[z-2]).left===O?N.left=U:N.right=U),void(C[z-1]=U);if(R._color===1){if(O._color===0)return O._color=1,void(O.right=i(0,R));O.right=i(0,R);continue}R=t(R),O.right=R.left,R.left=O,R._color=O._color,O._color=0,r(O),r(R),z>1&&((N=C[z-2]).left===O?N.left=R:N.right=R),C[z-1]=R,C[z]=O,z+1<C.length?C[z+1]=P:C.push(P),z+=2}else{if((R=O.left).left&&R.left._color===0)return U=(R=O.left=t(R)).left=t(R.left),O.left=R.right,R.right=O,R.left=U,R._color=O._color,P._color=1,O._color=1,U._color=1,r(O),r(R),z>1&&((N=C[z-2]).right===O?N.right=R:N.left=R),void(C[z-1]=R);if(R.right&&R.right._color===0)return U=(R=O.left=t(R)).right=t(R.right),O.left=U.right,R.right=U.left,U.right=O,U.left=R,U._color=O._color,O._color=1,R._color=1,P._color=1,r(O),r(R),r(U),z>1&&((N=C[z-2]).right===O?N.right=U:N.left=U),void(C[z-1]=U);if(R._color===1){if(O._color===0)return O._color=1,void(O.left=i(0,R));O.left=i(0,R);continue}var N;R=t(R),O.left=R.right,R.right=O,R._color=O._color,O._color=0,r(O),r(R),z>1&&((N=C[z-2]).right===O?N.right=R:N.left=R),C[z-1]=R,C[z]=O,z+1<C.length?C[z+1]=P:C.push(P),z+=2}}}(y),E.left===x?E.left=null:E.right=null,new n(this.tree._compare,y[0])},Object.defineProperty(m,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(m,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(m,"index",{get:function(){var v=0,y=this._stack;if(y.length===0){var x=this.tree.root;return x?x._count:0}y[y.length-1].left&&(v=y[y.length-1].left._count);for(var _=y.length-2;_>=0;--_)y[_+1]===y[_].right&&(++v,y[_].left&&(v+=y[_].left._count));return v},enumerable:!0}),m.next=function(){var v=this._stack;if(v.length!==0){var y=v[v.length-1];if(y.right)for(y=y.right;y;)v.push(y),y=y.left;else for(v.pop();v.length>0&&v[v.length-1].right===y;)y=v[v.length-1],v.pop()}},Object.defineProperty(m,"hasNext",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].right)return!0;for(var y=v.length-1;y>0;--y)if(v[y-1].left===v[y])return!0;return!1}}),m.update=function(v){var y=this._stack;if(y.length===0)throw new Error("Can't update empty node!");var x=new Array(y.length),_=y[y.length-1];x[x.length-1]=new s(_._color,_.key,v,_.left,_.right,_._count);for(var h=y.length-2;h>=0;--h)(_=y[h]).left===y[h+1]?x[h]=new s(_._color,_.key,_.value,x[h+1],_.right,_._count):x[h]=new s(_._color,_.key,_.value,_.left,x[h+1],_._count);return new n(this.tree._compare,x[0])},m.prev=function(){var v=this._stack;if(v.length!==0){var y=v[v.length-1];if(y.left)for(y=y.left;y;)v.push(y),y=y.right;else for(v.pop();v.length>0&&v[v.length-1].left===y;)y=v[v.length-1],v.pop()}},Object.defineProperty(m,"hasPrev",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].left)return!0;for(var y=v.length-1;y>0;--y)if(v[y-1].right===v[y])return!0;return!1}})},7453:function(g,s,t){g.exports=function(w,E){var C=new c(w);return C.update(E),C};var i=t(9557),r=t(1681),n=t(1011),o=t(2864),l=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function d(w,E){return w[0]=E[0],w[1]=E[1],w[2]=E[2],w}function c(w){this.gl=w,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(w)}var m=c.prototype;function f(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}m.update=function(w){function E(te,J,K){if(K in w){var Z,X=w[K],Q=this[K];(te?Array.isArray(X)&&Array.isArray(X[0]):Array.isArray(X))?this[K]=Z=[J(X[0]),J(X[1]),J(X[2])]:this[K]=Z=[J(X),J(X),J(X)];for(var re=0;re<3;++re)if(Z[re]!==Q[re])return!0}return!1}w=w||{};var C,P=E.bind(this,!1,Number),O=E.bind(this,!1,Boolean),R=E.bind(this,!1,String),U=E.bind(this,!0,function(te){if(Array.isArray(te)){if(te.length===3)return[+te[0],+te[1],+te[2],1];if(te.length===4)return[+te[0],+te[1],+te[2],+te[3]]}return[0,0,0,1]}),z=!1,N=!1;if("bounds"in w)for(var W=w.bounds,F=0;F<2;++F)for(var V=0;V<3;++V)W[F][V]!==this.bounds[F][V]&&(N=!0),this.bounds[F][V]=W[F][V];if("ticks"in w)for(C=w.ticks,z=!0,this.autoTicks=!1,F=0;F<3;++F)this.tickSpacing[F]=0;else P("tickSpacing")&&(this.autoTicks=!0,N=!0);if(this._firstInit&&("ticks"in w||"tickSpacing"in w||(this.autoTicks=!0),N=!0,z=!0,this._firstInit=!1),N&&this.autoTicks&&(C=l.create(this.bounds,this.tickSpacing),z=!0),z){for(F=0;F<3;++F)C[F].sort(function(te,J){return te.x-J.x});l.equal(C,this.ticks)?z=!1:this.ticks=C}O("tickEnable"),R("tickFont")&&(z=!0),P("tickSize"),P("tickAngle"),P("tickPad"),U("tickColor");var j=R("labels");R("labelFont")&&(j=!0),O("labelEnable"),P("labelSize"),P("labelPad"),U("labelColor"),O("lineEnable"),O("lineMirror"),P("lineWidth"),U("lineColor"),O("lineTickEnable"),O("lineTickMirror"),P("lineTickLength"),P("lineTickWidth"),U("lineTickColor"),O("gridEnable"),P("gridWidth"),U("gridColor"),O("zeroEnable"),U("zeroLineColor"),P("zeroLineWidth"),O("backgroundEnable"),U("backgroundColor"),this._text?this._text&&(j||z)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=i(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&z&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=r(this.gl,this.bounds,this.ticks))};var p=[new f,new f,new f];function v(w,E,C,P,O){for(var R=w.primalOffset,U=w.primalMinor,z=w.mirrorOffset,N=w.mirrorMinor,W=P[E],F=0;F<3;++F)if(E!==F){var V=R,j=z,te=U,J=N;W&1<<F&&(V=z,j=R,te=N,J=U),V[F]=C[0][F],j[F]=C[1][F],O[F]>0?(te[F]=-1,J[F]=0):(te[F]=0,J[F]=1)}}var y=[0,0,0],x={model:u,view:u,projection:u,_ortho:!1};m.isOpaque=function(){return!0},m.isTransparent=function(){return!1},m.drawTransparent=function(w){};var _=[0,0,0],h=[0,0,0],S=[0,0,0];m.draw=function(w){w=w||x;for(var E=this.gl,C=w.model||u,P=w.view||u,O=w.projection||u,R=this.bounds,U=w._ortho||!1,z=o(C,P,O,R,U),N=z.cubeEdges,W=z.axis,F=P[12],V=P[13],j=P[14],te=P[15],J=(U?2:1)*this.pixelRatio*(O[3]*F+O[7]*V+O[11]*j+O[15]*te)/E.drawingBufferHeight,K=0;K<3;++K)this.lastCubeProps.cubeEdges[K]=N[K],this.lastCubeProps.axis[K]=W[K];var Z=p;for(K=0;K<3;++K)v(p[K],K,this.bounds,N,W);E=this.gl;var X,Q,re,ae=y;for(K=0;K<3;++K)this.backgroundEnable[K]?ae[K]=W[K]:ae[K]=0;for(this._background.draw(C,P,O,R,ae,this.backgroundColor),this._lines.bind(C,P,O,this),K=0;K<3;++K){var ie=[0,0,0];W[K]>0?ie[K]=R[1][K]:ie[K]=R[0][K];for(var le=0;le<2;++le){var pe=(K+1+le)%3,de=(K+1+(1^le))%3;this.gridEnable[pe]&&this._lines.drawGrid(pe,de,this.bounds,ie,this.gridColor[pe],this.gridWidth[pe]*this.pixelRatio)}for(le=0;le<2;++le)pe=(K+1+le)%3,de=(K+1+(1^le))%3,this.zeroEnable[de]&&Math.min(R[0][de],R[1][de])<=0&&Math.max(R[0][de],R[1][de])>=0&&this._lines.drawZero(pe,de,this.bounds,ie,this.zeroLineColor[de],this.zeroLineWidth[de]*this.pixelRatio)}for(K=0;K<3;++K){this.lineEnable[K]&&this._lines.drawAxisLine(K,this.bounds,Z[K].primalOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio),this.lineMirror[K]&&this._lines.drawAxisLine(K,this.bounds,Z[K].mirrorOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio);var ve=d(_,Z[K].primalMinor),be=d(h,Z[K].mirrorMinor),me=this.lineTickLength;for(le=0;le<3;++le){var ge=J/C[5*le];ve[le]*=me[le]*ge,be[le]*=me[le]*ge}this.lineTickEnable[K]&&this._lines.drawAxisTicks(K,Z[K].primalOffset,ve,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio),this.lineTickMirror[K]&&this._lines.drawAxisTicks(K,Z[K].mirrorOffset,be,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio)}function ke(Te){(re=[0,0,0])[Te]=1}function we(Te,Me,Se){var ze=(Te+1)%3,fe=(Te+2)%3,xe=Me[ze],_e=Me[fe],Oe=Se[ze],De=Se[fe];xe>0&&De>0||xe>0&&De<0||xe<0&&De>0||xe<0&&De<0?ke(ze):(_e>0&&Oe>0||_e>0&&Oe<0||_e<0&&Oe>0||_e<0&&Oe<0)&&ke(fe)}for(this._lines.unbind(),this._text.bind(C,P,O,this.pixelRatio),K=0;K<3;++K){var ue=Z[K].primalMinor,oe=Z[K].mirrorMinor,he=d(S,Z[K].primalOffset);for(le=0;le<3;++le)this.lineTickEnable[K]&&(he[le]+=J*ue[le]*Math.max(this.lineTickLength[le],0)/C[5*le]);var Ee=[0,0,0];if(Ee[K]=1,this.tickEnable[K]){for(this.tickAngle[K]===-3600?(this.tickAngle[K]=0,this.tickAlign[K]="auto"):this.tickAlign[K]=-1,Q=1,(X=[this.tickAlign[K],.5,Q])[0]==="auto"?X[0]=0:X[0]=parseInt(""+X[0]),re=[0,0,0],we(K,ue,oe),le=0;le<3;++le)he[le]+=J*ue[le]*this.tickPad[le]/C[5*le];this._text.drawTicks(K,this.tickSize[K],this.tickAngle[K],he,this.tickColor[K],Ee,re,X)}if(this.labelEnable[K]){for(Q=0,re=[0,0,0],this.labels[K].length>4&&(ke(K),Q=1),(X=[this.labelAlign[K],.5,Q])[0]==="auto"?X[0]=0:X[0]=parseInt(""+X[0]),le=0;le<3;++le)he[le]+=J*ue[le]*this.labelPad[le]/C[5*le];he[K]+=.5*(R[0][K]+R[1][K]),this._text.drawLabel(K,this.labelSize[K],this.labelAngle[K],he,this.labelColor[K],[0,0,0],re,X)}}this._text.unbind()},m.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(g,s,t){g.exports=function(u){for(var d=[],c=[],m=0,f=0;f<3;++f)for(var p=(f+1)%3,v=(f+2)%3,y=[0,0,0],x=[0,0,0],_=-1;_<=1;_+=2){c.push(m,m+2,m+1,m+1,m+2,m+3),y[f]=_,x[f]=_;for(var h=-1;h<=1;h+=2){y[p]=h;for(var S=-1;S<=1;S+=2)y[v]=S,d.push(y[0],y[1],y[2],x[0],x[1],x[2]),m+=1}var w=p;p=v,v=w}var E=i(u,new Float32Array(d)),C=i(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),P=r(u,[{buffer:E,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:u.FLOAT,size:3,offset:12,stride:24}],C),O=n(u);return O.attributes.position.location=0,O.attributes.normal.location=1,new o(u,E,P,O)};var i=t(5827),r=t(2944),n=t(1943).bg;function o(u,d,c,m){this.gl=u,this.buffer=d,this.vao=c,this.shader=m}var l=o.prototype;l.draw=function(u,d,c,m,f,p){for(var v=!1,y=0;y<3;++y)v=v||f[y];if(v){var x=this.gl;x.enable(x.POLYGON_OFFSET_FILL),x.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:d,projection:c,bounds:m,enable:f,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),x.disable(x.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(g,s,t){g.exports=function(h,S,w,E,C){r(l,S,h),r(l,w,l);for(var P=0,O=0;O<2;++O){c[2]=E[O][2];for(var R=0;R<2;++R){c[1]=E[R][1];for(var U=0;U<2;++U)c[0]=E[U][0],f(u[P],c,l),P+=1}}var z=-1;for(O=0;O<8;++O){for(var N=u[O][3],W=0;W<3;++W)d[O][W]=u[O][W]/N;C&&(d[O][2]*=-1),N<0&&(z<0||d[O][2]<d[z][2])&&(z=O)}if(z<0){z=0;for(var F=0;F<3;++F){for(var V=(F+2)%3,j=(F+1)%3,te=-1,J=-1,K=0;K<2;++K){var Z=(Q=K<<F)+(K<<V)+(1-K<<j),X=Q+(1-K<<V)+(K<<j);o(d[Q],d[Z],d[X],m)<0||(K?te=1:J=1)}if(te<0||J<0)J>te&&(z|=1<<F);else{for(K=0;K<2;++K){Z=(Q=K<<F)+(K<<V)+(1-K<<j),X=Q+(1-K<<V)+(K<<j);var Q,re=v([u[Q],u[Z],u[X],u[Q+(1<<V)+(1<<j)]]);K?te=re:J=re}J>te&&(z|=1<<F)}}}var ae=7^z,ie=-1;for(O=0;O<8;++O)O!==z&&O!==ae&&(ie<0||d[ie][1]>d[O][1])&&(ie=O);var le=-1;for(O=0;O<3;++O)(de=ie^1<<O)!==z&&de!==ae&&(le<0&&(le=de),(j=d[de])[0]<d[le][0]&&(le=de));var pe=-1;for(O=0;O<3;++O){var de;(de=ie^1<<O)!==z&&de!==ae&&de!==le&&(pe<0&&(pe=de),(j=d[de])[0]>d[pe][0]&&(pe=de))}var ve=y;ve[0]=ve[1]=ve[2]=0,ve[i.log2(le^ie)]=ie&le,ve[i.log2(ie^pe)]=ie&pe;var be=7^pe;be===z||be===ae?(be=7^le,ve[i.log2(pe^be)]=be&pe):ve[i.log2(le^be)]=be&le;var me=x,ge=z;for(F=0;F<3;++F)me[F]=ge&1<<F?-1:1;return _};var i=t(2288),r=t(104),n=t(4670),o=t(417),l=new Array(16),u=new Array(8),d=new Array(8),c=new Array(3),m=[0,0,0];function f(h,S,w){for(var E=0;E<4;++E){h[E]=w[12+E];for(var C=0;C<3;++C)h[E]+=S[C]*w[4*C+E]}}(function(){for(var h=0;h<8;++h)u[h]=[1,1,1,1],d[h]=[1,1,1]})();var p=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function v(h){for(var S=0;S<p.length;++S)if((h=n.positive(h,p[S])).length<3)return 0;var w=h[0],E=w[0]/w[3],C=w[1]/w[3],P=0;for(S=1;S+1<h.length;++S){var O=h[S],R=h[S+1],U=O[0]/O[3]-E,z=O[1]/O[3]-C,N=R[0]/R[3]-E,W=R[1]/R[3]-C;P+=Math.abs(U*W-z*N)}return P}var y=[1,1,1],x=[0,0,0],_={cubeEdges:y,axis:x}},1681:function(g,s,t){g.exports=function(y,x,_){var h=[],S=[0,0,0],w=[0,0,0],E=[0,0,0],C=[0,0,0];h.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var P=0;P<3;++P){for(var O=h.length/3|0,R=0;R<_[P].length;++R){var U=+_[P][R].x;h.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var z=h.length/3|0;S[P]=O,w[P]=z-O,O=h.length/3|0;for(var N=0;N<_[P].length;++N)U=+_[P][N].x,h.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1);z=h.length/3|0,E[P]=O,C[P]=z-O}var W=i(y,new Float32Array(h)),F=r(y,[{buffer:W,type:y.FLOAT,size:3,stride:0,offset:0}]),V=n(y);return V.attributes.position.location=0,new p(y,W,F,V,w,S,C,E)};var i=t(5827),r=t(2944),n=t(1943).j,o=[0,0,0],l=[0,0,0],u=[0,0,0],d=[0,0,0],c=[1,1];function m(y){return y[0]=y[1]=y[2]=0,y}function f(y,x){return y[0]=x[0],y[1]=x[1],y[2]=x[2],y}function p(y,x,_,h,S,w,E,C){this.gl=y,this.vertBuffer=x,this.vao=_,this.shader=h,this.tickCount=S,this.tickOffset=w,this.gridCount=E,this.gridOffset=C}var v=p.prototype;v.bind=function(y,x,_){this.shader.bind(),this.shader.uniforms.model=y,this.shader.uniforms.view=x,this.shader.uniforms.projection=_,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},v.unbind=function(){this.vao.unbind()},v.drawAxisLine=function(y,x,_,h,S){var w=m(l);this.shader.uniforms.majorAxis=l,w[y]=x[1][y]-x[0][y],this.shader.uniforms.minorAxis=w;var E,C=f(d,_);C[y]+=x[0][y],this.shader.uniforms.offset=C,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=h,(E=m(u))[(y+2)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6),(E=m(u))[(y+1)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6)},v.drawAxisTicks=function(y,x,_,h,S){if(this.tickCount[y]){var w=m(o);w[y]=1,this.shader.uniforms.majorAxis=w,this.shader.uniforms.offset=x,this.shader.uniforms.minorAxis=_,this.shader.uniforms.color=h,this.shader.uniforms.lineWidth=S;var E=m(u);E[y]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[y],this.tickOffset[y])}},v.drawGrid=function(y,x,_,h,S,w){if(this.gridCount[y]){var E=m(l);E[x]=_[1][x]-_[0][x],this.shader.uniforms.minorAxis=E;var C=f(d,h);C[x]+=_[0][x],this.shader.uniforms.offset=C;var P=m(o);P[y]=1,this.shader.uniforms.majorAxis=P;var O=m(u);O[y]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[y],this.gridOffset[y])}},v.drawZero=function(y,x,_,h,S,w){var E=m(l);this.shader.uniforms.majorAxis=E,E[y]=_[1][y]-_[0][y],this.shader.uniforms.minorAxis=E;var C=f(d,h);C[y]+=_[0][y],this.shader.uniforms.offset=C;var P=m(u);P[x]=1,this.shader.uniforms.screenAxis=P,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},v.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(g,s,t){var i=t(6832),r=t(5158),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.j=function(m){return r(m,n,o,null,[{name:"position",type:"vec3"}])};var l=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.f=function(m){return r(m,l,u,null,[{name:"position",type:"vec3"}])};var d=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);s.bg=function(m){return r(m,d,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(g,s,t){g.exports=function(f,p,v,y,x,_){var h=i(f),S=r(f,[{buffer:h,size:3}]),w=o(f);w.attributes.position.location=0;var E=new d(f,w,h,S);return E.update(p,v,y,x,_),E};var i=t(5827),r=t(2944),n=t(875),o=t(1943).f,l=window||k.global||{},u=l.__TEXT_CACHE||{};function d(f,p,v,y){this.gl=f,this.shader=p,this.buffer=v,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}l.__TEXT_CACHE={};var c=d.prototype,m=[0,0];c.bind=function(f,p,v,y){this.vao.bind(),this.shader.bind();var x=this.shader.uniforms;x.model=f,x.view=p,x.projection=v,x.pixelScale=y,m[0]=this.gl.drawingBufferWidth,m[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=m},c.unbind=function(){this.vao.unbind()},c.update=function(f,p,v,y,x){var _=[];function h(U,z,N,W,F,V){var j=u[N];j||(j=u[N]={});var te=j[z];te||(te=j[z]=function(le,pe){try{return n(le,pe)}catch(de){return console.warn('error vectorizing text:"'+le+'" error:',de),{cells:[],positions:[]}}}(z,{triangles:!0,font:N,textAlign:"center",textBaseline:"middle",lineSpacing:F,styletags:V}));for(var J=(W||12)/12,K=te.positions,Z=te.cells,X=0,Q=Z.length;X<Q;++X)for(var re=Z[X],ae=2;ae>=0;--ae){var ie=K[re[ae]];_.push(J*ie[0],-J*ie[1],U)}}for(var S=[0,0,0],w=[0,0,0],E=[0,0,0],C=[0,0,0],P={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){E[O]=_.length/3|0,h(.5*(f[0][O]+f[1][O]),p[O],v[O],12,1.25,P),C[O]=(_.length/3|0)-E[O],S[O]=_.length/3|0;for(var R=0;R<y[O].length;++R)y[O][R].text&&h(y[O][R].x,y[O][R].text,y[O][R].font||x,y[O][R].fontSize||12,1.25,P);w[O]=(_.length/3|0)-S[O]}this.buffer.update(_),this.tickOffset=S,this.tickCount=w,this.labelOffset=E,this.labelCount=C},c.drawTicks=function(f,p,v,y,x,_,h,S){this.tickCount[f]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=x,this.shader.uniforms.angle=v,this.shader.uniforms.scale=p,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=h,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[f],this.tickOffset[f]))},c.drawLabel=function(f,p,v,y,x,_,h,S){this.labelCount[f]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=x,this.shader.uniforms.angle=v,this.shader.uniforms.scale=p,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=h,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[f],this.labelOffset[f]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(g,s){function t(i,r){var n=i+"",o=n.indexOf("."),l=0;o>=0&&(l=n.length-o-1);var u=Math.pow(10,l),d=Math.round(i*r*u),c=d+"";if(c.indexOf("e")>=0)return c;var m=d/u,f=d%u;d<0?(m=0|-Math.ceil(m),f=0|-f):(m=0|Math.floor(m),f|=0);var p=""+m;if(d<0&&(p="-"+p),l){for(var v=""+f;v.length<l;)v="0"+v;return p+"."+v}return p}s.create=function(i,r){for(var n=[],o=0;o<3;++o){for(var l=[],u=(i[0][o],i[1][o],0);u*r[o]<=i[1][o];++u)l.push({x:u*r[o],text:t(r[o],u)});for(u=-1;u*r[o]>=i[0][o];--u)l.push({x:u*r[o],text:t(r[o],u)});n.push(l)}return n},s.equal=function(i,r){for(var n=0;n<3;++n){if(i[n].length!==r[n].length)return!1;for(var o=0;o<i[n].length;++o){var l=i[n][o],u=r[n][o];if(l.x!==u.x||l.text!==u.text||l.font!==u.font||l.fontColor!==u.fontColor||l.fontSize!==u.fontSize||l.dx!==u.dx||l.dy!==u.dy)return!1}}return!0}},2771:function(g,s,t){g.exports=function(_,h,S,w,E){var C=h.model||d,P=h.view||d,O=h.projection||d,R=h._ortho||!1,U=_.bounds,z=(E=E||n(C,P,O,U,R)).axis;o(c,P,C),o(c,O,c);for(var N=y,W=0;W<3;++W)N[W].lo=1/0,N[W].hi=-1/0,N[W].pixelsPerDataUnit=1/0;var F=i(l(c,c));l(c,c);for(var V=0;V<3;++V){var j=(V+1)%3,te=(V+2)%3,J=x;e:for(W=0;W<2;++W){var K=[];if(z[V]<0!=!!W){J[V]=U[W][V];for(var Z=0;Z<2;++Z){J[j]=U[Z^W][j];for(var X=0;X<2;++X)J[te]=U[X^Z^W][te],K.push(J.slice())}var Q=R?5:4;for(Z=Q;Z===Q;++Z){if(K.length===0)continue e;K=r.positive(K,F[Z])}for(Z=0;Z<K.length;++Z){te=K[Z];var re=v(x,c,te,S,w);for(X=0;X<3;++X)N[X].lo=Math.min(N[X].lo,te[X]),N[X].hi=Math.max(N[X].hi,te[X]),X!==V&&(N[X].pixelsPerDataUnit=Math.min(N[X].pixelsPerDataUnit,Math.abs(re[X])))}}}}return N};var i=t(5795),r=t(4670),n=t(2864),o=t(104),l=t(2142),u=t(6342),d=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function m(_,h,S){this.lo=_,this.hi=h,this.pixelsPerDataUnit=S}var f=[0,0,0,1],p=[0,0,0,1];function v(_,h,S,w,E){for(var C=0;C<3;++C){for(var P=f,O=p,R=0;R<3;++R)O[R]=P[R]=S[R];O[3]=P[3]=1,O[C]+=1,u(O,O,h),O[3]<0&&(_[C]=1/0),P[C]-=1,u(P,P,h),P[3]<0&&(_[C]=1/0);var U=(P[0]/P[3]-O[0]/O[3])*w,z=(P[1]/P[3]-O[1]/O[3])*E;_[C]=.25*Math.sqrt(U*U+z*z)}return _}var y=[new m(1/0,-1/0,1/0),new m(1/0,-1/0,1/0),new m(1/0,-1/0,1/0)],x=[0,0,0]},5827:function(g,s,t){var i=t(5306),r=t(7498),n=t(5050),o=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(m,f,p,v,y){this.gl=m,this.type=f,this.handle=p,this.length=v,this.usage=y}var u=l.prototype;function d(m,f,p,v,y,x){var _=y.length*y.BYTES_PER_ELEMENT;if(x<0)return m.bufferData(f,y,v),_;if(_+x>p)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return m.bufferSubData(f,x,y),p}function c(m,f){for(var p=i.malloc(m.length,f),v=m.length,y=0;y<v;++y)p[y]=m[y];return p}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(m,f){if(typeof f!="number"&&(f=-1),this.bind(),typeof m=="object"&&m.shape!==void 0){var p=m.dtype;if(o.indexOf(p)<0&&(p="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(p=gl.getExtension("OES_element_index_uint")&&p!=="uint16"?"uint32":"uint16"),p===m.dtype&&function(_,h){for(var S=1,w=h.length-1;w>=0;--w){if(h[w]!==S)return!1;S*=_[w]}return!0}(m.shape,m.stride))m.offset===0&&m.data.length===m.shape[0]?this.length=d(this.gl,this.type,this.length,this.usage,m.data,f):this.length=d(this.gl,this.type,this.length,this.usage,m.data.subarray(m.offset,m.shape[0]),f);else{var v=i.malloc(m.size,p),y=n(v,m.shape);r.assign(y,m),this.length=d(this.gl,this.type,this.length,this.usage,f<0?v:v.subarray(0,m.size),f),i.free(v)}}else if(Array.isArray(m)){var x;x=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(m,"uint16"):c(m,"float32"),this.length=d(this.gl,this.type,this.length,this.usage,f<0?x:x.subarray(0,m.length),f),i.free(x)}else if(typeof m=="object"&&typeof m.length=="number")this.length=d(this.gl,this.type,this.length,this.usage,m,f);else{if(typeof m!="number"&&m!==void 0)throw new Error("gl-buffer: Invalid data type");if(f>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(m|=0)<=0&&(m=1),this.gl.bufferData(this.type,0|m,this.usage),this.length=m}},g.exports=function(m,f,p,v){if(p=p||m.ARRAY_BUFFER,v=v||m.DYNAMIC_DRAW,p!==m.ARRAY_BUFFER&&p!==m.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(v!==m.DYNAMIC_DRAW&&v!==m.STATIC_DRAW&&v!==m.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var y=m.createBuffer(),x=new l(m,p,y,0,v);return x.update(f),x}},1140:function(g,s,t){var i=t(2858);g.exports=function(n,o){var l=n.positions,u=n.vectors,d={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return o&&(o[0]=[0,0,0],o[1]=[0,0,0]),d;for(var c=0,m=1/0,f=-1/0,p=1/0,v=-1/0,y=1/0,x=-1/0,_=null,h=null,S=[],w=1/0,E=!1,C=0;C<l.length;C++){var P=l[C];m=Math.min(P[0],m),f=Math.max(P[0],f),p=Math.min(P[1],p),v=Math.max(P[1],v),y=Math.min(P[2],y),x=Math.max(P[2],x);var O=u[C];if(i.length(O)>c&&(c=i.length(O)),C){var R=2*i.distance(_,P)/(i.length(h)+i.length(O));R?(w=Math.min(w,R),E=!1):E=!0}E||(_=P,h=O),S.push(O)}var U=[m,p,y],z=[f,v,x];o&&(o[0]=U,o[1]=z),c===0&&(c=1);var N=1/c;isFinite(w)||(w=1),d.vectorScale=w;var W=n.coneSize||.5;n.absoluteConeSize&&(W=n.absoluteConeSize*N),d.coneScale=W,C=0;for(var F=0;C<l.length;C++)for(var V=(P=l[C])[0],j=P[1],te=P[2],J=S[C],K=i.length(J)*N,Z=0;Z<8;Z++){d.positions.push([V,j,te,F++]),d.positions.push([V,j,te,F++]),d.positions.push([V,j,te,F++]),d.positions.push([V,j,te,F++]),d.positions.push([V,j,te,F++]),d.positions.push([V,j,te,F++]),d.vectors.push(J),d.vectors.push(J),d.vectors.push(J),d.vectors.push(J),d.vectors.push(J),d.vectors.push(J),d.vertexIntensity.push(K,K,K),d.vertexIntensity.push(K,K,K);var X=d.positions.length;d.cells.push([X-6,X-5,X-4],[X-3,X-2,X-1])}return d};var r=t(7234);g.exports.createMesh=t(5028),g.exports.createConeMesh=function(n,o){return g.exports.createMesh(n,o,{shaders:r,traceType:"cone"})}},5028:function(g,s,t){var i=t(5158),r=t(5827),n=t(2944),o=t(8931),l=t(104),u=t(7437),d=t(5050),c=t(9156),m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(v,y,x,_,h,S,w,E,C,P,O){this.gl=v,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=y,this.dirty=!0,this.triShader=x,this.pickShader=_,this.trianglePositions=h,this.triangleVectors=S,this.triangleColors=E,this.triangleUVs=C,this.triangleIds=w,this.triangleVAO=P,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=m,this._view=m,this._projection=m,this._resolution=[1,1]}var p=f.prototype;p.isOpaque=function(){return this.opacity>=1},p.isTransparent=function(){return this.opacity<1},p.pickSlots=1,p.setPickBase=function(v){this.pickId=v},p.update=function(v){v=v||{};var y=this.gl;this.dirty=!0,"lightPosition"in v&&(this.lightPosition=v.lightPosition),"opacity"in v&&(this.opacity=v.opacity),"ambient"in v&&(this.ambientLight=v.ambient),"diffuse"in v&&(this.diffuseLight=v.diffuse),"specular"in v&&(this.specularLight=v.specular),"roughness"in v&&(this.roughness=v.roughness),"fresnel"in v&&(this.fresnel=v.fresnel),v.tubeScale!==void 0&&(this.tubeScale=v.tubeScale),v.vectorScale!==void 0&&(this.vectorScale=v.vectorScale),v.coneScale!==void 0&&(this.coneScale=v.coneScale),v.coneOffset!==void 0&&(this.coneOffset=v.coneOffset),v.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=y.LINEAR,this.texture.setPixels(function(re){for(var ae=c({colormap:re,nshades:256,format:"rgba"}),ie=new Uint8Array(1024),le=0;le<256;++le){for(var pe=ae[le],de=0;de<3;++de)ie[4*le+de]=pe[de];ie[4*le+3]=255*pe[3]}return d(ie,[256,256,4],[4,0,1])}(v.colormap)),this.texture.generateMipmap());var x=v.cells,_=v.positions,h=v.vectors;if(_&&x&&h){var S=[],w=[],E=[],C=[],P=[];this.cells=x,this.positions=_,this.vectors=h;var O=v.meshColor||[1,1,1,1],R=v.vertexIntensity,U=1/0,z=-1/0;if(R)if(v.vertexIntensityBounds)U=+v.vertexIntensityBounds[0],z=+v.vertexIntensityBounds[1];else for(var N=0;N<R.length;++N){var W=R[N];U=Math.min(U,W),z=Math.max(z,W)}else for(N=0;N<_.length;++N)W=_[N][2],U=Math.min(U,W),z=Math.max(z,W);for(this.intensity=R||function(re){for(var ae=re.length,ie=new Array(ae),le=0;le<ae;++le)ie[le]=re[le][2];return ie}(_),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=0;N<_.length;++N)for(var F=_[N],V=0;V<3;++V)!isNaN(F[V])&&isFinite(F[V])&&(this.bounds[0][V]=Math.min(this.bounds[0][V],F[V]),this.bounds[1][V]=Math.max(this.bounds[1][V],F[V]));var j=0;e:for(N=0;N<x.length;++N){var te=x[N];if(te.length===3){for(V=0;V<3;++V){F=_[K=te[V]];for(var J=0;J<3;++J)if(isNaN(F[J])||!isFinite(F[J]))continue e}for(V=0;V<3;++V){var K;F=_[K=te[2-V]],S.push(F[0],F[1],F[2],F[3]);var Z=h[K];w.push(Z[0],Z[1],Z[2],Z[3]||0);var X,Q=O;Q.length===3?E.push(Q[0],Q[1],Q[2],1):E.push(Q[0],Q[1],Q[2],Q[3]),X=R?[(R[K]-U)/(z-U),0]:[(F[2]-U)/(z-U),0],C.push(X[0],X[1]),P.push(N)}j+=1}}this.triangleCount=j,this.trianglePositions.update(S),this.triangleVectors.update(w),this.triangleColors.update(E),this.triangleUVs.update(C),this.triangleIds.update(new Uint32Array(P))}},p.drawTransparent=p.draw=function(v){v=v||{};for(var y=this.gl,x=v.model||m,_=v.view||m,h=v.projection||m,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)S[0][w]=Math.max(S[0][w],this.clipBounds[0][w]),S[1][w]=Math.min(S[1][w],this.clipBounds[1][w]);var E={model:x,view:_,projection:h,inverseModel:m.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};E.inverseModel=u(E.inverseModel,E.model),y.disable(y.CULL_FACE),this.texture.bind(0);var C=new Array(16);for(l(C,E.view,E.model),l(C,E.projection,C),u(C,C),w=0;w<3;++w)E.eyePosition[w]=C[12+w]/C[15];var P=C[15];for(w=0;w<3;++w)P+=this.lightPosition[w]*C[4*w+3];for(w=0;w<3;++w){for(var O=C[12+w],R=0;R<3;++R)O+=C[4*R+w]*this.lightPosition[R];E.lightPosition[w]=O/P}if(this.triangleCount>0){var U=this.triShader;U.bind(),U.uniforms=E,this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},p.drawPick=function(v){v=v||{};for(var y=this.gl,x=v.model||m,_=v.view||m,h=v.projection||m,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)S[0][w]=Math.max(S[0][w],this.clipBounds[0][w]),S[1][w]=Math.min(S[1][w],this.clipBounds[1][w]);this._model=[].slice.call(x),this._view=[].slice.call(_),this._projection=[].slice.call(h),this._resolution=[y.drawingBufferWidth,y.drawingBufferHeight];var E={model:x,view:_,projection:h,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},C=this.pickShader;C.bind(),C.uniforms=E,this.triangleCount>0&&(this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},p.pick=function(v){if(!v||v.id!==this.pickId)return null;var y=v.value[0]+256*v.value[1]+65536*v.value[2],x=this.cells[y],_=this.positions[x[1]].slice(0,3),h={position:_,dataCoordinate:_,index:Math.floor(x[1]/48)};return this.traceType==="cone"?h.index=Math.floor(x[1]/48):this.traceType==="streamtube"&&(h.intensity=this.intensity[x[1]],h.velocity=this.vectors[x[1]].slice(0,3),h.divergence=this.vectors[x[1]][3],h.index=y),h},p.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},g.exports=function(v,y,x){var _=x.shaders;arguments.length===1&&(v=(y=v).gl);var h=function(z,N){var W=i(z,N.meshShader.vertex,N.meshShader.fragment,null,N.meshShader.attributes);return W.attributes.position.location=0,W.attributes.color.location=2,W.attributes.uv.location=3,W.attributes.vector.location=4,W}(v,_),S=function(z,N){var W=i(z,N.pickShader.vertex,N.pickShader.fragment,null,N.pickShader.attributes);return W.attributes.position.location=0,W.attributes.id.location=1,W.attributes.vector.location=4,W}(v,_),w=o(v,d(new Uint8Array([255,255,255,255]),[1,1,4]));w.generateMipmap(),w.minFilter=v.LINEAR_MIPMAP_LINEAR,w.magFilter=v.LINEAR;var E=r(v),C=r(v),P=r(v),O=r(v),R=r(v),U=new f(v,w,h,S,E,C,R,P,O,n(v,[{buffer:E,type:v.FLOAT,size:4},{buffer:R,type:v.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:v.FLOAT,size:4},{buffer:O,type:v.FLOAT,size:2},{buffer:C,type:v.FLOAT,size:4}]),x.traceType||"cone");return U.update(y),U}},7234:function(g,s,t){var i=t(6832),r=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),o=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},s.pickShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(g){g.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(g,s,t){var i=t(1950);g.exports=function(r){return i[r]}},3110:function(g,s,t){g.exports=function(f){var p=f.gl,v=i(p),y=r(p,[{buffer:v,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:v,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:v,type:p.FLOAT,size:3,offset:28,stride:40}]),x=n(p);x.attributes.position.location=0,x.attributes.color.location=1,x.attributes.offset.location=2;var _=new l(p,v,y,x);return _.update(f),_};var i=t(5827),r=t(2944),n=t(7667),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(f,p,v,y){this.gl=f,this.shader=y,this.buffer=p,this.vao=v,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=l.prototype;function d(f,p){for(var v=0;v<3;++v)f[0][v]=Math.min(f[0][v],p[v]),f[1][v]=Math.max(f[1][v],p[v])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(f){var p=this.gl,v=this.shader.uniforms;this.shader.bind();var y=v.view=f.view||o,x=v.projection=f.projection||o;v.model=f.model||o,v.clipBounds=this.clipBounds,v.opacity=this.opacity;var _=y[12],h=y[13],S=y[14],w=y[15],E=(f._ortho?2:1)*this.pixelRatio*(x[3]*_+x[7]*h+x[11]*S+x[15]*w)/p.drawingBufferHeight;this.vao.bind();for(var C=0;C<3;++C)p.lineWidth(this.lineWidth[C]*this.pixelRatio),v.capSize=this.capSize[C]*E,this.lineCount[C]&&p.drawArrays(p.LINES,this.lineOffset[C],this.lineCount[C]);this.vao.unbind()};var c=function(){for(var f=new Array(3),p=0;p<3;++p){for(var v=[],y=1;y<=2;++y)for(var x=-1;x<=1;x+=2){var _=[0,0,0];_[(y+p)%3]=x,v.push(_)}f[p]=v}return f}();function m(f,p,v,y){for(var x=c[y],_=0;_<x.length;++_){var h=x[_];f.push(p[0],p[1],p[2],v[0],v[1],v[2],v[3],h[0],h[1],h[2])}return x.length}u.update=function(f){"lineWidth"in(f=f||{})&&(this.lineWidth=f.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in f&&(this.capSize=f.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in f&&(this.opacity=+f.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=f.color||[[0,0,0],[0,0,0],[0,0,0]],v=f.position,y=f.error;if(Array.isArray(p[0])||(p=[p,p,p]),v&&y){var x=[],_=v.length,h=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=h;e:for(var w=0;w<_;++w){for(var E=v[w],C=0;C<3;++C)if(isNaN(E[C])||!isFinite(E[C]))continue e;var P,O=y[w],R=p[S];Array.isArray(R[0])&&(R=p[w]),R.length===3?R=[R[0],R[1],R[2],1]:R.length===4&&(R=[R[0],R[1],R[2],R[3]],!this.hasAlpha&&R[3]<1&&(this.hasAlpha=!0)),isNaN(O[0][S])||isNaN(O[1][S])||(O[0][S]<0&&((P=E.slice())[S]+=O[0][S],x.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,P[0],P[1],P[2],R[0],R[1],R[2],R[3],0,0,0),d(this.bounds,P),h+=2+m(x,P,R,S)),O[1][S]>0&&((P=E.slice())[S]+=O[1][S],x.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,P[0],P[1],P[2],R[0],R[1],R[2],R[3],0,0,0),d(this.bounds,P),h+=2+m(x,P,R,S)))}this.lineCount[S]=h-this.lineOffset[S]}this.buffer.update(x)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(g,s,t){var i=t(6832),r=t(5158),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),o=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);g.exports=function(l){return r(l,n,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(g,s,t){var i=t(8931);g.exports=function(_,h,S,w){r||(r=_.FRAMEBUFFER_UNSUPPORTED,n=_.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=_.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=_.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var E=_.getExtension("WEBGL_draw_buffers");if(!u&&E&&function(N,W){var F=N.getParameter(W.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(F+1);for(var V=0;V<=F;++V){for(var j=new Array(F),te=0;te<V;++te)j[te]=N.COLOR_ATTACHMENT0+te;for(te=V;te<F;++te)j[te]=N.NONE;u[V]=j}}(_,E),Array.isArray(h)&&(w=S,S=0|h[1],h=0|h[0]),typeof h!="number")throw new Error("gl-fbo: Missing shape parameter");var C=_.getParameter(_.MAX_RENDERBUFFER_SIZE);if(h<0||h>C||S<0||S>C)throw new Error("gl-fbo: Parameters are too large for FBO");var P=1;if("color"in(w=w||{})){if((P=Math.max(0|w.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(P>1){if(!E)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(P>_.getParameter(E.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+P+" draw buffers")}}var O=_.UNSIGNED_BYTE,R=_.getExtension("OES_texture_float");if(w.float&&P>0){if(!R)throw new Error("gl-fbo: Context does not support floating point textures");O=_.FLOAT}else w.preferFloat&&P>0&&R&&(O=_.FLOAT);var U=!0;"depth"in w&&(U=!!w.depth);var z=!1;return"stencil"in w&&(z=!!w.stencil),new v(_,h,S,O,P,U,z,E)};var r,n,o,l,u=null;function d(_){return[_.getParameter(_.FRAMEBUFFER_BINDING),_.getParameter(_.RENDERBUFFER_BINDING),_.getParameter(_.TEXTURE_BINDING_2D)]}function c(_,h){_.bindFramebuffer(_.FRAMEBUFFER,h[0]),_.bindRenderbuffer(_.RENDERBUFFER,h[1]),_.bindTexture(_.TEXTURE_2D,h[2])}function m(_){switch(_){case r:throw new Error("gl-fbo: Framebuffer unsupported");case n:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function f(_,h,S,w,E,C){if(!w)return null;var P=i(_,h,S,E,w);return P.magFilter=_.NEAREST,P.minFilter=_.NEAREST,P.mipSamples=1,P.bind(),_.framebufferTexture2D(_.FRAMEBUFFER,C,_.TEXTURE_2D,P.handle,0),P}function p(_,h,S,w,E){var C=_.createRenderbuffer();return _.bindRenderbuffer(_.RENDERBUFFER,C),_.renderbufferStorage(_.RENDERBUFFER,w,h,S),_.framebufferRenderbuffer(_.FRAMEBUFFER,E,_.RENDERBUFFER,C),C}function v(_,h,S,w,E,C,P,O){this.gl=_,this._shape=[0|h,0|S],this._destroyed=!1,this._ext=O,this.color=new Array(E);for(var R=0;R<E;++R)this.color[R]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=w,this._useDepth=C,this._useStencil=P;var U=this,z=[0|h,0|S];Object.defineProperties(z,{0:{get:function(){return U._shape[0]},set:function(N){return U.width=N}},1:{get:function(){return U._shape[1]},set:function(N){return U.height=N}}}),this._shapeVector=z,function(N){var W=d(N.gl),F=N.gl,V=N.handle=F.createFramebuffer(),j=N._shape[0],te=N._shape[1],J=N.color.length,K=N._ext,Z=N._useStencil,X=N._useDepth,Q=N._colorType;F.bindFramebuffer(F.FRAMEBUFFER,V);for(var re=0;re<J;++re)N.color[re]=f(F,j,te,Q,F.RGBA,F.COLOR_ATTACHMENT0+re);J===0?(N._color_rb=p(F,j,te,F.RGBA4,F.COLOR_ATTACHMENT0),K&&K.drawBuffersWEBGL(u[0])):J>1&&K.drawBuffersWEBGL(u[J]);var ae=F.getExtension("WEBGL_depth_texture");ae?Z?N.depth=f(F,j,te,ae.UNSIGNED_INT_24_8_WEBGL,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):X&&(N.depth=f(F,j,te,F.UNSIGNED_SHORT,F.DEPTH_COMPONENT,F.DEPTH_ATTACHMENT)):X&&Z?N._depth_rb=p(F,j,te,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):X?N._depth_rb=p(F,j,te,F.DEPTH_COMPONENT16,F.DEPTH_ATTACHMENT):Z&&(N._depth_rb=p(F,j,te,F.STENCIL_INDEX,F.STENCIL_ATTACHMENT));var ie=F.checkFramebufferStatus(F.FRAMEBUFFER);if(ie!==F.FRAMEBUFFER_COMPLETE){for(N._destroyed=!0,F.bindFramebuffer(F.FRAMEBUFFER,null),F.deleteFramebuffer(N.handle),N.handle=null,N.depth&&(N.depth.dispose(),N.depth=null),N._depth_rb&&(F.deleteRenderbuffer(N._depth_rb),N._depth_rb=null),re=0;re<N.color.length;++re)N.color[re].dispose(),N.color[re]=null;N._color_rb&&(F.deleteRenderbuffer(N._color_rb),N._color_rb=null),c(F,W),m(ie)}c(F,W)}(this)}var y=v.prototype;function x(_,h,S){if(_._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(_._shape[0]!==h||_._shape[1]!==S){var w=_.gl,E=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(h<0||h>E||S<0||S>E)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");_._shape[0]=h,_._shape[1]=S;for(var C=d(w),P=0;P<_.color.length;++P)_.color[P].shape=_._shape;_._color_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,_._color_rb),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,_._shape[0],_._shape[1])),_.depth&&(_.depth.shape=_._shape),_._depth_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,_._depth_rb),_._useDepth&&_._useStencil?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,_._shape[0],_._shape[1]):_._useDepth?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,_._shape[0],_._shape[1]):_._useStencil&&w.renderbufferStorage(w.RENDERBUFFER,w.STENCIL_INDEX,_._shape[0],_._shape[1])),w.bindFramebuffer(w.FRAMEBUFFER,_.handle);var O=w.checkFramebufferStatus(w.FRAMEBUFFER);O!==w.FRAMEBUFFER_COMPLETE&&(_.dispose(),c(w,C),m(O)),c(w,C)}}Object.defineProperties(y,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(_){if(Array.isArray(_)||(_=[0|_,0|_]),_.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var h=0|_[0],S=0|_[1];return x(this,h,S),[h,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(_){return x(this,_|=0,this._shape[1]),_},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(_){return _|=0,x(this,this._shape[0],_),_},enumerable:!1}}),y.bind=function(){if(!this._destroyed){var _=this.gl;_.bindFramebuffer(_.FRAMEBUFFER,this.handle),_.viewport(0,0,this._shape[0],this._shape[1])}},y.dispose=function(){if(!this._destroyed){this._destroyed=!0;var _=this.gl;_.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(_.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var h=0;h<this.color.length;++h)this.color[h].dispose(),this.color[h]=null;this._color_rb&&(_.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(g,s,t){var i=t(8974).sprintf,r=t(6603),n=t(9365),o=t(8008);g.exports=function(l,u,d){var c=n(u)||"of unknown name (see npm glsl-shader-name)",m="unknown type";d!==void 0&&(m=d===r.FRAGMENT_SHADER?"fragment":"vertex");for(var f=i(`Error compiling %s shader %s:
`,m,c),p=i("%s%s",f,l),v=l.split(`
`),y={},x=0;x<v.length;x++){var _=v[x];if(_!==""&&_!=="\0"){var h=parseInt(_.split(":")[2]);if(isNaN(h))throw new Error(i("Could not parse error: %s",_));y[h]=_}}var S=o(u).split(`
`);for(x=0;x<S.length;x++)if((y[x+3]||y[x+2]||y[x+1])&&(f+=S[x]+`
`,y[x+1])){var w=y[x+1];w=w.substr(w.split(":",3).join(":").length+1).trim(),f+=i(`^^^ %s

`,w)}return{long:f.trim(),short:p.trim()}}},6386:function(g,s,t){g.exports=function(p,v){var y=p.gl,x=new d(p,o(y,u.vertex,u.fragment),o(y,u.pickVertex,u.pickFragment),l(y),l(y),l(y),l(y));return x.update(v),p.addObject(x),x};var i=t(5070),r=t(9560),n=t(5306),o=t(5158),l=t(5827),u=t(1292);function d(p,v,y,x,_,h,S){this.plot=p,this.shader=v,this.pickShader=y,this.positionBuffer=x,this.weightBuffer=_,this.colorBuffer=h,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,m=d.prototype,f=[0,0,1,0,0,1,1,0,1,1,0,1];m.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var p=this.plot,v=this.shader,y=this.bounds,x=this.numVertices;if(!(x<=0)){var _=p.gl,h=p.dataBox,S=y[2]-y[0],w=y[3]-y[1],E=h[2]-h[0],C=h[3]-h[1];c[0]=2*S/E,c[4]=2*w/C,c[6]=2*(y[0]-h[0])/E-1,c[7]=2*(y[1]-h[1])/C-1,v.bind();var P=v.uniforms;P.viewTransform=c,P.shape=this.shape;var O=v.attributes;this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(_.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),O.color.pointer(_.UNSIGNED_BYTE,!0),_.drawArrays(_.TRIANGLES,0,x)}}),m.drawPick=function(){var p=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0];return function(y){var x=this.plot,_=this.pickShader,h=this.bounds,S=this.numVertices;if(!(S<=0)){var w=x.gl,E=x.dataBox,C=h[2]-h[0],P=h[3]-h[1],O=E[2]-E[0],R=E[3]-E[1];p[0]=2*C/O,p[4]=2*P/R,p[6]=2*(h[0]-E[0])/O-1,p[7]=2*(h[1]-E[1])/R-1;for(var U=0;U<4;++U)v[U]=y>>8*U&255;this.pickOffset=y,_.bind();var z=_.uniforms;z.viewTransform=p,z.pickOffset=v,z.shape=this.shape;var N=_.attributes;return this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(w.UNSIGNED_BYTE,!1),this.idBuffer.bind(),N.pickId.pointer(w.UNSIGNED_BYTE,!1),w.drawArrays(w.TRIANGLES,0,S),y+this.shape[0]*this.shape[1]}}}(),m.pick=function(p,v,y){var x=this.pickOffset,_=this.shape[0]*this.shape[1];if(y<x||y>=x+_)return null;var h=y-x,S=this.xData,w=this.yData;return{object:this,pointId:h,dataCoord:[S[h%this.shape[0]],w[h/this.shape[0]|0]]}},m.update=function(p){var v=(p=p||{}).shape||[0,0],y=p.x||r(v[0]),x=p.y||r(v[1]),_=p.z||new Float32Array(v[0]*v[1]),h=p.zsmooth!==!1;this.xData=y,this.yData=x;var S,w,E,C,P=p.colorLevels||[0],O=p.colorValues||[0,0,0,1],R=P.length,U=this.bounds;h?(S=U[0]=y[0],w=U[1]=x[0],E=U[2]=y[y.length-1],C=U[3]=x[x.length-1]):(S=U[0]=y[0]+(y[1]-y[0])/2,w=U[1]=x[0]+(x[1]-x[0])/2,E=U[2]=y[y.length-1]+(y[y.length-1]-y[y.length-2])/2,C=U[3]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2);var z=1/(E-S),N=1/(C-w),W=v[0],F=v[1];this.shape=[W,F];var V=(h?(W-1)*(F-1):W*F)*(f.length>>>1);this.numVertices=V;for(var j=n.mallocUint8(4*V),te=n.mallocFloat32(2*V),J=n.mallocUint8(2*V),K=n.mallocUint32(V),Z=0,X=h?W-1:W,Q=h?F-1:F,re=0;re<Q;++re){var ae,ie;h?(ae=N*(x[re]-w),ie=N*(x[re+1]-w)):(ae=re<F-1?N*(x[re]-(x[re+1]-x[re])/2-w):N*(x[re]-(x[re]-x[re-1])/2-w),ie=re<F-1?N*(x[re]+(x[re+1]-x[re])/2-w):N*(x[re]+(x[re]-x[re-1])/2-w));for(var le=0;le<X;++le){var pe,de;h?(pe=z*(y[le]-S),de=z*(y[le+1]-S)):(pe=le<W-1?z*(y[le]-(y[le+1]-y[le])/2-S):z*(y[le]-(y[le]-y[le-1])/2-S),de=le<W-1?z*(y[le]+(y[le+1]-y[le])/2-S):z*(y[le]+(y[le]-y[le-1])/2-S));for(var ve=0;ve<f.length;ve+=2){var be,me,ge,ke,we=f[ve],ue=f[ve+1],oe=_[h?(re+ue)*W+(le+we):re*W+le],he=i.le(P,oe);if(he<0)be=O[0],me=O[1],ge=O[2],ke=O[3];else if(he===R-1)be=O[4*R-4],me=O[4*R-3],ge=O[4*R-2],ke=O[4*R-1];else{var Ee=(oe-P[he])/(P[he+1]-P[he]),Te=1-Ee,Me=4*he,Se=4*(he+1);be=Te*O[Me]+Ee*O[Se],me=Te*O[Me+1]+Ee*O[Se+1],ge=Te*O[Me+2]+Ee*O[Se+2],ke=Te*O[Me+3]+Ee*O[Se+3]}j[4*Z]=255*be,j[4*Z+1]=255*me,j[4*Z+2]=255*ge,j[4*Z+3]=255*ke,te[2*Z]=.5*pe+.5*de,te[2*Z+1]=.5*ae+.5*ie,J[2*Z]=we,J[2*Z+1]=ue,K[Z]=re*W+le,Z+=1}}}this.positionBuffer.update(te),this.weightBuffer.update(J),this.colorBuffer.update(j),this.idBuffer.update(K),n.free(te),n.free(j),n.free(J),n.free(K)},m.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(g,s,t){var i=t(6832);g.exports={fragment:i([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(g,s,t){var i=t(6832),r=t(5158),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];s.createShader=function(d){return r(d,n,o,null,u)},s.createPickShader=function(d){return r(d,n,l,null,u)}},6086:function(g,s,t){g.exports=function(S){var w=S.gl||S.scene&&S.scene.gl,E=m(w);E.attributes.position.location=0,E.attributes.nextPosition.location=1,E.attributes.arcLength.location=2,E.attributes.lineWidth.location=3,E.attributes.color.location=4;var C=f(w);C.attributes.position.location=0,C.attributes.nextPosition.location=1,C.attributes.arcLength.location=2,C.attributes.lineWidth.location=3,C.attributes.color.location=4;for(var P=i(w),O=r(w,[{buffer:P,size:3,offset:0,stride:48},{buffer:P,size:3,offset:12,stride:48},{buffer:P,size:1,offset:24,stride:48},{buffer:P,size:1,offset:28,stride:48},{buffer:P,size:4,offset:32,stride:48}]),R=d(new Array(1024),[256,1,4]),U=0;U<1024;++U)R.data[U]=255;var z=n(w,R);z.wrap=w.REPEAT;var N=new _(w,E,C,P,O,z);return N.update(S),N};var i=t(5827),r=t(2944),n=t(8931),o=new Uint8Array(4),l=new Float32Array(o.buffer),u=t(5070),d=t(5050),c=t(248),m=c.createShader,f=c.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(S,w){for(var E=0,C=0;C<3;++C){var P=S[C]-w[C];E+=P*P}return Math.sqrt(E)}function y(S){for(var w=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)w[0][E]=Math.max(S[0][E],w[0][E]),w[1][E]=Math.min(S[1][E],w[1][E]);return w}function x(S,w,E,C){this.arcLength=S,this.position=w,this.index=E,this.dataCoordinate=C}function _(S,w,E,C,P,O){this.gl=S,this.shader=w,this.pickShader=E,this.buffer=C,this.vao=P,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=O,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var h=_.prototype;h.isTransparent=function(){return this.hasAlpha},h.isOpaque=function(){return!this.hasAlpha},h.pickSlots=1,h.setPickBase=function(S){this.pickId=S},h.drawTransparent=h.draw=function(S){if(this.vertexCount){var w=this.gl,E=this.shader,C=this.vao;E.bind(),E.uniforms={model:S.model||p,view:S.view||p,projection:S.projection||p,clipBounds:y(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[w.drawingBufferWidth,w.drawingBufferHeight],pixelRatio:this.pixelRatio},C.bind(),C.draw(w.TRIANGLE_STRIP,this.vertexCount),C.unbind()}},h.drawPick=function(S){if(this.vertexCount){var w=this.gl,E=this.pickShader,C=this.vao;E.bind(),E.uniforms={model:S.model||p,view:S.view||p,projection:S.projection||p,pickId:this.pickId,clipBounds:y(this.clipBounds),screenShape:[w.drawingBufferWidth,w.drawingBufferHeight],pixelRatio:this.pixelRatio},C.bind(),C.draw(w.TRIANGLE_STRIP,this.vertexCount),C.unbind()}},h.update=function(S){var w,E;this.dirty=!0;var C=!!S.connectGaps;"dashScale"in S&&(this.dashScale=S.dashScale),this.hasAlpha=!1,"opacity"in S&&(this.opacity=+S.opacity,this.opacity<1&&(this.hasAlpha=!0));var P=[],O=[],R=[],U=0,z=0,N=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],W=S.position||S.positions;if(W){var F=S.color||S.colors||[0,0,0,1],V=S.lineWidth||1,j=!1;e:for(w=1;w<W.length;++w){var te,J,K,Z=W[w-1],X=W[w];for(O.push(U),R.push(Z.slice()),E=0;E<3;++E){if(isNaN(Z[E])||isNaN(X[E])||!isFinite(Z[E])||!isFinite(X[E])){if(!C&&P.length>0){for(var Q=0;Q<24;++Q)P.push(P[P.length-12]);z+=2,j=!0}continue e}N[0][E]=Math.min(N[0][E],Z[E],X[E]),N[1][E]=Math.max(N[1][E],Z[E],X[E])}Array.isArray(F[0])?(te=F.length>w-1?F[w-1]:F.length>0?F[F.length-1]:[0,0,0,1],J=F.length>w?F[w]:F.length>0?F[F.length-1]:[0,0,0,1]):te=J=F,te.length===3&&(te=[te[0],te[1],te[2],1]),J.length===3&&(J=[J[0],J[1],J[2],1]),!this.hasAlpha&&te[3]<1&&(this.hasAlpha=!0),K=Array.isArray(V)?V.length>w-1?V[w-1]:V.length>0?V[V.length-1]:[0,0,0,1]:V;var re=U;if(U+=v(Z,X),j){for(E=0;E<2;++E)P.push(Z[0],Z[1],Z[2],X[0],X[1],X[2],re,K,te[0],te[1],te[2],te[3]);z+=2,j=!1}P.push(Z[0],Z[1],Z[2],X[0],X[1],X[2],re,K,te[0],te[1],te[2],te[3],Z[0],Z[1],Z[2],X[0],X[1],X[2],re,-K,te[0],te[1],te[2],te[3],X[0],X[1],X[2],Z[0],Z[1],Z[2],U,-K,J[0],J[1],J[2],J[3],X[0],X[1],X[2],Z[0],Z[1],Z[2],U,K,J[0],J[1],J[2],J[3]),z+=4}}if(this.buffer.update(P),O.push(U),R.push(W[W.length-1].slice()),this.bounds=N,this.vertexCount=z,this.points=R,this.arcLength=O,"dashes"in S){var ae=S.dashes.slice();for(ae.unshift(0),w=1;w<ae.length;++w)ae[w]=ae[w-1]+ae[w];var ie=d(new Array(1024),[256,1,4]);for(w=0;w<256;++w){for(E=0;E<4;++E)ie.set(w,0,E,0);1&u.le(ae,ae[ae.length-1]*w/255)?ie.set(w,0,0,0):ie.set(w,0,0,255)}this.texture.setPixels(ie)}},h.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},h.pick=function(S){if(!S||S.id!==this.pickId)return null;var w=function(W,F,V,j){return o[0]=0,o[1]=V,o[2]=F,o[3]=W,l[0]}(S.value[0],S.value[1],S.value[2]),E=u.le(this.arcLength,w);if(E<0)return null;if(E===this.arcLength.length-1)return new x(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),E);for(var C=this.points[E],P=this.points[Math.min(E+1,this.points.length-1)],O=(w-this.arcLength[E])/(this.arcLength[E+1]-this.arcLength[E]),R=1-O,U=[0,0,0],z=0;z<3;++z)U[z]=R*C[z]+O*P[z];var N=Math.min(O<.5?E:E+1,this.points.length-1);return new x(w,U,N,this.points[N])}},7332:function(g){g.exports=function(s){var t=new Float32Array(16);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},9823:function(g){g.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7787:function(g){g.exports=function(s){var t=s[0],i=s[1],r=s[2],n=s[3],o=s[4],l=s[5],u=s[6],d=s[7],c=s[8],m=s[9],f=s[10],p=s[11],v=s[12],y=s[13],x=s[14],_=s[15];return(t*l-i*o)*(f*_-p*x)-(t*u-r*o)*(m*_-p*y)+(t*d-n*o)*(m*x-f*y)+(i*u-r*l)*(c*_-p*v)-(i*d-n*l)*(c*x-f*v)+(r*d-n*u)*(c*y-m*v)}},5950:function(g){g.exports=function(s,t){var i=t[0],r=t[1],n=t[2],o=t[3],l=i+i,u=r+r,d=n+n,c=i*l,m=r*l,f=r*u,p=n*l,v=n*u,y=n*d,x=o*l,_=o*u,h=o*d;return s[0]=1-f-y,s[1]=m+h,s[2]=p-_,s[3]=0,s[4]=m-h,s[5]=1-c-y,s[6]=v+x,s[7]=0,s[8]=p+_,s[9]=v-x,s[10]=1-c-f,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7280:function(g){g.exports=function(s,t,i){var r=t[0],n=t[1],o=t[2],l=t[3],u=r+r,d=n+n,c=o+o,m=r*u,f=r*d,p=r*c,v=n*d,y=n*c,x=o*c,_=l*u,h=l*d,S=l*c;return s[0]=1-(v+x),s[1]=f+S,s[2]=p-h,s[3]=0,s[4]=f-S,s[5]=1-(m+x),s[6]=y+_,s[7]=0,s[8]=p+h,s[9]=y-_,s[10]=1-(m+v),s[11]=0,s[12]=i[0],s[13]=i[1],s[14]=i[2],s[15]=1,s}},9947:function(g){g.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7437:function(g){g.exports=function(s,t){var i=t[0],r=t[1],n=t[2],o=t[3],l=t[4],u=t[5],d=t[6],c=t[7],m=t[8],f=t[9],p=t[10],v=t[11],y=t[12],x=t[13],_=t[14],h=t[15],S=i*u-r*l,w=i*d-n*l,E=i*c-o*l,C=r*d-n*u,P=r*c-o*u,O=n*c-o*d,R=m*x-f*y,U=m*_-p*y,z=m*h-v*y,N=f*_-p*x,W=f*h-v*x,F=p*h-v*_,V=S*F-w*W+E*N+C*z-P*U+O*R;return V?(V=1/V,s[0]=(u*F-d*W+c*N)*V,s[1]=(n*W-r*F-o*N)*V,s[2]=(x*O-_*P+h*C)*V,s[3]=(p*P-f*O-v*C)*V,s[4]=(d*z-l*F-c*U)*V,s[5]=(i*F-n*z+o*U)*V,s[6]=(_*E-y*O-h*w)*V,s[7]=(m*O-p*E+v*w)*V,s[8]=(l*W-u*z+c*R)*V,s[9]=(r*z-i*W-o*R)*V,s[10]=(y*P-x*E+h*S)*V,s[11]=(f*E-m*P-v*S)*V,s[12]=(u*U-l*N-d*R)*V,s[13]=(i*N-r*U+n*R)*V,s[14]=(x*w-y*C-_*S)*V,s[15]=(m*C-f*w+p*S)*V,s):null}},3012:function(g,s,t){var i=t(9947);g.exports=function(r,n,o,l){var u,d,c,m,f,p,v,y,x,_,h=n[0],S=n[1],w=n[2],E=l[0],C=l[1],P=l[2],O=o[0],R=o[1],U=o[2];return Math.abs(h-O)<1e-6&&Math.abs(S-R)<1e-6&&Math.abs(w-U)<1e-6?i(r):(v=h-O,y=S-R,x=w-U,u=C*(x*=_=1/Math.sqrt(v*v+y*y+x*x))-P*(y*=_),d=P*(v*=_)-E*x,c=E*y-C*v,(_=Math.sqrt(u*u+d*d+c*c))?(u*=_=1/_,d*=_,c*=_):(u=0,d=0,c=0),m=y*c-x*d,f=x*u-v*c,p=v*d-y*u,(_=Math.sqrt(m*m+f*f+p*p))?(m*=_=1/_,f*=_,p*=_):(m=0,f=0,p=0),r[0]=u,r[1]=m,r[2]=v,r[3]=0,r[4]=d,r[5]=f,r[6]=y,r[7]=0,r[8]=c,r[9]=p,r[10]=x,r[11]=0,r[12]=-(u*h+d*S+c*w),r[13]=-(m*h+f*S+p*w),r[14]=-(v*h+y*S+x*w),r[15]=1,r)}},104:function(g){g.exports=function(s,t,i){var r=t[0],n=t[1],o=t[2],l=t[3],u=t[4],d=t[5],c=t[6],m=t[7],f=t[8],p=t[9],v=t[10],y=t[11],x=t[12],_=t[13],h=t[14],S=t[15],w=i[0],E=i[1],C=i[2],P=i[3];return s[0]=w*r+E*u+C*f+P*x,s[1]=w*n+E*d+C*p+P*_,s[2]=w*o+E*c+C*v+P*h,s[3]=w*l+E*m+C*y+P*S,w=i[4],E=i[5],C=i[6],P=i[7],s[4]=w*r+E*u+C*f+P*x,s[5]=w*n+E*d+C*p+P*_,s[6]=w*o+E*c+C*v+P*h,s[7]=w*l+E*m+C*y+P*S,w=i[8],E=i[9],C=i[10],P=i[11],s[8]=w*r+E*u+C*f+P*x,s[9]=w*n+E*d+C*p+P*_,s[10]=w*o+E*c+C*v+P*h,s[11]=w*l+E*m+C*y+P*S,w=i[12],E=i[13],C=i[14],P=i[15],s[12]=w*r+E*u+C*f+P*x,s[13]=w*n+E*d+C*p+P*_,s[14]=w*o+E*c+C*v+P*h,s[15]=w*l+E*m+C*y+P*S,s}},5268:function(g){g.exports=function(s,t,i,r,n,o,l){var u=1/(t-i),d=1/(r-n),c=1/(o-l);return s[0]=-2*u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*d,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*c,s[11]=0,s[12]=(t+i)*u,s[13]=(n+r)*d,s[14]=(l+o)*c,s[15]=1,s}},1120:function(g){g.exports=function(s,t,i,r,n){var o=1/Math.tan(t/2),l=1/(r-n);return s[0]=o/i,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(n+r)*l,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*n*r*l,s[15]=0,s}},4422:function(g){g.exports=function(s,t,i,r){var n,o,l,u,d,c,m,f,p,v,y,x,_,h,S,w,E,C,P,O,R,U,z,N,W=r[0],F=r[1],V=r[2],j=Math.sqrt(W*W+F*F+V*V);return Math.abs(j)<1e-6?null:(W*=j=1/j,F*=j,V*=j,n=Math.sin(i),l=1-(o=Math.cos(i)),u=t[0],d=t[1],c=t[2],m=t[3],f=t[4],p=t[5],v=t[6],y=t[7],x=t[8],_=t[9],h=t[10],S=t[11],w=W*W*l+o,E=F*W*l+V*n,C=V*W*l-F*n,P=W*F*l-V*n,O=F*F*l+o,R=V*F*l+W*n,U=W*V*l+F*n,z=F*V*l-W*n,N=V*V*l+o,s[0]=u*w+f*E+x*C,s[1]=d*w+p*E+_*C,s[2]=c*w+v*E+h*C,s[3]=m*w+y*E+S*C,s[4]=u*P+f*O+x*R,s[5]=d*P+p*O+_*R,s[6]=c*P+v*O+h*R,s[7]=m*P+y*O+S*R,s[8]=u*U+f*z+x*N,s[9]=d*U+p*z+_*N,s[10]=c*U+v*z+h*N,s[11]=m*U+y*z+S*N,t!==s&&(s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s)}},6109:function(g){g.exports=function(s,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[4],l=t[5],u=t[6],d=t[7],c=t[8],m=t[9],f=t[10],p=t[11];return t!==s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[4]=o*n+c*r,s[5]=l*n+m*r,s[6]=u*n+f*r,s[7]=d*n+p*r,s[8]=c*n-o*r,s[9]=m*n-l*r,s[10]=f*n-u*r,s[11]=p*n-d*r,s}},7115:function(g){g.exports=function(s,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[0],l=t[1],u=t[2],d=t[3],c=t[8],m=t[9],f=t[10],p=t[11];return t!==s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=o*n-c*r,s[1]=l*n-m*r,s[2]=u*n-f*r,s[3]=d*n-p*r,s[8]=o*r+c*n,s[9]=l*r+m*n,s[10]=u*r+f*n,s[11]=d*r+p*n,s}},5240:function(g){g.exports=function(s,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[0],l=t[1],u=t[2],d=t[3],c=t[4],m=t[5],f=t[6],p=t[7];return t!==s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=o*n+c*r,s[1]=l*n+m*r,s[2]=u*n+f*r,s[3]=d*n+p*r,s[4]=c*n-o*r,s[5]=m*n-l*r,s[6]=f*n-u*r,s[7]=p*n-d*r,s}},3668:function(g){g.exports=function(s,t,i){var r=i[0],n=i[1],o=i[2];return s[0]=t[0]*r,s[1]=t[1]*r,s[2]=t[2]*r,s[3]=t[3]*r,s[4]=t[4]*n,s[5]=t[5]*n,s[6]=t[6]*n,s[7]=t[7]*n,s[8]=t[8]*o,s[9]=t[9]*o,s[10]=t[10]*o,s[11]=t[11]*o,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},998:function(g){g.exports=function(s,t,i){var r,n,o,l,u,d,c,m,f,p,v,y,x=i[0],_=i[1],h=i[2];return t===s?(s[12]=t[0]*x+t[4]*_+t[8]*h+t[12],s[13]=t[1]*x+t[5]*_+t[9]*h+t[13],s[14]=t[2]*x+t[6]*_+t[10]*h+t[14],s[15]=t[3]*x+t[7]*_+t[11]*h+t[15]):(r=t[0],n=t[1],o=t[2],l=t[3],u=t[4],d=t[5],c=t[6],m=t[7],f=t[8],p=t[9],v=t[10],y=t[11],s[0]=r,s[1]=n,s[2]=o,s[3]=l,s[4]=u,s[5]=d,s[6]=c,s[7]=m,s[8]=f,s[9]=p,s[10]=v,s[11]=y,s[12]=r*x+u*_+f*h+t[12],s[13]=n*x+d*_+p*h+t[13],s[14]=o*x+c*_+v*h+t[14],s[15]=l*x+m*_+y*h+t[15]),s}},2142:function(g){g.exports=function(s,t){if(s===t){var i=t[1],r=t[2],n=t[3],o=t[6],l=t[7],u=t[11];s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=i,s[6]=t[9],s[7]=t[13],s[8]=r,s[9]=o,s[11]=t[14],s[12]=n,s[13]=l,s[14]=u}else s[0]=t[0],s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=t[1],s[5]=t[5],s[6]=t[9],s[7]=t[13],s[8]=t[2],s[9]=t[6],s[10]=t[10],s[11]=t[14],s[12]=t[3],s[13]=t[7],s[14]=t[11],s[15]=t[15];return s}},4340:function(g,s,t){var i=t(957),r=t(7309);function n(u,d){for(var c=[0,0,0,0],m=0;m<4;++m)for(var f=0;f<4;++f)c[f]+=u[4*m+f]*d[m];return c}function o(u,d,c,m,f){for(var p=n(m,n(c,n(d,[u[0],u[1],u[2],1]))),v=0;v<3;++v)p[v]/=p[3];return[.5*f[0]*(1+p[0]),.5*f[1]*(1-p[1])]}function l(u,d){for(var c=[0,0,0],m=0;m<u.length;++m)for(var f=u[m],p=d[m],v=0;v<3;++v)c[v]+=p*f[v];return c}g.exports=function(u,d,c,m,f,p){if(u.length===1)return[0,u[0].slice()];for(var v=new Array(u.length),y=0;y<u.length;++y)v[y]=o(u[y],c,m,f,p);var x=0,_=1/0;for(y=0;y<v.length;++y){for(var h=0,S=0;S<2;++S)h+=Math.pow(v[y][S]-d[S],2);h<_&&(_=h,x=y)}var w=function(C,P){if(C.length===2){for(var O=0,R=0,U=0;U<2;++U)O+=Math.pow(P[U]-C[0][U],2),R+=Math.pow(P[U]-C[1][U],2);return(O=Math.sqrt(O))+(R=Math.sqrt(R))<1e-6?[1,0]:[R/(O+R),O/(R+O)]}if(C.length===3){var z=[0,0];return r(C[0],C[1],C[2],P,z),i(C,z)}return[]}(v,d),E=0;for(y=0;y<3;++y){if(w[y]<-.001||w[y]>1.0001)return null;E+=w[y]}return Math.abs(E-1)>.001?null:[x,l(u,w),w]}},2056:function(g,s,t){var i=t(6832),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),d=i([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),m=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),f=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),p=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),v=i([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);s.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.wireShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.pointShader={vertex:u,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},s.pickShader={vertex:c,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},s.pointPickShader={vertex:f,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},s.contourShader={vertex:p,fragment:v,attributes:[{name:"position",type:"vec3"}]}},8116:function(g,s,t){var i=t(5158),r=t(5827),n=t(2944),o=t(8931),l=t(115),u=t(104),d=t(7437),c=t(5050),m=t(9156),f=t(7212),p=t(5306),v=t(2056),y=t(4340),x=v.meshShader,_=v.wireShader,h=v.pointShader,S=v.pickShader,w=v.pointPickShader,E=v.contourShader,C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function P(F,V,j,te,J,K,Z,X,Q,re,ae,ie,le,pe,de,ve,be,me,ge,ke,we,ue,oe,he,Ee,Te,Me){this.gl=F,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=V,this.dirty=!0,this.triShader=j,this.lineShader=te,this.pointShader=J,this.pickShader=K,this.pointPickShader=Z,this.contourShader=X,this.trianglePositions=Q,this.triangleColors=ae,this.triangleNormals=le,this.triangleUVs=ie,this.triangleIds=re,this.triangleVAO=pe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=de,this.edgeColors=be,this.edgeUVs=me,this.edgeIds=ve,this.edgeVAO=ge,this.edgeCount=0,this.pointPositions=ke,this.pointColors=ue,this.pointUVs=oe,this.pointSizes=he,this.pointIds=we,this.pointVAO=Ee,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Te,this.contourVAO=Me,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=C,this._view=C,this._projection=C,this._resolution=[1,1]}var O=P.prototype;function R(F,V){if(!V||!V.length)return 1;for(var j=0;j<V.length;++j){if(V.length<2)return 1;if(V[j][0]===F)return V[j][1];if(V[j][0]>F&&j>0){var te=(V[j][0]-F)/(V[j][0]-V[j-1][0]);return V[j][1]*(1-te)+te*V[j-1][1]}}return 1}function U(F){var V=i(F,h.vertex,h.fragment);return V.attributes.position.location=0,V.attributes.color.location=2,V.attributes.uv.location=3,V.attributes.pointSize.location=4,V}function z(F){var V=i(F,S.vertex,S.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V}function N(F){var V=i(F,w.vertex,w.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V.attributes.pointSize.location=4,V}function W(F){var V=i(F,E.vertex,E.fragment);return V.attributes.position.location=0,V}O.isOpaque=function(){return!this.hasAlpha},O.isTransparent=function(){return this.hasAlpha},O.pickSlots=1,O.setPickBase=function(F){this.pickId=F},O.highlight=function(F){if(F&&this.contourEnable){for(var V=f(this.cells,this.intensity,F.intensity),j=V.cells,te=V.vertexIds,J=V.vertexWeights,K=j.length,Z=p.mallocFloat32(6*K),X=0,Q=0;Q<K;++Q)for(var re=j[Q],ae=0;ae<2;++ae){var ie=re[0];re.length===2&&(ie=re[ae]);for(var le=te[ie][0],pe=te[ie][1],de=J[ie],ve=1-de,be=this.positions[le],me=this.positions[pe],ge=0;ge<3;++ge)Z[X++]=de*be[ge]+ve*me[ge]}this.contourCount=X/3|0,this.contourPositions.update(Z.subarray(0,X)),p.free(Z)}else this.contourCount=0},O.update=function(F){F=F||{};var V=this.gl;this.dirty=!0,"contourEnable"in F&&(this.contourEnable=F.contourEnable),"contourColor"in F&&(this.contourColor=F.contourColor),"lineWidth"in F&&(this.lineWidth=F.lineWidth),"lightPosition"in F&&(this.lightPosition=F.lightPosition),this.hasAlpha=!1,"opacity"in F&&(this.opacity=F.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in F&&(this.opacityscale=F.opacityscale,this.hasAlpha=!0),"ambient"in F&&(this.ambientLight=F.ambient),"diffuse"in F&&(this.diffuseLight=F.diffuse),"specular"in F&&(this.specularLight=F.specular),"roughness"in F&&(this.roughness=F.roughness),"fresnel"in F&&(this.fresnel=F.fresnel),F.texture?(this.texture.dispose(),this.texture=o(V,F.texture)):F.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=V.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=V.LINEAR,this.texture.setPixels(function(Pt,Ot){for(var Lt=m({colormap:Pt,nshades:256,format:"rgba"}),He=new Uint8Array(1024),We=0;We<256;++We){for(var Be=Lt[We],Ge=0;Ge<3;++Ge)He[4*We+Ge]=Be[Ge];He[4*We+3]=Ot?255*R(We/255,Ot):255*Be[3]}return c(He,[256,256,4],[4,0,1])}(F.colormap,this.opacityscale)),this.texture.generateMipmap());var j=F.cells,te=F.positions;if(te&&j){var J=[],K=[],Z=[],X=[],Q=[],re=[],ae=[],ie=[],le=[],pe=[],de=[],ve=[],be=[],me=[];this.cells=j,this.positions=te;var ge=F.vertexNormals,ke=F.cellNormals,we=F.vertexNormalsEpsilon===void 0?1e-6:F.vertexNormalsEpsilon,ue=F.faceNormalsEpsilon===void 0?1e-6:F.faceNormalsEpsilon;F.useFacetNormals&&!ke&&(ke=l.faceNormals(j,te,ue)),ke||ge||(ge=l.vertexNormals(j,te,we));var oe=F.vertexColors,he=F.cellColors,Ee=F.meshColor||[1,1,1,1],Te=F.vertexUVs,Me=F.vertexIntensity,Se=F.cellUVs,ze=F.cellIntensity,fe=1/0,xe=-1/0;if(!Te&&!Se)if(Me)if(F.vertexIntensityBounds)fe=+F.vertexIntensityBounds[0],xe=+F.vertexIntensityBounds[1];else for(var _e=0;_e<Me.length;++_e){var Oe=Me[_e];fe=Math.min(fe,Oe),xe=Math.max(xe,Oe)}else if(ze)if(F.cellIntensityBounds)fe=+F.cellIntensityBounds[0],xe=+F.cellIntensityBounds[1];else for(_e=0;_e<ze.length;++_e)Oe=ze[_e],fe=Math.min(fe,Oe),xe=Math.max(xe,Oe);else for(_e=0;_e<te.length;++_e)Oe=te[_e][2],fe=Math.min(fe,Oe),xe=Math.max(xe,Oe);this.intensity=Me||ze||function(Pt){for(var Ot=Pt.length,Lt=new Array(Ot),He=0;He<Ot;++He)Lt[He]=Pt[He][2];return Lt}(te),this.pickVertex=!(ze||he);var De=F.pointSizes,Pe=F.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],_e=0;_e<te.length;++_e)for(var Ue=te[_e],Ve=0;Ve<3;++Ve)!isNaN(Ue[Ve])&&isFinite(Ue[Ve])&&(this.bounds[0][Ve]=Math.min(this.bounds[0][Ve],Ue[Ve]),this.bounds[1][Ve]=Math.max(this.bounds[1][Ve],Ue[Ve]));var Xe=0,it=0,tt=0;e:for(_e=0;_e<j.length;++_e){var pt=j[_e];switch(pt.length){case 1:for(Ue=te[gt=pt[0]],Ve=0;Ve<3;++Ve)if(isNaN(Ue[Ve])||!isFinite(Ue[Ve]))continue e;pe.push(Ue[0],Ue[1],Ue[2]),et=oe?oe[gt]:he?he[_e]:Ee,this.opacityscale&&Me?K.push(et[0],et[1],et[2],this.opacity*R((Me[gt]-fe)/(xe-fe),this.opacityscale)):et.length===3?de.push(et[0],et[1],et[2],this.opacity):(de.push(et[0],et[1],et[2],et[3]*this.opacity),et[3]<1&&(this.hasAlpha=!0)),$e=Te?Te[gt]:Me?[(Me[gt]-fe)/(xe-fe),0]:Se?Se[_e]:ze?[(ze[_e]-fe)/(xe-fe),0]:[(Ue[2]-fe)/(xe-fe),0],ve.push($e[0],$e[1]),De?be.push(De[gt]):be.push(Pe),me.push(_e),tt+=1;break;case 2:for(Ve=0;Ve<2;++Ve){Ue=te[gt=pt[Ve]];for(var mt=0;mt<3;++mt)if(isNaN(Ue[mt])||!isFinite(Ue[mt]))continue e}for(Ve=0;Ve<2;++Ve)Ue=te[gt=pt[Ve]],re.push(Ue[0],Ue[1],Ue[2]),et=oe?oe[gt]:he?he[_e]:Ee,this.opacityscale&&Me?K.push(et[0],et[1],et[2],this.opacity*R((Me[gt]-fe)/(xe-fe),this.opacityscale)):et.length===3?ae.push(et[0],et[1],et[2],this.opacity):(ae.push(et[0],et[1],et[2],et[3]*this.opacity),et[3]<1&&(this.hasAlpha=!0)),$e=Te?Te[gt]:Me?[(Me[gt]-fe)/(xe-fe),0]:Se?Se[_e]:ze?[(ze[_e]-fe)/(xe-fe),0]:[(Ue[2]-fe)/(xe-fe),0],ie.push($e[0],$e[1]),le.push(_e);it+=1;break;case 3:for(Ve=0;Ve<3;++Ve)for(Ue=te[gt=pt[Ve]],mt=0;mt<3;++mt)if(isNaN(Ue[mt])||!isFinite(Ue[mt]))continue e;for(Ve=0;Ve<3;++Ve){var gt,et,$e,_t;Ue=te[gt=pt[2-Ve]],J.push(Ue[0],Ue[1],Ue[2]),(et=oe?oe[gt]:he?he[_e]:Ee)?this.opacityscale&&Me?K.push(et[0],et[1],et[2],this.opacity*R((Me[gt]-fe)/(xe-fe),this.opacityscale)):et.length===3?K.push(et[0],et[1],et[2],this.opacity):(K.push(et[0],et[1],et[2],et[3]*this.opacity),et[3]<1&&(this.hasAlpha=!0)):K.push(.5,.5,.5,1),$e=Te?Te[gt]:Me?[(Me[gt]-fe)/(xe-fe),0]:Se?Se[_e]:ze?[(ze[_e]-fe)/(xe-fe),0]:[(Ue[2]-fe)/(xe-fe),0],X.push($e[0],$e[1]),_t=ge?ge[gt]:ke[_e],Z.push(_t[0],_t[1],_t[2]),Q.push(_e)}Xe+=1}}this.pointCount=tt,this.edgeCount=it,this.triangleCount=Xe,this.pointPositions.update(pe),this.pointColors.update(de),this.pointUVs.update(ve),this.pointSizes.update(be),this.pointIds.update(new Uint32Array(me)),this.edgePositions.update(re),this.edgeColors.update(ae),this.edgeUVs.update(ie),this.edgeIds.update(new Uint32Array(le)),this.trianglePositions.update(J),this.triangleColors.update(K),this.triangleUVs.update(X),this.triangleNormals.update(Z),this.triangleIds.update(new Uint32Array(Q))}},O.drawTransparent=O.draw=function(F){F=F||{};for(var V=this.gl,j=F.model||C,te=F.view||C,J=F.projection||C,K=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Z=0;Z<3;++Z)K[0][Z]=Math.max(K[0][Z],this.clipBounds[0][Z]),K[1][Z]=Math.min(K[1][Z],this.clipBounds[1][Z]);var X={model:j,view:te,projection:J,inverseModel:C.slice(),clipBounds:K,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};X.inverseModel=d(X.inverseModel,X.model),V.disable(V.CULL_FACE),this.texture.bind(0);var Q=new Array(16);for(u(Q,X.view,X.model),u(Q,X.projection,Q),d(Q,Q),Z=0;Z<3;++Z)X.eyePosition[Z]=Q[12+Z]/Q[15];var re,ae=Q[15];for(Z=0;Z<3;++Z)ae+=this.lightPosition[Z]*Q[4*Z+3];for(Z=0;Z<3;++Z){for(var ie=Q[12+Z],le=0;le<3;++le)ie+=Q[4*le+Z]*this.lightPosition[le];X.lightPosition[Z]=ie/ae}this.triangleCount>0&&((re=this.triShader).bind(),re.uniforms=X,this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((re=this.lineShader).bind(),re.uniforms=X,this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((re=this.pointShader).bind(),re.uniforms=X,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((re=this.contourShader).bind(),re.uniforms=X,this.contourVAO.bind(),V.drawArrays(V.LINES,0,this.contourCount),this.contourVAO.unbind())},O.drawPick=function(F){F=F||{};for(var V=this.gl,j=F.model||C,te=F.view||C,J=F.projection||C,K=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Z=0;Z<3;++Z)K[0][Z]=Math.max(K[0][Z],this.clipBounds[0][Z]),K[1][Z]=Math.min(K[1][Z],this.clipBounds[1][Z]);this._model=[].slice.call(j),this._view=[].slice.call(te),this._projection=[].slice.call(J),this._resolution=[V.drawingBufferWidth,V.drawingBufferHeight];var X,Q={model:j,view:te,projection:J,clipBounds:K,pickId:this.pickId/255};(X=this.pickShader).bind(),X.uniforms=Q,this.triangleCount>0&&(this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((X=this.pointPickShader).bind(),X.uniforms=Q,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind())},O.pick=function(F){if(!F||F.id!==this.pickId)return null;for(var V=F.value[0]+256*F.value[1]+65536*F.value[2],j=this.cells[V],te=this.positions,J=new Array(j.length),K=0;K<j.length;++K)J[K]=te[j[K]];var Z=F.coord[0],X=F.coord[1];if(!this.pickVertex){var Q=this.positions[j[0]],re=this.positions[j[1]],ae=this.positions[j[2]],ie=[(Q[0]+re[0]+ae[0])/3,(Q[1]+re[1]+ae[1])/3,(Q[2]+re[2]+ae[2])/3];return{_cellCenter:!0,position:[Z,X],index:V,cell:j,cellId:V,intensity:this.intensity[V],dataCoordinate:ie}}var le=y(J,[Z*this.pixelRatio,this._resolution[1]-X*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!le)return null;var pe=le[2],de=0;for(K=0;K<j.length;++K)de+=pe[K]*this.intensity[j[K]];return{position:le[1],index:j[le[0]],cell:j,cellId:V,intensity:de,dataCoordinate:this.positions[j[le[0]]]}},O.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},g.exports=function(F,V){if(arguments.length===1&&(F=(V=F).gl),!(F.getExtension("OES_standard_derivatives")||F.getExtension("MOZ_OES_standard_derivatives")||F.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var j=function(ze){var fe=i(ze,x.vertex,x.fragment);return fe.attributes.position.location=0,fe.attributes.color.location=2,fe.attributes.uv.location=3,fe.attributes.normal.location=4,fe}(F),te=function(ze){var fe=i(ze,_.vertex,_.fragment);return fe.attributes.position.location=0,fe.attributes.color.location=2,fe.attributes.uv.location=3,fe}(F),J=U(F),K=z(F),Z=N(F),X=W(F),Q=o(F,c(new Uint8Array([255,255,255,255]),[1,1,4]));Q.generateMipmap(),Q.minFilter=F.LINEAR_MIPMAP_LINEAR,Q.magFilter=F.LINEAR;var re=r(F),ae=r(F),ie=r(F),le=r(F),pe=r(F),de=n(F,[{buffer:re,type:F.FLOAT,size:3},{buffer:pe,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ae,type:F.FLOAT,size:4},{buffer:ie,type:F.FLOAT,size:2},{buffer:le,type:F.FLOAT,size:3}]),ve=r(F),be=r(F),me=r(F),ge=r(F),ke=n(F,[{buffer:ve,type:F.FLOAT,size:3},{buffer:ge,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:F.FLOAT,size:4},{buffer:me,type:F.FLOAT,size:2}]),we=r(F),ue=r(F),oe=r(F),he=r(F),Ee=r(F),Te=n(F,[{buffer:we,type:F.FLOAT,size:3},{buffer:Ee,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ue,type:F.FLOAT,size:4},{buffer:oe,type:F.FLOAT,size:2},{buffer:he,type:F.FLOAT,size:1}]),Me=r(F),Se=new P(F,Q,j,te,J,K,Z,X,re,pe,ae,ie,le,de,ve,ge,be,me,ke,we,Ee,ue,oe,he,Te,Me,n(F,[{buffer:Me,type:F.FLOAT,size:3}]));return Se.update(V),Se}},4554:function(g,s,t){g.exports=function(c){var m=c.gl;return new o(c,i(m,[0,0,0,1,1,0,1,1]),r(m,n.boxVert,n.lineFrag))};var i=t(5827),r=t(5158),n=t(2709);function o(c,m,f){this.plot=c,this.vbo=m,this.shader=f}var l,u,d=o.prototype;d.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},d.drawBox=(l=[0,0],u=[0,0],function(c,m,f,p,v){var y=this.plot,x=this.shader,_=y.gl;l[0]=c,l[1]=m,u[0]=f,u[1]=p,x.uniforms.lo=l,x.uniforms.hi=u,x.uniforms.color=v,_.drawArrays(_.TRIANGLE_STRIP,0,4)}),d.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(g,s,t){g.exports=function(y){var x=y.gl;return new l(y,i(x),r(x,o.gridVert,o.gridFrag),r(x,o.tickVert,o.gridFrag))};var i=t(5827),r=t(5158),n=t(5070),o=t(2709);function l(y,x,_,h){this.plot=y,this.vbo=x,this.shader=_,this.tickShader=h,this.ticks=[[],[]]}function u(y,x){return y-x}var d,c,m,f,p,v=l.prototype;v.draw=(d=[0,0],c=[0,0],m=[0,0],function(){for(var y=this.plot,x=this.vbo,_=this.shader,h=this.ticks,S=y.gl,w=y._tickBounds,E=y.dataBox,C=y.viewBox,P=y.gridLineWidth,O=y.gridLineColor,R=y.gridLineEnable,U=y.pixelRatio,z=0;z<2;++z){var N=w[z],W=w[z+2]-N,F=.5*(E[z+2]+E[z]),V=E[z+2]-E[z];c[z]=2*W/V,d[z]=2*(N-F)/V}_.bind(),x.bind(),_.attributes.dataCoord.pointer(),_.uniforms.dataShift=d,_.uniforms.dataScale=c;var j=0;for(z=0;z<2;++z){m[0]=m[1]=0,m[z]=1,_.uniforms.dataAxis=m,_.uniforms.lineWidth=P[z]/(C[z+2]-C[z])*U,_.uniforms.color=O[z];var te=6*h[z].length;R[z]&&te&&S.drawArrays(S.TRIANGLES,j,te),j+=te}}),v.drawTickMarks=function(){var y=[0,0],x=[0,0],_=[1,0],h=[0,1],S=[0,0],w=[0,0];return function(){for(var E=this.plot,C=this.vbo,P=this.tickShader,O=this.ticks,R=E.gl,U=E._tickBounds,z=E.dataBox,N=E.viewBox,W=E.pixelRatio,F=E.screenBox,V=F[2]-F[0],j=F[3]-F[1],te=N[2]-N[0],J=N[3]-N[1],K=0;K<2;++K){var Z=U[K],X=U[K+2]-Z,Q=.5*(z[K+2]+z[K]),re=z[K+2]-z[K];x[K]=2*X/re,y[K]=2*(Z-Q)/re}x[0]*=te/V,y[0]*=te/V,x[1]*=J/j,y[1]*=J/j,P.bind(),C.bind(),P.attributes.dataCoord.pointer();var ae=P.uniforms;ae.dataShift=y,ae.dataScale=x;var ie=E.tickMarkLength,le=E.tickMarkWidth,pe=E.tickMarkColor,de=6*O[0].length,ve=Math.min(n.ge(O[0],(z[0]-U[0])/(U[2]-U[0]),u),O[0].length),be=Math.min(n.gt(O[0],(z[2]-U[0])/(U[2]-U[0]),u),O[0].length),me=0+6*ve,ge=6*Math.max(0,be-ve),ke=Math.min(n.ge(O[1],(z[1]-U[1])/(U[3]-U[1]),u),O[1].length),we=Math.min(n.gt(O[1],(z[3]-U[1])/(U[3]-U[1]),u),O[1].length),ue=de+6*ke,oe=6*Math.max(0,we-ke);S[0]=2*(N[0]-ie[1])/V-1,S[1]=(N[3]+N[1])/j-1,w[0]=ie[1]*W/V,w[1]=le[1]*W/j,oe&&(ae.color=pe[1],ae.tickScale=w,ae.dataAxis=h,ae.screenOffset=S,R.drawArrays(R.TRIANGLES,ue,oe)),S[0]=(N[2]+N[0])/V-1,S[1]=2*(N[1]-ie[0])/j-1,w[0]=le[0]*W/V,w[1]=ie[0]*W/j,ge&&(ae.color=pe[0],ae.tickScale=w,ae.dataAxis=_,ae.screenOffset=S,R.drawArrays(R.TRIANGLES,me,ge)),S[0]=2*(N[2]+ie[3])/V-1,S[1]=(N[3]+N[1])/j-1,w[0]=ie[3]*W/V,w[1]=le[3]*W/j,oe&&(ae.color=pe[3],ae.tickScale=w,ae.dataAxis=h,ae.screenOffset=S,R.drawArrays(R.TRIANGLES,ue,oe)),S[0]=(N[2]+N[0])/V-1,S[1]=2*(N[3]+ie[2])/j-1,w[0]=le[2]*W/V,w[1]=ie[2]*W/j,ge&&(ae.color=pe[2],ae.tickScale=w,ae.dataAxis=_,ae.screenOffset=S,R.drawArrays(R.TRIANGLES,me,ge))}}(),v.update=(f=[1,1,-1,-1,1,-1],p=[1,-1,1,1,-1,-1],function(y){for(var x=y.ticks,_=y.bounds,h=new Float32Array(18*(x[0].length+x[1].length)),S=(this.plot.zeroLineEnable,0),w=[[],[]],E=0;E<2;++E)for(var C=w[E],P=x[E],O=_[E],R=_[E+2],U=0;U<P.length;++U){var z=(P[U].x-O)/(R-O);C.push(z);for(var N=0;N<6;++N)h[S++]=z,h[S++]=f[N],h[S++]=p[N]}this.ticks=w,this.vbo.update(h)}),v.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(g,s,t){g.exports=function(c){var m=c.gl;return new o(c,i(m,[-1,-1,-1,1,1,-1,1,1]),r(m,n.lineVert,n.lineFrag))};var i=t(5827),r=t(5158),n=t(2709);function o(c,m,f){this.plot=c,this.vbo=m,this.shader=f}var l,u,d=o.prototype;d.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},d.drawLine=(l=[0,0],u=[0,0],function(c,m,f,p,v,y){var x=this.plot,_=this.shader,h=x.gl;l[0]=c,l[1]=m,u[0]=f,u[1]=p,_.uniforms.start=l,_.uniforms.end=u,_.uniforms.width=v*x.pixelRatio,_.uniforms.color=y,h.drawArrays(h.TRIANGLE_STRIP,0,4)}),d.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(g,s,t){var i=t(6832),r=i([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);g.exports={lineVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:r,textVert:i([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:r,gridVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:r,boxVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(g,s,t){g.exports=function(x){var _=x.gl;return new u(x,i(_),r(_,l.textVert,l.textFrag))};var i=t(5827),r=t(5158),n=t(6946),o=t(5070),l=t(2709);function u(x,_,h){this.plot=x,this.vbo=_,this.shader=h,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var d,c,m,f,p,v,y=u.prototype;y.drawTicks=(d=[0,0],c=[0,0],m=[0,0],function(x){var _=this.plot,h=this.shader,S=this.tickX[x],w=this.tickOffset[x],E=_.gl,C=_.viewBox,P=_.dataBox,O=_.screenBox,R=_.pixelRatio,U=_.tickEnable,z=_.tickPad,N=_.tickColor,W=_.tickAngle,F=_.labelEnable,V=_.labelPad,j=_.labelColor,te=_.labelAngle,J=this.labelOffset[x],K=this.labelCount[x],Z=o.lt(S,P[x]),X=o.le(S,P[x+2]);d[0]=d[1]=0,d[x]=1,c[x]=(C[2+x]+C[x])/(O[2+x]-O[x])-1;var Q=2/O[2+(1^x)]-O[1^x];c[1^x]=Q*C[1^x]-1,U[x]&&(c[1^x]-=Q*R*z[x],Z<X&&w[X]>w[Z]&&(h.uniforms.dataAxis=d,h.uniforms.screenOffset=c,h.uniforms.color=N[x],h.uniforms.angle=W[x],E.drawArrays(E.TRIANGLES,w[Z],w[X]-w[Z]))),F[x]&&K&&(c[1^x]-=Q*R*V[x],h.uniforms.dataAxis=m,h.uniforms.screenOffset=c,h.uniforms.color=j[x],h.uniforms.angle=te[x],E.drawArrays(E.TRIANGLES,J,K)),c[1^x]=Q*C[2+(1^x)]-1,U[x+2]&&(c[1^x]+=Q*R*z[x+2],Z<X&&w[X]>w[Z]&&(h.uniforms.dataAxis=d,h.uniforms.screenOffset=c,h.uniforms.color=N[x+2],h.uniforms.angle=W[x+2],E.drawArrays(E.TRIANGLES,w[Z],w[X]-w[Z]))),F[x+2]&&K&&(c[1^x]+=Q*R*V[x+2],h.uniforms.dataAxis=m,h.uniforms.screenOffset=c,h.uniforms.color=j[x+2],h.uniforms.angle=te[x+2],E.drawArrays(E.TRIANGLES,J,K))}),y.drawTitle=function(){var x=[0,0],_=[0,0];return function(){var h=this.plot,S=this.shader,w=h.gl,E=h.screenBox,C=h.titleCenter,P=h.titleAngle,O=h.titleColor,R=h.pixelRatio;if(this.titleCount){for(var U=0;U<2;++U)_[U]=2*(C[U]*R-E[U])/(E[2+U]-E[U])-1;S.bind(),S.uniforms.dataAxis=x,S.uniforms.screenOffset=_,S.uniforms.angle=P,S.uniforms.color=O,w.drawArrays(w.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=(f=[0,0],p=[0,0],v=[0,0],function(){var x=this.plot,_=this.shader,h=x._tickBounds,S=x.dataBox,w=x.screenBox,E=x.viewBox;_.bind();for(var C=0;C<2;++C){var P=h[C],O=h[C+2]-P,R=.5*(S[C+2]+S[C]),U=S[C+2]-S[C],z=E[C],N=E[C+2]-z,W=w[C],F=w[C+2]-W;p[C]=2*O/U*N/F,f[C]=2*(P-R)/U*N/F}v[1]=2*x.pixelRatio/(w[3]-w[1]),v[0]=v[1]*(w[3]-w[1])/(w[2]-w[0]),_.uniforms.dataScale=p,_.uniforms.dataShift=f,_.uniforms.textScale=v,this.vbo.bind(),_.attributes.textCoordinate.pointer()}),y.update=function(x){var _,h,S,w,E,C=[],P=x.ticks,O=x.bounds;for(E=0;E<2;++E){var R=[Math.floor(C.length/3)],U=[-1/0],z=P[E];for(_=0;_<z.length;++_){var N=z[_],W=N.x,F=N.text,V=N.font||"sans-serif";w=N.fontSize||12;for(var j=1/(O[E+2]-O[E]),te=O[E],J=F.split(`
`),K=0;K<J.length;K++)for(S=n(V,J[K]).data,h=0;h<S.length;h+=2)C.push(S[h]*w,-S[h+1]*w-K*w*1.2,(W-te)*j);R.push(Math.floor(C.length/3)),U.push(W)}this.tickOffset[E]=R,this.tickX[E]=U}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(C.length/3),S=n(x.labelFont[E],x.labels[E],{textAlign:"center"}).data,w=x.labelSize[E],_=0;_<S.length;_+=2)C.push(S[_]*w,-S[_+1]*w,0);this.labelCount[E]=Math.floor(C.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(C.length/3),S=n(x.titleFont,x.title).data,w=x.titleSize,_=0;_<S.length;_+=2)C.push(S[_]*w,-S[_+1]*w,0);this.titleCount=Math.floor(C.length/3)-this.titleOffset,this.vbo.update(C)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(g,s,t){g.exports=function(f){var p=f.gl,v=new u(p,i(p,[p.drawingBufferWidth,p.drawingBufferHeight]));return v.grid=r(v),v.text=n(v),v.line=o(v),v.box=l(v),v.update(f),v};var i=t(2611),r=t(3016),n=t(5613),o=t(1154),l=t(4554);function u(f,p){this.gl=f,this.pickBuffer=p,this.screenBox=[0,0,f.drawingBufferWidth,f.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var d=u.prototype;function c(f){for(var p=f.slice(),v=0;v<p.length;++v)p[v]=p[v].slice();return p}function m(f,p){return f.x-p.x}d.setDirty=function(){this.dirty=this.pickDirty=!0},d.setOverlayDirty=function(){this.dirty=!0},d.nextDepthValue=function(){return this._depthCounter++/65536},d.draw=function(){var f=this.gl,p=this.screenBox,v=this.viewBox,y=this.dataBox,x=this.pixelRatio,_=this.grid,h=this.line,S=this.text,w=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,f.bindFramebuffer(f.FRAMEBUFFER,null),f.enable(f.SCISSOR_TEST),f.disable(f.DEPTH_TEST),f.depthFunc(f.LESS),f.depthMask(!1),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD,f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA),this.borderColor){f.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var E=this.borderColor;f.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT)}f.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]),f.viewport(v[0],v[1],v[2]-v[0],v[3]-v[1]);var C=this.backgroundColor;f.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),f.clear(f.COLOR_BUFFER_BIT),_.draw();var P=this.zeroLineEnable,O=this.zeroLineColor,R=this.zeroLineWidth;if(P[0]||P[1]){h.bind();for(var U=0;U<2;++U)if(P[U]&&y[U]<=0&&y[U+2]>=0){var z=p[U]-y[U]*(p[U+2]-p[U])/(y[U+2]-y[U]);U===0?h.drawLine(z,p[1],z,p[3],R[U],O[U]):h.drawLine(p[0],z,p[2],z,R[U],O[U])}}for(U=0;U<w.length;++U)w[U].draw();f.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),f.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),h.bind();var N=this.borderLineEnable,W=this.borderLineWidth,F=this.borderLineColor;for(N[1]&&h.drawLine(v[0],v[1]-.5*W[1]*x,v[0],v[3]+.5*W[3]*x,W[1],F[1]),N[0]&&h.drawLine(v[0]-.5*W[0]*x,v[1],v[2]+.5*W[2]*x,v[1],W[0],F[0]),N[3]&&h.drawLine(v[2],v[1]-.5*W[1]*x,v[2],v[3]+.5*W[3]*x,W[3],F[3]),N[2]&&h.drawLine(v[0]-.5*W[0]*x,v[3],v[2]+.5*W[2]*x,v[3],W[2],F[2]),S.bind(),U=0;U<2;++U)S.drawTicks(U);this.titleEnable&&S.drawTitle();var V=this.overlays;for(U=0;U<V.length;++U)V[U].draw();f.disable(f.SCISSOR_TEST),f.disable(f.BLEND),f.depthMask(!0)}},d.drawPick=function(){if(!this.static){var f=this.pickBuffer;this.gl,this._pickTimeout=null,f.begin();for(var p=1,v=this.objects,y=0;y<v.length;++y)p=v[y].drawPick(p);f.end()}},d.pick=function(f,p){if(!this.static){var v=this.pixelRatio,y=this.pickPixelRatio,x=this.viewBox,_=0|Math.round((f-x[0]/v)*y),h=0|Math.round((p-x[1]/v)*y),S=this.pickBuffer.query(_,h,this.pickRadius);if(!S)return null;for(var w=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),E=this.objects,C=0;C<E.length;++C){var P=E[C].pick(_,h,w);if(P)return P}return null}},d.setScreenBox=function(f){var p=this.screenBox,v=this.pixelRatio;p[0]=0|Math.round(f[0]*v),p[1]=0|Math.round(f[1]*v),p[2]=0|Math.round(f[2]*v),p[3]=0|Math.round(f[3]*v),this.setDirty()},d.setDataBox=function(f){var p=this.dataBox;(p[0]!==f[0]||p[1]!==f[1]||p[2]!==f[2]||p[3]!==f[3])&&(p[0]=f[0],p[1]=f[1],p[2]=f[2],p[3]=f[3],this.setDirty())},d.setViewBox=function(f){var p=this.pixelRatio,v=this.viewBox;v[0]=0|Math.round(f[0]*p),v[1]=0|Math.round(f[1]*p),v[2]=0|Math.round(f[2]*p),v[3]=0|Math.round(f[3]*p);var y=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((f[2]-f[0])*y),0|Math.round((f[3]-f[1])*y)],this.setDirty()},d.update=function(f){f=f||{};var p=this.gl;this.pixelRatio=f.pixelRatio||1;var v=this.pixelRatio;this.pickPixelRatio=Math.max(v,1),this.setScreenBox(f.screenBox||[0,0,p.drawingBufferWidth/v,p.drawingBufferHeight/v]),this.screenBox,this.setViewBox(f.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/v,.125*(this.screenBox[3]-this.screenBox[1])/v,.875*(this.screenBox[2]-this.screenBox[0])/v,.875*(this.screenBox[3]-this.screenBox[1])/v]);var y=this.viewBox,x=(y[2]-y[0])/(y[3]-y[1]);this.setDataBox(f.dataBox||[-10,-10/x,10,10/x]),this.borderColor=f.borderColor!==!1&&(f.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(f.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(f.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(f.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(f.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(f.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(f.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(f.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(f.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(f.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(f.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(f.titleCenter||[.5*(y[0]+y[2])/v,(y[3]+120)/v]).slice(),this.titleEnable=!("titleEnable"in f)||!!f.titleEnable,this.titleAngle=f.titleAngle||0,this.titleColor=(f.titleColor||[0,0,0,1]).slice(),this.labelPad=(f.labelPad||[15,15,15,15]).slice(),this.labelAngle=(f.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(f.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(f.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(f.tickPad||[15,15,15,15]).slice(),this.tickAngle=(f.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(f.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(f.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(f.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(f.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(f.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var _=f.ticks||[[],[]],h=this._tickBounds;h[0]=h[1]=1/0,h[2]=h[3]=-1/0;for(var S=0;S<2;++S){var w=_[S].slice(0);w.length!==0&&(w.sort(m),h[S]=Math.min(h[S],w[0].x),h[S+2]=Math.max(h[S+2],w[w.length-1].x))}this.grid.update({bounds:h,ticks:_}),this.text.update({bounds:h,ticks:_,labels:f.labels||["x","y"],labelSize:f.labelSize||[12,12],labelFont:f.labelFont||["sans-serif","sans-serif"],title:f.title||"",titleSize:f.titleSize||18,titleFont:f.titleFont||"sans-serif"}),this.static=!!f.static,this.setDirty()},d.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var f=this.objects.length-1;f>=0;--f)this.objects[f].dispose();for(this.objects.length=0,f=this.overlays.length-1;f>=0;--f)this.overlays[f].dispose();this.overlays.length=0,this.gl=null},d.addObject=function(f){this.objects.indexOf(f)<0&&(this.objects.push(f),this.setDirty())},d.removeObject=function(f){for(var p=this.objects,v=0;v<p.length;++v)if(p[v]===f){p.splice(v,1),this.setDirty();break}},d.addOverlay=function(f){this.overlays.indexOf(f)<0&&(this.overlays.push(f),this.setOverlayDirty())},d.removeOverlay=function(f){for(var p=this.overlays,v=0;v<p.length;++v)if(p[v]===f){p.splice(v,1),this.setOverlayDirty();break}}},4296:function(g,s,t){g.exports=function(d,c){d=d||document.body;var m=[.01,1/0];"distanceLimits"in(c=c||{})&&(m[0]=c.distanceLimits[0],m[1]=c.distanceLimits[1]),"zoomMin"in c&&(m[0]=c.zoomMin),"zoomMax"in c&&(m[1]=c.zoomMax);var f=r({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:m}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0,y=d.clientWidth,x=d.clientHeight,_={keyBindingMode:"rotate",enableWheel:!0,view:f,element:d,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:f.modes,_ortho:c._ortho||c.projection&&c.projection.type==="orthographic"||!1,tick:function(){var h=i(),S=this.delay,w=h-2*S;f.idle(h-S),f.recalcMatrix(w),f.flush(h-(100+2*S));for(var E=!0,C=f.computedMatrix,P=0;P<16;++P)E=E&&p[P]===C[P],p[P]=C[P];var O=d.clientWidth===y&&d.clientHeight===x;return y=d.clientWidth,x=d.clientHeight,E?!O:(v=Math.exp(f.computedRadius[0]),!0)},lookAt:function(h,S,w){f.lookAt(f.lastT(),h,S,w)},rotate:function(h,S,w){f.rotate(f.lastT(),h,S,w)},pan:function(h,S,w){f.pan(f.lastT(),h,S,w)},translate:function(h,S,w){f.translate(f.lastT(),h,S,w)}};return Object.defineProperties(_,{matrix:{get:function(){return f.computedMatrix},set:function(h){return f.setMatrix(f.lastT(),h),f.computedMatrix},enumerable:!0},mode:{get:function(){return f.getMode()},set:function(h){var S=f.computedUp.slice(),w=f.computedEye.slice(),E=f.computedCenter.slice();if(f.setMode(h),h==="turntable"){var C=i();f._active.lookAt(C,w,E,S),f._active.lookAt(C+500,w,E,[0,0,1]),f._active.flush(C)}return f.getMode()},enumerable:!0},center:{get:function(){return f.computedCenter},set:function(h){return f.lookAt(f.lastT(),null,h),f.computedCenter},enumerable:!0},eye:{get:function(){return f.computedEye},set:function(h){return f.lookAt(f.lastT(),h),f.computedEye},enumerable:!0},up:{get:function(){return f.computedUp},set:function(h){return f.lookAt(f.lastT(),null,null,h),f.computedUp},enumerable:!0},distance:{get:function(){return v},set:function(h){return f.setDistance(f.lastT(),h),h},enumerable:!0},distanceLimits:{get:function(){return f.getDistanceLimits(m)},set:function(h){return f.setDistanceLimits(h),h},enumerable:!0}}),d.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),_._lastX=-1,_._lastY=-1,_._lastMods={shift:!1,control:!1,alt:!1,meta:!1},_.enableMouseListeners=function(){function h(S,w,E,C){var P=_.keyBindingMode;if(P!==!1){var O=P==="rotate",R=P==="pan",U=P==="zoom",z=!!C.control,N=!!C.alt,W=!!C.shift,F=!!(1&S),V=!!(2&S),j=!!(4&S),te=1/d.clientHeight,J=te*(w-_._lastX),K=te*(E-_._lastY),Z=_.flipX?1:-1,X=_.flipY?1:-1,Q=Math.PI*_.rotateSpeed,re=i();if(_._lastX!==-1&&_._lastY!==-1&&((O&&F&&!z&&!N&&!W||F&&!z&&!N&&W)&&f.rotate(re,Z*Q*J,-X*Q*K,0),(R&&F&&!z&&!N&&!W||V||F&&z&&!N&&!W)&&f.pan(re,-_.translateSpeed*J*v,_.translateSpeed*K*v,0),U&&F&&!z&&!N&&!W||j||F&&!z&&N&&!W)){var ae=-_.zoomSpeed*K/window.innerHeight*(re-f.lastT())*100;f.pan(re,0,0,v*(Math.exp(ae)-1))}return _._lastX=w,_._lastY=E,_._lastMods=C,!0}}_.mouseListener=n(d,h),d.addEventListener("touchstart",function(S){var w=l(S.changedTouches[0],d);h(0,w[0],w[1],_._lastMods),h(1,w[0],w[1],_._lastMods)},!!u&&{passive:!0}),d.addEventListener("touchmove",function(S){var w=l(S.changedTouches[0],d);h(1,w[0],w[1],_._lastMods),S.preventDefault()},!!u&&{passive:!1}),d.addEventListener("touchend",function(S){h(0,_._lastX,_._lastY,_._lastMods)},!!u&&{passive:!0}),_.wheelListener=o(d,function(S,w){if(_.keyBindingMode!==!1&&_.enableWheel){var E=_.flipX?1:-1,C=_.flipY?1:-1,P=i();if(Math.abs(S)>Math.abs(w))f.rotate(P,0,0,-S*E*Math.PI*_.rotateSpeed/window.innerWidth);else if(!_._ortho){var O=-_.zoomSpeed*C*w/window.innerHeight*(P-f.lastT())/20;f.pan(P,0,0,v*(Math.exp(O)-1))}}},!0)},_.enableMouseListeners(),_};var i=t(8161),r=t(1152),n=t(6145),o=t(6475),l=t(2565),u=t(5233)},8245:function(g,s,t){var i=t(6832),r=t(5158),n=i([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),o=i([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);g.exports=function(l){return r(l,n,o,null,[{name:"position",type:"vec2"}])}},1059:function(g,s,t){var i=t(4296),r=t(7453),n=t(2771),o=t(6496),l=t(2611),u=t(4234),d=t(8126),c=t(6145),m=t(1120),f=t(5268),p=t(8245),v=t(2321)({tablet:!0,featureDetect:!0});function y(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function x(h){var S=Math.round(Math.log(Math.abs(h))/Math.log(10));if(S<0){var w=Math.round(Math.pow(10,-S));return Math.ceil(h*w)/w}return S>0?(w=Math.round(Math.pow(10,S)),Math.ceil(h/w)*w):Math.ceil(h)}function _(h){return typeof h!="boolean"||h}g.exports={createScene:function(h){(h=h||{}).camera=h.camera||{};var S=h.canvas;S||(S=document.createElement("canvas"),h.container?h.container.appendChild(S):document.body.appendChild(S));var w=h.gl;if(w||(h.glOptions&&(v=!!h.glOptions.preserveDrawingBuffer),w=function(ge,ke){var we=null;try{(we=ge.getContext("webgl",ke))||(we=ge.getContext("experimental-webgl",ke))}catch{return null}return we}(S,h.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:v})),!w)throw new Error("webgl not supported");var E=h.bounds||[[-10,-10,-10],[10,10,10]],C=new y,P=u(w,w.drawingBufferWidth,w.drawingBufferHeight,{preferFloat:!v}),O=p(w),R=h.cameraObject&&h.cameraObject._ortho===!0||h.camera.projection&&h.camera.projection.type==="orthographic"||!1,U={eye:h.camera.eye||[2,0,0],center:h.camera.center||[0,0,0],up:h.camera.up||[0,1,0],zoomMin:h.camera.zoomMax||.1,zoomMax:h.camera.zoomMin||100,mode:h.camera.mode||"turntable",_ortho:R},z=h.axes||{},N=r(w,z);N.enable=!z.disable;var W=h.spikes||{},F=o(w,W),V=[],j=[],te=[],J=[],K=!0,Z=!0,X={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},Q=(Z=!0,[w.drawingBufferWidth,w.drawingBufferHeight]),re=h.cameraObject||i(S,U),ae={gl:w,contextLost:!1,pixelRatio:h.pixelRatio||1,canvas:S,selection:C,camera:re,axes:N,axesPixels:null,spikes:F,bounds:E,objects:V,shape:Q,aspect:h.aspectRatio||[1,1,1],pickRadius:h.pickRadius||10,zNear:h.zNear||.01,zFar:h.zFar||1e3,fovy:h.fovy||Math.PI/4,clearColor:h.clearColor||[0,0,0,0],autoResize:_(h.autoResize),autoBounds:_(h.autoBounds),autoScale:!!h.autoScale,autoCenter:_(h.autoCenter),clipToBounds:_(h.clipToBounds),snapToData:!!h.snapToData,onselect:h.onselect||null,onrender:h.onrender||null,onclick:h.onclick||null,cameraParams:X,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(ge){this.aspect[0]=ge.x,this.aspect[1]=ge.y,this.aspect[2]=ge.z,Z=!0},setBounds:function(ge,ke){this.bounds[0][ge]=ke.min,this.bounds[1][ge]=ke.max},setClearColor:function(ge){this.clearColor=ge},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ie=[w.drawingBufferWidth/ae.pixelRatio|0,w.drawingBufferHeight/ae.pixelRatio|0];function le(){if(!ae._stopped&&ae.autoResize){var ge=S.parentNode,ke=1,we=1;ge&&ge!==document.body?(ke=ge.clientWidth,we=ge.clientHeight):(ke=window.innerWidth,we=window.innerHeight);var ue=0|Math.ceil(ke*ae.pixelRatio),oe=0|Math.ceil(we*ae.pixelRatio);if(ue!==S.width||oe!==S.height){S.width=ue,S.height=oe;var he=S.style;he.position=he.position||"absolute",he.left="0px",he.top="0px",he.width=ke+"px",he.height=we+"px",K=!0}}}function pe(){for(var ge=V.length,ke=J.length,we=0;we<ke;++we)te[we]=0;e:for(we=0;we<ge;++we){var ue=V[we],oe=ue.pickSlots;if(oe){for(var he=0;he<ke;++he)if(te[he]+oe<255){j[we]=he,ue.setPickBase(te[he]+1),te[he]+=oe;continue e}var Ee=l(w,Q);j[we]=ke,J.push(Ee),te.push(oe),ue.setPickBase(1),ke+=1}else j[we]=-1}for(;ke>0&&te[ke-1]===0;)te.pop(),J.pop().dispose()}function de(){if(ae.contextLost)return!0;w.isContextLost()&&(ae.contextLost=!0,ae.mouseListener.enabled=!1,ae.selection.object=null,ae.oncontextloss&&ae.oncontextloss())}ae.autoResize&&le(),window.addEventListener("resize",le),ae.update=function(ge){ae._stopped||(K=!0,Z=!0)},ae.add=function(ge){ae._stopped||(ge.axes=N,V.push(ge),j.push(-1),K=!0,Z=!0,pe())},ae.remove=function(ge){if(!ae._stopped){var ke=V.indexOf(ge);ke<0||(V.splice(ke,1),j.pop(),K=!0,Z=!0,pe())}},ae.dispose=function(){if(!ae._stopped&&(ae._stopped=!0,window.removeEventListener("resize",le),S.removeEventListener("webglcontextlost",de),ae.mouseListener.enabled=!1,!ae.contextLost)){N.dispose(),F.dispose();for(var ge=0;ge<V.length;++ge)V[ge].dispose();for(P.dispose(),ge=0;ge<J.length;++ge)J[ge].dispose();O.dispose(),w=null,N=null,F=null,V=[]}},ae._mouseRotating=!1,ae._prevButtons=0,ae.enableMouseListeners=function(){ae.mouseListener=c(S,function(ge,ke,we){if(!ae._stopped){var ue=J.length,oe=V.length,he=C.object;C.distance=1/0,C.mouse[0]=ke,C.mouse[1]=we,C.object=null,C.screen=null,C.dataCoordinate=C.dataPosition=null;var Ee=!1;if(ge&&ae._prevButtons)ae._mouseRotating=!0;else{ae._mouseRotating&&(Z=!0),ae._mouseRotating=!1;for(var Te=0;Te<ue;++Te){var Me=J[Te].query(ke,ie[1]-we-1,ae.pickRadius);if(Me){if(Me.distance>C.distance)continue;for(var Se=0;Se<oe;++Se){var ze=V[Se];if(j[Se]===Te){var fe=ze.pick(Me);fe&&(C.buttons=ge,C.screen=Me.coord,C.distance=Me.distance,C.object=ze,C.index=fe.distance,C.dataPosition=fe.position,C.dataCoordinate=fe.dataCoordinate,C.data=fe,Ee=!0)}}}}}he&&he!==C.object&&(he.highlight&&he.highlight(null),K=!0),C.object&&(C.object.highlight&&C.object.highlight(C.data),K=!0),(Ee=Ee||C.object!==he)&&ae.onselect&&ae.onselect(C),1&ge&&!(1&ae._prevButtons)&&ae.onclick&&ae.onclick(C),ae._prevButtons=ge}})},S.addEventListener("webglcontextlost",de);var ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],be=[ve[0].slice(),ve[1].slice()];function me(){if(!de()){le();var ge=ae.camera.tick();X.view=ae.camera.matrix,K=K||ge,Z=Z||ge,N.pixelRatio=ae.pixelRatio,F.pixelRatio=ae.pixelRatio;var ke=V.length,we=ve[0],ue=ve[1];we[0]=we[1]=we[2]=1/0,ue[0]=ue[1]=ue[2]=-1/0;for(var oe=0;oe<ke;++oe){(Pe=V[oe]).pixelRatio=ae.pixelRatio,Pe.axes=ae.axes,K=K||!!Pe.dirty,Z=Z||!!Pe.dirty;var he=Pe.bounds;if(he)for(var Ee=he[0],Te=he[1],Me=0;Me<3;++Me)we[Me]=Math.min(we[Me],Ee[Me]),ue[Me]=Math.max(ue[Me],Te[Me])}var Se=ae.bounds;if(ae.autoBounds)for(Me=0;Me<3;++Me){if(ue[Me]<we[Me])we[Me]=-1,ue[Me]=1;else{we[Me]===ue[Me]&&(we[Me]-=1,ue[Me]+=1);var ze=.05*(ue[Me]-we[Me]);we[Me]=we[Me]-ze,ue[Me]=ue[Me]+ze}Se[0][Me]=we[Me],Se[1][Me]=ue[Me]}var fe=!1;for(Me=0;Me<3;++Me)fe=fe||be[0][Me]!==Se[0][Me]||be[1][Me]!==Se[1][Me],be[0][Me]=Se[0][Me],be[1][Me]=Se[1][Me];if(Z=Z||fe,K=K||fe){if(fe){var xe=[0,0,0];for(oe=0;oe<3;++oe)xe[oe]=x((Se[1][oe]-Se[0][oe])/10);N.autoTicks?N.update({bounds:Se,tickSpacing:xe}):N.update({bounds:Se})}var _e=w.drawingBufferWidth,Oe=w.drawingBufferHeight;for(Q[0]=_e,Q[1]=Oe,ie[0]=0|Math.max(_e/ae.pixelRatio,1),ie[1]=0|Math.max(Oe/ae.pixelRatio,1),function(Ue,Ve){var Xe=Ue.bounds,it=Ue.cameraParams,tt=it.projection,pt=it.model,mt=Ue.gl.drawingBufferWidth,gt=Ue.gl.drawingBufferHeight,et=Ue.zNear,$e=Ue.zFar,_t=Ue.fovy,Pt=mt/gt;Ve?(f(tt,-Pt,Pt,-1,1,et,$e),it._ortho=!0):(m(tt,_t,Pt,et,$e),it._ortho=!1);for(var Ot=0;Ot<16;++Ot)pt[Ot]=0;pt[15]=1;var Lt=0;for(Ot=0;Ot<3;++Ot)Lt=Math.max(Lt,Xe[1][Ot]-Xe[0][Ot]);for(Ot=0;Ot<3;++Ot)Ue.autoScale?pt[5*Ot]=Ue.aspect[Ot]/(Xe[1][Ot]-Xe[0][Ot]):pt[5*Ot]=1/Lt,Ue.autoCenter&&(pt[12+Ot]=.5*-pt[5*Ot]*(Xe[0][Ot]+Xe[1][Ot]))}(ae,R),oe=0;oe<ke;++oe)(Pe=V[oe]).axesBounds=Se,ae.clipToBounds&&(Pe.clipBounds=Se);C.object&&(ae.snapToData?F.position=C.dataCoordinate:F.position=C.dataPosition,F.bounds=Se),Z&&(Z=!1,function(){if(!de()){w.colorMask(!0,!0,!0,!0),w.depthMask(!0),w.disable(w.BLEND),w.enable(w.DEPTH_TEST),w.depthFunc(w.LEQUAL);for(var Ue=V.length,Ve=J.length,Xe=0;Xe<Ve;++Xe){var it=J[Xe];it.shape=ie,it.begin();for(var tt=0;tt<Ue;++tt)if(j[tt]===Xe){var pt=V[tt];pt.drawPick&&(pt.pixelRatio=1,pt.drawPick(X))}it.end()}}}()),ae.axesPixels=n(ae.axes,X,_e,Oe),ae.onrender&&ae.onrender(),w.bindFramebuffer(w.FRAMEBUFFER,null),w.viewport(0,0,_e,Oe),ae.clearRGBA(),w.depthMask(!0),w.colorMask(!0,!0,!0,!0),w.enable(w.DEPTH_TEST),w.depthFunc(w.LEQUAL),w.disable(w.BLEND),w.disable(w.CULL_FACE);var De=!1;for(N.enable&&(De=De||N.isTransparent(),N.draw(X)),F.axes=N,C.object&&F.draw(X),w.disable(w.CULL_FACE),oe=0;oe<ke;++oe)(Pe=V[oe]).axes=N,Pe.pixelRatio=ae.pixelRatio,Pe.isOpaque&&Pe.isOpaque()&&Pe.draw(X),Pe.isTransparent&&Pe.isTransparent()&&(De=!0);if(De){for(P.shape=Q,P.bind(),w.clear(w.DEPTH_BUFFER_BIT),w.colorMask(!1,!1,!1,!1),w.depthMask(!0),w.depthFunc(w.LESS),N.enable&&N.isTransparent()&&N.drawTransparent(X),oe=0;oe<ke;++oe)(Pe=V[oe]).isOpaque&&Pe.isOpaque()&&Pe.draw(X);for(w.enable(w.BLEND),w.blendEquation(w.FUNC_ADD),w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA),w.colorMask(!0,!0,!0,!0),w.depthMask(!1),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),N.isTransparent()&&N.drawTransparent(X),oe=0;oe<ke;++oe){var Pe;(Pe=V[oe]).isTransparent&&Pe.isTransparent()&&Pe.drawTransparent(X)}w.bindFramebuffer(w.FRAMEBUFFER,null),w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA),w.disable(w.DEPTH_TEST),O.bind(),P.color[0].bind(0),O.uniforms.accumBuffer=0,d(w),w.disable(w.BLEND)}for(K=!1,oe=0;oe<ke;++oe)V[oe].dirty=!1}}}return ae.enableMouseListeners(),function ge(){ae._stopped||ae.contextLost||(me(),requestAnimationFrame(ge))}(),ae.redraw=function(){ae._stopped||(K=!0,me())},ae},createCamera:i}},8023:function(g,s,t){var i=t(6832);s.pointVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),s.pointFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),s.pickVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),s.pickFragment=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(g,s,t){var i=t(5158),r=t(5827),n=t(5306),o=t(8023);function l(m,f,p,v,y){this.plot=m,this.offsetBuffer=f,this.pickBuffer=p,this.shader=v,this.pickShader=y,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}g.exports=function(m,f){var p=m.gl,v=new l(m,r(p),r(p),i(p,o.pointVertex,o.pointFragment),i(p,o.pickVertex,o.pickFragment));return v.update(f),m.addObject(v),v};var u,d,c=l.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(m){var f;function p(w,E){return w in m?m[w]:E}m=m||{},this.sizeMin=p("sizeMin",.5),this.sizeMax=p("sizeMax",20),this.color=p("color",[1,0,0,1]).slice(),this.areaRatio=p("areaRatio",1),this.borderColor=p("borderColor",[0,0,0,1]).slice(),this.blend=p("blend",!1);var v=m.positions.length>>>1,y=m.positions instanceof Float32Array,x=m.idToIndex instanceof Int32Array&&m.idToIndex.length>=v,_=m.positions,h=y?_:n.mallocFloat32(_.length),S=x?m.idToIndex:n.mallocInt32(v);if(y||h.set(_),!x)for(h.set(_),f=0;f<v;f++)S[f]=f;this.points=_,this.offsetBuffer.update(h),this.pickBuffer.update(S),y||n.free(h),x||n.free(S),this.pointCount=v,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0],function(m){var f=m!==void 0,p=f?this.pickShader:this.shader,v=this.plot.gl,y=this.plot.dataBox;if(this.pointCount===0)return m;var x=y[2]-y[0],_=y[3]-y[1],h=function(C,P){var O,R=0,U=C.length>>>1;for(O=0;O<U;O++){var z=C[2*O],N=C[2*O+1];z>=P[0]&&z<=P[2]&&N>=P[1]&&N<=P[3]&&R++}return R}(this.points,y),S=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(h,.33333)));u[0]=2/x,u[4]=2/_,u[6]=-2*y[0]/x-1,u[7]=-2*y[1]/_-1,this.offsetBuffer.bind(),p.bind(),p.attributes.position.pointer(),p.uniforms.matrix=u,p.uniforms.color=this.color,p.uniforms.borderColor=this.borderColor,p.uniforms.pointCloud=S<5,p.uniforms.pointSize=S,p.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),f&&(d[0]=255&m,d[1]=m>>8&255,d[2]=m>>16&255,d[3]=m>>24&255,this.pickBuffer.bind(),p.attributes.pickId.pointer(v.UNSIGNED_BYTE),p.uniforms.pickOffset=d,this.pickOffset=m);var w=v.getParameter(v.BLEND),E=v.getParameter(v.DITHER);return w&&!this.blend&&v.disable(v.BLEND),E&&v.disable(v.DITHER),v.drawArrays(v.POINTS,0,this.pointCount),w&&!this.blend&&v.enable(v.BLEND),E&&v.enable(v.DITHER),m+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(m,f,p){var v=this.pickOffset,y=this.pointCount;if(p<v||p>=v+y)return null;var x=p-v,_=this.points;return{object:this,pointId:x,dataCoord:[_[2*x],_[2*x+1]]}}},6093:function(g){g.exports=function(s,t,i,r){var n,o,l,u,d,c=t[0],m=t[1],f=t[2],p=t[3],v=i[0],y=i[1],x=i[2],_=i[3];return(o=c*v+m*y+f*x+p*_)<0&&(o=-o,v=-v,y=-y,x=-x,_=-_),1-o>1e-6?(n=Math.acos(o),l=Math.sin(n),u=Math.sin((1-r)*n)/l,d=Math.sin(r*n)/l):(u=1-r,d=r),s[0]=u*c+d*v,s[1]=u*m+d*y,s[2]=u*f+d*x,s[3]=u*p+d*_,s}},8240:function(g){g.exports=function(s){return s||s===0?s.toString():""}},4123:function(g,s,t){var i=t(875);g.exports=function(n,o,l){var u=r[o];if(u||(u=r[o]={}),n in u)return u[n];var d={textAlign:"center",textBaseline:"middle",lineHeight:1,font:o,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},c=i(n,d);d.triangles=!1;var m,f,p=i(n,d);if(l&&l!==1){for(m=0;m<c.positions.length;++m)for(f=0;f<c.positions[m].length;++f)c.positions[m][f]/=l;for(m=0;m<p.positions.length;++m)for(f=0;f<p.positions[m].length;++f)p.positions[m][f]/=l}var v=[[1/0,1/0],[-1/0,-1/0]],y=p.positions.length;for(m=0;m<y;++m){var x=p.positions[m];for(f=0;f<2;++f)v[0][f]=Math.min(v[0][f],x[f]),v[1][f]=Math.max(v[1][f],x[f])}return u[n]=[c,p,v]};var r={}},9282:function(g,s,t){var i=t(5158),r=t(6832),n=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),o=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),d=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],m={vertex:n,fragment:u,attributes:c},f={vertex:o,fragment:u,attributes:c},p={vertex:l,fragment:u,attributes:c},v={vertex:n,fragment:d,attributes:c},y={vertex:o,fragment:d,attributes:c},x={vertex:l,fragment:d,attributes:c};function _(h,S){var w=i(h,S),E=w.attributes;return E.position.location=0,E.color.location=1,E.glyph.location=2,E.id.location=3,w}s.createPerspective=function(h){return _(h,m)},s.createOrtho=function(h){return _(h,f)},s.createProject=function(h){return _(h,p)},s.createPickPerspective=function(h){return _(h,v)},s.createPickOrtho=function(h){return _(h,y)},s.createPickProject=function(h){return _(h,x)}},2182:function(g,s,t){var i=t(3596),r=t(5827),n=t(2944),o=t(5306),l=t(104),u=t(9282),d=t(4123),c=t(8240),m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(j,te){var J=j[0],K=j[1],Z=j[2],X=j[3];return j[0]=te[0]*J+te[4]*K+te[8]*Z+te[12]*X,j[1]=te[1]*J+te[5]*K+te[9]*Z+te[13]*X,j[2]=te[2]*J+te[6]*K+te[10]*Z+te[14]*X,j[3]=te[3]*J+te[7]*K+te[11]*Z+te[15]*X,j}function p(j,te,J,K){return f(K,K),f(K,K),f(K,K)}function v(j,te){this.index=j,this.dataCoordinate=this.position=te}function y(j){return j===!0||j>1?1:j}function x(j,te,J,K,Z,X,Q,re,ae,ie,le,pe){this.gl=j,this.pixelRatio=1,this.shader=te,this.orthoShader=J,this.projectShader=K,this.pointBuffer=Z,this.colorBuffer=X,this.glyphBuffer=Q,this.idBuffer=re,this.vao=ae,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ie,this.pickOrthoShader=le,this.pickProjectShader=pe,this.points=[],this._selectResult=new v(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}g.exports=function(j){var te=j.gl,J=u.createPerspective(te),K=u.createOrtho(te),Z=u.createProject(te),X=u.createPickPerspective(te),Q=u.createPickOrtho(te),re=u.createPickProject(te),ae=r(te),ie=r(te),le=r(te),pe=r(te),de=new x(te,J,K,Z,ae,ie,le,pe,n(te,[{buffer:ae,size:3,type:te.FLOAT},{buffer:ie,size:4,type:te.FLOAT},{buffer:le,size:2,type:te.FLOAT},{buffer:pe,size:4,type:te.UNSIGNED_BYTE,normalized:!0}]),X,Q,re);return de.update(j),de};var _=x.prototype;_.pickSlots=1,_.setPickBase=function(j){this.pickId=j},_.isTransparent=function(){if(this.hasAlpha)return!0;for(var j=0;j<3;++j)if(this.axesProject[j]&&this.projectHasAlpha)return!0;return!1},_.isOpaque=function(){if(!this.hasAlpha)return!0;for(var j=0;j<3;++j)if(this.axesProject[j]&&!this.projectHasAlpha)return!0;return!1};var h=[0,0],S=[0,0,0],w=[0,0,0],E=[0,0,0,1],C=[0,0,0,1],P=m.slice(),O=[0,0,0],R=[[0,0,0],[0,0,0]];function U(j){return j[0]=j[1]=j[2]=0,j}function z(j,te){return j[0]=te[0],j[1]=te[1],j[2]=te[2],j[3]=1,j}function N(j,te,J,K){return j[0]=te[0],j[1]=te[1],j[2]=te[2],j[J]=K,j}var W=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function F(j,te,J,K,Z,X,Q){var re=J.gl;if((X===J.projectHasAlpha||Q)&&function(ie,le,pe,de){var ve,be=le.axesProject,me=le.gl,ge=ie.uniforms,ke=pe.model||m,we=pe.view||m,ue=pe.projection||m,oe=le.axesBounds,he=function(Xe){for(var it=R,tt=0;tt<2;++tt)for(var pt=0;pt<3;++pt)it[tt][pt]=Math.max(Math.min(Xe[tt][pt],1e8),-1e8);return it}(le.clipBounds);ve=le.axes&&le.axes.lastCubeProps?le.axes.lastCubeProps.axis:[1,1,1],h[0]=2/me.drawingBufferWidth,h[1]=2/me.drawingBufferHeight,ie.bind(),ge.view=we,ge.projection=ue,ge.screenSize=h,ge.highlightId=le.highlightId,ge.highlightScale=le.highlightScale,ge.clipBounds=he,ge.pickGroup=le.pickId/255,ge.pixelRatio=de;for(var Ee=0;Ee<3;++Ee)if(be[Ee]){ge.scale=le.projectScale[Ee],ge.opacity=le.projectOpacity[Ee];for(var Te=P,Me=0;Me<16;++Me)Te[Me]=0;for(Me=0;Me<4;++Me)Te[5*Me]=1;Te[5*Ee]=0,ve[Ee]<0?Te[12+Ee]=oe[0][Ee]:Te[12+Ee]=oe[1][Ee],l(Te,ke,Te),ge.model=Te;var Se=(Ee+1)%3,ze=(Ee+2)%3,fe=U(S),xe=U(w);fe[Se]=1,xe[ze]=1;var _e=p(0,0,0,z(E,fe)),Oe=p(0,0,0,z(C,xe));if(Math.abs(_e[1])>Math.abs(Oe[1])){var De=_e;_e=Oe,Oe=De,De=fe,fe=xe,xe=De;var Pe=Se;Se=ze,ze=Pe}_e[0]<0&&(fe[Se]=-1),Oe[1]>0&&(xe[ze]=-1);var Ue=0,Ve=0;for(Me=0;Me<4;++Me)Ue+=Math.pow(ke[4*Se+Me],2),Ve+=Math.pow(ke[4*ze+Me],2);fe[Se]/=Math.sqrt(Ue),xe[ze]/=Math.sqrt(Ve),ge.axes[0]=fe,ge.axes[1]=xe,ge.fragClipBounds[0]=N(O,he[0],Ee,-1e8),ge.fragClipBounds[1]=N(O,he[1],Ee,1e8),le.vao.bind(),le.vao.draw(me.TRIANGLES,le.vertexCount),le.lineWidth>0&&(me.lineWidth(le.lineWidth*de),le.vao.draw(me.LINES,le.lineVertexCount,le.vertexCount)),le.vao.unbind()}}(te,J,K,Z),X===J.hasAlpha||Q){j.bind();var ae=j.uniforms;ae.model=K.model||m,ae.view=K.view||m,ae.projection=K.projection||m,h[0]=2/re.drawingBufferWidth,h[1]=2/re.drawingBufferHeight,ae.screenSize=h,ae.highlightId=J.highlightId,ae.highlightScale=J.highlightScale,ae.fragClipBounds=W,ae.clipBounds=J.axes.bounds,ae.opacity=J.opacity,ae.pickGroup=J.pickId/255,ae.pixelRatio=Z,J.vao.bind(),J.vao.draw(re.TRIANGLES,J.vertexCount),J.lineWidth>0&&(re.lineWidth(J.lineWidth*Z),J.vao.draw(re.LINES,J.lineVertexCount,J.vertexCount)),J.vao.unbind()}}function V(j,te,J,K){var Z;Z=Array.isArray(j)?te<j.length?j[te]:void 0:j,Z=c(Z);var X=!0;i(Z)&&(Z="",X=!1);var Q=d(Z,J,K);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:X}}_.draw=function(j){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,j,this.pixelRatio,!1,!1)},_.drawTransparent=function(j){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,j,this.pixelRatio,!0,!1)},_.drawPick=function(j){F(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,j,1,!0,!0)},_.pick=function(j){if(!j||j.id!==this.pickId)return null;var te=j.value[2]+(j.value[1]<<8)+(j.value[0]<<16);if(te>=this.pointCount||te<0)return null;var J=this.points[te],K=this._selectResult;K.index=te;for(var Z=0;Z<3;++Z)K.position[Z]=K.dataCoordinate[Z]=J[Z];return K},_.highlight=function(j){if(j){var te=j.index,J=255&te,K=te>>8&255,Z=te>>16&255;this.highlightId=[J/255,K/255,Z/255,0]}else this.highlightId=[1,1,1,1]},_.update=function(j){if("perspective"in(j=j||{})&&(this.useOrtho=!j.perspective),"orthographic"in j&&(this.useOrtho=!!j.orthographic),"lineWidth"in j&&(this.lineWidth=j.lineWidth),"project"in j)if(Array.isArray(j.project))this.axesProject=j.project;else{var te=!!j.project;this.axesProject=[te,te,te]}if("projectScale"in j)if(Array.isArray(j.projectScale))this.projectScale=j.projectScale.slice();else{var J=+j.projectScale;this.projectScale=[J,J,J]}if(this.projectHasAlpha=!1,"projectOpacity"in j){Array.isArray(j.projectOpacity)?this.projectOpacity=j.projectOpacity.slice():(J=+j.projectOpacity,this.projectOpacity=[J,J,J]);for(var K=0;K<3;++K)this.projectOpacity[K]=y(this.projectOpacity[K]),this.projectOpacity[K]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in j&&(this.opacity=y(j.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Z,X,Q=j.position,re=j.font||"normal",ae=j.alignment||[0,0];if(ae.length===2)Z=ae[0],X=ae[1];else for(Z=[],X=[],K=0;K<ae.length;++K)Z[K]=ae[K][0],X[K]=ae[K][1];var ie=[1/0,1/0,1/0],le=[-1/0,-1/0,-1/0],pe=j.glyph,de=j.color,ve=j.size,be=j.angle,me=j.lineColor,ge=-1,ke=0,we=0,ue=0;if(Q.length){ue=Q.length;e:for(K=0;K<ue;++K){for(var oe=Q[K],he=0;he<3;++he)if(isNaN(oe[he])||!isFinite(oe[he]))continue e;var Ee=(it=V(pe,K,re,this.pixelRatio)).mesh,Te=it.lines,Me=it.bounds;ke+=3*Ee.cells.length,we+=2*Te.edges.length}}var Se=ke+we,ze=o.mallocFloat(3*Se),fe=o.mallocFloat(4*Se),xe=o.mallocFloat(2*Se),_e=o.mallocUint32(Se);if(Se>0){var Oe=0,De=ke,Pe=[0,0,0,1],Ue=[0,0,0,1],Ve=Array.isArray(de)&&Array.isArray(de[0]),Xe=Array.isArray(me)&&Array.isArray(me[0]);e:for(K=0;K<ue;++K){for(ge+=1,oe=Q[K],he=0;he<3;++he){if(isNaN(oe[he])||!isFinite(oe[he]))continue e;le[he]=Math.max(le[he],oe[he]),ie[he]=Math.min(ie[he],oe[he])}Ee=(it=V(pe,K,re,this.pixelRatio)).mesh,Te=it.lines,Me=it.bounds;var it,tt=it.visible;if(tt)if(Array.isArray(de)){if((pt=Ve?K<de.length?de[K]:[0,0,0,0]:de).length===3){for(he=0;he<3;++he)Pe[he]=pt[he];Pe[3]=1}else if(pt.length===4){for(he=0;he<4;++he)Pe[he]=pt[he];!this.hasAlpha&&pt[3]<1&&(this.hasAlpha=!0)}}else Pe[0]=Pe[1]=Pe[2]=0,Pe[3]=1;else Pe=[1,1,1,0];if(tt)if(Array.isArray(me)){var pt;if((pt=Xe?K<me.length?me[K]:[0,0,0,0]:me).length===3){for(he=0;he<3;++he)Ue[he]=pt[he];Ue[he]=1}else if(pt.length===4){for(he=0;he<4;++he)Ue[he]=pt[he];!this.hasAlpha&&pt[3]<1&&(this.hasAlpha=!0)}}else Ue[0]=Ue[1]=Ue[2]=0,Ue[3]=1;else Ue=[1,1,1,0];var mt=.5;tt?Array.isArray(ve)?mt=K<ve.length?+ve[K]:12:ve?mt=+ve:this.useOrtho&&(mt=12):mt=0;var gt=0;Array.isArray(be)?gt=K<be.length?+be[K]:0:be&&(gt=+be);var et=Math.cos(gt),$e=Math.sin(gt);for(oe=Q[K],he=0;he<3;++he)le[he]=Math.max(le[he],oe[he]),ie[he]=Math.min(ie[he],oe[he]);var _t=Z,Pt=X;_t=0,Array.isArray(Z)?_t=K<Z.length?Z[K]:0:Z&&(_t=Z),Pt=0,Array.isArray(X)?Pt=K<X.length?X[K]:0:X&&(Pt=X);var Ot=[_t*=_t>0?1-Me[0][0]:_t<0?1+Me[1][0]:1,Pt*=Pt>0?1-Me[0][1]:Pt<0?1+Me[1][1]:1],Lt=Ee.cells||[],He=Ee.positions||[];for(he=0;he<Lt.length;++he)for(var We=Lt[he],Be=0;Be<3;++Be){for(var Ge=0;Ge<3;++Ge)ze[3*Oe+Ge]=oe[Ge];for(Ge=0;Ge<4;++Ge)fe[4*Oe+Ge]=Pe[Ge];_e[Oe]=ge;var at=He[We[Be]];xe[2*Oe]=mt*(et*at[0]-$e*at[1]+Ot[0]),xe[2*Oe+1]=mt*($e*at[0]+et*at[1]+Ot[1]),Oe+=1}for(Lt=Te.edges,He=Te.positions,he=0;he<Lt.length;++he)for(We=Lt[he],Be=0;Be<2;++Be){for(Ge=0;Ge<3;++Ge)ze[3*De+Ge]=oe[Ge];for(Ge=0;Ge<4;++Ge)fe[4*De+Ge]=Ue[Ge];_e[De]=ge,at=He[We[Be]],xe[2*De]=mt*(et*at[0]-$e*at[1]+Ot[0]),xe[2*De+1]=mt*($e*at[0]+et*at[1]+Ot[1]),De+=1}}}this.bounds=[ie,le],this.points=Q,this.pointCount=Q.length,this.vertexCount=ke,this.lineVertexCount=we,this.pointBuffer.update(ze),this.colorBuffer.update(fe),this.glyphBuffer.update(xe),this.idBuffer.update(_e),o.free(ze),o.free(fe),o.free(xe),o.free(_e)},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(g,s,t){var i=t(6832);s.boxVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),s.boxFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(g,s,t){var i=t(5158),r=t(5827),n=t(1884);function o(u,d,c){this.plot=u,this.boxBuffer=d,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}g.exports=function(u,d){var c=u.gl,m=new o(u,r(c,[0,0,0,1,1,0,1,1]),i(c,n.boxVertex,n.boxFragment));return m.update(d),u.addOverlay(m),m};var l=o.prototype;l.draw=function(){if(this.enabled){var u=this.plot,d=this.selectBox,c=this.borderWidth,m=(this.innerFill,this.innerColor),f=(this.outerFill,this.outerColor),p=this.borderColor,v=u.box,y=u.screenBox,x=u.dataBox,_=u.viewBox,h=u.pixelRatio,S=(d[0]-x[0])*(_[2]-_[0])/(x[2]-x[0])+_[0],w=(d[1]-x[1])*(_[3]-_[1])/(x[3]-x[1])+_[1],E=(d[2]-x[0])*(_[2]-_[0])/(x[2]-x[0])+_[0],C=(d[3]-x[1])*(_[3]-_[1])/(x[3]-x[1])+_[1];if(S=Math.max(S,_[0]),w=Math.max(w,_[1]),E=Math.min(E,_[2]),C=Math.min(C,_[3]),!(E<S||C<w)){v.bind();var P=y[2]-y[0],O=y[3]-y[1];if(this.outerFill&&(v.drawBox(0,0,P,w,f),v.drawBox(0,w,S,C,f),v.drawBox(0,C,P,O,f),v.drawBox(E,w,P,C,f)),this.innerFill&&v.drawBox(S,w,E,C,m),c>0){var R=c*h;v.drawBox(S-R,w-R,E+R,w+R,p),v.drawBox(S-R,C-R,E+R,C+R,p),v.drawBox(S-R,w-R,S+R,C+R,p),v.drawBox(E-R,w-R,E+R,C+R,p)}}}},l.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(g,s,t){g.exports=function(c,m){var f=m[0],p=m[1];return new u(c,i(c,f,p,{}),r.mallocUint8(f*p*4))};var i=t(4234),r=t(5306),n=t(5050),o=t(2288).nextPow2;function l(c,m,f,p,v){this.coord=[c,m],this.id=f,this.value=p,this.distance=v}function u(c,m,f){this.gl=c,this.fbo=m,this.buffer=f,this._readTimeout=null;var p=this;this._readCallback=function(){p.gl&&(m.bind(),c.readPixels(0,0,m.shape[0],m.shape[1],c.RGBA,c.UNSIGNED_BYTE,p.buffer),p._readTimeout=null)}}var d=u.prototype;Object.defineProperty(d,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var m=this.fbo.shape[0],f=this.fbo.shape[1];if(f*m*4>this.buffer.length){r.free(this.buffer);for(var p=this.buffer=r.mallocUint8(o(f*m*4)),v=0;v<f*m*4;++v)p[v]=255}return c}}}),d.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},d.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},d.query=function(c,m,f){if(!this.gl)return null;var p=this.fbo.shape.slice();c|=0,m|=0,typeof f!="number"&&(f=1);var v=0|Math.min(Math.max(c-f,0),p[0]),y=0|Math.min(Math.max(c+f,0),p[0]),x=0|Math.min(Math.max(m-f,0),p[1]),_=0|Math.min(Math.max(m+f,0),p[1]);if(y<=v||_<=x)return null;var h=[y-v,_-x],S=n(this.buffer,[h[0],h[1],4],[4,4*p[0],1],4*(v+p[0]*x)),w=function(P,O,R){for(var U=1e8,z=-1,N=-1,W=P.shape[0],F=P.shape[1],V=0;V<W;V++)for(var j=0;j<F;j++){var te=P.get(V,j,0),J=P.get(V,j,1),K=P.get(V,j,2),Z=P.get(V,j,3);if(te<255||J<255||K<255||Z<255){var X=O-V,Q=R-j,re=X*X+Q*Q;re<U&&(U=re,z=V,N=j)}}return[z,N,U]}(S.hi(h[0],h[1],1),f,f),E=w[0],C=w[1];return E<0||Math.pow(this.radius,2)<w[2]?null:new l(E+v|0,C+x|0,S.get(E,C,0),[S.get(E,C,1),S.get(E,C,2),S.get(E,C,3)],Math.sqrt(w[2]))},d.dispose=function(){this.gl&&(this.fbo.dispose(),r.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(g,s,t){var i=t(9016),r=t(4280),n=t(3984),o=t(1628),l=t(2631),u=t(9068);function d(f){this.gl=f,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=d.prototype;function m(f,p){return f.name<p.name?-1:1}c.bind=function(){var f;this.program||this._relink();var p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),v=this.gl.lastAttribCount;if(p>v)for(f=v;f<p;f++)this.gl.enableVertexAttribArray(f);else if(v>p)for(f=p;f<v;f++)this.gl.disableVertexAttribArray(f);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},c.dispose=function(){for(var f=this.gl.lastAttribCount,p=0;p<f;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(f,p,v,y){if(!p||arguments.length===1){var x=f;f=x.vertex,p=x.fragment,v=x.uniforms,y=x.attributes}var _=this,h=_.gl,S=_._vref;_._vref=o.shader(h,h.VERTEX_SHADER,f),S&&S.dispose(),_.vertShader=_._vref.shader;var w=this._fref;if(_._fref=o.shader(h,h.FRAGMENT_SHADER,p),w&&w.dispose(),_.fragShader=_._fref.shader,!v||!y){var E=h.createProgram();if(h.attachShader(E,_.fragShader),h.attachShader(E,_.vertShader),h.linkProgram(E),!h.getProgramParameter(E,h.LINK_STATUS)){var C=h.getProgramInfoLog(E);throw new u(C,"Error linking program:"+C)}v=v||l.uniforms(h,E),y=y||l.attributes(h,E),h.deleteProgram(E)}(y=y.slice()).sort(m);var P,O=[],R=[],U=[];for(P=0;P<y.length;++P){var z=y[P];if(z.type.indexOf("mat")>=0){for(var N=0|z.type.charAt(z.type.length-1),W=new Array(N),F=0;F<N;++F)W[F]=U.length,R.push(z.name+"["+F+"]"),typeof z.location=="number"?U.push(z.location+F):Array.isArray(z.location)&&z.location.length===N&&typeof z.location[F]=="number"?U.push(0|z.location[F]):U.push(-1);O.push({name:z.name,type:z.type,locations:W})}else O.push({name:z.name,type:z.type,locations:[U.length]}),R.push(z.name),typeof z.location=="number"?U.push(0|z.location):U.push(-1)}var V=0;for(P=0;P<U.length;++P)if(U[P]<0){for(;U.indexOf(V)>=0;)V+=1;U[P]=V}var j=new Array(v.length);function te(){_.program=o.program(h,_._vref,_._fref,R,U);for(var J=0;J<v.length;++J)j[J]=h.getUniformLocation(_.program,v[J].name)}te(),_._relink=te,_.types={uniforms:n(v),attributes:n(y)},_.attributes=r(h,_,O,U),Object.defineProperty(_,"uniforms",i(h,_,v,j))},g.exports=function(f,p,v,y,x){var _=new d(f);return _.update(p,v,y,x),_}},9068:function(g){function s(t,i,r){this.shortMessage=i||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(i||t||"")+(r?`
`+r:""),this.stack=new Error().stack}s.prototype=new Error,s.prototype.name="GLError",s.prototype.constructor=s,g.exports=s},4280:function(g,s,t){g.exports=function(d,c,m,f){for(var p={},v=0,y=m.length;v<y;++v){var x=m[v],_=x.name,h=x.type,S=x.locations;switch(h){case"bool":case"int":case"float":l(d,c,S[0],f,1,p,_);break;default:if(h.indexOf("vec")>=0){if((w=h.charCodeAt(h.length-1)-48)<2||w>4)throw new i("","Invalid data type for attribute "+_+": "+h);l(d,c,S[0],f,w,p,_)}else{if(!(h.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+_+": "+h);var w;if((w=h.charCodeAt(h.length-1)-48)<2||w>4)throw new i("","Invalid data type for attribute "+_+": "+h);u(d,c,S,f,w,p,_)}}}return p};var i=t(9068);function r(d,c,m,f,p,v){this._gl=d,this._wrapper=c,this._index=m,this._locations=f,this._dimension=p,this._constFunc=v}var n=r.prototype;n.pointer=function(d,c,m,f){var p=this,v=p._gl,y=p._locations[p._index];v.vertexAttribPointer(y,p._dimension,d||v.FLOAT,!!c,m||0,f||0),v.enableVertexAttribArray(y)},n.set=function(d,c,m,f){return this._constFunc(this._locations[this._index],d,c,m,f)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(d){return d!==this._locations[this._index]&&(this._locations[this._index]=0|d,this._wrapper.program=null),0|d}});var o=[function(d,c,m){return m.length===void 0?d.vertexAttrib1f(c,m):d.vertexAttrib1fv(c,m)},function(d,c,m,f){return m.length===void 0?d.vertexAttrib2f(c,m,f):d.vertexAttrib2fv(c,m)},function(d,c,m,f,p){return m.length===void 0?d.vertexAttrib3f(c,m,f,p):d.vertexAttrib3fv(c,m)},function(d,c,m,f,p,v){return m.length===void 0?d.vertexAttrib4f(c,m,f,p,v):d.vertexAttrib4fv(c,m)}];function l(d,c,m,f,p,v,y){var x=o[p],_=new r(d,c,m,f,p,x);Object.defineProperty(v,y,{set:function(h){return d.disableVertexAttribArray(f[m]),x(d,f[m],h),h},get:function(){return _},enumerable:!0})}function u(d,c,m,f,p,v,y){for(var x=new Array(p),_=new Array(p),h=0;h<p;++h)l(d,c,m[h],f,p,x,h),_[h]=x[h];Object.defineProperty(x,"location",{set:function(E){if(Array.isArray(E))for(var C=0;C<p;++C)_[C].location=E[C];else for(C=0;C<p;++C)_[C].location=E+C;return E},get:function(){for(var E=new Array(p),C=0;C<p;++C)E[C]=f[m[C]];return E},enumerable:!0}),x.pointer=function(E,C,P,O){E=E||d.FLOAT,C=!!C,P=P||p*p,O=O||0;for(var R=0;R<p;++R){var U=f[m[R]];d.vertexAttribPointer(U,p,E,C,P,O+R*p),d.enableVertexAttribArray(U)}};var S=new Array(p),w=d["vertexAttrib"+p+"fv"];Object.defineProperty(v,y,{set:function(E){for(var C=0;C<p;++C){var P=f[m[C]];if(d.disableVertexAttribArray(P),Array.isArray(E[0]))w.call(d,P,E[C]);else{for(var O=0;O<p;++O)S[O]=E[p*C+O];w.call(d,P,S)}}return E},get:function(){return x},enumerable:!0})}},9016:function(g,s,t){var i=t(3984),r=t(9068);function n(l){return function(){return l}}function o(l,u){for(var d=new Array(l),c=0;c<l;++c)d[c]=u;return d}g.exports=function(l,u,d,c){function m(x){return function(_){for(var h=f("",x),S=0;S<h.length;++S){var w=h[S],E=w[0],C=w[1];if(c[C]){var P=_;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var O=E;if(E.indexOf(".")===0&&(O=E.slice(1)),O.indexOf("]")===O.length-1){var R=O.indexOf("["),U=O.slice(0,R),z=O.slice(R+1,O.length-1);P=U?_[U][z]:_[z]}else P=_[O]}var N,W=d[C].type;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(c[C],P);break;case"float":l.uniform1f(c[C],P);break;default:var F=W.indexOf("vec");if(!(0<=F&&F<=1&&W.length===4+F)){if(W.indexOf("mat")===0&&W.length===4){if((N=W.charCodeAt(W.length-1)-48)<2||N>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+W);l["uniformMatrix"+N+"fv"](c[C],!1,P);break}throw new r("","Unknown uniform data type for "+name+": "+W)}if((N=W.charCodeAt(W.length-1)-48)<2||N>4)throw new r("","Invalid data type");switch(W.charAt(0)){case"b":case"i":l["uniform"+N+"iv"](c[C],P);break;case"v":l["uniform"+N+"fv"](c[C],P);break;default:throw new r("","Unrecognized data type for vector "+name+": "+W)}}}}}}function f(x,_){if(typeof _!="object")return[[x,_]];var h=[];for(var S in _){var w=_[S],E=x;parseInt(S)+""===S?E+="["+S+"]":E+="."+S,typeof w=="object"?h.push.apply(h,f(E,w)):h.push([E,w])}return h}function p(x,_,h){if(typeof h=="object"){var S=v(h);Object.defineProperty(x,_,{get:n(S),set:m(h),enumerable:!0,configurable:!1})}else c[h]?Object.defineProperty(x,_,{get:(w=h,function(E,C,P){return E.getUniform(C.program,P[w])}),set:m(h),enumerable:!0,configurable:!1}):x[_]=function(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var C=E.indexOf("vec");if(0<=C&&C<=1&&E.length===4+C){if((P=E.charCodeAt(E.length-1)-48)<2||P>4)throw new r("","Invalid data type");return E.charAt(0)==="b"?o(P,!1):o(P,0)}if(E.indexOf("mat")===0&&E.length===4){var P;if((P=E.charCodeAt(E.length-1)-48)<2||P>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+E);return o(P*P,0)}throw new r("","Unknown uniform data type for "+name+": "+E)}}(d[h].type);var w}function v(x){var _;if(Array.isArray(x)){_=new Array(x.length);for(var h=0;h<x.length;++h)p(_,h,x[h])}else for(var S in _={},x)p(_,S,x[S]);return _}var y=i(d,!0);return{get:n(v(y)),set:m(y),enumerable:!0,configurable:!0}}},3984:function(g){g.exports=function(s,t){for(var i={},r=0;r<s.length;++r)for(var n=s[r].name.split("."),o=i,l=0;l<n.length;++l){var u=n[l].split("[");if(u.length>1){u[0]in o||(o[u[0]]=[]),o=o[u[0]];for(var d=1;d<u.length;++d){var c=parseInt(u[d]);d<u.length-1||l<n.length-1?(c in o||(d<u.length-1?o[c]=[]:o[c]={}),o=o[c]):o[c]=t?r:s[r].type}}else l<n.length-1?(u[0]in o||(o[u[0]]={}),o=o[u[0]]):o[u[0]]=t?r:s[r].type}return i}},2631:function(g,s){s.uniforms=function(n,o){for(var l=n.getProgramParameter(o,n.ACTIVE_UNIFORMS),u=[],d=0;d<l;++d){var c=n.getActiveUniform(o,d);if(c){var m=r(n,c.type);if(c.size>1)for(var f=0;f<c.size;++f)u.push({name:c.name.replace("[0]","["+f+"]"),type:m});else u.push({name:c.name,type:m})}}return u},s.attributes=function(n,o){for(var l=n.getProgramParameter(o,n.ACTIVE_ATTRIBUTES),u=[],d=0;d<l;++d){var c=n.getActiveAttrib(o,d);c&&u.push({name:c.name,type:r(n,c.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function r(n,o){if(!i){var l=Object.keys(t);i={};for(var u=0;u<l.length;++u){var d=l[u];i[n[d]]=t[d]}}return i[o]}},1628:function(g,s,t){s.shader=function(m,f,p){return c(m).getShaderReference(f,p)},s.program=function(m,f,p,v,y){return c(m).getProgram(f,p,v,y)};var i=t(9068),r=t(3530),n=new(typeof WeakMap>"u"?t(4037):WeakMap),o=0;function l(m,f,p,v,y,x,_){this.id=m,this.src=f,this.type=p,this.shader=v,this.count=x,this.programs=[],this.cache=_}function u(m){this.gl=m,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(--this.count==0){for(var m=this.cache,f=m.gl,p=this.programs,v=0,y=p.length;v<y;++v){var x=m.programs[p[v]];x&&(delete m.programs[v],f.deleteProgram(x))}f.deleteShader(this.shader),delete m.shaders[this.type===f.FRAGMENT_SHADER|0][this.src]}};var d=u.prototype;function c(m){var f=n.get(m);return f||(f=new u(m),n.set(m,f)),f}d.getShaderReference=function(m,f){var p=this.gl,v=this.shaders[m===p.FRAGMENT_SHADER|0],y=v[f];if(y&&p.isShader(y.shader))y.count+=1;else{var x=function(_,h,S){var w=_.createShader(h);if(_.shaderSource(w,S),_.compileShader(w),!_.getShaderParameter(w,_.COMPILE_STATUS)){var E=_.getShaderInfoLog(w);try{var C=r(E,S,h)}catch(P){throw console.warn("Failed to format compiler error: "+P),new i(E,`Error compiling shader:
`+E)}throw new i(E,C.short,C.long)}return w}(p,m,f);y=v[f]=new l(o++,f,m,x,[],1,this)}return y},d.getProgram=function(m,f,p,v){var y=[m.id,f.id,p.join(":"),v.join(":")].join("@"),x=this.programs[y];return x&&this.gl.isProgram(x)||(this.programs[y]=x=function(_,h,S,w,E){var C=_.createProgram();_.attachShader(C,h),_.attachShader(C,S);for(var P=0;P<w.length;++P)_.bindAttribLocation(C,E[P],w[P]);if(_.linkProgram(C),!_.getProgramParameter(C,_.LINK_STATUS)){var O=_.getProgramInfoLog(C);throw new i(O,"Error linking program: "+O)}return C}(this.gl,m.shader,f.shader,p,v),m.programs.push(y),f.programs.push(y)),x}},3050:function(g){function s(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}g.exports=function(i,r){var n=new s(i);return n.update(r),i.addOverlay(n),n};var t=s.prototype;t.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(r){return r.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var i=this.enable,r=this.width,n=this.color,o=this.center,l=this.plot,u=l.line,d=l.dataBox,c=l.viewBox;if(u.bind(),d[0]<=o[0]&&o[0]<=d[2]&&d[1]<=o[1]&&o[1]<=d[3]){var m=c[0]+(o[0]-d[0])/(d[2]-d[0])*(c[2]-c[0]),f=c[1]+(o[1]-d[1])/(d[3]-d[1])*(c[3]-c[1]);i[0]&&u.drawLine(m,f,c[0],f,r[0],n[0]),i[1]&&u.drawLine(m,f,m,c[1],r[1],n[1]),i[2]&&u.drawLine(m,f,c[2],f,r[2],n[2]),i[3]&&u.drawLine(m,f,m,c[3],r[3],n[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(g,s,t){var i=t(6832),r=t(5158),n=i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),o=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);g.exports=function(l){return r(l,n,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(g,s,t){var i=t(5827),r=t(2944),n=t(3540);g.exports=function(f,p){var v=[];function y(w,E,C,P,O,R){var U=[w,E,C,0,0,0,1];U[P+3]=1,U[P]=O,v.push.apply(v,U),U[6]=-1,v.push.apply(v,U),U[P]=R,v.push.apply(v,U),v.push.apply(v,U),U[6]=1,v.push.apply(v,U),U[P]=O,v.push.apply(v,U)}y(0,0,0,0,0,1),y(0,0,0,1,0,1),y(0,0,0,2,0,1),y(1,0,0,1,-1,1),y(1,0,0,2,-1,1),y(0,1,0,0,-1,1),y(0,1,0,2,-1,1),y(0,0,1,0,-1,1),y(0,0,1,1,-1,1);var x=i(f,v),_=r(f,[{type:f.FLOAT,buffer:x,size:3,offset:0,stride:28},{type:f.FLOAT,buffer:x,size:3,offset:12,stride:28},{type:f.FLOAT,buffer:x,size:1,offset:24,stride:28}]),h=n(f);h.attributes.position.location=0,h.attributes.color.location=1,h.attributes.weight.location=2;var S=new l(f,x,_,h);return S.update(p),S};var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(f,p,v,y){this.gl=f,this.buffer=p,this.vao=v,this.shader=y,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=l.prototype,d=[0,0,0],c=[0,0,0],m=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(f){},u.draw=function(f){var p=this.gl,v=this.vao,y=this.shader;v.bind(),y.bind();var x,_=f.model||o,h=f.view||o,S=f.projection||o;this.axes&&(x=this.axes.lastCubeProps.axis);for(var w=d,E=c,C=0;C<3;++C)x&&x[C]<0?(w[C]=this.bounds[0][C],E[C]=this.bounds[1][C]):(w[C]=this.bounds[1][C],E[C]=this.bounds[0][C]);for(m[0]=p.drawingBufferWidth,m[1]=p.drawingBufferHeight,y.uniforms.model=_,y.uniforms.view=h,y.uniforms.projection=S,y.uniforms.coordinates=[this.position,w,E],y.uniforms.colors=this.colors,y.uniforms.screenShape=m,C=0;C<3;++C)y.uniforms.lineWidth=this.lineWidth[C]*this.pixelRatio,this.enabled[C]&&(v.draw(p.TRIANGLES,6,6*C),this.drawSides[C]&&v.draw(p.TRIANGLES,12,18+12*C));v.unbind()},u.update=function(f){f&&("bounds"in f&&(this.bounds=f.bounds),"position"in f&&(this.position=f.position),"lineWidth"in f&&(this.lineWidth=f.lineWidth),"colors"in f&&(this.colors=f.colors),"enabled"in f&&(this.enabled=f.enabled),"drawSides"in f&&(this.drawSides=f.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(g,s,t){var i=t(6832),r=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),o=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},s.pickShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(g,s,t){var i=t(2858),r=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],o=function(m,f){var p,v=m.length;for(p=0;p<v;p++){var y=m[p];if(y===f)return p;if(y>f)return p-1}return p},l=function(m,f,p){return m<f?f:m>p?p:m},u=function(m){var f=1/0;m.sort(function(x,_){return x-_});for(var p=m.length,v=1;v<p;v++){var y=Math.abs(m[v]-m[v-1]);y<f&&(f=y)}return f};g.exports=function(m,f){var p=m.startingPositions,v=m.maxLength||1e3,y=m.tubeSize||1,x=m.absoluteTubeSize,_=m.gridFill||"+x+y+z",h={};_.indexOf("-x")!==-1&&(h.reversedX=!0),_.indexOf("-y")!==-1&&(h.reversedY=!0),_.indexOf("-z")!==-1&&(h.reversedZ=!0),h.filled=n.indexOf(_.replace(/-/g,"").replace(/\+/g,""));var S=m.getVelocity||function(me){return function(ge,ke,we){var ue=ke.vectors,oe=ke.meshgrid,he=ge[0],Ee=ge[1],Te=ge[2],Me=oe[0].length,Se=oe[1].length,ze=oe[2].length,fe=o(oe[0],he),xe=o(oe[1],Ee),_e=o(oe[2],Te),Oe=fe+1,De=xe+1,Pe=_e+1;if(fe=l(fe,0,Me-1),Oe=l(Oe,0,Me-1),xe=l(xe,0,Se-1),De=l(De,0,Se-1),_e=l(_e,0,ze-1),Pe=l(Pe,0,ze-1),fe<0||xe<0||_e<0||Oe>Me-1||De>Se-1||Pe>ze-1)return i.create();var Ue,Ve,Xe,it,tt,pt,mt=oe[0][fe],gt=oe[0][Oe],et=oe[1][xe],$e=oe[1][De],_t=oe[2][_e],Pt=(he-mt)/(gt-mt),Ot=(Ee-et)/($e-et),Lt=(Te-_t)/(oe[2][Pe]-_t);switch(isFinite(Pt)||(Pt=.5),isFinite(Ot)||(Ot=.5),isFinite(Lt)||(Lt=.5),we.reversedX&&(fe=Me-1-fe,Oe=Me-1-Oe),we.reversedY&&(xe=Se-1-xe,De=Se-1-De),we.reversedZ&&(_e=ze-1-_e,Pe=ze-1-Pe),we.filled){case 5:tt=_e,pt=Pe,Xe=xe*ze,it=De*ze,Ue=fe*ze*Se,Ve=Oe*ze*Se;break;case 4:tt=_e,pt=Pe,Ue=fe*ze,Ve=Oe*ze,Xe=xe*ze*Me,it=De*ze*Me;break;case 3:Xe=xe,it=De,tt=_e*Se,pt=Pe*Se,Ue=fe*Se*ze,Ve=Oe*Se*ze;break;case 2:Xe=xe,it=De,Ue=fe*Se,Ve=Oe*Se,tt=_e*Se*Me,pt=Pe*Se*Me;break;case 1:Ue=fe,Ve=Oe,tt=_e*Me,pt=Pe*Me,Xe=xe*Me*ze,it=De*Me*ze;break;default:Ue=fe,Ve=Oe,Xe=xe*Me,it=De*Me,tt=_e*Me*Se,pt=Pe*Me*Se}var He=ue[Ue+Xe+tt],We=ue[Ue+Xe+pt],Be=ue[Ue+it+tt],Ge=ue[Ue+it+pt],at=ue[Ve+Xe+tt],nt=ue[Ve+Xe+pt],Re=ue[Ve+it+tt],Fe=ue[Ve+it+pt],rt=i.create(),Ye=i.create(),ct=i.create(),ht=i.create();i.lerp(rt,He,at,Pt),i.lerp(Ye,We,nt,Pt),i.lerp(ct,Be,Re,Pt),i.lerp(ht,Ge,Fe,Pt);var dt=i.create(),ut=i.create();i.lerp(dt,rt,ct,Ot),i.lerp(ut,Ye,ht,Ot);var kt=i.create();return i.lerp(kt,dt,ut,Lt),kt}(me,m,h)},w=m.getDivergence||function(me,ge){var ke=i.create(),we=1e-4;i.add(ke,me,[we,0,0]);var ue=S(ke);i.subtract(ue,ue,ge),i.scale(ue,ue,1/we),i.add(ke,me,[0,we,0]);var oe=S(ke);i.subtract(oe,oe,ge),i.scale(oe,oe,1/we),i.add(ke,me,[0,0,we]);var he=S(ke);return i.subtract(he,he,ge),i.scale(he,he,1/we),i.add(ke,ue,oe),i.add(ke,ke,he),ke},E=[],C=f[0][0],P=f[0][1],O=f[0][2],R=f[1][0],U=f[1][1],z=f[1][2],N=function(me){var ge=me[0],ke=me[1],we=me[2];return!(ge<C||ge>R||ke<P||ke>U||we<O||we>z)},W=10*i.distance(f[0],f[1])/v,F=W*W,V=1,j=0,te=p.length;te>1&&(V=function(me){for(var ge=[],ke=[],we=[],ue={},oe={},he={},Ee=me.length,Te=0;Te<Ee;Te++){var Me=me[Te],Se=Me[0],ze=Me[1],fe=Me[2];ue[Se]||(ge.push(Se),ue[Se]=!0),oe[ze]||(ke.push(ze),oe[ze]=!0),he[fe]||(we.push(fe),he[fe]=!0)}var xe=u(ge),_e=u(ke),Oe=u(we),De=Math.min(xe,_e,Oe);return isFinite(De)?De:1}(p));for(var J=0;J<te;J++){var K=i.create();i.copy(K,p[J]);var Z=[K],X=[],Q=S(K),re=K;X.push(Q);var ae=[],ie=w(K,Q),le=i.length(ie);isFinite(le)&&le>j&&(j=le),ae.push(le),E.push({points:Z,velocities:X,divergences:ae});for(var pe=0;pe<100*v&&Z.length<v&&N(K);){pe++;var de=i.clone(Q),ve=i.squaredLength(de);if(ve===0)break;ve>F&&i.scale(de,de,W/Math.sqrt(ve)),i.add(de,de,K),Q=S(de),i.squaredDistance(re,de)-F>-1e-4*F&&(Z.push(de),re=de,X.push(Q),ie=w(de,Q),le=i.length(ie),isFinite(le)&&le>j&&(j=le),ae.push(le)),K=de}}var be=function(me,ge,ke,we){for(var ue=0,oe=0;oe<me.length;oe++)for(var he=me[oe].velocities,Ee=0;Ee<he.length;Ee++)ue=Math.max(ue,i.length(he[Ee]));var Te=me.map(function(Ue){return function(Ve,Xe,it,tt){for(var pt=Ve.points,mt=Ve.velocities,gt=Ve.divergences,et=[],$e=[],_t=[],Pt=[],Ot=[],Lt=[],He=0,We=0,Be=r.create(),Ge=r.create(),at=0;at<pt.length;at++){var nt=pt[at],Re=mt[at],Fe=gt[at];Xe===0&&(Fe=.05*it),We=i.length(Re)/tt,Be=r.create(),i.copy(Be,Re),Be[3]=Fe;for(var rt=0;rt<8;rt++)Ot[rt]=[nt[0],nt[1],nt[2],rt];if(Pt.length>0)for(rt=0;rt<8;rt++){var Ye=(rt+1)%8;et.push(Pt[rt],Ot[rt],Ot[Ye],Ot[Ye],Pt[Ye],Pt[rt]),_t.push(Ge,Be,Be,Be,Ge,Ge),Lt.push(He,We,We,We,He,He);var ct=et.length;$e.push([ct-6,ct-5,ct-4],[ct-3,ct-2,ct-1])}var ht=Pt;Pt=Ot,Ot=ht;var dt=Ge;Ge=Be,Be=dt;var ut=He;He=We,We=ut}return{positions:et,cells:$e,vectors:_t,vertexIntensity:Lt}}(Ue,ke,we,ue)}),Me=[],Se=[],ze=[],fe=[];for(oe=0;oe<Te.length;oe++){var xe=Te[oe],_e=Me.length;for(Me=Me.concat(xe.positions),ze=ze.concat(xe.vectors),fe=fe.concat(xe.vertexIntensity),Ee=0;Ee<xe.cells.length;Ee++){var Oe=xe.cells[Ee],De=[];Se.push(De);for(var Pe=0;Pe<Oe.length;Pe++)De.push(Oe[Pe]+_e)}}return{positions:Me,cells:Se,vectors:ze,vertexIntensity:fe,colormap:ge}}(E,m.colormap,j,V);return x?be.tubeScale=x:(j===0&&(j=1),be.tubeScale=.5*y*V/j),be};var d=t(9578),c=t(1140).createMesh;g.exports.createTubeMesh=function(m,f){return c(m,f,{shaders:d,traceType:"streamtube"})}},9054:function(g,s,t){var i=t(5158),r=t(6832),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),o=r([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);s.createShader=function(d){var c=i(d,n,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createPickShader=function(d){var c=i(d,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createContourShader=function(d){var c=i(d,l,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},s.createPickContourShader=function(d){var c=i(d,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(g,s,t){g.exports=function(ie){var le=ie.gl,pe=h(le),de=w(le),ve=S(le),be=E(le),me=r(le),ge=n(le,[{buffer:me,size:4,stride:C,offset:0},{buffer:me,size:3,stride:C,offset:16},{buffer:me,size:3,stride:C,offset:28}]),ke=r(le),we=n(le,[{buffer:ke,size:4,stride:20,offset:0},{buffer:ke,size:1,stride:20,offset:16}]),ue=r(le),oe=n(le,[{buffer:ue,size:2,type:le.FLOAT}]),he=o(le,1,z,le.RGBA,le.UNSIGNED_BYTE);he.minFilter=le.LINEAR,he.magFilter=le.LINEAR;var Ee=new N(le,[0,0],[[0,0,0],[0,0,0]],pe,de,me,ge,he,ve,be,ke,we,ue,oe,[0,0,0]),Te={levels:[[],[],[]]};for(var Me in ie)Te[Me]=ie[Me];return Te.colormap=Te.colormap||"jet",Ee.update(Te),Ee};var i=t(2288),r=t(5827),n=t(2944),o=t(8931),l=t(5306),u=t(9156),d=t(7498),c=t(7382),m=t(5050),f=t(4162),p=t(104),v=t(7437),y=t(5070),x=t(9144),_=t(9054),h=_.createShader,S=_.createContourShader,w=_.createPickShader,E=_.createPickContourShader,C=40,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],O=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],R=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function U(ie,le,pe,de,ve){this.position=ie,this.index=le,this.uv=pe,this.level=de,this.dataCoordinate=ve}(function(){for(var ie=0;ie<3;++ie){var le=R[ie],pe=(ie+2)%3;le[(ie+1)%3+0]=1,le[pe+3]=1,le[ie+6]=1}})();var z=256;function N(ie,le,pe,de,ve,be,me,ge,ke,we,ue,oe,he,Ee,Te){this.gl=ie,this.shape=le,this.bounds=pe,this.objectOffset=Te,this.intensityBounds=[],this._shader=de,this._pickShader=ve,this._coordinateBuffer=be,this._vao=me,this._colorMap=ge,this._contourShader=ke,this._contourPickShader=we,this._contourBuffer=ue,this._contourVAO=oe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new U([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=he,this._dynamicVAO=Ee,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[m(l.mallocFloat(1024),[0,0]),m(l.mallocFloat(1024),[0,0]),m(l.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var W=N.prototype;W.genColormap=function(ie,le){var pe=!1,de=c([u({colormap:ie,nshades:z,format:"rgba"}).map(function(ve,be){var me=le?function(ge,ke){if(!ke||!ke.length)return 1;for(var we=0;we<ke.length;++we){if(ke.length<2)return 1;if(ke[we][0]===ge)return ke[we][1];if(ke[we][0]>ge&&we>0){var ue=(ke[we][0]-ge)/(ke[we][0]-ke[we-1][0]);return ke[we][1]*(1-ue)+ue*ke[we-1][1]}}return 1}(be/255,le):ve[3];return me<1&&(pe=!0),[ve[0],ve[1],ve[2],255*me]})]);return d.divseq(de,255),this.hasAlphaScale=pe,de},W.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},W.isOpaque=function(){return!this.isTransparent()},W.pickSlots=1,W.setPickBase=function(ie){this.pickId=ie};var F=[0,0,0],V={showSurface:!1,showContour:!1,projections:[P.slice(),P.slice(),P.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function j(ie,le){var pe,de,ve,be=le.axes&&le.axes.lastCubeProps.axis||F,me=le.showSurface,ge=le.showContour;for(pe=0;pe<3;++pe)for(me=me||le.surfaceProject[pe],de=0;de<3;++de)ge=ge||le.contourProject[pe][de];for(pe=0;pe<3;++pe){var ke=V.projections[pe];for(de=0;de<16;++de)ke[de]=0;for(de=0;de<4;++de)ke[5*de]=1;ke[5*pe]=0,ke[12+pe]=le.axesBounds[+(be[pe]>0)][pe],p(ke,ie.model,ke);var we=V.clipBounds[pe];for(ve=0;ve<2;++ve)for(de=0;de<3;++de)we[ve][de]=ie.clipBounds[ve][de];we[0][pe]=-1e8,we[1][pe]=1e8}return V.showSurface=me,V.showContour=ge,V}var te={model:P,view:P,projection:P,inverseModel:P.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},J=P.slice(),K=[1,0,0,0,1,0,0,0,1];function Z(ie,le){ie=ie||{};var pe=this.gl;pe.disable(pe.CULL_FACE),this._colorMap.bind(0);var de=te;de.model=ie.model||P,de.view=ie.view||P,de.projection=ie.projection||P,de.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],de.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],de.objectOffset=this.objectOffset,de.contourColor=this.contourColor[0],de.inverseModel=v(de.inverseModel,de.model);for(var ve=0;ve<2;++ve)for(var be=de.clipBounds[ve],me=0;me<3;++me)be[me]=Math.min(Math.max(this.clipBounds[ve][me],-1e8),1e8);de.kambient=this.ambientLight,de.kdiffuse=this.diffuseLight,de.kspecular=this.specularLight,de.roughness=this.roughness,de.fresnel=this.fresnel,de.opacity=this.opacity,de.height=0,de.permutation=K,de.vertexColor=this.vertexColor;var ge=J;for(p(ge,de.view,de.model),p(ge,de.projection,ge),v(ge,ge),ve=0;ve<3;++ve)de.eyePosition[ve]=ge[12+ve]/ge[15];var ke=ge[15];for(ve=0;ve<3;++ve)ke+=this.lightPosition[ve]*ge[4*ve+3];for(ve=0;ve<3;++ve){var we=ge[12+ve];for(me=0;me<3;++me)we+=ge[4*me+ve]*this.lightPosition[me];de.lightPosition[ve]=we/ke}var ue=j(de,this);if(ue.showSurface){for(this._shader.bind(),this._shader.uniforms=de,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(pe.TRIANGLES,this._vertexCount),ve=0;ve<3;++ve)this.surfaceProject[ve]&&this.vertexCount&&(this._shader.uniforms.model=ue.projections[ve],this._shader.uniforms.clipBounds=ue.clipBounds[ve],this._vao.draw(pe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ue.showContour){var oe=this._contourShader;de.kambient=1,de.kdiffuse=0,de.kspecular=0,de.opacity=1,oe.bind(),oe.uniforms=de;var he=this._contourVAO;for(he.bind(),ve=0;ve<3;++ve)for(oe.uniforms.permutation=R[ve],pe.lineWidth(this.contourWidth[ve]*this.pixelRatio),me=0;me<this.contourLevels[ve].length;++me)me===this.highlightLevel[ve]?(oe.uniforms.contourColor=this.highlightColor[ve],oe.uniforms.contourTint=this.highlightTint[ve]):me!==0&&me-1!==this.highlightLevel[ve]||(oe.uniforms.contourColor=this.contourColor[ve],oe.uniforms.contourTint=this.contourTint[ve]),this._contourCounts[ve][me]&&(oe.uniforms.height=this.contourLevels[ve][me],he.draw(pe.LINES,this._contourCounts[ve][me],this._contourOffsets[ve][me]));for(ve=0;ve<3;++ve)for(oe.uniforms.model=ue.projections[ve],oe.uniforms.clipBounds=ue.clipBounds[ve],me=0;me<3;++me)if(this.contourProject[ve][me]){oe.uniforms.permutation=R[me],pe.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var Ee=0;Ee<this.contourLevels[me].length;++Ee)Ee===this.highlightLevel[me]?(oe.uniforms.contourColor=this.highlightColor[me],oe.uniforms.contourTint=this.highlightTint[me]):Ee!==0&&Ee-1!==this.highlightLevel[me]||(oe.uniforms.contourColor=this.contourColor[me],oe.uniforms.contourTint=this.contourTint[me]),this._contourCounts[me][Ee]&&(oe.uniforms.height=this.contourLevels[me][Ee],he.draw(pe.LINES,this._contourCounts[me][Ee],this._contourOffsets[me][Ee]))}for(he.unbind(),(he=this._dynamicVAO).bind(),ve=0;ve<3;++ve)if(this._dynamicCounts[ve]!==0)for(oe.uniforms.model=de.model,oe.uniforms.clipBounds=de.clipBounds,oe.uniforms.permutation=R[ve],pe.lineWidth(this.dynamicWidth[ve]*this.pixelRatio),oe.uniforms.contourColor=this.dynamicColor[ve],oe.uniforms.contourTint=this.dynamicTint[ve],oe.uniforms.height=this.dynamicLevel[ve],he.draw(pe.LINES,this._dynamicCounts[ve],this._dynamicOffsets[ve]),me=0;me<3;++me)this.contourProject[me][ve]&&(oe.uniforms.model=ue.projections[me],oe.uniforms.clipBounds=ue.clipBounds[me],he.draw(pe.LINES,this._dynamicCounts[ve],this._dynamicOffsets[ve]));he.unbind()}}W.draw=function(ie){return Z.call(this,ie,!1)},W.drawTransparent=function(ie){return Z.call(this,ie,!0)};var X={model:P,view:P,projection:P,inverseModel:P,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function Q(ie,le){return Array.isArray(ie)?[le(ie[0]),le(ie[1]),le(ie[2])]:[le(ie),le(ie),le(ie)]}function re(ie){return Array.isArray(ie)?ie.length===3?[ie[0],ie[1],ie[2],1]:[ie[0],ie[1],ie[2],ie[3]]:[0,0,0,1]}function ae(ie){if(Array.isArray(ie)){if(Array.isArray(ie))return[re(ie[0]),re(ie[1]),re(ie[2])];var le=re(ie);return[le.slice(),le.slice(),le.slice()]}}W.drawPick=function(ie){ie=ie||{};var le=this.gl;le.disable(le.CULL_FACE);var pe=X;pe.model=ie.model||P,pe.view=ie.view||P,pe.projection=ie.projection||P,pe.shape=this._field[2].shape,pe.pickId=this.pickId/255,pe.lowerBound=this.bounds[0],pe.upperBound=this.bounds[1],pe.objectOffset=this.objectOffset,pe.permutation=K;for(var de=0;de<2;++de)for(var ve=pe.clipBounds[de],be=0;be<3;++be)ve[be]=Math.min(Math.max(this.clipBounds[de][be],-1e8),1e8);var me=j(pe,this);if(me.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=pe,this._vao.bind(),this._vao.draw(le.TRIANGLES,this._vertexCount),de=0;de<3;++de)this.surfaceProject[de]&&(this._pickShader.uniforms.model=me.projections[de],this._pickShader.uniforms.clipBounds=me.clipBounds[de],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(me.showContour){var ge=this._contourPickShader;ge.bind(),ge.uniforms=pe;var ke=this._contourVAO;for(ke.bind(),be=0;be<3;++be)for(le.lineWidth(this.contourWidth[be]*this.pixelRatio),ge.uniforms.permutation=R[be],de=0;de<this.contourLevels[be].length;++de)this._contourCounts[be][de]&&(ge.uniforms.height=this.contourLevels[be][de],ke.draw(le.LINES,this._contourCounts[be][de],this._contourOffsets[be][de]));for(de=0;de<3;++de)for(ge.uniforms.model=me.projections[de],ge.uniforms.clipBounds=me.clipBounds[de],be=0;be<3;++be)if(this.contourProject[de][be]){ge.uniforms.permutation=R[be],le.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var we=0;we<this.contourLevels[be].length;++we)this._contourCounts[be][we]&&(ge.uniforms.height=this.contourLevels[be][we],ke.draw(le.LINES,this._contourCounts[be][we],this._contourOffsets[be][we]))}ke.unbind()}},W.pick=function(ie){if(!ie||ie.id!==this.pickId)return null;var le=this._field[2].shape,pe=this._pickResult,de=le[0]*(ie.value[0]+(ie.value[2]>>4)/16)/255,ve=Math.floor(de),be=de-ve,me=le[1]*(ie.value[1]+(15&ie.value[2])/16)/255,ge=Math.floor(me),ke=me-ge;ve+=1,ge+=1;var we=pe.position;we[0]=we[1]=we[2]=0;for(var ue=0;ue<2;++ue)for(var oe=ue?be:1-be,he=0;he<2;++he)for(var Ee=ve+ue,Te=ge+he,Me=oe*(he?ke:1-ke),Se=0;Se<3;++Se)we[Se]+=this._field[Se].get(Ee,Te)*Me;for(var ze=this._pickResult.level,fe=0;fe<3;++fe)if(ze[fe]=y.le(this.contourLevels[fe],we[fe]),ze[fe]<0)this.contourLevels[fe].length>0&&(ze[fe]=0);else if(ze[fe]<this.contourLevels[fe].length-1){var xe=this.contourLevels[fe][ze[fe]],_e=this.contourLevels[fe][ze[fe]+1];Math.abs(xe-we[fe])>Math.abs(_e-we[fe])&&(ze[fe]+=1)}for(pe.index[0]=be<.5?ve:ve+1,pe.index[1]=ke<.5?ge:ge+1,pe.uv[0]=de/le[0],pe.uv[1]=me/le[1],Se=0;Se<3;++Se)pe.dataCoordinate[Se]=this._field[Se].get(pe.index[0],pe.index[1]);return pe},W.padField=function(ie,le){var pe=le.shape.slice(),de=ie.shape.slice();d.assign(ie.lo(1,1).hi(pe[0],pe[1]),le),d.assign(ie.lo(1).hi(pe[0],1),le.hi(pe[0],1)),d.assign(ie.lo(1,de[1]-1).hi(pe[0],1),le.lo(0,pe[1]-1).hi(pe[0],1)),d.assign(ie.lo(0,1).hi(1,pe[1]),le.hi(1)),d.assign(ie.lo(de[0]-1,1).hi(1,pe[1]),le.lo(pe[0]-1)),ie.set(0,0,le.get(0,0)),ie.set(0,de[1]-1,le.get(0,pe[1]-1)),ie.set(de[0]-1,0,le.get(pe[0]-1,0)),ie.set(de[0]-1,de[1]-1,le.get(pe[0]-1,pe[1]-1))},W.update=function(ie){ie=ie||{},this.objectOffset=ie.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ie&&(this.contourWidth=Q(ie.contourWidth,Number)),"showContour"in ie&&(this.showContour=Q(ie.showContour,Boolean)),"showSurface"in ie&&(this.showSurface=!!ie.showSurface),"contourTint"in ie&&(this.contourTint=Q(ie.contourTint,Boolean)),"contourColor"in ie&&(this.contourColor=ae(ie.contourColor)),"contourProject"in ie&&(this.contourProject=Q(ie.contourProject,function(rn){return Q(rn,Boolean)})),"surfaceProject"in ie&&(this.surfaceProject=ie.surfaceProject),"dynamicColor"in ie&&(this.dynamicColor=ae(ie.dynamicColor)),"dynamicTint"in ie&&(this.dynamicTint=Q(ie.dynamicTint,Number)),"dynamicWidth"in ie&&(this.dynamicWidth=Q(ie.dynamicWidth,Number)),"opacity"in ie&&(this.opacity=ie.opacity),"opacityscale"in ie&&(this.opacityscale=ie.opacityscale),"colorBounds"in ie&&(this.colorBounds=ie.colorBounds),"vertexColor"in ie&&(this.vertexColor=ie.vertexColor?1:0),"colormap"in ie&&this._colorMap.setPixels(this.genColormap(ie.colormap,this.opacityscale));var le=ie.field||ie.coords&&ie.coords[2]||null,pe=!1;if(le||(le=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in ie||"coords"in ie){var de=(le.shape[0]+2)*(le.shape[1]+2);de>this._field[2].data.length&&(l.freeFloat(this._field[2].data),this._field[2].data=l.mallocFloat(i.nextPow2(de))),this._field[2]=m(this._field[2].data,[le.shape[0]+2,le.shape[1]+2]),this.padField(this._field[2],le),this.shape=le.shape.slice();for(var ve=this.shape,be=0;be<2;++be)this._field[2].size>this._field[be].data.length&&(l.freeFloat(this._field[be].data),this._field[be].data=l.mallocFloat(this._field[2].size)),this._field[be]=m(this._field[be].data,[ve[0]+2,ve[1]+2]);if(ie.coords){var me=ie.coords;if(!Array.isArray(me)||me.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(be=0;be<2;++be){var ge=me[be];for(he=0;he<2;++he)if(ge.shape[he]!==ve[he])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[be],ge)}}else if(ie.ticks){var ke=ie.ticks;if(!Array.isArray(ke)||ke.length!==2)throw new Error("gl-surface: invalid ticks");for(be=0;be<2;++be){var we=ke[be];if((Array.isArray(we)||we.length)&&(we=m(we)),we.shape[0]!==ve[be])throw new Error("gl-surface: invalid tick length");var ue=m(we.data,ve);ue.stride[be]=we.stride[0],ue.stride[1^be]=0,this.padField(this._field[be],ue)}}else{for(be=0;be<2;++be){var oe=[0,0];oe[be]=1,this._field[be]=m(this._field[be].data,[ve[0]+2,ve[1]+2],oe,0)}this._field[0].set(0,0,0);for(var he=0;he<ve[0];++he)this._field[0].set(he+1,0,he);for(this._field[0].set(ve[0]+1,0,ve[0]-1),this._field[1].set(0,0,0),he=0;he<ve[1];++he)this._field[1].set(0,he+1,he);this._field[1].set(0,ve[1]+1,ve[1]-1)}var Ee=this._field,Te=m(l.mallocFloat(3*Ee[2].size*2),[3,ve[0]+2,ve[1]+2,2]);for(be=0;be<3;++be)x(Te.pick(be),Ee[be],"mirror");var Me=m(l.mallocFloat(3*Ee[2].size),[ve[0]+2,ve[1]+2,3]);for(be=0;be<ve[0]+2;++be)for(he=0;he<ve[1]+2;++he){var Se=Te.get(0,be,he,0),ze=Te.get(0,be,he,1),fe=Te.get(1,be,he,0),xe=Te.get(1,be,he,1),_e=Te.get(2,be,he,0),Oe=Te.get(2,be,he,1),De=fe*Oe-xe*_e,Pe=_e*ze-Oe*Se,Ue=Se*xe-ze*fe,Ve=Math.sqrt(De*De+Pe*Pe+Ue*Ue);Ve<1e-8?(Ve=Math.max(Math.abs(De),Math.abs(Pe),Math.abs(Ue)))<1e-8?(Ue=1,Pe=De=0,Ve=1):Ve=1/Ve:Ve=1/Math.sqrt(Ve),Me.set(be,he,0,De*Ve),Me.set(be,he,1,Pe*Ve),Me.set(be,he,2,Ue*Ve)}l.free(Te.data);var Xe=[1/0,1/0,1/0],it=[-1/0,-1/0,-1/0],tt=1/0,pt=-1/0,mt=(ve[0]-1)*(ve[1]-1)*6,gt=l.mallocFloat(i.nextPow2(10*mt)),et=0,$e=0;for(be=0;be<ve[0]-1;++be)e:for(he=0;he<ve[1]-1;++he){for(var _t=0;_t<2;++_t)for(var Pt=0;Pt<2;++Pt)for(var Ot=0;Ot<3;++Ot){var Lt=this._field[Ot].get(1+be+_t,1+he+Pt);if(isNaN(Lt)||!isFinite(Lt))continue e}for(Ot=0;Ot<6;++Ot){var He=be+O[Ot][0],We=he+O[Ot][1],Be=this._field[0].get(He+1,We+1),Ge=this._field[1].get(He+1,We+1);Lt=this._field[2].get(He+1,We+1),De=Me.get(He+1,We+1,0),Pe=Me.get(He+1,We+1,1),Ue=Me.get(He+1,We+1,2),ie.intensity&&(at=ie.intensity.get(He,We));var at=ie.intensity?ie.intensity.get(He,We):Lt+this.objectOffset[2];gt[et++]=He,gt[et++]=We,gt[et++]=Be,gt[et++]=Ge,gt[et++]=Lt,gt[et++]=0,gt[et++]=at,gt[et++]=De,gt[et++]=Pe,gt[et++]=Ue,Xe[0]=Math.min(Xe[0],Be+this.objectOffset[0]),Xe[1]=Math.min(Xe[1],Ge+this.objectOffset[1]),Xe[2]=Math.min(Xe[2],Lt+this.objectOffset[2]),tt=Math.min(tt,at),it[0]=Math.max(it[0],Be+this.objectOffset[0]),it[1]=Math.max(it[1],Ge+this.objectOffset[1]),it[2]=Math.max(it[2],Lt+this.objectOffset[2]),pt=Math.max(pt,at),$e+=1}}for(ie.intensityBounds&&(tt=+ie.intensityBounds[0],pt=+ie.intensityBounds[1]),be=6;be<et;be+=10)gt[be]=(gt[be]-tt)/(pt-tt);this._vertexCount=$e,this._coordinateBuffer.update(gt.subarray(0,et)),l.freeFloat(gt),l.free(Me.data),this.bounds=[Xe,it],this.intensity=ie.intensity||this._field[2],this.intensityBounds[0]===tt&&this.intensityBounds[1]===pt||(pe=!0),this.intensityBounds=[tt,pt]}if("levels"in ie){var nt=ie.levels;for(nt=Array.isArray(nt[0])?nt.slice():[[],[],nt],be=0;be<3;++be)nt[be]=nt[be].slice(),nt[be].sort(function(rn,$t){return rn-$t});for(be=0;be<3;++be)for(he=0;he<nt[be].length;++he)nt[be][he]-=this.objectOffset[be];e:for(be=0;be<3;++be){if(nt[be].length!==this.contourLevels[be].length){pe=!0;break}for(he=0;he<nt[be].length;++he)if(nt[be][he]!==this.contourLevels[be][he]){pe=!0;break e}}this.contourLevels=nt}if(pe){Ee=this._field,ve=this.shape;for(var Re=[],Fe=0;Fe<3;++Fe){var rt=this.contourLevels[Fe],Ye=[],ct=[],ht=[0,0,0];for(be=0;be<rt.length;++be){var dt=f(this._field[Fe],rt[be]);Ye.push(Re.length/5|0),$e=0;e:for(he=0;he<dt.cells.length;++he){var ut=dt.cells[he];for(Ot=0;Ot<2;++Ot){var kt=dt.positions[ut[Ot]],xt=kt[0],vt=0|Math.floor(xt),Mt=xt-vt,St=kt[1],It=0|Math.floor(St),Gt=St-It,en=!1;t:for(var Nt=0;Nt<3;++Nt){ht[Nt]=0;var jt=(Fe+Nt+1)%3;for(_t=0;_t<2;++_t){var Jt=_t?Mt:1-Mt;for(He=0|Math.min(Math.max(vt+_t,0),ve[0]),Pt=0;Pt<2;++Pt){var An=Pt?Gt:1-Gt;if(We=0|Math.min(Math.max(It+Pt,0),ve[1]),Lt=Nt<2?this._field[jt].get(He,We):(this.intensity.get(He,We)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Lt)||isNaN(Lt)){en=!0;break t}var _n=Jt*An;ht[Nt]+=_n*Lt}}}if(en){if(Ot>0){for(var un=0;un<5;++un)Re.pop();$e-=1}continue e}Re.push(ht[0],ht[1],kt[0],kt[1],ht[2]),$e+=1}}ct.push($e)}this._contourOffsets[Fe]=Ye,this._contourCounts[Fe]=ct}var Wt=l.mallocFloat(Re.length);for(be=0;be<Re.length;++be)Wt[be]=Re[be];this._contourBuffer.update(Wt),l.freeFloat(Wt)}},W.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ie=0;ie<3;++ie)l.freeFloat(this._field[ie].data)},W.highlight=function(ie){var le,pe;if(!ie)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(le=0;le<3;++le)this.enableHighlight[le]?this.highlightLevel[le]=ie.level[le]:this.highlightLevel[le]=-1;for(pe=this.snapToData?ie.dataCoordinate:ie.position,le=0;le<3;++le)pe[le]-=this.objectOffset[le];if(this.enableDynamic[0]&&pe[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&pe[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&pe[2]!==this.dynamicLevel[2]){for(var de=0,ve=this.shape,be=l.mallocFloat(12*ve[0]*ve[1]),me=0;me<3;++me)if(this.enableDynamic[me]){this.dynamicLevel[me]=pe[me];var ge=(me+1)%3,ke=(me+2)%3,we=this._field[me],ue=this._field[ge],oe=this._field[ke],he=f(we,pe[me]),Ee=he.cells,Te=he.positions;for(this._dynamicOffsets[me]=de,le=0;le<Ee.length;++le)for(var Me=Ee[le],Se=0;Se<2;++Se){var ze=Te[Me[Se]],fe=+ze[0],xe=0|fe,_e=0|Math.min(xe+1,ve[0]),Oe=fe-xe,De=1-Oe,Pe=+ze[1],Ue=0|Pe,Ve=0|Math.min(Ue+1,ve[1]),Xe=Pe-Ue,it=1-Xe,tt=De*it,pt=De*Xe,mt=Oe*it,gt=Oe*Xe,et=tt*ue.get(xe,Ue)+pt*ue.get(xe,Ve)+mt*ue.get(_e,Ue)+gt*ue.get(_e,Ve),$e=tt*oe.get(xe,Ue)+pt*oe.get(xe,Ve)+mt*oe.get(_e,Ue)+gt*oe.get(_e,Ve);if(isNaN(et)||isNaN($e)){Se&&(de-=1);break}be[2*de+0]=et,be[2*de+1]=$e,de+=1}this._dynamicCounts[me]=de-this._dynamicOffsets[me]}else this.dynamicLevel[me]=NaN,this._dynamicCounts[me]=0;this._dynamicBuffer.update(be.subarray(0,2*de)),l.freeFloat(be)}}},8931:function(g,s,t){var i=t(5050),r=t(7498),n=t(5306);g.exports=function(_){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(o||function(w){o=[w.LINEAR,w.NEAREST_MIPMAP_LINEAR,w.LINEAR_MIPMAP_NEAREST,w.LINEAR_MIPMAP_NEAREST],l=[w.NEAREST,w.LINEAR,w.NEAREST_MIPMAP_NEAREST,w.NEAREST_MIPMAP_LINEAR,w.LINEAR_MIPMAP_NEAREST,w.LINEAR_MIPMAP_LINEAR],u=[w.REPEAT,w.CLAMP_TO_EDGE,w.MIRRORED_REPEAT]}(_),typeof arguments[1]=="number")return x(_,arguments[1],arguments[2],arguments[3]||_.RGBA,arguments[4]||_.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(_,0|arguments[1][0],0|arguments[1][1],arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var h=arguments[1],S=d(h)?h:h.raw;if(S)return function(w,E,C,P,O,R){var U=y(w);return w.texImage2D(w.TEXTURE_2D,0,O,O,R,E),new f(w,U,C,P,O,R)}(_,S,0|h.width,0|h.height,arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(h.shape&&h.data&&h.stride)return function(w,E){var C=E.dtype,P=E.shape.slice(),O=w.getParameter(w.MAX_TEXTURE_SIZE);if(P[0]<0||P[0]>O||P[1]<0||P[1]>O)throw new Error("gl-texture2d: Invalid texture size");var R=v(P,E.stride.slice()),U=0;C==="float32"?U=w.FLOAT:C==="float64"?(U=w.FLOAT,R=!1,C="float32"):C==="uint8"?U=w.UNSIGNED_BYTE:(U=w.UNSIGNED_BYTE,R=!1,C="uint8");var z,N,W=0;if(P.length===2)W=w.LUMINANCE,P=[P[0],P[1],1],E=i(E.data,P,[E.stride[0],E.stride[1],1],E.offset);else{if(P.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(P[2]===1)W=w.ALPHA;else if(P[2]===2)W=w.LUMINANCE_ALPHA;else if(P[2]===3)W=w.RGB;else{if(P[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");W=w.RGBA}}U!==w.FLOAT||w.getExtension("OES_texture_float")||(U=w.UNSIGNED_BYTE,R=!1);var F=E.size;if(R)z=E.offset===0&&E.data.length===F?E.data:E.data.subarray(E.offset,E.offset+F);else{var V=[P[2],P[2]*P[0],1];N=n.malloc(F,C);var j=i(N,P,V,0);C!=="float32"&&C!=="float64"||U!==w.UNSIGNED_BYTE?r.assign(j,E):c(j,E),z=N.subarray(0,F)}var te=y(w);return w.texImage2D(w.TEXTURE_2D,0,W,P[0],P[1],0,W,U,z),R||n.free(N),new f(w,te,P[0],P[1],W,U)}(_,h)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var o=null,l=null,u=null;function d(_){return typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&_ instanceof HTMLVideoElement||typeof ImageData<"u"&&_ instanceof ImageData}var c=function(_,h){r.muls(_,h,255)};function m(_,h,S){var w=_.gl,E=w.getParameter(w.MAX_TEXTURE_SIZE);if(h<0||h>E||S<0||S>E)throw new Error("gl-texture2d: Invalid texture size");return _._shape=[h,S],_.bind(),w.texImage2D(w.TEXTURE_2D,0,_.format,h,S,0,_.format,_.type,null),_._mipLevels=[0],_}function f(_,h,S,w,E,C){this.gl=_,this.handle=h,this.format=E,this.type=C,this._shape=[S,w],this._mipLevels=[0],this._magFilter=_.NEAREST,this._minFilter=_.NEAREST,this._wrapS=_.CLAMP_TO_EDGE,this._wrapT=_.CLAMP_TO_EDGE,this._anisoSamples=1;var P=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return P._wrapS},set:function(U){return P.wrapS=U}},{get:function(){return P._wrapT},set:function(U){return P.wrapT=U}}]),this._wrapVector=O;var R=[this._shape[0],this._shape[1]];Object.defineProperties(R,[{get:function(){return P._shape[0]},set:function(U){return P.width=U}},{get:function(){return P._shape[1]},set:function(U){return P.height=U}}]),this._shapeVector=R}var p=f.prototype;function v(_,h){return _.length===3?h[2]===1&&h[1]===_[0]*_[2]&&h[0]===_[2]:h[0]===1&&h[1]===_[0]}function y(_){var h=_.createTexture();return _.bindTexture(_.TEXTURE_2D,h),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),h}function x(_,h,S,w,E){var C=_.getParameter(_.MAX_TEXTURE_SIZE);if(h<0||h>C||S<0||S>C)throw new Error("gl-texture2d: Invalid texture shape");if(E===_.FLOAT&&!_.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var P=y(_);return _.texImage2D(_.TEXTURE_2D,0,w,h,S,0,w,E,null),new f(_,P,h,S,w,E)}Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(_){this.bind();var h=this.gl;if(this.type===h.FLOAT&&o.indexOf(_)>=0&&(h.getExtension("OES_texture_float_linear")||(_=h.NEAREST)),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,_),this._minFilter=_}},magFilter:{get:function(){return this._magFilter},set:function(_){this.bind();var h=this.gl;if(this.type===h.FLOAT&&o.indexOf(_)>=0&&(h.getExtension("OES_texture_float_linear")||(_=h.NEAREST)),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,_),this._magFilter=_}},mipSamples:{get:function(){return this._anisoSamples},set:function(_){var h=this._anisoSamples;if(this._anisoSamples=0|Math.max(_,1),h!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,_),this._wrapS=_}},wrapT:{get:function(){return this._wrapT},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,_),this._wrapT=_}},wrap:{get:function(){return this._wrapVector},set:function(_){if(Array.isArray(_)||(_=[_,_]),_.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var h=0;h<2;++h)if(u.indexOf(_[h])<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);this._wrapS=_[0],this._wrapT=_[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),_}},shape:{get:function(){return this._shapeVector},set:function(_){if(Array.isArray(_)){if(_.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else _=[0|_,0|_];return m(this,0|_[0],0|_[1]),[0|_[0],0|_[1]]}},width:{get:function(){return this._shape[0]},set:function(_){return m(this,_|=0,this._shape[1]),_}},height:{get:function(){return this._shape[1]},set:function(_){return _|=0,m(this,this._shape[0],_),_}}}),p.bind=function(_){var h=this.gl;return _!==void 0&&h.activeTexture(h.TEXTURE0+(0|_)),h.bindTexture(h.TEXTURE_2D,this.handle),_!==void 0?0|_:h.getParameter(h.ACTIVE_TEXTURE)-h.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var _=Math.min(this._shape[0],this._shape[1]),h=0;_>0;++h,_>>>=1)this._mipLevels.indexOf(h)<0&&this._mipLevels.push(h)},p.setPixels=function(_,h,S,w){var E=this.gl;this.bind(),Array.isArray(h)?(w=S,S=0|h[1],h=0|h[0]):(h=h||0,S=S||0),w=w||0;var C=d(_)?_:_.raw;if(C)this._mipLevels.indexOf(w)<0?(E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,this.type,C),this._mipLevels.push(w)):E.texSubImage2D(E.TEXTURE_2D,w,h,S,this.format,this.type,C);else{if(!(_.shape&&_.stride&&_.data))throw new Error("gl-texture2d: Unsupported data type");if(_.shape.length<2||h+_.shape[1]>this._shape[1]>>>w||S+_.shape[0]>this._shape[0]>>>w||h<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(P,O,R,U,z,N,W,F){var V=F.dtype,j=F.shape.slice();if(j.length<2||j.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var te=0,J=0,K=v(j,F.stride.slice());if(V==="float32"?te=P.FLOAT:V==="float64"?(te=P.FLOAT,K=!1,V="float32"):V==="uint8"?te=P.UNSIGNED_BYTE:(te=P.UNSIGNED_BYTE,K=!1,V="uint8"),j.length===2)J=P.LUMINANCE,j=[j[0],j[1],1],F=i(F.data,j,[F.stride[0],F.stride[1],1],F.offset);else{if(j.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(j[2]===1)J=P.ALPHA;else if(j[2]===2)J=P.LUMINANCE_ALPHA;else if(j[2]===3)J=P.RGB;else{if(j[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");J=P.RGBA}j[2]}if(J!==P.LUMINANCE&&J!==P.ALPHA||z!==P.LUMINANCE&&z!==P.ALPHA||(J=z),J!==z)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var Z=F.size,X=W.indexOf(U)<0;if(X&&W.push(U),te===N&&K)F.offset===0&&F.data.length===Z?X?P.texImage2D(P.TEXTURE_2D,U,z,j[0],j[1],0,z,N,F.data):P.texSubImage2D(P.TEXTURE_2D,U,O,R,j[0],j[1],z,N,F.data):X?P.texImage2D(P.TEXTURE_2D,U,z,j[0],j[1],0,z,N,F.data.subarray(F.offset,F.offset+Z)):P.texSubImage2D(P.TEXTURE_2D,U,O,R,j[0],j[1],z,N,F.data.subarray(F.offset,F.offset+Z));else{var Q;Q=N===P.FLOAT?n.mallocFloat32(Z):n.mallocUint8(Z);var re=i(Q,j,[j[2],j[2]*j[0],1]);te===P.FLOAT&&N===P.UNSIGNED_BYTE?c(re,F):r.assign(re,F),X?P.texImage2D(P.TEXTURE_2D,U,z,j[0],j[1],0,z,N,Q.subarray(0,Z)):P.texSubImage2D(P.TEXTURE_2D,U,O,R,j[0],j[1],z,N,Q.subarray(0,Z)),N===P.FLOAT?n.freeFloat32(Q):n.freeUint8(Q)}})(E,h,S,w,this.format,this.type,this._mipLevels,_)}}},3056:function(g){g.exports=function(s,t,i){t?t.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var r=0|s.getParameter(s.MAX_VERTEX_ATTRIBS);if(i){if(i.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var n=0;n<i.length;++n){var o=i[n];if(o.buffer){var l=o.buffer,u=o.size||4,d=o.type||s.FLOAT,c=!!o.normalized,m=o.stride||0,f=o.offset||0;l.bind(),s.enableVertexAttribArray(n),s.vertexAttribPointer(n,u,d,c,m,f)}else{if(typeof o=="number")s.vertexAttrib1f(n,o);else if(o.length===1)s.vertexAttrib1f(n,o[0]);else if(o.length===2)s.vertexAttrib2f(n,o[0],o[1]);else if(o.length===3)s.vertexAttrib3f(n,o[0],o[1],o[2]);else{if(o.length!==4)throw new Error("gl-vao: Invalid vertex attribute");s.vertexAttrib4f(n,o[0],o[1],o[2],o[3])}s.disableVertexAttribArray(n)}}for(;n<r;++n)s.disableVertexAttribArray(n)}else for(s.bindBuffer(s.ARRAY_BUFFER,null),n=0;n<r;++n)s.disableVertexAttribArray(n)}},7220:function(g,s,t){var i=t(3056);function r(n){this.gl=n,this._elements=null,this._attributes=null,this._elementsType=n.UNSIGNED_SHORT}r.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},r.prototype.update=function(n,o,l){this._elements=o,this._attributes=n,this._elementsType=l||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(n,o,l){l=l||0;var u=this.gl;this._elements?u.drawElements(n,o,this._elementsType,l):u.drawArrays(n,l,o)},g.exports=function(n){return new r(n)}},3778:function(g,s,t){var i=t(3056);function r(o,l,u,d,c,m){this.location=o,this.dimension=l,this.a=u,this.b=d,this.c=c,this.d=m}function n(o,l,u){this.gl=o,this._ext=l,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=o.UNSIGNED_SHORT}r.prototype.bind=function(o){switch(this.dimension){case 1:o.vertexAttrib1f(this.location,this.a);break;case 2:o.vertexAttrib2f(this.location,this.a,this.b);break;case 3:o.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:o.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var o=0;o<this._attribs.length;++o)this._attribs[o].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(o,l,u){if(this.bind(),i(this.gl,l,o),this.unbind(),this._attribs.length=0,o)for(var d=0;d<o.length;++d){var c=o[d];typeof c=="number"?this._attribs.push(new r(d,1,c)):Array.isArray(c)&&this._attribs.push(new r(d,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!l,this._elementsType=u||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(o,l,u){u=u||0;var d=this.gl;this._useElements?d.drawElements(o,l,this._elementsType,u):d.drawArrays(o,u,l)},g.exports=function(o,l){return new n(o,l,l.createVertexArrayOES())}},2944:function(g,s,t){var i=t(3778),r=t(7220);function n(o){this.bindVertexArrayOES=o.bindVertexArray.bind(o),this.createVertexArrayOES=o.createVertexArray.bind(o),this.deleteVertexArrayOES=o.deleteVertexArray.bind(o)}g.exports=function(o,l,u,d){var c,m=o.createVertexArray?new n(o):o.getExtension("OES_vertex_array_object");return(c=m?i(o,m):r(o)).update(l,u,d),c}},2598:function(g){g.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s}},5879:function(g,s,t){g.exports=function(o,l){var u=i(o[0],o[1],o[2]),d=i(l[0],l[1],l[2]);r(u,u),r(d,d);var c=n(u,d);return c>1?0:Math.acos(c)};var i=t(5415),r=t(899),n=t(9305)},8827:function(g){g.exports=function(s,t){return s[0]=Math.ceil(t[0]),s[1]=Math.ceil(t[1]),s[2]=Math.ceil(t[2]),s}},7622:function(g){g.exports=function(s){var t=new Float32Array(3);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t}},8782:function(g){g.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s}},8501:function(g){g.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},903:function(g){g.exports=function(s,t,i){var r=t[0],n=t[1],o=t[2],l=i[0],u=i[1],d=i[2];return s[0]=n*d-o*u,s[1]=o*l-r*d,s[2]=r*u-n*l,s}},5981:function(g,s,t){g.exports=t(8288)},8288:function(g){g.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2];return Math.sqrt(i*i+r*r+n*n)}},8629:function(g,s,t){g.exports=t(7979)},7979:function(g){g.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s}},9305:function(g){g.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]}},154:function(g){g.exports=1e-6},4932:function(g,s,t){g.exports=function(r,n){var o=r[0],l=r[1],u=r[2],d=n[0],c=n[1],m=n[2];return Math.abs(o-d)<=i*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(l-c)<=i*Math.max(1,Math.abs(l),Math.abs(c))&&Math.abs(u-m)<=i*Math.max(1,Math.abs(u),Math.abs(m))};var i=t(154)},5777:function(g){g.exports=function(s,t){return s[0]===t[0]&&s[1]===t[1]&&s[2]===t[2]}},3306:function(g){g.exports=function(s,t){return s[0]=Math.floor(t[0]),s[1]=Math.floor(t[1]),s[2]=Math.floor(t[2]),s}},7447:function(g,s,t){g.exports=function(r,n,o,l,u,d){var c,m;for(n||(n=3),o||(o=0),m=l?Math.min(l*n+o,r.length):r.length,c=o;c<m;c+=n)i[0]=r[c],i[1]=r[c+1],i[2]=r[c+2],u(i,i,d),r[c]=i[0],r[c+1]=i[1],r[c+2]=i[2];return r};var i=t(8501)()},5415:function(g){g.exports=function(s,t,i){var r=new Float32Array(3);return r[0]=s,r[1]=t,r[2]=i,r}},2858:function(g,s,t){g.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(g){g.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s}},1468:function(g,s,t){g.exports=t(4693)},4693:function(g){g.exports=function(s){var t=s[0],i=s[1],r=s[2];return Math.sqrt(t*t+i*i+r*r)}},1868:function(g){g.exports=function(s,t,i,r){var n=t[0],o=t[1],l=t[2];return s[0]=n+r*(i[0]-n),s[1]=o+r*(i[1]-o),s[2]=l+r*(i[2]-l),s}},1716:function(g){g.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s}},3605:function(g){g.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s}},5733:function(g,s,t){g.exports=t(105)},105:function(g){g.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s}},435:function(g){g.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s}},899:function(g){g.exports=function(s,t){var i=t[0],r=t[1],n=t[2],o=i*i+r*r+n*n;return o>0&&(o=1/Math.sqrt(o),s[0]=t[0]*o,s[1]=t[1]*o,s[2]=t[2]*o),s}},6660:function(g){g.exports=function(s,t){t=t||1;var i=2*Math.random()*Math.PI,r=2*Math.random()-1,n=Math.sqrt(1-r*r)*t;return s[0]=Math.cos(i)*n,s[1]=Math.sin(i)*n,s[2]=r*t,s}},392:function(g){g.exports=function(s,t,i,r){var n=i[1],o=i[2],l=t[1]-n,u=t[2]-o,d=Math.sin(r),c=Math.cos(r);return s[0]=t[0],s[1]=n+l*c-u*d,s[2]=o+l*d+u*c,s}},3222:function(g){g.exports=function(s,t,i,r){var n=i[0],o=i[2],l=t[0]-n,u=t[2]-o,d=Math.sin(r),c=Math.cos(r);return s[0]=n+u*d+l*c,s[1]=t[1],s[2]=o+u*c-l*d,s}},3388:function(g){g.exports=function(s,t,i,r){var n=i[0],o=i[1],l=t[0]-n,u=t[1]-o,d=Math.sin(r),c=Math.cos(r);return s[0]=n+l*c-u*d,s[1]=o+l*d+u*c,s[2]=t[2],s}},1624:function(g){g.exports=function(s,t){return s[0]=Math.round(t[0]),s[1]=Math.round(t[1]),s[2]=Math.round(t[2]),s}},5685:function(g){g.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s}},6722:function(g){g.exports=function(s,t,i,r){return s[0]=t[0]+i[0]*r,s[1]=t[1]+i[1]*r,s[2]=t[2]+i[2]*r,s}},831:function(g){g.exports=function(s,t,i,r){return s[0]=t,s[1]=i,s[2]=r,s}},5294:function(g,s,t){g.exports=t(6403)},3303:function(g,s,t){g.exports=t(4337)},6403:function(g){g.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2];return i*i+r*r+n*n}},4337:function(g){g.exports=function(s){var t=s[0],i=s[1],r=s[2];return t*t+i*i+r*r}},8921:function(g,s,t){g.exports=t(911)},911:function(g){g.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s}},9908:function(g){g.exports=function(s,t,i){var r=t[0],n=t[1],o=t[2];return s[0]=r*i[0]+n*i[3]+o*i[6],s[1]=r*i[1]+n*i[4]+o*i[7],s[2]=r*i[2]+n*i[5]+o*i[8],s}},3255:function(g){g.exports=function(s,t,i){var r=t[0],n=t[1],o=t[2],l=i[3]*r+i[7]*n+i[11]*o+i[15];return l=l||1,s[0]=(i[0]*r+i[4]*n+i[8]*o+i[12])/l,s[1]=(i[1]*r+i[5]*n+i[9]*o+i[13])/l,s[2]=(i[2]*r+i[6]*n+i[10]*o+i[14])/l,s}},6568:function(g){g.exports=function(s,t,i){var r=t[0],n=t[1],o=t[2],l=i[0],u=i[1],d=i[2],c=i[3],m=c*r+u*o-d*n,f=c*n+d*r-l*o,p=c*o+l*n-u*r,v=-l*r-u*n-d*o;return s[0]=m*c+v*-l+f*-d-p*-u,s[1]=f*c+v*-u+p*-l-m*-d,s[2]=p*c+v*-d+m*-u-f*-l,s}},3433:function(g){g.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s[3]=t[3]+i[3],s}},1413:function(g){g.exports=function(s){var t=new Float32Array(4);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t}},3470:function(g){g.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s}},5313:function(g){g.exports=function(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},5446:function(g){g.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2],o=t[3]-s[3];return Math.sqrt(i*i+r*r+n*n+o*o)}},205:function(g){g.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s[3]=t[3]/i[3],s}},4242:function(g){g.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]+s[3]*t[3]}},5680:function(g){g.exports=function(s,t,i,r){var n=new Float32Array(4);return n[0]=s,n[1]=t,n[2]=i,n[3]=r,n}},4020:function(g,s,t){g.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(g){g.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s[3]=1/t[3],s}},8177:function(g){g.exports=function(s){var t=s[0],i=s[1],r=s[2],n=s[3];return Math.sqrt(t*t+i*i+r*r+n*n)}},8746:function(g){g.exports=function(s,t,i,r){var n=t[0],o=t[1],l=t[2],u=t[3];return s[0]=n+r*(i[0]-n),s[1]=o+r*(i[1]-o),s[2]=l+r*(i[2]-l),s[3]=u+r*(i[3]-u),s}},3030:function(g){g.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s[3]=Math.max(t[3],i[3]),s}},2170:function(g){g.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s[3]=Math.min(t[3],i[3]),s}},746:function(g){g.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s[3]=t[3]*i[3],s}},6459:function(g){g.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s[3]=-t[3],s}},381:function(g){g.exports=function(s,t){var i=t[0],r=t[1],n=t[2],o=t[3],l=i*i+r*r+n*n+o*o;return l>0&&(l=1/Math.sqrt(l),s[0]=i*l,s[1]=r*l,s[2]=n*l,s[3]=o*l),s}},3770:function(g,s,t){var i=t(381),r=t(5510);g.exports=function(n,o){return o=o||1,n[0]=Math.random(),n[1]=Math.random(),n[2]=Math.random(),n[3]=Math.random(),i(n,n),r(n,n,o),n}},5510:function(g){g.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s[3]=t[3]*i,s}},4224:function(g){g.exports=function(s,t,i,r){return s[0]=t[0]+i[0]*r,s[1]=t[1]+i[1]*r,s[2]=t[2]+i[2]*r,s[3]=t[3]+i[3]*r,s}},6453:function(g){g.exports=function(s,t,i,r,n){return s[0]=t,s[1]=i,s[2]=r,s[3]=n,s}},1542:function(g){g.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2],o=t[3]-s[3];return i*i+r*r+n*n+o*o}},9037:function(g){g.exports=function(s){var t=s[0],i=s[1],r=s[2],n=s[3];return t*t+i*i+r*r+n*n}},2705:function(g){g.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s[3]=t[3]-i[3],s}},6342:function(g){g.exports=function(s,t,i){var r=t[0],n=t[1],o=t[2],l=t[3];return s[0]=i[0]*r+i[4]*n+i[8]*o+i[12]*l,s[1]=i[1]*r+i[5]*n+i[9]*o+i[13]*l,s[2]=i[2]*r+i[6]*n+i[10]*o+i[14]*l,s[3]=i[3]*r+i[7]*n+i[11]*o+i[15]*l,s}},5022:function(g){g.exports=function(s,t,i){var r=t[0],n=t[1],o=t[2],l=i[0],u=i[1],d=i[2],c=i[3],m=c*r+u*o-d*n,f=c*n+d*r-l*o,p=c*o+l*n-u*r,v=-l*r-u*n-d*o;return s[0]=m*c+v*-l+f*-d-p*-u,s[1]=f*c+v*-u+p*-l-m*-d,s[2]=p*c+v*-d+m*-u-f*-l,s[3]=t[3],s}},9365:function(g,s,t){var i=t(8096),r=t(7896);g.exports=function(n){for(var o=Array.isArray(n)?n:i(n),l=0;l<o.length;l++){var u=o[l];if(u.type==="preprocessor"){var d=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(d&&d[2]){var c=d[1],m=d[2];return(c?r(m):m).trim()}}}}},3193:function(g,s,t){g.exports=function(P){var O,R,U,z=0,N=0,W=u,F=[],V=[],j=1,te=0,J=0,K=!1,Z=!1,X="",Q=n,re=i;(P=P||{}).version==="300 es"&&(Q=l,re=o);var ae={},ie={};for(z=0;z<Q.length;z++)ae[Q[z]]=!0;for(z=0;z<re.length;z++)ie[re[z]]=!0;return function(he){return V=[],he!==null?function(Ee){var Te;for(z=0,Ee.toString&&(Ee=Ee.toString()),X+=Ee.replace(/\r\n/g,`
`),U=X.length;O=X[z],z<U;){switch(Te=z,W){case c:z=be();break;case m:case f:z=ve();break;case p:z=me();break;case v:z=we();break;case E:z=ke();break;case y:z=ue();break;case d:z=oe();break;case S:z=de();break;case u:z=pe()}Te!==z&&(X[Te]===`
`?(te=0,++j):++te)}return N+=z,X=X.slice(z),V}(he):(F.length&&le(F.join("")),W=w,le("(eof)"),V)};function le(he){he.length&&V.push({type:C[W],data:he,position:J,line:j,column:te})}function pe(){return F=F.length?[]:F,R==="/"&&O==="*"?(J=N+z-1,W=c,R=O,z+1):R==="/"&&O==="/"?(J=N+z-1,W=m,R=O,z+1):O==="#"?(W=f,J=N+z,z):/\s/.test(O)?(W=S,J=N+z,z):(K=/\d/.test(O),Z=/[^\w_]/.test(O),J=N+z,W=K?v:Z?p:d,z)}function de(){return/[^\s]/g.test(O)?(le(F.join("")),W=u,z):(F.push(O),R=O,z+1)}function ve(){return O!=="\r"&&O!==`
`||R==="\\"?(F.push(O),R=O,z+1):(le(F.join("")),W=u,z)}function be(){return O==="/"&&R==="*"?(F.push(O),le(F.join("")),W=u,z+1):(F.push(O),R=O,z+1)}function me(){if(R==="."&&/\d/.test(O))return W=y,z;if(R==="/"&&O==="*")return W=c,z;if(R==="/"&&O==="/")return W=m,z;if(O==="."&&F.length){for(;ge(F););return W=y,z}if(O===";"||O===")"||O==="("){if(F.length)for(;ge(F););return le(O),W=u,z+1}var he=F.length===2&&O!=="=";if(/[\w_\d\s]/.test(O)||he){for(;ge(F););return W=u,z}return F.push(O),R=O,z+1}function ge(he){for(var Ee,Te,Me=0;;){if(Ee=r.indexOf(he.slice(0,he.length+Me).join("")),Te=r[Ee],Ee===-1){if(Me--+he.length>0)continue;Te=he.slice(0,1).join("")}return le(Te),J+=Te.length,(F=F.slice(Te.length)).length}}function ke(){return/[^a-fA-F0-9]/.test(O)?(le(F.join("")),W=u,z):(F.push(O),R=O,z+1)}function we(){return O==="."||/[eE]/.test(O)?(F.push(O),W=y,R=O,z+1):O==="x"&&F.length===1&&F[0]==="0"?(W=E,F.push(O),R=O,z+1):/[^\d]/.test(O)?(le(F.join("")),W=u,z):(F.push(O),R=O,z+1)}function ue(){return O==="f"&&(F.push(O),R=O,z+=1),/[eE]/.test(O)?(F.push(O),R=O,z+1):(O!=="-"&&O!=="+"||!/[eE]/.test(R))&&/[^\d]/.test(O)?(le(F.join("")),W=u,z):(F.push(O),R=O,z+1)}function oe(){if(/[^\d\w_]/.test(O)){var he=F.join("");return W=ie[he]?h:ae[he]?_:x,le(F.join("")),W=u,z}return F.push(O),R=O,z+1}};var i=t(399),r=t(9746),n=t(9525),o=t(9458),l=t(3585),u=999,d=9999,c=0,m=1,f=2,p=3,v=4,y=5,x=6,_=7,h=8,S=9,w=10,E=11,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(g,s,t){var i=t(9525);i=i.slice().filter(function(r){return!/^(gl\_|texture)/.test(r)}),g.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(g){g.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(g,s,t){var i=t(399);g.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(g){g.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(g){g.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(g,s,t){var i=t(3193);g.exports=function(r,n){var o=i(n),l=[];return(l=l.concat(o(r))).concat(o(null))}},6832:function(g){g.exports=function(s){typeof s=="string"&&(s=[s]);for(var t=[].slice.call(arguments,1),i=[],r=0;r<s.length-1;r++)i.push(s[r],t[r]||"");return i.push(s[r]),i.join("")}},5233:function(g,s,t){var i=t(4846);g.exports=i&&function(){var r=!1;try{var n=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{r=!1}return r}()},2183:function(g,s,t){g.exports=function(m,f){var p=m.length;if(p===0)throw new Error("Must have at least d+1 points");var v=m[0].length;if(p<=v)throw new Error("Must input at least d+1 points");var y=m.slice(0,v+1),x=i.apply(void 0,y);if(x===0)throw new Error("Input not in general position");for(var _=new Array(v+1),h=0;h<=v;++h)_[h]=h;x<0&&(_[0]=1,_[1]=0);var S=new n(_,new Array(v+1),!1),w=S.adjacent,E=new Array(v+2);for(h=0;h<=v;++h){for(var C=_.slice(),P=0;P<=v;++P)P===h&&(C[P]=-1);var O=C[0];C[0]=C[1],C[1]=O;var R=new n(C,new Array(v+1),!0);w[h]=R,E[h]=R}for(E[v+1]=S,h=0;h<=v;++h){C=w[h].vertices;var U=w[h].adjacent;for(P=0;P<=v;++P){var z=C[P];if(z<0)U[P]=S;else for(var N=0;N<=v;++N)w[N].vertices.indexOf(z)<0&&(U[P]=w[N])}}var W=new d(v,y,E),F=!!f;for(h=v+1;h<p;++h)W.insert(m[h],F);return W.boundary()};var i=t(417),r=t(8211).H;function n(m,f,p){this.vertices=m,this.adjacent=f,this.boundary=p,this.lastVisited=-1}function o(m,f,p){this.vertices=m,this.cell=f,this.index=p}function l(m,f){return r(m.vertices,f.vertices)}n.prototype.flip=function(){var m=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=m;var f=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=f};var u=[];function d(m,f,p){this.dimension=m,this.vertices=f,this.simplices=p,this.interior=p.filter(function(_){return!_.boundary}),this.tuple=new Array(m+1);for(var v=0;v<=m;++v)this.tuple[v]=this.vertices[v];var y,x=u[m];x||(x=u[m]=((y=i[m+1])||(y=i),function(_){return function(){var h=this.tuple;return _.apply(this,h)}}(y))),this.orient=x}var c=d.prototype;c.handleBoundaryDegeneracy=function(m,f){var p=this.dimension,v=this.vertices.length-1,y=this.tuple,x=this.vertices,_=[m];for(m.lastVisited=-v;_.length>0;)for(var h=(m=_.pop()).adjacent,S=0;S<=p;++S){var w=h[S];if(w.boundary&&!(w.lastVisited<=-v)){for(var E=w.vertices,C=0;C<=p;++C){var P=E[C];y[C]=P<0?f:x[P]}var O=this.orient();if(O>0)return w;w.lastVisited=-v,O===0&&_.push(w)}}return null},c.walk=function(m,f){var p=this.vertices.length-1,v=this.dimension,y=this.vertices,x=this.tuple,_=f?this.interior.length*Math.random()|0:this.interior.length-1,h=this.interior[_];e:for(;!h.boundary;){for(var S=h.vertices,w=h.adjacent,E=0;E<=v;++E)x[E]=y[S[E]];for(h.lastVisited=p,E=0;E<=v;++E){var C=w[E];if(!(C.lastVisited>=p)){var P=x[E];x[E]=m;var O=this.orient();if(x[E]=P,O<0){h=C;continue e}C.boundary?C.lastVisited=-p:C.lastVisited=p}}return}return h},c.addPeaks=function(m,f){var p=this.vertices.length-1,v=this.dimension,y=this.vertices,x=this.tuple,_=this.interior,h=this.simplices,S=[f];f.lastVisited=p,f.vertices[f.vertices.indexOf(-1)]=p,f.boundary=!1,_.push(f);for(var w=[];S.length>0;){var E=(f=S.pop()).vertices,C=f.adjacent,P=E.indexOf(p);if(!(P<0)){for(var O=0;O<=v;++O)if(O!==P){var R=C[O];if(R.boundary&&!(R.lastVisited>=p)){var U=R.vertices;if(R.lastVisited!==-p){for(var z=0,N=0;N<=v;++N)U[N]<0?(z=N,x[N]=m):x[N]=y[U[N]];if(this.orient()>0){U[z]=p,R.boundary=!1,_.push(R),S.push(R),R.lastVisited=p;continue}R.lastVisited=-p}var W=R.adjacent,F=E.slice(),V=C.slice(),j=new n(F,V,!0);h.push(j);var te=W.indexOf(f);if(!(te<0))for(W[te]=j,V[P]=R,F[O]=-1,V[O]=f,C[O]=j,j.flip(),N=0;N<=v;++N){var J=F[N];if(!(J<0||J===p)){for(var K=new Array(v-1),Z=0,X=0;X<=v;++X){var Q=F[X];Q<0||X===N||(K[Z++]=Q)}w.push(new o(K,j,N))}}}}}}for(w.sort(l),O=0;O+1<w.length;O+=2){var re=w[O],ae=w[O+1],ie=re.index,le=ae.index;ie<0||le<0||(re.cell.adjacent[re.index]=ae.cell,ae.cell.adjacent[ae.index]=re.cell)}},c.insert=function(m,f){var p=this.vertices;p.push(m);var v=this.walk(m,f);if(v){for(var y=this.dimension,x=this.tuple,_=0;_<=y;++_){var h=v.vertices[_];x[_]=h<0?m:p[h]}var S=this.orient(x);S<0||(S!==0||(v=this.handleBoundaryDegeneracy(v,m)))&&this.addPeaks(m,v)}},c.boundary=function(){for(var m=this.dimension,f=[],p=this.simplices,v=p.length,y=0;y<v;++y){var x=p[y];if(x.boundary){for(var _=new Array(m),h=x.vertices,S=0,w=0,E=0;E<=m;++E)h[E]>=0?_[S++]=h[E]:w=1&E;if(w===(1&m)){var C=_[0];_[0]=_[1],_[1]=C}f.push(_)}}return f}},9014:function(g,s,t){var i=t(5070);function r(S,w,E,C,P){this.mid=S,this.left=w,this.right=E,this.leftPoints=C,this.rightPoints=P,this.count=(w?w.count:0)+(E?E.count:0)+C.length}g.exports=function(S){return S&&S.length!==0?new _(x(S)):new _(null)};var n=r.prototype;function o(S,w){S.mid=w.mid,S.left=w.left,S.right=w.right,S.leftPoints=w.leftPoints,S.rightPoints=w.rightPoints,S.count=w.count}function l(S,w){var E=x(w);S.mid=E.mid,S.left=E.left,S.right=E.right,S.leftPoints=E.leftPoints,S.rightPoints=E.rightPoints,S.count=E.count}function u(S,w){var E=S.intervals([]);E.push(w),l(S,E)}function d(S,w){var E=S.intervals([]),C=E.indexOf(w);return C<0?0:(E.splice(C,1),l(S,E),1)}function c(S,w,E){for(var C=0;C<S.length&&S[C][0]<=w;++C){var P=E(S[C]);if(P)return P}}function m(S,w,E){for(var C=S.length-1;C>=0&&S[C][1]>=w;--C){var P=E(S[C]);if(P)return P}}function f(S,w){for(var E=0;E<S.length;++E){var C=w(S[E]);if(C)return C}}function p(S,w){return S-w}function v(S,w){return S[0]-w[0]||S[1]-w[1]}function y(S,w){return S[1]-w[1]||S[0]-w[0]}function x(S){if(S.length===0)return null;for(var w=[],E=0;E<S.length;++E)w.push(S[E][0],S[E][1]);w.sort(p);var C=w[w.length>>1],P=[],O=[],R=[];for(E=0;E<S.length;++E){var U=S[E];U[1]<C?P.push(U):C<U[0]?O.push(U):R.push(U)}var z=R,N=R.slice();return z.sort(v),N.sort(y),new r(C,x(P),x(O),z,N)}function _(S){this.root=S}n.intervals=function(S){return S.push.apply(S,this.leftPoints),this.left&&this.left.intervals(S),this.right&&this.right.intervals(S),S},n.insert=function(S){var w=this.count-this.leftPoints.length;if(this.count+=1,S[1]<this.mid)this.left?4*(this.left.count+1)>3*(w+1)?u(this,S):this.left.insert(S):this.left=x([S]);else if(S[0]>this.mid)this.right?4*(this.right.count+1)>3*(w+1)?u(this,S):this.right.insert(S):this.right=x([S]);else{var E=i.ge(this.leftPoints,S,v),C=i.ge(this.rightPoints,S,y);this.leftPoints.splice(E,0,S),this.rightPoints.splice(C,0,S)}},n.remove=function(S){var w=this.count-this.leftPoints;if(S[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(w-1)?d(this,S):(O=this.left.remove(S))===2?(this.left=null,this.count-=1,1):(O===1&&(this.count-=1),O):0;if(S[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(w-1)?d(this,S):(O=this.right.remove(S))===2?(this.right=null,this.count-=1,1):(O===1&&(this.count-=1),O):0;if(this.count===1)return this.leftPoints[0]===S?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===S){if(this.left&&this.right){for(var E=this,C=this.left;C.right;)E=C,C=C.right;if(E===this)C.right=this.right;else{var P=this.left,O=this.right;E.count-=C.count,E.right=C.left,C.left=P,C.right=O}o(this,C),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?o(this,this.left):o(this,this.right);return 1}for(P=i.ge(this.leftPoints,S,v);P<this.leftPoints.length&&this.leftPoints[P][0]===S[0];++P)if(this.leftPoints[P]===S){for(this.count-=1,this.leftPoints.splice(P,1),O=i.ge(this.rightPoints,S,y);O<this.rightPoints.length&&this.rightPoints[O][1]===S[1];++O)if(this.rightPoints[O]===S)return this.rightPoints.splice(O,1),1}return 0},n.queryPoint=function(S,w){return S<this.mid?this.left&&(E=this.left.queryPoint(S,w))?E:c(this.leftPoints,S,w):S>this.mid?this.right&&(E=this.right.queryPoint(S,w))?E:m(this.rightPoints,S,w):f(this.leftPoints,w);var E},n.queryInterval=function(S,w,E){var C;return S<this.mid&&this.left&&(C=this.left.queryInterval(S,w,E))||w>this.mid&&this.right&&(C=this.right.queryInterval(S,w,E))?C:w<this.mid?c(this.leftPoints,w,E):S>this.mid?m(this.rightPoints,S,E):f(this.leftPoints,E)};var h=_.prototype;h.insert=function(S){this.root?this.root.insert(S):this.root=new r(S[0],null,null,[S],[S])},h.remove=function(S){if(this.root){var w=this.root.remove(S);return w===2&&(this.root=null),w!==0}return!1},h.queryPoint=function(S,w){if(this.root)return this.root.queryPoint(S,w)},h.queryInterval=function(S,w,E){if(S<=w&&this.root)return this.root.queryInterval(S,w,E)},Object.defineProperty(h,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(h,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(g){g.exports=function(s){for(var t=new Array(s),i=0;i<s;++i)t[i]=i;return t}},4846:function(g){g.exports=!0},4780:function(g){function s(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}g.exports=function(t){return t!=null&&(s(t)||function(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&s(i.slice(0,0))}(t)||!!t._isBuffer)}},3596:function(g){g.exports=function(s){for(var t,i=s.length,r=0;r<i;r++)if(((t=s.charCodeAt(r))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(g){g.exports=function(s,t,i){return s*(1-i)+t*i}},7191:function(g,s,t){var i=t(4690),r=t(9823),n=t(7332),o=t(7787),l=t(7437),u=t(2142),d={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=r(),m=r(),f=[0,0,0,0],p=[[0,0,0],[0,0,0],[0,0,0]],v=[0,0,0];function y(x,_,h,S,w){x[0]=_[0]*S+h[0]*w,x[1]=_[1]*S+h[1]*w,x[2]=_[2]*S+h[2]*w}g.exports=function(x,_,h,S,w,E){if(_||(_=[0,0,0]),h||(h=[0,0,0]),S||(S=[0,0,0]),w||(w=[0,0,0,1]),E||(E=[0,0,0,1]),!i(c,x)||(n(m,c),m[3]=0,m[7]=0,m[11]=0,m[15]=1,Math.abs(o(m)<1e-8)))return!1;var C,P,O,R,U,z,N,W=c[3],F=c[7],V=c[11],j=c[12],te=c[13],J=c[14],K=c[15];if(W!==0||F!==0||V!==0){if(f[0]=W,f[1]=F,f[2]=V,f[3]=K,!l(m,m))return!1;u(m,m),C=w,O=m,R=(P=f)[0],U=P[1],z=P[2],N=P[3],C[0]=O[0]*R+O[4]*U+O[8]*z+O[12]*N,C[1]=O[1]*R+O[5]*U+O[9]*z+O[13]*N,C[2]=O[2]*R+O[6]*U+O[10]*z+O[14]*N,C[3]=O[3]*R+O[7]*U+O[11]*z+O[15]*N}else w[0]=w[1]=w[2]=0,w[3]=1;if(_[0]=j,_[1]=te,_[2]=J,function(X,Q){X[0][0]=Q[0],X[0][1]=Q[1],X[0][2]=Q[2],X[1][0]=Q[4],X[1][1]=Q[5],X[1][2]=Q[6],X[2][0]=Q[8],X[2][1]=Q[9],X[2][2]=Q[10]}(p,c),h[0]=d.length(p[0]),d.normalize(p[0],p[0]),S[0]=d.dot(p[0],p[1]),y(p[1],p[1],p[0],1,-S[0]),h[1]=d.length(p[1]),d.normalize(p[1],p[1]),S[0]/=h[1],S[1]=d.dot(p[0],p[2]),y(p[2],p[2],p[0],1,-S[1]),S[2]=d.dot(p[1],p[2]),y(p[2],p[2],p[1],1,-S[2]),h[2]=d.length(p[2]),d.normalize(p[2],p[2]),S[1]/=h[2],S[2]/=h[2],d.cross(v,p[1],p[2]),d.dot(p[0],v)<0)for(var Z=0;Z<3;Z++)h[Z]*=-1,p[Z][0]*=-1,p[Z][1]*=-1,p[Z][2]*=-1;return E[0]=.5*Math.sqrt(Math.max(1+p[0][0]-p[1][1]-p[2][2],0)),E[1]=.5*Math.sqrt(Math.max(1-p[0][0]+p[1][1]-p[2][2],0)),E[2]=.5*Math.sqrt(Math.max(1-p[0][0]-p[1][1]+p[2][2],0)),E[3]=.5*Math.sqrt(Math.max(1+p[0][0]+p[1][1]+p[2][2],0)),p[2][1]>p[1][2]&&(E[0]=-E[0]),p[0][2]>p[2][0]&&(E[1]=-E[1]),p[1][0]>p[0][1]&&(E[2]=-E[2]),!0}},4690:function(g){g.exports=function(s,t){var i=t[15];if(i===0)return!1;for(var r=1/i,n=0;n<16;n++)s[n]=t[n]*r;return!0}},7649:function(g,s,t){var i=t(1868),r=t(1102),n=t(7191),o=t(7787),l=t(1116),u=m(),d=m(),c=m();function m(){return{translate:f(),scale:f(1),skew:f(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function f(p){return[p||0,p||0,p||0]}g.exports=function(p,v,y,x){if(o(v)===0||o(y)===0)return!1;var _=n(v,u.translate,u.scale,u.skew,u.perspective,u.quaternion),h=n(y,d.translate,d.scale,d.skew,d.perspective,d.quaternion);return!(!_||!h||(i(c.translate,u.translate,d.translate,x),i(c.skew,u.skew,d.skew,x),i(c.scale,u.scale,d.scale,x),i(c.perspective,u.perspective,d.perspective,x),l(c.quaternion,u.quaternion,d.quaternion,x),r(p,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},1102:function(g,s,t){var i={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},r=(i.create(),i.create());g.exports=function(n,o,l,u,d,c){return i.identity(n),i.fromRotationTranslation(n,c,o),n[3]=d[0],n[7]=d[1],n[11]=d[2],n[15]=d[3],i.identity(r),u[2]!==0&&(r[9]=u[2],i.multiply(n,n,r)),u[1]!==0&&(r[9]=0,r[8]=u[1],i.multiply(n,n,r)),u[0]!==0&&(r[8]=0,r[4]=u[0],i.multiply(n,n,r)),i.scale(n,n,l),n}},9298:function(g,s,t){var i=t(5070),r=t(7649),n=t(7437),o=t(6109),l=t(7115),u=t(5240),d=t(3012),c=t(998),m=(t(3668),t(899)),f=[0,0,0];function p(x){this._components=x.slice(),this._time=[0],this.prevMatrix=x.slice(),this.nextMatrix=x.slice(),this.computedMatrix=x.slice(),this.computedInverse=x.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}g.exports=function(x){return new p((x=x||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var v=p.prototype;v.recalcMatrix=function(x){var _=this._time,h=i.le(_,x),S=this.computedMatrix;if(!(h<0)){var w=this._components;if(h===_.length-1)for(var E=16*h,C=0;C<16;++C)S[C]=w[E++];else{var P=_[h+1]-_[h],O=(E=16*h,this.prevMatrix),R=!0;for(C=0;C<16;++C)O[C]=w[E++];var U=this.nextMatrix;for(C=0;C<16;++C)U[C]=w[E++],R=R&&O[C]===U[C];if(P<1e-6||R)for(C=0;C<16;++C)S[C]=O[C];else r(S,O,U,(x-_[h])/P)}var z=this.computedUp;z[0]=S[1],z[1]=S[5],z[2]=S[9],m(z,z);var N=this.computedInverse;n(N,S);var W=this.computedEye,F=N[15];W[0]=N[12]/F,W[1]=N[13]/F,W[2]=N[14]/F;var V=this.computedCenter,j=Math.exp(this.computedRadius[0]);for(C=0;C<3;++C)V[C]=W[C]-S[2+4*C]*j}},v.idle=function(x){if(!(x<this.lastT())){for(var _=this._components,h=_.length-16,S=0;S<16;++S)_.push(_[h++]);this._time.push(x)}},v.flush=function(x){var _=i.gt(this._time,x)-2;_<0||(this._time.splice(0,_),this._components.splice(0,16*_))},v.lastT=function(){return this._time[this._time.length-1]},v.lookAt=function(x,_,h,S){this.recalcMatrix(x),_=_||this.computedEye,h=h||f,S=S||this.computedUp,this.setMatrix(x,d(this.computedMatrix,_,h,S));for(var w=0,E=0;E<3;++E)w+=Math.pow(h[E]-_[E],2);w=Math.log(Math.sqrt(w)),this.computedRadius[0]=w},v.rotate=function(x,_,h,S){this.recalcMatrix(x);var w=this.computedInverse;_&&l(w,w,_),h&&o(w,w,h),S&&u(w,w,S),this.setMatrix(x,n(this.computedMatrix,w))};var y=[0,0,0];v.pan=function(x,_,h,S){y[0]=-(_||0),y[1]=-(h||0),y[2]=-(S||0),this.recalcMatrix(x);var w=this.computedInverse;c(w,w,y),this.setMatrix(x,n(w,w))},v.translate=function(x,_,h,S){y[0]=_||0,y[1]=h||0,y[2]=S||0,this.recalcMatrix(x);var w=this.computedMatrix;c(w,w,y),this.setMatrix(x,w)},v.setMatrix=function(x,_){if(!(x<this.lastT())){this._time.push(x);for(var h=0;h<16;++h)this._components.push(_[h])}},v.setDistance=function(x,_){this.computedRadius[0]=_},v.setDistanceLimits=function(x,_){var h=this._limits;h[0]=x,h[1]=_},v.getDistanceLimits=function(x){var _=this._limits;return x?(x[0]=_[0],x[1]=_[1],x):_}},3266:function(g,s,t){g.exports=function(r){var n=r.length;if(n<3){for(var o=new Array(n),l=0;l<n;++l)o[l]=l;return n===2&&r[0][0]===r[1][0]&&r[0][1]===r[1][1]?[0]:o}var u=new Array(n);for(l=0;l<n;++l)u[l]=l;u.sort(function(_,h){return r[_][0]-r[h][0]||r[_][1]-r[h][1]});var d=[u[0],u[1]],c=[u[0],u[1]];for(l=2;l<n;++l){for(var m=u[l],f=r[m],p=d.length;p>1&&i(r[d[p-2]],r[d[p-1]],f)<=0;)p-=1,d.pop();for(d.push(m),p=c.length;p>1&&i(r[c[p-2]],r[c[p-1]],f)>=0;)p-=1,c.pop();c.push(m)}o=new Array(c.length+d.length-2);for(var v=0,y=(l=0,d.length);l<y;++l)o[v++]=d[l];for(var x=c.length-2;x>0;--x)o[v++]=c[x];return o};var i=t(417)[3]},6145:function(g,s,t){g.exports=function(r,n){n||(n=r,r=window);var o=0,l=0,u=0,d={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function m(E){var C=!1;return"altKey"in E&&(C=C||E.altKey!==d.alt,d.alt=!!E.altKey),"shiftKey"in E&&(C=C||E.shiftKey!==d.shift,d.shift=!!E.shiftKey),"ctrlKey"in E&&(C=C||E.ctrlKey!==d.control,d.control=!!E.ctrlKey),"metaKey"in E&&(C=C||E.metaKey!==d.meta,d.meta=!!E.metaKey),C}function f(E,C){var P=i.x(C),O=i.y(C);"buttons"in C&&(E=0|C.buttons),(E!==o||P!==l||O!==u||m(C))&&(o=0|E,l=P||0,u=O||0,n&&n(o,l,u,d))}function p(E){f(0,E)}function v(){(o||l||u||d.shift||d.alt||d.meta||d.control)&&(l=u=0,o=0,d.shift=d.alt=d.control=d.meta=!1,n&&n(0,0,0,d))}function y(E){m(E)&&n&&n(o,l,u,d)}function x(E){i.buttons(E)===0?f(0,E):f(o,E)}function _(E){f(o|i.buttons(E),E)}function h(E){f(o&~i.buttons(E),E)}function S(){c||(c=!0,r.addEventListener("mousemove",x),r.addEventListener("mousedown",_),r.addEventListener("mouseup",h),r.addEventListener("mouseleave",p),r.addEventListener("mouseenter",p),r.addEventListener("mouseout",p),r.addEventListener("mouseover",p),r.addEventListener("blur",v),r.addEventListener("keyup",y),r.addEventListener("keydown",y),r.addEventListener("keypress",y),r!==window&&(window.addEventListener("blur",v),window.addEventListener("keyup",y),window.addEventListener("keydown",y),window.addEventListener("keypress",y)))}S();var w={element:r};return Object.defineProperties(w,{enabled:{get:function(){return c},set:function(E){E?S():c&&(c=!1,r.removeEventListener("mousemove",x),r.removeEventListener("mousedown",_),r.removeEventListener("mouseup",h),r.removeEventListener("mouseleave",p),r.removeEventListener("mouseenter",p),r.removeEventListener("mouseout",p),r.removeEventListener("mouseover",p),r.removeEventListener("blur",v),r.removeEventListener("keyup",y),r.removeEventListener("keydown",y),r.removeEventListener("keypress",y),r!==window&&(window.removeEventListener("blur",v),window.removeEventListener("keyup",y),window.removeEventListener("keydown",y),window.removeEventListener("keypress",y)))},enumerable:!0},buttons:{get:function(){return o},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return d},enumerable:!0}}),w};var i=t(4110)},2565:function(g){var s={left:0,top:0};g.exports=function(t,i,r){i=i||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n,o=t.clientX||0,l=t.clientY||0,u=(n=i)===window||n===document||n===document.body?s:n.getBoundingClientRect();return r[0]=o-u.left,r[1]=l-u.top,r}},4110:function(g,s){function t(i){return i.target||i.srcElement||window}s.buttons=function(i){if(typeof i=="object"){if("buttons"in i)return i.buttons;if("which"in i){if((r=i.which)===2)return 4;if(r===3)return 2;if(r>0)return 1<<r-1}else if("button"in i){var r;if((r=i.button)===1)return 4;if(r===2)return 2;if(r>=0)return 1<<r}}return 0},s.element=t,s.x=function(i){if(typeof i=="object"){if("offsetX"in i)return i.offsetX;var r=t(i).getBoundingClientRect();return i.clientX-r.left}return 0},s.y=function(i){if(typeof i=="object"){if("offsetY"in i)return i.offsetY;var r=t(i).getBoundingClientRect();return i.clientY-r.top}return 0}},6475:function(g,s,t){var i=t(14);g.exports=function(r,n,o){typeof r=="function"&&(o=!!n,n=r,r=window);var l=i("ex",r),u=function(d){o&&d.preventDefault();var c=d.deltaX||0,m=d.deltaY||0,f=d.deltaZ||0,p=1;switch(d.deltaMode){case 1:p=l;break;case 2:p=window.innerHeight}if(m*=p,f*=p,(c*=p)||m||f)return n(c,m,f,d)};return r.addEventListener("wheel",u),u}},9284:function(g,s,t){var i=t(5306);g.exports=function(n){function o(f){throw new Error("ndarray-extract-contour: "+f)}typeof n!="object"&&o("Must specify arguments");var l=n.order;Array.isArray(l)||o("Must specify order");var u=n.arrayArguments||1;u<1&&o("Must have at least one array argument"),(n.scalarArguments||0)<0&&o("Scalar arg count must be > 0"),typeof n.vertex!="function"&&o("Must specify vertex creation function"),typeof n.cell!="function"&&o("Must specify cell creation function"),typeof n.phase!="function"&&o("Must specify phase function");for(var d=n.getters||[],c=new Array(u),m=0;m<u;++m)d.indexOf(m)>=0?c[m]=!0:c[m]=!1;return function(f,p,v,y,x,_){var h=[_,x].join(",");return(0,r[h])(f,p,v,i.mallocUint32,i.freeUint32)}(n.vertex,n.cell,n.phase,0,l,c)};var r={"false,0,1":function(n,o,l,u,d){return function(c,m,f,p){var v,y=0|c.shape[0],x=0|c.shape[1],_=c.data,h=0|c.offset,S=0|c.stride[0],w=0|c.stride[1],E=h,C=0|-S,P=0,O=0|-w,R=0,U=-S-w|0,z=0,N=0|S,W=w-S*y|0,F=0,V=0,j=0,te=2*y|0,J=u(te),K=u(te),Z=0,X=0,Q=-1,re=-1,ae=0,ie=0|-y,le=0|y,pe=0,de=-y-1|0,ve=y-1|0,be=0,me=0,ge=0;for(F=0;F<y;++F)J[Z++]=l(_[E],m,f,p),E+=N;if(E+=W,x>0){if(V=1,J[Z++]=l(_[E],m,f,p),E+=N,y>0)for(F=1,v=_[E],X=J[Z]=l(v,m,f,p),ae=J[Z+Q],pe=J[Z+ie],be=J[Z+de],X===ae&&X===pe&&X===be||(P=_[E+C],R=_[E+O],z=_[E+U],n(F,V,v,P,R,z,X,ae,pe,be,m,f,p),me=K[Z]=j++),Z+=1,E+=N,F=2;F<y;++F)v=_[E],X=J[Z]=l(v,m,f,p),ae=J[Z+Q],pe=J[Z+ie],be=J[Z+de],X===ae&&X===pe&&X===be||(P=_[E+C],R=_[E+O],z=_[E+U],n(F,V,v,P,R,z,X,ae,pe,be,m,f,p),me=K[Z]=j++,be!==ae&&o(K[Z+Q],me,z,P,be,ae,m,f,p)),Z+=1,E+=N;for(E+=W,Z=0,ge=Q,Q=re,re=ge,ge=ie,ie=le,le=ge,ge=de,de=ve,ve=ge,V=2;V<x;++V){if(J[Z++]=l(_[E],m,f,p),E+=N,y>0)for(F=1,v=_[E],X=J[Z]=l(v,m,f,p),ae=J[Z+Q],pe=J[Z+ie],be=J[Z+de],X===ae&&X===pe&&X===be||(P=_[E+C],R=_[E+O],z=_[E+U],n(F,V,v,P,R,z,X,ae,pe,be,m,f,p),me=K[Z]=j++,be!==pe&&o(K[Z+ie],me,R,z,pe,be,m,f,p)),Z+=1,E+=N,F=2;F<y;++F)v=_[E],X=J[Z]=l(v,m,f,p),ae=J[Z+Q],pe=J[Z+ie],be=J[Z+de],X===ae&&X===pe&&X===be||(P=_[E+C],R=_[E+O],z=_[E+U],n(F,V,v,P,R,z,X,ae,pe,be,m,f,p),me=K[Z]=j++,be!==pe&&o(K[Z+ie],me,R,z,pe,be,m,f,p),be!==ae&&o(K[Z+Q],me,z,P,be,ae,m,f,p)),Z+=1,E+=N;1&V&&(Z=0),ge=Q,Q=re,re=ge,ge=ie,ie=le,le=ge,ge=de,de=ve,ve=ge,E+=W}}d(K),d(J)}},"false,1,0":function(n,o,l,u,d){return function(c,m,f,p){var v,y=0|c.shape[0],x=0|c.shape[1],_=c.data,h=0|c.offset,S=0|c.stride[0],w=0|c.stride[1],E=h,C=0|-S,P=0,O=0|-w,R=0,U=-S-w|0,z=0,N=0|w,W=S-w*x|0,F=0,V=0,j=0,te=2*x|0,J=u(te),K=u(te),Z=0,X=0,Q=-1,re=-1,ae=0,ie=0|-x,le=0|x,pe=0,de=-x-1|0,ve=x-1|0,be=0,me=0,ge=0;for(V=0;V<x;++V)J[Z++]=l(_[E],m,f,p),E+=N;if(E+=W,y>0){if(F=1,J[Z++]=l(_[E],m,f,p),E+=N,x>0)for(V=1,v=_[E],X=J[Z]=l(v,m,f,p),pe=J[Z+ie],ae=J[Z+Q],be=J[Z+de],X===pe&&X===ae&&X===be||(P=_[E+C],R=_[E+O],z=_[E+U],n(F,V,v,P,R,z,X,pe,ae,be,m,f,p),me=K[Z]=j++),Z+=1,E+=N,V=2;V<x;++V)v=_[E],X=J[Z]=l(v,m,f,p),pe=J[Z+ie],ae=J[Z+Q],be=J[Z+de],X===pe&&X===ae&&X===be||(P=_[E+C],R=_[E+O],z=_[E+U],n(F,V,v,P,R,z,X,pe,ae,be,m,f,p),me=K[Z]=j++,be!==ae&&o(K[Z+Q],me,R,z,ae,be,m,f,p)),Z+=1,E+=N;for(E+=W,Z=0,ge=ie,ie=le,le=ge,ge=Q,Q=re,re=ge,ge=de,de=ve,ve=ge,F=2;F<y;++F){if(J[Z++]=l(_[E],m,f,p),E+=N,x>0)for(V=1,v=_[E],X=J[Z]=l(v,m,f,p),pe=J[Z+ie],ae=J[Z+Q],be=J[Z+de],X===pe&&X===ae&&X===be||(P=_[E+C],R=_[E+O],z=_[E+U],n(F,V,v,P,R,z,X,pe,ae,be,m,f,p),me=K[Z]=j++,be!==pe&&o(K[Z+ie],me,z,P,be,pe,m,f,p)),Z+=1,E+=N,V=2;V<x;++V)v=_[E],X=J[Z]=l(v,m,f,p),pe=J[Z+ie],ae=J[Z+Q],be=J[Z+de],X===pe&&X===ae&&X===be||(P=_[E+C],R=_[E+O],z=_[E+U],n(F,V,v,P,R,z,X,pe,ae,be,m,f,p),me=K[Z]=j++,be!==ae&&o(K[Z+Q],me,R,z,ae,be,m,f,p),be!==pe&&o(K[Z+ie],me,z,P,be,pe,m,f,p)),Z+=1,E+=N;1&F&&(Z=0),ge=ie,ie=le,le=ge,ge=Q,Q=re,re=ge,ge=de,de=ve,ve=ge,E+=W}}d(K),d(J)}}}},9144:function(g,s,t){var i=t(3094),r={zero:function(y,x,_,h){var S=y[0];h|=0;var w=0,E=_[0];for(w=0;w<S;++w)x[h]=0,h+=E},fdTemplate1:function(y,x,_,h,S,w,E){var C=y[0],P=_[0],O=-1*P,R=P;h|=0,E|=0;var U=0,z=P,N=w[0];for(U=0;U<C;++U)S[E]=.5*(x[h+O]-x[h+R]),h+=z,E+=N},fdTemplate2:function(y,x,_,h,S,w,E,C,P,O){var R=y[0],U=y[1],z=_[0],N=_[1],W=w[0],F=w[1],V=P[0],j=P[1],te=-1*z,J=z,K=-1*N,Z=N;h|=0,E|=0,O|=0;var X=0,Q=0,re=N,ae=z-U*N,ie=F,le=W-U*F,pe=j,de=V-U*j;for(Q=0;Q<R;++Q){for(X=0;X<U;++X)S[E]=.5*(x[h+te]-x[h+J]),C[O]=.5*(x[h+K]-x[h+Z]),h+=re,E+=ie,O+=pe;h+=ae,E+=le,O+=de}}},n={cdiff:function(y){var x={};return function(_,h,S){var w=_.dtype,E=_.order,C=h.dtype,P=h.order,O=S.dtype,R=S.order,U=[w,E.join(),C,P.join(),O,R.join()].join(),z=x[U];return z||(x[U]=z=y([w,E,C,P,O,R])),z(_.shape.slice(0),_.data,_.stride,0|_.offset,h.data,h.stride,0|h.offset,S.data,S.stride,0|S.offset)}},zero:function(y){var x={};return function(_){var h=_.dtype,S=_.order,w=[h,S.join()].join(),E=x[w];return E||(x[w]=E=y([h,S])),E(_.shape.slice(0),_.data,_.stride,0|_.offset)}},fdTemplate1:function(y){var x={};return function(_,h){var S=_.dtype,w=_.order,E=h.dtype,C=h.order,P=[S,w.join(),E,C.join()].join(),O=x[P];return O||(x[P]=O=y([S,w,E,C])),O(_.shape.slice(0),_.data,_.stride,0|_.offset,h.data,h.stride,0|h.offset)}},fdTemplate2:function(y){var x={};return function(_,h,S){var w=_.dtype,E=_.order,C=h.dtype,P=h.order,O=S.dtype,R=S.order,U=[w,E.join(),C,P.join(),O,R.join()].join(),z=x[U];return z||(x[U]=z=y([w,E,C,P,O,R])),z(_.shape.slice(0),_.data,_.stride,0|_.offset,h.data,h.stride,0|h.offset,S.data,S.stride,0|S.offset)}}};function o(y){return(0,n[y.funcName])(l.bind(void 0,y))}function l(y){return r[y.funcName]}function u(y){return o({funcName:y.funcName})}var d={},c={},m=u({funcName:"cdiff"}),f=u({funcName:"zero"});function p(y){return y in d?d[y]:d[y]=u({funcName:"fdTemplate"+y})}function v(y,x,_,h){return function(S,w){var E=w.shape.slice();return E[0]>2&&E[1]>2&&h(w.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(_(w.pick(0,-1).lo(1).hi(E[1]-2),S.pick(0,-1,1).lo(1).hi(E[1]-2)),x(S.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(_(w.pick(E[0]-1,-1).lo(1).hi(E[1]-2),S.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),x(S.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(_(w.pick(-1,0).lo(1).hi(E[0]-2),S.pick(-1,0,0).lo(1).hi(E[0]-2)),x(S.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(_(w.pick(-1,E[1]-1).lo(1).hi(E[0]-2),S.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),x(S.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(E[0]-1,0,0,0),S.set(E[0]-1,0,1,0),S.set(0,E[1]-1,0,0),S.set(0,E[1]-1,1,0),S.set(E[0]-1,E[1]-1,0,0),S.set(E[0]-1,E[1]-1,1,0),S}}g.exports=function(y,x,_){return Array.isArray(_)||(_=i(x.dimension,typeof _=="string"?_:"clamp")),x.size===0?y:x.dimension===0?(y.set(0),y):function(h){var S=h.join();if(P=c[S])return P;for(var w=h.length,E=[m,f],C=1;C<=w;++C)E.push(p(C));var P=v.apply(void 0,E);return c[S]=P,P}(_)(y,x)}},3581:function(g){function s(n,o){var l=Math.floor(o),u=o-l,d=0<=l&&l<n.shape[0],c=0<=l+1&&l+1<n.shape[0];return(1-u)*(d?+n.get(l):0)+u*(c?+n.get(l+1):0)}function t(n,o,l){var u=Math.floor(o),d=o-u,c=0<=u&&u<n.shape[0],m=0<=u+1&&u+1<n.shape[0],f=Math.floor(l),p=l-f,v=0<=f&&f<n.shape[1],y=0<=f+1&&f+1<n.shape[1],x=c&&v?n.get(u,f):0,_=c&&y?n.get(u,f+1):0;return(1-p)*((1-d)*x+d*(m&&v?n.get(u+1,f):0))+p*((1-d)*_+d*(m&&y?n.get(u+1,f+1):0))}function i(n,o,l,u){var d=Math.floor(o),c=o-d,m=0<=d&&d<n.shape[0],f=0<=d+1&&d+1<n.shape[0],p=Math.floor(l),v=l-p,y=0<=p&&p<n.shape[1],x=0<=p+1&&p+1<n.shape[1],_=Math.floor(u),h=u-_,S=0<=_&&_<n.shape[2],w=0<=_+1&&_+1<n.shape[2],E=m&&y&&S?n.get(d,p,_):0,C=m&&x&&S?n.get(d,p+1,_):0,P=f&&y&&S?n.get(d+1,p,_):0,O=f&&x&&S?n.get(d+1,p+1,_):0,R=m&&y&&w?n.get(d,p,_+1):0,U=m&&x&&w?n.get(d,p+1,_+1):0;return(1-h)*((1-v)*((1-c)*E+c*P)+v*((1-c)*C+c*O))+h*((1-v)*((1-c)*R+c*(f&&y&&w?n.get(d+1,p,_+1):0))+v*((1-c)*U+c*(f&&x&&w?n.get(d+1,p+1,_+1):0)))}function r(n){var o,l,u=0|n.shape.length,d=new Array(u),c=new Array(u),m=new Array(u),f=new Array(u);for(o=0;o<u;++o)l=+arguments[o+1],d[o]=Math.floor(l),c[o]=l-d[o],m[o]=0<=d[o]&&d[o]<n.shape[o],f[o]=0<=d[o]+1&&d[o]+1<n.shape[o];var p,v,y,x=0;e:for(o=0;o<1<<u;++o){for(v=1,y=n.offset,p=0;p<u;++p)if(o&1<<p){if(!f[p])continue e;v*=c[p],y+=n.stride[p]*(d[p]+1)}else{if(!m[p])continue e;v*=1-c[p],y+=n.stride[p]*d[p]}x+=v*n.data[y]}return x}g.exports=function(n,o,l,u){switch(n.shape.length){case 0:return 0;case 1:return s(n,o);case 2:return t(n,o,l);case 3:return i(n,o,l,u);default:return r.apply(void 0,arguments)}},g.exports.d1=s,g.exports.d2=t,g.exports.d3=i},7498:function(g,s){var t={"float64,2,1,0":function(){return function(l,u,d,c,m){var f=l[0],p=l[1],v=l[2],y=d[0],x=d[1],_=d[2];c|=0;var h=0,S=0,w=0,E=_,C=x-v*_,P=y-p*x;for(w=0;w<f;++w){for(S=0;S<p;++S){for(h=0;h<v;++h)u[c]/=m,c+=E;c+=C}c+=P}}},"uint8,2,0,1,float64,2,1,0":function(){return function(l,u,d,c,m,f,p,v){for(var y=l[0],x=l[1],_=l[2],h=d[0],S=d[1],w=d[2],E=f[0],C=f[1],P=f[2],O=c|=0,R=p|=0,U=0|l[0];U>0;){U<64?(y=U,U=0):(y=64,U-=64);for(var z=0|l[1];z>0;){z<64?(x=z,z=0):(x=64,z-=64),c=O+U*h+z*S,p=R+U*E+z*C;var N=0,W=0,F=0,V=w,j=h-_*w,te=S-y*h,J=P,K=E-_*P,Z=C-y*E;for(F=0;F<x;++F){for(W=0;W<y;++W){for(N=0;N<_;++N)u[c]=m[p]*v,c+=V,p+=J;c+=j,p+=K}c+=te,p+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(l,u,d,c,m,f,p){var v=l[0],y=l[1],x=d[0],_=d[1],h=f[0],S=f[1];c|=0,p|=0;var w=0,E=0,C=_,P=x-y*_,O=S,R=h-y*S;for(E=0;E<v;++E){for(w=0;w<y;++w)u[c]=m[p],c+=C,p+=O;c+=P,p+=R}}},"float32,1,0,float32,0,1":function(){return function(l,u,d,c,m,f,p){for(var v=l[0],y=l[1],x=d[0],_=d[1],h=f[0],S=f[1],w=c|=0,E=p|=0,C=0|l[1];C>0;){C<64?(y=C,C=0):(y=64,C-=64);for(var P=0|l[0];P>0;){P<64?(v=P,P=0):(v=64,P-=64),c=w+C*_+P*x,p=E+C*S+P*h;var O=0,R=0,U=_,z=x-y*_,N=S,W=h-y*S;for(R=0;R<v;++R){for(O=0;O<y;++O)u[c]=m[p],c+=U,p+=N;c+=z,p+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(l,u,d,c,m,f,p){for(var v=l[0],y=l[1],x=l[2],_=d[0],h=d[1],S=d[2],w=f[0],E=f[1],C=f[2],P=c|=0,O=p|=0,R=0|l[2];R>0;){R<64?(x=R,R=0):(x=64,R-=64);for(var U=0|l[0];U>0;){U<64?(v=U,U=0):(v=64,U-=64);for(var z=0|l[1];z>0;){z<64?(y=z,z=0):(y=64,z-=64),c=P+R*S+U*_+z*h,p=O+R*C+U*w+z*E;var N=0,W=0,F=0,V=S,j=_-x*S,te=h-v*_,J=C,K=w-x*C,Z=E-v*w;for(F=0;F<y;++F){for(W=0;W<v;++W){for(N=0;N<x;++N)u[c]=m[p],c+=V,p+=J;c+=j,p+=K}c+=te,p+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(l,u,d,c,m,f,p){var v=l[0],y=l[1],x=l[2],_=d[0],h=d[1],S=d[2],w=f[0],E=f[1],C=f[2];c|=0,p|=0;var P=0,O=0,R=0,U=S,z=_-x*S,N=h-v*_,W=C,F=w-x*C,V=E-v*w;for(R=0;R<y;++R){for(O=0;O<v;++O){for(P=0;P<x;++P)u[c]=m[p],c+=U,p+=W;c+=z,p+=F}c+=N,p+=V}}}},i=function(l,u){var d=u.join(",");return(0,t[d])()},r={mul:function(l){var u={};return function(d,c,m){var f=d.dtype,p=d.order,v=c.dtype,y=c.order,x=m.dtype,_=m.order,h=[f,p.join(),v,y.join(),x,_.join()].join(),S=u[h];return S||(u[h]=S=l([f,p,v,y,x,_])),S(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,m.data,m.stride,0|m.offset)}},muls:function(l){var u={};return function(d,c,m){var f=d.dtype,p=d.order,v=c.dtype,y=c.order,x=[f,p.join(),v,y.join()].join(),_=u[x];return _||(u[x]=_=l([f,p,v,y])),_(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,m)}},mulseq:function(l){var u={};return function(d,c){var m=d.dtype,f=d.order,p=[m,f.join()].join(),v=u[p];return v||(u[p]=v=l([m,f])),v(d.shape.slice(0),d.data,d.stride,0|d.offset,c)}},div:function(l){var u={};return function(d,c,m){var f=d.dtype,p=d.order,v=c.dtype,y=c.order,x=m.dtype,_=m.order,h=[f,p.join(),v,y.join(),x,_.join()].join(),S=u[h];return S||(u[h]=S=l([f,p,v,y,x,_])),S(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,m.data,m.stride,0|m.offset)}},divs:function(l){var u={};return function(d,c,m){var f=d.dtype,p=d.order,v=c.dtype,y=c.order,x=[f,p.join(),v,y.join()].join(),_=u[x];return _||(u[x]=_=l([f,p,v,y])),_(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,m)}},divseq:function(l){var u={};return function(d,c){var m=d.dtype,f=d.order,p=[m,f.join()].join(),v=u[p];return v||(u[p]=v=l([m,f])),v(d.shape.slice(0),d.data,d.stride,0|d.offset,c)}},assign:function(l){var u={};return function(d,c){var m=d.dtype,f=d.order,p=c.dtype,v=c.order,y=[m,f.join(),p,v.join()].join(),x=u[y];return x||(u[y]=x=l([m,f,p,v])),x(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset)}}};function n(l){return u={funcName:l.funcName},(0,r[u.funcName])(i.bind(void 0,u));var u}var o={mul:"*",div:"/"};(function(){for(var l in o)s[l]=n({funcName:l}),s[l+"s"]=n({funcName:l+"s"}),s[l+"seq"]=n({funcName:l+"seq"})})(),s.assign=n({funcName:"assign"})},7382:function(g,s,t){var i=t(5050),r=t(9262);g.exports=function(n,o){for(var l=[],u=n,d=1;Array.isArray(u);)l.push(u.length),d*=u.length,u=u[0];return l.length===0?i():(o||(o=i(new Float64Array(d),l)),r(o,n),o)}},9262:function(g){g.exports=function(s){var t={};return function(i,r){var n=i.dtype,o=i.order,l=[n,o.join()].join(),u=t[l];return u||(t[l]=u=s([n,o])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,r)}}((function(){return function(s,t,i,r,n){var o=s[0],l=s[1],u=s[2],d=i[0],c=i[1],m=i[2],f=[0,0,0];r|=0;var p=0,v=0,y=0,x=m,_=c-u*m,h=d-l*c;for(y=0;y<o;++y){for(v=0;v<l;++v){for(p=0;p<u;++p){var S,w=n;for(S=0;S<f.length-1;++S)w=w[f[S]];t[r]=w[f[f.length-1]],r+=x,++f[2]}r+=_,f[2]-=u,++f[1]}r+=h,f[1]-=l,++f[0]}}}).bind(void 0,{funcName:"convert"}))},8139:function(g,s,t){var i=t(5306);function r(u){return u==="uint32"?[i.mallocUint32,i.freeUint32]:null}var n={"uint32,1,0":function(u,d){return function(c,m,f,p,v,y,x,_,h,S,w){var E,C,P,O,R,U,z,N,W=c*v+p,F=u(_);for(E=c+1;E<=m;++E){for(C=E,P=W+=v,R=0,U=W,O=0;O<_;++O)F[R++]=f[U],U+=h;e:for(;C-- >c;){R=0,U=P-v;t:for(O=0;O<_;++O){if((z=f[U])<(N=F[R]))break e;if(z>N)break t;U+=S,R+=w}for(R=P,U=P-v,O=0;O<_;++O)f[R]=f[U],R+=h,U+=h;P-=v}for(R=P,U=0,O=0;O<_;++O)f[R]=F[U++],R+=h}d(F)}}},o={"uint32,1,0":function(u,d,c){return function m(f,p,v,y,x,_,h,S,w,E,C){var P,O,R,U,z,N,W,F,V,j,te,J,K,Z,X,Q,re,ae,ie,le,pe,de,ve,be,me,ge=(p-f+1)/6|0,ke=f+ge,we=p-ge,ue=f+p>>1,oe=ue-ge,he=ue+ge,Ee=ke,Te=oe,Me=ue,Se=he,ze=we,fe=f+1,xe=p-1,_e=!0,Oe=0,De=0,Pe=0,Ue=S,Ve=d(Ue),Xe=d(Ue);te=x*Ee,J=x*Te,me=y;e:for(j=0;j<S;++j){if(F=J+me,(Pe=v[W=te+me]-v[F])>0){O=Ee,Ee=Te,Te=O;break e}if(Pe<0)break e;me+=E}te=x*Se,J=x*ze,me=y;e:for(j=0;j<S;++j){if(F=J+me,(Pe=v[W=te+me]-v[F])>0){O=Se,Se=ze,ze=O;break e}if(Pe<0)break e;me+=E}te=x*Ee,J=x*Me,me=y;e:for(j=0;j<S;++j){if(F=J+me,(Pe=v[W=te+me]-v[F])>0){O=Ee,Ee=Me,Me=O;break e}if(Pe<0)break e;me+=E}te=x*Te,J=x*Me,me=y;e:for(j=0;j<S;++j){if(F=J+me,(Pe=v[W=te+me]-v[F])>0){O=Te,Te=Me,Me=O;break e}if(Pe<0)break e;me+=E}te=x*Ee,J=x*Se,me=y;e:for(j=0;j<S;++j){if(F=J+me,(Pe=v[W=te+me]-v[F])>0){O=Ee,Ee=Se,Se=O;break e}if(Pe<0)break e;me+=E}te=x*Me,J=x*Se,me=y;e:for(j=0;j<S;++j){if(F=J+me,(Pe=v[W=te+me]-v[F])>0){O=Me,Me=Se,Se=O;break e}if(Pe<0)break e;me+=E}te=x*Te,J=x*ze,me=y;e:for(j=0;j<S;++j){if(F=J+me,(Pe=v[W=te+me]-v[F])>0){O=Te,Te=ze,ze=O;break e}if(Pe<0)break e;me+=E}te=x*Te,J=x*Me,me=y;e:for(j=0;j<S;++j){if(F=J+me,(Pe=v[W=te+me]-v[F])>0){O=Te,Te=Me,Me=O;break e}if(Pe<0)break e;me+=E}te=x*Se,J=x*ze,me=y;e:for(j=0;j<S;++j){if(F=J+me,(Pe=v[W=te+me]-v[F])>0){O=Se,Se=ze,ze=O;break e}if(Pe<0)break e;me+=E}for(te=x*Ee,J=x*Te,K=x*Me,Z=x*Se,X=x*ze,Q=x*ke,re=x*ue,ae=x*we,be=0,me=y,j=0;j<S;++j)W=te+me,F=J+me,V=K+me,ie=Z+me,le=X+me,pe=Q+me,de=re+me,ve=ae+me,Ve[be]=v[F],Xe[be]=v[ie],_e=_e&&Ve[be]===Xe[be],R=v[W],U=v[V],z=v[le],v[pe]=R,v[de]=U,v[ve]=z,++be,me+=w;for(te=x*oe,J=x*f,me=y,j=0;j<S;++j)F=J+me,v[W=te+me]=v[F],me+=w;for(te=x*he,J=x*p,me=y,j=0;j<S;++j)F=J+me,v[W=te+me]=v[F],me+=w;if(_e)for(N=fe;N<=xe;++N){for(W=y+N*x,be=0,j=0;j<S&&(Pe=v[W]-Ve[be])==0;++j)be+=C,W+=E;if(Pe!==0)if(Pe<0){if(N!==fe)for(te=x*N,J=x*fe,me=y,j=0;j<S;++j)F=J+me,P=v[W=te+me],v[W]=v[F],v[F]=P,me+=w;++fe}else for(;;){for(W=y+xe*x,be=0,j=0;j<S&&(Pe=v[W]-Ve[be])==0;++j)be+=C,W+=E;if(!(Pe>0)){if(Pe<0){for(te=x*N,J=x*fe,K=x*xe,me=y,j=0;j<S;++j)F=J+me,V=K+me,P=v[W=te+me],v[W]=v[F],v[F]=v[V],v[V]=P,me+=w;++fe,--xe;break}for(te=x*N,J=x*xe,me=y,j=0;j<S;++j)F=J+me,P=v[W=te+me],v[W]=v[F],v[F]=P,me+=w;--xe;break}xe--}}else for(N=fe;N<=xe;++N){for(W=y+N*x,be=0,j=0;j<S&&(Oe=v[W]-Ve[be])==0;++j)be+=C,W+=E;if(Oe<0){if(N!==fe)for(te=x*N,J=x*fe,me=y,j=0;j<S;++j)F=J+me,P=v[W=te+me],v[W]=v[F],v[F]=P,me+=w;++fe}else{for(W=y+N*x,be=0,j=0;j<S&&(De=v[W]-Xe[be])==0;++j)be+=C,W+=E;if(De>0)for(;;){for(W=y+xe*x,be=0,j=0;j<S&&(Pe=v[W]-Xe[be])==0;++j)be+=C,W+=E;if(!(Pe>0)){for(W=y+xe*x,be=0,j=0;j<S&&(Pe=v[W]-Ve[be])==0;++j)be+=C,W+=E;if(Pe<0){for(te=x*N,J=x*fe,K=x*xe,me=y,j=0;j<S;++j)F=J+me,V=K+me,P=v[W=te+me],v[W]=v[F],v[F]=v[V],v[V]=P,me+=w;++fe,--xe}else{for(te=x*N,J=x*xe,me=y,j=0;j<S;++j)F=J+me,P=v[W=te+me],v[W]=v[F],v[F]=P,me+=w;--xe}break}if(--xe<N)break}}}for(te=x*f,J=x*(fe-1),be=0,me=y,j=0;j<S;++j)F=J+me,v[W=te+me]=v[F],v[F]=Ve[be],++be,me+=w;for(te=x*p,J=x*(xe+1),be=0,me=y,j=0;j<S;++j)F=J+me,v[W=te+me]=v[F],v[F]=Xe[be],++be,me+=w;if(fe-2-f<=32?u(f,fe-2,v,y,x,_,h,S,w,E,C):m(f,fe-2,v,y,x,_,h,S,w,E,C),p-(xe+2)<=32?u(xe+2,p,v,y,x,_,h,S,w,E,C):m(xe+2,p,v,y,x,_,h,S,w,E,C),_e)return c(Ve),void c(Xe);if(fe<ke&&xe>we){e:for(;;){for(W=y+fe*x,be=0,me=y,j=0;j<S;++j){if(v[W]!==Ve[be])break e;++be,W+=w}++fe}e:for(;;){for(W=y+xe*x,be=0,me=y,j=0;j<S;++j){if(v[W]!==Xe[be])break e;++be,W+=w}--xe}for(N=fe;N<=xe;++N){for(W=y+N*x,be=0,j=0;j<S&&(Oe=v[W]-Ve[be])==0;++j)be+=C,W+=E;if(Oe===0){if(N!==fe)for(te=x*N,J=x*fe,me=y,j=0;j<S;++j)F=J+me,P=v[W=te+me],v[W]=v[F],v[F]=P,me+=w;++fe}else{for(W=y+N*x,be=0,j=0;j<S&&(De=v[W]-Xe[be])==0;++j)be+=C,W+=E;if(De===0)for(;;){for(W=y+xe*x,be=0,j=0;j<S&&(Pe=v[W]-Xe[be])==0;++j)be+=C,W+=E;if(Pe!==0){for(W=y+xe*x,be=0,j=0;j<S&&(Pe=v[W]-Ve[be])==0;++j)be+=C,W+=E;if(Pe<0){for(te=x*N,J=x*fe,K=x*xe,me=y,j=0;j<S;++j)F=J+me,V=K+me,P=v[W=te+me],v[W]=v[F],v[F]=v[V],v[V]=P,me+=w;++fe,--xe}else{for(te=x*N,J=x*xe,me=y,j=0;j<S;++j)F=J+me,P=v[W=te+me],v[W]=v[F],v[F]=P,me+=w;--xe}break}if(--xe<N)break}}}}c(Ve),c(Xe),xe-fe<=32?u(fe,xe,v,y,x,_,h,S,w,E,C):m(fe,xe,v,y,x,_,h,S,w,E,C)}}},l={"uint32,1,0":function(u,d){return function(c){var m=c.data,f=0|c.offset,p=c.shape,v=c.stride,y=0|v[0],x=0|p[0],_=0|v[1],h=0|p[1],S=_,w=_;x<=32?u(0,x-1,m,f,y,_,x,h,S,w,1):d(0,x-1,m,f,y,_,x,h,S,w,1)}}};g.exports=function(u,d){var c=[d,u].join(","),m=l[c],f=function(v,y){var x=r(y),_=[y,v].join(","),h=n[_];return x?h(x[0],x[1]):h()}(u,d),p=function(v,y,x){var _=r(y),h=[y,v].join(","),S=o[h];return v.length>1&&_?S(x,_[0],_[1]):S(x)}(u,d,f);return m(f,p)}},8729:function(g,s,t){var i=t(8139),r={};g.exports=function(n){var o=n.order,l=n.dtype,u=[o,l].join(":"),d=r[u];return d||(r[u]=d=i(o,l)),d(n),n}},5050:function(g,s,t){var i=t(4780),r=typeof Float64Array<"u";function n(c,m){return c[0]-m[0]}function o(){var c,m=this.stride,f=new Array(m.length);for(c=0;c<f.length;++c)f[c]=[Math.abs(m[c]),c];f.sort(n);var p=new Array(f.length);for(c=0;c<p.length;++c)p[c]=f[c][1];return p}var l={T:function(c){function m(p){this.data=p}var f=m.prototype;return f.dtype=c,f.index=function(){return-1},f.size=0,f.dimension=-1,f.shape=f.stride=f.order=[],f.lo=f.hi=f.transpose=f.step=function(){return new m(this.data)},f.get=f.set=function(){},f.pick=function(){return null},function(p){return new m(p)}},0:function(c,m){function f(v,y){this.data=v,this.offset=y}var p=f.prototype;return p.dtype=c,p.index=function(){return this.offset},p.dimension=0,p.size=1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new f(this.data,this.offset)},p.pick=function(){return m(this.data)},p.valueOf=p.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},p.set=function(v){return c==="generic"?this.data.set(this.offset,v):this.data[this.offset]=v},function(v,y,x,_){return new f(v,_)}},1:function(c,m,f){function p(y,x,_,h){this.data=y,this.shape=[x],this.stride=[_],this.offset=0|h}var v=p.prototype;return v.dtype=c,v.dimension=1,Object.defineProperty(v,"size",{get:function(){return this.shape[0]}}),v.order=[0],v.set=function(y,x){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,x):this.data[this.offset+this.stride[0]*y]=x},v.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},v.index=function(y){return this.offset+this.stride[0]*y},v.hi=function(y){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,this.stride[0],this.offset)},v.lo=function(y){var x=this.offset,_=0,h=this.shape[0],S=this.stride[0];return typeof y=="number"&&y>=0&&(x+=S*(_=0|y),h-=_),new p(this.data,h,S,x)},v.step=function(y){var x=this.shape[0],_=this.stride[0],h=this.offset,S=0,w=Math.ceil;return typeof y=="number"&&((S=0|y)<0?(h+=_*(x-1),x=w(-x/S)):x=w(x/S),_*=S),new p(this.data,x,_,h)},v.transpose=function(y){y=y===void 0?0:0|y;var x=this.shape,_=this.stride;return new p(this.data,x[y],_[y],this.offset)},v.pick=function(y){var x=[],_=[],h=this.offset;return typeof y=="number"&&y>=0?h=h+this.stride[0]*y|0:(x.push(this.shape[0]),_.push(this.stride[0])),(0,m[x.length+1])(this.data,x,_,h)},function(y,x,_,h){return new p(y,x[0],_[0],h)}},2:function(c,m,f){function p(y,x,_,h,S,w){this.data=y,this.shape=[x,_],this.stride=[h,S],this.offset=0|w}var v=p.prototype;return v.dtype=c,v.dimension=2,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(v,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),v.set=function(y,x,_){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*x,_):this.data[this.offset+this.stride[0]*y+this.stride[1]*x]=_},v.get=function(y,x){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*x):this.data[this.offset+this.stride[0]*y+this.stride[1]*x]},v.index=function(y,x){return this.offset+this.stride[0]*y+this.stride[1]*x},v.hi=function(y,x){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof x!="number"||x<0?this.shape[1]:0|x,this.stride[0],this.stride[1],this.offset)},v.lo=function(y,x){var _=this.offset,h=0,S=this.shape[0],w=this.shape[1],E=this.stride[0],C=this.stride[1];return typeof y=="number"&&y>=0&&(_+=E*(h=0|y),S-=h),typeof x=="number"&&x>=0&&(_+=C*(h=0|x),w-=h),new p(this.data,S,w,E,C,_)},v.step=function(y,x){var _=this.shape[0],h=this.shape[1],S=this.stride[0],w=this.stride[1],E=this.offset,C=0,P=Math.ceil;return typeof y=="number"&&((C=0|y)<0?(E+=S*(_-1),_=P(-_/C)):_=P(_/C),S*=C),typeof x=="number"&&((C=0|x)<0?(E+=w*(h-1),h=P(-h/C)):h=P(h/C),w*=C),new p(this.data,_,h,S,w,E)},v.transpose=function(y,x){y=y===void 0?0:0|y,x=x===void 0?1:0|x;var _=this.shape,h=this.stride;return new p(this.data,_[y],_[x],h[y],h[x],this.offset)},v.pick=function(y,x){var _=[],h=[],S=this.offset;return typeof y=="number"&&y>=0?S=S+this.stride[0]*y|0:(_.push(this.shape[0]),h.push(this.stride[0])),typeof x=="number"&&x>=0?S=S+this.stride[1]*x|0:(_.push(this.shape[1]),h.push(this.stride[1])),(0,m[_.length+1])(this.data,_,h,S)},function(y,x,_,h){return new p(y,x[0],x[1],_[0],_[1],h)}},3:function(c,m,f){function p(y,x,_,h,S,w,E,C){this.data=y,this.shape=[x,_,h],this.stride=[S,w,E],this.offset=0|C}var v=p.prototype;return v.dtype=c,v.dimension=3,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(v,"order",{get:function(){var y=Math.abs(this.stride[0]),x=Math.abs(this.stride[1]),_=Math.abs(this.stride[2]);return y>x?x>_?[2,1,0]:y>_?[1,2,0]:[1,0,2]:y>_?[2,0,1]:_>x?[0,1,2]:[0,2,1]}}),v.set=function(y,x,_,h){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_,h):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_]=h},v.get=function(y,x,_){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_]},v.index=function(y,x,_){return this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_},v.hi=function(y,x,_){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof x!="number"||x<0?this.shape[1]:0|x,typeof _!="number"||_<0?this.shape[2]:0|_,this.stride[0],this.stride[1],this.stride[2],this.offset)},v.lo=function(y,x,_){var h=this.offset,S=0,w=this.shape[0],E=this.shape[1],C=this.shape[2],P=this.stride[0],O=this.stride[1],R=this.stride[2];return typeof y=="number"&&y>=0&&(h+=P*(S=0|y),w-=S),typeof x=="number"&&x>=0&&(h+=O*(S=0|x),E-=S),typeof _=="number"&&_>=0&&(h+=R*(S=0|_),C-=S),new p(this.data,w,E,C,P,O,R,h)},v.step=function(y,x,_){var h=this.shape[0],S=this.shape[1],w=this.shape[2],E=this.stride[0],C=this.stride[1],P=this.stride[2],O=this.offset,R=0,U=Math.ceil;return typeof y=="number"&&((R=0|y)<0?(O+=E*(h-1),h=U(-h/R)):h=U(h/R),E*=R),typeof x=="number"&&((R=0|x)<0?(O+=C*(S-1),S=U(-S/R)):S=U(S/R),C*=R),typeof _=="number"&&((R=0|_)<0?(O+=P*(w-1),w=U(-w/R)):w=U(w/R),P*=R),new p(this.data,h,S,w,E,C,P,O)},v.transpose=function(y,x,_){y=y===void 0?0:0|y,x=x===void 0?1:0|x,_=_===void 0?2:0|_;var h=this.shape,S=this.stride;return new p(this.data,h[y],h[x],h[_],S[y],S[x],S[_],this.offset)},v.pick=function(y,x,_){var h=[],S=[],w=this.offset;return typeof y=="number"&&y>=0?w=w+this.stride[0]*y|0:(h.push(this.shape[0]),S.push(this.stride[0])),typeof x=="number"&&x>=0?w=w+this.stride[1]*x|0:(h.push(this.shape[1]),S.push(this.stride[1])),typeof _=="number"&&_>=0?w=w+this.stride[2]*_|0:(h.push(this.shape[2]),S.push(this.stride[2])),(0,m[h.length+1])(this.data,h,S,w)},function(y,x,_,h){return new p(y,x[0],x[1],x[2],_[0],_[1],_[2],h)}},4:function(c,m,f){function p(y,x,_,h,S,w,E,C,P,O){this.data=y,this.shape=[x,_,h,S],this.stride=[w,E,C,P],this.offset=0|O}var v=p.prototype;return v.dtype=c,v.dimension=4,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(v,"order",{get:f}),v.set=function(y,x,_,h,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h,S):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h]=S},v.get=function(y,x,_,h){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h]},v.index=function(y,x,_,h){return this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h},v.hi=function(y,x,_,h){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof x!="number"||x<0?this.shape[1]:0|x,typeof _!="number"||_<0?this.shape[2]:0|_,typeof h!="number"||h<0?this.shape[3]:0|h,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},v.lo=function(y,x,_,h){var S=this.offset,w=0,E=this.shape[0],C=this.shape[1],P=this.shape[2],O=this.shape[3],R=this.stride[0],U=this.stride[1],z=this.stride[2],N=this.stride[3];return typeof y=="number"&&y>=0&&(S+=R*(w=0|y),E-=w),typeof x=="number"&&x>=0&&(S+=U*(w=0|x),C-=w),typeof _=="number"&&_>=0&&(S+=z*(w=0|_),P-=w),typeof h=="number"&&h>=0&&(S+=N*(w=0|h),O-=w),new p(this.data,E,C,P,O,R,U,z,N,S)},v.step=function(y,x,_,h){var S=this.shape[0],w=this.shape[1],E=this.shape[2],C=this.shape[3],P=this.stride[0],O=this.stride[1],R=this.stride[2],U=this.stride[3],z=this.offset,N=0,W=Math.ceil;return typeof y=="number"&&((N=0|y)<0?(z+=P*(S-1),S=W(-S/N)):S=W(S/N),P*=N),typeof x=="number"&&((N=0|x)<0?(z+=O*(w-1),w=W(-w/N)):w=W(w/N),O*=N),typeof _=="number"&&((N=0|_)<0?(z+=R*(E-1),E=W(-E/N)):E=W(E/N),R*=N),typeof h=="number"&&((N=0|h)<0?(z+=U*(C-1),C=W(-C/N)):C=W(C/N),U*=N),new p(this.data,S,w,E,C,P,O,R,U,z)},v.transpose=function(y,x,_,h){y=y===void 0?0:0|y,x=x===void 0?1:0|x,_=_===void 0?2:0|_,h=h===void 0?3:0|h;var S=this.shape,w=this.stride;return new p(this.data,S[y],S[x],S[_],S[h],w[y],w[x],w[_],w[h],this.offset)},v.pick=function(y,x,_,h){var S=[],w=[],E=this.offset;return typeof y=="number"&&y>=0?E=E+this.stride[0]*y|0:(S.push(this.shape[0]),w.push(this.stride[0])),typeof x=="number"&&x>=0?E=E+this.stride[1]*x|0:(S.push(this.shape[1]),w.push(this.stride[1])),typeof _=="number"&&_>=0?E=E+this.stride[2]*_|0:(S.push(this.shape[2]),w.push(this.stride[2])),typeof h=="number"&&h>=0?E=E+this.stride[3]*h|0:(S.push(this.shape[3]),w.push(this.stride[3])),(0,m[S.length+1])(this.data,S,w,E)},function(y,x,_,h){return new p(y,x[0],x[1],x[2],x[3],_[0],_[1],_[2],_[3],h)}},5:function(c,m,f){function p(y,x,_,h,S,w,E,C,P,O,R,U){this.data=y,this.shape=[x,_,h,S,w],this.stride=[E,C,P,O,R],this.offset=0|U}var v=p.prototype;return v.dtype=c,v.dimension=5,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(v,"order",{get:f}),v.set=function(y,x,_,h,S,w){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h+this.stride[4]*S,w):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h+this.stride[4]*S]=w},v.get=function(y,x,_,h,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h+this.stride[4]*S):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h+this.stride[4]*S]},v.index=function(y,x,_,h,S){return this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*_+this.stride[3]*h+this.stride[4]*S},v.hi=function(y,x,_,h,S){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof x!="number"||x<0?this.shape[1]:0|x,typeof _!="number"||_<0?this.shape[2]:0|_,typeof h!="number"||h<0?this.shape[3]:0|h,typeof S!="number"||S<0?this.shape[4]:0|S,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},v.lo=function(y,x,_,h,S){var w=this.offset,E=0,C=this.shape[0],P=this.shape[1],O=this.shape[2],R=this.shape[3],U=this.shape[4],z=this.stride[0],N=this.stride[1],W=this.stride[2],F=this.stride[3],V=this.stride[4];return typeof y=="number"&&y>=0&&(w+=z*(E=0|y),C-=E),typeof x=="number"&&x>=0&&(w+=N*(E=0|x),P-=E),typeof _=="number"&&_>=0&&(w+=W*(E=0|_),O-=E),typeof h=="number"&&h>=0&&(w+=F*(E=0|h),R-=E),typeof S=="number"&&S>=0&&(w+=V*(E=0|S),U-=E),new p(this.data,C,P,O,R,U,z,N,W,F,V,w)},v.step=function(y,x,_,h,S){var w=this.shape[0],E=this.shape[1],C=this.shape[2],P=this.shape[3],O=this.shape[4],R=this.stride[0],U=this.stride[1],z=this.stride[2],N=this.stride[3],W=this.stride[4],F=this.offset,V=0,j=Math.ceil;return typeof y=="number"&&((V=0|y)<0?(F+=R*(w-1),w=j(-w/V)):w=j(w/V),R*=V),typeof x=="number"&&((V=0|x)<0?(F+=U*(E-1),E=j(-E/V)):E=j(E/V),U*=V),typeof _=="number"&&((V=0|_)<0?(F+=z*(C-1),C=j(-C/V)):C=j(C/V),z*=V),typeof h=="number"&&((V=0|h)<0?(F+=N*(P-1),P=j(-P/V)):P=j(P/V),N*=V),typeof S=="number"&&((V=0|S)<0?(F+=W*(O-1),O=j(-O/V)):O=j(O/V),W*=V),new p(this.data,w,E,C,P,O,R,U,z,N,W,F)},v.transpose=function(y,x,_,h,S){y=y===void 0?0:0|y,x=x===void 0?1:0|x,_=_===void 0?2:0|_,h=h===void 0?3:0|h,S=S===void 0?4:0|S;var w=this.shape,E=this.stride;return new p(this.data,w[y],w[x],w[_],w[h],w[S],E[y],E[x],E[_],E[h],E[S],this.offset)},v.pick=function(y,x,_,h,S){var w=[],E=[],C=this.offset;return typeof y=="number"&&y>=0?C=C+this.stride[0]*y|0:(w.push(this.shape[0]),E.push(this.stride[0])),typeof x=="number"&&x>=0?C=C+this.stride[1]*x|0:(w.push(this.shape[1]),E.push(this.stride[1])),typeof _=="number"&&_>=0?C=C+this.stride[2]*_|0:(w.push(this.shape[2]),E.push(this.stride[2])),typeof h=="number"&&h>=0?C=C+this.stride[3]*h|0:(w.push(this.shape[3]),E.push(this.stride[3])),typeof S=="number"&&S>=0?C=C+this.stride[4]*S|0:(w.push(this.shape[4]),E.push(this.stride[4])),(0,m[w.length+1])(this.data,w,E,C)},function(y,x,_,h){return new p(y,x[0],x[1],x[2],x[3],x[4],_[0],_[1],_[2],_[3],_[4],h)}}};function u(c,m){var f=m===-1?"T":String(m),p=l[f];return m===-1?p(c):m===0?p(c,d[c][0]):p(c,d[c],o)}var d={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};g.exports=function(c,m,f,p){if(c===void 0)return(0,d.array[0])([]);typeof c=="number"&&(c=[c]),m===void 0&&(m=[c.length]);var v=m.length;if(f===void 0){f=new Array(v);for(var y=v-1,x=1;y>=0;--y)f[y]=x,x*=m[y]}if(p===void 0)for(p=0,y=0;y<v;++y)f[y]<0&&(p-=(m[y]-1)*f[y]);for(var _=function(S){if(i(S))return"buffer";if(r)switch(Object.prototype.toString.call(S)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(S)?"array":"generic"}(c),h=d[_];h.length<=v+1;)h.push(u(_,h.length-1));return(0,h[v+1])(c,m,f,p)}},8551:function(g,s,t){var i=t(8362),r=Math.pow(2,-1074),n=-1>>>0;g.exports=function(o,l){if(isNaN(o)||isNaN(l))return NaN;if(o===l)return o;if(o===0)return l<0?-r:r;var u=i.hi(o),d=i.lo(o);return l>o==o>0?d===n?(u+=1,d=0):d+=1:d===0?(d=n,u-=1):d-=1,i.pack(d,u)}},115:function(g,s){s.vertexNormals=function(t,i,r){for(var n=i.length,o=new Array(n),l=r===void 0?1e-6:r,u=0;u<n;++u)o[u]=[0,0,0];for(u=0;u<t.length;++u)for(var d=t[u],c=0,m=d[d.length-1],f=d[0],p=0;p<d.length;++p){c=m,m=f,f=d[(p+1)%d.length];for(var v=i[c],y=i[m],x=i[f],_=new Array(3),h=0,S=new Array(3),w=0,E=0;E<3;++E)_[E]=v[E]-y[E],h+=_[E]*_[E],S[E]=x[E]-y[E],w+=S[E]*S[E];if(h*w>l){var C=o[m],P=1/Math.sqrt(h*w);for(E=0;E<3;++E){var O=(E+1)%3,R=(E+2)%3;C[E]+=P*(S[O]*_[R]-S[R]*_[O])}}}for(u=0;u<n;++u){C=o[u];var U=0;for(E=0;E<3;++E)U+=C[E]*C[E];if(U>l)for(P=1/Math.sqrt(U),E=0;E<3;++E)C[E]*=P;else for(E=0;E<3;++E)C[E]=0}return o},s.faceNormals=function(t,i,r){for(var n=t.length,o=new Array(n),l=r===void 0?1e-6:r,u=0;u<n;++u){for(var d=t[u],c=new Array(3),m=0;m<3;++m)c[m]=i[d[m]];var f=new Array(3),p=new Array(3);for(m=0;m<3;++m)f[m]=c[1][m]-c[0][m],p[m]=c[2][m]-c[0][m];var v=new Array(3),y=0;for(m=0;m<3;++m){var x=(m+1)%3,_=(m+2)%3;v[m]=f[x]*p[_]-f[_]*p[x],y+=v[m]*v[m]}for(y=y>l?1/Math.sqrt(y):0,m=0;m<3;++m)v[m]*=y;o[u]=v}return o}},567:function(g){g.exports=function(s,t,i,r,n,o,l,u,d,c){var m=t+o+c;if(f>0){var f=Math.sqrt(m+1);s[0]=.5*(l-d)/f,s[1]=.5*(u-r)/f,s[2]=.5*(i-o)/f,s[3]=.5*f}else{var p=Math.max(t,o,c);f=Math.sqrt(2*p-m+1),t>=p?(s[0]=.5*f,s[1]=.5*(n+i)/f,s[2]=.5*(u+r)/f,s[3]=.5*(l-d)/f):o>=p?(s[0]=.5*(i+n)/f,s[1]=.5*f,s[2]=.5*(d+l)/f,s[3]=.5*(u-r)/f):(s[0]=.5*(r+u)/f,s[1]=.5*(l+d)/f,s[2]=.5*f,s[3]=.5*(i-n)/f)}return s}},7774:function(g,s,t){g.exports=function(p){var v=(p=p||{}).center||[0,0,0],y=p.rotation||[0,0,0,1],x=p.radius||1;v=[].slice.call(v,0,3),c(y=[].slice.call(y,0,4),y);var _=new m(y,v,Math.log(x));return _.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&_.lookAt(0,p.eye,p.center,p.up),_};var i=t(8444),r=t(3012),n=t(5950),o=t(7437),l=t(567);function u(p,v,y){return Math.sqrt(Math.pow(p,2)+Math.pow(v,2)+Math.pow(y,2))}function d(p,v,y,x){return Math.sqrt(Math.pow(p,2)+Math.pow(v,2)+Math.pow(y,2)+Math.pow(x,2))}function c(p,v){var y=v[0],x=v[1],_=v[2],h=v[3],S=d(y,x,_,h);S>1e-6?(p[0]=y/S,p[1]=x/S,p[2]=_/S,p[3]=h/S):(p[0]=p[1]=p[2]=0,p[3]=1)}function m(p,v,y){this.radius=i([y]),this.center=i(v),this.rotation=i(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var f=m.prototype;f.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},f.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var v=this.computedRotation;c(v,v);var y=this.computedMatrix;n(y,v);var x=this.computedCenter,_=this.computedEye,h=this.computedUp,S=Math.exp(this.computedRadius[0]);_[0]=x[0]+S*y[2],_[1]=x[1]+S*y[6],_[2]=x[2]+S*y[10],h[0]=y[1],h[1]=y[5],h[2]=y[9];for(var w=0;w<3;++w){for(var E=0,C=0;C<3;++C)E+=y[w+4*C]*_[C];y[12+w]=-E}},f.getMatrix=function(p,v){this.recalcMatrix(p);var y=this.computedMatrix;if(v){for(var x=0;x<16;++x)v[x]=y[x];return v}return y},f.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},f.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},f.pan=function(p,v,y,x){v=v||0,y=y||0,x=x||0,this.recalcMatrix(p);var _=this.computedMatrix,h=_[1],S=_[5],w=_[9],E=u(h,S,w);h/=E,S/=E,w/=E;var C=_[0],P=_[4],O=_[8],R=C*h+P*S+O*w,U=u(C-=h*R,P-=S*R,O-=w*R);C/=U,P/=U,O/=U,_[2],_[6],_[10];var z=C*v+h*y,N=P*v+S*y,W=O*v+w*y;this.center.move(p,z,N,W);var F=Math.exp(this.computedRadius[0]);F=Math.max(1e-4,F+x),this.radius.set(p,Math.log(F))},f.rotate=function(p,v,y,x){this.recalcMatrix(p),v=v||0,y=y||0;var _=this.computedMatrix,h=_[0],S=_[4],w=_[8],E=_[1],C=_[5],P=_[9],O=_[2],R=_[6],U=_[10],z=v*h+y*E,N=v*S+y*C,W=v*w+y*P,F=-(R*W-U*N),V=-(U*z-O*W),j=-(O*N-R*z),te=Math.sqrt(Math.max(0,1-Math.pow(F,2)-Math.pow(V,2)-Math.pow(j,2))),J=d(F,V,j,te);J>1e-6?(F/=J,V/=J,j/=J,te/=J):(F=V=j=0,te=1);var K=this.computedRotation,Z=K[0],X=K[1],Q=K[2],re=K[3],ae=Z*te+re*F+X*j-Q*V,ie=X*te+re*V+Q*F-Z*j,le=Q*te+re*j+Z*V-X*F,pe=re*te-Z*F-X*V-Q*j;if(x){F=O,V=R,j=U;var de=Math.sin(x)/u(F,V,j);F*=de,V*=de,j*=de,pe=pe*(te=Math.cos(v))-(ae=ae*te+pe*F+ie*j-le*V)*F-(ie=ie*te+pe*V+le*F-ae*j)*V-(le=le*te+pe*j+ae*V-ie*F)*j}var ve=d(ae,ie,le,pe);ve>1e-6?(ae/=ve,ie/=ve,le/=ve,pe/=ve):(ae=ie=le=0,pe=1),this.rotation.set(p,ae,ie,le,pe)},f.lookAt=function(p,v,y,x){this.recalcMatrix(p),y=y||this.computedCenter,v=v||this.computedEye,x=x||this.computedUp;var _=this.computedMatrix;r(_,v,y,x);var h=this.computedRotation;l(h,_[0],_[1],_[2],_[4],_[5],_[6],_[8],_[9],_[10]),c(h,h),this.rotation.set(p,h[0],h[1],h[2],h[3]);for(var S=0,w=0;w<3;++w)S+=Math.pow(y[w]-v[w],2);this.radius.set(p,.5*Math.log(Math.max(S,1e-6))),this.center.set(p,y[0],y[1],y[2])},f.translate=function(p,v,y,x){this.center.move(p,v||0,y||0,x||0)},f.setMatrix=function(p,v){var y=this.computedRotation;l(y,v[0],v[1],v[2],v[4],v[5],v[6],v[8],v[9],v[10]),c(y,y),this.rotation.set(p,y[0],y[1],y[2],y[3]);var x=this.computedMatrix;o(x,v);var _=x[15];if(Math.abs(_)>1e-6){var h=x[12]/_,S=x[13]/_,w=x[14]/_;this.recalcMatrix(p);var E=Math.exp(this.computedRadius[0]);this.center.set(p,h-x[2]*E,S-x[6]*E,w-x[10]*E),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},f.setDistance=function(p,v){v>0&&this.radius.set(p,Math.log(v))},f.setDistanceLimits=function(p,v){p=p>0?Math.log(p):-1/0,v=v>0?Math.log(v):1/0,v=Math.max(v,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=v},f.getDistanceLimits=function(p){var v=this.radius.bounds;return p?(p[0]=Math.exp(v[0][0]),p[1]=Math.exp(v[1][0]),p):[Math.exp(v[0][0]),Math.exp(v[1][0])]},f.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},f.fromJSON=function(p){var v=this.lastT(),y=p.center;y&&this.center.set(v,y[0],y[1],y[2]);var x=p.rotation;x&&this.rotation.set(v,x[0],x[1],x[2],x[3]);var _=p.distance;_&&_>0&&this.radius.set(v,Math.log(_)),this.setDistanceLimits(p.zoomMin,p.zoomMax)}},4930:function(g,s,t){var i=t(6184);g.exports=function(r,n,o){return i(o=o!==void 0?o+"":" ",n)+r}},4405:function(g){g.exports=function(s,t){t||(t=[0,""]),s=String(s);var i=parseFloat(s,10);return t[0]=i,t[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(g,s,t){g.exports=function(r,n){for(var o=0|n.length,l=r.length,u=[new Array(o),new Array(o)],d=0;d<o;++d)u[0][d]=[],u[1][d]=[];for(d=0;d<l;++d){var c=r[d];u[0][c[0]].push(c),u[1][c[1]].push(c)}var m=[];for(d=0;d<o;++d)u[0][d].length+u[1][d].length===0&&m.push([d]);function f(S,w){var E=u[w][S[w]];E.splice(E.indexOf(S),1)}function p(S,w,E){for(var C,P,O,R=0;R<2;++R)if(u[R][w].length>0){C=u[R][w][0],O=R;break}P=C[1^O];for(var U=0;U<2;++U)for(var z=u[U][w],N=0;N<z.length;++N){var W=z[N],F=W[1^U];i(n[S],n[w],n[P],n[F])>0&&(C=W,P=F,O=U)}return E||C&&f(C,O),P}function v(S,w){var E=u[w][S][0],C=[S];f(E,w);for(var P=E[1^w];;){for(;P!==S;)C.push(P),P=p(C[C.length-2],P,!1);if(u[0][S].length+u[1][S].length===0)break;var O=C[C.length-1],R=S,U=C[1],z=p(O,R,!0);if(i(n[O],n[R],n[U],n[z])<0)break;C.push(S),P=p(O,R)}return C}function y(S,w){return w[1]===w[w.length-1]}for(d=0;d<o;++d)for(var x=0;x<2;++x){for(var _=[];u[x][d].length>0;){u[0][d].length;var h=v(d,x);y(0,h)?_.push.apply(_,h):(_.length>0&&m.push(_),_=h)}_.length>0&&m.push(_)}return m};var i=t(9398)},3959:function(g,s,t){g.exports=function(r,n){for(var o=i(r,n.length),l=new Array(n.length),u=new Array(n.length),d=[],c=0;c<n.length;++c){var m=o[c].length;u[c]=m,l[c]=!0,m<=1&&d.push(c)}for(;d.length>0;){l[x=d.pop()]=!1;var f=o[x];for(c=0;c<f.length;++c){var p=f[c];--u[p]==0&&d.push(p)}}var v=new Array(n.length),y=[];for(c=0;c<n.length;++c)if(l[c]){var x=y.length;v[c]=x,y.push(n[c])}else v[c]=-1;var _=[];for(c=0;c<r.length;++c){var h=r[c];l[h[0]]&&l[h[1]]&&_.push([v[h[0]],v[h[1]]])}return[_,y]};var i=t(8348)},8040:function(g,s,t){g.exports=function(m,f){var p=d(m,f);m=p[0];for(var v=(f=p[1]).length,y=(m.length,i(m,f.length)),x=0;x<v;++x)if(y[x].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var _=r(m,f),h=(_=_.filter(function(ge){for(var ke=ge.length,we=[0],ue=0;ue<ke;++ue){var oe=f[ge[ue]],he=f[ge[(ue+1)%ke]],Ee=o(-oe[0],oe[1]),Te=o(-oe[0],he[1]),Me=o(he[0],oe[1]),Se=o(he[0],he[1]);we=l(we,l(l(Ee,Te),l(Me,Se)))}return we[we.length-1]>0})).length,S=new Array(h),w=new Array(h);for(x=0;x<h;++x){S[x]=x;var E=new Array(h),C=_[x].map(function(ge){return f[ge]}),P=n([C]),O=0;e:for(var R=0;R<h;++R)if(E[R]=0,x!==R){for(var U=(be=_[R]).length,z=0;z<U;++z){var N=P(f[be[z]]);if(N!==0){N<0&&(E[R]=1,O+=1);continue e}}E[R]=1,O+=1}w[x]=[O,x,E]}for(w.sort(function(ge,ke){return ke[0]-ge[0]}),x=0;x<h;++x){var W=(E=w[x])[1],F=E[2];for(R=0;R<h;++R)F[R]&&(S[R]=W)}var V=function(ge){for(var ke=new Array(ge),we=0;we<ge;++we)ke[we]=[];return ke}(h);for(x=0;x<h;++x)V[x].push(S[x]),V[S[x]].push(x);var j={},te=c(v,!1);for(x=0;x<h;++x)for(U=(be=_[x]).length,R=0;R<U;++R){var J=be[R],K=be[(R+1)%U],Z=Math.min(J,K)+":"+Math.max(J,K);if(Z in j){var X=j[Z];V[X].push(x),V[x].push(X),te[J]=te[K]=!0}else j[Z]=x}function Q(ge){for(var ke=ge.length,we=0;we<ke;++we)if(!te[ge[we]])return!1;return!0}var re=[],ae=c(h,-1);for(x=0;x<h;++x)S[x]!==x||Q(_[x])?ae[x]=-1:(re.push(x),ae[x]=0);for(p=[];re.length>0;){var ie=re.pop(),le=V[ie];u(le,function(ge,ke){return ge-ke});var pe,de=le.length,ve=ae[ie];for(ve===0&&(pe=[be=_[ie]]),x=0;x<de;++x){var be,me=le[x];ae[me]>=0||(ae[me]=1^ve,re.push(me),ve===0&&(Q(be=_[me])||(be.reverse(),pe.push(be))))}ve===0&&p.push(pe)}return p};var i=t(8348),r=t(4166),n=t(211),o=t(9660),l=t(9662),u=t(1215),d=t(3959);function c(m,f){for(var p=new Array(m),v=0;v<m;++v)p[v]=f;return p}},211:function(g,s,t){g.exports=function(c){for(var m=c.length,f=[],p=[],v=0;v<m;++v)for(var y=c[v],x=y.length,_=x-1,h=0;h<x;_=h++){var S=y[_],w=y[h];S[0]===w[0]?p.push([S,w]):f.push([S,w])}if(f.length===0)return p.length===0?d:(E=u(p),function(O){return E(O[0],O[1])?0:1});var E,C=r(f),P=function(O,R){return function(U){var z=o.le(R,U[0]);if(z<0)return 1;var N=O[z];if(!N){if(!(z>0&&R[z]===U[0]))return 1;N=O[z-1]}for(var W=1;N;){var F=N.key,V=i(U,F[0],F[1]);if(F[0][0]<F[1][0])if(V<0)N=N.left;else{if(!(V>0))return 0;W=-1,N=N.right}else if(V>0)N=N.left;else{if(!(V<0))return 0;W=1,N=N.right}}return W}}(C.slabs,C.coordinates);return p.length===0?P:function(O,R){return function(U){return O(U[0],U[1])?0:R(U)}}(u(p),P)};var i=t(417)[3],r=t(4385),n=t(9014),o=t(5070);function l(){return!0}function u(c){for(var m={},f=0;f<c.length;++f){var p=c[f],v=p[0][0],y=p[0][1],x=p[1][1],_=[Math.min(y,x),Math.max(y,x)];v in m?m[v].push(_):m[v]=[_]}var h={},S=Object.keys(m);for(f=0;f<S.length;++f){var w=m[S[f]];h[S[f]]=n(w)}return function(E){return function(C,P){var O=E[C];return!!O&&!!O.queryPoint(P,l)}}(h)}function d(c){return 1}},7309:function(g){var s=new Float64Array(4),t=new Float64Array(4),i=new Float64Array(4);g.exports=function(r,n,o,l,u){s.length<l.length&&(s=new Float64Array(l.length),t=new Float64Array(l.length),i=new Float64Array(l.length));for(var d=0;d<l.length;++d)s[d]=r[d]-l[d],t[d]=n[d]-r[d],i[d]=o[d]-r[d];var c=0,m=0,f=0,p=0,v=0,y=0;for(d=0;d<l.length;++d){var x=t[d],_=i[d],h=s[d];c+=x*x,m+=x*_,f+=_*_,p+=h*x,v+=h*_,y+=h*h}var S,w,E,C,P,O=Math.abs(c*f-m*m),R=m*v-f*p,U=m*p-c*v;if(R+U<=O)if(R<0)U<0&&p<0?(U=0,-p>=c?(R=1,S=c+2*p+y):S=p*(R=-p/c)+y):(R=0,v>=0?(U=0,S=y):-v>=f?(U=1,S=f+2*v+y):S=v*(U=-v/f)+y);else if(U<0)U=0,p>=0?(R=0,S=y):-p>=c?(R=1,S=c+2*p+y):S=p*(R=-p/c)+y;else{var z=1/O;S=(R*=z)*(c*R+m*(U*=z)+2*p)+U*(m*R+f*U+2*v)+y}else R<0?(E=f+v)>(w=m+p)?(C=E-w)>=(P=c-2*m+f)?(R=1,U=0,S=c+2*p+y):S=(R=C/P)*(c*R+m*(U=1-R)+2*p)+U*(m*R+f*U+2*v)+y:(R=0,E<=0?(U=1,S=f+2*v+y):v>=0?(U=0,S=y):S=v*(U=-v/f)+y):U<0?(E=c+p)>(w=m+v)?(C=E-w)>=(P=c-2*m+f)?(U=1,R=0,S=f+2*v+y):S=(R=1-(U=C/P))*(c*R+m*U+2*p)+U*(m*R+f*U+2*v)+y:(U=0,E<=0?(R=1,S=c+2*p+y):p>=0?(R=0,S=y):S=p*(R=-p/c)+y):(C=f+v-m-p)<=0?(R=0,U=1,S=f+2*v+y):C>=(P=c-2*m+f)?(R=1,U=0,S=c+2*p+y):S=(R=C/P)*(c*R+m*(U=1-R)+2*p)+U*(m*R+f*U+2*v)+y;var N=1-R-U;for(d=0;d<l.length;++d)u[d]=N*r[d]+R*n[d]+U*o[d];return S<0?0:S}},1116:function(g,s,t){g.exports=t(6093)},7584:function(g,s,t){var i=t(1539);g.exports=function(r,n){for(var o=r.length,l=new Array(o),u=0;u<o;++u)l[u]=i(r[u],n[u]);return l}},2826:function(g,s,t){g.exports=function(r){for(var n=new Array(r.length),o=0;o<r.length;++o)n[o]=i(r[o]);return n};var i=t(5125)},4469:function(g,s,t){var i=t(5125),r=t(3962);g.exports=function(n,o){for(var l=i(o),u=n.length,d=new Array(u),c=0;c<u;++c)d[c]=r(n[c],l);return d}},6695:function(g,s,t){var i=t(4354);g.exports=function(r,n){for(var o=r.length,l=new Array(o),u=0;u<o;++u)l[u]=i(r[u],n[u]);return l}},7037:function(g,s,t){var i=t(9209),r=t(1284),n=t(9887);g.exports=function(o){o.sort(r);for(var l=o.length,u=0,d=0;d<l;++d){var c=o[d],m=n(c);if(m!==0){if(u>0){var f=o[u-1];if(i(c,f)===0&&n(f)!==m){u-=1;continue}}o[u++]=c}}return o.length=u,o}},6184:function(g){var s,t="";g.exports=function(i,r){if(typeof i!="string")throw new TypeError("expected a string");if(r===1)return i;if(r===2)return i+i;var n=i.length*r;if(s!==i||s===void 0)s=i,t="";else if(t.length>=n)return t.substr(0,n);for(;n>t.length&&r>1;)1&r&&(t+=i),r>>=1,i+=i;return t=(t+=i).substr(0,n)}},8161:function(g,s,t){g.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(g){g.exports=function(s){for(var t=s.length,i=s[s.length-1],r=t,n=t-2;n>=0;--n){var o=i;(d=(u=s[n])-((i=o+u)-o))&&(s[--r]=i,i=d)}var l=0;for(n=r;n<t;++n){var u,d;(d=(u=i)-((i=(o=s[n])+u)-o))&&(s[l++]=d)}return s[l++]=i,s.length=l,s}},8167:function(g,s,t){var i=t(9660),r=t(9662),n=t(8289),o=t(402);function l(v,y,x,_){return function(h){return _(v(x(h[0][0],h[1][1]),x(-h[0][1],h[1][0])))}}function u(v,y,x,_){return function(h){return _(v(y(v(x(h[1][1],h[2][2]),x(-h[1][2],h[2][1])),h[0][0]),v(y(v(x(h[1][0],h[2][2]),x(-h[1][2],h[2][0])),-h[0][1]),y(v(x(h[1][0],h[2][1]),x(-h[1][1],h[2][0])),h[0][2]))))}}function d(v,y,x,_){return function(h){return _(v(v(y(v(y(v(x(h[2][2],h[3][3]),x(-h[2][3],h[3][2])),h[1][1]),v(y(v(x(h[2][1],h[3][3]),x(-h[2][3],h[3][1])),-h[1][2]),y(v(x(h[2][1],h[3][2]),x(-h[2][2],h[3][1])),h[1][3]))),h[0][0]),y(v(y(v(x(h[2][2],h[3][3]),x(-h[2][3],h[3][2])),h[1][0]),v(y(v(x(h[2][0],h[3][3]),x(-h[2][3],h[3][0])),-h[1][2]),y(v(x(h[2][0],h[3][2]),x(-h[2][2],h[3][0])),h[1][3]))),-h[0][1])),v(y(v(y(v(x(h[2][1],h[3][3]),x(-h[2][3],h[3][1])),h[1][0]),v(y(v(x(h[2][0],h[3][3]),x(-h[2][3],h[3][0])),-h[1][1]),y(v(x(h[2][0],h[3][1]),x(-h[2][1],h[3][0])),h[1][3]))),h[0][2]),y(v(y(v(x(h[2][1],h[3][2]),x(-h[2][2],h[3][1])),h[1][0]),v(y(v(x(h[2][0],h[3][2]),x(-h[2][2],h[3][0])),-h[1][1]),y(v(x(h[2][0],h[3][1]),x(-h[2][1],h[3][0])),h[1][2]))),-h[0][3]))))}}function c(v,y,x,_){return function(h){return _(v(v(y(v(v(y(v(y(v(x(h[3][3],h[4][4]),x(-h[3][4],h[4][3])),h[2][2]),v(y(v(x(h[3][2],h[4][4]),x(-h[3][4],h[4][2])),-h[2][3]),y(v(x(h[3][2],h[4][3]),x(-h[3][3],h[4][2])),h[2][4]))),h[1][1]),y(v(y(v(x(h[3][3],h[4][4]),x(-h[3][4],h[4][3])),h[2][1]),v(y(v(x(h[3][1],h[4][4]),x(-h[3][4],h[4][1])),-h[2][3]),y(v(x(h[3][1],h[4][3]),x(-h[3][3],h[4][1])),h[2][4]))),-h[1][2])),v(y(v(y(v(x(h[3][2],h[4][4]),x(-h[3][4],h[4][2])),h[2][1]),v(y(v(x(h[3][1],h[4][4]),x(-h[3][4],h[4][1])),-h[2][2]),y(v(x(h[3][1],h[4][2]),x(-h[3][2],h[4][1])),h[2][4]))),h[1][3]),y(v(y(v(x(h[3][2],h[4][3]),x(-h[3][3],h[4][2])),h[2][1]),v(y(v(x(h[3][1],h[4][3]),x(-h[3][3],h[4][1])),-h[2][2]),y(v(x(h[3][1],h[4][2]),x(-h[3][2],h[4][1])),h[2][3]))),-h[1][4]))),h[0][0]),y(v(v(y(v(y(v(x(h[3][3],h[4][4]),x(-h[3][4],h[4][3])),h[2][2]),v(y(v(x(h[3][2],h[4][4]),x(-h[3][4],h[4][2])),-h[2][3]),y(v(x(h[3][2],h[4][3]),x(-h[3][3],h[4][2])),h[2][4]))),h[1][0]),y(v(y(v(x(h[3][3],h[4][4]),x(-h[3][4],h[4][3])),h[2][0]),v(y(v(x(h[3][0],h[4][4]),x(-h[3][4],h[4][0])),-h[2][3]),y(v(x(h[3][0],h[4][3]),x(-h[3][3],h[4][0])),h[2][4]))),-h[1][2])),v(y(v(y(v(x(h[3][2],h[4][4]),x(-h[3][4],h[4][2])),h[2][0]),v(y(v(x(h[3][0],h[4][4]),x(-h[3][4],h[4][0])),-h[2][2]),y(v(x(h[3][0],h[4][2]),x(-h[3][2],h[4][0])),h[2][4]))),h[1][3]),y(v(y(v(x(h[3][2],h[4][3]),x(-h[3][3],h[4][2])),h[2][0]),v(y(v(x(h[3][0],h[4][3]),x(-h[3][3],h[4][0])),-h[2][2]),y(v(x(h[3][0],h[4][2]),x(-h[3][2],h[4][0])),h[2][3]))),-h[1][4]))),-h[0][1])),v(y(v(v(y(v(y(v(x(h[3][3],h[4][4]),x(-h[3][4],h[4][3])),h[2][1]),v(y(v(x(h[3][1],h[4][4]),x(-h[3][4],h[4][1])),-h[2][3]),y(v(x(h[3][1],h[4][3]),x(-h[3][3],h[4][1])),h[2][4]))),h[1][0]),y(v(y(v(x(h[3][3],h[4][4]),x(-h[3][4],h[4][3])),h[2][0]),v(y(v(x(h[3][0],h[4][4]),x(-h[3][4],h[4][0])),-h[2][3]),y(v(x(h[3][0],h[4][3]),x(-h[3][3],h[4][0])),h[2][4]))),-h[1][1])),v(y(v(y(v(x(h[3][1],h[4][4]),x(-h[3][4],h[4][1])),h[2][0]),v(y(v(x(h[3][0],h[4][4]),x(-h[3][4],h[4][0])),-h[2][1]),y(v(x(h[3][0],h[4][1]),x(-h[3][1],h[4][0])),h[2][4]))),h[1][3]),y(v(y(v(x(h[3][1],h[4][3]),x(-h[3][3],h[4][1])),h[2][0]),v(y(v(x(h[3][0],h[4][3]),x(-h[3][3],h[4][0])),-h[2][1]),y(v(x(h[3][0],h[4][1]),x(-h[3][1],h[4][0])),h[2][3]))),-h[1][4]))),h[0][2]),v(y(v(v(y(v(y(v(x(h[3][2],h[4][4]),x(-h[3][4],h[4][2])),h[2][1]),v(y(v(x(h[3][1],h[4][4]),x(-h[3][4],h[4][1])),-h[2][2]),y(v(x(h[3][1],h[4][2]),x(-h[3][2],h[4][1])),h[2][4]))),h[1][0]),y(v(y(v(x(h[3][2],h[4][4]),x(-h[3][4],h[4][2])),h[2][0]),v(y(v(x(h[3][0],h[4][4]),x(-h[3][4],h[4][0])),-h[2][2]),y(v(x(h[3][0],h[4][2]),x(-h[3][2],h[4][0])),h[2][4]))),-h[1][1])),v(y(v(y(v(x(h[3][1],h[4][4]),x(-h[3][4],h[4][1])),h[2][0]),v(y(v(x(h[3][0],h[4][4]),x(-h[3][4],h[4][0])),-h[2][1]),y(v(x(h[3][0],h[4][1]),x(-h[3][1],h[4][0])),h[2][4]))),h[1][2]),y(v(y(v(x(h[3][1],h[4][2]),x(-h[3][2],h[4][1])),h[2][0]),v(y(v(x(h[3][0],h[4][2]),x(-h[3][2],h[4][0])),-h[2][1]),y(v(x(h[3][0],h[4][1]),x(-h[3][1],h[4][0])),h[2][2]))),-h[1][4]))),-h[0][3]),y(v(v(y(v(y(v(x(h[3][2],h[4][3]),x(-h[3][3],h[4][2])),h[2][1]),v(y(v(x(h[3][1],h[4][3]),x(-h[3][3],h[4][1])),-h[2][2]),y(v(x(h[3][1],h[4][2]),x(-h[3][2],h[4][1])),h[2][3]))),h[1][0]),y(v(y(v(x(h[3][2],h[4][3]),x(-h[3][3],h[4][2])),h[2][0]),v(y(v(x(h[3][0],h[4][3]),x(-h[3][3],h[4][0])),-h[2][2]),y(v(x(h[3][0],h[4][2]),x(-h[3][2],h[4][0])),h[2][3]))),-h[1][1])),v(y(v(y(v(x(h[3][1],h[4][3]),x(-h[3][3],h[4][1])),h[2][0]),v(y(v(x(h[3][0],h[4][3]),x(-h[3][3],h[4][0])),-h[2][1]),y(v(x(h[3][0],h[4][1]),x(-h[3][1],h[4][0])),h[2][3]))),h[1][2]),y(v(y(v(x(h[3][1],h[4][2]),x(-h[3][2],h[4][1])),h[2][0]),v(y(v(x(h[3][0],h[4][2]),x(-h[3][2],h[4][0])),-h[2][1]),y(v(x(h[3][0],h[4][1]),x(-h[3][1],h[4][0])),h[2][2]))),-h[1][3]))),h[0][4])))))}}function m(v){return(v===2?l:v===3?u:v===4?d:v===5?c:void 0)(r,n,i,o)}var f=[function(){return[0]},function(v){return[v[0][0]]}];function p(v,y,x,_,h,S,w,E){return function(C){switch(C.length){case 0:return v(C);case 1:return y(C);case 2:return x(C);case 3:return _(C);case 4:return h(C);case 5:return S(C)}var P=w[C.length];return P||(P=w[C.length]=E(C.length)),P(C)}}(function(){for(;f.length<6;)f.push(m(f.length));g.exports=p.apply(void 0,f.concat([f,m]));for(var v=0;v<f.length;++v)g.exports[v]=f[v]})()},9130:function(g,s,t){var i=t(9660),r=t(9662);g.exports=function(n,o){for(var l=i(n[0],o[0]),u=1;u<n.length;++u)l=r(l,i(n[u],o[u]));return l}},2227:function(g,s,t){var i=t(9660),r=t(9662),n=t(4078),o=t(8289);function l(y){return(y===3?u:y===4?d:y===5?c:m)(r,n,i,o)}function u(y,x,_,h){return function(S,w,E){var C=_(S[0],S[0]),P=h(C,w[0]),O=h(C,E[0]),R=_(w[0],w[0]),U=h(R,S[0]),z=h(R,E[0]),N=_(E[0],E[0]),W=h(N,S[0]),F=h(N,w[0]),V=y(x(F,z),x(U,P)),j=x(W,O),te=x(V,j);return te[te.length-1]}}function d(y,x,_,h){return function(S,w,E,C){var P=y(_(S[0],S[0]),_(S[1],S[1])),O=h(P,w[0]),R=h(P,E[0]),U=h(P,C[0]),z=y(_(w[0],w[0]),_(w[1],w[1])),N=h(z,S[0]),W=h(z,E[0]),F=h(z,C[0]),V=y(_(E[0],E[0]),_(E[1],E[1])),j=h(V,S[0]),te=h(V,w[0]),J=h(V,C[0]),K=y(_(C[0],C[0]),_(C[1],C[1])),Z=h(K,S[0]),X=h(K,w[0]),Q=h(K,E[0]),re=y(y(h(x(Q,J),w[1]),y(h(x(X,F),-E[1]),h(x(te,W),C[1]))),y(h(x(X,F),S[1]),y(h(x(Z,U),-w[1]),h(x(N,O),C[1])))),ae=y(y(h(x(Q,J),S[1]),y(h(x(Z,U),-E[1]),h(x(j,R),C[1]))),y(h(x(te,W),S[1]),y(h(x(j,R),-w[1]),h(x(N,O),E[1])))),ie=x(re,ae);return ie[ie.length-1]}}function c(y,x,_,h){return function(S,w,E,C,P){var O=y(_(S[0],S[0]),y(_(S[1],S[1]),_(S[2],S[2]))),R=h(O,w[0]),U=h(O,E[0]),z=h(O,C[0]),N=h(O,P[0]),W=y(_(w[0],w[0]),y(_(w[1],w[1]),_(w[2],w[2]))),F=h(W,S[0]),V=h(W,E[0]),j=h(W,C[0]),te=h(W,P[0]),J=y(_(E[0],E[0]),y(_(E[1],E[1]),_(E[2],E[2]))),K=h(J,S[0]),Z=h(J,w[0]),X=h(J,C[0]),Q=h(J,P[0]),re=y(_(C[0],C[0]),y(_(C[1],C[1]),_(C[2],C[2]))),ae=h(re,S[0]),ie=h(re,w[0]),le=h(re,E[0]),pe=h(re,P[0]),de=y(_(P[0],P[0]),y(_(P[1],P[1]),_(P[2],P[2]))),ve=h(de,S[0]),be=h(de,w[0]),me=h(de,E[0]),ge=h(de,C[0]),ke=y(y(y(h(y(h(x(ge,pe),E[1]),y(h(x(me,Q),-C[1]),h(x(le,X),P[1]))),w[2]),y(h(y(h(x(ge,pe),w[1]),y(h(x(be,te),-C[1]),h(x(ie,j),P[1]))),-E[2]),h(y(h(x(me,Q),w[1]),y(h(x(be,te),-E[1]),h(x(Z,V),P[1]))),C[2]))),y(h(y(h(x(le,X),w[1]),y(h(x(ie,j),-E[1]),h(x(Z,V),C[1]))),-P[2]),y(h(y(h(x(ge,pe),w[1]),y(h(x(be,te),-C[1]),h(x(ie,j),P[1]))),S[2]),h(y(h(x(ge,pe),S[1]),y(h(x(ve,N),-C[1]),h(x(ae,z),P[1]))),-w[2])))),y(y(h(y(h(x(be,te),S[1]),y(h(x(ve,N),-w[1]),h(x(F,R),P[1]))),C[2]),y(h(y(h(x(ie,j),S[1]),y(h(x(ae,z),-w[1]),h(x(F,R),C[1]))),-P[2]),h(y(h(x(le,X),w[1]),y(h(x(ie,j),-E[1]),h(x(Z,V),C[1]))),S[2]))),y(h(y(h(x(le,X),S[1]),y(h(x(ae,z),-E[1]),h(x(K,U),C[1]))),-w[2]),y(h(y(h(x(ie,j),S[1]),y(h(x(ae,z),-w[1]),h(x(F,R),C[1]))),E[2]),h(y(h(x(Z,V),S[1]),y(h(x(K,U),-w[1]),h(x(F,R),E[1]))),-C[2]))))),we=y(y(y(h(y(h(x(ge,pe),E[1]),y(h(x(me,Q),-C[1]),h(x(le,X),P[1]))),S[2]),h(y(h(x(ge,pe),S[1]),y(h(x(ve,N),-C[1]),h(x(ae,z),P[1]))),-E[2])),y(h(y(h(x(me,Q),S[1]),y(h(x(ve,N),-E[1]),h(x(K,U),P[1]))),C[2]),h(y(h(x(le,X),S[1]),y(h(x(ae,z),-E[1]),h(x(K,U),C[1]))),-P[2]))),y(y(h(y(h(x(me,Q),w[1]),y(h(x(be,te),-E[1]),h(x(Z,V),P[1]))),S[2]),h(y(h(x(me,Q),S[1]),y(h(x(ve,N),-E[1]),h(x(K,U),P[1]))),-w[2])),y(h(y(h(x(be,te),S[1]),y(h(x(ve,N),-w[1]),h(x(F,R),P[1]))),E[2]),h(y(h(x(Z,V),S[1]),y(h(x(K,U),-w[1]),h(x(F,R),E[1]))),-P[2])))),ue=x(ke,we);return ue[ue.length-1]}}function m(y,x,_,h){return function(S,w,E,C,P,O){var R=y(y(_(S[0],S[0]),_(S[1],S[1])),y(_(S[2],S[2]),_(S[3],S[3]))),U=h(R,w[0]),z=h(R,E[0]),N=h(R,C[0]),W=h(R,P[0]),F=h(R,O[0]),V=y(y(_(w[0],w[0]),_(w[1],w[1])),y(_(w[2],w[2]),_(w[3],w[3]))),j=h(V,S[0]),te=h(V,E[0]),J=h(V,C[0]),K=h(V,P[0]),Z=h(V,O[0]),X=y(y(_(E[0],E[0]),_(E[1],E[1])),y(_(E[2],E[2]),_(E[3],E[3]))),Q=h(X,S[0]),re=h(X,w[0]),ae=h(X,C[0]),ie=h(X,P[0]),le=h(X,O[0]),pe=y(y(_(C[0],C[0]),_(C[1],C[1])),y(_(C[2],C[2]),_(C[3],C[3]))),de=h(pe,S[0]),ve=h(pe,w[0]),be=h(pe,E[0]),me=h(pe,P[0]),ge=h(pe,O[0]),ke=y(y(_(P[0],P[0]),_(P[1],P[1])),y(_(P[2],P[2]),_(P[3],P[3]))),we=h(ke,S[0]),ue=h(ke,w[0]),oe=h(ke,E[0]),he=h(ke,C[0]),Ee=h(ke,O[0]),Te=y(y(_(O[0],O[0]),_(O[1],O[1])),y(_(O[2],O[2]),_(O[3],O[3]))),Me=h(Te,S[0]),Se=h(Te,w[0]),ze=h(Te,E[0]),fe=h(Te,C[0]),xe=h(Te,P[0]),_e=y(y(y(h(y(y(h(y(h(x(xe,Ee),C[1]),y(h(x(fe,ge),-P[1]),h(x(he,me),O[1]))),E[2]),h(y(h(x(xe,Ee),E[1]),y(h(x(ze,le),-P[1]),h(x(oe,ie),O[1]))),-C[2])),y(h(y(h(x(fe,ge),E[1]),y(h(x(ze,le),-C[1]),h(x(be,ae),O[1]))),P[2]),h(y(h(x(he,me),E[1]),y(h(x(oe,ie),-C[1]),h(x(be,ae),P[1]))),-O[2]))),w[3]),y(h(y(y(h(y(h(x(xe,Ee),C[1]),y(h(x(fe,ge),-P[1]),h(x(he,me),O[1]))),w[2]),h(y(h(x(xe,Ee),w[1]),y(h(x(Se,Z),-P[1]),h(x(ue,K),O[1]))),-C[2])),y(h(y(h(x(fe,ge),w[1]),y(h(x(Se,Z),-C[1]),h(x(ve,J),O[1]))),P[2]),h(y(h(x(he,me),w[1]),y(h(x(ue,K),-C[1]),h(x(ve,J),P[1]))),-O[2]))),-E[3]),h(y(y(h(y(h(x(xe,Ee),E[1]),y(h(x(ze,le),-P[1]),h(x(oe,ie),O[1]))),w[2]),h(y(h(x(xe,Ee),w[1]),y(h(x(Se,Z),-P[1]),h(x(ue,K),O[1]))),-E[2])),y(h(y(h(x(ze,le),w[1]),y(h(x(Se,Z),-E[1]),h(x(re,te),O[1]))),P[2]),h(y(h(x(oe,ie),w[1]),y(h(x(ue,K),-E[1]),h(x(re,te),P[1]))),-O[2]))),C[3]))),y(y(h(y(y(h(y(h(x(fe,ge),E[1]),y(h(x(ze,le),-C[1]),h(x(be,ae),O[1]))),w[2]),h(y(h(x(fe,ge),w[1]),y(h(x(Se,Z),-C[1]),h(x(ve,J),O[1]))),-E[2])),y(h(y(h(x(ze,le),w[1]),y(h(x(Se,Z),-E[1]),h(x(re,te),O[1]))),C[2]),h(y(h(x(be,ae),w[1]),y(h(x(ve,J),-E[1]),h(x(re,te),C[1]))),-O[2]))),-P[3]),h(y(y(h(y(h(x(he,me),E[1]),y(h(x(oe,ie),-C[1]),h(x(be,ae),P[1]))),w[2]),h(y(h(x(he,me),w[1]),y(h(x(ue,K),-C[1]),h(x(ve,J),P[1]))),-E[2])),y(h(y(h(x(oe,ie),w[1]),y(h(x(ue,K),-E[1]),h(x(re,te),P[1]))),C[2]),h(y(h(x(be,ae),w[1]),y(h(x(ve,J),-E[1]),h(x(re,te),C[1]))),-P[2]))),O[3])),y(h(y(y(h(y(h(x(xe,Ee),C[1]),y(h(x(fe,ge),-P[1]),h(x(he,me),O[1]))),w[2]),h(y(h(x(xe,Ee),w[1]),y(h(x(Se,Z),-P[1]),h(x(ue,K),O[1]))),-C[2])),y(h(y(h(x(fe,ge),w[1]),y(h(x(Se,Z),-C[1]),h(x(ve,J),O[1]))),P[2]),h(y(h(x(he,me),w[1]),y(h(x(ue,K),-C[1]),h(x(ve,J),P[1]))),-O[2]))),S[3]),h(y(y(h(y(h(x(xe,Ee),C[1]),y(h(x(fe,ge),-P[1]),h(x(he,me),O[1]))),S[2]),h(y(h(x(xe,Ee),S[1]),y(h(x(Me,F),-P[1]),h(x(we,W),O[1]))),-C[2])),y(h(y(h(x(fe,ge),S[1]),y(h(x(Me,F),-C[1]),h(x(de,N),O[1]))),P[2]),h(y(h(x(he,me),S[1]),y(h(x(we,W),-C[1]),h(x(de,N),P[1]))),-O[2]))),-w[3])))),y(y(y(h(y(y(h(y(h(x(xe,Ee),w[1]),y(h(x(Se,Z),-P[1]),h(x(ue,K),O[1]))),S[2]),h(y(h(x(xe,Ee),S[1]),y(h(x(Me,F),-P[1]),h(x(we,W),O[1]))),-w[2])),y(h(y(h(x(Se,Z),S[1]),y(h(x(Me,F),-w[1]),h(x(j,U),O[1]))),P[2]),h(y(h(x(ue,K),S[1]),y(h(x(we,W),-w[1]),h(x(j,U),P[1]))),-O[2]))),C[3]),h(y(y(h(y(h(x(fe,ge),w[1]),y(h(x(Se,Z),-C[1]),h(x(ve,J),O[1]))),S[2]),h(y(h(x(fe,ge),S[1]),y(h(x(Me,F),-C[1]),h(x(de,N),O[1]))),-w[2])),y(h(y(h(x(Se,Z),S[1]),y(h(x(Me,F),-w[1]),h(x(j,U),O[1]))),C[2]),h(y(h(x(ve,J),S[1]),y(h(x(de,N),-w[1]),h(x(j,U),C[1]))),-O[2]))),-P[3])),y(h(y(y(h(y(h(x(he,me),w[1]),y(h(x(ue,K),-C[1]),h(x(ve,J),P[1]))),S[2]),h(y(h(x(he,me),S[1]),y(h(x(we,W),-C[1]),h(x(de,N),P[1]))),-w[2])),y(h(y(h(x(ue,K),S[1]),y(h(x(we,W),-w[1]),h(x(j,U),P[1]))),C[2]),h(y(h(x(ve,J),S[1]),y(h(x(de,N),-w[1]),h(x(j,U),C[1]))),-P[2]))),O[3]),h(y(y(h(y(h(x(fe,ge),E[1]),y(h(x(ze,le),-C[1]),h(x(be,ae),O[1]))),w[2]),h(y(h(x(fe,ge),w[1]),y(h(x(Se,Z),-C[1]),h(x(ve,J),O[1]))),-E[2])),y(h(y(h(x(ze,le),w[1]),y(h(x(Se,Z),-E[1]),h(x(re,te),O[1]))),C[2]),h(y(h(x(be,ae),w[1]),y(h(x(ve,J),-E[1]),h(x(re,te),C[1]))),-O[2]))),S[3]))),y(y(h(y(y(h(y(h(x(fe,ge),E[1]),y(h(x(ze,le),-C[1]),h(x(be,ae),O[1]))),S[2]),h(y(h(x(fe,ge),S[1]),y(h(x(Me,F),-C[1]),h(x(de,N),O[1]))),-E[2])),y(h(y(h(x(ze,le),S[1]),y(h(x(Me,F),-E[1]),h(x(Q,z),O[1]))),C[2]),h(y(h(x(be,ae),S[1]),y(h(x(de,N),-E[1]),h(x(Q,z),C[1]))),-O[2]))),-w[3]),h(y(y(h(y(h(x(fe,ge),w[1]),y(h(x(Se,Z),-C[1]),h(x(ve,J),O[1]))),S[2]),h(y(h(x(fe,ge),S[1]),y(h(x(Me,F),-C[1]),h(x(de,N),O[1]))),-w[2])),y(h(y(h(x(Se,Z),S[1]),y(h(x(Me,F),-w[1]),h(x(j,U),O[1]))),C[2]),h(y(h(x(ve,J),S[1]),y(h(x(de,N),-w[1]),h(x(j,U),C[1]))),-O[2]))),E[3])),y(h(y(y(h(y(h(x(ze,le),w[1]),y(h(x(Se,Z),-E[1]),h(x(re,te),O[1]))),S[2]),h(y(h(x(ze,le),S[1]),y(h(x(Me,F),-E[1]),h(x(Q,z),O[1]))),-w[2])),y(h(y(h(x(Se,Z),S[1]),y(h(x(Me,F),-w[1]),h(x(j,U),O[1]))),E[2]),h(y(h(x(re,te),S[1]),y(h(x(Q,z),-w[1]),h(x(j,U),E[1]))),-O[2]))),-C[3]),h(y(y(h(y(h(x(be,ae),w[1]),y(h(x(ve,J),-E[1]),h(x(re,te),C[1]))),S[2]),h(y(h(x(be,ae),S[1]),y(h(x(de,N),-E[1]),h(x(Q,z),C[1]))),-w[2])),y(h(y(h(x(ve,J),S[1]),y(h(x(de,N),-w[1]),h(x(j,U),C[1]))),E[2]),h(y(h(x(re,te),S[1]),y(h(x(Q,z),-w[1]),h(x(j,U),E[1]))),-C[2]))),O[3]))))),Oe=y(y(y(h(y(y(h(y(h(x(xe,Ee),C[1]),y(h(x(fe,ge),-P[1]),h(x(he,me),O[1]))),E[2]),h(y(h(x(xe,Ee),E[1]),y(h(x(ze,le),-P[1]),h(x(oe,ie),O[1]))),-C[2])),y(h(y(h(x(fe,ge),E[1]),y(h(x(ze,le),-C[1]),h(x(be,ae),O[1]))),P[2]),h(y(h(x(he,me),E[1]),y(h(x(oe,ie),-C[1]),h(x(be,ae),P[1]))),-O[2]))),S[3]),y(h(y(y(h(y(h(x(xe,Ee),C[1]),y(h(x(fe,ge),-P[1]),h(x(he,me),O[1]))),S[2]),h(y(h(x(xe,Ee),S[1]),y(h(x(Me,F),-P[1]),h(x(we,W),O[1]))),-C[2])),y(h(y(h(x(fe,ge),S[1]),y(h(x(Me,F),-C[1]),h(x(de,N),O[1]))),P[2]),h(y(h(x(he,me),S[1]),y(h(x(we,W),-C[1]),h(x(de,N),P[1]))),-O[2]))),-E[3]),h(y(y(h(y(h(x(xe,Ee),E[1]),y(h(x(ze,le),-P[1]),h(x(oe,ie),O[1]))),S[2]),h(y(h(x(xe,Ee),S[1]),y(h(x(Me,F),-P[1]),h(x(we,W),O[1]))),-E[2])),y(h(y(h(x(ze,le),S[1]),y(h(x(Me,F),-E[1]),h(x(Q,z),O[1]))),P[2]),h(y(h(x(oe,ie),S[1]),y(h(x(we,W),-E[1]),h(x(Q,z),P[1]))),-O[2]))),C[3]))),y(y(h(y(y(h(y(h(x(fe,ge),E[1]),y(h(x(ze,le),-C[1]),h(x(be,ae),O[1]))),S[2]),h(y(h(x(fe,ge),S[1]),y(h(x(Me,F),-C[1]),h(x(de,N),O[1]))),-E[2])),y(h(y(h(x(ze,le),S[1]),y(h(x(Me,F),-E[1]),h(x(Q,z),O[1]))),C[2]),h(y(h(x(be,ae),S[1]),y(h(x(de,N),-E[1]),h(x(Q,z),C[1]))),-O[2]))),-P[3]),h(y(y(h(y(h(x(he,me),E[1]),y(h(x(oe,ie),-C[1]),h(x(be,ae),P[1]))),S[2]),h(y(h(x(he,me),S[1]),y(h(x(we,W),-C[1]),h(x(de,N),P[1]))),-E[2])),y(h(y(h(x(oe,ie),S[1]),y(h(x(we,W),-E[1]),h(x(Q,z),P[1]))),C[2]),h(y(h(x(be,ae),S[1]),y(h(x(de,N),-E[1]),h(x(Q,z),C[1]))),-P[2]))),O[3])),y(h(y(y(h(y(h(x(xe,Ee),E[1]),y(h(x(ze,le),-P[1]),h(x(oe,ie),O[1]))),w[2]),h(y(h(x(xe,Ee),w[1]),y(h(x(Se,Z),-P[1]),h(x(ue,K),O[1]))),-E[2])),y(h(y(h(x(ze,le),w[1]),y(h(x(Se,Z),-E[1]),h(x(re,te),O[1]))),P[2]),h(y(h(x(oe,ie),w[1]),y(h(x(ue,K),-E[1]),h(x(re,te),P[1]))),-O[2]))),S[3]),h(y(y(h(y(h(x(xe,Ee),E[1]),y(h(x(ze,le),-P[1]),h(x(oe,ie),O[1]))),S[2]),h(y(h(x(xe,Ee),S[1]),y(h(x(Me,F),-P[1]),h(x(we,W),O[1]))),-E[2])),y(h(y(h(x(ze,le),S[1]),y(h(x(Me,F),-E[1]),h(x(Q,z),O[1]))),P[2]),h(y(h(x(oe,ie),S[1]),y(h(x(we,W),-E[1]),h(x(Q,z),P[1]))),-O[2]))),-w[3])))),y(y(y(h(y(y(h(y(h(x(xe,Ee),w[1]),y(h(x(Se,Z),-P[1]),h(x(ue,K),O[1]))),S[2]),h(y(h(x(xe,Ee),S[1]),y(h(x(Me,F),-P[1]),h(x(we,W),O[1]))),-w[2])),y(h(y(h(x(Se,Z),S[1]),y(h(x(Me,F),-w[1]),h(x(j,U),O[1]))),P[2]),h(y(h(x(ue,K),S[1]),y(h(x(we,W),-w[1]),h(x(j,U),P[1]))),-O[2]))),E[3]),h(y(y(h(y(h(x(ze,le),w[1]),y(h(x(Se,Z),-E[1]),h(x(re,te),O[1]))),S[2]),h(y(h(x(ze,le),S[1]),y(h(x(Me,F),-E[1]),h(x(Q,z),O[1]))),-w[2])),y(h(y(h(x(Se,Z),S[1]),y(h(x(Me,F),-w[1]),h(x(j,U),O[1]))),E[2]),h(y(h(x(re,te),S[1]),y(h(x(Q,z),-w[1]),h(x(j,U),E[1]))),-O[2]))),-P[3])),y(h(y(y(h(y(h(x(oe,ie),w[1]),y(h(x(ue,K),-E[1]),h(x(re,te),P[1]))),S[2]),h(y(h(x(oe,ie),S[1]),y(h(x(we,W),-E[1]),h(x(Q,z),P[1]))),-w[2])),y(h(y(h(x(ue,K),S[1]),y(h(x(we,W),-w[1]),h(x(j,U),P[1]))),E[2]),h(y(h(x(re,te),S[1]),y(h(x(Q,z),-w[1]),h(x(j,U),E[1]))),-P[2]))),O[3]),h(y(y(h(y(h(x(he,me),E[1]),y(h(x(oe,ie),-C[1]),h(x(be,ae),P[1]))),w[2]),h(y(h(x(he,me),w[1]),y(h(x(ue,K),-C[1]),h(x(ve,J),P[1]))),-E[2])),y(h(y(h(x(oe,ie),w[1]),y(h(x(ue,K),-E[1]),h(x(re,te),P[1]))),C[2]),h(y(h(x(be,ae),w[1]),y(h(x(ve,J),-E[1]),h(x(re,te),C[1]))),-P[2]))),S[3]))),y(y(h(y(y(h(y(h(x(he,me),E[1]),y(h(x(oe,ie),-C[1]),h(x(be,ae),P[1]))),S[2]),h(y(h(x(he,me),S[1]),y(h(x(we,W),-C[1]),h(x(de,N),P[1]))),-E[2])),y(h(y(h(x(oe,ie),S[1]),y(h(x(we,W),-E[1]),h(x(Q,z),P[1]))),C[2]),h(y(h(x(be,ae),S[1]),y(h(x(de,N),-E[1]),h(x(Q,z),C[1]))),-P[2]))),-w[3]),h(y(y(h(y(h(x(he,me),w[1]),y(h(x(ue,K),-C[1]),h(x(ve,J),P[1]))),S[2]),h(y(h(x(he,me),S[1]),y(h(x(we,W),-C[1]),h(x(de,N),P[1]))),-w[2])),y(h(y(h(x(ue,K),S[1]),y(h(x(we,W),-w[1]),h(x(j,U),P[1]))),C[2]),h(y(h(x(ve,J),S[1]),y(h(x(de,N),-w[1]),h(x(j,U),C[1]))),-P[2]))),E[3])),y(h(y(y(h(y(h(x(oe,ie),w[1]),y(h(x(ue,K),-E[1]),h(x(re,te),P[1]))),S[2]),h(y(h(x(oe,ie),S[1]),y(h(x(we,W),-E[1]),h(x(Q,z),P[1]))),-w[2])),y(h(y(h(x(ue,K),S[1]),y(h(x(we,W),-w[1]),h(x(j,U),P[1]))),E[2]),h(y(h(x(re,te),S[1]),y(h(x(Q,z),-w[1]),h(x(j,U),E[1]))),-P[2]))),-C[3]),h(y(y(h(y(h(x(be,ae),w[1]),y(h(x(ve,J),-E[1]),h(x(re,te),C[1]))),S[2]),h(y(h(x(be,ae),S[1]),y(h(x(de,N),-E[1]),h(x(Q,z),C[1]))),-w[2])),y(h(y(h(x(ve,J),S[1]),y(h(x(de,N),-w[1]),h(x(j,U),C[1]))),E[2]),h(y(h(x(re,te),S[1]),y(h(x(Q,z),-w[1]),h(x(j,U),E[1]))),-C[2]))),P[3]))))),De=x(_e,Oe);return De[De.length-1]}}var f=[function(){return 0},function(){return 0},function(){return 0}];function p(y){var x=f[y.length];return x||(x=f[y.length]=l(y.length)),x.apply(void 0,y)}function v(y,x,_,h,S,w,E,C){return function(P,O,R,U,z,N){switch(arguments.length){case 0:case 1:return 0;case 2:return h(P,O);case 3:return S(P,O,R);case 4:return w(P,O,R,U);case 5:return E(P,O,R,U,z);case 6:return C(P,O,R,U,z,N)}for(var W=new Array(arguments.length),F=0;F<arguments.length;++F)W[F]=arguments[F];return y(W)}}(function(){for(;f.length<=6;)f.push(l(f.length));g.exports=v.apply(void 0,[p].concat(f));for(var y=0;y<=6;++y)g.exports[y]=f[y]})()},6606:function(g,s,t){var i=t(8167);function r(f){return(f===2?n:f===3?o:f===4?l:f===5?u:d)(f<6?i[f]:i)}function n(f){return function(p,v){return[f([[+v[0],+p[0][1]],[+v[1],+p[1][1]]]),f([[+p[0][0],+v[0]],[+p[1][0],+v[1]]]),f(p)]}}function o(f){return function(p,v){return[f([[+v[0],+p[0][1],+p[0][2]],[+v[1],+p[1][1],+p[1][2]],[+v[2],+p[2][1],+p[2][2]]]),f([[+p[0][0],+v[0],+p[0][2]],[+p[1][0],+v[1],+p[1][2]],[+p[2][0],+v[2],+p[2][2]]]),f([[+p[0][0],+p[0][1],+v[0]],[+p[1][0],+p[1][1],+v[1]],[+p[2][0],+p[2][1],+v[2]]]),f(p)]}}function l(f){return function(p,v){return[f([[+v[0],+p[0][1],+p[0][2],+p[0][3]],[+v[1],+p[1][1],+p[1][2],+p[1][3]],[+v[2],+p[2][1],+p[2][2],+p[2][3]],[+v[3],+p[3][1],+p[3][2],+p[3][3]]]),f([[+p[0][0],+v[0],+p[0][2],+p[0][3]],[+p[1][0],+v[1],+p[1][2],+p[1][3]],[+p[2][0],+v[2],+p[2][2],+p[2][3]],[+p[3][0],+v[3],+p[3][2],+p[3][3]]]),f([[+p[0][0],+p[0][1],+v[0],+p[0][3]],[+p[1][0],+p[1][1],+v[1],+p[1][3]],[+p[2][0],+p[2][1],+v[2],+p[2][3]],[+p[3][0],+p[3][1],+v[3],+p[3][3]]]),f([[+p[0][0],+p[0][1],+p[0][2],+v[0]],[+p[1][0],+p[1][1],+p[1][2],+v[1]],[+p[2][0],+p[2][1],+p[2][2],+v[2]],[+p[3][0],+p[3][1],+p[3][2],+v[3]]]),f(p)]}}function u(f){return function(p,v){return[f([[+v[0],+p[0][1],+p[0][2],+p[0][3],+p[0][4]],[+v[1],+p[1][1],+p[1][2],+p[1][3],+p[1][4]],[+v[2],+p[2][1],+p[2][2],+p[2][3],+p[2][4]],[+v[3],+p[3][1],+p[3][2],+p[3][3],+p[3][4]],[+v[4],+p[4][1],+p[4][2],+p[4][3],+p[4][4]]]),f([[+p[0][0],+v[0],+p[0][2],+p[0][3],+p[0][4]],[+p[1][0],+v[1],+p[1][2],+p[1][3],+p[1][4]],[+p[2][0],+v[2],+p[2][2],+p[2][3],+p[2][4]],[+p[3][0],+v[3],+p[3][2],+p[3][3],+p[3][4]],[+p[4][0],+v[4],+p[4][2],+p[4][3],+p[4][4]]]),f([[+p[0][0],+p[0][1],+v[0],+p[0][3],+p[0][4]],[+p[1][0],+p[1][1],+v[1],+p[1][3],+p[1][4]],[+p[2][0],+p[2][1],+v[2],+p[2][3],+p[2][4]],[+p[3][0],+p[3][1],+v[3],+p[3][3],+p[3][4]],[+p[4][0],+p[4][1],+v[4],+p[4][3],+p[4][4]]]),f([[+p[0][0],+p[0][1],+p[0][2],+v[0],+p[0][4]],[+p[1][0],+p[1][1],+p[1][2],+v[1],+p[1][4]],[+p[2][0],+p[2][1],+p[2][2],+v[2],+p[2][4]],[+p[3][0],+p[3][1],+p[3][2],+v[3],+p[3][4]],[+p[4][0],+p[4][1],+p[4][2],+v[4],+p[4][4]]]),f([[+p[0][0],+p[0][1],+p[0][2],+p[0][3],+v[0]],[+p[1][0],+p[1][1],+p[1][2],+p[1][3],+v[1]],[+p[2][0],+p[2][1],+p[2][2],+p[2][3],+v[2]],[+p[3][0],+p[3][1],+p[3][2],+p[3][3],+v[3]],[+p[4][0],+p[4][1],+p[4][2],+p[4][3],+v[4]]]),f(p)]}}function d(f){return function(p,v){return[f([[+v[0],+p[0][1],+p[0][2],+p[0][3],+p[0][4],+p[0][5]],[+v[1],+p[1][1],+p[1][2],+p[1][3],+p[1][4],+p[1][5]],[+v[2],+p[2][1],+p[2][2],+p[2][3],+p[2][4],+p[2][5]],[+v[3],+p[3][1],+p[3][2],+p[3][3],+p[3][4],+p[3][5]],[+v[4],+p[4][1],+p[4][2],+p[4][3],+p[4][4],+p[4][5]],[+v[5],+p[5][1],+p[5][2],+p[5][3],+p[5][4],+p[5][5]]]),f([[+p[0][0],+v[0],+p[0][2],+p[0][3],+p[0][4],+p[0][5]],[+p[1][0],+v[1],+p[1][2],+p[1][3],+p[1][4],+p[1][5]],[+p[2][0],+v[2],+p[2][2],+p[2][3],+p[2][4],+p[2][5]],[+p[3][0],+v[3],+p[3][2],+p[3][3],+p[3][4],+p[3][5]],[+p[4][0],+v[4],+p[4][2],+p[4][3],+p[4][4],+p[4][5]],[+p[5][0],+v[5],+p[5][2],+p[5][3],+p[5][4],+p[5][5]]]),f([[+p[0][0],+p[0][1],+v[0],+p[0][3],+p[0][4],+p[0][5]],[+p[1][0],+p[1][1],+v[1],+p[1][3],+p[1][4],+p[1][5]],[+p[2][0],+p[2][1],+v[2],+p[2][3],+p[2][4],+p[2][5]],[+p[3][0],+p[3][1],+v[3],+p[3][3],+p[3][4],+p[3][5]],[+p[4][0],+p[4][1],+v[4],+p[4][3],+p[4][4],+p[4][5]],[+p[5][0],+p[5][1],+v[5],+p[5][3],+p[5][4],+p[5][5]]]),f([[+p[0][0],+p[0][1],+p[0][2],+v[0],+p[0][4],+p[0][5]],[+p[1][0],+p[1][1],+p[1][2],+v[1],+p[1][4],+p[1][5]],[+p[2][0],+p[2][1],+p[2][2],+v[2],+p[2][4],+p[2][5]],[+p[3][0],+p[3][1],+p[3][2],+v[3],+p[3][4],+p[3][5]],[+p[4][0],+p[4][1],+p[4][2],+v[4],+p[4][4],+p[4][5]],[+p[5][0],+p[5][1],+p[5][2],+v[5],+p[5][4],+p[5][5]]]),f([[+p[0][0],+p[0][1],+p[0][2],+p[0][3],+v[0],+p[0][5]],[+p[1][0],+p[1][1],+p[1][2],+p[1][3],+v[1],+p[1][5]],[+p[2][0],+p[2][1],+p[2][2],+p[2][3],+v[2],+p[2][5]],[+p[3][0],+p[3][1],+p[3][2],+p[3][3],+v[3],+p[3][5]],[+p[4][0],+p[4][1],+p[4][2],+p[4][3],+v[4],+p[4][5]],[+p[5][0],+p[5][1],+p[5][2],+p[5][3],+v[5],+p[5][5]]]),f([[+p[0][0],+p[0][1],+p[0][2],+p[0][3],+p[0][4],+v[0]],[+p[1][0],+p[1][1],+p[1][2],+p[1][3],+p[1][4],+v[1]],[+p[2][0],+p[2][1],+p[2][2],+p[2][3],+p[2][4],+v[2]],[+p[3][0],+p[3][1],+p[3][2],+p[3][3],+p[3][4],+v[3]],[+p[4][0],+p[4][1],+p[4][2],+p[4][3],+p[4][4],+v[4]],[+p[5][0],+p[5][1],+p[5][2],+p[5][3],+p[5][4],+v[5]]]),f(p)]}}var c=[function(){return[[0]]},function(f,p){return[[p[0]],[f[0][0]]]}];function m(f,p,v,y,x,_,h,S){return function(w,E){switch(w.length){case 0:return f(w,E);case 1:return p(w,E);case 2:return v(w,E);case 3:return y(w,E);case 4:return x(w,E);case 5:return _(w,E)}var C=h[w.length];return C||(C=h[w.length]=S(w.length)),C(w,E)}}(function(){for(;c.length<6;)c.push(r(c.length));g.exports=m.apply(void 0,c.concat([c,r]));for(var f=0;f<6;++f)g.exports[f]=c[f]})()},417:function(g,s,t){var i=t(9660),r=t(9662),n=t(8289),o=t(4078);function l(x,_,h,S){return function(w,E,C){var P=x(x(_(E[1],C[0]),_(-C[1],E[0])),x(_(w[1],E[0]),_(-E[1],w[0]))),O=x(_(w[1],C[0]),_(-C[1],w[0])),R=S(P,O);return R[R.length-1]}}function u(x,_,h,S){return function(w,E,C,P){var O=x(x(h(x(_(C[1],P[0]),_(-P[1],C[0])),E[2]),x(h(x(_(E[1],P[0]),_(-P[1],E[0])),-C[2]),h(x(_(E[1],C[0]),_(-C[1],E[0])),P[2]))),x(h(x(_(E[1],P[0]),_(-P[1],E[0])),w[2]),x(h(x(_(w[1],P[0]),_(-P[1],w[0])),-E[2]),h(x(_(w[1],E[0]),_(-E[1],w[0])),P[2])))),R=x(x(h(x(_(C[1],P[0]),_(-P[1],C[0])),w[2]),x(h(x(_(w[1],P[0]),_(-P[1],w[0])),-C[2]),h(x(_(w[1],C[0]),_(-C[1],w[0])),P[2]))),x(h(x(_(E[1],C[0]),_(-C[1],E[0])),w[2]),x(h(x(_(w[1],C[0]),_(-C[1],w[0])),-E[2]),h(x(_(w[1],E[0]),_(-E[1],w[0])),C[2])))),U=S(O,R);return U[U.length-1]}}function d(x,_,h,S){return function(w,E,C,P,O){var R=x(x(x(h(x(h(x(_(P[1],O[0]),_(-O[1],P[0])),C[2]),x(h(x(_(C[1],O[0]),_(-O[1],C[0])),-P[2]),h(x(_(C[1],P[0]),_(-P[1],C[0])),O[2]))),E[3]),x(h(x(h(x(_(P[1],O[0]),_(-O[1],P[0])),E[2]),x(h(x(_(E[1],O[0]),_(-O[1],E[0])),-P[2]),h(x(_(E[1],P[0]),_(-P[1],E[0])),O[2]))),-C[3]),h(x(h(x(_(C[1],O[0]),_(-O[1],C[0])),E[2]),x(h(x(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),h(x(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),P[3]))),x(h(x(h(x(_(C[1],P[0]),_(-P[1],C[0])),E[2]),x(h(x(_(E[1],P[0]),_(-P[1],E[0])),-C[2]),h(x(_(E[1],C[0]),_(-C[1],E[0])),P[2]))),-O[3]),x(h(x(h(x(_(P[1],O[0]),_(-O[1],P[0])),E[2]),x(h(x(_(E[1],O[0]),_(-O[1],E[0])),-P[2]),h(x(_(E[1],P[0]),_(-P[1],E[0])),O[2]))),w[3]),h(x(h(x(_(P[1],O[0]),_(-O[1],P[0])),w[2]),x(h(x(_(w[1],O[0]),_(-O[1],w[0])),-P[2]),h(x(_(w[1],P[0]),_(-P[1],w[0])),O[2]))),-E[3])))),x(x(h(x(h(x(_(E[1],O[0]),_(-O[1],E[0])),w[2]),x(h(x(_(w[1],O[0]),_(-O[1],w[0])),-E[2]),h(x(_(w[1],E[0]),_(-E[1],w[0])),O[2]))),P[3]),x(h(x(h(x(_(E[1],P[0]),_(-P[1],E[0])),w[2]),x(h(x(_(w[1],P[0]),_(-P[1],w[0])),-E[2]),h(x(_(w[1],E[0]),_(-E[1],w[0])),P[2]))),-O[3]),h(x(h(x(_(C[1],P[0]),_(-P[1],C[0])),E[2]),x(h(x(_(E[1],P[0]),_(-P[1],E[0])),-C[2]),h(x(_(E[1],C[0]),_(-C[1],E[0])),P[2]))),w[3]))),x(h(x(h(x(_(C[1],P[0]),_(-P[1],C[0])),w[2]),x(h(x(_(w[1],P[0]),_(-P[1],w[0])),-C[2]),h(x(_(w[1],C[0]),_(-C[1],w[0])),P[2]))),-E[3]),x(h(x(h(x(_(E[1],P[0]),_(-P[1],E[0])),w[2]),x(h(x(_(w[1],P[0]),_(-P[1],w[0])),-E[2]),h(x(_(w[1],E[0]),_(-E[1],w[0])),P[2]))),C[3]),h(x(h(x(_(E[1],C[0]),_(-C[1],E[0])),w[2]),x(h(x(_(w[1],C[0]),_(-C[1],w[0])),-E[2]),h(x(_(w[1],E[0]),_(-E[1],w[0])),C[2]))),-P[3]))))),U=x(x(x(h(x(h(x(_(P[1],O[0]),_(-O[1],P[0])),C[2]),x(h(x(_(C[1],O[0]),_(-O[1],C[0])),-P[2]),h(x(_(C[1],P[0]),_(-P[1],C[0])),O[2]))),w[3]),h(x(h(x(_(P[1],O[0]),_(-O[1],P[0])),w[2]),x(h(x(_(w[1],O[0]),_(-O[1],w[0])),-P[2]),h(x(_(w[1],P[0]),_(-P[1],w[0])),O[2]))),-C[3])),x(h(x(h(x(_(C[1],O[0]),_(-O[1],C[0])),w[2]),x(h(x(_(w[1],O[0]),_(-O[1],w[0])),-C[2]),h(x(_(w[1],C[0]),_(-C[1],w[0])),O[2]))),P[3]),h(x(h(x(_(C[1],P[0]),_(-P[1],C[0])),w[2]),x(h(x(_(w[1],P[0]),_(-P[1],w[0])),-C[2]),h(x(_(w[1],C[0]),_(-C[1],w[0])),P[2]))),-O[3]))),x(x(h(x(h(x(_(C[1],O[0]),_(-O[1],C[0])),E[2]),x(h(x(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),h(x(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),w[3]),h(x(h(x(_(C[1],O[0]),_(-O[1],C[0])),w[2]),x(h(x(_(w[1],O[0]),_(-O[1],w[0])),-C[2]),h(x(_(w[1],C[0]),_(-C[1],w[0])),O[2]))),-E[3])),x(h(x(h(x(_(E[1],O[0]),_(-O[1],E[0])),w[2]),x(h(x(_(w[1],O[0]),_(-O[1],w[0])),-E[2]),h(x(_(w[1],E[0]),_(-E[1],w[0])),O[2]))),C[3]),h(x(h(x(_(E[1],C[0]),_(-C[1],E[0])),w[2]),x(h(x(_(w[1],C[0]),_(-C[1],w[0])),-E[2]),h(x(_(w[1],E[0]),_(-E[1],w[0])),C[2]))),-O[3])))),z=S(R,U);return z[z.length-1]}}function c(x){return(x===3?l:x===4?u:d)(r,i,n,o)}var m=c(3),f=c(4),p=[function(){return 0},function(){return 0},function(x,_){return _[0]-x[0]},function(x,_,h){var S,w=(x[1]-h[1])*(_[0]-h[0]),E=(x[0]-h[0])*(_[1]-h[1]),C=w-E;if(w>0){if(E<=0)return C;S=w+E}else{if(!(w<0)||E>=0)return C;S=-(w+E)}var P=33306690738754716e-32*S;return C>=P||C<=-P?C:m(x,_,h)},function(x,_,h,S){var w=x[0]-S[0],E=_[0]-S[0],C=h[0]-S[0],P=x[1]-S[1],O=_[1]-S[1],R=h[1]-S[1],U=x[2]-S[2],z=_[2]-S[2],N=h[2]-S[2],W=E*R,F=C*O,V=C*P,j=w*R,te=w*O,J=E*P,K=U*(W-F)+z*(V-j)+N*(te-J),Z=7771561172376103e-31*((Math.abs(W)+Math.abs(F))*Math.abs(U)+(Math.abs(V)+Math.abs(j))*Math.abs(z)+(Math.abs(te)+Math.abs(J))*Math.abs(N));return K>Z||-K>Z?K:f(x,_,h,S)}];function v(x){var _=p[x.length];return _||(_=p[x.length]=c(x.length)),_.apply(void 0,x)}function y(x,_,h,S,w,E,C){return function(P,O,R,U,z){switch(arguments.length){case 0:case 1:return 0;case 2:return S(P,O);case 3:return w(P,O,R);case 4:return E(P,O,R,U);case 5:return C(P,O,R,U,z)}for(var N=new Array(arguments.length),W=0;W<arguments.length;++W)N[W]=arguments[W];return x(N)}}(function(){for(;p.length<=5;)p.push(c(p.length));g.exports=y.apply(void 0,[v].concat(p));for(var x=0;x<=5;++x)g.exports[x]=p[x]})()},2019:function(g,s,t){var i=t(9662),r=t(8289);g.exports=function(n,o){if(n.length===1)return r(o,n[0]);if(o.length===1)return r(n,o[0]);if(n.length===0||o.length===0)return[0];var l=[0];if(n.length<o.length)for(var u=0;u<n.length;++u)l=i(l,r(o,n[u]));else for(u=0;u<o.length;++u)l=i(l,r(n,o[u]));return l}},8289:function(g,s,t){var i=t(9660),r=t(87);g.exports=function(n,o){var l=n.length;if(l===1){var u=i(n[0],o);return u[0]?u:[u[1]]}var d=new Array(2*l),c=[.1,.1],m=[.1,.1],f=0;i(n[0],o,c),c[0]&&(d[f++]=c[0]);for(var p=1;p<l;++p){i(n[p],o,m);var v=c[1];r(v,m[0],c),c[0]&&(d[f++]=c[0]);var y=m[1],x=c[1],_=y+x,h=x-(_-y);c[1]=_,h&&(d[f++]=h)}return c[1]&&(d[f++]=c[1]),f===0&&(d[f++]=0),d.length=f,d}},4434:function(g,s,t){g.exports=function(r,n,o,l){var u=i(r,o,l),d=i(n,o,l);if(u>0&&d>0||u<0&&d<0)return!1;var c=i(o,r,n),m=i(l,r,n);return!(c>0&&m>0||c<0&&m<0)&&(u!==0||d!==0||c!==0||m!==0||function(f,p,v,y){for(var x=0;x<2;++x){var _=f[x],h=p[x],S=Math.min(_,h),w=Math.max(_,h),E=v[x],C=y[x],P=Math.min(E,C);if(Math.max(E,C)<S||w<P)return!1}return!0}(r,n,o,l))};var i=t(417)[3]},4078:function(g){g.exports=function(s,t){var i=0|s.length,r=0|t.length;if(i===1&&r===1)return function(P,O){var R=P+O,U=R-P,z=P-(R-U)+(O-U);return z?[z,R]:[R]}(s[0],-t[0]);var n,o,l=new Array(i+r),u=0,d=0,c=0,m=Math.abs,f=s[d],p=m(f),v=-t[c],y=m(v);p<y?(o=f,(d+=1)<i&&(p=m(f=s[d]))):(o=v,(c+=1)<r&&(y=m(v=-t[c]))),d<i&&p<y||c>=r?(n=f,(d+=1)<i&&(p=m(f=s[d]))):(n=v,(c+=1)<r&&(y=m(v=-t[c])));for(var x,_,h=n+o,S=h-n,w=o-S,E=w,C=h;d<i&&c<r;)p<y?(n=f,(d+=1)<i&&(p=m(f=s[d]))):(n=v,(c+=1)<r&&(y=m(v=-t[c]))),(w=(o=E)-(S=(h=n+o)-n))&&(l[u++]=w),E=C-((x=C+h)-(_=x-C))+(h-_),C=x;for(;d<i;)(w=(o=E)-(S=(h=(n=f)+o)-n))&&(l[u++]=w),E=C-((x=C+h)-(_=x-C))+(h-_),C=x,(d+=1)<i&&(f=s[d]);for(;c<r;)(w=(o=E)-(S=(h=(n=v)+o)-n))&&(l[u++]=w),E=C-((x=C+h)-(_=x-C))+(h-_),C=x,(c+=1)<r&&(v=-t[c]);return E&&(l[u++]=E),C&&(l[u++]=C),u||(l[u++]=0),l.length=u,l}},9662:function(g){g.exports=function(s,t){var i=0|s.length,r=0|t.length;if(i===1&&r===1)return function(P,O){var R=P+O,U=R-P,z=P-(R-U)+(O-U);return z?[z,R]:[R]}(s[0],t[0]);var n,o,l=new Array(i+r),u=0,d=0,c=0,m=Math.abs,f=s[d],p=m(f),v=t[c],y=m(v);p<y?(o=f,(d+=1)<i&&(p=m(f=s[d]))):(o=v,(c+=1)<r&&(y=m(v=t[c]))),d<i&&p<y||c>=r?(n=f,(d+=1)<i&&(p=m(f=s[d]))):(n=v,(c+=1)<r&&(y=m(v=t[c])));for(var x,_,h=n+o,S=h-n,w=o-S,E=w,C=h;d<i&&c<r;)p<y?(n=f,(d+=1)<i&&(p=m(f=s[d]))):(n=v,(c+=1)<r&&(y=m(v=t[c]))),(w=(o=E)-(S=(h=n+o)-n))&&(l[u++]=w),E=C-((x=C+h)-(_=x-C))+(h-_),C=x;for(;d<i;)(w=(o=E)-(S=(h=(n=f)+o)-n))&&(l[u++]=w),E=C-((x=C+h)-(_=x-C))+(h-_),C=x,(d+=1)<i&&(f=s[d]);for(;c<r;)(w=(o=E)-(S=(h=(n=v)+o)-n))&&(l[u++]=w),E=C-((x=C+h)-(_=x-C))+(h-_),C=x,(c+=1)<r&&(v=t[c]);return E&&(l[u++]=E),C&&(l[u++]=C),u||(l[u++]=0),l.length=u,l}},8691:function(g,s,t){g.exports=function(n){return r(i(n))};var i=t(2692),r=t(7037)},7212:function(g,s,t){g.exports=function(l,u,d,c){if(d=d||0,c===void 0&&(c=function(h){for(var S=h.length,w=0,E=0;E<S;++E)w=0|Math.max(w,h[E].length);return w-1}(l)),l.length===0||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var m=function(h,S){for(var w=h.length,E=r.mallocUint8(w),C=0;C<w;++C)E[C]=h[C]<S|0;return E}(u,+d),f=function(h,S){for(var w=h.length,E=S*(S+1)/2*w|0,C=r.mallocUint32(2*E),P=0,O=0;O<w;++O)for(var R=h[O],U=(S=R.length,0);U<S;++U)for(var z=0;z<U;++z){var N=R[z],W=R[U];C[P++]=0|Math.min(N,W),C[P++]=0|Math.max(N,W)}n(i(C,[P/2|0,2]));var F=2;for(O=2;O<P;O+=2)C[O-2]===C[O]&&C[O-1]===C[O+1]||(C[F++]=C[O],C[F++]=C[O+1]);return i(C,[F/2|0,2])}(l,c),p=function(h,S,w,E){for(var C=h.data,P=h.shape[0],O=r.mallocDouble(P),R=0,U=0;U<P;++U){var z=C[2*U],N=C[2*U+1];if(w[z]!==w[N]){var W=S[z],F=S[N];C[2*R]=z,C[2*R+1]=N,O[R++]=(F-E)/(F-W)}}return h.shape[0]=R,i(O,[R])}(f,u,m,+d),v=function(h,S){var w=r.mallocInt32(2*S),E=h.shape[0],C=h.data;w[0]=0;for(var P=0,O=0;O<E;++O){var R=C[2*O];if(R!==P){for(w[2*P+1]=O;++P<R;)w[2*P]=O,w[2*P+1]=O;w[2*P]=O}}for(w[2*P+1]=E;++P<S;)w[2*P]=w[2*P+1]=E;return w}(f,0|u.length),y=o(c)(l,f.data,v,m),x=function(h){for(var S=0|h.shape[0],w=h.data,E=new Array(S),C=0;C<S;++C)E[C]=[w[2*C],w[2*C+1]];return E}(f),_=[].slice.call(p.data,0,p.shape[0]);return r.free(m),r.free(f.data),r.free(p.data),r.free(v),{cells:y,vertexIds:x,vertexWeights:_}};var i=t(5050),r=t(5306),n=t(8729),o=t(1168)},1168:function(g){g.exports=function(t){return s[t]()};var s=[function(){return function(t,i,r,n){for(var o=t.length,l=0;l<o;++l)t[l].length;return[]}},function(){function t(i,r,n,o){for(var l=0|Math.min(n,o),u=0|Math.max(n,o),d=i[2*l],c=i[2*l+1];d<c;){var m=d+c>>1,f=r[2*m+1];if(f===u)return m;u<f?c=m:d=m+1}return d}return function(i,r,n,o){for(var l=i.length,u=[],d=0;d<l;++d){var c=i[d];if(c.length===2){var m=(o[c[0]]<<0)+(o[c[1]]<<1);if(m===0||m===3)continue;switch(m){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}},function(){function t(i,r,n,o){for(var l=0|Math.min(n,o),u=0|Math.max(n,o),d=i[2*l],c=i[2*l+1];d<c;){var m=d+c>>1,f=r[2*m+1];if(f===u)return m;u<f?c=m:d=m+1}return d}return function(i,r,n,o){for(var l=i.length,u=[],d=0;d<l;++d){var c=i[d],m=c.length;if(m===3){if((f=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2))==0||f===7)continue;switch(f){case 0:case 7:break;case 1:u.push([t(n,r,c[0],c[2]),t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0]),t(n,r,c[1],c[2])]);break;case 3:u.push([t(n,r,c[0],c[2]),t(n,r,c[1],c[2])]);break;case 4:u.push([t(n,r,c[2],c[1]),t(n,r,c[2],c[0])]);break;case 5:u.push([t(n,r,c[2],c[1]),t(n,r,c[0],c[1])]);break;case 6:u.push([t(n,r,c[1],c[0]),t(n,r,c[2],c[0])])}}else if(m===2){var f;if((f=(o[c[0]]<<0)+(o[c[1]]<<1))==0||f===3)continue;switch(f){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}},function(){function t(i,r,n,o){for(var l=0|Math.min(n,o),u=0|Math.max(n,o),d=i[2*l],c=i[2*l+1];d<c;){var m=d+c>>1,f=r[2*m+1];if(f===u)return m;u<f?c=m:d=m+1}return d}return function(i,r,n,o){for(var l=i.length,u=[],d=0;d<l;++d){var c=i[d],m=c.length;if(m===4){if((f=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2)+(o[c[3]]<<3))==0||f===15)continue;switch(f){case 0:case 15:break;case 1:u.push([t(n,r,c[0],c[1]),t(n,r,c[0],c[2]),t(n,r,c[0],c[3])]);break;case 2:u.push([t(n,r,c[1],c[2]),t(n,r,c[1],c[0]),t(n,r,c[1],c[3])]);break;case 3:u.push([t(n,r,c[1],c[2]),t(n,r,c[0],c[2]),t(n,r,c[0],c[3])],[t(n,r,c[1],c[3]),t(n,r,c[1],c[2]),t(n,r,c[0],c[3])]);break;case 4:u.push([t(n,r,c[2],c[0]),t(n,r,c[2],c[1]),t(n,r,c[2],c[3])]);break;case 5:u.push([t(n,r,c[0],c[1]),t(n,r,c[2],c[1]),t(n,r,c[0],c[3])],[t(n,r,c[2],c[1]),t(n,r,c[2],c[3]),t(n,r,c[0],c[3])]);break;case 6:u.push([t(n,r,c[2],c[0]),t(n,r,c[1],c[0]),t(n,r,c[1],c[3])],[t(n,r,c[2],c[3]),t(n,r,c[2],c[0]),t(n,r,c[1],c[3])]);break;case 7:u.push([t(n,r,c[0],c[3]),t(n,r,c[1],c[3]),t(n,r,c[2],c[3])]);break;case 8:u.push([t(n,r,c[3],c[1]),t(n,r,c[3],c[0]),t(n,r,c[3],c[2])]);break;case 9:u.push([t(n,r,c[3],c[1]),t(n,r,c[0],c[1]),t(n,r,c[0],c[2])],[t(n,r,c[3],c[2]),t(n,r,c[3],c[1]),t(n,r,c[0],c[2])]);break;case 10:u.push([t(n,r,c[1],c[0]),t(n,r,c[3],c[0]),t(n,r,c[1],c[2])],[t(n,r,c[3],c[0]),t(n,r,c[3],c[2]),t(n,r,c[1],c[2])]);break;case 11:u.push([t(n,r,c[1],c[2]),t(n,r,c[0],c[2]),t(n,r,c[3],c[2])]);break;case 12:u.push([t(n,r,c[3],c[0]),t(n,r,c[2],c[0]),t(n,r,c[2],c[1])],[t(n,r,c[3],c[1]),t(n,r,c[3],c[0]),t(n,r,c[2],c[1])]);break;case 13:u.push([t(n,r,c[0],c[1]),t(n,r,c[2],c[1]),t(n,r,c[3],c[1])]);break;case 14:u.push([t(n,r,c[2],c[0]),t(n,r,c[1],c[0]),t(n,r,c[3],c[0])])}}else if(m===3){if((f=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2))==0||f===7)continue;switch(f){case 0:case 7:break;case 1:u.push([t(n,r,c[0],c[2]),t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0]),t(n,r,c[1],c[2])]);break;case 3:u.push([t(n,r,c[0],c[2]),t(n,r,c[1],c[2])]);break;case 4:u.push([t(n,r,c[2],c[1]),t(n,r,c[2],c[0])]);break;case 5:u.push([t(n,r,c[2],c[1]),t(n,r,c[0],c[1])]);break;case 6:u.push([t(n,r,c[1],c[0]),t(n,r,c[2],c[0])])}}else if(m===2){var f;if((f=(o[c[0]]<<0)+(o[c[1]]<<1))==0||f===3)continue;switch(f){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}}]},8211:function(g,s,t){t(2288),t(1731),s.H=function(i,r){var n=i.length,o=i.length-r.length,l=Math.min;if(o)return o;switch(n){case 0:return 0;case 1:return i[0]-r[0];case 2:return(c=i[0]+i[1]-r[0]-r[1])||l(i[0],i[1])-l(r[0],r[1]);case 3:var u=i[0]+i[1],d=r[0]+r[1];if(c=u+i[2]-(d+r[2]))return c;var c,m=l(i[0],i[1]),f=l(r[0],r[1]);return(c=l(m,i[2])-l(f,r[2]))||l(m+i[2],u)-l(f+r[2],d);default:var p=i.slice(0);p.sort();var v=r.slice(0);v.sort();for(var y=0;y<n;++y)if(o=p[y]-v[y])return o;return 0}}},9392:function(g,s){function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var n=r>>31;return(r^n)-n},s.min=function(r,n){return n^(r^n)&-(r<n)},s.max=function(r,n){return r^(r^n)&-(r<n)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var n,o;return n=(r>65535)<<4,n|=o=((r>>>=n)>255)<<3,n|=o=((r>>>=o)>15)<<2,(n|=o=((r>>>=o)>3)<<1)|(r>>>=o)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,1+((r|=r>>>8)|r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var n=0;n<256;++n){var o=n,l=n,u=7;for(o>>>=1;o;o>>>=1)l<<=1,l|=1&o,--u;r[n]=l<<u&255}})(i),s.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},s.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},s.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,n,o){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},s.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},6656:function(g,s,t){var i=t(9392),r=t(9521);function n(f,p){var v=f.length,y=f.length-p.length,x=Math.min;if(y)return y;switch(v){case 0:return 0;case 1:return f[0]-p[0];case 2:return(S=f[0]+f[1]-p[0]-p[1])||x(f[0],f[1])-x(p[0],p[1]);case 3:var _=f[0]+f[1],h=p[0]+p[1];if(S=_+f[2]-(h+p[2]))return S;var S,w=x(f[0],f[1]),E=x(p[0],p[1]);return(S=x(w,f[2])-x(E,p[2]))||x(w+f[2],_)-x(E+p[2],h);default:var C=f.slice(0);C.sort();var P=p.slice(0);P.sort();for(var O=0;O<v;++O)if(y=C[O]-P[O])return y;return 0}}function o(f,p){return n(f[0],p[0])}function l(f,p){if(p){for(var v=f.length,y=new Array(v),x=0;x<v;++x)y[x]=[f[x],p[x]];for(y.sort(o),x=0;x<v;++x)f[x]=y[x][0],p[x]=y[x][1];return f}return f.sort(n),f}function u(f){if(f.length===0)return[];for(var p=1,v=f.length,y=1;y<v;++y){var x=f[y];if(n(x,f[y-1])){if(y===p){p++;continue}f[p++]=x}}return f.length=p,f}function d(f,p){for(var v=0,y=f.length-1,x=-1;v<=y;){var _=v+y>>1,h=n(f[_],p);h<=0?(h===0&&(x=_),v=_+1):h>0&&(y=_-1)}return x}function c(f,p){for(var v=new Array(f.length),y=0,x=v.length;y<x;++y)v[y]=[];for(var _=[],h=(y=0,p.length);y<h;++y)for(var S=p[y],w=S.length,E=1,C=1<<w;E<C;++E){_.length=i.popCount(E);for(var P=0,O=0;O<w;++O)E&1<<O&&(_[P++]=S[O]);var R=d(f,_);if(!(R<0))for(;v[R++].push(y),!(R>=f.length||n(f[R],_)!==0););}return v}function m(f,p){if(p<0)return[];for(var v=[],y=(1<<p+1)-1,x=0;x<f.length;++x)for(var _=f[x],h=y;h<1<<_.length;h=i.nextCombination(h)){for(var S=new Array(p+1),w=0,E=0;E<_.length;++E)h&1<<E&&(S[w++]=_[E]);v.push(S)}return l(v)}s.dimension=function(f){for(var p=0,v=Math.max,y=0,x=f.length;y<x;++y)p=v(p,f[y].length);return p-1},s.countVertices=function(f){for(var p=-1,v=Math.max,y=0,x=f.length;y<x;++y)for(var _=f[y],h=0,S=_.length;h<S;++h)p=v(p,_[h]);return p+1},s.cloneCells=function(f){for(var p=new Array(f.length),v=0,y=f.length;v<y;++v)p[v]=f[v].slice(0);return p},s.compareCells=n,s.normalize=l,s.unique=u,s.findCell=d,s.incidence=c,s.dual=function(f,p){if(!p)return c(u(m(f,0)),f);for(var v=new Array(p),y=0;y<p;++y)v[y]=[];y=0;for(var x=f.length;y<x;++y)for(var _=f[y],h=0,S=_.length;h<S;++h)v[_[h]].push(y);return v},s.explode=function(f){for(var p=[],v=0,y=f.length;v<y;++v)for(var x=f[v],_=0|x.length,h=1,S=1<<_;h<S;++h){for(var w=[],E=0;E<_;++E)h>>>E&1&&w.push(x[E]);p.push(w)}return l(p)},s.skeleton=m,s.boundary=function(f){for(var p=[],v=0,y=f.length;v<y;++v)for(var x=f[v],_=0,h=x.length;_<h;++_){for(var S=new Array(x.length-1),w=0,E=0;w<h;++w)w!==_&&(S[E++]=x[w]);p.push(S)}return l(p)},s.connectedComponents=function(f,p){return p?function(v,y){for(var x=new r(y),_=0;_<v.length;++_)for(var h=v[_],S=0;S<h.length;++S)for(var w=S+1;w<h.length;++w)x.link(h[S],h[w]);var E=[],C=x.ranks;for(_=0;_<C.length;++_)C[_]=-1;for(_=0;_<v.length;++_){var P=x.find(v[_][0]);C[P]<0?(C[P]=E.length,E.push([v[_].slice(0)])):E[C[P]].push(v[_].slice(0))}return E}(f,p):function(v){for(var y=u(l(m(v,0))),x=new r(y.length),_=0;_<v.length;++_)for(var h=v[_],S=0;S<h.length;++S)for(var w=d(y,[h[S]]),E=S+1;E<h.length;++E)x.link(w,d(y,[h[E]]));var C=[],P=x.ranks;for(_=0;_<P.length;++_)P[_]=-1;for(_=0;_<v.length;++_){var O=x.find(d(y,[v[_][0]]));P[O]<0?(P[O]=C.length,C.push([v[_].slice(0)])):C[P[O]].push(v[_].slice(0))}return C}(f)}},9521:function(g){function s(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}g.exports=s,s.prototype.length=function(){return this.roots.length},s.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},s.prototype.find=function(t){for(var i=this.roots;i[t]!==t;){var r=i[t];i[t]=i[r],t=r}return t},s.prototype.link=function(t,i){var r=this.find(t),n=this.find(i);if(r!==n){var o=this.ranks,l=this.roots,u=o[r],d=o[n];u<d?l[r]=n:d<u?l[n]=r:(l[n]=r,++o[r])}}},8243:function(g,s,t){g.exports=function(n,o,l){for(var u=o.length,d=n.length,c=new Array(u),m=new Array(u),f=new Array(u),p=new Array(u),v=0;v<u;++v)c[v]=m[v]=-1,f[v]=1/0,p[v]=!1;for(v=0;v<d;++v){var y=n[v];if(y.length!==2)throw new Error("Input must be a graph");var x=y[1],_=y[0];m[_]!==-1?m[_]=-2:m[_]=x,c[x]!==-1?c[x]=-2:c[x]=_}function h(J){if(p[J])return 1/0;var K,Z,X,Q=c[J],re=m[J];return Q<0||re<0?1/0:(K=o[J],Z=o[Q],X=o[re],Math.abs(i(K,Z,X))/Math.sqrt(Math.pow(Z[0]-X[0],2)+Math.pow(Z[1]-X[1],2)))}function S(J,K){var Z=z[J],X=z[K];z[J]=X,z[K]=Z,N[Z]=K,N[X]=J}function w(J){return f[z[J]]}function E(J){return 1&J?J-1>>1:(J>>1)-1}function C(J){for(var K=w(J);;){var Z=K,X=2*J+1,Q=2*(J+1),re=J;if(X<W){var ae=w(X);ae<Z&&(re=X,Z=ae)}if(Q<W&&w(Q)<Z&&(re=Q),re===J)return J;S(J,re),J=re}}function P(J){for(var K=w(J);J>0;){var Z=E(J);if(!(Z>=0&&K<w(Z)))return J;S(J,Z),J=Z}}function O(){if(W>0){var J=z[0];return S(0,W-1),W-=1,C(0),J}return-1}function R(J,K){var Z=z[J];return f[Z]===K?J:(f[Z]=-1/0,P(J),O(),f[Z]=K,P((W+=1)-1))}function U(J){if(!p[J]){p[J]=!0;var K=c[J],Z=m[J];c[Z]>=0&&(c[Z]=K),m[K]>=0&&(m[K]=Z),N[K]>=0&&R(N[K],h(K)),N[Z]>=0&&R(N[Z],h(Z))}}var z=[],N=new Array(u);for(v=0;v<u;++v)(f[v]=h(v))<1/0?(N[v]=z.length,z.push(v)):N[v]=-1;var W=z.length;for(v=W>>1;v>=0;--v)C(v);for(;;){var F=O();if(F<0||f[F]>l)break;U(F)}var V=[];for(v=0;v<u;++v)p[v]||(N[v]=V.length,V.push(o[v].slice()));function j(J,K){if(J[K]<0)return K;var Z=K,X=K;do{var Q=J[X];if(!p[X]||Q<0||Q===X||(Q=J[X=Q],!p[X]||Q<0||Q===X))break;X=Q,Z=J[Z]}while(Z!==X);for(var re=K;re!==X;re=J[re])J[re]=X;return X}V.length;var te=[];return n.forEach(function(J){var K=j(c,J[0]),Z=j(m,J[1]);if(K>=0&&Z>=0&&K!==Z){var X=N[K],Q=N[Z];X!==Q&&te.push([X,Q])}}),r.unique(r.normalize(te)),{positions:V,edges:te}};var i=t(417),r=t(6656)},6638:function(g,s,t){g.exports=function(n,o){var l,u,d,c;if(o[0][0]<o[1][0])l=o[0],u=o[1];else{if(!(o[0][0]>o[1][0]))return r(o,n);l=o[1],u=o[0]}if(n[0][0]<n[1][0])d=n[0],c=n[1];else{if(!(n[0][0]>n[1][0]))return-r(n,o);d=n[1],c=n[0]}var m=i(l,u,c),f=i(l,u,d);if(m<0){if(f<=0)return m}else if(m>0){if(f>=0)return m}else if(f)return f;if(m=i(c,d,u),f=i(c,d,l),m<0){if(f<=0)return m}else if(m>0){if(f>=0)return m}else if(f)return f;return u[0]-c[0]};var i=t(417);function r(n,o){var l,u,d,c;if(o[0][0]<o[1][0])l=o[0],u=o[1];else{if(!(o[0][0]>o[1][0])){var m=Math.min(n[0][1],n[1][1]),f=Math.max(n[0][1],n[1][1]),p=Math.min(o[0][1],o[1][1]),v=Math.max(o[0][1],o[1][1]);return f<p?f-p:m>v?m-v:f-v}l=o[1],u=o[0]}n[0][1]<n[1][1]?(d=n[0],c=n[1]):(d=n[1],c=n[0]);var y=i(u,l,d);return y||(y=i(u,l,c))||c-u}},4385:function(g,s,t){g.exports=function(f){for(var p=f.length,v=2*p,y=new Array(v),x=0;x<p;++x){var _=f[x],h=_[0][0]<_[1][0];y[2*x]=new m(_[0][0],_,h,x),y[2*x+1]=new m(_[1][0],_,!h,x)}y.sort(function(U,z){var N=U.x-z.x;return N||(N=U.create-z.create)||Math.min(U.segment[0][1],U.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});var S=r(o),w=[],E=[],C=[];for(x=0;x<v;){for(var P=y[x].x,O=[];x<v;){var R=y[x];if(R.x!==P)break;x+=1,R.segment[0][0]===R.x&&R.segment[1][0]===R.x?R.create&&(R.segment[0][1]<R.segment[1][1]?(O.push(new c(R.segment[0][1],R.index,!0,!0)),O.push(new c(R.segment[1][1],R.index,!1,!1))):(O.push(new c(R.segment[1][1],R.index,!0,!1)),O.push(new c(R.segment[0][1],R.index,!1,!0)))):S=R.create?S.insert(R.segment,R.index):S.remove(R.segment)}w.push(S.root),E.push(P),C.push(O)}return new l(w,E,C)};var i=t(5070),r=t(7080),n=t(417),o=t(6638);function l(f,p,v){this.slabs=f,this.coordinates=p,this.horizontal=v}function u(f,p){return f.y-p}function d(f,p){for(var v=null;f;){var y,x,_=f.key;_[0][0]<_[1][0]?(y=_[0],x=_[1]):(y=_[1],x=_[0]);var h=n(y,x,p);if(h<0)f=f.left;else if(h>0)if(p[0]!==_[1][0])v=f,f=f.right;else{if(S=d(f.right,p))return S;f=f.left}else{if(p[0]!==_[1][0])return f;var S;if(S=d(f.right,p))return S;f=f.left}}return v}function c(f,p,v,y){this.y=f,this.index=p,this.start=v,this.closed=y}function m(f,p,v,y){this.x=f,this.segment=p,this.create=v,this.index=y}l.prototype.castUp=function(f){var p=i.le(this.coordinates,f[0]);if(p<0)return-1;this.slabs[p];var v=d(this.slabs[p],f),y=-1;if(v&&(y=v.value),this.coordinates[p]===f[0]){var x=null;if(v&&(x=v.key),p>0){var _=d(this.slabs[p-1],f);_&&(x?o(_.key,x)>0&&(x=_.key,y=_.value):(y=_.value,x=_.key))}var h=this.horizontal[p];if(h.length>0){var S=i.ge(h,f[1],u);if(S<h.length){var w=h[S];if(f[1]===w.y){if(w.closed)return w.index;for(;S<h.length-1&&h[S+1].y===f[1];)if((w=h[S+=1]).closed)return w.index;if(w.y===f[1]&&!w.start){if((S+=1)>=h.length)return y;w=h[S]}}if(w.start)if(x){var E=n(x[0],x[1],[f[0],w.y]);x[0][0]>x[1][0]&&(E=-E),E>0&&(y=w.index)}else y=w.index;else w.y!==f[1]&&(y=w.index)}}}return y}},4670:function(g,s,t){var i=t(9130),r=t(9662);function n(l,u){var d=r(i(l,u),[u[u.length-1]]);return d[d.length-1]}function o(l,u,d,c){var m=-u/(c-u);m<0?m=0:m>1&&(m=1);for(var f=1-m,p=l.length,v=new Array(p),y=0;y<p;++y)v[y]=m*l[y]+f*d[y];return v}g.exports=function(l,u){for(var d=[],c=[],m=n(l[l.length-1],u),f=l[l.length-1],p=l[0],v=0;v<l.length;++v,f=p){var y=n(p=l[v],u);if(m<0&&y>0||m>0&&y<0){var x=o(f,y,p,m);d.push(x),c.push(x.slice())}y<0?c.push(p.slice()):y>0?d.push(p.slice()):(d.push(p.slice()),c.push(p.slice())),m=y}return{positive:d,negative:c}},g.exports.positive=function(l,u){for(var d=[],c=n(l[l.length-1],u),m=l[l.length-1],f=l[0],p=0;p<l.length;++p,m=f){var v=n(f=l[p],u);(c<0&&v>0||c>0&&v<0)&&d.push(o(m,v,f,c)),v>=0&&d.push(f.slice()),c=v}return d},g.exports.negative=function(l,u){for(var d=[],c=n(l[l.length-1],u),m=l[l.length-1],f=l[0],p=0;p<l.length;++p,m=f){var v=n(f=l[p],u);(c<0&&v>0||c>0&&v<0)&&d.push(o(m,v,f,c)),v<=0&&d.push(f.slice()),c=v}return d}},8974:function(g,s,t){var i;(function(){var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(u){return function(d,c){var m,f,p,v,y,x,_,h,S,w=1,E=d.length,C="";for(f=0;f<E;f++)if(typeof d[f]=="string")C+=d[f];else if(typeof d[f]=="object"){if((v=d[f]).keys)for(m=c[w],p=0;p<v.keys.length;p++){if(m==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',v.keys[p],v.keys[p-1]));m=m[v.keys[p]]}else m=v.param_no?c[v.param_no]:c[w++];if(r.not_type.test(v.type)&&r.not_primitive.test(v.type)&&m instanceof Function&&(m=m()),r.numeric_arg.test(v.type)&&typeof m!="number"&&isNaN(m))throw new TypeError(n("[sprintf] expecting number but found %T",m));switch(r.number.test(v.type)&&(h=m>=0),v.type){case"b":m=parseInt(m,10).toString(2);break;case"c":m=String.fromCharCode(parseInt(m,10));break;case"d":case"i":m=parseInt(m,10);break;case"j":m=JSON.stringify(m,null,v.width?parseInt(v.width):0);break;case"e":m=v.precision?parseFloat(m).toExponential(v.precision):parseFloat(m).toExponential();break;case"f":m=v.precision?parseFloat(m).toFixed(v.precision):parseFloat(m);break;case"g":m=v.precision?String(Number(m.toPrecision(v.precision))):parseFloat(m);break;case"o":m=(parseInt(m,10)>>>0).toString(8);break;case"s":m=String(m),m=v.precision?m.substring(0,v.precision):m;break;case"t":m=String(!!m),m=v.precision?m.substring(0,v.precision):m;break;case"T":m=Object.prototype.toString.call(m).slice(8,-1).toLowerCase(),m=v.precision?m.substring(0,v.precision):m;break;case"u":m=parseInt(m,10)>>>0;break;case"v":m=m.valueOf(),m=v.precision?m.substring(0,v.precision):m;break;case"x":m=(parseInt(m,10)>>>0).toString(16);break;case"X":m=(parseInt(m,10)>>>0).toString(16).toUpperCase()}r.json.test(v.type)?C+=m:(!r.number.test(v.type)||h&&!v.sign?S="":(S=h?"+":"-",m=m.toString().replace(r.sign,"")),x=v.pad_char?v.pad_char==="0"?"0":v.pad_char.charAt(1):" ",_=v.width-(S+m).length,y=v.width&&_>0?x.repeat(_):"",C+=v.align?S+m+y:x==="0"?S+y+m:y+S+m)}return C}(function(d){if(l[d])return l[d];for(var c,m=d,f=[],p=0;m;){if((c=r.text.exec(m))!==null)f.push(c[0]);else if((c=r.modulo.exec(m))!==null)f.push("%");else{if((c=r.placeholder.exec(m))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){p|=1;var v=[],y=c[2],x=[];if((x=r.key.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(v.push(x[1]);(y=y.substring(x[0].length))!=="";)if((x=r.key_access.exec(y))!==null)v.push(x[1]);else{if((x=r.index_access.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");v.push(x[1])}c[2]=v}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");f.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}m=m.substring(c[0].length)}return l[d]=f}(u),arguments)}function o(u,d){return n.apply(null,[u].concat(d||[]))}var l=Object.create(null);s.sprintf=n,s.vsprintf=o,typeof window<"u"&&(window.sprintf=n,window.vsprintf=o,(i=(function(){return{sprintf:n,vsprintf:o}}).call(s,t,s,g))===void 0||(g.exports=i))})()},4162:function(g,s,t){g.exports=function(l,u){if(l.dimension<=0)return{positions:[],cells:[]};if(l.dimension===1)return function(m,f){for(var p=r(m,f),v=p.length,y=new Array(v),x=new Array(v),_=0;_<v;++_)y[_]=[p[_]],x[_]=[_];return{positions:y,cells:x}}(l,u);var d=l.order.join()+"-"+l.dtype,c=o[d];return u=+u||0,c||(c=o[d]=function(m,f){var p=m.length+"d",v=n[p];if(v)return v(i,m,f)}(l.order,l.dtype)),c(l,u)};var i=t(9284),r=t(9584),n={"2d":function(l,u,d){var c=l({order:u,scalarArguments:3,getters:d==="generic"?[0]:void 0,phase:function(m,f,p,v){return m>v|0},vertex:function(m,f,p,v,y,x,_,h,S,w,E,C,P){var O=(_<<0)+(h<<1)+(S<<2)+(w<<3)|0;if(O!==0&&O!==15)switch(O){case 0:case 15:E.push([m-.5,f-.5]);break;case 1:E.push([m-.25-.25*(v+p-2*P)/(p-v),f-.25-.25*(y+p-2*P)/(p-y)]);break;case 2:E.push([m-.75-.25*(-v-p+2*P)/(v-p),f-.25-.25*(x+v-2*P)/(v-x)]);break;case 3:E.push([m-.5,f-.5-.5*(y+p+x+v-4*P)/(p-y+v-x)]);break;case 4:E.push([m-.25-.25*(x+y-2*P)/(y-x),f-.75-.25*(-y-p+2*P)/(y-p)]);break;case 5:E.push([m-.5-.5*(v+p+x+y-4*P)/(p-v+y-x),f-.5]);break;case 6:E.push([m-.5-.25*(-v-p+x+y)/(v-p+y-x),f-.5-.25*(-y-p+x+v)/(y-p+v-x)]);break;case 7:E.push([m-.75-.25*(x+y-2*P)/(y-x),f-.75-.25*(x+v-2*P)/(v-x)]);break;case 8:E.push([m-.75-.25*(-x-y+2*P)/(x-y),f-.75-.25*(-x-v+2*P)/(x-v)]);break;case 9:E.push([m-.5-.25*(v+p+-x-y)/(p-v+x-y),f-.5-.25*(y+p+-x-v)/(p-y+x-v)]);break;case 10:E.push([m-.5-.5*(-v-p-x-y+4*P)/(v-p+x-y),f-.5]);break;case 11:E.push([m-.25-.25*(-x-y+2*P)/(x-y),f-.75-.25*(y+p-2*P)/(p-y)]);break;case 12:E.push([m-.5,f-.5-.5*(-y-p-x-v+4*P)/(y-p+x-v)]);break;case 13:E.push([m-.75-.25*(v+p-2*P)/(p-v),f-.25-.25*(-x-v+2*P)/(x-v)]);break;case 14:E.push([m-.25-.25*(-v-p+2*P)/(v-p),f-.25-.25*(-y-p+2*P)/(y-p)])}},cell:function(m,f,p,v,y,x,_,h,S){y?h.push([m,f]):h.push([f,m])}});return function(m,f){var p=[],v=[];return c(m,p,v,f),{positions:p,cells:v}}}},o={}},6946:function(g,s,t){g.exports=function o(l,u,d){d=d||{};var c=n[l];c||(c=n[l]={" ":{data:new Float32Array(0),shape:.2}});var m=c[u];if(!m)if(u.length<=1||!/\d/.test(u))m=c[u]=function(C){for(var P=C.cells,O=C.positions,R=new Float32Array(6*P.length),U=0,z=0,N=0;N<P.length;++N)for(var W=P[N],F=0;F<3;++F){var V=O[W[F]];R[U++]=V[0],R[U++]=V[1]+1.4,z=Math.max(V[0],z)}return{data:R,shape:z}}(i(u,{triangles:!0,font:l,textAlign:d.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var f=u.split(/(\d|\s)/),p=new Array(f.length),v=0,y=0,x=0;x<f.length;++x)p[x]=o(l,f[x]),v+=p[x].data.length,y+=p[x].shape,x>0&&(y+=.02);var _=new Float32Array(v),h=0,S=-.5*y;for(x=0;x<p.length;++x){for(var w=p[x].data,E=0;E<w.length;E+=2)_[h++]=w[E]+S,_[h++]=w[E+1];S+=p[x].shape+.02}m=c[u]={data:_,shape:y}}return m};var i=t(875),r=window||k.global||{},n=r.__TEXT_CACHE||{};r.__TEXT_CACHE={}},14:function(g,s,t){var i=t(4405);g.exports=o;var r=96;function n(l,u){var d=i(getComputedStyle(l).getPropertyValue(u));return d[0]*o(d[1],l)}function o(l,u){switch(u=u||document.body,l=(l||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),l){case"%":return u.clientHeight/100;case"ch":case"ex":return function(d,c){var m=document.createElement("div");m.style["font-size"]="128"+d,c.appendChild(m);var f=n(m,"font-size")/128;return c.removeChild(m),f}(l,u);case"em":return n(u,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6}return 1}},3440:function(g,s,t){g.exports=function(y){var x=(y=y||{}).center||[0,0,0],_=y.up||[0,1,0],h=y.right||m(_),S=y.radius||1,w=y.theta||0,E=y.phi||0;if(x=[].slice.call(x,0,3),_=[].slice.call(_,0,3),l(_,_),h=[].slice.call(h,0,3),l(h,h),"eye"in y){var C=y.eye,P=[C[0]-x[0],C[1]-x[1],C[2]-x[2]];o(h,P,_),d(h[0],h[1],h[2])<1e-6?h=m(_):l(h,h),S=d(P[0],P[1],P[2]);var O=u(_,P)/S,R=u(h,P)/S;E=Math.acos(O),w=Math.acos(R)}return S=Math.log(S),new f(y.zoomMin,y.zoomMax,x,_,h,S,w,E)};var i=t(8444),r=t(7437),n=t(4422),o=t(903),l=t(899),u=t(9305);function d(y,x,_){return Math.sqrt(Math.pow(y,2)+Math.pow(x,2)+Math.pow(_,2))}function c(y){return Math.min(1,Math.max(-1,y))}function m(y){var x=Math.abs(y[0]),_=Math.abs(y[1]),h=Math.abs(y[2]),S=[0,0,0];x>Math.max(_,h)?S[2]=1:_>Math.max(x,h)?S[0]=1:S[1]=1;for(var w=0,E=0,C=0;C<3;++C)w+=y[C]*y[C],E+=S[C]*y[C];for(C=0;C<3;++C)S[C]-=E/w*y[C];return l(S,S),S}function f(y,x,_,h,S,w,E,C){this.center=i(_),this.up=i(h),this.right=i(S),this.radius=i([w]),this.angle=i([E,C]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(y,x),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var P=0;P<16;++P)this.computedMatrix[P]=.5;this.recalcMatrix(0)}var p=f.prototype;p.setDistanceLimits=function(y,x){y=y>0?Math.log(y):-1/0,x=x>0?Math.log(x):1/0,x=Math.max(x,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=x},p.getDistanceLimits=function(y){var x=this.radius.bounds[0];return y?(y[0]=Math.exp(x[0][0]),y[1]=Math.exp(x[1][0]),y):[Math.exp(x[0][0]),Math.exp(x[1][0])]},p.recalcMatrix=function(y){this.center.curve(y),this.up.curve(y),this.right.curve(y),this.radius.curve(y),this.angle.curve(y);for(var x=this.computedUp,_=this.computedRight,h=0,S=0,w=0;w<3;++w)S+=x[w]*_[w],h+=x[w]*x[w];var E=Math.sqrt(h),C=0;for(w=0;w<3;++w)_[w]-=x[w]*S/h,C+=_[w]*_[w],x[w]/=E;var P=Math.sqrt(C);for(w=0;w<3;++w)_[w]/=P;var O=this.computedToward;o(O,x,_),l(O,O);var R=Math.exp(this.computedRadius[0]),U=this.computedAngle[0],z=this.computedAngle[1],N=Math.cos(U),W=Math.sin(U),F=Math.cos(z),V=Math.sin(z),j=this.computedCenter,te=N*F,J=W*F,K=V,Z=-N*V,X=-W*V,Q=F,re=this.computedEye,ae=this.computedMatrix;for(w=0;w<3;++w){var ie=te*_[w]+J*O[w]+K*x[w];ae[4*w+1]=Z*_[w]+X*O[w]+Q*x[w],ae[4*w+2]=ie,ae[4*w+3]=0}var le=ae[1],pe=ae[5],de=ae[9],ve=ae[2],be=ae[6],me=ae[10],ge=pe*me-de*be,ke=de*ve-le*me,we=le*be-pe*ve,ue=d(ge,ke,we);for(ge/=ue,ke/=ue,we/=ue,ae[0]=ge,ae[4]=ke,ae[8]=we,w=0;w<3;++w)re[w]=j[w]+ae[2+4*w]*R;for(w=0;w<3;++w){C=0;for(var oe=0;oe<3;++oe)C+=ae[w+4*oe]*re[oe];ae[12+w]=-C}ae[15]=1},p.getMatrix=function(y,x){this.recalcMatrix(y);var _=this.computedMatrix;if(x){for(var h=0;h<16;++h)x[h]=_[h];return x}return _};var v=[0,0,0];p.rotate=function(y,x,_,h){if(this.angle.move(y,x,_),h){this.recalcMatrix(y);var S=this.computedMatrix;v[0]=S[2],v[1]=S[6],v[2]=S[10];for(var w=this.computedUp,E=this.computedRight,C=this.computedToward,P=0;P<3;++P)S[4*P]=w[P],S[4*P+1]=E[P],S[4*P+2]=C[P];for(n(S,S,h,v),P=0;P<3;++P)w[P]=S[4*P],E[P]=S[4*P+1];this.up.set(y,w[0],w[1],w[2]),this.right.set(y,E[0],E[1],E[2])}},p.pan=function(y,x,_,h){x=x||0,_=_||0,h=h||0,this.recalcMatrix(y);var S=this.computedMatrix,w=(Math.exp(this.computedRadius[0]),S[1]),E=S[5],C=S[9],P=d(w,E,C);w/=P,E/=P,C/=P;var O=S[0],R=S[4],U=S[8],z=O*w+R*E+U*C,N=d(O-=w*z,R-=E*z,U-=C*z),W=(O/=N)*x+w*_,F=(R/=N)*x+E*_,V=(U/=N)*x+C*_;this.center.move(y,W,F,V);var j=Math.exp(this.computedRadius[0]);j=Math.max(1e-4,j+h),this.radius.set(y,Math.log(j))},p.translate=function(y,x,_,h){this.center.move(y,x||0,_||0,h||0)},p.setMatrix=function(y,x,_,h){var S=1;typeof _=="number"&&(S=0|_),(S<0||S>3)&&(S=1);var w=(S+2)%3;x||(this.recalcMatrix(y),x=this.computedMatrix);var E=x[S],C=x[S+4],P=x[S+8];if(h){var O=Math.abs(E),R=Math.abs(C),U=Math.abs(P),z=Math.max(O,R,U);O===z?(E=E<0?-1:1,C=P=0):U===z?(P=P<0?-1:1,E=C=0):(C=C<0?-1:1,E=P=0)}else{var N=d(E,C,P);E/=N,C/=N,P/=N}var W,F,V=x[w],j=x[w+4],te=x[w+8],J=V*E+j*C+te*P,K=d(V-=E*J,j-=C*J,te-=P*J),Z=C*(te/=K)-P*(j/=K),X=P*(V/=K)-E*te,Q=E*j-C*V,re=d(Z,X,Q);if(Z/=re,X/=re,Q/=re,this.center.jump(y,Me,Se,ze),this.radius.idle(y),this.up.jump(y,E,C,P),this.right.jump(y,V,j,te),S===2){var ae=x[1],ie=x[5],le=x[9],pe=ae*V+ie*j+le*te,de=ae*Z+ie*X+le*Q;W=ge<0?-Math.PI/2:Math.PI/2,F=Math.atan2(de,pe)}else{var ve=x[2],be=x[6],me=x[10],ge=ve*E+be*C+me*P,ke=ve*V+be*j+me*te,we=ve*Z+be*X+me*Q;W=Math.asin(c(ge)),F=Math.atan2(we,ke)}this.angle.jump(y,F,W),this.recalcMatrix(y);var ue=x[2],oe=x[6],he=x[10],Ee=this.computedMatrix;r(Ee,x);var Te=Ee[15],Me=Ee[12]/Te,Se=Ee[13]/Te,ze=Ee[14]/Te,fe=Math.exp(this.computedRadius[0]);this.center.jump(y,Me-ue*fe,Se-oe*fe,ze-he*fe)},p.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},p.idle=function(y){this.center.idle(y),this.up.idle(y),this.right.idle(y),this.radius.idle(y),this.angle.idle(y)},p.flush=function(y){this.center.flush(y),this.up.flush(y),this.right.flush(y),this.radius.flush(y),this.angle.flush(y)},p.setDistance=function(y,x){x>0&&this.radius.set(y,Math.log(x))},p.lookAt=function(y,x,_,h){this.recalcMatrix(y),x=x||this.computedEye,_=_||this.computedCenter;var S=(h=h||this.computedUp)[0],w=h[1],E=h[2],C=d(S,w,E);if(!(C<1e-6)){S/=C,w/=C,E/=C;var P=x[0]-_[0],O=x[1]-_[1],R=x[2]-_[2],U=d(P,O,R);if(!(U<1e-6)){P/=U,O/=U,R/=U;var z=this.computedRight,N=z[0],W=z[1],F=z[2],V=S*N+w*W+E*F,j=d(N-=V*S,W-=V*w,F-=V*E);if(!(j<.01&&(j=d(N=w*R-E*O,W=E*P-S*R,F=S*O-w*P))<1e-6)){N/=j,W/=j,F/=j,this.up.set(y,S,w,E),this.right.set(y,N,W,F),this.center.set(y,_[0],_[1],_[2]),this.radius.set(y,Math.log(U));var te=w*F-E*W,J=E*N-S*F,K=S*W-w*N,Z=d(te,J,K),X=S*P+w*O+E*R,Q=N*P+W*O+F*R,re=(te/=Z)*P+(J/=Z)*O+(K/=Z)*R,ae=Math.asin(c(X)),ie=Math.atan2(re,Q),le=this.angle._state,pe=le[le.length-1],de=le[le.length-2];pe%=2*Math.PI;var ve=Math.abs(pe+2*Math.PI-ie),be=Math.abs(pe-ie),me=Math.abs(pe-2*Math.PI-ie);ve<be&&(pe+=2*Math.PI),me<be&&(pe-=2*Math.PI),this.angle.jump(this.angle.lastT(),pe,de),this.angle.set(y,ie,ae)}}}}},9660:function(g){g.exports=function(t,i,r){var n=t*i,o=s*t,l=o-(o-t),u=t-l,d=s*i,c=d-(d-i),m=i-c,f=u*m-(n-l*c-u*c-l*m);return r?(r[0]=f,r[1]=n,r):[f,n]};var s=+(Math.pow(2,27)+1)},87:function(g){g.exports=function(s,t,i){var r=s+t,n=r-s,o=t-n,l=s-(r-n);return i?(i[0]=l+o,i[1]=r,i):[l+o,r]}},5306:function(g,s,t){var i=t(2288),r=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:r([32,0]),UINT16:r([32,0]),UINT32:r([32,0]),BIGUINT64:r([32,0]),INT8:r([32,0]),INT16:r([32,0]),INT32:r([32,0]),BIGINT64:r([32,0]),FLOAT:r([32,0]),DOUBLE:r([32,0]),DATA:r([32,0]),UINT8C:r([32,0]),BUFFER:r([32,0])});var o=typeof Uint8ClampedArray<"u",l=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",d=t.g.__TYPEDARRAY_POOL;d.UINT8C||(d.UINT8C=r([32,0])),d.BIGUINT64||(d.BIGUINT64=r([32,0])),d.BIGINT64||(d.BIGINT64=r([32,0])),d.BUFFER||(d.BUFFER=r([32,0]));var c=d.DATA,m=d.BUFFER;function f(z){if(z){var N=z.length||z.byteLength,W=i.log2(N);c[W].push(z)}}function p(z){z=i.nextPow2(z);var N=i.log2(z),W=c[N];return W.length>0?W.pop():new ArrayBuffer(z)}function v(z){return new Uint8Array(p(z),0,z)}function y(z){return new Uint16Array(p(2*z),0,z)}function x(z){return new Uint32Array(p(4*z),0,z)}function _(z){return new Int8Array(p(z),0,z)}function h(z){return new Int16Array(p(2*z),0,z)}function S(z){return new Int32Array(p(4*z),0,z)}function w(z){return new Float32Array(p(4*z),0,z)}function E(z){return new Float64Array(p(8*z),0,z)}function C(z){return o?new Uint8ClampedArray(p(z),0,z):v(z)}function P(z){return l?new BigUint64Array(p(8*z),0,z):null}function O(z){return u?new BigInt64Array(p(8*z),0,z):null}function R(z){return new DataView(p(z),0,z)}function U(z){z=i.nextPow2(z);var N=i.log2(z),W=m[N];return W.length>0?W.pop():new n(z)}s.free=function(z){if(n.isBuffer(z))m[i.log2(z.length)].push(z);else{if(Object.prototype.toString.call(z)!=="[object ArrayBuffer]"&&(z=z.buffer),!z)return;var N=z.length||z.byteLength,W=0|i.log2(N);c[W].push(z)}},s.freeUint8=s.freeUint16=s.freeUint32=s.freeBigUint64=s.freeInt8=s.freeInt16=s.freeInt32=s.freeBigInt64=s.freeFloat32=s.freeFloat=s.freeFloat64=s.freeDouble=s.freeUint8Clamped=s.freeDataView=function(z){f(z.buffer)},s.freeArrayBuffer=f,s.freeBuffer=function(z){m[i.log2(z.length)].push(z)},s.malloc=function(z,N){if(N===void 0||N==="arraybuffer")return p(z);switch(N){case"uint8":return v(z);case"uint16":return y(z);case"uint32":return x(z);case"int8":return _(z);case"int16":return h(z);case"int32":return S(z);case"float":case"float32":return w(z);case"double":case"float64":return E(z);case"uint8_clamped":return C(z);case"bigint64":return O(z);case"biguint64":return P(z);case"buffer":return U(z);case"data":case"dataview":return R(z);default:return null}return null},s.mallocArrayBuffer=p,s.mallocUint8=v,s.mallocUint16=y,s.mallocUint32=x,s.mallocInt8=_,s.mallocInt16=h,s.mallocInt32=S,s.mallocFloat32=s.mallocFloat=w,s.mallocFloat64=s.mallocDouble=E,s.mallocUint8Clamped=C,s.mallocBigUint64=P,s.mallocBigInt64=O,s.mallocDataView=R,s.mallocBuffer=U,s.clearCache=function(){for(var z=0;z<32;++z)d.UINT8[z].length=0,d.UINT16[z].length=0,d.UINT32[z].length=0,d.INT8[z].length=0,d.INT16[z].length=0,d.INT32[z].length=0,d.FLOAT[z].length=0,d.DOUBLE[z].length=0,d.BIGUINT64[z].length=0,d.BIGINT64[z].length=0,d.UINT8C[z].length=0,c[z].length=0,m[z].length=0}},1731:function(g){function s(i){this.roots=new Array(i),this.ranks=new Array(i);for(var r=0;r<i;++r)this.roots[r]=r,this.ranks[r]=0}g.exports=s;var t=s.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},t.find=function(i){for(var r=i,n=this.roots;n[i]!==i;)i=n[i];for(;n[r]!==i;){var o=n[r];n[r]=i,r=o}return i},t.link=function(i,r){var n=this.find(i),o=this.find(r);if(n!==o){var l=this.ranks,u=this.roots,d=l[n],c=l[o];d<c?u[n]=o:c<d?u[o]=n:(u[o]=n,++l[n])}}},1215:function(g){g.exports=function(s,t,i){return s.length===0?s:t?(i||s.sort(t),function(r,n){for(var o=1,l=r.length,u=r[0],d=r[0],c=1;c<l;++c)if(d=u,n(u=r[c],d)){if(c===o){o++;continue}r[o++]=u}return r.length=o,r}(s,t)):(i||s.sort(),function(r){for(var n=1,o=r.length,l=r[0],u=r[0],d=1;d<o;++d,u=l)if(u=l,(l=r[d])!==u){if(d===n){n++;continue}r[n++]=l}return r.length=n,r}(s))}},875:function(g,s,t){g.exports=function(o,l){return typeof l=="object"&&l!==null||(l={}),i(o,l.canvas||r,l.context||n,l)};var i=t(712),r=null,n=null;typeof document<"u"&&((r=document.createElement("canvas")).width=8192,r.height=1024,n=r.getContext("2d"))},712:function(g,s,t){g.exports=function(P,O,R,U){var z=64,N=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return U&&(U.size&&U.size>0&&(z=U.size),U.lineSpacing&&U.lineSpacing>0&&(N=U.lineSpacing),U.styletags&&U.styletags.breaklines&&(W.breaklines=!!U.styletags.breaklines),U.styletags&&U.styletags.bolds&&(W.bolds=!!U.styletags.bolds),U.styletags&&U.styletags.italics&&(W.italics=!!U.styletags.italics),U.styletags&&U.styletags.subscripts&&(W.subscripts=!!U.styletags.subscripts),U.styletags&&U.styletags.superscripts&&(W.superscripts=!!U.styletags.superscripts)),R.font=[U.fontStyle,U.fontVariant,U.fontWeight,z+"px",U.font].filter(function(F){return F}).join(" "),R.textAlign="start",R.textBaseline="alphabetic",R.direction="ltr",C(function(F,V,j,te,J,K){j=j.replace(/\n/g,""),j=K.breaklines===!0?j.replace(/\<br\>/g,`
`):j.replace(/\<br\>/g," ");var Z="",X=[];for(ie=0;ie<j.length;++ie)X[ie]=Z;K.bolds===!0&&(X=S(d,c,j,X)),K.italics===!0&&(X=S(m,f,j,X)),K.superscripts===!0&&(X=S(p,y,j,X)),K.subscripts===!0&&(X=S(x,h,j,X));var Q=[],re="";for(ie=0;ie<j.length;++ie)X[ie]!==null&&(re+=j[ie],Q.push(X[ie]));var ae,ie,le,pe,de,ve=re.split(`
`),be=ve.length,me=Math.round(J*te),ge=te,ke=2*te,we=0,ue=be*me+ke;F.height<ue&&(F.height=ue),V.fillStyle="#000",V.fillRect(0,0,F.width,F.height),V.fillStyle="#fff";var oe=0,he="";function Ee(){if(he!==""){var Oe=V.measureText(he).width;V.fillText(he,ge+le,ke+pe),le+=Oe}}function Te(){return Math.round(de)+"px "}function Me(Oe,De){var Pe=""+V.font;if(K.subscripts===!0){var Ue=Oe.indexOf(_),Ve=De.indexOf(_),Xe=Ue>-1?parseInt(Oe[1+Ue]):0,it=Ve>-1?parseInt(De[1+Ve]):0;Xe!==it&&(Pe=Pe.replace(Te(),"?px "),de*=Math.pow(.75,it-Xe),Pe=Pe.replace("?px ",Te())),pe+=.25*me*(it-Xe)}if(K.superscripts===!0){var tt=Oe.indexOf(v),pt=De.indexOf(v),mt=tt>-1?parseInt(Oe[1+tt]):0,gt=pt>-1?parseInt(De[1+pt]):0;mt!==gt&&(Pe=Pe.replace(Te(),"?px "),de*=Math.pow(.75,gt-mt),Pe=Pe.replace("?px ",Te())),pe-=.25*me*(gt-mt)}if(K.bolds===!0){var et=Oe.indexOf(c)>-1,$e=De.indexOf(c)>-1;!et&&$e&&(Pe=_t?Pe.replace("italic ","italic bold "):"bold "+Pe),et&&!$e&&(Pe=Pe.replace("bold ",""))}if(K.italics===!0){var _t=Oe.indexOf(f)>-1,Pt=De.indexOf(f)>-1;!_t&&Pt&&(Pe="italic "+Pe),_t&&!Pt&&(Pe=Pe.replace("italic ",""))}V.font=Pe}for(ae=0;ae<be;++ae){var Se=ve[ae]+`
`;for(le=0,pe=ae*me,de=te,he="",ie=0;ie<Se.length;++ie){var ze=ie+oe<Q.length?Q[ie+oe]:Q[Q.length-1];Z===ze?he+=Se[ie]:(Ee(),he=Se[ie],ze!==void 0&&(Me(Z,ze),Z=ze))}Ee(),oe+=Se.length;var fe=0|Math.round(le+2*ge);we<fe&&(we=fe)}var xe=we,_e=ke+me*be;return r(V.getImageData(0,0,xe,_e).data,[_e,xe,4]).pick(-1,-1,0).transpose(1,0)}(O,R,P,z,N,W),U,z)},g.exports.processPixels=C;var i=t(4162),r=t(5050),n=t(8243),o=t(197),l=t(7761),u=t(8040),d="b",c="b|",m="i",f="i|",p="sup",v="+",y="+1",x="sub",_="-",h="-1";function S(P,O,R,U){for(var z="<"+P+">",N="</"+P+">",W=z.length,F=N.length,V=O[0]===v||O[0]===_,j=0,te=-F;j>-1&&(j=R.indexOf(z,j))!==-1&&(te=R.indexOf(N,j+W))!==-1&&!(te<=j);){for(var J=j;J<te+F;++J)if(J<j+W||J>=te)U[J]=null,R=R.substr(0,J)+" "+R.substr(J+1);else if(U[J]!==null){var K=U[J].indexOf(O[0]);K===-1?U[J]+=O:V&&(U[J]=U[J].substr(0,K+1)+(1+parseInt(U[J][K+1]))+U[J].substr(K+2))}var Z=j+W,X=R.substr(Z,te-Z).indexOf(z);j=X!==-1?X:te+F}return U}function w(P,O){var R=i(P,128);return O?n(R.cells,R.positions,.25):{edges:R.cells,positions:R.positions}}function E(P,O,R,U){var z=w(P,U),N=function(ae,ie,le){for(var pe=ie.textAlign||"start",de=ie.textBaseline||"alphabetic",ve=[1<<30,1<<30],be=[0,0],me=ae.length,ge=0;ge<me;++ge)for(var ke=ae[ge],we=0;we<2;++we)ve[we]=0|Math.min(ve[we],ke[we]),be[we]=0|Math.max(be[we],ke[we]);var ue=0;switch(pe){case"center":ue=-.5*(ve[0]+be[0]);break;case"right":case"end":ue=-be[0];break;case"left":case"start":ue=-ve[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+pe+"'")}var oe=0;switch(de){case"hanging":case"top":oe=-ve[1];break;case"middle":oe=-.5*(ve[1]+be[1]);break;case"alphabetic":case"ideographic":oe=-3*le;break;case"bottom":oe=-be[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+de+"'")}var he=1/le;return"lineHeight"in ie?he*=+ie.lineHeight:"width"in ie?he=ie.width/(be[0]-ve[0]):"height"in ie&&(he=ie.height/(be[1]-ve[1])),ae.map(function(Ee){return[he*(Ee[0]+ue),he*(Ee[1]+oe)]})}(z.positions,O,R),W=z.edges,F=O.orientation==="ccw";if(o(N,W),O.polygons||O.polygon||O.polyline){for(var V=u(W,N),j=new Array(V.length),te=0;te<V.length;++te){for(var J=V[te],K=new Array(J.length),Z=0;Z<J.length;++Z){for(var X=J[Z],Q=new Array(X.length),re=0;re<X.length;++re)Q[re]=N[X[re]].slice();F&&Q.reverse(),K[Z]=Q}j[te]=K}return j}return O.triangles||O.triangulate||O.triangle?{cells:l(N,W,{delaunay:!1,exterior:!1,interior:!0}),positions:N}:{edges:W,positions:N}}function C(P,O,R){try{return E(P,O,R,!0)}catch{}try{return E(P,O,R,!1)}catch{}return O.polygons||O.polyline||O.polygon?[]:O.triangles||O.triangulate||O.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(g){(function(){if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=x);var s=!1;if(typeof WeakMap=="function"){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new t,r=Object.freeze({});if(i.set(r,1),i.get(r)===1)return void(g.exports=WeakMap);s=!0}}var n=Object.getOwnPropertyNames,o=Object.defineProperty,l=Object.isExtensible,u="weakmap:",d=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),m=new Uint8Array(c);crypto.getRandomValues(m),d=u+"rand:"+Array.prototype.map.call(m,function(E){return(E%36).toString(36)}).join("")+"___"}if(o(Object,"getOwnPropertyNames",{value:function(E){return n(E).filter(_)}}),"getPropertyNames"in Object){var f=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(E){return f(E).filter(_)}})}(function(){var E=Object.freeze;o(Object,"freeze",{value:function(O){return h(O),E(O)}});var C=Object.seal;o(Object,"seal",{value:function(O){return h(O),C(O)}});var P=Object.preventExtensions;o(Object,"preventExtensions",{value:function(O){return h(O),P(O)}})})();var p=!1,v=0,y=function(){this instanceof y||w();var E=[],C=[],P=v++;return Object.create(y.prototype,{get___:{value:S(function(O,R){var U,z=h(O);return z?P in z?z[P]:R:(U=E.indexOf(O))>=0?C[U]:R})},has___:{value:S(function(O){var R=h(O);return R?P in R:E.indexOf(O)>=0})},set___:{value:S(function(O,R){var U,z=h(O);return z?z[P]=R:(U=E.indexOf(O))>=0?C[U]=R:(U=E.length,C[U]=R,E[U]=O),this})},delete___:{value:S(function(O){var R,U,z=h(O);return z?P in z&&delete z[P]:!((R=E.indexOf(O))<0||(U=E.length-1,E[R]=void 0,C[R]=C[U],E[R]=E[U],E.length=U,C.length=U,0))})}})};y.prototype=Object.create(Object.prototype,{get:{value:function(E,C){return this.get___(E,C)},writable:!0,configurable:!0},has:{value:function(E){return this.has___(E)},writable:!0,configurable:!0},set:{value:function(E,C){return this.set___(E,C)},writable:!0,configurable:!0},delete:{value:function(E){return this.delete___(E)},writable:!0,configurable:!0}}),typeof t=="function"?function(){function E(){this instanceof y||w();var C,P=new t,O=void 0,R=!1;return C=s?function(U,z){return P.set(U,z),P.has(U)||(O||(O=new y),O.set(U,z)),this}:function(U,z){if(R)try{P.set(U,z)}catch{O||(O=new y),O.set___(U,z)}else P.set(U,z);return this},Object.create(y.prototype,{get___:{value:S(function(U,z){return O?P.has(U)?P.get(U):O.get___(U,z):P.get(U,z)})},has___:{value:S(function(U){return P.has(U)||!!O&&O.has___(U)})},set___:{value:S(C)},delete___:{value:S(function(U){var z=!!P.delete(U);return O&&O.delete___(U)||z})},permitHostObjects___:{value:S(function(U){if(U!==x)throw new Error("bogus call to permitHostObjects___");R=!0})}})}s&&typeof Proxy<"u"&&(Proxy=void 0),E.prototype=y.prototype,g.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),g.exports=y)}function x(E){E.permitHostObjects___&&E.permitHostObjects___(x)}function _(E){return!(E.substr(0,8)==u&&E.substr(E.length-3)==="___")}function h(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var C=E[d];if(C&&C.key===E)return C;if(l(E)){C={key:E};try{return o(E,d,{value:C,writable:!1,enumerable:!1,configurable:!1}),C}catch{return}}}function S(E){return E.prototype=null,Object.freeze(E)}function w(){p||typeof console>"u"||(p=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},9222:function(g,s,t){var i=t(7178);g.exports=function(){var r={};return function(n){if((typeof n!="object"||n===null)&&typeof n!="function")throw new Error("Weakmap-shim: Key must be object");var o=n.valueOf(r);return o&&o.identity===r?o:i(n,r)}}},7178:function(g){g.exports=function(s,t){var i={identity:t},r=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(n){return n!==t?r.apply(this,arguments):i},writable:!0}),i}},4037:function(g,s,t){var i=t(9222);g.exports=function(){var r=i();return{get:function(n,o){var l=r(n);return l.hasOwnProperty("value")?l.value:o},set:function(n,o){return r(n).value=o,this},has:function(n){return"value"in r(n)},delete:function(n){return delete r(n).value}}}},6183:function(g){g.exports=function(s){var t={};return function(i,r,n){var o=i.dtype,l=i.order,u=[o,l.join()].join(),d=t[u];return d||(t[u]=d=s([o,l])),d(i.shape.slice(0),i.data,i.stride,0|i.offset,r,n)}}((function(){return function(s,t,i,r,n,o){var l=s[0],u=i[0],d=[0],c=u;r|=0;var m=0,f=u;for(m=0;m<l;++m){var p=t[r]-o,v=t[r+c]-o;p>=0!=v>=0&&n.push(d[0]+.5+.5*(p+v)/(p-v)),r+=f,++d[0]}}}).bind(void 0,{funcName:"zeroCrossings"}))},9584:function(g,s,t){g.exports=function(r,n){var o=[];return n=+n||0,i(r.hi(r.shape[0]-1),o,n),o};var i=t(6183)},6601:function(){}},T={};function b(g){var s=T[g];if(s!==void 0)return s.exports;var t=T[g]={id:g,loaded:!1,exports:{}};return a[g].call(t.exports,t,t.exports,b),t.loaded=!0,t.exports}return b.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),b.nmd=function(g){return g.paths=[],g.children||(g.children=[]),g},b(7386)}()},ee.exports=M()},33576:function(ee,D,e){function M(ue,oe){for(var he=0;he<oe.length;he++){var Ee=oe[he];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ue,(Te=function(Me,Se){if(b(Me)!=="object"||Me===null)return Me;var ze=Me[Symbol.toPrimitive];if(ze!==void 0){var fe=ze.call(Me,"string");if(b(fe)!=="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Me)}(Ee.key),b(Te)==="symbol"?Te:String(Te)),Ee)}var Te}function k(ue){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},k(ue)}function a(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function T(ue,oe){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,Ee){return he.__proto__=Ee,he},T(ue,oe)}function b(ue){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},b(ue)}var g=e(59968),s=e(35984),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;D.Buffer=n,D.SlowBuffer=function(ue){return+ue!=ue&&(ue=0),n.alloc(+ue)},D.INSPECT_MAX_BYTES=50;var i=2147483647;function r(ue){if(ue>i)throw new RangeError('The value "'+ue+'" is invalid for option "size"');var oe=new Uint8Array(ue);return Object.setPrototypeOf(oe,n.prototype),oe}function n(ue,oe,he){if(typeof ue=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(ue)}return o(ue,oe,he)}function o(ue,oe,he){if(typeof ue=="string")return function(Me,Se){if(typeof Se=="string"&&Se!==""||(Se="utf8"),!n.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se);var ze=0|f(Me,Se),fe=r(ze),xe=fe.write(Me,Se);return xe!==ze&&(fe=fe.slice(0,xe)),fe}(ue,oe);if(ArrayBuffer.isView(ue))return function(Me){if(be(Me,Uint8Array)){var Se=new Uint8Array(Me);return c(Se.buffer,Se.byteOffset,Se.byteLength)}return d(Me)}(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(ue));if(be(ue,ArrayBuffer)||ue&&be(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(ue,SharedArrayBuffer)||ue&&be(ue.buffer,SharedArrayBuffer)))return c(ue,oe,he);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=ue.valueOf&&ue.valueOf();if(Ee!=null&&Ee!==ue)return n.from(Ee,oe,he);var Te=function(Me){if(n.isBuffer(Me)){var Se=0|m(Me.length),ze=r(Se);return ze.length===0||Me.copy(ze,0,0,Se),ze}return Me.length!==void 0?typeof Me.length!="number"||me(Me.length)?r(0):d(Me):Me.type==="Buffer"&&Array.isArray(Me.data)?d(Me.data):void 0}(ue);if(Te)return Te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return n.from(ue[Symbol.toPrimitive]("string"),oe,he);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(ue))}function l(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function u(ue){return l(ue),r(ue<0?0:0|m(ue))}function d(ue){for(var oe=ue.length<0?0:0|m(ue.length),he=r(oe),Ee=0;Ee<oe;Ee+=1)he[Ee]=255&ue[Ee];return he}function c(ue,oe,he){if(oe<0||ue.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<oe+(he||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Ee=oe===void 0&&he===void 0?new Uint8Array(ue):he===void 0?new Uint8Array(ue,oe):new Uint8Array(ue,oe,he),Object.setPrototypeOf(Ee,n.prototype),Ee}function m(ue){if(ue>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|ue}function f(ue,oe){if(n.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||be(ue,ArrayBuffer))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(ue));var he=ue.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&he===0)return 0;for(var Te=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return he;case"utf8":case"utf-8":return pe(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*he;case"hex":return he>>>1;case"base64":return de(ue).length;default:if(Te)return Ee?-1:pe(ue).length;oe=(""+oe).toLowerCase(),Te=!0}}function p(ue,oe,he){var Ee=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((he===void 0||he>this.length)&&(he=this.length),he<=0)||(he>>>=0)<=(oe>>>=0))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return z(this,oe,he);case"utf8":case"utf-8":return P(this,oe,he);case"ascii":return R(this,oe,he);case"latin1":case"binary":return U(this,oe,he);case"base64":return C(this,oe,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,oe,he);default:if(Ee)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),Ee=!0}}function v(ue,oe,he){var Ee=ue[oe];ue[oe]=ue[he],ue[he]=Ee}function y(ue,oe,he,Ee,Te){if(ue.length===0)return-1;if(typeof he=="string"?(Ee=he,he=0):he>2147483647?he=2147483647:he<-2147483648&&(he=-2147483648),me(he=+he)&&(he=Te?0:ue.length-1),he<0&&(he=ue.length+he),he>=ue.length){if(Te)return-1;he=ue.length-1}else if(he<0){if(!Te)return-1;he=0}if(typeof oe=="string"&&(oe=n.from(oe,Ee)),n.isBuffer(oe))return oe.length===0?-1:x(ue,oe,he,Ee,Te);if(typeof oe=="number")return oe&=255,typeof Uint8Array.prototype.indexOf=="function"?Te?Uint8Array.prototype.indexOf.call(ue,oe,he):Uint8Array.prototype.lastIndexOf.call(ue,oe,he):x(ue,[oe],he,Ee,Te);throw new TypeError("val must be string, number or Buffer")}function x(ue,oe,he,Ee,Te){var Me,Se=1,ze=ue.length,fe=oe.length;if(Ee!==void 0&&((Ee=String(Ee).toLowerCase())==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(ue.length<2||oe.length<2)return-1;Se=2,ze/=2,fe/=2,he/=2}function xe(Pe,Ue){return Se===1?Pe[Ue]:Pe.readUInt16BE(Ue*Se)}if(Te){var _e=-1;for(Me=he;Me<ze;Me++)if(xe(ue,Me)===xe(oe,_e===-1?0:Me-_e)){if(_e===-1&&(_e=Me),Me-_e+1===fe)return _e*Se}else _e!==-1&&(Me-=Me-_e),_e=-1}else for(he+fe>ze&&(he=ze-fe),Me=he;Me>=0;Me--){for(var Oe=!0,De=0;De<fe;De++)if(xe(ue,Me+De)!==xe(oe,De)){Oe=!1;break}if(Oe)return Me}return-1}function _(ue,oe,he,Ee){he=Number(he)||0;var Te=ue.length-he;Ee?(Ee=Number(Ee))>Te&&(Ee=Te):Ee=Te;var Me,Se=oe.length;for(Ee>Se/2&&(Ee=Se/2),Me=0;Me<Ee;++Me){var ze=parseInt(oe.substr(2*Me,2),16);if(me(ze))return Me;ue[he+Me]=ze}return Me}function h(ue,oe,he,Ee){return ve(pe(oe,ue.length-he),ue,he,Ee)}function S(ue,oe,he,Ee){return ve(function(Te){for(var Me=[],Se=0;Se<Te.length;++Se)Me.push(255&Te.charCodeAt(Se));return Me}(oe),ue,he,Ee)}function w(ue,oe,he,Ee){return ve(de(oe),ue,he,Ee)}function E(ue,oe,he,Ee){return ve(function(Te,Me){for(var Se,ze,fe,xe=[],_e=0;_e<Te.length&&!((Me-=2)<0);++_e)ze=(Se=Te.charCodeAt(_e))>>8,fe=Se%256,xe.push(fe),xe.push(ze);return xe}(oe,ue.length-he),ue,he,Ee)}function C(ue,oe,he){return oe===0&&he===ue.length?g.fromByteArray(ue):g.fromByteArray(ue.slice(oe,he))}function P(ue,oe,he){he=Math.min(ue.length,he);for(var Ee=[],Te=oe;Te<he;){var Me=ue[Te],Se=null,ze=Me>239?4:Me>223?3:Me>191?2:1;if(Te+ze<=he){var fe=void 0,xe=void 0,_e=void 0,Oe=void 0;switch(ze){case 1:Me<128&&(Se=Me);break;case 2:(192&(fe=ue[Te+1]))==128&&(Oe=(31&Me)<<6|63&fe)>127&&(Se=Oe);break;case 3:fe=ue[Te+1],xe=ue[Te+2],(192&fe)==128&&(192&xe)==128&&(Oe=(15&Me)<<12|(63&fe)<<6|63&xe)>2047&&(Oe<55296||Oe>57343)&&(Se=Oe);break;case 4:fe=ue[Te+1],xe=ue[Te+2],_e=ue[Te+3],(192&fe)==128&&(192&xe)==128&&(192&_e)==128&&(Oe=(15&Me)<<18|(63&fe)<<12|(63&xe)<<6|63&_e)>65535&&Oe<1114112&&(Se=Oe)}}Se===null?(Se=65533,ze=1):Se>65535&&(Se-=65536,Ee.push(Se>>>10&1023|55296),Se=56320|1023&Se),Ee.push(Se),Te+=ze}return function(De){var Pe=De.length;if(Pe<=O)return String.fromCharCode.apply(String,De);for(var Ue="",Ve=0;Ve<Pe;)Ue+=String.fromCharCode.apply(String,De.slice(Ve,Ve+=O));return Ue}(Ee)}D.kMaxLength=i,n.TYPED_ARRAY_SUPPORT=function(){try{var ue=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(ue,oe),ue.foo()===42}catch{return!1}}(),n.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(ue,oe,he){return o(ue,oe,he)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(ue,oe,he){return function(Ee,Te,Me){return l(Ee),Ee<=0?r(Ee):Te!==void 0?typeof Me=="string"?r(Ee).fill(Te,Me):r(Ee).fill(Te):r(Ee)}(ue,oe,he)},n.allocUnsafe=function(ue){return u(ue)},n.allocUnsafeSlow=function(ue){return u(ue)},n.isBuffer=function(ue){return ue!=null&&ue._isBuffer===!0&&ue!==n.prototype},n.compare=function(ue,oe){if(be(ue,Uint8Array)&&(ue=n.from(ue,ue.offset,ue.byteLength)),be(oe,Uint8Array)&&(oe=n.from(oe,oe.offset,oe.byteLength)),!n.isBuffer(ue)||!n.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ue===oe)return 0;for(var he=ue.length,Ee=oe.length,Te=0,Me=Math.min(he,Ee);Te<Me;++Te)if(ue[Te]!==oe[Te]){he=ue[Te],Ee=oe[Te];break}return he<Ee?-1:Ee<he?1:0},n.isEncoding=function(ue){switch(String(ue).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(ue,oe){if(!Array.isArray(ue))throw new TypeError('"list" argument must be an Array of Buffers');if(ue.length===0)return n.alloc(0);var he;if(oe===void 0)for(oe=0,he=0;he<ue.length;++he)oe+=ue[he].length;var Ee=n.allocUnsafe(oe),Te=0;for(he=0;he<ue.length;++he){var Me=ue[he];if(be(Me,Uint8Array))Te+Me.length>Ee.length?(n.isBuffer(Me)||(Me=n.from(Me)),Me.copy(Ee,Te)):Uint8Array.prototype.set.call(Ee,Me,Te);else{if(!n.isBuffer(Me))throw new TypeError('"list" argument must be an Array of Buffers');Me.copy(Ee,Te)}Te+=Me.length}return Ee},n.byteLength=f,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var ue=this.length;if(ue%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<ue;oe+=2)v(this,oe,oe+1);return this},n.prototype.swap32=function(){var ue=this.length;if(ue%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<ue;oe+=4)v(this,oe,oe+3),v(this,oe+1,oe+2);return this},n.prototype.swap64=function(){var ue=this.length;if(ue%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<ue;oe+=8)v(this,oe,oe+7),v(this,oe+1,oe+6),v(this,oe+2,oe+5),v(this,oe+3,oe+4);return this},n.prototype.toString=function(){var ue=this.length;return ue===0?"":arguments.length===0?P(this,0,ue):p.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(ue){if(!n.isBuffer(ue))throw new TypeError("Argument must be a Buffer");return this===ue||n.compare(this,ue)===0},n.prototype.inspect=function(){var ue="",oe=D.INSPECT_MAX_BYTES;return ue=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(ue+=" ... "),"<Buffer "+ue+">"},t&&(n.prototype[t]=n.prototype.inspect),n.prototype.compare=function(ue,oe,he,Ee,Te){if(be(ue,Uint8Array)&&(ue=n.from(ue,ue.offset,ue.byteLength)),!n.isBuffer(ue))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(ue));if(oe===void 0&&(oe=0),he===void 0&&(he=ue?ue.length:0),Ee===void 0&&(Ee=0),Te===void 0&&(Te=this.length),oe<0||he>ue.length||Ee<0||Te>this.length)throw new RangeError("out of range index");if(Ee>=Te&&oe>=he)return 0;if(Ee>=Te)return-1;if(oe>=he)return 1;if(this===ue)return 0;for(var Me=(Te>>>=0)-(Ee>>>=0),Se=(he>>>=0)-(oe>>>=0),ze=Math.min(Me,Se),fe=this.slice(Ee,Te),xe=ue.slice(oe,he),_e=0;_e<ze;++_e)if(fe[_e]!==xe[_e]){Me=fe[_e],Se=xe[_e];break}return Me<Se?-1:Se<Me?1:0},n.prototype.includes=function(ue,oe,he){return this.indexOf(ue,oe,he)!==-1},n.prototype.indexOf=function(ue,oe,he){return y(this,ue,oe,he,!0)},n.prototype.lastIndexOf=function(ue,oe,he){return y(this,ue,oe,he,!1)},n.prototype.write=function(ue,oe,he,Ee){if(oe===void 0)Ee="utf8",he=this.length,oe=0;else if(he===void 0&&typeof oe=="string")Ee=oe,he=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe>>>=0,isFinite(he)?(he>>>=0,Ee===void 0&&(Ee="utf8")):(Ee=he,he=void 0)}var Te=this.length-oe;if((he===void 0||he>Te)&&(he=Te),ue.length>0&&(he<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");for(var Me=!1;;)switch(Ee){case"hex":return _(this,ue,oe,he);case"utf8":case"utf-8":return h(this,ue,oe,he);case"ascii":case"latin1":case"binary":return S(this,ue,oe,he);case"base64":return w(this,ue,oe,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,ue,oe,he);default:if(Me)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Me=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function R(ue,oe,he){var Ee="";he=Math.min(ue.length,he);for(var Te=oe;Te<he;++Te)Ee+=String.fromCharCode(127&ue[Te]);return Ee}function U(ue,oe,he){var Ee="";he=Math.min(ue.length,he);for(var Te=oe;Te<he;++Te)Ee+=String.fromCharCode(ue[Te]);return Ee}function z(ue,oe,he){var Ee=ue.length;(!oe||oe<0)&&(oe=0),(!he||he<0||he>Ee)&&(he=Ee);for(var Te="",Me=oe;Me<he;++Me)Te+=ge[ue[Me]];return Te}function N(ue,oe,he){for(var Ee=ue.slice(oe,he),Te="",Me=0;Me<Ee.length-1;Me+=2)Te+=String.fromCharCode(Ee[Me]+256*Ee[Me+1]);return Te}function W(ue,oe,he){if(ue%1!=0||ue<0)throw new RangeError("offset is not uint");if(ue+oe>he)throw new RangeError("Trying to access beyond buffer length")}function F(ue,oe,he,Ee,Te,Me){if(!n.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Te||oe<Me)throw new RangeError('"value" argument is out of bounds');if(he+Ee>ue.length)throw new RangeError("Index out of range")}function V(ue,oe,he,Ee,Te){re(oe,Ee,Te,ue,he,7);var Me=Number(oe&BigInt(4294967295));ue[he++]=Me,Me>>=8,ue[he++]=Me,Me>>=8,ue[he++]=Me,Me>>=8,ue[he++]=Me;var Se=Number(oe>>BigInt(32)&BigInt(4294967295));return ue[he++]=Se,Se>>=8,ue[he++]=Se,Se>>=8,ue[he++]=Se,Se>>=8,ue[he++]=Se,he}function j(ue,oe,he,Ee,Te){re(oe,Ee,Te,ue,he,7);var Me=Number(oe&BigInt(4294967295));ue[he+7]=Me,Me>>=8,ue[he+6]=Me,Me>>=8,ue[he+5]=Me,Me>>=8,ue[he+4]=Me;var Se=Number(oe>>BigInt(32)&BigInt(4294967295));return ue[he+3]=Se,Se>>=8,ue[he+2]=Se,Se>>=8,ue[he+1]=Se,Se>>=8,ue[he]=Se,he+8}function te(ue,oe,he,Ee,Te,Me){if(he+Ee>ue.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("Index out of range")}function J(ue,oe,he,Ee,Te){return oe=+oe,he>>>=0,Te||te(ue,0,he,4),s.write(ue,oe,he,Ee,23,4),he+4}function K(ue,oe,he,Ee,Te){return oe=+oe,he>>>=0,Te||te(ue,0,he,8),s.write(ue,oe,he,Ee,52,8),he+8}n.prototype.slice=function(ue,oe){var he=this.length;(ue=~~ue)<0?(ue+=he)<0&&(ue=0):ue>he&&(ue=he),(oe=oe===void 0?he:~~oe)<0?(oe+=he)<0&&(oe=0):oe>he&&(oe=he),oe<ue&&(oe=ue);var Ee=this.subarray(ue,oe);return Object.setPrototypeOf(Ee,n.prototype),Ee},n.prototype.readUintLE=n.prototype.readUIntLE=function(ue,oe,he){ue>>>=0,oe>>>=0,he||W(ue,oe,this.length);for(var Ee=this[ue],Te=1,Me=0;++Me<oe&&(Te*=256);)Ee+=this[ue+Me]*Te;return Ee},n.prototype.readUintBE=n.prototype.readUIntBE=function(ue,oe,he){ue>>>=0,oe>>>=0,he||W(ue,oe,this.length);for(var Ee=this[ue+--oe],Te=1;oe>0&&(Te*=256);)Ee+=this[ue+--oe]*Te;return Ee},n.prototype.readUint8=n.prototype.readUInt8=function(ue,oe){return ue>>>=0,oe||W(ue,1,this.length),this[ue]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(ue,oe){return ue>>>=0,oe||W(ue,2,this.length),this[ue]|this[ue+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(ue,oe){return ue>>>=0,oe||W(ue,2,this.length),this[ue]<<8|this[ue+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(ue,oe){return ue>>>=0,oe||W(ue,4,this.length),(this[ue]|this[ue+1]<<8|this[ue+2]<<16)+16777216*this[ue+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(ue,oe){return ue>>>=0,oe||W(ue,4,this.length),16777216*this[ue]+(this[ue+1]<<16|this[ue+2]<<8|this[ue+3])},n.prototype.readBigUInt64LE=ke(function(ue){ae(ue>>>=0,"offset");var oe=this[ue],he=this[ue+7];oe!==void 0&&he!==void 0||ie(ue,this.length-8);var Ee=oe+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,24),Te=this[++ue]+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+he*Math.pow(2,24);return BigInt(Ee)+(BigInt(Te)<<BigInt(32))}),n.prototype.readBigUInt64BE=ke(function(ue){ae(ue>>>=0,"offset");var oe=this[ue],he=this[ue+7];oe!==void 0&&he!==void 0||ie(ue,this.length-8);var Ee=oe*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+this[++ue],Te=this[++ue]*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+he;return(BigInt(Ee)<<BigInt(32))+BigInt(Te)}),n.prototype.readIntLE=function(ue,oe,he){ue>>>=0,oe>>>=0,he||W(ue,oe,this.length);for(var Ee=this[ue],Te=1,Me=0;++Me<oe&&(Te*=256);)Ee+=this[ue+Me]*Te;return Ee>=(Te*=128)&&(Ee-=Math.pow(2,8*oe)),Ee},n.prototype.readIntBE=function(ue,oe,he){ue>>>=0,oe>>>=0,he||W(ue,oe,this.length);for(var Ee=oe,Te=1,Me=this[ue+--Ee];Ee>0&&(Te*=256);)Me+=this[ue+--Ee]*Te;return Me>=(Te*=128)&&(Me-=Math.pow(2,8*oe)),Me},n.prototype.readInt8=function(ue,oe){return ue>>>=0,oe||W(ue,1,this.length),128&this[ue]?-1*(255-this[ue]+1):this[ue]},n.prototype.readInt16LE=function(ue,oe){ue>>>=0,oe||W(ue,2,this.length);var he=this[ue]|this[ue+1]<<8;return 32768&he?4294901760|he:he},n.prototype.readInt16BE=function(ue,oe){ue>>>=0,oe||W(ue,2,this.length);var he=this[ue+1]|this[ue]<<8;return 32768&he?4294901760|he:he},n.prototype.readInt32LE=function(ue,oe){return ue>>>=0,oe||W(ue,4,this.length),this[ue]|this[ue+1]<<8|this[ue+2]<<16|this[ue+3]<<24},n.prototype.readInt32BE=function(ue,oe){return ue>>>=0,oe||W(ue,4,this.length),this[ue]<<24|this[ue+1]<<16|this[ue+2]<<8|this[ue+3]},n.prototype.readBigInt64LE=ke(function(ue){ae(ue>>>=0,"offset");var oe=this[ue],he=this[ue+7];oe!==void 0&&he!==void 0||ie(ue,this.length-8);var Ee=this[ue+4]+this[ue+5]*Math.pow(2,8)+this[ue+6]*Math.pow(2,16)+(he<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(oe+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,24))}),n.prototype.readBigInt64BE=ke(function(ue){ae(ue>>>=0,"offset");var oe=this[ue],he=this[ue+7];oe!==void 0&&he!==void 0||ie(ue,this.length-8);var Ee=(oe<<24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+this[++ue];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++ue]*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+he)}),n.prototype.readFloatLE=function(ue,oe){return ue>>>=0,oe||W(ue,4,this.length),s.read(this,ue,!0,23,4)},n.prototype.readFloatBE=function(ue,oe){return ue>>>=0,oe||W(ue,4,this.length),s.read(this,ue,!1,23,4)},n.prototype.readDoubleLE=function(ue,oe){return ue>>>=0,oe||W(ue,8,this.length),s.read(this,ue,!0,52,8)},n.prototype.readDoubleBE=function(ue,oe){return ue>>>=0,oe||W(ue,8,this.length),s.read(this,ue,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(ue,oe,he,Ee){ue=+ue,oe>>>=0,he>>>=0,Ee||F(this,ue,oe,he,Math.pow(2,8*he)-1,0);var Te=1,Me=0;for(this[oe]=255&ue;++Me<he&&(Te*=256);)this[oe+Me]=ue/Te&255;return oe+he},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(ue,oe,he,Ee){ue=+ue,oe>>>=0,he>>>=0,Ee||F(this,ue,oe,he,Math.pow(2,8*he)-1,0);var Te=he-1,Me=1;for(this[oe+Te]=255&ue;--Te>=0&&(Me*=256);)this[oe+Te]=ue/Me&255;return oe+he},n.prototype.writeUint8=n.prototype.writeUInt8=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,1,255,0),this[oe]=255&ue,oe+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,2,65535,0),this[oe]=255&ue,this[oe+1]=ue>>>8,oe+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,2,65535,0),this[oe]=ue>>>8,this[oe+1]=255&ue,oe+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,4,4294967295,0),this[oe+3]=ue>>>24,this[oe+2]=ue>>>16,this[oe+1]=ue>>>8,this[oe]=255&ue,oe+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,4,4294967295,0),this[oe]=ue>>>24,this[oe+1]=ue>>>16,this[oe+2]=ue>>>8,this[oe+3]=255&ue,oe+4},n.prototype.writeBigUInt64LE=ke(function(ue){return V(this,ue,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=ke(function(ue){return j(this,ue,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(ue,oe,he,Ee){if(ue=+ue,oe>>>=0,!Ee){var Te=Math.pow(2,8*he-1);F(this,ue,oe,he,Te-1,-Te)}var Me=0,Se=1,ze=0;for(this[oe]=255&ue;++Me<he&&(Se*=256);)ue<0&&ze===0&&this[oe+Me-1]!==0&&(ze=1),this[oe+Me]=(ue/Se>>0)-ze&255;return oe+he},n.prototype.writeIntBE=function(ue,oe,he,Ee){if(ue=+ue,oe>>>=0,!Ee){var Te=Math.pow(2,8*he-1);F(this,ue,oe,he,Te-1,-Te)}var Me=he-1,Se=1,ze=0;for(this[oe+Me]=255&ue;--Me>=0&&(Se*=256);)ue<0&&ze===0&&this[oe+Me+1]!==0&&(ze=1),this[oe+Me]=(ue/Se>>0)-ze&255;return oe+he},n.prototype.writeInt8=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,1,127,-128),ue<0&&(ue=255+ue+1),this[oe]=255&ue,oe+1},n.prototype.writeInt16LE=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,2,32767,-32768),this[oe]=255&ue,this[oe+1]=ue>>>8,oe+2},n.prototype.writeInt16BE=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,2,32767,-32768),this[oe]=ue>>>8,this[oe+1]=255&ue,oe+2},n.prototype.writeInt32LE=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,4,2147483647,-2147483648),this[oe]=255&ue,this[oe+1]=ue>>>8,this[oe+2]=ue>>>16,this[oe+3]=ue>>>24,oe+4},n.prototype.writeInt32BE=function(ue,oe,he){return ue=+ue,oe>>>=0,he||F(this,ue,oe,4,2147483647,-2147483648),ue<0&&(ue=4294967295+ue+1),this[oe]=ue>>>24,this[oe+1]=ue>>>16,this[oe+2]=ue>>>8,this[oe+3]=255&ue,oe+4},n.prototype.writeBigInt64LE=ke(function(ue){return V(this,ue,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=ke(function(ue){return j(this,ue,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(ue,oe,he){return J(this,ue,oe,!0,he)},n.prototype.writeFloatBE=function(ue,oe,he){return J(this,ue,oe,!1,he)},n.prototype.writeDoubleLE=function(ue,oe,he){return K(this,ue,oe,!0,he)},n.prototype.writeDoubleBE=function(ue,oe,he){return K(this,ue,oe,!1,he)},n.prototype.copy=function(ue,oe,he,Ee){if(!n.isBuffer(ue))throw new TypeError("argument should be a Buffer");if(he||(he=0),Ee||Ee===0||(Ee=this.length),oe>=ue.length&&(oe=ue.length),oe||(oe=0),Ee>0&&Ee<he&&(Ee=he),Ee===he||ue.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),ue.length-oe<Ee-he&&(Ee=ue.length-oe+he);var Te=Ee-he;return this===ue&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(oe,he,Ee):Uint8Array.prototype.set.call(ue,this.subarray(he,Ee),oe),Te},n.prototype.fill=function(ue,oe,he,Ee){if(typeof ue=="string"){if(typeof oe=="string"?(Ee=oe,oe=0,he=this.length):typeof he=="string"&&(Ee=he,he=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!n.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(ue.length===1){var Te=ue.charCodeAt(0);(Ee==="utf8"&&Te<128||Ee==="latin1")&&(ue=Te)}}else typeof ue=="number"?ue&=255:typeof ue=="boolean"&&(ue=Number(ue));if(oe<0||this.length<oe||this.length<he)throw new RangeError("Out of range index");if(he<=oe)return this;var Me;if(oe>>>=0,he=he===void 0?this.length:he>>>0,ue||(ue=0),typeof ue=="number")for(Me=oe;Me<he;++Me)this[Me]=ue;else{var Se=n.isBuffer(ue)?ue:n.from(ue,Ee),ze=Se.length;if(ze===0)throw new TypeError('The value "'+ue+'" is invalid for argument "value"');for(Me=0;Me<he-oe;++Me)this[Me+oe]=Se[Me%ze]}return this};var Z={};function X(ue,oe,he){Z[ue]=function(Ee){function Te(){var ze;return function(fe,xe){if(!(fe instanceof xe))throw new TypeError("Cannot call a class as a function")}(this,Te),ze=function(fe,xe,_e){return xe=k(xe),function(Oe,De){if(De&&(b(De)==="object"||typeof De=="function"))return De;if(De!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(Oe)}(fe,function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}()?Reflect.construct(xe,_e||[],k(fe).constructor):xe.apply(fe,_e))}(this,Te),Object.defineProperty(a(ze),"message",{value:oe.apply(a(ze),arguments),writable:!0,configurable:!0}),ze.name="".concat(ze.name," [").concat(ue,"]"),ze.stack,delete ze.name,ze}var Me,Se;return function(ze,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),Object.defineProperty(ze,"prototype",{writable:!1}),fe&&T(ze,fe)}(Te,Ee),Me=Te,(Se=[{key:"code",get:function(){return ue},set:function(ze){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ze,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ue,"]: ").concat(this.message)}}])&&M(Me.prototype,Se),Object.defineProperty(Me,"prototype",{writable:!1}),Te}(he)}function Q(ue){for(var oe="",he=ue.length,Ee=ue[0]==="-"?1:0;he>=Ee+4;he-=3)oe="_".concat(ue.slice(he-3,he)).concat(oe);return"".concat(ue.slice(0,he)).concat(oe)}function re(ue,oe,he,Ee,Te,Me){if(ue>he||ue<oe){var Se,ze=typeof oe=="bigint"?"n":"";throw Se=Me>3?oe===0||oe===BigInt(0)?">= 0".concat(ze," and < 2").concat(ze," ** ").concat(8*(Me+1)).concat(ze):">= -(2".concat(ze," ** ").concat(8*(Me+1)-1).concat(ze,") and < 2 ** ")+"".concat(8*(Me+1)-1).concat(ze):">= ".concat(oe).concat(ze," and <= ").concat(he).concat(ze),new Z.ERR_OUT_OF_RANGE("value",Se,ue)}(function(fe,xe,_e){ae(xe,"offset"),fe[xe]!==void 0&&fe[xe+_e]!==void 0||ie(xe,fe.length-(_e+1))})(Ee,Te,Me)}function ae(ue,oe){if(typeof ue!="number")throw new Z.ERR_INVALID_ARG_TYPE(oe,"number",ue)}function ie(ue,oe,he){throw Math.floor(ue)!==ue?(ae(ue,he),new Z.ERR_OUT_OF_RANGE(he||"offset","an integer",ue)):oe<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE(he||"offset",">= ".concat(he?1:0," and <= ").concat(oe),ue)}X("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?"".concat(ue," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(ue,oe){return'The "'.concat(ue,'" argument must be of type number. Received type ').concat(b(oe))},TypeError),X("ERR_OUT_OF_RANGE",function(ue,oe,he){var Ee='The value of "'.concat(ue,'" is out of range.'),Te=he;return Number.isInteger(he)&&Math.abs(he)>Math.pow(2,32)?Te=Q(String(he)):typeof he=="bigint"&&(Te=String(he),(he>Math.pow(BigInt(2),BigInt(32))||he<-Math.pow(BigInt(2),BigInt(32)))&&(Te=Q(Te)),Te+="n"),Ee+" It must be ".concat(oe,". Received ").concat(Te)},RangeError);var le=/[^+/0-9A-Za-z-_]/g;function pe(ue,oe){var he;oe=oe||1/0;for(var Ee=ue.length,Te=null,Me=[],Se=0;Se<Ee;++Se){if((he=ue.charCodeAt(Se))>55295&&he<57344){if(!Te){if(he>56319){(oe-=3)>-1&&Me.push(239,191,189);continue}if(Se+1===Ee){(oe-=3)>-1&&Me.push(239,191,189);continue}Te=he;continue}if(he<56320){(oe-=3)>-1&&Me.push(239,191,189),Te=he;continue}he=65536+(Te-55296<<10|he-56320)}else Te&&(oe-=3)>-1&&Me.push(239,191,189);if(Te=null,he<128){if((oe-=1)<0)break;Me.push(he)}else if(he<2048){if((oe-=2)<0)break;Me.push(he>>6|192,63&he|128)}else if(he<65536){if((oe-=3)<0)break;Me.push(he>>12|224,he>>6&63|128,63&he|128)}else{if(!(he<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;Me.push(he>>18|240,he>>12&63|128,he>>6&63|128,63&he|128)}}return Me}function de(ue){return g.toByteArray(function(oe){if((oe=(oe=oe.split("=")[0]).trim().replace(le,"")).length<2)return"";for(;oe.length%4!=0;)oe+="=";return oe}(ue))}function ve(ue,oe,he,Ee){var Te;for(Te=0;Te<Ee&&!(Te+he>=oe.length||Te>=ue.length);++Te)oe[Te+he]=ue[Te];return Te}function be(ue,oe){return ue instanceof oe||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===oe.name}function me(ue){return ue!=ue}var ge=function(){for(var ue="0123456789abcdef",oe=new Array(256),he=0;he<16;++he)for(var Ee=16*he,Te=0;Te<16;++Te)oe[Ee+Te]=ue[he]+ue[Te];return oe}();function ke(ue){return typeof BigInt>"u"?we:ue}function we(){throw new Error("BigInt not supported")}},25928:function(ee){ee.exports=k,ee.exports.isMobile=k,ee.exports.default=k;var D=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,M=/android|ipad|playbook|silk/i;function k(a){a||(a={});var T=a.ua;if(T||typeof navigator>"u"||(T=navigator.userAgent),T&&T.headers&&typeof T.headers["user-agent"]=="string"&&(T=T.headers["user-agent"]),typeof T!="string")return!1;var b=D.test(T)&&!e.test(T)||!!a.tablet&&M.test(T);return!b&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&T.indexOf("Macintosh")!==-1&&T.indexOf("Safari")!==-1&&(b=!0),b}},48932:function(ee,D,e){e.r(D),e.d(D,{sankeyCenter:function(){return r},sankeyCircular:function(){return C},sankeyJustify:function(){return i},sankeyLeft:function(){return s},sankeyRight:function(){return t}});var M=e(84706),k=e(34712),a=e(10132),T=e(6688),b=e.n(T);function g(ve){return ve.target.depth}function s(ve){return ve.depth}function t(ve,be){return be-1-ve.height}function i(ve,be){return ve.sourceLinks.length?ve.depth:be-1}function r(ve){return ve.targetLinks.length?ve.depth:ve.sourceLinks.length?(0,M.SY)(ve.sourceLinks,g)-1:0}function n(ve){return function(){return ve}}var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ve){return typeof ve}:function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve};function l(ve,be){return d(ve.source,be.source)||ve.index-be.index}function u(ve,be){return d(ve.target,be.target)||ve.index-be.index}function d(ve,be){return ve.partOfCycle===be.partOfCycle?ve.y0-be.y0:ve.circularLinkType==="top"||be.circularLinkType==="bottom"?-1:1}function c(ve){return ve.value}function m(ve){return(ve.y0+ve.y1)/2}function f(ve){return m(ve.source)}function p(ve){return m(ve.target)}function v(ve){return ve.index}function y(ve){return ve.nodes}function x(ve){return ve.links}function _(ve,be){var me=ve.get(be);if(!me)throw new Error("missing: "+be);return me}function h(ve,be){return be(ve)}var S=25,w=10,E=.3;function C(){var ve,be,me=0,ge=0,ke=1,we=1,ue=24,oe=v,he=i,Ee=y,Te=x,Me=32,Se=2,ze=null;function fe(){var _e={nodes:Ee.apply(null,arguments),links:Te.apply(null,arguments)};(function(De){De.nodes.forEach(function(Ue,Ve){Ue.index=Ve,Ue.sourceLinks=[],Ue.targetLinks=[]});var Pe=(0,k.kH)(De.nodes,oe);De.links.forEach(function(Ue,Ve){Ue.index=Ve;var Xe=Ue.source,it=Ue.target;(Xe===void 0?"undefined":o(Xe))!=="object"&&(Xe=Ue.source=_(Pe,Xe)),(it===void 0?"undefined":o(it))!=="object"&&(it=Ue.target=_(Pe,it)),Xe.sourceLinks.push(Ue),it.targetLinks.push(Ue)})})(_e),function(De,Pe,Ue){var Ve=0;if(Ue===null){for(var Xe=[],it=0;it<De.links.length;it++){var tt=De.links[it],pt=tt.source.index,mt=tt.target.index;Xe[pt]||(Xe[pt]=[]),Xe[mt]||(Xe[mt]=[]),Xe[pt].indexOf(mt)===-1&&Xe[pt].push(mt)}var gt=b()(Xe);gt.sort(function(_t,Pt){return _t.length-Pt.length});var et={};for(it=0;it<gt.length;it++){var $e=gt[it].slice(-2);et[$e[0]]||(et[$e[0]]={}),et[$e[0]][$e[1]]=!0}De.links.forEach(function(_t){var Pt=_t.target.index,Ot=_t.source.index;Pt===Ot||et[Ot]&&et[Ot][Pt]?(_t.circular=!0,_t.circularLinkID=Ve,Ve+=1):_t.circular=!1})}else De.links.forEach(function(_t){_t.source[Ue]<_t.target[Ue]?_t.circular=!1:(_t.circular=!0,_t.circularLinkID=Ve,Ve+=1)})}(_e,0,ze),function(De){De.nodes.forEach(function(Pe){Pe.partOfCycle=!1,Pe.value=Math.max((0,M.oh)(Pe.sourceLinks,c),(0,M.oh)(Pe.targetLinks,c)),Pe.sourceLinks.forEach(function(Ue){Ue.circular&&(Pe.partOfCycle=!0,Pe.circularLinkType=Ue.circularLinkType)}),Pe.targetLinks.forEach(function(Ue){Ue.circular&&(Pe.partOfCycle=!0,Pe.circularLinkType=Ue.circularLinkType)})})}(_e),function(De){var Pe,Ue,Ve;for(Pe=De.nodes,Ue=[],Ve=0;Pe.length;++Ve,Pe=Ue,Ue=[])Pe.forEach(function(Xe){Xe.depth=Ve,Xe.sourceLinks.forEach(function(it){Ue.indexOf(it.target)<0&&!it.circular&&Ue.push(it.target)})});for(Pe=De.nodes,Ue=[],Ve=0;Pe.length;++Ve,Pe=Ue,Ue=[])Pe.forEach(function(Xe){Xe.height=Ve,Xe.targetLinks.forEach(function(it){Ue.indexOf(it.source)<0&&!it.circular&&Ue.push(it.source)})});De.nodes.forEach(function(Xe){Xe.column=Math.floor(he.call(null,Xe,Ve))})}(_e),P(_e,oe),function(De,Pe,Ue){var Ve=(0,k.UJ)().key(function(mt){return mt.column}).sortKeys(M.XE).entries(De.nodes).map(function(mt){return mt.values});(function(mt){if(be){var gt=1/0;Ve.forEach(function(Pt){var Ot=we*be/(Pt.length+1);gt=Ot<gt?Ot:gt}),ve=gt}var et=(0,M.SY)(Ve,function(Pt){return(we-ge-(Pt.length-1)*ve)/(0,M.oh)(Pt,c)});et*=E,De.links.forEach(function(Pt){Pt.width=Pt.value*et});var $e=function(Pt){var Ot=0,Lt=0,He=0,We=0,Be=(0,M.kv)(Pt.nodes,function(Ge){return Ge.column});return Pt.links.forEach(function(Ge){Ge.circular&&(Ge.circularLinkType=="top"?Ot+=Ge.width:Lt+=Ge.width,Ge.target.column==0&&(We+=Ge.width),Ge.source.column==Be&&(He+=Ge.width))}),{top:Ot=Ot>0?Ot+S+w:Ot,bottom:Lt=Lt>0?Lt+S+w:Lt,left:We=We>0?We+S+w:We,right:He=He>0?He+S+w:He}}(De),_t=function(Pt,Ot){var Lt=(0,M.kv)(Pt.nodes,function(at){return at.column}),He=ke-me,We=we-ge,Be=He/(He+Ot.right+Ot.left),Ge=We/(We+Ot.top+Ot.bottom);return me=me*Be+Ot.left,ke=Ot.right==0?ke:ke*Be,ge=ge*Ge+Ot.top,we*=Ge,Pt.nodes.forEach(function(at){at.x0=me+at.column*((ke-me-ue)/Lt),at.x1=at.x0+ue}),Ge}(De,$e);et*=_t,De.links.forEach(function(Pt){Pt.width=Pt.value*et}),Ve.forEach(function(Pt){var Ot=Pt.length;Pt.forEach(function(Lt,He){Lt.depth==Ve.length-1&&Ot==1||Lt.depth==0&&Ot==1?(Lt.y0=we/2-Lt.value*et,Lt.y1=Lt.y0+Lt.value*et):Lt.partOfCycle?R(Lt,mt)==0?(Lt.y0=we/2+He,Lt.y1=Lt.y0+Lt.value*et):Lt.circularLinkType=="top"?(Lt.y0=ge+He,Lt.y1=Lt.y0+Lt.value*et):(Lt.y0=we-Lt.value*et-He,Lt.y1=Lt.y0+Lt.value*et):$e.top==0||$e.bottom==0?(Lt.y0=(we-ge)/Ot*He,Lt.y1=Lt.y0+Lt.value*et):(Lt.y0=(we-ge)/2-Ot/2+He,Lt.y1=Lt.y0+Lt.value*et)})})})(Ue),pt();for(var Xe=1,it=Pe;it>0;--it)tt(Xe*=.99,Ue),pt();function tt(mt,gt){var et=Ve.length;Ve.forEach(function($e){var _t=$e.length,Pt=$e[0].depth;$e.forEach(function(Ot){var Lt;if((Ot.sourceLinks.length||Ot.targetLinks.length)&&!(Ot.partOfCycle&&R(Ot,gt)>0))if(Pt==0&&_t==1)Lt=Ot.y1-Ot.y0,Ot.y0=we/2-Lt/2,Ot.y1=we/2+Lt/2;else if(Pt==et-1&&_t==1)Lt=Ot.y1-Ot.y0,Ot.y0=we/2-Lt/2,Ot.y1=we/2+Lt/2;else{var He=(0,M.mo)(Ot.sourceLinks,p),We=(0,M.mo)(Ot.targetLinks,f),Be=((He&&We?(He+We)/2:He||We)-m(Ot))*mt;Ot.y0+=Be,Ot.y1+=Be}})})}function pt(){Ve.forEach(function(mt){var gt,et,$e,_t=ge,Pt=mt.length;for(mt.sort(d),$e=0;$e<Pt;++$e)(et=_t-(gt=mt[$e]).y0)>0&&(gt.y0+=et,gt.y1+=et),_t=gt.y1+ve;if((et=_t-ve-we)>0)for(_t=gt.y0-=et,gt.y1-=et,$e=Pt-2;$e>=0;--$e)(et=(gt=mt[$e]).y1+ve-_t)>0&&(gt.y0-=et,gt.y1-=et),_t=gt.y0})}}(_e,Me,oe),xe(_e);for(var Oe=0;Oe<4;Oe++)ae(_e,we,oe),ie(_e,0,oe),Q(_e,ge,we,oe),ae(_e,we,oe),ie(_e,0,oe);return function(De,Pe,Ue){var Ve=De.nodes,Xe=De.links,it=!1,tt=!1;if(Xe.forEach(function(gt){gt.circularLinkType=="top"?it=!0:gt.circularLinkType=="bottom"&&(tt=!0)}),it==0||tt==0){var pt=(0,M.SY)(Ve,function(gt){return gt.y0}),mt=(Ue-Pe)/((0,M.kv)(Ve,function(gt){return gt.y1})-pt);Ve.forEach(function(gt){var et=(gt.y1-gt.y0)*mt;gt.y0=(gt.y0-pt)*mt,gt.y1=gt.y0+et}),Xe.forEach(function(gt){gt.y0=(gt.y0-pt)*mt,gt.y1=(gt.y1-pt)*mt,gt.width=gt.width*mt})}}(_e,ge,we),N(_e,Se,we,oe),_e}function xe(_e){_e.nodes.forEach(function(Oe){Oe.sourceLinks.sort(u),Oe.targetLinks.sort(l)}),_e.nodes.forEach(function(Oe){var De=Oe.y0,Pe=De,Ue=Oe.y1,Ve=Ue;Oe.sourceLinks.forEach(function(Xe){Xe.circular?(Xe.y0=Ue-Xe.width/2,Ue-=Xe.width):(Xe.y0=De+Xe.width/2,De+=Xe.width)}),Oe.targetLinks.forEach(function(Xe){Xe.circular?(Xe.y1=Ve-Xe.width/2,Ve-=Xe.width):(Xe.y1=Pe+Xe.width/2,Pe+=Xe.width)})})}return fe.nodeId=function(_e){return arguments.length?(oe=typeof _e=="function"?_e:n(_e),fe):oe},fe.nodeAlign=function(_e){return arguments.length?(he=typeof _e=="function"?_e:n(_e),fe):he},fe.nodeWidth=function(_e){return arguments.length?(ue=+_e,fe):ue},fe.nodePadding=function(_e){return arguments.length?(ve=+_e,fe):ve},fe.nodes=function(_e){return arguments.length?(Ee=typeof _e=="function"?_e:n(_e),fe):Ee},fe.links=function(_e){return arguments.length?(Te=typeof _e=="function"?_e:n(_e),fe):Te},fe.size=function(_e){return arguments.length?(me=ge=0,ke=+_e[0],we=+_e[1],fe):[ke-me,we-ge]},fe.extent=function(_e){return arguments.length?(me=+_e[0][0],ke=+_e[1][0],ge=+_e[0][1],we=+_e[1][1],fe):[[me,ge],[ke,we]]},fe.iterations=function(_e){return arguments.length?(Me=+_e,fe):Me},fe.circularLinkGap=function(_e){return arguments.length?(Se=+_e,fe):Se},fe.nodePaddingRatio=function(_e){return arguments.length?(be=+_e,fe):be},fe.sortNodes=function(_e){return arguments.length?(ze=_e,fe):ze},fe.update=function(_e){return P(_e,oe),xe(_e),_e.links.forEach(function(Oe){Oe.circular&&(Oe.circularLinkType=Oe.y0+Oe.y1<we?"top":"bottom",Oe.source.circularLinkType=Oe.circularLinkType,Oe.target.circularLinkType=Oe.circularLinkType)}),ae(_e,we,oe,!1),ie(_e,0,oe),N(_e,Se,we,oe),_e},fe}function P(ve,be){var me=0,ge=0;ve.links.forEach(function(ke){ke.circular&&(ke.source.circularLinkType||ke.target.circularLinkType?ke.circularLinkType=ke.source.circularLinkType?ke.source.circularLinkType:ke.target.circularLinkType:ke.circularLinkType=me<ge?"top":"bottom",ke.circularLinkType=="top"?me+=1:ge+=1,ve.nodes.forEach(function(we){h(we,be)!=h(ke.source,be)&&h(we,be)!=h(ke.target,be)||(we.circularLinkType=ke.circularLinkType)}))}),ve.links.forEach(function(ke){ke.circular&&(ke.source.circularLinkType==ke.target.circularLinkType&&(ke.circularLinkType=ke.source.circularLinkType),de(ke,be)&&(ke.circularLinkType=ke.source.circularLinkType))})}function O(ve){var be=Math.abs(ve.y1-ve.y0),me=Math.abs(ve.target.x0-ve.source.x1);return Math.atan(me/be)}function R(ve,be){var me=0;ve.sourceLinks.forEach(function(ke){me=ke.circular&&!de(ke,be)?me+1:me});var ge=0;return ve.targetLinks.forEach(function(ke){ge=ke.circular&&!de(ke,be)?ge+1:ge}),me+ge}function U(ve){var be=ve.source.sourceLinks,me=0;be.forEach(function(we){me=we.circular?me+1:me});var ge=ve.target.targetLinks,ke=0;return ge.forEach(function(we){ke=we.circular?ke+1:ke}),!(me>1||ke>1)}function z(ve,be,me){return ve.sort(W),ve.forEach(function(ge,ke){var we,ue,oe=0;if(de(ge,me)&&U(ge))ge.circularPathData.verticalBuffer=oe+ge.width/2;else{for(var he=0;he<ke;he++)if(we=ve[ke],ue=ve[he],!(we.source.column<ue.target.column||we.target.column>ue.source.column)){var Ee=ve[he].circularPathData.verticalBuffer+ve[he].width/2+be;oe=Ee>oe?Ee:oe}ge.circularPathData.verticalBuffer=oe+ge.width/2}}),ve}function N(ve,be,me,ge){var ke=(0,M.SY)(ve.links,function(we){return we.source.y0});ve.links.forEach(function(we){we.circular&&(we.circularPathData={})}),z(ve.links.filter(function(we){return we.circularLinkType=="top"}),be,ge),z(ve.links.filter(function(we){return we.circularLinkType=="bottom"}),be,ge),ve.links.forEach(function(we){if(we.circular){if(we.circularPathData.arcRadius=we.width+w,we.circularPathData.leftNodeBuffer=5,we.circularPathData.rightNodeBuffer=5,we.circularPathData.sourceWidth=we.source.x1-we.source.x0,we.circularPathData.sourceX=we.source.x0+we.circularPathData.sourceWidth,we.circularPathData.targetX=we.target.x0,we.circularPathData.sourceY=we.y0,we.circularPathData.targetY=we.y1,de(we,ge)&&U(we))we.circularPathData.leftSmallArcRadius=w+we.width/2,we.circularPathData.leftLargeArcRadius=w+we.width/2,we.circularPathData.rightSmallArcRadius=w+we.width/2,we.circularPathData.rightLargeArcRadius=w+we.width/2,we.circularLinkType=="bottom"?(we.circularPathData.verticalFullExtent=we.source.y1+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=we.source.y0-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius);else{var ue=we.source.column,oe=we.circularLinkType,he=ve.links.filter(function(Me){return Me.source.column==ue&&Me.circularLinkType==oe});we.circularLinkType=="bottom"?he.sort(V):he.sort(F);var Ee=0;he.forEach(function(Me,Se){Me.circularLinkID==we.circularLinkID&&(we.circularPathData.leftSmallArcRadius=w+we.width/2+Ee,we.circularPathData.leftLargeArcRadius=w+we.width/2+Se*be+Ee),Ee+=Me.width}),ue=we.target.column,he=ve.links.filter(function(Me){return Me.target.column==ue&&Me.circularLinkType==oe}),we.circularLinkType=="bottom"?he.sort(te):he.sort(j),Ee=0,he.forEach(function(Me,Se){Me.circularLinkID==we.circularLinkID&&(we.circularPathData.rightSmallArcRadius=w+we.width/2+Ee,we.circularPathData.rightLargeArcRadius=w+we.width/2+Se*be+Ee),Ee+=Me.width}),we.circularLinkType=="bottom"?(we.circularPathData.verticalFullExtent=Math.max(me,we.source.y1,we.target.y1)+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=ke-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius)}we.circularPathData.leftInnerExtent=we.circularPathData.sourceX+we.circularPathData.leftNodeBuffer,we.circularPathData.rightInnerExtent=we.circularPathData.targetX-we.circularPathData.rightNodeBuffer,we.circularPathData.leftFullExtent=we.circularPathData.sourceX+we.circularPathData.leftLargeArcRadius+we.circularPathData.leftNodeBuffer,we.circularPathData.rightFullExtent=we.circularPathData.targetX-we.circularPathData.rightLargeArcRadius-we.circularPathData.rightNodeBuffer}if(we.circular)we.path=function(Me){return Me.circularLinkType=="top"?"M"+Me.circularPathData.sourceX+" "+Me.circularPathData.sourceY+" L"+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.sourceY+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftSmallArcRadius+" 0 0 0 "+Me.circularPathData.leftFullExtent+" "+(Me.circularPathData.sourceY-Me.circularPathData.leftSmallArcRadius)+" L"+Me.circularPathData.leftFullExtent+" "+Me.circularPathData.verticalLeftInnerExtent+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftLargeArcRadius+" 0 0 0 "+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.verticalFullExtent+" L"+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.verticalFullExtent+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightLargeArcRadius+" 0 0 0 "+Me.circularPathData.rightFullExtent+" "+Me.circularPathData.verticalRightInnerExtent+" L"+Me.circularPathData.rightFullExtent+" "+(Me.circularPathData.targetY-Me.circularPathData.rightSmallArcRadius)+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightSmallArcRadius+" 0 0 0 "+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.targetY+" L"+Me.circularPathData.targetX+" "+Me.circularPathData.targetY:"M"+Me.circularPathData.sourceX+" "+Me.circularPathData.sourceY+" L"+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.sourceY+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftSmallArcRadius+" 0 0 1 "+Me.circularPathData.leftFullExtent+" "+(Me.circularPathData.sourceY+Me.circularPathData.leftSmallArcRadius)+" L"+Me.circularPathData.leftFullExtent+" "+Me.circularPathData.verticalLeftInnerExtent+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftLargeArcRadius+" 0 0 1 "+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.verticalFullExtent+" L"+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.verticalFullExtent+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightLargeArcRadius+" 0 0 1 "+Me.circularPathData.rightFullExtent+" "+Me.circularPathData.verticalRightInnerExtent+" L"+Me.circularPathData.rightFullExtent+" "+(Me.circularPathData.targetY+Me.circularPathData.rightSmallArcRadius)+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightSmallArcRadius+" 0 0 1 "+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.targetY+" L"+Me.circularPathData.targetX+" "+Me.circularPathData.targetY}(we);else{var Te=(0,a.ak)().source(function(Me){return[Me.source.x0+(Me.source.x1-Me.source.x0),Me.y0]}).target(function(Me){return[Me.target.x0,Me.y1]});we.path=Te(we)}})}function W(ve,be){return J(ve)==J(be)?ve.circularLinkType=="bottom"?V(ve,be):F(ve,be):J(be)-J(ve)}function F(ve,be){return ve.y0-be.y0}function V(ve,be){return be.y0-ve.y0}function j(ve,be){return ve.y1-be.y1}function te(ve,be){return be.y1-ve.y1}function J(ve){return ve.target.column-ve.source.column}function K(ve){return ve.target.x0-ve.source.x1}function Z(ve,be){var me=O(ve),ge=K(be)/Math.tan(me);return pe(ve)=="up"?ve.y1+ge:ve.y1-ge}function X(ve,be){var me=O(ve),ge=K(be)/Math.tan(me);return pe(ve)=="up"?ve.y1-ge:ve.y1+ge}function Q(ve,be,me,ge){ve.links.forEach(function(ke){if(!ke.circular&&ke.target.column-ke.source.column>1){var we=ke.source.column+1,ue=ke.target.column-1,oe=1,he=ue-we+1;for(oe=1;we<=ue;we++,oe++)ve.nodes.forEach(function(Ee){if(Ee.column==we){var Te,Me=oe/(he+1),Se=Math.pow(1-Me,3),ze=3*Me*Math.pow(1-Me,2),fe=3*Math.pow(Me,2)*(1-Me),xe=Math.pow(Me,3),_e=Se*ke.y0+ze*ke.y0+fe*ke.y1+xe*ke.y1,Oe=_e-ke.width/2,De=_e+ke.width/2;Oe>Ee.y0&&Oe<Ee.y1?(Te=Ee.y1-Oe+10,Te=Ee.circularLinkType=="bottom"?Te:-Te,Ee=re(Ee,Te,be,me),ve.nodes.forEach(function(Pe){var Ue,Ve;h(Pe,ge)!=h(Ee,ge)&&Pe.column==Ee.column&&(Ve=Pe,(Ue=Ee).y0>Ve.y0&&Ue.y0<Ve.y1||Ue.y1>Ve.y0&&Ue.y1<Ve.y1||Ue.y0<Ve.y0&&Ue.y1>Ve.y1)&&re(Pe,Te,be,me)})):(De>Ee.y0&&De<Ee.y1||Oe<Ee.y0&&De>Ee.y1)&&(Te=De-Ee.y0+10,Ee=re(Ee,Te,be,me),ve.nodes.forEach(function(Pe){h(Pe,ge)!=h(Ee,ge)&&Pe.column==Ee.column&&Pe.y0<Ee.y1&&Pe.y1>Ee.y1&&re(Pe,Te,be,me)}))}})}})}function re(ve,be,me,ge){return ve.y0+be>=me&&ve.y1+be<=ge&&(ve.y0=ve.y0+be,ve.y1=ve.y1+be,ve.targetLinks.forEach(function(ke){ke.y1=ke.y1+be}),ve.sourceLinks.forEach(function(ke){ke.y0=ke.y0+be})),ve}function ae(ve,be,me,ge){ve.nodes.forEach(function(ke){ge&&ke.y+(ke.y1-ke.y0)>be&&(ke.y=ke.y-(ke.y+(ke.y1-ke.y0)-be));var we=ve.links.filter(function(he){return h(he.source,me)==h(ke,me)}),ue=we.length;ue>1&&we.sort(function(he,Ee){if(!he.circular&&!Ee.circular){if(he.target.column==Ee.target.column||!le(he,Ee))return he.y1-Ee.y1;if(he.target.column>Ee.target.column){var Te=X(Ee,he);return he.y1-Te}if(Ee.target.column>he.target.column)return X(he,Ee)-Ee.y1}return he.circular&&!Ee.circular?he.circularLinkType=="top"?-1:1:Ee.circular&&!he.circular?Ee.circularLinkType=="top"?1:-1:he.circular&&Ee.circular?he.circularLinkType===Ee.circularLinkType&&he.circularLinkType=="top"?he.target.column===Ee.target.column?he.target.y1-Ee.target.y1:Ee.target.column-he.target.column:he.circularLinkType===Ee.circularLinkType&&he.circularLinkType=="bottom"?he.target.column===Ee.target.column?Ee.target.y1-he.target.y1:he.target.column-Ee.target.column:he.circularLinkType=="top"?-1:1:void 0});var oe=ke.y0;we.forEach(function(he){he.y0=oe+he.width/2,oe+=he.width}),we.forEach(function(he,Ee){if(he.circularLinkType=="bottom"){for(var Te=Ee+1,Me=0;Te<ue;Te++)Me+=we[Te].width;he.y0=ke.y1-Me-he.width/2}})})}function ie(ve,be,me){ve.nodes.forEach(function(ge){var ke=ve.links.filter(function(oe){return h(oe.target,me)==h(ge,me)}),we=ke.length;we>1&&ke.sort(function(oe,he){if(!oe.circular&&!he.circular){if(oe.source.column==he.source.column||!le(oe,he))return oe.y0-he.y0;if(he.source.column<oe.source.column){var Ee=Z(he,oe);return oe.y0-Ee}if(oe.source.column<he.source.column)return Z(oe,he)-he.y0}return oe.circular&&!he.circular?oe.circularLinkType=="top"?-1:1:he.circular&&!oe.circular?he.circularLinkType=="top"?1:-1:oe.circular&&he.circular?oe.circularLinkType===he.circularLinkType&&oe.circularLinkType=="top"?oe.source.column===he.source.column?oe.source.y1-he.source.y1:oe.source.column-he.source.column:oe.circularLinkType===he.circularLinkType&&oe.circularLinkType=="bottom"?oe.source.column===he.source.column?oe.source.y1-he.source.y1:he.source.column-oe.source.column:oe.circularLinkType=="top"?-1:1:void 0});var ue=ge.y0;ke.forEach(function(oe){oe.y1=ue+oe.width/2,ue+=oe.width}),ke.forEach(function(oe,he){if(oe.circularLinkType=="bottom"){for(var Ee=he+1,Te=0;Ee<we;Ee++)Te+=ke[Ee].width;oe.y1=ge.y1-Te-oe.width/2}})})}function le(ve,be){return pe(ve)==pe(be)}function pe(ve){return ve.y0-ve.y1>0?"up":"down"}function de(ve,be){return h(ve.source,be)==h(ve.target,be)}},26800:function(ee,D,e){e.r(D),e.d(D,{sankey:function(){return v},sankeyCenter:function(){return s},sankeyJustify:function(){return g},sankeyLeft:function(){return T},sankeyLinkHorizontal:function(){return h},sankeyRight:function(){return b}});var M=e(84706),k=e(34712);function a(S){return S.target.depth}function T(S){return S.depth}function b(S,w){return w-1-S.height}function g(S,w){return S.sourceLinks.length?S.depth:w-1}function s(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,M.SY)(S.sourceLinks,a)-1:0}function t(S){return function(){return S}}function i(S,w){return n(S.source,w.source)||S.index-w.index}function r(S,w){return n(S.target,w.target)||S.index-w.index}function n(S,w){return S.y0-w.y0}function o(S){return S.value}function l(S){return(S.y0+S.y1)/2}function u(S){return l(S.source)*S.value}function d(S){return l(S.target)*S.value}function c(S){return S.index}function m(S){return S.nodes}function f(S){return S.links}function p(S,w){var E=S.get(w);if(!E)throw new Error("missing: "+w);return E}function v(){var S=0,w=0,E=1,C=1,P=24,O=8,R=c,U=g,z=m,N=f,W=32;function F(){var j={nodes:z.apply(null,arguments),links:N.apply(null,arguments)};return function(te){te.nodes.forEach(function(K,Z){K.index=Z,K.sourceLinks=[],K.targetLinks=[]});var J=(0,k.kH)(te.nodes,R);te.links.forEach(function(K,Z){K.index=Z;var X=K.source,Q=K.target;typeof X!="object"&&(X=K.source=p(J,X)),typeof Q!="object"&&(Q=K.target=p(J,Q)),X.sourceLinks.push(K),Q.targetLinks.push(K)})}(j),function(te){te.nodes.forEach(function(J){J.value=Math.max((0,M.oh)(J.sourceLinks,o),(0,M.oh)(J.targetLinks,o))})}(j),function(te){var J,K,Z;for(J=te.nodes,K=[],Z=0;J.length;++Z,J=K,K=[])J.forEach(function(Q){Q.depth=Z,Q.sourceLinks.forEach(function(re){K.indexOf(re.target)<0&&K.push(re.target)})});for(J=te.nodes,K=[],Z=0;J.length;++Z,J=K,K=[])J.forEach(function(Q){Q.height=Z,Q.targetLinks.forEach(function(re){K.indexOf(re.source)<0&&K.push(re.source)})});var X=(E-S-P)/(Z-1);te.nodes.forEach(function(Q){Q.x1=(Q.x0=S+Math.max(0,Math.min(Z-1,Math.floor(U.call(null,Q,Z))))*X)+P})}(j),function(te){var J=(0,k.UJ)().key(function(ae){return ae.x0}).sortKeys(M.XE).entries(te.nodes).map(function(ae){return ae.values});(function(){var ae=(0,M.kv)(J,function(pe){return pe.length}),ie=.6666666666666666*(C-w)/(ae-1);O>ie&&(O=ie);var le=(0,M.SY)(J,function(pe){return(C-w-(pe.length-1)*O)/(0,M.oh)(pe,o)});J.forEach(function(pe){pe.forEach(function(de,ve){de.y1=(de.y0=ve)+de.value*le})}),te.links.forEach(function(pe){pe.width=pe.value*le})})(),re();for(var K=1,Z=W;Z>0;--Z)Q(K*=.99),re(),X(K),re();function X(ae){J.forEach(function(ie){ie.forEach(function(le){if(le.targetLinks.length){var pe=((0,M.oh)(le.targetLinks,u)/(0,M.oh)(le.targetLinks,o)-l(le))*ae;le.y0+=pe,le.y1+=pe}})})}function Q(ae){J.slice().reverse().forEach(function(ie){ie.forEach(function(le){if(le.sourceLinks.length){var pe=((0,M.oh)(le.sourceLinks,d)/(0,M.oh)(le.sourceLinks,o)-l(le))*ae;le.y0+=pe,le.y1+=pe}})})}function re(){J.forEach(function(ae){var ie,le,pe,de=w,ve=ae.length;for(ae.sort(n),pe=0;pe<ve;++pe)(le=de-(ie=ae[pe]).y0)>0&&(ie.y0+=le,ie.y1+=le),de=ie.y1+O;if((le=de-O-C)>0)for(de=ie.y0-=le,ie.y1-=le,pe=ve-2;pe>=0;--pe)(le=(ie=ae[pe]).y1+O-de)>0&&(ie.y0-=le,ie.y1-=le),de=ie.y0})}}(j),V(j),j}function V(j){j.nodes.forEach(function(te){te.sourceLinks.sort(r),te.targetLinks.sort(i)}),j.nodes.forEach(function(te){var J=te.y0,K=J;te.sourceLinks.forEach(function(Z){Z.y0=J+Z.width/2,J+=Z.width}),te.targetLinks.forEach(function(Z){Z.y1=K+Z.width/2,K+=Z.width})})}return F.update=function(j){return V(j),j},F.nodeId=function(j){return arguments.length?(R=typeof j=="function"?j:t(j),F):R},F.nodeAlign=function(j){return arguments.length?(U=typeof j=="function"?j:t(j),F):U},F.nodeWidth=function(j){return arguments.length?(P=+j,F):P},F.nodePadding=function(j){return arguments.length?(O=+j,F):O},F.nodes=function(j){return arguments.length?(z=typeof j=="function"?j:t(j),F):z},F.links=function(j){return arguments.length?(N=typeof j=="function"?j:t(j),F):N},F.size=function(j){return arguments.length?(S=w=0,E=+j[0],C=+j[1],F):[E-S,C-w]},F.extent=function(j){return arguments.length?(S=+j[0][0],E=+j[1][0],w=+j[0][1],C=+j[1][1],F):[[S,w],[E,C]]},F.iterations=function(j){return arguments.length?(W=+j,F):W},F}var y=e(10132);function x(S){return[S.source.x1,S.y0]}function _(S){return[S.target.x0,S.y1]}function h(){return(0,y.ak)().source(x).target(_)}},33428:function(ee,D,e){var M,k;(function(){var a={version:"3.8.0"},T=[].slice,b=function(L){return T.call(L)},g=self.document;function s(L){return L&&(L.ownerDocument||L.document||L).documentElement}function t(L){return L&&(L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView)}if(g)try{b(g.documentElement.childNodes)[0].nodeType}catch{b=function(q){for(var $=q.length,ne=new Array($);$--;)ne[$]=q[$];return ne}}if(Date.now||(Date.now=function(){return+new Date}),g)try{g.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,r=i.setAttribute,n=i.setAttributeNS,o=this.CSSStyleDeclaration.prototype,l=o.setProperty;i.setAttribute=function(q,$){r.call(this,q,$+"")},i.setAttributeNS=function(q,$,ne){n.call(this,q,$,ne+"")},o.setProperty=function(q,$,ne){l.call(this,q,$+"",ne)}}function u(L,q){return L<q?-1:L>q?1:L>=q?0:NaN}function d(L){return L===null?NaN:+L}function c(L){return!isNaN(L)}function m(L){return{left:function(q,$,ne,ce){for(arguments.length<3&&(ne=0),arguments.length<4&&(ce=q.length);ne<ce;){var ye=ne+ce>>>1;L(q[ye],$)<0?ne=ye+1:ce=ye}return ne},right:function(q,$,ne,ce){for(arguments.length<3&&(ne=0),arguments.length<4&&(ce=q.length);ne<ce;){var ye=ne+ce>>>1;L(q[ye],$)>0?ce=ye:ne=ye+1}return ne}}}a.ascending=u,a.descending=function(L,q){return q<L?-1:q>L?1:q>=L?0:NaN},a.min=function(L,q){var $,ne,ce=-1,ye=L.length;if(arguments.length===1){for(;++ce<ye;)if((ne=L[ce])!=null&&ne>=ne){$=ne;break}for(;++ce<ye;)(ne=L[ce])!=null&&$>ne&&($=ne)}else{for(;++ce<ye;)if((ne=q.call(L,L[ce],ce))!=null&&ne>=ne){$=ne;break}for(;++ce<ye;)(ne=q.call(L,L[ce],ce))!=null&&$>ne&&($=ne)}return $},a.max=function(L,q){var $,ne,ce=-1,ye=L.length;if(arguments.length===1){for(;++ce<ye;)if((ne=L[ce])!=null&&ne>=ne){$=ne;break}for(;++ce<ye;)(ne=L[ce])!=null&&ne>$&&($=ne)}else{for(;++ce<ye;)if((ne=q.call(L,L[ce],ce))!=null&&ne>=ne){$=ne;break}for(;++ce<ye;)(ne=q.call(L,L[ce],ce))!=null&&ne>$&&($=ne)}return $},a.extent=function(L,q){var $,ne,ce,ye=-1,Le=L.length;if(arguments.length===1){for(;++ye<Le;)if((ne=L[ye])!=null&&ne>=ne){$=ce=ne;break}for(;++ye<Le;)(ne=L[ye])!=null&&($>ne&&($=ne),ce<ne&&(ce=ne))}else{for(;++ye<Le;)if((ne=q.call(L,L[ye],ye))!=null&&ne>=ne){$=ce=ne;break}for(;++ye<Le;)(ne=q.call(L,L[ye],ye))!=null&&($>ne&&($=ne),ce<ne&&(ce=ne))}return[$,ce]},a.sum=function(L,q){var $,ne=0,ce=L.length,ye=-1;if(arguments.length===1)for(;++ye<ce;)c($=+L[ye])&&(ne+=$);else for(;++ye<ce;)c($=+q.call(L,L[ye],ye))&&(ne+=$);return ne},a.mean=function(L,q){var $,ne=0,ce=L.length,ye=-1,Le=ce;if(arguments.length===1)for(;++ye<ce;)c($=d(L[ye]))?ne+=$:--Le;else for(;++ye<ce;)c($=d(q.call(L,L[ye],ye)))?ne+=$:--Le;if(Le)return ne/Le},a.quantile=function(L,q){var $=(L.length-1)*q+1,ne=Math.floor($),ce=+L[ne-1],ye=$-ne;return ye?ce+ye*(L[ne]-ce):ce},a.median=function(L,q){var $,ne=[],ce=L.length,ye=-1;if(arguments.length===1)for(;++ye<ce;)c($=d(L[ye]))&&ne.push($);else for(;++ye<ce;)c($=d(q.call(L,L[ye],ye)))&&ne.push($);if(ne.length)return a.quantile(ne.sort(u),.5)},a.variance=function(L,q){var $,ne,ce=L.length,ye=0,Le=0,Ie=-1,je=0;if(arguments.length===1)for(;++Ie<ce;)c($=d(L[Ie]))&&(Le+=(ne=$-ye)*($-(ye+=ne/++je)));else for(;++Ie<ce;)c($=d(q.call(L,L[Ie],Ie)))&&(Le+=(ne=$-ye)*($-(ye+=ne/++je)));if(je>1)return Le/(je-1)},a.deviation=function(){var L=a.variance.apply(this,arguments);return L&&Math.sqrt(L)};var f=m(u);function p(L){return L.length}a.bisectLeft=f.left,a.bisect=a.bisectRight=f.right,a.bisector=function(L){return m(L.length===1?function(q,$){return u(L(q),$)}:L)},a.shuffle=function(L,q,$){(ye=arguments.length)<3&&($=L.length,ye<2&&(q=0));for(var ne,ce,ye=$-q;ye;)ce=Math.random()*ye--|0,ne=L[ye+q],L[ye+q]=L[ce+q],L[ce+q]=ne;return L},a.permute=function(L,q){for(var $=q.length,ne=new Array($);$--;)ne[$]=L[q[$]];return ne},a.pairs=function(L){for(var q=0,$=L.length-1,ne=L[0],ce=new Array($<0?0:$);q<$;)ce[q]=[ne,ne=L[++q]];return ce},a.transpose=function(L){if(!(ce=L.length))return[];for(var q=-1,$=a.min(L,p),ne=new Array($);++q<$;)for(var ce,ye=-1,Le=ne[q]=new Array(ce);++ye<ce;)Le[ye]=L[ye][q];return ne},a.zip=function(){return a.transpose(arguments)},a.keys=function(L){var q=[];for(var $ in L)q.push($);return q},a.values=function(L){var q=[];for(var $ in L)q.push(L[$]);return q},a.entries=function(L){var q=[];for(var $ in L)q.push({key:$,value:L[$]});return q},a.merge=function(L){for(var q,$,ne,ce=L.length,ye=-1,Le=0;++ye<ce;)Le+=L[ye].length;for($=new Array(Le);--ce>=0;)for(q=(ne=L[ce]).length;--q>=0;)$[--Le]=ne[q];return $};var v=Math.abs;function y(L,q){for(var $ in q)Object.defineProperty(L.prototype,$,{value:q[$],enumerable:!1})}function x(){this._=Object.create(null)}a.range=function(L,q,$){if(arguments.length<3&&($=1,arguments.length<2&&(q=L,L=0)),(q-L)/$==1/0)throw new Error("infinite range");var ne,ce=[],ye=function(Ie){for(var je=1;Ie*je%1;)je*=10;return je}(v($)),Le=-1;if(L*=ye,q*=ye,($*=ye)<0)for(;(ne=L+$*++Le)>q;)ce.push(ne/ye);else for(;(ne=L+$*++Le)<q;)ce.push(ne/ye);return ce},a.map=function(L,q){var $=new x;if(L instanceof x)L.forEach(function(Ie,je){$.set(Ie,je)});else if(Array.isArray(L)){var ne,ce=-1,ye=L.length;if(arguments.length===1)for(;++ce<ye;)$.set(ce,L[ce]);else for(;++ce<ye;)$.set(q.call(L,ne=L[ce],ce),ne)}else for(var Le in L)$.set(Le,L[Le]);return $};var _="__proto__",h="\0";function S(L){return(L+="")===_||L[0]===h?h+L:L}function w(L){return(L+="")[0]===h?L.slice(1):L}function E(L){return S(L)in this._}function C(L){return(L=S(L))in this._&&delete this._[L]}function P(){var L=[];for(var q in this._)L.push(w(q));return L}function O(){var L=0;for(var q in this._)++L;return L}function R(){for(var L in this._)return!1;return!0}function U(){this._=Object.create(null)}function z(L){return L}function N(L,q,$){return function(){var ne=$.apply(q,arguments);return ne===q?L:ne}}function W(L,q){if(q in L)return q;q=q.charAt(0).toUpperCase()+q.slice(1);for(var $=0,ne=F.length;$<ne;++$){var ce=F[$]+q;if(ce in L)return ce}}y(x,{has:E,get:function(L){return this._[S(L)]},set:function(L,q){return this._[S(L)]=q},remove:C,keys:P,values:function(){var L=[];for(var q in this._)L.push(this._[q]);return L},entries:function(){var L=[];for(var q in this._)L.push({key:w(q),value:this._[q]});return L},size:O,empty:R,forEach:function(L){for(var q in this._)L.call(this,w(q),this._[q])}}),a.nest=function(){var L,q,$={},ne=[],ce=[];function ye(Ie,je,qe){if(qe>=ne.length)return q?q.call($,je):L?je.sort(L):je;for(var Qe,lt,ft,bt,At=-1,Tt=je.length,Dt=ne[qe++],Ct=new x;++At<Tt;)(bt=Ct.get(Qe=Dt(lt=je[At])))?bt.push(lt):Ct.set(Qe,[lt]);return Ie?(lt=Ie(),ft=function(Yt,Vt){lt.set(Yt,ye(Ie,Vt,qe))}):(lt={},ft=function(Yt,Vt){lt[Yt]=ye(Ie,Vt,qe)}),Ct.forEach(ft),lt}function Le(Ie,je){if(je>=ne.length)return Ie;var qe=[],Qe=ce[je++];return Ie.forEach(function(lt,ft){qe.push({key:lt,values:Le(ft,je)})}),Qe?qe.sort(function(lt,ft){return Qe(lt.key,ft.key)}):qe}return $.map=function(Ie,je){return ye(je,Ie,0)},$.entries=function(Ie){return Le(ye(a.map,Ie,0),0)},$.key=function(Ie){return ne.push(Ie),$},$.sortKeys=function(Ie){return ce[ne.length-1]=Ie,$},$.sortValues=function(Ie){return L=Ie,$},$.rollup=function(Ie){return q=Ie,$},$},a.set=function(L){var q=new U;if(L)for(var $=0,ne=L.length;$<ne;++$)q.add(L[$]);return q},y(U,{has:E,add:function(L){return this._[S(L+="")]=!0,L},remove:C,values:P,size:O,empty:R,forEach:function(L){for(var q in this._)L.call(this,w(q))}}),a.behavior={},a.rebind=function(L,q){for(var $,ne=1,ce=arguments.length;++ne<ce;)L[$=arguments[ne]]=N(L,q,q[$]);return L};var F=["webkit","ms","moz","Moz","o","O"];function V(){}function j(){}function te(L){var q=[],$=new x;function ne(){for(var ce,ye=q,Le=-1,Ie=ye.length;++Le<Ie;)(ce=ye[Le].on)&&ce.apply(this,arguments);return L}return ne.on=function(ce,ye){var Le,Ie=$.get(ce);return arguments.length<2?Ie&&Ie.on:(Ie&&(Ie.on=null,q=q.slice(0,Le=q.indexOf(Ie)).concat(q.slice(Le+1)),$.remove(ce)),ye&&q.push($.set(ce,{on:ye})),L)},ne}function J(){a.event.preventDefault()}function K(){for(var L,q=a.event;L=q.sourceEvent;)q=L;return q}function Z(L){for(var q=new j,$=0,ne=arguments.length;++$<ne;)q[arguments[$]]=te(q);return q.of=function(ce,ye){return function(Le){try{var Ie=Le.sourceEvent=a.event;Le.target=L,a.event=Le,q[Le.type].apply(ce,ye)}finally{a.event=Ie}}},q}a.dispatch=function(){for(var L=new j,q=-1,$=arguments.length;++q<$;)L[arguments[q]]=te(L);return L},j.prototype.on=function(L,q){var $=L.indexOf("."),ne="";if($>=0&&(ne=L.slice($+1),L=L.slice(0,$)),L)return arguments.length<2?this[L].on(ne):this[L].on(ne,q);if(arguments.length===2){if(q==null)for(L in this)this.hasOwnProperty(L)&&this[L].on(ne,null);return this}},a.event=null,a.requote=function(L){return L.replace(X,"\\$&")};var X=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Q={}.__proto__?function(L,q){L.__proto__=q}:function(L,q){for(var $ in q)L[$]=q[$]};function re(L){return Q(L,pe),L}var ae=function(L,q){return q.querySelector(L)},ie=function(L,q){return q.querySelectorAll(L)},le=function(L,q){var $=L.matches||L[W(L,"matchesSelector")];return le=function(ne,ce){return $.call(ne,ce)},le(L,q)};typeof Sizzle=="function"&&(ae=function(L,q){return Sizzle(L,q)[0]||null},ie=Sizzle,le=Sizzle.matchesSelector),a.selection=function(){return a.select(g.documentElement)};var pe=a.selection.prototype=[];function de(L){return typeof L=="function"?L:function(){return ae(L,this)}}function ve(L){return typeof L=="function"?L:function(){return ie(L,this)}}pe.select=function(L){var q,$,ne,ce,ye=[];L=de(L);for(var Le=-1,Ie=this.length;++Le<Ie;){ye.push(q=[]),q.parentNode=(ne=this[Le]).parentNode;for(var je=-1,qe=ne.length;++je<qe;)(ce=ne[je])?(q.push($=L.call(ce,ce.__data__,je,Le)),$&&"__data__"in ce&&($.__data__=ce.__data__)):q.push(null)}return re(ye)},pe.selectAll=function(L){var q,$,ne=[];L=ve(L);for(var ce=-1,ye=this.length;++ce<ye;)for(var Le=this[ce],Ie=-1,je=Le.length;++Ie<je;)($=Le[Ie])&&(ne.push(q=b(L.call($,$.__data__,Ie,ce))),q.parentNode=$);return re(ne)};var be="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:be,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ge(L,q){return L=a.ns.qualify(L),q==null?L.local?function(){this.removeAttributeNS(L.space,L.local)}:function(){this.removeAttribute(L)}:typeof q=="function"?L.local?function(){var $=q.apply(this,arguments);$==null?this.removeAttributeNS(L.space,L.local):this.setAttributeNS(L.space,L.local,$)}:function(){var $=q.apply(this,arguments);$==null?this.removeAttribute(L):this.setAttribute(L,$)}:L.local?function(){this.setAttributeNS(L.space,L.local,q)}:function(){this.setAttribute(L,q)}}function ke(L){return L.trim().replace(/\s+/g," ")}function we(L){return new RegExp("(?:^|\\s+)"+a.requote(L)+"(?:\\s+|$)","g")}function ue(L){return(L+"").trim().split(/^|\s+/)}function oe(L,q){var $=(L=ue(L).map(he)).length;return typeof q=="function"?function(){for(var ne=-1,ce=q.apply(this,arguments);++ne<$;)L[ne](this,ce)}:function(){for(var ne=-1;++ne<$;)L[ne](this,q)}}function he(L){var q=we(L);return function($,ne){if(ce=$.classList)return ne?ce.add(L):ce.remove(L);var ce=$.getAttribute("class")||"";ne?(q.lastIndex=0,q.test(ce)||$.setAttribute("class",ke(ce+" "+L))):$.setAttribute("class",ke(ce.replace(q," ")))}}function Ee(L,q,$){return q==null?function(){this.style.removeProperty(L)}:typeof q=="function"?function(){var ne=q.apply(this,arguments);ne==null?this.style.removeProperty(L):this.style.setProperty(L,ne,$)}:function(){this.style.setProperty(L,q,$)}}function Te(L,q){return q==null?function(){delete this[L]}:typeof q=="function"?function(){var $=q.apply(this,arguments);$==null?delete this[L]:this[L]=$}:function(){this[L]=q}}function Me(L){return typeof L=="function"?L:(L=a.ns.qualify(L)).local?function(){return this.ownerDocument.createElementNS(L.space,L.local)}:function(){var q=this.ownerDocument,$=this.namespaceURI;return $===be&&q.documentElement.namespaceURI===be?q.createElement(L):q.createElementNS($,L)}}function Se(){var L=this.parentNode;L&&L.removeChild(this)}function ze(L){return{__data__:L}}function fe(L){return function(){return le(this,L)}}function xe(L){return arguments.length||(L=u),function(q,$){return q&&$?L(q.__data__,$.__data__):!q-!$}}function _e(L,q){for(var $=0,ne=L.length;$<ne;$++)for(var ce,ye=L[$],Le=0,Ie=ye.length;Le<Ie;Le++)(ce=ye[Le])&&q(ce,Le,$);return L}function Oe(L){return Q(L,De),L}a.ns={prefix:me,qualify:function(L){var q=L.indexOf(":"),$=L;return q>=0&&($=L.slice(0,q))!=="xmlns"&&(L=L.slice(q+1)),me.hasOwnProperty($)?{space:me[$],local:L}:L}},pe.attr=function(L,q){if(arguments.length<2){if(typeof L=="string"){var $=this.node();return(L=a.ns.qualify(L)).local?$.getAttributeNS(L.space,L.local):$.getAttribute(L)}for(q in L)this.each(ge(q,L[q]));return this}return this.each(ge(L,q))},pe.classed=function(L,q){if(arguments.length<2){if(typeof L=="string"){var $=this.node(),ne=(L=ue(L)).length,ce=-1;if(q=$.classList){for(;++ce<ne;)if(!q.contains(L[ce]))return!1}else for(q=$.getAttribute("class");++ce<ne;)if(!we(L[ce]).test(q))return!1;return!0}for(q in L)this.each(oe(q,L[q]));return this}return this.each(oe(L,q))},pe.style=function(L,q,$){var ne=arguments.length;if(ne<3){if(typeof L!="string"){for($ in ne<2&&(q=""),L)this.each(Ee($,L[$],q));return this}if(ne<2){var ce=this.node();return t(ce).getComputedStyle(ce,null).getPropertyValue(L)}$=""}return this.each(Ee(L,q,$))},pe.property=function(L,q){if(arguments.length<2){if(typeof L=="string")return this.node()[L];for(q in L)this.each(Te(q,L[q]));return this}return this.each(Te(L,q))},pe.text=function(L){return arguments.length?this.each(typeof L=="function"?function(){var q=L.apply(this,arguments);this.textContent=q??""}:L==null?function(){this.textContent=""}:function(){this.textContent=L}):this.node().textContent},pe.html=function(L){return arguments.length?this.each(typeof L=="function"?function(){var q=L.apply(this,arguments);this.innerHTML=q??""}:L==null?function(){this.innerHTML=""}:function(){this.innerHTML=L}):this.node().innerHTML},pe.append=function(L){return L=Me(L),this.select(function(){return this.appendChild(L.apply(this,arguments))})},pe.insert=function(L,q){return L=Me(L),q=de(q),this.select(function(){return this.insertBefore(L.apply(this,arguments),q.apply(this,arguments)||null)})},pe.remove=function(){return this.each(Se)},pe.data=function(L,q){var $,ne,ce=-1,ye=this.length;if(!arguments.length){for(L=new Array(ye=($=this[0]).length);++ce<ye;)(ne=$[ce])&&(L[ce]=ne.__data__);return L}function Le(Qe,lt){var ft,bt,At,Tt=Qe.length,Dt=lt.length,Ct=Math.min(Tt,Dt),Yt=new Array(Dt),Vt=new Array(Dt),Ft=new Array(Tt);if(q){var cn,dn=new x,Mn=new Array(Tt);for(ft=-1;++ft<Tt;)(bt=Qe[ft])&&(dn.has(cn=q.call(bt,bt.__data__,ft))?Ft[ft]=bt:dn.set(cn,bt),Mn[ft]=cn);for(ft=-1;++ft<Dt;)(bt=dn.get(cn=q.call(lt,At=lt[ft],ft)))?bt!==!0&&(Yt[ft]=bt,bt.__data__=At):Vt[ft]=ze(At),dn.set(cn,!0);for(ft=-1;++ft<Tt;)ft in Mn&&dn.get(Mn[ft])!==!0&&(Ft[ft]=Qe[ft])}else{for(ft=-1;++ft<Ct;)bt=Qe[ft],At=lt[ft],bt?(bt.__data__=At,Yt[ft]=bt):Vt[ft]=ze(At);for(;ft<Dt;++ft)Vt[ft]=ze(lt[ft]);for(;ft<Tt;++ft)Ft[ft]=Qe[ft]}Vt.update=Yt,Vt.parentNode=Yt.parentNode=Ft.parentNode=Qe.parentNode,Ie.push(Vt),je.push(Yt),qe.push(Ft)}var Ie=Oe([]),je=re([]),qe=re([]);if(typeof L=="function")for(;++ce<ye;)Le($=this[ce],L.call($,$.parentNode.__data__,ce));else for(;++ce<ye;)Le($=this[ce],L);return je.enter=function(){return Ie},je.exit=function(){return qe},je},pe.datum=function(L){return arguments.length?this.property("__data__",L):this.property("__data__")},pe.filter=function(L){var q,$,ne,ce=[];typeof L!="function"&&(L=fe(L));for(var ye=0,Le=this.length;ye<Le;ye++){ce.push(q=[]),q.parentNode=($=this[ye]).parentNode;for(var Ie=0,je=$.length;Ie<je;Ie++)(ne=$[Ie])&&L.call(ne,ne.__data__,Ie,ye)&&q.push(ne)}return re(ce)},pe.order=function(){for(var L=-1,q=this.length;++L<q;)for(var $,ne=this[L],ce=ne.length-1,ye=ne[ce];--ce>=0;)($=ne[ce])&&(ye&&ye!==$.nextSibling&&ye.parentNode.insertBefore($,ye),ye=$);return this},pe.sort=function(L){L=xe.apply(this,arguments);for(var q=-1,$=this.length;++q<$;)this[q].sort(L);return this.order()},pe.each=function(L){return _e(this,function(q,$,ne){L.call(q,q.__data__,$,ne)})},pe.call=function(L){var q=b(arguments);return L.apply(q[0]=this,q),this},pe.empty=function(){return!this.node()},pe.node=function(){for(var L=0,q=this.length;L<q;L++)for(var $=this[L],ne=0,ce=$.length;ne<ce;ne++){var ye=$[ne];if(ye)return ye}return null},pe.size=function(){var L=0;return _e(this,function(){++L}),L};var De=[];function Pe(L,q,$){var ne="__on"+L,ce=L.indexOf("."),ye=Ve;ce>0&&(L=L.slice(0,ce));var Le=Ue.get(L);function Ie(){var je=this[ne];je&&(this.removeEventListener(L,je,je.$),delete this[ne])}return Le&&(L=Le,ye=Xe),ce?q?function(){var je=ye(q,b(arguments));Ie.call(this),this.addEventListener(L,this[ne]=je,je.$=$),je._=q}:Ie:q?V:function(){var je,qe=new RegExp("^__on([^.]+)"+a.requote(L)+"$");for(var Qe in this)if(je=Qe.match(qe)){var lt=this[Qe];this.removeEventListener(je[1],lt,lt.$),delete this[Qe]}}}a.selection.enter=Oe,a.selection.enter.prototype=De,De.append=pe.append,De.empty=pe.empty,De.node=pe.node,De.call=pe.call,De.size=pe.size,De.select=function(L){for(var q,$,ne,ce,ye,Le=[],Ie=-1,je=this.length;++Ie<je;){ne=(ce=this[Ie]).update,Le.push(q=[]),q.parentNode=ce.parentNode;for(var qe=-1,Qe=ce.length;++qe<Qe;)(ye=ce[qe])?(q.push(ne[qe]=$=L.call(ce.parentNode,ye.__data__,qe,Ie)),$.__data__=ye.__data__):q.push(null)}return re(Le)},De.insert=function(L,q){var $,ne,ce;return arguments.length<2&&($=this,q=function(ye,Le,Ie){var je,qe=$[Ie].update,Qe=qe.length;for(Ie!=ce&&(ce=Ie,ne=0),Le>=ne&&(ne=Le+1);!(je=qe[ne])&&++ne<Qe;);return je}),pe.insert.call(this,L,q)},a.select=function(L){var q;return typeof L=="string"?(q=[ae(L,g)]).parentNode=g.documentElement:(q=[L]).parentNode=s(L),re([q])},a.selectAll=function(L){var q;return typeof L=="string"?(q=b(ie(L,g))).parentNode=g.documentElement:(q=b(L)).parentNode=null,re([q])},pe.on=function(L,q,$){var ne=arguments.length;if(ne<3){if(typeof L!="string"){for($ in ne<2&&(q=!1),L)this.each(Pe($,L[$],q));return this}if(ne<2)return(ne=this.node()["__on"+L])&&ne._;$=!1}return this.each(Pe(L,q,$))};var Ue=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ve(L,q){return function($){var ne=a.event;a.event=$,q[0]=this.__data__;try{L.apply(this,q)}finally{a.event=ne}}}function Xe(L,q){var $=Ve(L,q);return function(ne){var ce=this,ye=ne.relatedTarget;ye&&(ye===ce||8&ye.compareDocumentPosition(ce))||$.call(ce,ne)}}g&&Ue.forEach(function(L){"on"+L in g&&Ue.remove(L)});var it,tt=0;function pt(L){var q=".dragsuppress-"+ ++tt,$="click"+q,ne=a.select(t(L)).on("touchmove"+q,J).on("dragstart"+q,J).on("selectstart"+q,J);if(it==null&&(it=!("onselectstart"in L)&&W(L.style,"userSelect")),it){var ce=s(L).style,ye=ce[it];ce[it]="none"}return function(Le){if(ne.on(q,null),it&&(ce[it]=ye),Le){var Ie=function(){ne.on($,null)};ne.on($,function(){J(),Ie()},!0),setTimeout(Ie,0)}}}a.mouse=function(L){return gt(L,K())};var mt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function gt(L,q){q.changedTouches&&(q=q.changedTouches[0]);var $=L.ownerSVGElement||L;if($.createSVGPoint){var ne=$.createSVGPoint();if(mt<0){var ce=t(L);if(ce.scrollX||ce.scrollY){var ye=($=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();mt=!(ye.f||ye.e),$.remove()}}return mt?(ne.x=q.pageX,ne.y=q.pageY):(ne.x=q.clientX,ne.y=q.clientY),[(ne=ne.matrixTransform(L.getScreenCTM().inverse())).x,ne.y]}var Le=L.getBoundingClientRect();return[q.clientX-Le.left-L.clientLeft,q.clientY-Le.top-L.clientTop]}function et(){return a.event.changedTouches[0].identifier}a.touch=function(L,q,$){if(arguments.length<3&&($=q,q=K().changedTouches),q){for(var ne,ce=0,ye=q.length;ce<ye;++ce)if((ne=q[ce]).identifier===$)return gt(L,ne)}},a.behavior.drag=function(){var L=Z(ce,"drag","dragstart","dragend"),q=null,$=ye(V,a.mouse,t,"mousemove","mouseup"),ne=ye(et,a.touch,z,"touchmove","touchend");function ce(){this.on("mousedown.drag",$).on("touchstart.drag",ne)}function ye(Le,Ie,je,qe,Qe){return function(){var lt,ft=this,bt=a.event.target.correspondingElement||a.event.target,At=ft.parentNode,Tt=L.of(ft,arguments),Dt=0,Ct=Le(),Yt=".drag"+(Ct==null?"":"-"+Ct),Vt=a.select(je(bt)).on(qe+Yt,function(){var dn,Mn,Ln=Ie(At,Ct);Ln&&(dn=Ln[0]-cn[0],Mn=Ln[1]-cn[1],Dt|=dn|Mn,cn=Ln,Tt({type:"drag",x:Ln[0]+lt[0],y:Ln[1]+lt[1],dx:dn,dy:Mn}))}).on(Qe+Yt,function(){Ie(At,Ct)&&(Vt.on(qe+Yt,null).on(Qe+Yt,null),Ft(Dt),Tt({type:"dragend"}))}),Ft=pt(bt),cn=Ie(At,Ct);lt=q?[(lt=q.apply(ft,arguments)).x-cn[0],lt.y-cn[1]]:[0,0],Tt({type:"dragstart"})}}return ce.origin=function(Le){return arguments.length?(q=Le,ce):q},a.rebind(ce,L,"on")},a.touches=function(L,q){return arguments.length<2&&(q=K().touches),q?b(q).map(function($){var ne=gt(L,$);return ne.identifier=$.identifier,ne}):[]};var $e=1e-6,_t=$e*$e,Pt=Math.PI,Ot=2*Pt,Lt=Ot-$e,He=Pt/2,We=Pt/180,Be=180/Pt;function Ge(L){return L>1?He:L<-1?-He:Math.asin(L)}function at(L){return((L=Math.exp(L))+1/L)/2}var nt=Math.SQRT2;a.interpolateZoom=function(L,q){var $,ne,ce=L[0],ye=L[1],Le=L[2],Ie=q[0],je=q[1],qe=q[2],Qe=Ie-ce,lt=je-ye,ft=Qe*Qe+lt*lt;if(ft<_t)ne=Math.log(qe/Le)/nt,$=function(Yt){return[ce+Yt*Qe,ye+Yt*lt,Le*Math.exp(nt*Yt*ne)]};else{var bt=Math.sqrt(ft),At=(qe*qe-Le*Le+4*ft)/(2*Le*2*bt),Tt=(qe*qe-Le*Le-4*ft)/(2*qe*2*bt),Dt=Math.log(Math.sqrt(At*At+1)-At),Ct=Math.log(Math.sqrt(Tt*Tt+1)-Tt);ne=(Ct-Dt)/nt,$=function(Yt){var Vt,Ft=Yt*ne,cn=at(Dt),dn=Le/(2*bt)*(cn*(Vt=nt*Ft+Dt,((Vt=Math.exp(2*Vt))-1)/(Vt+1))-function(Mn){return((Mn=Math.exp(Mn))-1/Mn)/2}(Dt));return[ce+dn*Qe,ye+dn*lt,Le*cn/at(nt*Ft+Dt)]}}return $.duration=1e3*ne,$},a.behavior.zoom=function(){var L,q,$,ne,ce,ye,Le,Ie,je,qe={x:0,y:0,k:1},Qe=[960,500],lt=rt,ft=250,bt=0,At="mousedown.zoom",Tt="mousemove.zoom",Dt="mouseup.zoom",Ct="touchstart.zoom",Yt=Z(Vt,"zoomstart","zoom","zoomend");function Vt(Jn){Jn.on(At,Hn).on(Fe+".zoom",vr).on("dblclick.zoom",Ar).on(Ct,sr)}function Ft(Jn){return[(Jn[0]-qe.x)/qe.k,(Jn[1]-qe.y)/qe.k]}function cn(Jn){qe.k=Math.max(lt[0],Math.min(lt[1],Jn))}function dn(Jn,or){or=function(xr){return[xr[0]*qe.k+qe.x,xr[1]*qe.k+qe.y]}(or),qe.x+=Jn[0]-or[0],qe.y+=Jn[1]-or[1]}function Mn(Jn,or,xr,cr){Jn.__chart__={x:qe.x,y:qe.y,k:qe.k},cn(Math.pow(2,cr)),dn(q=or,xr),Jn=a.select(Jn),ft>0&&(Jn=Jn.transition().duration(ft)),Jn.call(Vt.event)}function Ln(){Le&&Le.domain(ye.range().map(function(Jn){return(Jn-qe.x)/qe.k}).map(ye.invert)),je&&je.domain(Ie.range().map(function(Jn){return(Jn-qe.y)/qe.k}).map(Ie.invert))}function Un(Jn){bt++||Jn({type:"zoomstart"})}function Qn(Jn){Ln(),Jn({type:"zoom",scale:qe.k,translate:[qe.x,qe.y]})}function ur(Jn){--bt||(Jn({type:"zoomend"}),q=null)}function Hn(){var Jn=this,or=Yt.of(Jn,arguments),xr=0,cr=a.select(t(Jn)).on(Tt,function(){xr=1,dn(a.mouse(Jn),Tr),Qn(or)}).on(Dt,function(){cr.on(Tt,null).on(Dt,null),Er(xr),ur(or)}),Tr=Ft(a.mouse(Jn)),Er=pt(Jn);_a.call(Jn),Un(or)}function sr(){var Jn,or=this,xr=Yt.of(or,arguments),cr={},Tr=0,Er=".zoom-"+a.event.changedTouches[0].identifier,Dr="touchmove"+Er,Rr="touchend"+Er,Nr=[],Vr=a.select(or),li=pt(or);function ki(){var pi=a.touches(or);return Jn=qe.k,pi.forEach(function(Hr){Hr.identifier in cr&&(cr[Hr.identifier]=Ft(Hr))}),pi}function ea(){var pi=a.event.target;a.select(pi).on(Dr,Bi).on(Rr,Yi),Nr.push(pi);for(var Hr=a.event.changedTouches,mi=0,ni=Hr.length;mi<ni;++mi)cr[Hr[mi].identifier]=null;var Yr=ki(),yi=Date.now();if(Yr.length===1){if(yi-ce<500){var Ai=Yr[0];Mn(or,Ai,cr[Ai.identifier],Math.floor(Math.log(qe.k)/Math.LN2)+1),J()}ce=yi}else if(Yr.length>1){Ai=Yr[0];var Ii=Yr[1],ps=Ai[0]-Ii[0],ds=Ai[1]-Ii[1];Tr=ps*ps+ds*ds}}function Bi(){var pi,Hr,mi,ni,Yr=a.touches(or);_a.call(or);for(var yi=0,Ai=Yr.length;yi<Ai;++yi,ni=null)if(mi=Yr[yi],ni=cr[mi.identifier]){if(Hr)break;pi=mi,Hr=ni}if(ni){var Ii=(Ii=mi[0]-pi[0])*Ii+(Ii=mi[1]-pi[1])*Ii,ps=Tr&&Math.sqrt(Ii/Tr);pi=[(pi[0]+mi[0])/2,(pi[1]+mi[1])/2],Hr=[(Hr[0]+ni[0])/2,(Hr[1]+ni[1])/2],cn(ps*Jn)}ce=null,dn(pi,Hr),Qn(xr)}function Yi(){if(a.event.touches.length){for(var pi=a.event.changedTouches,Hr=0,mi=pi.length;Hr<mi;++Hr)delete cr[pi[Hr].identifier];for(var ni in cr)return void ki()}a.selectAll(Nr).on(Er,null),Vr.on(At,Hn).on(Ct,sr),li(),ur(xr)}ea(),Un(xr),Vr.on(At,null).on(Ct,ea)}function vr(){var Jn=Yt.of(this,arguments);ne?clearTimeout(ne):(_a.call(this),L=Ft(q=$||a.mouse(this)),Un(Jn)),ne=setTimeout(function(){ne=null,ur(Jn)},50),J(),cn(Math.pow(2,.002*Re())*qe.k),dn(q,L),Qn(Jn)}function Ar(){var Jn=a.mouse(this),or=Math.log(qe.k)/Math.LN2;Mn(this,Jn,Ft(Jn),a.event.shiftKey?Math.ceil(or)-1:Math.floor(or)+1)}return Fe||(Fe="onwheel"in g?(Re=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in g?(Re=function(){return a.event.wheelDelta},"mousewheel"):(Re=function(){return-a.event.detail},"MozMousePixelScroll")),Vt.event=function(Jn){Jn.each(function(){var or=Yt.of(this,arguments),xr=qe;Ei?a.select(this).transition().each("start.zoom",function(){qe=this.__chart__||{x:0,y:0,k:1},Un(or)}).tween("zoom:zoom",function(){var cr=Qe[0],Tr=Qe[1],Er=q?q[0]:cr/2,Dr=q?q[1]:Tr/2,Rr=a.interpolateZoom([(Er-qe.x)/qe.k,(Dr-qe.y)/qe.k,cr/qe.k],[(Er-xr.x)/xr.k,(Dr-xr.y)/xr.k,cr/xr.k]);return function(Nr){var Vr=Rr(Nr),li=cr/Vr[2];this.__chart__=qe={x:Er-Vr[0]*li,y:Dr-Vr[1]*li,k:li},Qn(or)}}).each("interrupt.zoom",function(){ur(or)}).each("end.zoom",function(){ur(or)}):(this.__chart__=qe,Un(or),Qn(or),ur(or))})},Vt.translate=function(Jn){return arguments.length?(qe={x:+Jn[0],y:+Jn[1],k:qe.k},Ln(),Vt):[qe.x,qe.y]},Vt.scale=function(Jn){return arguments.length?(qe={x:qe.x,y:qe.y,k:null},cn(+Jn),Ln(),Vt):qe.k},Vt.scaleExtent=function(Jn){return arguments.length?(lt=Jn==null?rt:[+Jn[0],+Jn[1]],Vt):lt},Vt.center=function(Jn){return arguments.length?($=Jn&&[+Jn[0],+Jn[1]],Vt):$},Vt.size=function(Jn){return arguments.length?(Qe=Jn&&[+Jn[0],+Jn[1]],Vt):Qe},Vt.duration=function(Jn){return arguments.length?(ft=+Jn,Vt):ft},Vt.x=function(Jn){return arguments.length?(Le=Jn,ye=Jn.copy(),qe={x:0,y:0,k:1},Vt):Le},Vt.y=function(Jn){return arguments.length?(je=Jn,Ie=Jn.copy(),qe={x:0,y:0,k:1},Vt):je},a.rebind(Vt,Yt,"on")};var Re,Fe,rt=[0,1/0];function Ye(){}function ct(L,q,$){return this instanceof ct?(this.h=+L,this.s=+q,void(this.l=+$)):arguments.length<2?L instanceof ct?new ct(L.h,L.s,L.l):sn(""+L,xn,ct):new ct(L,q,$)}a.color=Ye,Ye.prototype.toString=function(){return this.rgb()+""},a.hsl=ct;var ht=ct.prototype=new Ye;function dt(L,q,$){var ne,ce;function ye(Le){return Math.round(255*function(Ie){return Ie>360?Ie-=360:Ie<0&&(Ie+=360),Ie<60?ne+(ce-ne)*Ie/60:Ie<180?ce:Ie<240?ne+(ce-ne)*(240-Ie)/60:ne}(Le))}return L=isNaN(L)?0:(L%=360)<0?L+360:L,q=isNaN(q)||q<0?0:q>1?1:q,ne=2*($=$<0?0:$>1?1:$)-(ce=$<=.5?$*(1+q):$+q-$*q),new _n(ye(L+120),ye(L),ye(L-120))}function ut(L,q,$){return this instanceof ut?(this.h=+L,this.c=+q,void(this.l=+$)):arguments.length<2?L instanceof ut?new ut(L.h,L.c,L.l):function(ne,ce,ye){return ne>0?new ut(Math.atan2(ye,ce)*Be,Math.sqrt(ce*ce+ye*ye),ne):new ut(NaN,NaN,ne)}(L instanceof vt?L.l:(L=wn((L=a.rgb(L)).r,L.g,L.b)).l,L.a,L.b):new ut(L,q,$)}ht.brighter=function(L){return L=Math.pow(.7,arguments.length?L:1),new ct(this.h,this.s,this.l/L)},ht.darker=function(L){return L=Math.pow(.7,arguments.length?L:1),new ct(this.h,this.s,L*this.l)},ht.rgb=function(){return dt(this.h,this.s,this.l)},a.hcl=ut;var kt=ut.prototype=new Ye;function xt(L,q,$){return isNaN(L)&&(L=0),isNaN(q)&&(q=0),new vt($,Math.cos(L*=We)*q,Math.sin(L)*q)}function vt(L,q,$){return this instanceof vt?(this.l=+L,this.a=+q,void(this.b=+$)):arguments.length<2?L instanceof vt?new vt(L.l,L.a,L.b):L instanceof ut?xt(L.h,L.c,L.l):wn((L=_n(L)).r,L.g,L.b):new vt(L,q,$)}kt.brighter=function(L){return new ut(this.h,this.c,Math.min(100,this.l+Mt*(arguments.length?L:1)))},kt.darker=function(L){return new ut(this.h,this.c,Math.max(0,this.l-Mt*(arguments.length?L:1)))},kt.rgb=function(){return xt(this.h,this.c,this.l).rgb()},a.lab=vt;var Mt=18,St=.95047,It=1,Gt=1.08883,en=vt.prototype=new Ye;function Nt(L,q,$){var ne=(L+16)/116,ce=ne+q/500,ye=ne-$/200;return new _n(An(3.2404542*(ce=jt(ce)*St)-1.5371385*(ne=jt(ne)*It)-.4985314*(ye=jt(ye)*Gt)),An(-.969266*ce+1.8760108*ne+.041556*ye),An(.0556434*ce-.2040259*ne+1.0572252*ye))}function jt(L){return L>.206893034?L*L*L:(L-.13793103448275862)/7.787037}function Jt(L){return L>.008856?Math.pow(L,.3333333333333333):7.787037*L+.13793103448275862}function An(L){return Math.round(255*(L<=.00304?12.92*L:1.055*Math.pow(L,.4166666666666667)-.055))}function _n(L,q,$){return this instanceof _n?(this.r=~~L,this.g=~~q,void(this.b=~~$)):arguments.length<2?L instanceof _n?new _n(L.r,L.g,L.b):sn(""+L,_n,dt):new _n(L,q,$)}function un(L){return new _n(L>>16,L>>8&255,255&L)}function Wt(L){return un(L)+""}en.brighter=function(L){return new vt(Math.min(100,this.l+Mt*(arguments.length?L:1)),this.a,this.b)},en.darker=function(L){return new vt(Math.max(0,this.l-Mt*(arguments.length?L:1)),this.a,this.b)},en.rgb=function(){return Nt(this.l,this.a,this.b)},a.rgb=_n;var rn=_n.prototype=new Ye;function $t(L){return L<16?"0"+Math.max(0,L).toString(16):Math.min(255,L).toString(16)}function sn(L,q,$){var ne,ce,ye,Le=0,Ie=0,je=0;if(ne=/([a-z]+)\((.*)\)/.exec(L=L.toLowerCase()))switch(ce=ne[2].split(","),ne[1]){case"hsl":return $(parseFloat(ce[0]),parseFloat(ce[1])/100,parseFloat(ce[2])/100);case"rgb":return q(Cn(ce[0]),Cn(ce[1]),Cn(ce[2]))}return(ye=Sn.get(L))?q(ye.r,ye.g,ye.b):(L==null||L.charAt(0)!=="#"||isNaN(ye=parseInt(L.slice(1),16))||(L.length===4?(Le=(3840&ye)>>4,Le|=Le>>4,Ie=240&ye,Ie|=Ie>>4,je=15&ye,je|=je<<4):L.length===7&&(Le=(16711680&ye)>>16,Ie=(65280&ye)>>8,je=255&ye)),q(Le,Ie,je))}function xn(L,q,$){var ne,ce,ye=Math.min(L/=255,q/=255,$/=255),Le=Math.max(L,q,$),Ie=Le-ye,je=(Le+ye)/2;return Ie?(ce=je<.5?Ie/(Le+ye):Ie/(2-Le-ye),ne=L==Le?(q-$)/Ie+(q<$?6:0):q==Le?($-L)/Ie+2:(L-q)/Ie+4,ne*=60):(ne=NaN,ce=je>0&&je<1?0:ne),new ct(ne,ce,je)}function wn(L,q,$){var ne=Jt((.4124564*(L=Pn(L))+.3575761*(q=Pn(q))+.1804375*($=Pn($)))/St),ce=Jt((.2126729*L+.7151522*q+.072175*$)/It);return vt(116*ce-16,500*(ne-ce),200*(ce-Jt((.0193339*L+.119192*q+.9503041*$)/Gt)))}function Pn(L){return(L/=255)<=.04045?L/12.92:Math.pow((L+.055)/1.055,2.4)}function Cn(L){var q=parseFloat(L);return L.charAt(L.length-1)==="%"?Math.round(2.55*q):q}rn.brighter=function(L){L=Math.pow(.7,arguments.length?L:1);var q=this.r,$=this.g,ne=this.b,ce=30;return q||$||ne?(q&&q<ce&&(q=ce),$&&$<ce&&($=ce),ne&&ne<ce&&(ne=ce),new _n(Math.min(255,q/L),Math.min(255,$/L),Math.min(255,ne/L))):new _n(ce,ce,ce)},rn.darker=function(L){return new _n((L=Math.pow(.7,arguments.length?L:1))*this.r,L*this.g,L*this.b)},rn.hsl=function(){return xn(this.r,this.g,this.b)},rn.toString=function(){return"#"+$t(this.r)+$t(this.g)+$t(this.b)};var Sn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Nn(L){return typeof L=="function"?L:function(){return L}}function zn(L){return function(q,$,ne){return arguments.length===2&&typeof $=="function"&&(ne=$,$=null),er(q,$,L,ne)}}function er(L,q,$,ne){var ce={},ye=a.dispatch("beforesend","progress","load","error"),Le={},Ie=new XMLHttpRequest,je=null;function qe(){var Qe,lt=Ie.status;if(!lt&&function(ft){var bt=ft.responseType;return bt&&bt!=="text"?ft.response:ft.responseText}(Ie)||lt>=200&&lt<300||lt===304){try{Qe=$.call(ce,Ie)}catch(ft){return void ye.error.call(ce,ft)}ye.load.call(ce,Qe)}else ye.error.call(ce,Ie)}return self.XDomainRequest&&!("withCredentials"in Ie)&&/^(http(s)?:)?\/\//.test(L)&&(Ie=new XDomainRequest),"onload"in Ie?Ie.onload=Ie.onerror=qe:Ie.onreadystatechange=function(){Ie.readyState>3&&qe()},Ie.onprogress=function(Qe){var lt=a.event;a.event=Qe;try{ye.progress.call(ce,Ie)}finally{a.event=lt}},ce.header=function(Qe,lt){return Qe=(Qe+"").toLowerCase(),arguments.length<2?Le[Qe]:(lt==null?delete Le[Qe]:Le[Qe]=lt+"",ce)},ce.mimeType=function(Qe){return arguments.length?(q=Qe==null?null:Qe+"",ce):q},ce.responseType=function(Qe){return arguments.length?(je=Qe,ce):je},ce.response=function(Qe){return $=Qe,ce},["get","post"].forEach(function(Qe){ce[Qe]=function(){return ce.send.apply(ce,[Qe].concat(b(arguments)))}}),ce.send=function(Qe,lt,ft){if(arguments.length===2&&typeof lt=="function"&&(ft=lt,lt=null),Ie.open(Qe,L,!0),q==null||"accept"in Le||(Le.accept=q+",*/*"),Ie.setRequestHeader)for(var bt in Le)Ie.setRequestHeader(bt,Le[bt]);return q!=null&&Ie.overrideMimeType&&Ie.overrideMimeType(q),je!=null&&(Ie.responseType=je),ft!=null&&ce.on("error",ft).on("load",function(At){ft(null,At)}),ye.beforesend.call(ce,Ie),Ie.send(lt??null),ce},ce.abort=function(){return Ie.abort(),ce},a.rebind(ce,ye,"on"),ne==null?ce:ce.get(function(Qe){return Qe.length===1?function(lt,ft){Qe(lt==null?ft:null)}:Qe}(ne))}Sn.forEach(function(L,q){Sn.set(L,un(q))}),a.functor=Nn,a.xhr=zn(z),a.dsv=function(L,q){var $=new RegExp('["'+L+`
]`),ne=L.charCodeAt(0);function ce(qe,Qe,lt){arguments.length<3&&(lt=Qe,Qe=null);var ft=er(qe,q,Qe==null?ye:Le(Qe),lt);return ft.row=function(bt){return arguments.length?ft.response((Qe=bt)==null?ye:Le(bt)):Qe},ft}function ye(qe){return ce.parse(qe.responseText)}function Le(qe){return function(Qe){return ce.parse(Qe.responseText,qe)}}function Ie(qe){return qe.map(je).join(L)}function je(qe){return $.test(qe)?'"'+qe.replace(/\"/g,'""')+'"':qe}return ce.parse=function(qe,Qe){var lt;return ce.parseRows(qe,function(ft,bt){if(lt)return lt(ft,bt-1);var At=function(Tt){for(var Dt={},Ct=ft.length,Yt=0;Yt<Ct;++Yt)Dt[ft[Yt]]=Tt[Yt];return Dt};lt=Qe?function(Tt,Dt){return Qe(At(Tt),Dt)}:At})},ce.parseRows=function(qe,Qe){var lt,ft,bt={},At={},Tt=[],Dt=qe.length,Ct=0,Yt=0;function Vt(){if(Ct>=Dt)return At;if(ft)return ft=!1,bt;var cn=Ct;if(qe.charCodeAt(cn)===34){for(var dn=cn;dn++<Dt;)if(qe.charCodeAt(dn)===34){if(qe.charCodeAt(dn+1)!==34)break;++dn}return Ct=dn+2,(Mn=qe.charCodeAt(dn+1))===13?(ft=!0,qe.charCodeAt(dn+2)===10&&++Ct):Mn===10&&(ft=!0),qe.slice(cn+1,dn).replace(/""/g,'"')}for(;Ct<Dt;){var Mn,Ln=1;if((Mn=qe.charCodeAt(Ct++))===10)ft=!0;else if(Mn===13)ft=!0,qe.charCodeAt(Ct)===10&&(++Ct,++Ln);else if(Mn!==ne)continue;return qe.slice(cn,Ct-Ln)}return qe.slice(cn)}for(;(lt=Vt())!==At;){for(var Ft=[];lt!==bt&&lt!==At;)Ft.push(lt),lt=Vt();Qe&&(Ft=Qe(Ft,Yt++))==null||Tt.push(Ft)}return Tt},ce.format=function(qe){if(Array.isArray(qe[0]))return ce.formatRows(qe);var Qe=new U,lt=[];return qe.forEach(function(ft){for(var bt in ft)Qe.has(bt)||lt.push(Qe.add(bt))}),[lt.map(je).join(L)].concat(qe.map(function(ft){return lt.map(function(bt){return je(ft[bt])}).join(L)})).join(`
`)},ce.formatRows=function(qe){return qe.map(Ie).join(`
`)},ce},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var nr,ir,Yn,mr,Bt=this[W(this,"requestAnimationFrame")]||function(L){setTimeout(L,17)};function Qt(L,q,$){var ne=arguments.length;ne<2&&(q=0),ne<3&&($=Date.now());var ce={c:L,t:$+q,n:null};return ir?ir.n=ce:nr=ce,ir=ce,Yn||(mr=clearTimeout(mr),Yn=1,Bt(vn)),ce}function vn(){var L=fn(),q=Tn()-L;q>24?(isFinite(q)&&(clearTimeout(mr),mr=setTimeout(vn,q)),Yn=0):(Yn=1,Bt(vn))}function fn(){for(var L=Date.now(),q=nr;q;)L>=q.t&&q.c(L-q.t)&&(q.c=null),q=q.n;return L}function Tn(){for(var L,q=nr,$=1/0;q;)q.c?(q.t<$&&($=q.t),q=(L=q).n):q=L?L.n=q.n:nr=q.n;return ir=L,$}function jn(L){return L[0]}function On(L){return L[1]}function Dn(L){for(var q,$,ne,ce=L.length,ye=[0,1],Le=2,Ie=2;Ie<ce;Ie++){for(;Le>1&&(q=L[ye[Le-2]],$=L[ye[Le-1]],ne=L[Ie],($[0]-q[0])*(ne[1]-q[1])-($[1]-q[1])*(ne[0]-q[0])<=0);)--Le;ye[Le++]=Ie}return ye.slice(0,Le)}function $n(L,q){return L[0]-q[0]||L[1]-q[1]}a.timer=function(){Qt.apply(this,arguments)},a.timer.flush=function(){fn(),Tn()},a.round=function(L,q){return q?Math.round(L*(q=Math.pow(10,q)))/q:Math.round(L)},a.geom={},a.geom.hull=function(L){var q=jn,$=On;if(arguments.length)return ne(L);function ne(ce){if(ce.length<3)return[];var ye,Le=Nn(q),Ie=Nn($),je=ce.length,qe=[],Qe=[];for(ye=0;ye<je;ye++)qe.push([+Le.call(this,ce[ye],ye),+Ie.call(this,ce[ye],ye),ye]);for(qe.sort($n),ye=0;ye<je;ye++)Qe.push([qe[ye][0],-qe[ye][1]]);var lt=Dn(qe),ft=Dn(Qe),bt=ft[0]===lt[0],At=ft[ft.length-1]===lt[lt.length-1],Tt=[];for(ye=lt.length-1;ye>=0;--ye)Tt.push(ce[qe[lt[ye]][2]]);for(ye=+bt;ye<ft.length-At;++ye)Tt.push(ce[qe[ft[ye]][2]]);return Tt}return ne.x=function(ce){return arguments.length?(q=ce,ne):q},ne.y=function(ce){return arguments.length?($=ce,ne):$},ne},a.geom.polygon=function(L){return Q(L,qt),L};var qt=a.geom.polygon.prototype=[];function hn(L,q,$){return($[0]-q[0])*(L[1]-q[1])<($[1]-q[1])*(L[0]-q[0])}function Et(L,q,$,ne){var ce=L[0],ye=$[0],Le=q[0]-ce,Ie=ne[0]-ye,je=L[1],qe=$[1],Qe=q[1]-je,lt=ne[1]-qe,ft=(Ie*(je-qe)-lt*(ce-ye))/(lt*Le-Ie*Qe);return[ce+ft*Le,je+ft*Qe]}function Ht(L){var q=L[0],$=L[L.length-1];return!(q[0]-$[0]||q[1]-$[1])}qt.area=function(){for(var L,q=-1,$=this.length,ne=this[$-1],ce=0;++q<$;)L=ne,ne=this[q],ce+=L[1]*ne[0]-L[0]*ne[1];return .5*ce},qt.centroid=function(L){var q,$,ne=-1,ce=this.length,ye=0,Le=0,Ie=this[ce-1];for(arguments.length||(L=-1/(6*this.area()));++ne<ce;)q=Ie,Ie=this[ne],$=q[0]*Ie[1]-Ie[0]*q[1],ye+=(q[0]+Ie[0])*$,Le+=(q[1]+Ie[1])*$;return[ye*L,Le*L]},qt.clip=function(L){for(var q,$,ne,ce,ye,Le,Ie=Ht(L),je=-1,qe=this.length-Ht(this),Qe=this[qe-1];++je<qe;){for(q=L.slice(),L.length=0,ce=this[je],ye=q[(ne=q.length-Ie)-1],$=-1;++$<ne;)hn(Le=q[$],Qe,ce)?(hn(ye,Qe,ce)||L.push(Et(ye,Le,Qe,ce)),L.push(Le)):hn(ye,Qe,ce)&&L.push(Et(ye,Le,Qe,ce)),ye=Le;Ie&&L.push(L[0]),Qe=ce}return L};var Kt,gn,pn,yn,on,Zt=[],Xt=[];function nn(){ri(this),this.edge=this.site=this.circle=null}function ln(L){var q=Zt.pop()||new nn;return q.site=L,q}function kn(L){fr(L),pn.remove(L),Zt.push(L),ri(L)}function En(L){var q=L.circle,$=q.x,ne=q.cy,ce={x:$,y:ne},ye=L.P,Le=L.N,Ie=[L];kn(L);for(var je=ye;je.circle&&v($-je.circle.x)<$e&&v(ne-je.circle.cy)<$e;)ye=je.P,Ie.unshift(je),kn(je),je=ye;Ie.unshift(je),fr(je);for(var qe=Le;qe.circle&&v($-qe.circle.x)<$e&&v(ne-qe.circle.cy)<$e;)Le=qe.N,Ie.push(qe),kn(qe),qe=Le;Ie.push(qe),fr(qe);var Qe,lt=Ie.length;for(Qe=1;Qe<lt;++Qe)qe=Ie[Qe],je=Ie[Qe-1],pr(qe.edge,je.site,qe.site,ce);je=Ie[0],(qe=Ie[lt-1]).edge=tr(je.site,qe.site,null,ce),Wn(je),Wn(qe)}function Fn(L){for(var q,$,ne,ce,ye=L.x,Le=L.y,Ie=pn._;Ie;)if((ne=Bn(Ie,Le)-ye)>$e)Ie=Ie.L;else{if(!((ce=ye-Zn(Ie,Le))>$e)){ne>-$e?(q=Ie.P,$=Ie):ce>-$e?(q=Ie,$=Ie.N):q=$=Ie;break}if(!Ie.R){q=Ie;break}Ie=Ie.R}var je=ln(L);if(pn.insert(q,je),q||$){if(q===$)return fr(q),$=ln(q.site),pn.insert(je,$),je.edge=$.edge=tr(q.site,je.site),Wn(q),void Wn($);if($){fr(q),fr($);var qe=q.site,Qe=qe.x,lt=qe.y,ft=L.x-Qe,bt=L.y-lt,At=$.site,Tt=At.x-Qe,Dt=At.y-lt,Ct=2*(ft*Dt-bt*Tt),Yt=ft*ft+bt*bt,Vt=Tt*Tt+Dt*Dt,Ft={x:(Dt*Yt-bt*Vt)/Ct+Qe,y:(ft*Vt-Tt*Yt)/Ct+lt};pr($.edge,qe,At,Ft),je.edge=tr(qe,L,null,Ft),$.edge=tr(L,At,null,Ft),Wn(q),Wn($)}else je.edge=tr(q.site,je.site)}}function Bn(L,q){var $=L.site,ne=$.x,ce=$.y,ye=ce-q;if(!ye)return ne;var Le=L.P;if(!Le)return-1/0;var Ie=($=Le.site).x,je=$.y,qe=je-q;if(!qe)return Ie;var Qe=Ie-ne,lt=1/ye-1/qe,ft=Qe/qe;return lt?(-ft+Math.sqrt(ft*ft-2*lt*(Qe*Qe/(-2*qe)-je+qe/2+ce-ye/2)))/lt+ne:(ne+Ie)/2}function Zn(L,q){var $=L.N;if($)return Bn($,q);var ne=L.site;return ne.y===q?ne.x:1/0}function Vn(L){this.site=L,this.edges=[]}function Xn(L,q){return q.angle-L.angle}function Kn(){ri(this),this.x=this.y=this.arc=this.site=this.cy=null}function Wn(L){var q=L.P,$=L.N;if(q&&$){var ne=q.site,ce=L.site,ye=$.site;if(ne!==ye){var Le=ce.x,Ie=ce.y,je=ne.x-Le,qe=ne.y-Ie,Qe=ye.x-Le,lt=2*(je*(Dt=ye.y-Ie)-qe*Qe);if(!(lt>=-_t)){var ft=je*je+qe*qe,bt=Qe*Qe+Dt*Dt,At=(Dt*ft-qe*bt)/lt,Tt=(je*bt-Qe*ft)/lt,Dt=Tt+Ie,Ct=Xt.pop()||new Kn;Ct.arc=L,Ct.site=ce,Ct.x=At+Le,Ct.y=Dt+Math.sqrt(At*At+Tt*Tt),Ct.cy=Dt,L.circle=Ct;for(var Yt=null,Vt=on._;Vt;)if(Ct.y<Vt.y||Ct.y===Vt.y&&Ct.x<=Vt.x){if(!Vt.L){Yt=Vt.P;break}Vt=Vt.L}else{if(!Vt.R){Yt=Vt;break}Vt=Vt.R}on.insert(Yt,Ct),Yt||(yn=Ct)}}}}function fr(L){var q=L.circle;q&&(q.P||(yn=q.N),on.remove(q),Xt.push(q),ri(q),L.circle=null)}function ar(L,q){var $=L.b;if($)return!0;var ne,ce,ye=L.a,Le=q[0][0],Ie=q[1][0],je=q[0][1],qe=q[1][1],Qe=L.l,lt=L.r,ft=Qe.x,bt=Qe.y,At=lt.x,Tt=lt.y,Dt=(ft+At)/2,Ct=(bt+Tt)/2;if(Tt===bt){if(Dt<Le||Dt>=Ie)return;if(ft>At){if(ye){if(ye.y>=qe)return}else ye={x:Dt,y:je};$={x:Dt,y:qe}}else{if(ye){if(ye.y<je)return}else ye={x:Dt,y:qe};$={x:Dt,y:je}}}else if(ce=Ct-(ne=(ft-At)/(Tt-bt))*Dt,ne<-1||ne>1)if(ft>At){if(ye){if(ye.y>=qe)return}else ye={x:(je-ce)/ne,y:je};$={x:(qe-ce)/ne,y:qe}}else{if(ye){if(ye.y<je)return}else ye={x:(qe-ce)/ne,y:qe};$={x:(je-ce)/ne,y:je}}else if(bt<Tt){if(ye){if(ye.x>=Ie)return}else ye={x:Le,y:ne*Le+ce};$={x:Ie,y:ne*Ie+ce}}else{if(ye){if(ye.x<Le)return}else ye={x:Ie,y:ne*Ie+ce};$={x:Le,y:ne*Le+ce}}return L.a=ye,L.b=$,!0}function lr(L,q){this.l=L,this.r=q,this.a=this.b=null}function tr(L,q,$,ne){var ce=new lr(L,q);return Kt.push(ce),$&&pr(ce,L,q,$),ne&&pr(ce,q,L,ne),gn[L.i].edges.push(new _r(ce,L,q)),gn[q.i].edges.push(new _r(ce,q,L)),ce}function pr(L,q,$,ne){L.a||L.b?L.l===$?L.b=ne:L.a=ne:(L.a=ne,L.l=q,L.r=$)}function _r(L,q,$){var ne=L.a,ce=L.b;this.edge=L,this.site=q,this.angle=$?Math.atan2($.y-q.y,$.x-q.x):L.l===q?Math.atan2(ce.x-ne.x,ne.y-ce.y):Math.atan2(ne.x-ce.x,ce.y-ne.y)}function Or(){this._=null}function ri(L){L.U=L.C=L.L=L.R=L.P=L.N=null}function ai(L,q){var $=q,ne=q.R,ce=$.U;ce?ce.L===$?ce.L=ne:ce.R=ne:L._=ne,ne.U=ce,$.U=ne,$.R=ne.L,$.R&&($.R.U=$),ne.L=$}function Pi(L,q){var $=q,ne=q.L,ce=$.U;ce?ce.L===$?ce.L=ne:ce.R=ne:L._=ne,ne.U=ce,$.U=ne,$.L=ne.R,$.L&&($.L.U=$),ne.R=$}function ei(L){for(;L.L;)L=L.L;return L}function Ti(L,q){var $,ne,ce,ye=L.sort(ra).pop();for(Kt=[],gn=new Array(L.length),pn=new Or,on=new Or;;)if(ce=yn,ye&&(!ce||ye.y<ce.y||ye.y===ce.y&&ye.x<ce.x))ye.x===$&&ye.y===ne||(gn[ye.i]=new Vn(ye),Fn(ye),$=ye.x,ne=ye.y),ye=L.pop();else{if(!ce)break;En(ce.arc)}q&&(function(Ie){for(var je,qe,Qe,lt,ft,bt=Kt,At=(qe=Ie[0][0],Qe=Ie[0][1],lt=Ie[1][0],ft=Ie[1][1],function(Dt){var Ct,Yt=Dt.a,Vt=Dt.b,Ft=Yt.x,cn=Yt.y,dn=0,Mn=1,Ln=Vt.x-Ft,Un=Vt.y-cn;if(Ct=qe-Ft,Ln||!(Ct>0)){if(Ct/=Ln,Ln<0){if(Ct<dn)return;Ct<Mn&&(Mn=Ct)}else if(Ln>0){if(Ct>Mn)return;Ct>dn&&(dn=Ct)}if(Ct=lt-Ft,Ln||!(Ct<0)){if(Ct/=Ln,Ln<0){if(Ct>Mn)return;Ct>dn&&(dn=Ct)}else if(Ln>0){if(Ct<dn)return;Ct<Mn&&(Mn=Ct)}if(Ct=Qe-cn,Un||!(Ct>0)){if(Ct/=Un,Un<0){if(Ct<dn)return;Ct<Mn&&(Mn=Ct)}else if(Un>0){if(Ct>Mn)return;Ct>dn&&(dn=Ct)}if(Ct=ft-cn,Un||!(Ct<0)){if(Ct/=Un,Un<0){if(Ct>Mn)return;Ct>dn&&(dn=Ct)}else if(Un>0){if(Ct<dn)return;Ct<Mn&&(Mn=Ct)}return dn>0&&(Dt.a={x:Ft+dn*Ln,y:cn+dn*Un}),Mn<1&&(Dt.b={x:Ft+Mn*Ln,y:cn+Mn*Un}),Dt}}}}}),Tt=bt.length;Tt--;)(!ar(je=bt[Tt],Ie)||!At(je)||v(je.a.x-je.b.x)<$e&&v(je.a.y-je.b.y)<$e)&&(je.a=je.b=null,bt.splice(Tt,1))}(q),function(Ie){for(var je,qe,Qe,lt,ft,bt,At,Tt,Dt,Ct,Yt=Ie[0][0],Vt=Ie[1][0],Ft=Ie[0][1],cn=Ie[1][1],dn=gn,Mn=dn.length;Mn--;)if((ft=dn[Mn])&&ft.prepare())for(Tt=(At=ft.edges).length,bt=0;bt<Tt;)Qe=(Ct=At[bt].end()).x,lt=Ct.y,je=(Dt=At[++bt%Tt].start()).x,qe=Dt.y,(v(Qe-je)>$e||v(lt-qe)>$e)&&(At.splice(bt,0,new _r((Ln=ft.site,Un=Ct,Qn=v(Qe-Yt)<$e&&cn-lt>$e?{x:Yt,y:v(je-Yt)<$e?qe:cn}:v(lt-cn)<$e&&Vt-Qe>$e?{x:v(qe-cn)<$e?je:Vt,y:cn}:v(Qe-Vt)<$e&&lt-Ft>$e?{x:Vt,y:v(je-Vt)<$e?qe:Ft}:v(lt-Ft)<$e&&Qe-Yt>$e?{x:v(qe-Ft)<$e?je:Yt,y:Ft}:null,ur=void 0,(ur=new lr(Ln,null)).a=Un,ur.b=Qn,Kt.push(ur),ur),ft.site,null)),++Tt);var Ln,Un,Qn,ur}(q));var Le={cells:gn,edges:Kt};return pn=on=Kt=gn=null,Le}function ra(L,q){return q.y-L.y||q.x-L.x}Vn.prototype.prepare=function(){for(var L,q=this.edges,$=q.length;$--;)(L=q[$].edge).b&&L.a||q.splice($,1);return q.sort(Xn),q.length},_r.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Or.prototype={insert:function(L,q){var $,ne,ce;if(L){if(q.P=L,q.N=L.N,L.N&&(L.N.P=q),L.N=q,L.R){for(L=L.R;L.L;)L=L.L;L.L=q}else L.R=q;$=L}else this._?(L=ei(this._),q.P=null,q.N=L,L.P=L.L=q,$=L):(q.P=q.N=null,this._=q,$=null);for(q.L=q.R=null,q.U=$,q.C=!0,L=q;$&&$.C;)$===(ne=$.U).L?(ce=ne.R)&&ce.C?($.C=ce.C=!1,ne.C=!0,L=ne):(L===$.R&&(ai(this,$),$=(L=$).U),$.C=!1,ne.C=!0,Pi(this,ne)):(ce=ne.L)&&ce.C?($.C=ce.C=!1,ne.C=!0,L=ne):(L===$.L&&(Pi(this,$),$=(L=$).U),$.C=!1,ne.C=!0,ai(this,ne)),$=L.U;this._.C=!1},remove:function(L){L.N&&(L.N.P=L.P),L.P&&(L.P.N=L.N),L.N=L.P=null;var q,$,ne,ce=L.U,ye=L.L,Le=L.R;if($=ye?Le?ei(Le):ye:Le,ce?ce.L===L?ce.L=$:ce.R=$:this._=$,ye&&Le?(ne=$.C,$.C=L.C,$.L=ye,ye.U=$,$!==Le?(ce=$.U,$.U=L.U,L=$.R,ce.L=L,$.R=Le,Le.U=$):($.U=ce,ce=$,L=$.R)):(ne=L.C,L=$),L&&(L.U=ce),!ne)if(L&&L.C)L.C=!1;else{do{if(L===this._)break;if(L===ce.L){if((q=ce.R).C&&(q.C=!1,ce.C=!0,ai(this,ce),q=ce.R),q.L&&q.L.C||q.R&&q.R.C){q.R&&q.R.C||(q.L.C=!1,q.C=!0,Pi(this,q),q=ce.R),q.C=ce.C,ce.C=q.R.C=!1,ai(this,ce),L=this._;break}}else if((q=ce.L).C&&(q.C=!1,ce.C=!0,Pi(this,ce),q=ce.L),q.L&&q.L.C||q.R&&q.R.C){q.L&&q.L.C||(q.R.C=!1,q.C=!0,ai(this,q),q=ce.L),q.C=ce.C,ce.C=q.L.C=!1,Pi(this,ce),L=this._;break}q.C=!0,L=ce,ce=ce.U}while(!L.C);L&&(L.C=!1)}}},a.geom.voronoi=function(L){var q=jn,$=On,ne=q,ce=$,ye=ia;if(L)return Le(L);function Le(je){var qe=new Array(je.length),Qe=ye[0][0],lt=ye[0][1],ft=ye[1][0],bt=ye[1][1];return Ti(Ie(je),ye).cells.forEach(function(At,Tt){var Dt=At.edges,Ct=At.site;(qe[Tt]=Dt.length?Dt.map(function(Yt){var Vt=Yt.start();return[Vt.x,Vt.y]}):Ct.x>=Qe&&Ct.x<=ft&&Ct.y>=lt&&Ct.y<=bt?[[Qe,bt],[ft,bt],[ft,lt],[Qe,lt]]:[]).point=je[Tt]}),qe}function Ie(je){return je.map(function(qe,Qe){return{x:Math.round(ne(qe,Qe)/$e)*$e,y:Math.round(ce(qe,Qe)/$e)*$e,i:Qe}})}return Le.links=function(je){return Ti(Ie(je)).edges.filter(function(qe){return qe.l&&qe.r}).map(function(qe){return{source:je[qe.l.i],target:je[qe.r.i]}})},Le.triangles=function(je){var qe=[];return Ti(Ie(je)).cells.forEach(function(Qe,lt){for(var ft,bt,At,Tt,Dt=Qe.site,Ct=Qe.edges.sort(Xn),Yt=-1,Vt=Ct.length,Ft=Ct[Vt-1].edge,cn=Ft.l===Dt?Ft.r:Ft.l;++Yt<Vt;)ft=cn,cn=(Ft=Ct[Yt].edge).l===Dt?Ft.r:Ft.l,lt<ft.i&&lt<cn.i&&(At=ft,Tt=cn,((bt=Dt).x-Tt.x)*(At.y-bt.y)-(bt.x-At.x)*(Tt.y-bt.y)<0)&&qe.push([je[lt],je[ft.i],je[cn.i]])}),qe},Le.x=function(je){return arguments.length?(ne=Nn(q=je),Le):q},Le.y=function(je){return arguments.length?(ce=Nn($=je),Le):$},Le.clipExtent=function(je){return arguments.length?(ye=je??ia,Le):ye===ia?null:ye},Le.size=function(je){return arguments.length?Le.clipExtent(je&&[[0,0],je]):ye===ia?null:ye&&ye[1]},Le};var ia=[[-1e6,-1e6],[1e6,1e6]];function Bo(L){return L.x}function _l(L){return L.y}function ms(L,q,$,ne,ce,ye){if(!L(q,$,ne,ce,ye)){var Le=.5*($+ce),Ie=.5*(ne+ye),je=q.nodes;je[0]&&ms(L,je[0],$,ne,Le,Ie),je[1]&&ms(L,je[1],Le,ne,ce,Ie),je[2]&&ms(L,je[2],$,Ie,Le,ye),je[3]&&ms(L,je[3],Le,Ie,ce,ye)}}function ys(L,q){L=a.rgb(L),q=a.rgb(q);var $=L.r,ne=L.g,ce=L.b,ye=q.r-$,Le=q.g-ne,Ie=q.b-ce;return function(je){return"#"+$t(Math.round($+ye*je))+$t(Math.round(ne+Le*je))+$t(Math.round(ce+Ie*je))}}function Rs(L,q){var $,ne={},ce={};for($ in L)$ in q?ne[$]=io(L[$],q[$]):ce[$]=L[$];for($ in q)$ in L||(ce[$]=q[$]);return function(ye){for($ in ne)ce[$]=ne[$](ye);return ce}}function za(L,q){return L=+L,q=+q,function($){return L*(1-$)+q*$}}function Fs(L,q){var $,ne,ce,ye=Bs.lastIndex=Ns.lastIndex=0,Le=-1,Ie=[],je=[];for(L+="",q+="";($=Bs.exec(L))&&(ne=Ns.exec(q));)(ce=ne.index)>ye&&(ce=q.slice(ye,ce),Ie[Le]?Ie[Le]+=ce:Ie[++Le]=ce),($=$[0])===(ne=ne[0])?Ie[Le]?Ie[Le]+=ne:Ie[++Le]=ne:(Ie[++Le]=null,je.push({i:Le,x:za($,ne)})),ye=Ns.lastIndex;return ye<q.length&&(ce=q.slice(ye),Ie[Le]?Ie[Le]+=ce:Ie[++Le]=ce),Ie.length<2?je[0]?(q=je[0].x,function(qe){return q(qe)+""}):function(){return q}:(q=je.length,function(qe){for(var Qe,lt=0;lt<q;++lt)Ie[(Qe=je[lt]).i]=Qe.x(qe);return Ie.join("")})}a.geom.delaunay=function(L){return a.geom.voronoi().triangles(L)},a.geom.quadtree=function(L,q,$,ne,ce){var ye,Le=jn,Ie=On;if(ye=arguments.length)return Le=Bo,Ie=_l,ye===3&&(ce=$,ne=q,$=q=0),je(L);function je(qe){var Qe,lt,ft,bt,At,Tt,Dt,Ct,Yt,Vt=Nn(Le),Ft=Nn(Ie);if(q!=null)Tt=q,Dt=$,Ct=ne,Yt=ce;else if(Ct=Yt=-(Tt=Dt=1/0),lt=[],ft=[],At=qe.length,ye)for(bt=0;bt<At;++bt)(Qe=qe[bt]).x<Tt&&(Tt=Qe.x),Qe.y<Dt&&(Dt=Qe.y),Qe.x>Ct&&(Ct=Qe.x),Qe.y>Yt&&(Yt=Qe.y),lt.push(Qe.x),ft.push(Qe.y);else for(bt=0;bt<At;++bt){var cn=+Vt(Qe=qe[bt],bt),dn=+Ft(Qe,bt);cn<Tt&&(Tt=cn),dn<Dt&&(Dt=dn),cn>Ct&&(Ct=cn),dn>Yt&&(Yt=dn),lt.push(cn),ft.push(dn)}var Mn=Ct-Tt,Ln=Yt-Dt;function Un(Hn,sr,vr,Ar,Jn,or,xr,cr){if(!isNaN(vr)&&!isNaN(Ar))if(Hn.leaf){var Tr=Hn.x,Er=Hn.y;if(Tr!=null)if(v(Tr-vr)+v(Er-Ar)<.01)Qn(Hn,sr,vr,Ar,Jn,or,xr,cr);else{var Dr=Hn.point;Hn.x=Hn.y=Hn.point=null,Qn(Hn,Dr,Tr,Er,Jn,or,xr,cr),Qn(Hn,sr,vr,Ar,Jn,or,xr,cr)}else Hn.x=vr,Hn.y=Ar,Hn.point=sr}else Qn(Hn,sr,vr,Ar,Jn,or,xr,cr)}function Qn(Hn,sr,vr,Ar,Jn,or,xr,cr){var Tr=.5*(Jn+xr),Er=.5*(or+cr),Dr=vr>=Tr,Rr=Ar>=Er,Nr=Rr<<1|Dr;Hn.leaf=!1,Dr?Jn=Tr:xr=Tr,Rr?or=Er:cr=Er,Un(Hn=Hn.nodes[Nr]||(Hn.nodes[Nr]={leaf:!0,nodes:[],point:null,x:null,y:null}),sr,vr,Ar,Jn,or,xr,cr)}Mn>Ln?Yt=Dt+Mn:Ct=Tt+Ln;var ur={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Hn){Un(ur,Hn,+Vt(Hn,++bt),+Ft(Hn,bt),Tt,Dt,Ct,Yt)}};if(ur.visit=function(Hn){ms(Hn,ur,Tt,Dt,Ct,Yt)},ur.find=function(Hn){return function(sr,vr,Ar,Jn,or,xr,cr){var Tr,Er=1/0;return function Dr(Rr,Nr,Vr,li,ki){if(!(Nr>xr||Vr>cr||li<Jn||ki<or)){if(ea=Rr.point){var ea,Bi=vr-Rr.x,Yi=Ar-Rr.y,pi=Bi*Bi+Yi*Yi;if(pi<Er){var Hr=Math.sqrt(Er=pi);Jn=vr-Hr,or=Ar-Hr,xr=vr+Hr,cr=Ar+Hr,Tr=ea}}for(var mi=Rr.nodes,ni=.5*(Nr+li),Yr=.5*(Vr+ki),yi=(Ar>=Yr)<<1|vr>=ni,Ai=yi+4;yi<Ai;++yi)if(Rr=mi[3&yi])switch(3&yi){case 0:Dr(Rr,Nr,Vr,ni,Yr);break;case 1:Dr(Rr,ni,Vr,li,Yr);break;case 2:Dr(Rr,Nr,Yr,ni,ki);break;case 3:Dr(Rr,ni,Yr,li,ki)}}}(sr,Jn,or,xr,cr),Tr}(ur,Hn[0],Hn[1],Tt,Dt,Ct,Yt)},bt=-1,q==null){for(;++bt<At;)Un(ur,qe[bt],lt[bt],ft[bt],Tt,Dt,Ct,Yt);--bt}else qe.forEach(ur.add);return lt=ft=qe=Qe=null,ur}return je.x=function(qe){return arguments.length?(Le=qe,je):Le},je.y=function(qe){return arguments.length?(Ie=qe,je):Ie},je.extent=function(qe){return arguments.length?(qe==null?q=$=ne=ce=null:(q=+qe[0][0],$=+qe[0][1],ne=+qe[1][0],ce=+qe[1][1]),je):q==null?null:[[q,$],[ne,ce]]},je.size=function(qe){return arguments.length?(qe==null?q=$=ne=ce=null:(q=$=0,ne=+qe[0],ce=+qe[1]),je):q==null?null:[ne-q,ce-$]},je},a.interpolateRgb=ys,a.interpolateObject=Rs,a.interpolateNumber=za,a.interpolateString=Fs;var Bs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ns=new RegExp(Bs.source,"g");function io(L,q){for(var $,ne=a.interpolators.length;--ne>=0&&!($=a.interpolators[ne](L,q)););return $}function xo(L,q){var $,ne=[],ce=[],ye=L.length,Le=q.length,Ie=Math.min(L.length,q.length);for($=0;$<Ie;++$)ne.push(io(L[$],q[$]));for(;$<ye;++$)ce[$]=L[$];for(;$<Le;++$)ce[$]=q[$];return function(je){for($=0;$<Ie;++$)ce[$]=ne[$](je);return ce}}a.interpolate=io,a.interpolators=[function(L,q){var $=typeof q;return($==="string"?Sn.has(q.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(q)?ys:Fs:q instanceof Ye?ys:Array.isArray(q)?xo:$==="object"&&isNaN(q)?Rs:za)(L,q)}],a.interpolateArray=xo;var No=function(){return z},fi=a.map({linear:No,poly:function(L){return function(q){return Math.pow(q,L)}},quad:function(){return Da},cubic:function(){return bo},sin:function(){return _o},exp:function(){return oo},circle:function(){return wo},elastic:function(L,q){var $;return arguments.length<2&&(q=.45),arguments.length?$=q/Ot*Math.asin(1/L):(L=1,$=q/4),function(ne){return 1+L*Math.pow(2,-10*ne)*Math.sin((ne-$)*Ot/q)}},back:function(L){return L||(L=1.70158),function(q){return q*q*((L+1)*q-L)}},bounce:function(){return Xa}}),Di=a.map({in:z,out:ao,"in-out":Ya,"out-in":function(L){return Ya(ao(L))}});function ao(L){return function(q){return 1-L(1-q)}}function Ya(L){return function(q){return .5*(q<.5?L(2*q):2-L(2-2*q))}}function Da(L){return L*L}function bo(L){return L*L*L}function Za(L){if(L<=0)return 0;if(L>=1)return 1;var q=L*L,$=q*L;return 4*(L<.5?$:3*(L-q)+$-.75)}function _o(L){return 1-Math.cos(L*He)}function oo(L){return Math.pow(2,10*(L-1))}function wo(L){return 1-Math.sqrt(1-L*L)}function Xa(L){return L<.36363636363636365?7.5625*L*L:L<.7272727272727273?7.5625*(L-=.5454545454545454)*L+.75:L<.9090909090909091?7.5625*(L-=.8181818181818182)*L+.9375:7.5625*(L-=.9545454545454546)*L+.984375}function $s(L,q){return q-=L,function($){return Math.round(L+q*$)}}function js(L){var q,$,ne,ce=[L.a,L.b],ye=[L.c,L.d],Le=sl(ce),Ie=jo(ce,ye),je=sl(((q=ye)[0]+=(ne=-Ie)*($=ce)[0],q[1]+=ne*$[1],q))||0;ce[0]*ye[1]<ye[0]*ce[1]&&(ce[0]*=-1,ce[1]*=-1,Le*=-1,Ie*=-1),this.rotate=(Le?Math.atan2(ce[1],ce[0]):Math.atan2(-ye[0],ye[1]))*Be,this.translate=[L.e,L.f],this.scale=[Le,je],this.skew=je?Math.atan2(Ie,je)*Be:0}function jo(L,q){return L[0]*q[0]+L[1]*q[1]}function sl(L){var q=Math.sqrt(jo(L,L));return q&&(L[0]/=q,L[1]/=q),q}a.ease=function(L){var q,$=L.indexOf("-"),ne=$>=0?L.slice(0,$):L,ce=$>=0?L.slice($+1):"in";return ne=fi.get(ne)||No,ce=Di.get(ce)||z,q=ce(ne.apply(null,T.call(arguments,1))),function(ye){return ye<=0?0:ye>=1?1:q(ye)}},a.interpolateHcl=function(L,q){L=a.hcl(L),q=a.hcl(q);var $=L.h,ne=L.c,ce=L.l,ye=q.h-$,Le=q.c-ne,Ie=q.l-ce;return isNaN(Le)&&(Le=0,ne=isNaN(ne)?q.c:ne),isNaN(ye)?(ye=0,$=isNaN($)?q.h:$):ye>180?ye-=360:ye<-180&&(ye+=360),function(je){return xt($+ye*je,ne+Le*je,ce+Ie*je)+""}},a.interpolateHsl=function(L,q){L=a.hsl(L),q=a.hsl(q);var $=L.h,ne=L.s,ce=L.l,ye=q.h-$,Le=q.s-ne,Ie=q.l-ce;return isNaN(Le)&&(Le=0,ne=isNaN(ne)?q.s:ne),isNaN(ye)?(ye=0,$=isNaN($)?q.h:$):ye>180?ye-=360:ye<-180&&(ye+=360),function(je){return dt($+ye*je,ne+Le*je,ce+Ie*je)+""}},a.interpolateLab=function(L,q){L=a.lab(L),q=a.lab(q);var $=L.l,ne=L.a,ce=L.b,ye=q.l-$,Le=q.a-ne,Ie=q.b-ce;return function(je){return Nt($+ye*je,ne+Le*je,ce+Ie*je)+""}},a.interpolateRound=$s,a.transform=function(L){var q=g.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function($){if($!=null){q.setAttribute("transform",$);var ne=q.transform.baseVal.consolidate()}return new js(ne?ne.matrix:ll)})(L)},js.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ll={a:1,b:0,c:0,d:1,e:0,f:0};function Uo(L){return L.length?L.pop()+",":""}function ul(L,q){var $=[],ne=[];return L=a.transform(L),q=a.transform(q),function(ce,ye,Le,Ie){if(ce[0]!==ye[0]||ce[1]!==ye[1]){var je=Le.push("translate(",null,",",null,")");Ie.push({i:je-4,x:za(ce[0],ye[0])},{i:je-2,x:za(ce[1],ye[1])})}else(ye[0]||ye[1])&&Le.push("translate("+ye+")")}(L.translate,q.translate,$,ne),function(ce,ye,Le,Ie){ce!==ye?(ce-ye>180?ye+=360:ye-ce>180&&(ce+=360),Ie.push({i:Le.push(Uo(Le)+"rotate(",null,")")-2,x:za(ce,ye)})):ye&&Le.push(Uo(Le)+"rotate("+ye+")")}(L.rotate,q.rotate,$,ne),function(ce,ye,Le,Ie){ce!==ye?Ie.push({i:Le.push(Uo(Le)+"skewX(",null,")")-2,x:za(ce,ye)}):ye&&Le.push(Uo(Le)+"skewX("+ye+")")}(L.skew,q.skew,$,ne),function(ce,ye,Le,Ie){if(ce[0]!==ye[0]||ce[1]!==ye[1]){var je=Le.push(Uo(Le)+"scale(",null,",",null,")");Ie.push({i:je-4,x:za(ce[0],ye[0])},{i:je-2,x:za(ce[1],ye[1])})}else ye[0]===1&&ye[1]===1||Le.push(Uo(Le)+"scale("+ye+")")}(L.scale,q.scale,$,ne),L=q=null,function(ce){for(var ye,Le=-1,Ie=ne.length;++Le<Ie;)$[(ye=ne[Le]).i]=ye.x(ce);return $.join("")}}function wl(L,q){return q=(q-=L=+L)||1/q,function($){return($-L)/q}}function Tl(L,q){return q=(q-=L=+L)||1/q,function($){return Math.max(0,Math.min(1,($-L)/q))}}function Vo(L){for(var q=L.source,$=L.target,ne=function(Le,Ie){if(Le===Ie)return Le;for(var je=Ka(Le),qe=Ka(Ie),Qe=je.pop(),lt=qe.pop(),ft=null;Qe===lt;)ft=Qe,Qe=je.pop(),lt=qe.pop();return ft}(q,$),ce=[q];q!==ne;)q=q.parent,ce.push(q);for(var ye=ce.length;$!==ne;)ce.splice(ye,0,$),$=$.parent;return ce}function Ka(L){for(var q=[],$=L.parent;$!=null;)q.push(L),L=$,$=$.parent;return q.push(L),q}function ts(L){L.fixed|=2}function qo(L){L.fixed&=-7}function xs(L){L.fixed|=4,L.px=L.x,L.py=L.y}function Ho(L){L.fixed&=-5}function Ra(L,q,$){var ne=0,ce=0;if(L.charge=0,!L.leaf)for(var ye,Le=L.nodes,Ie=Le.length,je=-1;++je<Ie;)(ye=Le[je])!=null&&(Ra(ye,q,$),L.charge+=ye.charge,ne+=ye.charge*ye.cx,ce+=ye.charge*ye.cy);if(L.point){L.leaf||(L.point.x+=Math.random()-.5,L.point.y+=Math.random()-.5);var qe=q*$[L.point.index];L.charge+=L.pointCharge=qe,ne+=qe*L.point.x,ce+=qe*L.point.y}L.cx=ne/L.charge,L.cy=ce/L.charge}a.interpolateTransform=ul,a.layout={},a.layout.bundle=function(){return function(L){for(var q=[],$=-1,ne=L.length;++$<ne;)q.push(Vo(L[$]));return q}},a.layout.chord=function(){var L,q,$,ne,ce,ye,Le,Ie={},je=0;function qe(){var lt,ft,bt,At,Tt,Dt={},Ct=[],Yt=a.range(ne),Vt=[];for(L=[],q=[],lt=0,At=-1;++At<ne;){for(ft=0,Tt=-1;++Tt<ne;)ft+=$[At][Tt];Ct.push(ft),Vt.push(a.range(ne)),lt+=ft}for(ce&&Yt.sort(function(ur,Hn){return ce(Ct[ur],Ct[Hn])}),ye&&Vt.forEach(function(ur,Hn){ur.sort(function(sr,vr){return ye($[Hn][sr],$[Hn][vr])})}),lt=(Ot-je*ne)/lt,ft=0,At=-1;++At<ne;){for(bt=ft,Tt=-1;++Tt<ne;){var Ft=Yt[At],cn=Vt[Ft][Tt],dn=$[Ft][cn],Mn=ft,Ln=ft+=dn*lt;Dt[Ft+"-"+cn]={index:Ft,subindex:cn,startAngle:Mn,endAngle:Ln,value:dn}}q[Ft]={index:Ft,startAngle:bt,endAngle:ft,value:Ct[Ft]},ft+=je}for(At=-1;++At<ne;)for(Tt=At-1;++Tt<ne;){var Un=Dt[At+"-"+Tt],Qn=Dt[Tt+"-"+At];(Un.value||Qn.value)&&L.push(Un.value<Qn.value?{source:Qn,target:Un}:{source:Un,target:Qn})}Le&&Qe()}function Qe(){L.sort(function(lt,ft){return Le((lt.source.value+lt.target.value)/2,(ft.source.value+ft.target.value)/2)})}return Ie.matrix=function(lt){return arguments.length?(ne=($=lt)&&$.length,L=q=null,Ie):$},Ie.padding=function(lt){return arguments.length?(je=lt,L=q=null,Ie):je},Ie.sortGroups=function(lt){return arguments.length?(ce=lt,L=q=null,Ie):ce},Ie.sortSubgroups=function(lt){return arguments.length?(ye=lt,L=null,Ie):ye},Ie.sortChords=function(lt){return arguments.length?(Le=lt,L&&Qe(),Ie):Le},Ie.chords=function(){return L||qe(),L},Ie.groups=function(){return q||qe(),q},Ie},a.layout.force=function(){var L,q,$,ne,ce,ye,Le={},Ie=a.dispatch("start","tick","end"),je=[1,1],qe=.9,Qe=Qs,lt=To,ft=-30,bt=so,At=.1,Tt=.64,Dt=[],Ct=[];function Yt(Ft){return function(cn,dn,Mn,Ln){if(cn.point!==Ft){var Un=cn.cx-Ft.x,Qn=cn.cy-Ft.y,ur=Ln-dn,Hn=Un*Un+Qn*Qn;if(ur*ur/Tt<Hn){if(Hn<bt){var sr=cn.charge/Hn;Ft.px-=Un*sr,Ft.py-=Qn*sr}return!0}cn.point&&Hn&&Hn<bt&&(sr=cn.pointCharge/Hn,Ft.px-=Un*sr,Ft.py-=Qn*sr)}return!cn.charge}}function Vt(Ft){Ft.px=a.event.x,Ft.py=a.event.y,Le.resume()}return Le.tick=function(){if(($*=.99)<.005)return L=null,Ie.end({type:"end",alpha:$=0}),!0;var Ft,cn,dn,Mn,Ln,Un,Qn,ur,Hn,sr=Dt.length,vr=Ct.length;for(cn=0;cn<vr;++cn)Mn=(dn=Ct[cn]).source,(Un=(ur=(Ln=dn.target).x-Mn.x)*ur+(Hn=Ln.y-Mn.y)*Hn)&&(ur*=Un=$*ce[cn]*((Un=Math.sqrt(Un))-ne[cn])/Un,Hn*=Un,Ln.x-=ur*(Qn=Mn.weight+Ln.weight?Mn.weight/(Mn.weight+Ln.weight):.5),Ln.y-=Hn*Qn,Mn.x+=ur*(Qn=1-Qn),Mn.y+=Hn*Qn);if((Qn=$*At)&&(ur=je[0]/2,Hn=je[1]/2,cn=-1,Qn))for(;++cn<sr;)(dn=Dt[cn]).x+=(ur-dn.x)*Qn,dn.y+=(Hn-dn.y)*Qn;if(ft)for(Ra(Ft=a.geom.quadtree(Dt),$,ye),cn=-1;++cn<sr;)(dn=Dt[cn]).fixed||Ft.visit(Yt(dn));for(cn=-1;++cn<sr;)(dn=Dt[cn]).fixed?(dn.x=dn.px,dn.y=dn.py):(dn.x-=(dn.px-(dn.px=dn.x))*qe,dn.y-=(dn.py-(dn.py=dn.y))*qe);Ie.tick({type:"tick",alpha:$})},Le.nodes=function(Ft){return arguments.length?(Dt=Ft,Le):Dt},Le.links=function(Ft){return arguments.length?(Ct=Ft,Le):Ct},Le.size=function(Ft){return arguments.length?(je=Ft,Le):je},Le.linkDistance=function(Ft){return arguments.length?(Qe=typeof Ft=="function"?Ft:+Ft,Le):Qe},Le.distance=Le.linkDistance,Le.linkStrength=function(Ft){return arguments.length?(lt=typeof Ft=="function"?Ft:+Ft,Le):lt},Le.friction=function(Ft){return arguments.length?(qe=+Ft,Le):qe},Le.charge=function(Ft){return arguments.length?(ft=typeof Ft=="function"?Ft:+Ft,Le):ft},Le.chargeDistance=function(Ft){return arguments.length?(bt=Ft*Ft,Le):Math.sqrt(bt)},Le.gravity=function(Ft){return arguments.length?(At=+Ft,Le):At},Le.theta=function(Ft){return arguments.length?(Tt=Ft*Ft,Le):Math.sqrt(Tt)},Le.alpha=function(Ft){return arguments.length?(Ft=+Ft,$?Ft>0?$=Ft:(L.c=null,L.t=NaN,L=null,Ie.end({type:"end",alpha:$=0})):Ft>0&&(Ie.start({type:"start",alpha:$=Ft}),L=Qt(Le.tick)),Le):$},Le.start=function(){var Ft,cn,dn,Mn=Dt.length,Ln=Ct.length,Un=je[0],Qn=je[1];for(Ft=0;Ft<Mn;++Ft)(dn=Dt[Ft]).index=Ft,dn.weight=0;for(Ft=0;Ft<Ln;++Ft)typeof(dn=Ct[Ft]).source=="number"&&(dn.source=Dt[dn.source]),typeof dn.target=="number"&&(dn.target=Dt[dn.target]),++dn.source.weight,++dn.target.weight;for(Ft=0;Ft<Mn;++Ft)dn=Dt[Ft],isNaN(dn.x)&&(dn.x=ur("x",Un)),isNaN(dn.y)&&(dn.y=ur("y",Qn)),isNaN(dn.px)&&(dn.px=dn.x),isNaN(dn.py)&&(dn.py=dn.y);if(ne=[],typeof Qe=="function")for(Ft=0;Ft<Ln;++Ft)ne[Ft]=+Qe.call(this,Ct[Ft],Ft);else for(Ft=0;Ft<Ln;++Ft)ne[Ft]=Qe;if(ce=[],typeof lt=="function")for(Ft=0;Ft<Ln;++Ft)ce[Ft]=+lt.call(this,Ct[Ft],Ft);else for(Ft=0;Ft<Ln;++Ft)ce[Ft]=lt;if(ye=[],typeof ft=="function")for(Ft=0;Ft<Mn;++Ft)ye[Ft]=+ft.call(this,Dt[Ft],Ft);else for(Ft=0;Ft<Mn;++Ft)ye[Ft]=ft;function ur(Hn,sr){if(!cn){for(cn=new Array(Mn),or=0;or<Mn;++or)cn[or]=[];for(or=0;or<Ln;++or){var vr=Ct[or];cn[vr.source.index].push(vr.target),cn[vr.target.index].push(vr.source)}}for(var Ar,Jn=cn[Ft],or=-1,xr=Jn.length;++or<xr;)if(!isNaN(Ar=Jn[or][Hn]))return Ar;return Math.random()*sr}return Le.resume()},Le.resume=function(){return Le.alpha(.1)},Le.stop=function(){return Le.alpha(0)},Le.drag=function(){if(q||(q=a.behavior.drag().origin(z).on("dragstart.force",ts).on("drag.force",Vt).on("dragend.force",qo)),!arguments.length)return q;this.on("mouseover.force",xs).on("mouseout.force",Ho).call(q)},a.rebind(Le,Ie,"on")};var Qs=20,To=1,so=1/0;function lo(L,q){return a.rebind(L,q,"sort","children","value"),L.nodes=L,L.links=rs,L}function ko(L,q){for(var $=[L];(L=$.pop())!=null;)if(q(L),(ce=L.children)&&(ne=ce.length))for(var ne,ce;--ne>=0;)$.push(ce[ne])}function jr(L,q){for(var $=[L],ne=[];(L=$.pop())!=null;)if(ne.push(L),(ye=L.children)&&(ce=ye.length))for(var ce,ye,Le=-1;++Le<ce;)$.push(ye[Le]);for(;(L=ne.pop())!=null;)q(L)}function ns(L){return L.children}function kl(L){return L.value}function Us(L,q){return q.value-L.value}function rs(L){return a.merge(L.map(function(q){return(q.children||[]).map(function($){return{source:q,target:$}})}))}a.layout.hierarchy=function(){var L=Us,q=ns,$=kl;function ne(ce){var ye,Le=[ce],Ie=[];for(ce.depth=0;(ye=Le.pop())!=null;)if(Ie.push(ye),(qe=q.call(ne,ye,ye.depth))&&(je=qe.length)){for(var je,qe,Qe;--je>=0;)Le.push(Qe=qe[je]),Qe.parent=ye,Qe.depth=ye.depth+1;$&&(ye.value=0),ye.children=qe}else $&&(ye.value=+$.call(ne,ye,ye.depth)||0),delete ye.children;return jr(ce,function(lt){var ft,bt;L&&(ft=lt.children)&&ft.sort(L),$&&(bt=lt.parent)&&(bt.value+=lt.value)}),Ie}return ne.sort=function(ce){return arguments.length?(L=ce,ne):L},ne.children=function(ce){return arguments.length?(q=ce,ne):q},ne.value=function(ce){return arguments.length?($=ce,ne):$},ne.revalue=function(ce){return $&&(ko(ce,function(ye){ye.children&&(ye.value=0)}),jr(ce,function(ye){var Le;ye.children||(ye.value=+$.call(ne,ye,ye.depth)||0),(Le=ye.parent)&&(Le.value+=ye.value)})),ce},ne},a.layout.partition=function(){var L=a.layout.hierarchy(),q=[1,1];function $(ye,Le,Ie,je){var qe=ye.children;if(ye.x=Le,ye.y=ye.depth*je,ye.dx=Ie,ye.dy=je,qe&&(Qe=qe.length)){var Qe,lt,ft,bt=-1;for(Ie=ye.value?Ie/ye.value:0;++bt<Qe;)$(lt=qe[bt],Le,ft=lt.value*Ie,je),Le+=ft}}function ne(ye){var Le=ye.children,Ie=0;if(Le&&(je=Le.length))for(var je,qe=-1;++qe<je;)Ie=Math.max(Ie,ne(Le[qe]));return 1+Ie}function ce(ye,Le){var Ie=L.call(this,ye,Le);return $(Ie[0],0,q[0],q[1]/ne(Ie[0])),Ie}return ce.size=function(ye){return arguments.length?(q=ye,ce):q},lo(ce,L)},a.layout.pie=function(){var L=Number,q=cl,$=0,ne=Ot,ce=0;function ye(Le){var Ie,je=Le.length,qe=Le.map(function(Yt,Vt){return+L.call(ye,Yt,Vt)}),Qe=+(typeof $=="function"?$.apply(this,arguments):$),lt=(typeof ne=="function"?ne.apply(this,arguments):ne)-Qe,ft=Math.min(Math.abs(lt)/je,+(typeof ce=="function"?ce.apply(this,arguments):ce)),bt=ft*(lt<0?-1:1),At=a.sum(qe),Tt=At?(lt-je*bt)/At:0,Dt=a.range(je),Ct=[];return q!=null&&Dt.sort(q===cl?function(Yt,Vt){return qe[Vt]-qe[Yt]}:function(Yt,Vt){return q(Le[Yt],Le[Vt])}),Dt.forEach(function(Yt){Ct[Yt]={data:Le[Yt],value:Ie=qe[Yt],startAngle:Qe,endAngle:Qe+=Ie*Tt+bt,padAngle:ft}}),Ct}return ye.value=function(Le){return arguments.length?(L=Le,ye):L},ye.sort=function(Le){return arguments.length?(q=Le,ye):q},ye.startAngle=function(Le){return arguments.length?($=Le,ye):$},ye.endAngle=function(Le){return arguments.length?(ne=Le,ye):ne},ye.padAngle=function(Le){return arguments.length?(ce=Le,ye):ce},ye};var cl={};function Al(L){return L.x}function Vs(L){return L.y}function Ml(L,q,$){L.y0=q,L.y=$}a.layout.stack=function(){var L=z,q=uo,$=Fa,ne=Ml,ce=Al,ye=Vs;function Le(Ie,je){if(!(ft=Ie.length))return Ie;var qe=Ie.map(function(Yt,Vt){return L.call(Le,Yt,Vt)}),Qe=qe.map(function(Yt){return Yt.map(function(Vt,Ft){return[ce.call(Le,Vt,Ft),ye.call(Le,Vt,Ft)]})}),lt=q.call(Le,Qe,je);qe=a.permute(qe,lt),Qe=a.permute(Qe,lt);var ft,bt,At,Tt,Dt=$.call(Le,Qe,je),Ct=qe[0].length;for(At=0;At<Ct;++At)for(ne.call(Le,qe[0][At],Tt=Dt[At],Qe[0][At][1]),bt=1;bt<ft;++bt)ne.call(Le,qe[bt][At],Tt+=Qe[bt-1][At][1],Qe[bt][At][1]);return Ie}return Le.values=function(Ie){return arguments.length?(L=Ie,Le):L},Le.order=function(Ie){return arguments.length?(q=typeof Ie=="function"?Ie:Ao.get(Ie)||uo,Le):q},Le.offset=function(Ie){return arguments.length?($=typeof Ie=="function"?Ie:Go.get(Ie)||Fa,Le):$},Le.x=function(Ie){return arguments.length?(ce=Ie,Le):ce},Le.y=function(Ie){return arguments.length?(ye=Ie,Le):ye},Le.out=function(Ie){return arguments.length?(ne=Ie,Le):ne},Le};var Ao=a.map({"inside-out":function(L){var q,$,ne=L.length,ce=L.map(is),ye=L.map(fl),Le=a.range(ne).sort(function(lt,ft){return ce[lt]-ce[ft]}),Ie=0,je=0,qe=[],Qe=[];for(q=0;q<ne;++q)$=Le[q],Ie<je?(Ie+=ye[$],qe.push($)):(je+=ye[$],Qe.push($));return Qe.reverse().concat(qe)},reverse:function(L){return a.range(L.length).reverse()},default:uo}),Go=a.map({silhouette:function(L){var q,$,ne,ce=L.length,ye=L[0].length,Le=[],Ie=0,je=[];for($=0;$<ye;++$){for(q=0,ne=0;q<ce;q++)ne+=L[q][$][1];ne>Ie&&(Ie=ne),Le.push(ne)}for($=0;$<ye;++$)je[$]=(Ie-Le[$])/2;return je},wiggle:function(L){var q,$,ne,ce,ye,Le,Ie,je,qe,Qe=L.length,lt=L[0],ft=lt.length,bt=[];for(bt[0]=je=qe=0,$=1;$<ft;++$){for(q=0,ce=0;q<Qe;++q)ce+=L[q][$][1];for(q=0,ye=0,Ie=lt[$][0]-lt[$-1][0];q<Qe;++q){for(ne=0,Le=(L[q][$][1]-L[q][$-1][1])/(2*Ie);ne<q;++ne)Le+=(L[ne][$][1]-L[ne][$-1][1])/Ie;ye+=Le*L[q][$][1]}bt[$]=je-=ce?ye/ce*Ie:0,je<qe&&(qe=je)}for($=0;$<ft;++$)bt[$]-=qe;return bt},expand:function(L){var q,$,ne,ce=L.length,ye=L[0].length,Le=1/ce,Ie=[];for($=0;$<ye;++$){for(q=0,ne=0;q<ce;q++)ne+=L[q][$][1];if(ne)for(q=0;q<ce;q++)L[q][$][1]/=ne;else for(q=0;q<ce;q++)L[q][$][1]=Le}for($=0;$<ye;++$)Ie[$]=0;return Ie},zero:Fa});function uo(L){return a.range(L.length)}function Fa(L){for(var q=-1,$=L[0].length,ne=[];++q<$;)ne[q]=0;return ne}function is(L){for(var q,$=1,ne=0,ce=L[0][1],ye=L.length;$<ye;++$)(q=L[$][1])>ce&&(ne=$,ce=q);return ne}function fl(L){return L.reduce(bs,0)}function bs(L,q){return L+q[1]}function qs(L,q){return xa(L,Math.ceil(Math.log(q.length)/Math.LN2+1))}function xa(L,q){for(var $=-1,ne=+L[0],ce=(L[1]-ne)/q,ye=[];++$<=q;)ye[$]=ce*$+ne;return ye}function Hs(L){return[a.min(L),a.max(L)]}function hl(L,q){return L.value-q.value}function as(L,q){var $=L._pack_next;L._pack_next=q,q._pack_prev=L,q._pack_next=$,$._pack_prev=q}function Wo(L,q){L._pack_next=q,q._pack_prev=L}function os(L,q){var $=q.x-L.x,ne=q.y-L.y,ce=L.r+q.r;return .999*ce*ce>$*$+ne*ne}function Yo(L){if((q=L.children)&&(je=q.length)){var q,$,ne,ce,ye,Le,Ie,je,qe=1/0,Qe=-1/0,lt=1/0,ft=-1/0;if(q.forEach(Zo),($=q[0]).x=-$.r,$.y=0,Vt($),je>1&&((ne=q[1]).x=ne.r,ne.y=0,Vt(ne),je>2))for(Jr($,ne,ce=q[2]),Vt(ce),as($,ce),$._pack_prev=ce,as(ce,ne),ne=$._pack_next,ye=3;ye<je;ye++){Jr($,ne,ce=q[ye]);var bt=0,At=1,Tt=1;for(Le=ne._pack_next;Le!==ne;Le=Le._pack_next,At++)if(os(Le,ce)){bt=1;break}if(bt==1)for(Ie=$._pack_prev;Ie!==Le._pack_prev&&!os(Ie,ce);Ie=Ie._pack_prev,Tt++);bt?(At<Tt||At==Tt&&ne.r<$.r?Wo($,ne=Le):Wo($=Ie,ne),ye--):(as($,ce),ne=ce,Vt(ce))}var Dt=(qe+Qe)/2,Ct=(lt+ft)/2,Yt=0;for(ye=0;ye<je;ye++)(ce=q[ye]).x-=Dt,ce.y-=Ct,Yt=Math.max(Yt,ce.r+Math.sqrt(ce.x*ce.x+ce.y*ce.y));L.r=Yt,q.forEach(_s)}function Vt(Ft){qe=Math.min(Ft.x-Ft.r,qe),Qe=Math.max(Ft.x+Ft.r,Qe),lt=Math.min(Ft.y-Ft.r,lt),ft=Math.max(Ft.y+Ft.r,ft)}}function Zo(L){L._pack_next=L._pack_prev=L}function _s(L){delete L._pack_next,delete L._pack_prev}function Gs(L,q,$,ne){var ce=L.children;if(L.x=q+=ne*L.x,L.y=$+=ne*L.y,L.r*=ne,ce)for(var ye=-1,Le=ce.length;++ye<Le;)Gs(ce[ye],q,$,ne)}function Jr(L,q,$){var ne=L.r+$.r,ce=q.x-L.x,ye=q.y-L.y;if(ne&&(ce||ye)){var Le=q.r+$.r,Ie=ce*ce+ye*ye,je=.5+((ne*=ne)-(Le*=Le))/(2*Ie),qe=Math.sqrt(Math.max(0,2*Le*(ne+Ie)-(ne-=Ie)*ne-Le*Le))/(2*Ie);$.x=L.x+je*ce+qe*ye,$.y=L.y+je*ye-qe*ce}else $.x=L.x+ne,$.y=L.y}function Mo(L,q){return L.parent==q.parent?1:2}function Wi(L){var q=L.children;return q.length?q[0]:L.t}function Ba(L){var q,$=L.children;return(q=$.length)?$[q-1]:L.t}function Gr(L,q,$){var ne=$/(q.i-L.i);q.c-=ne,q.s+=$,L.c+=ne,q.z+=$,q.m+=$}function Kr(L,q,$){return L.a.parent===q.parent?L.a:$}function ba(L){var q=L.children;return q&&q.length?ba(q[0]):L}function ss(L){var q,$=L.children;return $&&(q=$.length)?ss($[q-1]):L}function ws(L){return{x:L.x,y:L.y,dx:L.dx,dy:L.dy}}function Ws(L,q){var $=L.x+q[3],ne=L.y+q[0],ce=L.dx-q[1]-q[3],ye=L.dy-q[0]-q[2];return ce<0&&($+=ce/2,ce=0),ye<0&&(ne+=ye/2,ye=0),{x:$,y:ne,dx:ce,dy:ye}}function Ts(L){var q=L[0],$=L[L.length-1];return q<$?[q,$]:[$,q]}function ks(L){return L.rangeExtent?L.rangeExtent():Ts(L.range())}function Aa(L,q,$,ne){var ce=$(L[0],L[1]),ye=ne(q[0],q[1]);return function(Le){return ye(ce(Le))}}function So(L,q){var $,ne=0,ce=L.length-1,ye=L[ne],Le=L[ce];return Le<ye&&($=ne,ne=ce,ce=$,$=ye,ye=Le,Le=$),L[ne]=q.floor(ye),L[ce]=q.ceil(Le),L}function Eo(L){return L?{floor:function(q){return Math.floor(q/L)*L},ceil:function(q){return Math.ceil(q/L)*L}}:$i}a.layout.histogram=function(){var L=!0,q=Number,$=Hs,ne=qs;function ce(ye,Le){for(var Ie,je,qe=[],Qe=ye.map(q,this),lt=$.call(this,Qe,Le),ft=ne.call(this,lt,Qe,Le),bt=(Le=-1,Qe.length),At=ft.length-1,Tt=L?1:1/bt;++Le<At;)(Ie=qe[Le]=[]).dx=ft[Le+1]-(Ie.x=ft[Le]),Ie.y=0;if(At>0)for(Le=-1;++Le<bt;)(je=Qe[Le])>=lt[0]&&je<=lt[1]&&((Ie=qe[a.bisect(ft,je,1,At)-1]).y+=Tt,Ie.push(ye[Le]));return qe}return ce.value=function(ye){return arguments.length?(q=ye,ce):q},ce.range=function(ye){return arguments.length?($=Nn(ye),ce):$},ce.bins=function(ye){return arguments.length?(ne=typeof ye=="number"?function(Le){return xa(Le,ye)}:Nn(ye),ce):ne},ce.frequency=function(ye){return arguments.length?(L=!!ye,ce):L},ce},a.layout.pack=function(){var L,q=a.layout.hierarchy().sort(hl),$=0,ne=[1,1];function ce(ye,Le){var Ie=q.call(this,ye,Le),je=Ie[0],qe=ne[0],Qe=ne[1],lt=L==null?Math.sqrt:typeof L=="function"?L:function(){return L};if(je.x=je.y=0,jr(je,function(bt){bt.r=+lt(bt.value)}),jr(je,Yo),$){var ft=$*(L?1:Math.max(2*je.r/qe,2*je.r/Qe))/2;jr(je,function(bt){bt.r+=ft}),jr(je,Yo),jr(je,function(bt){bt.r-=ft})}return Gs(je,qe/2,Qe/2,L?1:1/Math.max(2*je.r/qe,2*je.r/Qe)),Ie}return ce.size=function(ye){return arguments.length?(ne=ye,ce):ne},ce.radius=function(ye){return arguments.length?(L=ye==null||typeof ye=="function"?ye:+ye,ce):L},ce.padding=function(ye){return arguments.length?($=+ye,ce):$},lo(ce,q)},a.layout.tree=function(){var L=a.layout.hierarchy().sort(null).value(null),q=Mo,$=[1,1],ne=null;function ce(je,qe){var Qe=L.call(this,je,qe),lt=Qe[0],ft=function(Vt){for(var Ft,cn={A:null,children:[Vt]},dn=[cn];(Ft=dn.pop())!=null;)for(var Mn,Ln=Ft.children,Un=0,Qn=Ln.length;Un<Qn;++Un)dn.push((Ln[Un]=Mn={_:Ln[Un],parent:Ft,children:(Mn=Ln[Un].children)&&Mn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Un}).a=Mn);return cn.children[0]}(lt);if(jr(ft,ye),ft.parent.m=-ft.z,ko(ft,Le),ne)ko(lt,Ie);else{var bt=lt,At=lt,Tt=lt;ko(lt,function(Vt){Vt.x<bt.x&&(bt=Vt),Vt.x>At.x&&(At=Vt),Vt.depth>Tt.depth&&(Tt=Vt)});var Dt=q(bt,At)/2-bt.x,Ct=$[0]/(At.x+q(At,bt)/2+Dt),Yt=$[1]/(Tt.depth||1);ko(lt,function(Vt){Vt.x=(Vt.x+Dt)*Ct,Vt.y=Vt.depth*Yt})}return Qe}function ye(je){var qe=je.children,Qe=je.parent.children,lt=je.i?Qe[je.i-1]:null;if(qe.length){(function(bt){for(var At,Tt=0,Dt=0,Ct=bt.children,Yt=Ct.length;--Yt>=0;)(At=Ct[Yt]).z+=Tt,At.m+=Tt,Tt+=At.s+(Dt+=At.c)})(je);var ft=(qe[0].z+qe[qe.length-1].z)/2;lt?(je.z=lt.z+q(je._,lt._),je.m=je.z-ft):je.z=ft}else lt&&(je.z=lt.z+q(je._,lt._));je.parent.A=function(bt,At,Tt){if(At){for(var Dt,Ct=bt,Yt=bt,Vt=At,Ft=Ct.parent.children[0],cn=Ct.m,dn=Yt.m,Mn=Vt.m,Ln=Ft.m;Vt=Ba(Vt),Ct=Wi(Ct),Vt&&Ct;)Ft=Wi(Ft),(Yt=Ba(Yt)).a=bt,(Dt=Vt.z+Mn-Ct.z-cn+q(Vt._,Ct._))>0&&(Gr(Kr(Vt,bt,Tt),bt,Dt),cn+=Dt,dn+=Dt),Mn+=Vt.m,cn+=Ct.m,Ln+=Ft.m,dn+=Yt.m;Vt&&!Ba(Yt)&&(Yt.t=Vt,Yt.m+=Mn-dn),Ct&&!Wi(Ft)&&(Ft.t=Ct,Ft.m+=cn-Ln,Tt=bt)}return Tt}(je,lt,je.parent.A||Qe[0])}function Le(je){je._.x=je.z+je.parent.m,je.m+=je.parent.m}function Ie(je){je.x*=$[0],je.y=je.depth*$[1]}return ce.separation=function(je){return arguments.length?(q=je,ce):q},ce.size=function(je){return arguments.length?(ne=($=je)==null?Ie:null,ce):ne?null:$},ce.nodeSize=function(je){return arguments.length?(ne=($=je)==null?null:Ie,ce):ne?$:null},lo(ce,L)},a.layout.cluster=function(){var L=a.layout.hierarchy().sort(null).value(null),q=Mo,$=[1,1],ne=!1;function ce(ye,Le){var Ie,je=L.call(this,ye,Le),qe=je[0],Qe=0;jr(qe,function(Tt){var Dt=Tt.children;Dt&&Dt.length?(Tt.x=function(Ct){return Ct.reduce(function(Yt,Vt){return Yt+Vt.x},0)/Ct.length}(Dt),Tt.y=function(Ct){return 1+a.max(Ct,function(Yt){return Yt.y})}(Dt)):(Tt.x=Ie?Qe+=q(Tt,Ie):0,Tt.y=0,Ie=Tt)});var lt=ba(qe),ft=ss(qe),bt=lt.x-q(lt,ft)/2,At=ft.x+q(ft,lt)/2;return jr(qe,ne?function(Tt){Tt.x=(Tt.x-qe.x)*$[0],Tt.y=(qe.y-Tt.y)*$[1]}:function(Tt){Tt.x=(Tt.x-bt)/(At-bt)*$[0],Tt.y=(1-(qe.y?Tt.y/qe.y:1))*$[1]}),je}return ce.separation=function(ye){return arguments.length?(q=ye,ce):q},ce.size=function(ye){return arguments.length?(ne=($=ye)==null,ce):ne?null:$},ce.nodeSize=function(ye){return arguments.length?(ne=($=ye)!=null,ce):ne?$:null},lo(ce,L)},a.layout.treemap=function(){var L,q=a.layout.hierarchy(),$=Math.round,ne=[1,1],ce=null,ye=ws,Le=!1,Ie="squarify",je=.5*(1+Math.sqrt(5));function qe(Tt,Dt){for(var Ct,Yt,Vt=-1,Ft=Tt.length;++Vt<Ft;)Yt=(Ct=Tt[Vt]).value*(Dt<0?0:Dt),Ct.area=isNaN(Yt)||Yt<=0?0:Yt}function Qe(Tt){var Dt=Tt.children;if(Dt&&Dt.length){var Ct,Yt,Vt,Ft=ye(Tt),cn=[],dn=Dt.slice(),Mn=1/0,Ln=Ie==="slice"?Ft.dx:Ie==="dice"?Ft.dy:Ie==="slice-dice"?1&Tt.depth?Ft.dy:Ft.dx:Math.min(Ft.dx,Ft.dy);for(qe(dn,Ft.dx*Ft.dy/Tt.value),cn.area=0;(Vt=dn.length)>0;)cn.push(Ct=dn[Vt-1]),cn.area+=Ct.area,Ie!=="squarify"||(Yt=ft(cn,Ln))<=Mn?(dn.pop(),Mn=Yt):(cn.area-=cn.pop().area,bt(cn,Ln,Ft,!1),Ln=Math.min(Ft.dx,Ft.dy),cn.length=cn.area=0,Mn=1/0);cn.length&&(bt(cn,Ln,Ft,!0),cn.length=cn.area=0),Dt.forEach(Qe)}}function lt(Tt){var Dt=Tt.children;if(Dt&&Dt.length){var Ct,Yt=ye(Tt),Vt=Dt.slice(),Ft=[];for(qe(Vt,Yt.dx*Yt.dy/Tt.value),Ft.area=0;Ct=Vt.pop();)Ft.push(Ct),Ft.area+=Ct.area,Ct.z!=null&&(bt(Ft,Ct.z?Yt.dx:Yt.dy,Yt,!Vt.length),Ft.length=Ft.area=0);Dt.forEach(lt)}}function ft(Tt,Dt){for(var Ct,Yt=Tt.area,Vt=0,Ft=1/0,cn=-1,dn=Tt.length;++cn<dn;)(Ct=Tt[cn].area)&&(Ct<Ft&&(Ft=Ct),Ct>Vt&&(Vt=Ct));return Dt*=Dt,(Yt*=Yt)?Math.max(Dt*Vt*je/Yt,Yt/(Dt*Ft*je)):1/0}function bt(Tt,Dt,Ct,Yt){var Vt,Ft=-1,cn=Tt.length,dn=Ct.x,Mn=Ct.y,Ln=Dt?$(Tt.area/Dt):0;if(Dt==Ct.dx){for((Yt||Ln>Ct.dy)&&(Ln=Ct.dy);++Ft<cn;)(Vt=Tt[Ft]).x=dn,Vt.y=Mn,Vt.dy=Ln,dn+=Vt.dx=Math.min(Ct.x+Ct.dx-dn,Ln?$(Vt.area/Ln):0);Vt.z=!0,Vt.dx+=Ct.x+Ct.dx-dn,Ct.y+=Ln,Ct.dy-=Ln}else{for((Yt||Ln>Ct.dx)&&(Ln=Ct.dx);++Ft<cn;)(Vt=Tt[Ft]).x=dn,Vt.y=Mn,Vt.dx=Ln,Mn+=Vt.dy=Math.min(Ct.y+Ct.dy-Mn,Ln?$(Vt.area/Ln):0);Vt.z=!1,Vt.dy+=Ct.y+Ct.dy-Mn,Ct.x+=Ln,Ct.dx-=Ln}}function At(Tt){var Dt=L||q(Tt),Ct=Dt[0];return Ct.x=Ct.y=0,Ct.value?(Ct.dx=ne[0],Ct.dy=ne[1]):Ct.dx=Ct.dy=0,L&&q.revalue(Ct),qe([Ct],Ct.dx*Ct.dy/Ct.value),(L?lt:Qe)(Ct),Le&&(L=Dt),Dt}return At.size=function(Tt){return arguments.length?(ne=Tt,At):ne},At.padding=function(Tt){if(!arguments.length)return ce;function Dt(Yt){return Ws(Yt,Tt)}var Ct;return ye=(ce=Tt)==null?ws:(Ct=typeof Tt)=="function"?function(Yt){var Vt=Tt.call(At,Yt,Yt.depth);return Vt==null?ws(Yt):Ws(Yt,typeof Vt=="number"?[Vt,Vt,Vt,Vt]:Vt)}:(Ct==="number"&&(Tt=[Tt,Tt,Tt,Tt]),Dt),At},At.round=function(Tt){return arguments.length?($=Tt?Math.round:Number,At):$!=Number},At.sticky=function(Tt){return arguments.length?(Le=Tt,L=null,At):Le},At.ratio=function(Tt){return arguments.length?(je=Tt,At):je},At.mode=function(Tt){return arguments.length?(Ie=Tt+"",At):Ie},lo(At,q)},a.random={normal:function(L,q){var $=arguments.length;return $<2&&(q=1),$<1&&(L=0),function(){var ne,ce,ye;do ye=(ne=2*Math.random()-1)*ne+(ce=2*Math.random()-1)*ce;while(!ye||ye>1);return L+q*ne*Math.sqrt(-2*Math.log(ye)/ye)}},logNormal:function(){var L=a.random.normal.apply(a,arguments);return function(){return Math.exp(L())}},bates:function(L){var q=a.random.irwinHall(L);return function(){return q()/L}},irwinHall:function(L){return function(){for(var q=0,$=0;$<L;$++)q+=Math.random();return q}}},a.scale={};var $i={floor:z,ceil:z};function As(L,q,$,ne){var ce=[],ye=[],Le=0,Ie=Math.min(L.length,q.length)-1;for(L[Ie]<L[0]&&(L=L.slice().reverse(),q=q.slice().reverse());++Le<=Ie;)ce.push($(L[Le-1],L[Le])),ye.push(ne(q[Le-1],q[Le]));return function(je){var qe=a.bisect(L,je,1,Ie)-1;return ye[qe](ce[qe](je))}}function Ma(L,q,$,ne){var ce,ye;function Le(){var je=Math.min(L.length,q.length)>2?As:Aa,qe=ne?Tl:wl;return ce=je(L,q,qe,$),ye=je(q,L,qe,io),Ie}function Ie(je){return ce(je)}return Ie.invert=function(je){return ye(je)},Ie.domain=function(je){return arguments.length?(L=je.map(Number),Le()):L},Ie.range=function(je){return arguments.length?(q=je,Le()):q},Ie.rangeRound=function(je){return Ie.range(je).interpolate($s)},Ie.clamp=function(je){return arguments.length?(ne=je,Le()):ne},Ie.interpolate=function(je){return arguments.length?($=je,Le()):$},Ie.ticks=function(je){return Vi(L,je)},Ie.tickFormat=function(je,qe){return d3_scale_linearTickFormat(L,je,qe)},Ie.nice=function(je){return Ui(L,je),Le()},Ie.copy=function(){return Ma(L,q,$,ne)},Le()}function Ri(L,q){return a.rebind(L,q,"range","rangeRound","interpolate","clamp")}function Ui(L,q){return So(L,Eo(ii(L,q)[2])),So(L,Eo(ii(L,q)[2])),L}function ii(L,q){q==null&&(q=10);var $=Ts(L),ne=$[1]-$[0],ce=Math.pow(10,Math.floor(Math.log(ne/q)/Math.LN10)),ye=q/ne*ce;return ye<=.15?ce*=10:ye<=.35?ce*=5:ye<=.75&&(ce*=2),$[0]=Math.ceil($[0]/ce)*ce,$[1]=Math.floor($[1]/ce)*ce+.5*ce,$[2]=ce,$}function Vi(L,q){return a.range.apply(a,ii(L,q))}function Ja(L,q,$,ne){function ce(Ie){return($?Math.log(Ie<0?0:Ie):-Math.log(Ie>0?0:-Ie))/Math.log(q)}function ye(Ie){return $?Math.pow(q,Ie):-Math.pow(q,-Ie)}function Le(Ie){return L(ce(Ie))}return Le.invert=function(Ie){return ye(L.invert(Ie))},Le.domain=function(Ie){return arguments.length?($=Ie[0]>=0,L.domain((ne=Ie.map(Number)).map(ce)),Le):ne},Le.base=function(Ie){return arguments.length?(q=+Ie,L.domain(ne.map(ce)),Le):q},Le.nice=function(){var Ie=So(ne.map(ce),$?Math:Xo);return L.domain(Ie),ne=Ie.map(ye),Le},Le.ticks=function(){var Ie=Ts(ne),je=[],qe=Ie[0],Qe=Ie[1],lt=Math.floor(ce(qe)),ft=Math.ceil(ce(Qe)),bt=q%1?2:q;if(isFinite(ft-lt)){if($){for(;lt<ft;lt++)for(var At=1;At<bt;At++)je.push(ye(lt)*At);je.push(ye(lt))}else for(je.push(ye(lt));lt++<ft;)for(At=bt-1;At>0;At--)je.push(ye(lt)*At);for(lt=0;je[lt]<qe;lt++);for(ft=je.length;je[ft-1]>Qe;ft--);je=je.slice(lt,ft)}return je},Le.copy=function(){return Ja(L.copy(),q,$,ne)},Ri(Le,L)}a.scale.linear=function(){return Ma([0,1],[0,1],io,!1)},a.scale.log=function(){return Ja(a.scale.linear().domain([0,1]),10,!0,[1,10])};var Xo={floor:function(L){return-Math.ceil(-L)},ceil:function(L){return-Math.floor(-L)}};function Na(L,q,$){var ne=Lo(q),ce=Lo(1/q);function ye(Le){return L(ne(Le))}return ye.invert=function(Le){return ce(L.invert(Le))},ye.domain=function(Le){return arguments.length?(L.domain(($=Le.map(Number)).map(ne)),ye):$},ye.ticks=function(Le){return Vi($,Le)},ye.tickFormat=function(Le,Ie){return d3_scale_linearTickFormat($,Le,Ie)},ye.nice=function(Le){return ye.domain(Ui($,Le))},ye.exponent=function(Le){return arguments.length?(ne=Lo(q=Le),ce=Lo(1/q),L.domain($.map(ne)),ye):q},ye.copy=function(){return Na(L.copy(),q,$)},Ri(ye,L)}function Lo(L){return function(q){return q<0?-Math.pow(-q,L):Math.pow(q,L)}}function aa(L,q){var $,ne,ce;function ye(Ie){return ne[(($.get(Ie)||(q.t==="range"?$.set(Ie,L.push(Ie)):NaN))-1)%ne.length]}function Le(Ie,je){return a.range(L.length).map(function(qe){return Ie+je*qe})}return ye.domain=function(Ie){if(!arguments.length)return L;L=[],$=new x;for(var je,qe=-1,Qe=Ie.length;++qe<Qe;)$.has(je=Ie[qe])||$.set(je,L.push(je));return ye[q.t].apply(ye,q.a)},ye.range=function(Ie){return arguments.length?(ne=Ie,ce=0,q={t:"range",a:arguments},ye):ne},ye.rangePoints=function(Ie,je){arguments.length<2&&(je=0);var qe=Ie[0],Qe=Ie[1],lt=L.length<2?(qe=(qe+Qe)/2,0):(Qe-qe)/(L.length-1+je);return ne=Le(qe+lt*je/2,lt),ce=0,q={t:"rangePoints",a:arguments},ye},ye.rangeRoundPoints=function(Ie,je){arguments.length<2&&(je=0);var qe=Ie[0],Qe=Ie[1],lt=L.length<2?(qe=Qe=Math.round((qe+Qe)/2),0):(Qe-qe)/(L.length-1+je)|0;return ne=Le(qe+Math.round(lt*je/2+(Qe-qe-(L.length-1+je)*lt)/2),lt),ce=0,q={t:"rangeRoundPoints",a:arguments},ye},ye.rangeBands=function(Ie,je,qe){arguments.length<2&&(je=0),arguments.length<3&&(qe=je);var Qe=Ie[1]<Ie[0],lt=Ie[Qe-0],ft=(Ie[1-Qe]-lt)/(L.length-je+2*qe);return ne=Le(lt+ft*qe,ft),Qe&&ne.reverse(),ce=ft*(1-je),q={t:"rangeBands",a:arguments},ye},ye.rangeRoundBands=function(Ie,je,qe){arguments.length<2&&(je=0),arguments.length<3&&(qe=je);var Qe=Ie[1]<Ie[0],lt=Ie[Qe-0],ft=Ie[1-Qe],bt=Math.floor((ft-lt)/(L.length-je+2*qe));return ne=Le(lt+Math.round((ft-lt-(L.length-je)*bt)/2),bt),Qe&&ne.reverse(),ce=Math.round(bt*(1-je)),q={t:"rangeRoundBands",a:arguments},ye},ye.rangeBand=function(){return ce},ye.rangeExtent=function(){return Ts(q.a[0])},ye.copy=function(){return aa(L,q)},ye.domain(L)}a.scale.pow=function(){return Na(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return aa([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Ko)},a.scale.category20=function(){return a.scale.ordinal().range(co)},a.scale.category20b=function(){return a.scale.ordinal().range(Sa)},a.scale.category20c=function(){return a.scale.ordinal().range(Ea)};var Ko=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Wt),co=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Wt),Sa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Wt),Ea=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Wt);function oi(L,q){var $;function ne(){var ye=0,Le=q.length;for($=[];++ye<Le;)$[ye-1]=a.quantile(L,ye/Le);return ce}function ce(ye){if(!isNaN(ye=+ye))return q[a.bisect($,ye)]}return ce.domain=function(ye){return arguments.length?(L=ye.map(d).filter(c).sort(u),ne()):L},ce.range=function(ye){return arguments.length?(q=ye,ne()):q},ce.quantiles=function(){return $},ce.invertExtent=function(ye){return(ye=q.indexOf(ye))<0?[NaN,NaN]:[ye>0?$[ye-1]:L[0],ye<$.length?$[ye]:L[L.length-1]]},ce.copy=function(){return oi(L,q)},ne()}function ja(L,q,$){var ne,ce;function ye(Ie){return $[Math.max(0,Math.min(ce,Math.floor(ne*(Ie-L))))]}function Le(){return ne=$.length/(q-L),ce=$.length-1,ye}return ye.domain=function(Ie){return arguments.length?(L=+Ie[0],q=+Ie[Ie.length-1],Le()):[L,q]},ye.range=function(Ie){return arguments.length?($=Ie,Le()):$},ye.invertExtent=function(Ie){return[Ie=(Ie=$.indexOf(Ie))<0?NaN:Ie/ne+L,Ie+1/ne]},ye.copy=function(){return ja(L,q,$)},Le()}function wr(L,q){function $(ne){if(ne<=ne)return q[a.bisect(L,ne)]}return $.domain=function(ne){return arguments.length?(L=ne,$):L},$.range=function(ne){return arguments.length?(q=ne,$):q},$.invertExtent=function(ne){return ne=q.indexOf(ne),[L[ne-1],L[ne]]},$.copy=function(){return wr(L,q)},$}function Ms(L){function q($){return+$}return q.invert=q,q.domain=q.range=function($){return arguments.length?(L=$.map(q),q):L},q.ticks=function($){return Vi(L,$)},q.tickFormat=function($,ne){return d3_scale_linearTickFormat(L,$,ne)},q.copy=function(){return Ms(L)},q}function el(){return 0}a.scale.quantile=function(){return oi([],[])},a.scale.quantize=function(){return ja(0,1,[0,1])},a.scale.threshold=function(){return wr([.5],[0,1])},a.scale.identity=function(){return Ms([0,1])},a.svg={},a.svg.arc=function(){var L=Po,q=Jo,$=el,ne=Co,ce=ls,ye=gr,Le=Ss;function Ie(){var qe=Math.max(0,+L.apply(this,arguments)),Qe=Math.max(0,+q.apply(this,arguments)),lt=ce.apply(this,arguments)-He,ft=ye.apply(this,arguments)-He,bt=Math.abs(ft-lt),At=lt>ft?0:1;if(Qe<qe&&(Tt=Qe,Qe=qe,qe=Tt),bt>=Lt)return je(Qe,At)+(qe?je(qe,1-At):"")+"Z";var Tt,Dt,Ct,Yt,Vt,Ft,cn,dn,Mn,Ln,Un,Qn,ur=0,Hn=0,sr=[];if((Yt=(+Le.apply(this,arguments)||0)/2)&&(Ct=ne===Co?Math.sqrt(qe*qe+Qe*Qe):+ne.apply(this,arguments),At||(Hn*=-1),Qe&&(Hn=Ge(Ct/Qe*Math.sin(Yt))),qe&&(ur=Ge(Ct/qe*Math.sin(Yt)))),Qe){Vt=Qe*Math.cos(lt+Hn),Ft=Qe*Math.sin(lt+Hn),cn=Qe*Math.cos(ft-Hn),dn=Qe*Math.sin(ft-Hn);var vr=Math.abs(ft-lt-2*Hn)<=Pt?0:1;if(Hn&&fo(Vt,Ft,cn,dn)===At^vr){var Ar=(lt+ft)/2;Vt=Qe*Math.cos(Ar),Ft=Qe*Math.sin(Ar),cn=dn=null}}else Vt=Ft=0;if(qe){Mn=qe*Math.cos(ft-ur),Ln=qe*Math.sin(ft-ur),Un=qe*Math.cos(lt+ur),Qn=qe*Math.sin(lt+ur);var Jn=Math.abs(lt-ft+2*ur)<=Pt?0:1;if(ur&&fo(Mn,Ln,Un,Qn)===1-At^Jn){var or=(lt+ft)/2;Mn=qe*Math.cos(or),Ln=qe*Math.sin(or),Un=Qn=null}}else Mn=Ln=0;if(bt>$e&&(Tt=Math.min(Math.abs(Qe-qe)/2,+$.apply(this,arguments)))>.001){Dt=qe<Qe^At?0:1;var xr=Tt,cr=Tt;if(bt<Pt){var Tr=Un==null?[Mn,Ln]:cn==null?[Vt,Ft]:Et([Vt,Ft],[Un,Qn],[cn,dn],[Mn,Ln]),Er=Vt-Tr[0],Dr=Ft-Tr[1],Rr=cn-Tr[0],Nr=dn-Tr[1],Vr=1/Math.sin(Math.acos((Er*Rr+Dr*Nr)/(Math.sqrt(Er*Er+Dr*Dr)*Math.sqrt(Rr*Rr+Nr*Nr)))/2),li=Math.sqrt(Tr[0]*Tr[0]+Tr[1]*Tr[1]);cr=Math.min(Tt,(qe-li)/(Vr-1)),xr=Math.min(Tt,(Qe-li)/(Vr+1))}if(cn!=null){var ki=Fi(Un==null?[Mn,Ln]:[Un,Qn],[Vt,Ft],Qe,xr,At),ea=Fi([cn,dn],[Mn,Ln],Qe,xr,At);Tt===xr?sr.push("M",ki[0],"A",xr,",",xr," 0 0,",Dt," ",ki[1],"A",Qe,",",Qe," 0 ",1-At^fo(ki[1][0],ki[1][1],ea[1][0],ea[1][1]),",",At," ",ea[1],"A",xr,",",xr," 0 0,",Dt," ",ea[0]):sr.push("M",ki[0],"A",xr,",",xr," 0 1,",Dt," ",ea[0])}else sr.push("M",Vt,",",Ft);if(Un!=null){var Bi=Fi([Vt,Ft],[Un,Qn],qe,-cr,At),Yi=Fi([Mn,Ln],cn==null?[Vt,Ft]:[cn,dn],qe,-cr,At);Tt===cr?sr.push("L",Yi[0],"A",cr,",",cr," 0 0,",Dt," ",Yi[1],"A",qe,",",qe," 0 ",At^fo(Yi[1][0],Yi[1][1],Bi[1][0],Bi[1][1]),",",1-At," ",Bi[1],"A",cr,",",cr," 0 0,",Dt," ",Bi[0]):sr.push("L",Yi[0],"A",cr,",",cr," 0 0,",Dt," ",Bi[0])}else sr.push("L",Mn,",",Ln)}else sr.push("M",Vt,",",Ft),cn!=null&&sr.push("A",Qe,",",Qe," 0 ",vr,",",At," ",cn,",",dn),sr.push("L",Mn,",",Ln),Un!=null&&sr.push("A",qe,",",qe," 0 ",Jn,",",1-At," ",Un,",",Qn);return sr.push("Z"),sr.join("")}function je(qe,Qe){return"M0,"+qe+"A"+qe+","+qe+" 0 1,"+Qe+" 0,"+-qe+"A"+qe+","+qe+" 0 1,"+Qe+" 0,"+qe}return Ie.innerRadius=function(qe){return arguments.length?(L=Nn(qe),Ie):L},Ie.outerRadius=function(qe){return arguments.length?(q=Nn(qe),Ie):q},Ie.cornerRadius=function(qe){return arguments.length?($=Nn(qe),Ie):$},Ie.padRadius=function(qe){return arguments.length?(ne=qe==Co?Co:Nn(qe),Ie):ne},Ie.startAngle=function(qe){return arguments.length?(ce=Nn(qe),Ie):ce},Ie.endAngle=function(qe){return arguments.length?(ye=Nn(qe),Ie):ye},Ie.padAngle=function(qe){return arguments.length?(Le=Nn(qe),Ie):Le},Ie.centroid=function(){var qe=(+L.apply(this,arguments)+ +q.apply(this,arguments))/2,Qe=(+ce.apply(this,arguments)+ +ye.apply(this,arguments))/2-He;return[Math.cos(Qe)*qe,Math.sin(Qe)*qe]},Ie};var Co="auto";function Po(L){return L.innerRadius}function Jo(L){return L.outerRadius}function ls(L){return L.startAngle}function gr(L){return L.endAngle}function Ss(L){return L&&L.padAngle}function fo(L,q,$,ne){return(L-$)*q-(q-ne)*L>0?0:1}function Fi(L,q,$,ne,ce){var ye=L[0]-q[0],Le=L[1]-q[1],Ie=(ce?ne:-ne)/Math.sqrt(ye*ye+Le*Le),je=Ie*Le,qe=-Ie*ye,Qe=L[0]+je,lt=L[1]+qe,ft=q[0]+je,bt=q[1]+qe,At=(Qe+ft)/2,Tt=(lt+bt)/2,Dt=ft-Qe,Ct=bt-lt,Yt=Dt*Dt+Ct*Ct,Vt=$-ne,Ft=Qe*bt-ft*lt,cn=(Ct<0?-1:1)*Math.sqrt(Math.max(0,Vt*Vt*Yt-Ft*Ft)),dn=(Ft*Ct-Dt*cn)/Yt,Mn=(-Ft*Dt-Ct*cn)/Yt,Ln=(Ft*Ct+Dt*cn)/Yt,Un=(-Ft*Dt+Ct*cn)/Yt,Qn=dn-At,ur=Mn-Tt,Hn=Ln-At,sr=Un-Tt;return Qn*Qn+ur*ur>Hn*Hn+sr*sr&&(dn=Ln,Mn=Un),[[dn-je,Mn-qe],[dn*$/Vt,Mn*$/Vt]]}function Oo(){return!0}function Ua(L){var q=jn,$=On,ne=Oo,ce=Qi,ye=ce.key,Le=.7;function Ie(je){var qe,Qe=[],lt=[],ft=-1,bt=je.length,At=Nn(q),Tt=Nn($);function Dt(){Qe.push("M",ce(L(lt),Le))}for(;++ft<bt;)ne.call(this,qe=je[ft],ft)?lt.push([+At.call(this,qe,ft),+Tt.call(this,qe,ft)]):lt.length&&(Dt(),lt=[]);return lt.length&&Dt(),Qe.length?Qe.join(""):null}return Ie.x=function(je){return arguments.length?(q=je,Ie):q},Ie.y=function(je){return arguments.length?($=je,Ie):$},Ie.defined=function(je){return arguments.length?(ne=je,Ie):ne},Ie.interpolate=function(je){return arguments.length?(ye=typeof je=="function"?ce=je:(ce=La.get(je)||Qi).key,Ie):ye},Ie.tension=function(je){return arguments.length?(Le=je,Ie):Le},Ie}a.svg.line=function(){return Ua(z)};var La=a.map({linear:Qi,"linear-closed":$a,step:function(L){for(var q=0,$=L.length,ne=L[0],ce=[ne[0],",",ne[1]];++q<$;)ce.push("H",(ne[0]+(ne=L[q])[0])/2,"V",ne[1]);return $>1&&ce.push("H",ne[0]),ce.join("")},"step-before":Ca,"step-after":ho,basis:qr,"basis-open":function(L){if(L.length<4)return Qi(L);for(var q,$=[],ne=-1,ce=L.length,ye=[0],Le=[0];++ne<3;)q=L[ne],ye.push(q[0]),Le.push(q[1]);for($.push(qi(sa,ye)+","+qi(sa,Le)),--ne;++ne<ce;)q=L[ne],ye.shift(),ye.push(q[0]),Le.shift(),Le.push(q[1]),us($,ye,Le);return $.join("")},"basis-closed":function(L){for(var q,$,ne=-1,ce=L.length,ye=ce+4,Le=[],Ie=[];++ne<4;)$=L[ne%ce],Le.push($[0]),Ie.push($[1]);for(q=[qi(sa,Le),",",qi(sa,Ie)],--ne;++ne<ye;)$=L[ne%ce],Le.shift(),Le.push($[0]),Ie.shift(),Ie.push($[1]),us(q,Le,Ie);return q.join("")},bundle:function(L,q){var $=L.length-1;if($)for(var ne,ce,ye=L[0][0],Le=L[0][1],Ie=L[$][0]-ye,je=L[$][1]-Le,qe=-1;++qe<=$;)ce=qe/$,(ne=L[qe])[0]=q*ne[0]+(1-q)*(ye+ce*Ie),ne[1]=q*ne[1]+(1-q)*(Le+ce*je);return qr(L)},cardinal:function(L,q){return L.length<3?Qi(L):L[0]+Es(L,Io(L,q))},"cardinal-open":function(L,q){return L.length<4?Qi(L):L[1]+Es(L.slice(1,-1),Io(L,q))},"cardinal-closed":function(L,q){return L.length<3?$a(L):L[0]+Es((L.push(L[0]),L),Io([L[L.length-2]].concat(L,[L[1]]),q))},monotone:function(L){return L.length<3?Qi(L):L[0]+Es(L,function(q){for(var $,ne,ce,ye,Le=[],Ie=function(Qe){for(var lt=0,ft=Qe.length-1,bt=[],At=Qe[0],Tt=Qe[1],Dt=bt[0]=cs(At,Tt);++lt<ft;)bt[lt]=(Dt+(Dt=cs(At=Tt,Tt=Qe[lt+1])))/2;return bt[lt]=Dt,bt}(q),je=-1,qe=q.length-1;++je<qe;)$=cs(q[je],q[je+1]),v($)<$e?Ie[je]=Ie[je+1]=0:(ye=(ne=Ie[je]/$)*ne+(ce=Ie[je+1]/$)*ce)>9&&(ye=3*$/Math.sqrt(ye),Ie[je]=ye*ne,Ie[je+1]=ye*ce);for(je=-1;++je<=qe;)ye=(q[Math.min(qe,je+1)][0]-q[Math.max(0,je-1)][0])/(6*(1+Ie[je]*Ie[je])),Le.push([ye||0,Ie[je]*ye||0]);return Le}(L))}});function Qi(L){return L.length>1?L.join("L"):L+"Z"}function $a(L){return L.join("L")+"Z"}function Ca(L){for(var q=0,$=L.length,ne=L[0],ce=[ne[0],",",ne[1]];++q<$;)ce.push("V",(ne=L[q])[1],"H",ne[0]);return ce.join("")}function ho(L){for(var q=0,$=L.length,ne=L[0],ce=[ne[0],",",ne[1]];++q<$;)ce.push("H",(ne=L[q])[0],"V",ne[1]);return ce.join("")}function Es(L,q){if(q.length<1||L.length!=q.length&&L.length!=q.length+2)return Qi(L);var $=L.length!=q.length,ne="",ce=L[0],ye=L[1],Le=q[0],Ie=Le,je=1;if($&&(ne+="Q"+(ye[0]-2*Le[0]/3)+","+(ye[1]-2*Le[1]/3)+","+ye[0]+","+ye[1],ce=L[1],je=2),q.length>1){Ie=q[1],ye=L[je],je++,ne+="C"+(ce[0]+Le[0])+","+(ce[1]+Le[1])+","+(ye[0]-Ie[0])+","+(ye[1]-Ie[1])+","+ye[0]+","+ye[1];for(var qe=2;qe<q.length;qe++,je++)ye=L[je],Ie=q[qe],ne+="S"+(ye[0]-Ie[0])+","+(ye[1]-Ie[1])+","+ye[0]+","+ye[1]}if($){var Qe=L[je];ne+="Q"+(ye[0]+2*Ie[0]/3)+","+(ye[1]+2*Ie[1]/3)+","+Qe[0]+","+Qe[1]}return ne}function Io(L,q){for(var $,ne=[],ce=(1-q)/2,ye=L[0],Le=L[1],Ie=1,je=L.length;++Ie<je;)$=ye,ye=Le,Le=L[Ie],ne.push([ce*(Le[0]-$[0]),ce*(Le[1]-$[1])]);return ne}function qr(L){if(L.length<3)return Qi(L);var q=1,$=L.length,ne=L[0],ce=ne[0],ye=ne[1],Le=[ce,ce,ce,(ne=L[1])[0]],Ie=[ye,ye,ye,ne[1]],je=[ce,",",ye,"L",qi(sa,Le),",",qi(sa,Ie)];for(L.push(L[$-1]);++q<=$;)ne=L[q],Le.shift(),Le.push(ne[0]),Ie.shift(),Ie.push(ne[1]),us(je,Le,Ie);return L.pop(),je.push("L",ne),je.join("")}function qi(L,q){return L[0]*q[0]+L[1]*q[1]+L[2]*q[2]+L[3]*q[3]}La.forEach(function(L,q){q.key=L,q.closed=/-closed$/.test(L)});var oa=[0,2/3,1/3,0],Qa=[0,1/3,2/3,0],sa=[0,1/6,2/3,1/6];function us(L,q,$){L.push("C",qi(oa,q),",",qi(oa,$),",",qi(Qa,q),",",qi(Qa,$),",",qi(sa,q),",",qi(sa,$))}function cs(L,q){return(q[1]-L[1])/(q[0]-L[0])}function la(L){for(var q,$,ne,ce=-1,ye=L.length;++ce<ye;)$=(q=L[ce])[0],ne=q[1]-He,q[0]=$*Math.cos(ne),q[1]=$*Math.sin(ne);return L}function Ur(L){var q=jn,$=jn,ne=0,ce=On,ye=Oo,Le=Qi,Ie=Le.key,je=Le,qe="L",Qe=.7;function lt(ft){var bt,At,Tt,Dt=[],Ct=[],Yt=[],Vt=-1,Ft=ft.length,cn=Nn(q),dn=Nn(ne),Mn=q===$?function(){return At}:Nn($),Ln=ne===ce?function(){return Tt}:Nn(ce);function Un(){Dt.push("M",Le(L(Yt),Qe),qe,je(L(Ct.reverse()),Qe),"Z")}for(;++Vt<Ft;)ye.call(this,bt=ft[Vt],Vt)?(Ct.push([At=+cn.call(this,bt,Vt),Tt=+dn.call(this,bt,Vt)]),Yt.push([+Mn.call(this,bt,Vt),+Ln.call(this,bt,Vt)])):Ct.length&&(Un(),Ct=[],Yt=[]);return Ct.length&&Un(),Dt.length?Dt.join(""):null}return lt.x=function(ft){return arguments.length?(q=$=ft,lt):$},lt.x0=function(ft){return arguments.length?(q=ft,lt):q},lt.x1=function(ft){return arguments.length?($=ft,lt):$},lt.y=function(ft){return arguments.length?(ne=ce=ft,lt):ce},lt.y0=function(ft){return arguments.length?(ne=ft,lt):ne},lt.y1=function(ft){return arguments.length?(ce=ft,lt):ce},lt.defined=function(ft){return arguments.length?(ye=ft,lt):ye},lt.interpolate=function(ft){return arguments.length?(Ie=typeof ft=="function"?Le=ft:(Le=La.get(ft)||Qi).key,je=Le.reverse||Le,qe=Le.closed?"M":"L",lt):Ie},lt.tension=function(ft){return arguments.length?(Qe=ft,lt):Qe},lt}function eo(L){return L.source}function $o(L){return L.target}function Va(L){return L.radius}function fs(L){return[L.x,L.y]}function hs(){return 64}function qa(){return"circle"}function si(L){var q=Math.sqrt(L/Pt);return"M0,"+q+"A"+q+","+q+" 0 1,1 0,"+-q+"A"+q+","+q+" 0 1,1 0,"+q+"Z"}a.svg.line.radial=function(){var L=Ua(la);return L.radius=L.x,delete L.x,L.angle=L.y,delete L.y,L},Ca.reverse=ho,ho.reverse=Ca,a.svg.area=function(){return Ur(z)},a.svg.area.radial=function(){var L=Ur(la);return L.radius=L.x,delete L.x,L.innerRadius=L.x0,delete L.x0,L.outerRadius=L.x1,delete L.x1,L.angle=L.y,delete L.y,L.startAngle=L.y0,delete L.y0,L.endAngle=L.y1,delete L.y1,L},a.svg.chord=function(){var L=eo,q=$o,$=Va,ne=ls,ce=gr;function ye(qe,Qe){var lt,ft,bt=Le(this,L,qe,Qe),At=Le(this,q,qe,Qe);return"M"+bt.p0+Ie(bt.r,bt.p1,bt.a1-bt.a0)+(ft=At,((lt=bt).a0==ft.a0&&lt.a1==ft.a1?je(bt.r,bt.p1,bt.r,bt.p0):je(bt.r,bt.p1,At.r,At.p0)+Ie(At.r,At.p1,At.a1-At.a0)+je(At.r,At.p1,bt.r,bt.p0))+"Z")}function Le(qe,Qe,lt,ft){var bt=Qe.call(qe,lt,ft),At=$.call(qe,bt,ft),Tt=ne.call(qe,bt,ft)-He,Dt=ce.call(qe,bt,ft)-He;return{r:At,a0:Tt,a1:Dt,p0:[At*Math.cos(Tt),At*Math.sin(Tt)],p1:[At*Math.cos(Dt),At*Math.sin(Dt)]}}function Ie(qe,Qe,lt){return"A"+qe+","+qe+" 0 "+ +(lt>Pt)+",1 "+Qe}function je(qe,Qe,lt,ft){return"Q 0,0 "+ft}return ye.radius=function(qe){return arguments.length?($=Nn(qe),ye):$},ye.source=function(qe){return arguments.length?(L=Nn(qe),ye):L},ye.target=function(qe){return arguments.length?(q=Nn(qe),ye):q},ye.startAngle=function(qe){return arguments.length?(ne=Nn(qe),ye):ne},ye.endAngle=function(qe){return arguments.length?(ce=Nn(qe),ye):ce},ye},a.svg.diagonal=function(){var L=eo,q=$o,$=fs;function ne(ce,ye){var Le=L.call(this,ce,ye),Ie=q.call(this,ce,ye),je=(Le.y+Ie.y)/2,qe=[Le,{x:Le.x,y:je},{x:Ie.x,y:je},Ie];return"M"+(qe=qe.map($))[0]+"C"+qe[1]+" "+qe[2]+" "+qe[3]}return ne.source=function(ce){return arguments.length?(L=Nn(ce),ne):L},ne.target=function(ce){return arguments.length?(q=Nn(ce),ne):q},ne.projection=function(ce){return arguments.length?($=ce,ne):$},ne},a.svg.diagonal.radial=function(){var L=a.svg.diagonal(),q=fs,$=L.projection;return L.projection=function(ne){return arguments.length?$(function(ce){return function(){var ye=ce.apply(this,arguments),Le=ye[0],Ie=ye[1]-He;return[Le*Math.cos(Ie),Le*Math.sin(Ie)]}}(q=ne)):q},L},a.svg.symbol=function(){var L=qa,q=hs;function $(ne,ce){return(Qo.get(L.call(this,ne,ce))||si)(q.call(this,ne,ce))}return $.type=function(ne){return arguments.length?(L=Nn(ne),$):L},$.size=function(ne){return arguments.length?(q=Nn(ne),$):q},$};var Qo=a.map({circle:si,cross:function(L){var q=Math.sqrt(L/5)/2;return"M"+-3*q+","+-q+"H"+-q+"V"+-3*q+"H"+q+"V"+-q+"H"+3*q+"V"+q+"H"+q+"V"+3*q+"H"+-q+"V"+q+"H"+-3*q+"Z"},diamond:function(L){var q=Math.sqrt(L/(2*Cr)),$=q*Cr;return"M0,"+-q+"L"+$+",0 0,"+q+" "+-$+",0Z"},square:function(L){var q=Math.sqrt(L)/2;return"M"+-q+","+-q+"L"+q+","+-q+" "+q+","+q+" "+-q+","+q+"Z"},"triangle-down":function(L){var q=Math.sqrt(L/kr),$=q*kr/2;return"M0,"+$+"L"+q+","+-$+" "+-q+","+-$+"Z"},"triangle-up":function(L){var q=Math.sqrt(L/kr),$=q*kr/2;return"M0,"+-$+"L"+q+","+$+" "+-q+","+$+"Z"}});a.svg.symbolTypes=Qo.keys();var kr=Math.sqrt(3),Cr=Math.tan(30*We);pe.transition=function(L){for(var q,$,ne=Ei||++pl,ce=hi(L),ye=[],Le=no||{time:Date.now(),ease:Za,delay:0,duration:250},Ie=-1,je=this.length;++Ie<je;){ye.push(q=[]);for(var qe=this[Ie],Qe=-1,lt=qe.length;++Qe<lt;)($=qe[Qe])&&da($,Qe,ce,ne,Le),q.push($)}return po(ye,ce,ne)},pe.interrupt=function(L){return this.each(L==null?_a:to(hi(L)))};var _a=to(hi());function to(L){return function(){var q,$,ne;(q=this[L])&&(ne=q[$=q.active])&&(ne.timer.c=null,ne.timer.t=NaN,--q.count?delete q[$]:delete this[L],q.active+=.5,ne.event&&ne.event.interrupt.call(this,this.__data__,ne.index))}}function po(L,q,$){return Q(L,$r),L.namespace=q,L.id=$,L}var Ei,no,$r=[],pl=0;function wa(L,q,$,ne){var ce=L.id,ye=L.namespace;return _e(L,typeof $=="function"?function(Le,Ie,je){Le[ye][ce].tween.set(q,ne($.call(Le,Le.__data__,Ie,je)))}:($=ne($),function(Le){Le[ye][ce].tween.set(q,$)}))}function ti(L){return L==null&&(L=""),function(){this.textContent=L}}function hi(L){return L==null?"__transition__":"__transition_"+L+"__"}function da(L,q,$,ne,ce){var ye,Le,Ie,je,qe,Qe=L[$]||(L[$]={active:0,count:0}),lt=Qe[ne];function ft(At){var Tt=Qe.active,Dt=Qe[Tt];for(var Ct in Dt&&(Dt.timer.c=null,Dt.timer.t=NaN,--Qe.count,delete Qe[Tt],Dt.event&&Dt.event.interrupt.call(L,L.__data__,Dt.index)),Qe)if(+Ct<ne){var Yt=Qe[Ct];Yt.timer.c=null,Yt.timer.t=NaN,--Qe.count,delete Qe[Ct]}Le.c=bt,Qt(function(){return Le.c&&bt(At||1)&&(Le.c=null,Le.t=NaN),1},0,ye),Qe.active=ne,lt.event&&lt.event.start.call(L,L.__data__,q),qe=[],lt.tween.forEach(function(Vt,Ft){(Ft=Ft.call(L,L.__data__,q))&&qe.push(Ft)}),je=lt.ease,Ie=lt.duration}function bt(At){for(var Tt=At/Ie,Dt=je(Tt),Ct=qe.length;Ct>0;)qe[--Ct].call(L,Dt);if(Tt>=1)return lt.event&&lt.event.end.call(L,L.__data__,q),--Qe.count?delete Qe[ne]:delete L[$],1}lt||(ye=ce.time,Le=Qt(function(At){var Tt=lt.delay;if(Le.t=Tt+ye,Tt<=At)return ft(At-Tt);Le.c=ft},0,ye),lt=Qe[ne]={tween:new x,time:ye,timer:Le,delay:ce.delay,duration:ce.duration,ease:ce.ease,index:q},ce=null,++Qe.count)}$r.call=pe.call,$r.empty=pe.empty,$r.node=pe.node,$r.size=pe.size,a.transition=function(L,q){return L&&L.transition?Ei?L.transition(q):L:a.selection().transition(L)},a.transition.prototype=$r,$r.select=function(L){var q,$,ne,ce=this.id,ye=this.namespace,Le=[];L=de(L);for(var Ie=-1,je=this.length;++Ie<je;){Le.push(q=[]);for(var qe=this[Ie],Qe=-1,lt=qe.length;++Qe<lt;)(ne=qe[Qe])&&($=L.call(ne,ne.__data__,Qe,Ie))?("__data__"in ne&&($.__data__=ne.__data__),da($,Qe,ye,ce,ne[ye][ce]),q.push($)):q.push(null)}return po(Le,ye,ce)},$r.selectAll=function(L){var q,$,ne,ce,ye,Le=this.id,Ie=this.namespace,je=[];L=ve(L);for(var qe=-1,Qe=this.length;++qe<Qe;)for(var lt=this[qe],ft=-1,bt=lt.length;++ft<bt;)if(ne=lt[ft]){ye=ne[Ie][Le],$=L.call(ne,ne.__data__,ft,qe),je.push(q=[]);for(var At=-1,Tt=$.length;++At<Tt;)(ce=$[At])&&da(ce,At,Ie,Le,ye),q.push(ce)}return po(je,Ie,Le)},$r.filter=function(L){var q,$,ne=[];typeof L!="function"&&(L=fe(L));for(var ce=0,ye=this.length;ce<ye;ce++){ne.push(q=[]);for(var Le,Ie=0,je=(Le=this[ce]).length;Ie<je;Ie++)($=Le[Ie])&&L.call($,$.__data__,Ie,ce)&&q.push($)}return po(ne,this.namespace,this.id)},$r.tween=function(L,q){var $=this.id,ne=this.namespace;return arguments.length<2?this.node()[ne][$].tween.get(L):_e(this,q==null?function(ce){ce[ne][$].tween.remove(L)}:function(ce){ce[ne][$].tween.set(L,q)})},$r.attr=function(L,q){if(arguments.length<2){for(q in L)this.attr(q,L[q]);return this}var $=L=="transform"?ul:io,ne=a.ns.qualify(L);function ce(){this.removeAttribute(ne)}function ye(){this.removeAttributeNS(ne.space,ne.local)}return wa(this,"attr."+L,q,ne.local?function(Le){return Le==null?ye:(Le+="",function(){var Ie,je=this.getAttributeNS(ne.space,ne.local);return je!==Le&&(Ie=$(je,Le),function(qe){this.setAttributeNS(ne.space,ne.local,Ie(qe))})})}:function(Le){return Le==null?ce:(Le+="",function(){var Ie,je=this.getAttribute(ne);return je!==Le&&(Ie=$(je,Le),function(qe){this.setAttribute(ne,Ie(qe))})})})},$r.attrTween=function(L,q){var $=a.ns.qualify(L);return this.tween("attr."+L,$.local?function(ne,ce){var ye=q.call(this,ne,ce,this.getAttributeNS($.space,$.local));return ye&&function(Le){this.setAttributeNS($.space,$.local,ye(Le))}}:function(ne,ce){var ye=q.call(this,ne,ce,this.getAttribute($));return ye&&function(Le){this.setAttribute($,ye(Le))}})},$r.style=function(L,q,$){var ne=arguments.length;if(ne<3){if(typeof L!="string"){for($ in ne<2&&(q=""),L)this.style($,L[$],q);return this}$=""}function ce(){this.style.removeProperty(L)}return wa(this,"style."+L,q,function(ye){return ye==null?ce:(ye+="",function(){var Le,Ie=t(this).getComputedStyle(this,null).getPropertyValue(L);return Ie!==ye&&(Le=io(Ie,ye),function(je){this.style.setProperty(L,Le(je),$)})})})},$r.styleTween=function(L,q,$){return arguments.length<3&&($=""),this.tween("style."+L,function(ne,ce){var ye=q.call(this,ne,ce,t(this).getComputedStyle(this,null).getPropertyValue(L));return ye&&function(Le){this.style.setProperty(L,ye(Le),$)}})},$r.text=function(L){return wa(this,"text",L,ti)},$r.remove=function(){var L=this.namespace;return this.each("end.transition",function(){var q;this[L].count<2&&(q=this.parentNode)&&q.removeChild(this)})},$r.ease=function(L){var q=this.id,$=this.namespace;return arguments.length<1?this.node()[$][q].ease:(typeof L!="function"&&(L=a.ease.apply(a,arguments)),_e(this,function(ne){ne[$][q].ease=L}))},$r.delay=function(L){var q=this.id,$=this.namespace;return arguments.length<1?this.node()[$][q].delay:_e(this,typeof L=="function"?function(ne,ce,ye){ne[$][q].delay=+L.call(ne,ne.__data__,ce,ye)}:(L=+L,function(ne){ne[$][q].delay=L}))},$r.duration=function(L){var q=this.id,$=this.namespace;return arguments.length<1?this.node()[$][q].duration:_e(this,typeof L=="function"?function(ne,ce,ye){ne[$][q].duration=Math.max(1,L.call(ne,ne.__data__,ce,ye))}:(L=Math.max(1,L),function(ne){ne[$][q].duration=L}))},$r.each=function(L,q){var $=this.id,ne=this.namespace;if(arguments.length<2){var ce=no,ye=Ei;try{Ei=$,_e(this,function(Le,Ie,je){no=Le[ne][$],L.call(Le,Le.__data__,Ie,je)})}finally{no=ce,Ei=ye}}else _e(this,function(Le){var Ie=Le[ne][$];(Ie.event||(Ie.event=a.dispatch("start","end","interrupt"))).on(L,q)});return this},$r.transition=function(){for(var L,q,$,ne=this.id,ce=++pl,ye=this.namespace,Le=[],Ie=0,je=this.length;Ie<je;Ie++){Le.push(L=[]);for(var qe,Qe=0,lt=(qe=this[Ie]).length;Qe<lt;Qe++)(q=qe[Qe])&&da(q,Qe,ye,ce,{time:($=q[ye][ne]).time,ease:$.ease,delay:$.delay+$.duration,duration:$.duration}),L.push(q)}return po(Le,ye,ce)},a.svg.axis=function(){var L,q=a.scale.linear(),$=zo,ne=6,ce=6,ye=3,Le=[10],Ie=null;function je(qe){qe.each(function(){var Qe,lt=a.select(this),ft=this.__chart__||q,bt=this.__chart__=q.copy(),At=Ie??(bt.ticks?bt.ticks.apply(bt,Le):bt.domain()),Tt=L??(bt.tickFormat?bt.tickFormat.apply(bt,Le):z),Dt=lt.selectAll(".tick").data(At,bt),Ct=Dt.enter().insert("g",".domain").attr("class","tick").style("opacity",$e),Yt=a.transition(Dt.exit()).style("opacity",$e).remove(),Vt=a.transition(Dt.order()).style("opacity",1),Ft=Math.max(ne,0)+ye,cn=ks(bt),dn=lt.selectAll(".domain").data([0]),Mn=(dn.enter().append("path").attr("class","domain"),a.transition(dn));Ct.append("line"),Ct.append("text");var Ln,Un,Qn,ur,Hn=Ct.select("line"),sr=Vt.select("line"),vr=Dt.select("text").text(Tt),Ar=Ct.select("text"),Jn=Vt.select("text"),or=$==="top"||$==="left"?-1:1;if($==="bottom"||$==="top"?(Qe=Ze,Ln="x",Qn="y",Un="x2",ur="y2",vr.attr("dy",or<0?"0em":".71em").style("text-anchor","middle"),Mn.attr("d","M"+cn[0]+","+or*ce+"V0H"+cn[1]+"V"+or*ce)):(Qe=Je,Ln="y",Qn="x",Un="y2",ur="x2",vr.attr("dy",".32em").style("text-anchor",or<0?"end":"start"),Mn.attr("d","M"+or*ce+","+cn[0]+"H0V"+cn[1]+"H"+or*ce)),Hn.attr(ur,or*ne),Ar.attr(Qn,or*Ft),sr.attr(Un,0).attr(ur,or*ne),Jn.attr(Ln,0).attr(Qn,or*Ft),bt.rangeBand){var xr=bt,cr=xr.rangeBand()/2;ft=bt=function(Tr){return xr(Tr)+cr}}else ft.rangeBand?ft=bt:Yt.call(Qe,bt,ft);Ct.call(Qe,ft,bt),Vt.call(Qe,bt,bt)})}return je.scale=function(qe){return arguments.length?(q=qe,je):q},je.orient=function(qe){return arguments.length?($=qe in tl?qe+"":zo,je):$},je.ticks=function(){return arguments.length?(Le=b(arguments),je):Le},je.tickValues=function(qe){return arguments.length?(Ie=qe,je):Ie},je.tickFormat=function(qe){return arguments.length?(L=qe,je):L},je.tickSize=function(qe){var Qe=arguments.length;return Qe?(ne=+qe,ce=+arguments[Qe-1],je):ne},je.innerTickSize=function(qe){return arguments.length?(ne=+qe,je):ne},je.outerTickSize=function(qe){return arguments.length?(ce=+qe,je):ce},je.tickPadding=function(qe){return arguments.length?(ye=+qe,je):ye},je.tickSubdivide=function(){return arguments.length&&je},je};var zo="bottom",tl={top:1,right:1,bottom:1,left:1};function Ze(L,q,$){L.attr("transform",function(ne){var ce=q(ne);return"translate("+(isFinite(ce)?ce:$(ne))+",0)"})}function Je(L,q,$){L.attr("transform",function(ne){var ce=q(ne);return"translate(0,"+(isFinite(ce)?ce:$(ne))+")"})}a.svg.brush=function(){var L,q,$=Z(Qe,"brushstart","brush","brushend"),ne=null,ce=null,ye=[0,0],Le=[0,0],Ie=!0,je=!0,qe=B[0];function Qe(Tt){Tt.each(function(){var Dt=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",At).on("touchstart.brush",At),Ct=Dt.selectAll(".background").data([0]);Ct.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Dt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Yt=Dt.selectAll(".resize").data(qe,z);Yt.exit().remove(),Yt.enter().append("g").attr("class",function(dn){return"resize "+dn}).style("cursor",function(dn){return ot[dn]}).append("rect").attr("x",function(dn){return/[ew]$/.test(dn)?-3:null}).attr("y",function(dn){return/^[ns]/.test(dn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Yt.style("display",Qe.empty()?"none":null);var Vt,Ft=a.transition(Dt),cn=a.transition(Ct);ne&&(Vt=ks(ne),cn.attr("x",Vt[0]).attr("width",Vt[1]-Vt[0]),ft(Ft)),ce&&(Vt=ks(ce),cn.attr("y",Vt[0]).attr("height",Vt[1]-Vt[0]),bt(Ft)),lt(Ft)})}function lt(Tt){Tt.selectAll(".resize").attr("transform",function(Dt){return"translate("+ye[+/e$/.test(Dt)]+","+Le[+/^s/.test(Dt)]+")"})}function ft(Tt){Tt.select(".extent").attr("x",ye[0]),Tt.selectAll(".extent,.n>rect,.s>rect").attr("width",ye[1]-ye[0])}function bt(Tt){Tt.select(".extent").attr("y",Le[0]),Tt.selectAll(".extent,.e>rect,.w>rect").attr("height",Le[1]-Le[0])}function At(){var Tt,Dt,Ct=this,Yt=a.select(a.event.target),Vt=$.of(Ct,arguments),Ft=a.select(Ct),cn=Yt.datum(),dn=!/^(n|s)$/.test(cn)&&ne,Mn=!/^(e|w)$/.test(cn)&&ce,Ln=Yt.classed("extent"),Un=pt(Ct),Qn=a.mouse(Ct),ur=a.select(t(Ct)).on("keydown.brush",function(){a.event.keyCode==32&&(Ln||(Tt=null,Qn[0]-=ye[1],Qn[1]-=Le[1],Ln=2),J())}).on("keyup.brush",function(){a.event.keyCode==32&&Ln==2&&(Qn[0]+=ye[1],Qn[1]+=Le[1],Ln=0,J())});if(a.event.changedTouches?ur.on("touchmove.brush",vr).on("touchend.brush",Jn):ur.on("mousemove.brush",vr).on("mouseup.brush",Jn),Ft.interrupt().selectAll("*").interrupt(),Ln)Qn[0]=ye[0]-Qn[0],Qn[1]=Le[0]-Qn[1];else if(cn){var Hn=+/w$/.test(cn),sr=+/^n/.test(cn);Dt=[ye[1-Hn]-Qn[0],Le[1-sr]-Qn[1]],Qn[0]=ye[Hn],Qn[1]=Le[sr]}else a.event.altKey&&(Tt=Qn.slice());function vr(){var or=a.mouse(Ct),xr=!1;Dt&&(or[0]+=Dt[0],or[1]+=Dt[1]),Ln||(a.event.altKey?(Tt||(Tt=[(ye[0]+ye[1])/2,(Le[0]+Le[1])/2]),Qn[0]=ye[+(or[0]<Tt[0])],Qn[1]=Le[+(or[1]<Tt[1])]):Tt=null),dn&&Ar(or,ne,0)&&(ft(Ft),xr=!0),Mn&&Ar(or,ce,1)&&(bt(Ft),xr=!0),xr&&(lt(Ft),Vt({type:"brush",mode:Ln?"move":"resize"}))}function Ar(or,xr,cr){var Tr,Er,Dr=ks(xr),Rr=Dr[0],Nr=Dr[1],Vr=Qn[cr],li=cr?Le:ye,ki=li[1]-li[0];if(Ln&&(Rr-=Vr,Nr-=ki+Vr),Tr=(cr?je:Ie)?Math.max(Rr,Math.min(Nr,or[cr])):or[cr],Ln?Er=(Tr+=Vr)+ki:(Tt&&(Vr=Math.max(Rr,Math.min(Nr,2*Tt[cr]-Tr))),Vr<Tr?(Er=Tr,Tr=Vr):Er=Vr),li[0]!=Tr||li[1]!=Er)return cr?q=null:L=null,li[0]=Tr,li[1]=Er,!0}function Jn(){vr(),Ft.style("pointer-events","all").selectAll(".resize").style("display",Qe.empty()?"none":null),a.select("body").style("cursor",null),ur.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Un(),Vt({type:"brushend"})}Ft.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Yt.style("cursor")),Vt({type:"brushstart"}),vr()}return Qe.event=function(Tt){Tt.each(function(){var Dt=$.of(this,arguments),Ct={x:ye,y:Le,i:L,j:q},Yt=this.__chart__||Ct;this.__chart__=Ct,Ei?a.select(this).transition().each("start.brush",function(){L=Yt.i,q=Yt.j,ye=Yt.x,Le=Yt.y,Dt({type:"brushstart"})}).tween("brush:brush",function(){var Vt=xo(ye,Ct.x),Ft=xo(Le,Ct.y);return L=q=null,function(cn){ye=Ct.x=Vt(cn),Le=Ct.y=Ft(cn),Dt({type:"brush",mode:"resize"})}}).each("end.brush",function(){L=Ct.i,q=Ct.j,Dt({type:"brush",mode:"resize"}),Dt({type:"brushend"})}):(Dt({type:"brushstart"}),Dt({type:"brush",mode:"resize"}),Dt({type:"brushend"}))})},Qe.x=function(Tt){return arguments.length?(qe=B[!(ne=Tt)<<1|!ce],Qe):ne},Qe.y=function(Tt){return arguments.length?(qe=B[!ne<<1|!(ce=Tt)],Qe):ce},Qe.clamp=function(Tt){return arguments.length?(ne&&ce?(Ie=!!Tt[0],je=!!Tt[1]):ne?Ie=!!Tt:ce&&(je=!!Tt),Qe):ne&&ce?[Ie,je]:ne?Ie:ce?je:null},Qe.extent=function(Tt){var Dt,Ct,Yt,Vt,Ft;return arguments.length?(ne&&(Dt=Tt[0],Ct=Tt[1],ce&&(Dt=Dt[0],Ct=Ct[0]),L=[Dt,Ct],ne.invert&&(Dt=ne(Dt),Ct=ne(Ct)),Ct<Dt&&(Ft=Dt,Dt=Ct,Ct=Ft),Dt==ye[0]&&Ct==ye[1]||(ye=[Dt,Ct])),ce&&(Yt=Tt[0],Vt=Tt[1],ne&&(Yt=Yt[1],Vt=Vt[1]),q=[Yt,Vt],ce.invert&&(Yt=ce(Yt),Vt=ce(Vt)),Vt<Yt&&(Ft=Yt,Yt=Vt,Vt=Ft),Yt==Le[0]&&Vt==Le[1]||(Le=[Yt,Vt])),Qe):(ne&&(L?(Dt=L[0],Ct=L[1]):(Dt=ye[0],Ct=ye[1],ne.invert&&(Dt=ne.invert(Dt),Ct=ne.invert(Ct)),Ct<Dt&&(Ft=Dt,Dt=Ct,Ct=Ft))),ce&&(q?(Yt=q[0],Vt=q[1]):(Yt=Le[0],Vt=Le[1],ce.invert&&(Yt=ce.invert(Yt),Vt=ce.invert(Vt)),Vt<Yt&&(Ft=Yt,Yt=Vt,Vt=Ft))),ne&&ce?[[Dt,Yt],[Ct,Vt]]:ne?[Dt,Ct]:ce&&[Yt,Vt])},Qe.clear=function(){return Qe.empty()||(ye=[0,0],Le=[0,0],L=q=null),Qe},Qe.empty=function(){return!!ne&&ye[0]==ye[1]||!!ce&&Le[0]==Le[1]},a.rebind(Qe,$,"on")};var ot={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},B=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function G(L){return JSON.parse(L.responseText)}function H(L){var q=g.createRange();return q.selectNode(g.body),q.createContextualFragment(L.responseText)}a.text=zn(function(L){return L.responseText}),a.json=function(L,q){return er(L,"application/json",G,q)},a.html=function(L,q){return er(L,"text/html",H,q)},a.xml=zn(function(L){return L.responseXML}),(k=typeof(M=a)=="function"?M.call(D,e,D,ee):M)===void 0||(ee.exports=k)}).apply(self)},3480:function(ee){ee.exports=function(){var D,e,M;function k(a,T){if(D)if(e){var b="var sharedChunk = {}; ("+D+")(sharedChunk); ("+e+")(sharedChunk);",g={};D(g),M=T(g),typeof window<"u"&&(M.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}else e=T;else D=T}return k(0,function(a){function T(A,I){return A(I={exports:{}},I.exports),I.exports}var b="1.13.4",g=s;function s(A,I,Y,se){this.cx=3*A,this.bx=3*(Y-A)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(se-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=A,this.p1y=se,this.p2x=Y,this.p2y=se}s.prototype.sampleCurveX=function(A){return((this.ax*A+this.bx)*A+this.cx)*A},s.prototype.sampleCurveY=function(A){return((this.ay*A+this.by)*A+this.cy)*A},s.prototype.sampleCurveDerivativeX=function(A){return(3*this.ax*A+2*this.bx)*A+this.cx},s.prototype.solveCurveX=function(A,I){var Y,se,Ae,Ce,Ne;for(I===void 0&&(I=1e-6),Ae=A,Ne=0;Ne<8;Ne++){if(Ce=this.sampleCurveX(Ae)-A,Math.abs(Ce)<I)return Ae;var Ke=this.sampleCurveDerivativeX(Ae);if(Math.abs(Ke)<1e-6)break;Ae-=Ce/Ke}if((Ae=A)<(Y=0))return Y;if(Ae>(se=1))return se;for(;Y<se;){if(Ce=this.sampleCurveX(Ae),Math.abs(Ce-A)<I)return Ae;A>Ce?Y=Ae:se=Ae,Ae=.5*(se-Y)+Y}return Ae},s.prototype.solve=function(A,I){return this.sampleCurveY(this.solveCurveX(A,I))};var t=i;function i(A,I){this.x=A,this.y=I}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(A){return this.clone()._add(A)},sub:function(A){return this.clone()._sub(A)},multByPoint:function(A){return this.clone()._multByPoint(A)},divByPoint:function(A){return this.clone()._divByPoint(A)},mult:function(A){return this.clone()._mult(A)},div:function(A){return this.clone()._div(A)},rotate:function(A){return this.clone()._rotate(A)},rotateAround:function(A,I){return this.clone()._rotateAround(A,I)},matMult:function(A){return this.clone()._matMult(A)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(A){return this.x===A.x&&this.y===A.y},dist:function(A){return Math.sqrt(this.distSqr(A))},distSqr:function(A){var I=A.x-this.x,Y=A.y-this.y;return I*I+Y*Y},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(A){return Math.atan2(this.y-A.y,this.x-A.x)},angleWith:function(A){return this.angleWithSep(A.x,A.y)},angleWithSep:function(A,I){return Math.atan2(this.x*I-this.y*A,this.x*A+this.y*I)},_matMult:function(A){var I=A[0]*this.x+A[1]*this.y,Y=A[2]*this.x+A[3]*this.y;return this.x=I,this.y=Y,this},_add:function(A){return this.x+=A.x,this.y+=A.y,this},_sub:function(A){return this.x-=A.x,this.y-=A.y,this},_mult:function(A){return this.x*=A,this.y*=A,this},_div:function(A){return this.x/=A,this.y/=A,this},_multByPoint:function(A){return this.x*=A.x,this.y*=A.y,this},_divByPoint:function(A){return this.x/=A.x,this.y/=A.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var A=this.y;return this.y=this.x,this.x=-A,this},_rotate:function(A){var I=Math.cos(A),Y=Math.sin(A),se=I*this.x-Y*this.y,Ae=Y*this.x+I*this.y;return this.x=se,this.y=Ae,this},_rotateAround:function(A,I){var Y=Math.cos(A),se=Math.sin(A),Ae=I.x+Y*(this.x-I.x)-se*(this.y-I.y),Ce=I.y+se*(this.x-I.x)+Y*(this.y-I.y);return this.x=Ae,this.y=Ce,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(A){return A instanceof i?A:Array.isArray(A)?new i(A[0],A[1]):A};var r=typeof self<"u"?self:{},n=Math.pow(2,53)-1;function o(A,I,Y,se){var Ae=new g(A,I,Y,se);return function(Ce){return Ae.solve(Ce)}}var l=o(.25,.1,.25,1);function u(A,I,Y){return Math.min(Y,Math.max(I,A))}function d(A,I,Y){var se=Y-I,Ae=((A-I)%se+se)%se+I;return Ae===I?Y:Ae}function c(A){for(var I=[],Y=arguments.length-1;Y-- >0;)I[Y]=arguments[Y+1];for(var se=0,Ae=I;se<Ae.length;se+=1){var Ce=Ae[se];for(var Ne in Ce)A[Ne]=Ce[Ne]}return A}var m=1;function f(){return m++}function p(){return function A(I){return I?(I^16*Math.random()>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,A)}()}function v(A){return!!A&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(A)}function y(A,I){A.forEach(function(Y){I[Y]&&(I[Y]=I[Y].bind(I))})}function x(A,I){return A.indexOf(I,A.length-I.length)!==-1}function _(A,I,Y){var se={};for(var Ae in A)se[Ae]=I.call(Y||this,A[Ae],Ae,A);return se}function h(A,I,Y){var se={};for(var Ae in A)I.call(Y||this,A[Ae],Ae,A)&&(se[Ae]=A[Ae]);return se}function S(A){return Array.isArray(A)?A.map(S):typeof A=="object"&&A?_(A,S):A}var w={};function E(A){w[A]||(typeof console<"u"&&console.warn(A),w[A]=!0)}function C(A,I,Y){return(Y.y-A.y)*(I.x-A.x)>(I.y-A.y)*(Y.x-A.x)}function P(A){for(var I=0,Y=0,se=A.length,Ae=se-1,Ce=void 0,Ne=void 0;Y<se;Ae=Y++)Ce=A[Y],I+=((Ne=A[Ae]).x-Ce.x)*(Ce.y+Ne.y);return I}function O(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function R(A){var I={};if(A.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(se,Ae,Ce,Ne){var Ke=Ce||Ne;return I[Ae]=!Ke||Ke.toLowerCase(),""}),I["max-age"]){var Y=parseInt(I["max-age"],10);isNaN(Y)?delete I["max-age"]:I["max-age"]=Y}return I}var U=null;function z(A){if(U==null){var I=A.navigator?A.navigator.userAgent:null;U=!!A.safari||!(!I||!(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return U}function N(A){try{var I=r[A];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}var W,F,V,j,te=r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date),J=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame,K=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame,Z={now:te,frame:function(A){var I=J(A);return{cancel:function(){return K(I)}}},getImageData:function(A,I){I===void 0&&(I=0);var Y=r.document.createElement("canvas"),se=Y.getContext("2d");if(!se)throw new Error("failed to create canvas 2d context");return Y.width=A.width,Y.height=A.height,se.drawImage(A,0,0,A.width,A.height),se.getImageData(-I,-I,A.width+2*I,A.height+2*I)},resolveURL:function(A){return W||(W=r.document.createElement("a")),W.href=A,W.href},hardwareConcurrency:r.navigator&&r.navigator.hardwareConcurrency||4,get devicePixelRatio(){return r.devicePixelRatio},get prefersReducedMotion(){return!!r.matchMedia&&(F==null&&(F=r.matchMedia("(prefers-reduced-motion: reduce)")),F.matches)}},X={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Q={supported:!1,testSupport:function(A){!re&&j&&(ae?ie(A):V=A)}},re=!1,ae=!1;function ie(A){var I=A.createTexture();A.bindTexture(A.TEXTURE_2D,I);try{if(A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,j),A.isContextLost())return;Q.supported=!0}catch{}A.deleteTexture(I),re=!0}r.document&&((j=r.document.createElement("img")).onload=function(){V&&ie(V),V=null,ae=!0},j.onerror=function(){re=!0,V=null},j.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var le="01",pe=function(A,I){this._transformRequestFn=A,this._customAccessToken=I,this._createSkuToken()};function de(A){return A.indexOf("mapbox:")===0}pe.prototype._createSkuToken=function(){var A=function(){for(var I="",Y=0;Y<10;Y++)I+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",le,I].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=A.token,this._skuTokenExpiresAt=A.tokenExpiresAt},pe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},pe.prototype.transformRequest=function(A,I){return this._transformRequestFn&&this._transformRequestFn(A,I)||{url:A}},pe.prototype.normalizeStyleURL=function(A,I){if(!de(A))return A;var Y=ge(A);return Y.path="/styles/v1"+Y.path,this._makeAPIURL(Y,this._customAccessToken||I)},pe.prototype.normalizeGlyphsURL=function(A,I){if(!de(A))return A;var Y=ge(A);return Y.path="/fonts/v1"+Y.path,this._makeAPIURL(Y,this._customAccessToken||I)},pe.prototype.normalizeSourceURL=function(A,I){if(!de(A))return A;var Y=ge(A);return Y.path="/v4/"+Y.authority+".json",Y.params.push("secure"),this._makeAPIURL(Y,this._customAccessToken||I)},pe.prototype.normalizeSpriteURL=function(A,I,Y,se){var Ae=ge(A);return de(A)?(Ae.path="/styles/v1"+Ae.path+"/sprite"+I+Y,this._makeAPIURL(Ae,this._customAccessToken||se)):(Ae.path+=""+I+Y,ke(Ae))},pe.prototype.normalizeTileURL=function(A,I){if(this._isSkuTokenExpired()&&this._createSkuToken(),A&&!de(A))return A;var Y=ge(A),se=Z.devicePixelRatio>=2||I===512?"@2x":"",Ae=Q.supported?".webp":"$1";Y.path=Y.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+se+Ae),Y.path=Y.path.replace(/^.+\/v4\//,"/"),Y.path="/v4"+Y.path;var Ce=this._customAccessToken||function(Ne){for(var Ke=0,st=Ne;Ke<st.length;Ke+=1){var yt=st[Ke].match(/^access_token=(.*)$/);if(yt)return yt[1]}return null}(Y.params)||X.ACCESS_TOKEN;return X.REQUIRE_ACCESS_TOKEN&&Ce&&this._skuToken&&Y.params.push("sku="+this._skuToken),this._makeAPIURL(Y,Ce)},pe.prototype.canonicalizeTileURL=function(A,I){var Y=ge(A);if(!Y.path.match(/(^\/v4\/)/)||!Y.path.match(/\.[\w]+$/))return A;var se="mapbox://tiles/";se+=Y.path.replace("/v4/","");var Ae=Y.params;return I&&(Ae=Ae.filter(function(Ce){return!Ce.match(/^access_token=/)})),Ae.length&&(se+="?"+Ae.join("&")),se},pe.prototype.canonicalizeTileset=function(A,I){for(var Y=!!I&&de(I),se=[],Ae=0,Ce=A.tiles||[];Ae<Ce.length;Ae+=1){var Ne=Ce[Ae];be(Ne)?se.push(this.canonicalizeTileURL(Ne,Y)):se.push(Ne)}return se},pe.prototype._makeAPIURL=function(A,I){var Y="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",se=ge(X.API_URL);if(A.protocol=se.protocol,A.authority=se.authority,A.protocol==="http"){var Ae=A.params.indexOf("secure");Ae>=0&&A.params.splice(Ae,1)}if(se.path!=="/"&&(A.path=""+se.path+A.path),!X.REQUIRE_ACCESS_TOKEN)return ke(A);if(!(I=I||X.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+Y);if(I[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+Y);return A.params=A.params.filter(function(Ce){return Ce.indexOf("access_token")===-1}),A.params.push("access_token="+I),ke(A)};var ve=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function be(A){return ve.test(A)}var me=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ge(A){var I=A.match(me);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function ke(A){var I=A.params.length?"?"+A.params.join("&"):"";return A.protocol+"://"+A.authority+A.path+I}var we="mapbox.eventData";function ue(A){if(!A)return null;var I,Y=A.split(".");if(!Y||Y.length!==3)return null;try{return JSON.parse((I=Y[1],decodeURIComponent(r.atob(I).split("").map(function(se){return"%"+("00"+se.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var oe=function(A){this.type=A,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};oe.prototype.getStorageKey=function(A){var I,Y,se=ue(X.ACCESS_TOKEN);return I=se&&se.u?(Y=se.u,r.btoa(encodeURIComponent(Y).replace(/%([0-9A-F]{2})/g,function(Ae,Ce){return String.fromCharCode(+("0x"+Ce))}))):X.ACCESS_TOKEN||"",A?we+"."+A+":"+I:we+":"+I},oe.prototype.fetchEventData=function(){var A=N("localStorage"),I=this.getStorageKey(),Y=this.getStorageKey("uuid");if(A)try{var se=r.localStorage.getItem(I);se&&(this.eventData=JSON.parse(se));var Ae=r.localStorage.getItem(Y);Ae&&(this.anonId=Ae)}catch{E("Unable to read from LocalStorage")}},oe.prototype.saveEventData=function(){var A=N("localStorage"),I=this.getStorageKey(),Y=this.getStorageKey("uuid");if(A)try{r.localStorage.setItem(Y,this.anonId),Object.keys(this.eventData).length>=1&&r.localStorage.setItem(I,JSON.stringify(this.eventData))}catch{E("Unable to write to LocalStorage")}},oe.prototype.processRequests=function(A){},oe.prototype.postEvent=function(A,I,Y,se){var Ae=this;if(X.EVENTS_URL){var Ce=ge(X.EVENTS_URL);Ce.params.push("access_token="+(se||X.ACCESS_TOKEN||""));var Ne={event:this.type,created:new Date(A).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:le,userId:this.anonId},Ke=I?c(Ne,I):Ne,st={url:ke(Ce),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Ke])};this.pendingRequest=Lt(st,function(yt){Ae.pendingRequest=null,Y(yt),Ae.saveEventData(),Ae.processRequests(se)})}},oe.prototype.queueRequest=function(A,I){this.queue.push(A),this.processRequests(I)};var he,Ee,Te=function(A){function I(){A.call(this,"map.load"),this.success={},this.skuToken=""}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(Y,se,Ae,Ce){this.skuToken=Ae,(X.EVENTS_URL&&Ce||X.ACCESS_TOKEN&&Array.isArray(Y)&&Y.some(function(Ne){return de(Ne)||be(Ne)}))&&this.queueRequest({id:se,timestamp:Date.now()},Ce)},I.prototype.processRequests=function(Y){var se=this;if(!this.pendingRequest&&this.queue.length!==0){var Ae=this.queue.shift(),Ce=Ae.id,Ne=Ae.timestamp;Ce&&this.success[Ce]||(this.anonId||this.fetchEventData(),v(this.anonId)||(this.anonId=p()),this.postEvent(Ne,{skuToken:this.skuToken},function(Ke){Ke||Ce&&(se.success[Ce]=!0)},Y))}},I}(oe),Me=function(A){function I(Y){A.call(this,"appUserTurnstile"),this._customAccessToken=Y}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(Y,se){X.EVENTS_URL&&X.ACCESS_TOKEN&&Array.isArray(Y)&&Y.some(function(Ae){return de(Ae)||be(Ae)})&&this.queueRequest(Date.now(),se)},I.prototype.processRequests=function(Y){var se=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Ae=ue(X.ACCESS_TOKEN),Ce=Ae?Ae.u:X.ACCESS_TOKEN,Ne=Ce!==this.eventData.tokenU;v(this.anonId)||(this.anonId=p(),Ne=!0);var Ke=this.queue.shift();if(this.eventData.lastSuccess){var st=new Date(this.eventData.lastSuccess),yt=new Date(Ke),wt=(Ke-this.eventData.lastSuccess)/864e5;Ne=Ne||wt>=1||wt<-1||st.getDate()!==yt.getDate()}else Ne=!0;if(!Ne)return this.processRequests();this.postEvent(Ke,{"enabled.telemetry":!1},function(zt){zt||(se.eventData.lastSuccess=Ke,se.eventData.tokenU=Ce)},Y)}},I}(oe),Se=new Me,ze=Se.postTurnstileEvent.bind(Se),fe=new Te,xe=fe.postMapLoadEvent.bind(fe),_e="mapbox-tiles",Oe=500,De=50,Pe=42e4;function Ue(){r.caches&&!he&&(he=r.caches.open(_e))}function Ve(A,I,Y){if(Ue(),he){var se={status:I.status,statusText:I.statusText,headers:new r.Headers};I.headers.forEach(function(Ce,Ne){return se.headers.set(Ne,Ce)});var Ae=R(I.headers.get("Cache-Control")||"");Ae["no-store"]||(Ae["max-age"]&&se.headers.set("Expires",new Date(Y+1e3*Ae["max-age"]).toUTCString()),new Date(se.headers.get("Expires")).getTime()-Y<Pe||function(Ce,Ne){if(Ee===void 0)try{new Response(new ReadableStream),Ee=!0}catch{Ee=!1}Ee?Ne(Ce.body):Ce.blob().then(Ne)}(I,function(Ce){var Ne=new r.Response(Ce,se);Ue(),he&&he.then(function(Ke){return Ke.put(Xe(A.url),Ne)}).catch(function(Ke){return E(Ke.message)})}))}}function Xe(A){var I=A.indexOf("?");return I<0?A:A.slice(0,I)}function it(A,I){if(Ue(),!he)return I(null);var Y=Xe(A.url);he.then(function(se){se.match(Y).then(function(Ae){var Ce=function(Ne){if(!Ne)return!1;var Ke=new Date(Ne.headers.get("Expires")||0),st=R(Ne.headers.get("Cache-Control")||"");return Ke>Date.now()&&!st["no-cache"]}(Ae);se.delete(Y),Ce&&se.put(Y,Ae.clone()),I(null,Ae,Ce)}).catch(I)}).catch(I)}var tt,pt=1/0;function mt(){return tt==null&&(tt=r.OffscreenCanvas&&new r.OffscreenCanvas(1,1).getContext("2d")&&typeof r.createImageBitmap=="function"),tt}var gt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(gt);var et=function(A){function I(Y,se,Ae){se===401&&be(Ae)&&(Y+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),A.call(this,Y),this.status=se,this.url=Ae,this.name=this.constructor.name,this.message=Y}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),$e=O()?function(){return self.worker&&self.worker.referrer}:function(){return(r.location.protocol==="blob:"?r.parent:r).location.href};function _t(A,I){var Y,se=new r.AbortController,Ae=new r.Request(A.url,{method:A.method||"GET",body:A.body,credentials:A.credentials,headers:A.headers,referrer:$e(),signal:se.signal}),Ce=!1,Ne=!1,Ke=(Y=Ae.url).indexOf("sku=")>0&&be(Y);A.type==="json"&&Ae.headers.set("Accept","application/json");var st=function(wt,zt,Ut){if(!Ne){if(wt&&wt.message!=="SecurityError"&&E(wt),zt&&Ut)return yt(zt);var Rt=Date.now();r.fetch(Ae).then(function(tn){if(tn.ok){var an=Ke?tn.clone():null;return yt(tn,an,Rt)}return I(new et(tn.statusText,tn.status,A.url))}).catch(function(tn){tn.code!==20&&I(new Error(tn.message))})}},yt=function(wt,zt,Ut){(A.type==="arrayBuffer"?wt.arrayBuffer():A.type==="json"?wt.json():wt.text()).then(function(Rt){Ne||(zt&&Ut&&Ve(Ae,zt,Ut),Ce=!0,I(null,Rt,wt.headers.get("Cache-Control"),wt.headers.get("Expires")))}).catch(function(Rt){Ne||I(new Error(Rt.message))})};return Ke?it(Ae,st):st(null,null),{cancel:function(){Ne=!0,Ce||se.abort()}}}var Pt=function(A,I){if(Y=A.url,!(/^file:/.test(Y)||/^file:/.test($e())&&!/^\w+:/.test(Y))){if(r.fetch&&r.Request&&r.AbortController&&r.Request.prototype.hasOwnProperty("signal"))return _t(A,I);if(O()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",A,I,void 0,!0)}var Y;return function(se,Ae){var Ce=new r.XMLHttpRequest;for(var Ne in Ce.open(se.method||"GET",se.url,!0),se.type==="arrayBuffer"&&(Ce.responseType="arraybuffer"),se.headers)Ce.setRequestHeader(Ne,se.headers[Ne]);return se.type==="json"&&(Ce.responseType="text",Ce.setRequestHeader("Accept","application/json")),Ce.withCredentials=se.credentials==="include",Ce.onerror=function(){Ae(new Error(Ce.statusText))},Ce.onload=function(){if((Ce.status>=200&&Ce.status<300||Ce.status===0)&&Ce.response!==null){var Ke=Ce.response;if(se.type==="json")try{Ke=JSON.parse(Ce.response)}catch(st){return Ae(st)}Ae(null,Ke,Ce.getResponseHeader("Cache-Control"),Ce.getResponseHeader("Expires"))}else Ae(new et(Ce.statusText,Ce.status,se.url))},Ce.send(se.body),{cancel:function(){return Ce.abort()}}}(A,I)},Ot=function(A,I){return Pt(c(A,{type:"arrayBuffer"}),I)},Lt=function(A,I){return Pt(c(A,{method:"POST"}),I)},He,We,Be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";He=[],We=0;var Ge=function(A,I){if(Q.supported&&(A.headers||(A.headers={}),A.headers.accept="image/webp,*/*"),We>=X.MAX_PARALLEL_IMAGE_REQUESTS){var Y={requestParameters:A,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return He.push(Y),Y}We++;var se=!1,Ae=function(){if(!se)for(se=!0,We--;He.length&&We<X.MAX_PARALLEL_IMAGE_REQUESTS;){var Ne=He.shift(),Ke=Ne.requestParameters,st=Ne.callback;Ne.cancelled||(Ne.cancel=Ge(Ke,st).cancel)}},Ce=Ot(A,function(Ne,Ke,st,yt){Ae(),Ne?I(Ne):Ke&&(mt()?function(wt,zt){var Ut=new r.Blob([new Uint8Array(wt)],{type:"image/png"});r.createImageBitmap(Ut).then(function(Rt){zt(null,Rt)}).catch(function(Rt){zt(new Error("Could not load image because of "+Rt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(Ke,I):function(wt,zt,Ut,Rt){var tn=new r.Image,an=r.URL;tn.onload=function(){zt(null,tn),an.revokeObjectURL(tn.src),tn.onload=null,r.requestAnimationFrame(function(){tn.src=Be})},tn.onerror=function(){return zt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var bn=new r.Blob([new Uint8Array(wt)],{type:"image/png"});tn.cacheControl=Ut,tn.expires=Rt,tn.src=wt.byteLength?an.createObjectURL(bn):Be}(Ke,I,st,yt))});return{cancel:function(){Ce.cancel(),Ae()}}};function at(A,I,Y){Y[A]&&Y[A].indexOf(I)!==-1||(Y[A]=Y[A]||[],Y[A].push(I))}function nt(A,I,Y){if(Y&&Y[A]){var se=Y[A].indexOf(I);se!==-1&&Y[A].splice(se,1)}}var Re=function(A,I){I===void 0&&(I={}),c(this,I),this.type=A},Fe=function(A){function I(Y,se){se===void 0&&(se={}),A.call(this,"error",c({error:Y},se))}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}(Re),rt=function(){};rt.prototype.on=function(A,I){return this._listeners=this._listeners||{},at(A,I,this._listeners),this},rt.prototype.off=function(A,I){return nt(A,I,this._listeners),nt(A,I,this._oneTimeListeners),this},rt.prototype.once=function(A,I){return this._oneTimeListeners=this._oneTimeListeners||{},at(A,I,this._oneTimeListeners),this},rt.prototype.fire=function(A,I){typeof A=="string"&&(A=new Re(A,I||{}));var Y=A.type;if(this.listens(Y)){A.target=this;for(var se=0,Ae=this._listeners&&this._listeners[Y]?this._listeners[Y].slice():[];se<Ae.length;se+=1)Ae[se].call(this,A);for(var Ce=0,Ne=this._oneTimeListeners&&this._oneTimeListeners[Y]?this._oneTimeListeners[Y].slice():[];Ce<Ne.length;Ce+=1){var Ke=Ne[Ce];nt(Y,Ke,this._oneTimeListeners),Ke.call(this,A)}var st=this._eventedParent;st&&(c(A,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),st.fire(A))}else A instanceof Fe&&console.error(A.error);return this},rt.prototype.listens=function(A){return this._listeners&&this._listeners[A]&&this._listeners[A].length>0||this._oneTimeListeners&&this._oneTimeListeners[A]&&this._oneTimeListeners[A].length>0||this._eventedParent&&this._eventedParent.listens(A)},rt.prototype.setEventedParent=function(A,I){return this._eventedParent=A,this._eventedParentData=I,this};var Ye={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ct=function(A,I,Y,se){this.message=(A?A+": ":"")+Y,se&&(this.identifier=se),I!=null&&I.__line__&&(this.line=I.__line__)};function ht(A){var I=A.key,Y=A.value;return Y?[new ct(I,Y,"constants have been deprecated as of v8")]:[]}function dt(A){for(var I=[],Y=arguments.length-1;Y-- >0;)I[Y]=arguments[Y+1];for(var se=0,Ae=I;se<Ae.length;se+=1){var Ce=Ae[se];for(var Ne in Ce)A[Ne]=Ce[Ne]}return A}function ut(A){return A instanceof Number||A instanceof String||A instanceof Boolean?A.valueOf():A}function kt(A){if(Array.isArray(A))return A.map(kt);if(A instanceof Object&&!(A instanceof Number||A instanceof String||A instanceof Boolean)){var I={};for(var Y in A)I[Y]=kt(A[Y]);return I}return ut(A)}var xt=function(A){function I(Y,se){A.call(this,se),this.message=se,this.key=Y}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}(Error),vt=function(A,I){I===void 0&&(I=[]),this.parent=A,this.bindings={};for(var Y=0,se=I;Y<se.length;Y+=1){var Ae=se[Y],Ce=Ae[0],Ne=Ae[1];this.bindings[Ce]=Ne}};vt.prototype.concat=function(A){return new vt(this,A)},vt.prototype.get=function(A){if(this.bindings[A])return this.bindings[A];if(this.parent)return this.parent.get(A);throw new Error(A+" not found in scope.")},vt.prototype.has=function(A){return!!this.bindings[A]||!!this.parent&&this.parent.has(A)};var Mt={kind:"null"},St={kind:"number"},It={kind:"string"},Gt={kind:"boolean"},en={kind:"color"},Nt={kind:"object"},jt={kind:"value"},Jt={kind:"collator"},An={kind:"formatted"},_n={kind:"resolvedImage"};function un(A,I){return{kind:"array",itemType:A,N:I}}function Wt(A){if(A.kind==="array"){var I=Wt(A.itemType);return typeof A.N=="number"?"array<"+I+", "+A.N+">":A.itemType.kind==="value"?"array":"array<"+I+">"}return A.kind}var rn=[Mt,St,It,Gt,en,An,Nt,un(jt),_n];function $t(A,I){if(I.kind==="error")return null;if(A.kind==="array"){if(I.kind==="array"&&(I.N===0&&I.itemType.kind==="value"||!$t(A.itemType,I.itemType))&&(typeof A.N!="number"||A.N===I.N))return null}else{if(A.kind===I.kind)return null;if(A.kind==="value"){for(var Y=0,se=rn;Y<se.length;Y+=1)if(!$t(se[Y],I))return null}}return"Expected "+Wt(A)+" but found "+Wt(I)+" instead."}function sn(A,I){return I.some(function(Y){return Y.kind===A.kind})}function xn(A,I){return I.some(function(Y){return Y==="null"?A===null:Y==="array"?Array.isArray(A):Y==="object"?A&&!Array.isArray(A)&&typeof A=="object":Y===typeof A})}var wn=T(function(A,I){var Y={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function se(st){return(st=Math.round(st))<0?0:st>255?255:st}function Ae(st){return st<0?0:st>1?1:st}function Ce(st){return st[st.length-1]==="%"?se(parseFloat(st)/100*255):se(parseInt(st))}function Ne(st){return st[st.length-1]==="%"?Ae(parseFloat(st)/100):Ae(parseFloat(st))}function Ke(st,yt,wt){return wt<0?wt+=1:wt>1&&(wt-=1),6*wt<1?st+(yt-st)*wt*6:2*wt<1?yt:3*wt<2?st+(yt-st)*(2/3-wt)*6:st}try{I.parseCSSColor=function(st){var yt,wt=st.replace(/ /g,"").toLowerCase();if(wt in Y)return Y[wt].slice();if(wt[0]==="#")return wt.length===4?(yt=parseInt(wt.substr(1),16))>=0&&yt<=4095?[(3840&yt)>>4|(3840&yt)>>8,240&yt|(240&yt)>>4,15&yt|(15&yt)<<4,1]:null:wt.length===7&&(yt=parseInt(wt.substr(1),16))>=0&&yt<=16777215?[(16711680&yt)>>16,(65280&yt)>>8,255&yt,1]:null;var zt=wt.indexOf("("),Ut=wt.indexOf(")");if(zt!==-1&&Ut+1===wt.length){var Rt=wt.substr(0,zt),tn=wt.substr(zt+1,Ut-(zt+1)).split(","),an=1;switch(Rt){case"rgba":if(tn.length!==4)return null;an=Ne(tn.pop());case"rgb":return tn.length!==3?null:[Ce(tn[0]),Ce(tn[1]),Ce(tn[2]),an];case"hsla":if(tn.length!==4)return null;an=Ne(tn.pop());case"hsl":if(tn.length!==3)return null;var bn=(parseFloat(tn[0])%360+360)%360/360,mn=Ne(tn[1]),In=Ne(tn[2]),Rn=In<=.5?In*(mn+1):In+mn-In*mn,qn=2*In-Rn;return[se(255*Ke(qn,Rn,bn+1/3)),se(255*Ke(qn,Rn,bn)),se(255*Ke(qn,Rn,bn-1/3)),an];default:return null}}return null}}catch{}}),Pn=wn.parseCSSColor,Cn=function(A,I,Y,se){se===void 0&&(se=1),this.r=A,this.g=I,this.b=Y,this.a=se};Cn.parse=function(A){if(A){if(A instanceof Cn)return A;if(typeof A=="string"){var I=Pn(A);if(I)return new Cn(I[0]/255*I[3],I[1]/255*I[3],I[2]/255*I[3],I[3])}}},Cn.prototype.toString=function(){var A=this.toArray(),I=A[0],Y=A[1],se=A[2],Ae=A[3];return"rgba("+Math.round(I)+","+Math.round(Y)+","+Math.round(se)+","+Ae+")"},Cn.prototype.toArray=function(){var A=this,I=A.r,Y=A.g,se=A.b,Ae=A.a;return Ae===0?[0,0,0,0]:[255*I/Ae,255*Y/Ae,255*se/Ae,Ae]},Cn.black=new Cn(0,0,0,1),Cn.white=new Cn(1,1,1,1),Cn.transparent=new Cn(0,0,0,0),Cn.red=new Cn(1,0,0,1);var Sn=function(A,I,Y){this.sensitivity=A?I?"variant":"case":I?"accent":"base",this.locale=Y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Sn.prototype.compare=function(A,I){return this.collator.compare(A,I)},Sn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Nn=function(A,I,Y,se,Ae){this.text=A,this.image=I,this.scale=Y,this.fontStack=se,this.textColor=Ae},zn=function(A){this.sections=A};zn.fromString=function(A){return new zn([new Nn(A,null,null,null,null)])},zn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(A){return A.text.length!==0||A.image&&A.image.name.length!==0})},zn.factory=function(A){return A instanceof zn?A:zn.fromString(A)},zn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(A){return A.text}).join("")},zn.prototype.serialize=function(){for(var A=["format"],I=0,Y=this.sections;I<Y.length;I+=1){var se=Y[I];if(se.image)A.push(["image",se.image.name]);else{A.push(se.text);var Ae={};se.fontStack&&(Ae["text-font"]=["literal",se.fontStack.split(",")]),se.scale&&(Ae["font-scale"]=se.scale),se.textColor&&(Ae["text-color"]=["rgba"].concat(se.textColor.toArray())),A.push(Ae)}}return A};var er=function(A){this.name=A.name,this.available=A.available};function nr(A,I,Y,se){return typeof A=="number"&&A>=0&&A<=255&&typeof I=="number"&&I>=0&&I<=255&&typeof Y=="number"&&Y>=0&&Y<=255?se===void 0||typeof se=="number"&&se>=0&&se<=1?null:"Invalid rgba value ["+[A,I,Y,se].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof se=="number"?[A,I,Y,se]:[A,I,Y]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ir(A){if(A===null||typeof A=="string"||typeof A=="boolean"||typeof A=="number"||A instanceof Cn||A instanceof Sn||A instanceof zn||A instanceof er)return!0;if(Array.isArray(A)){for(var I=0,Y=A;I<Y.length;I+=1)if(!ir(Y[I]))return!1;return!0}if(typeof A=="object"){for(var se in A)if(!ir(A[se]))return!1;return!0}return!1}function Yn(A){if(A===null)return Mt;if(typeof A=="string")return It;if(typeof A=="boolean")return Gt;if(typeof A=="number")return St;if(A instanceof Cn)return en;if(A instanceof Sn)return Jt;if(A instanceof zn)return An;if(A instanceof er)return _n;if(Array.isArray(A)){for(var I,Y=A.length,se=0,Ae=A;se<Ae.length;se+=1){var Ce=Yn(Ae[se]);if(I){if(I===Ce)continue;I=jt;break}I=Ce}return un(I||jt,Y)}return Nt}function mr(A){var I=typeof A;return A===null?"":I==="string"||I==="number"||I==="boolean"?String(A):A instanceof Cn||A instanceof zn||A instanceof er?A.toString():JSON.stringify(A)}er.prototype.toString=function(){return this.name},er.fromString=function(A){return A?new er({name:A,available:!1}):null},er.prototype.serialize=function(){return["image",this.name]};var Bt=function(A,I){this.type=A,this.value=I};Bt.parse=function(A,I){if(A.length!==2)return I.error("'literal' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if(!ir(A[1]))return I.error("invalid value");var Y=A[1],se=Yn(Y),Ae=I.expectedType;return se.kind!=="array"||se.N!==0||!Ae||Ae.kind!=="array"||typeof Ae.N=="number"&&Ae.N!==0||(se=Ae),new Bt(se,Y)},Bt.prototype.evaluate=function(){return this.value},Bt.prototype.eachChild=function(){},Bt.prototype.outputDefined=function(){return!0},Bt.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Cn?["rgba"].concat(this.value.toArray()):this.value instanceof zn?this.value.serialize():this.value};var Qt=function(A){this.name="ExpressionEvaluationError",this.message=A};Qt.prototype.toJSON=function(){return this.message};var vn={string:It,number:St,boolean:Gt,object:Nt},fn=function(A,I){this.type=A,this.args=I};fn.parse=function(A,I){if(A.length<2)return I.error("Expected at least one argument.");var Y,se=1,Ae=A[0];if(Ae==="array"){var Ce,Ne;if(A.length>2){var Ke=A[1];if(typeof Ke!="string"||!(Ke in vn)||Ke==="object")return I.error('The item type argument of "array" must be one of string, number, boolean',1);Ce=vn[Ke],se++}else Ce=jt;if(A.length>3){if(A[2]!==null&&(typeof A[2]!="number"||A[2]<0||A[2]!==Math.floor(A[2])))return I.error('The length argument to "array" must be a positive integer literal',2);Ne=A[2],se++}Y=un(Ce,Ne)}else Y=vn[Ae];for(var st=[];se<A.length;se++){var yt=I.parse(A[se],se,jt);if(!yt)return null;st.push(yt)}return new fn(Y,st)},fn.prototype.evaluate=function(A){for(var I=0;I<this.args.length;I++){var Y=this.args[I].evaluate(A);if(!$t(this.type,Yn(Y)))return Y;if(I===this.args.length-1)throw new Qt("Expected value to be of type "+Wt(this.type)+", but found "+Wt(Yn(Y))+" instead.")}return null},fn.prototype.eachChild=function(A){this.args.forEach(A)},fn.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},fn.prototype.serialize=function(){var A=this.type,I=[A.kind];if(A.kind==="array"){var Y=A.itemType;if(Y.kind==="string"||Y.kind==="number"||Y.kind==="boolean"){I.push(Y.kind);var se=A.N;(typeof se=="number"||this.args.length>1)&&I.push(se)}}return I.concat(this.args.map(function(Ae){return Ae.serialize()}))};var Tn=function(A){this.type=An,this.sections=A};Tn.parse=function(A,I){if(A.length<2)return I.error("Expected at least one argument.");var Y=A[1];if(!Array.isArray(Y)&&typeof Y=="object")return I.error("First argument must be an image or text section.");for(var se=[],Ae=!1,Ce=1;Ce<=A.length-1;++Ce){var Ne=A[Ce];if(Ae&&typeof Ne=="object"&&!Array.isArray(Ne)){Ae=!1;var Ke=null;if(Ne["font-scale"]&&!(Ke=I.parse(Ne["font-scale"],1,St)))return null;var st=null;if(Ne["text-font"]&&!(st=I.parse(Ne["text-font"],1,un(It))))return null;var yt=null;if(Ne["text-color"]&&!(yt=I.parse(Ne["text-color"],1,en)))return null;var wt=se[se.length-1];wt.scale=Ke,wt.font=st,wt.textColor=yt}else{var zt=I.parse(A[Ce],1,jt);if(!zt)return null;var Ut=zt.type.kind;if(Ut!=="string"&&Ut!=="value"&&Ut!=="null"&&Ut!=="resolvedImage")return I.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ae=!0,se.push({content:zt,scale:null,font:null,textColor:null})}}return new Tn(se)},Tn.prototype.evaluate=function(A){return new zn(this.sections.map(function(I){var Y=I.content.evaluate(A);return Yn(Y)===_n?new Nn("",Y,null,null,null):new Nn(mr(Y),null,I.scale?I.scale.evaluate(A):null,I.font?I.font.evaluate(A).join(","):null,I.textColor?I.textColor.evaluate(A):null)}))},Tn.prototype.eachChild=function(A){for(var I=0,Y=this.sections;I<Y.length;I+=1){var se=Y[I];A(se.content),se.scale&&A(se.scale),se.font&&A(se.font),se.textColor&&A(se.textColor)}},Tn.prototype.outputDefined=function(){return!1},Tn.prototype.serialize=function(){for(var A=["format"],I=0,Y=this.sections;I<Y.length;I+=1){var se=Y[I];A.push(se.content.serialize());var Ae={};se.scale&&(Ae["font-scale"]=se.scale.serialize()),se.font&&(Ae["text-font"]=se.font.serialize()),se.textColor&&(Ae["text-color"]=se.textColor.serialize()),A.push(Ae)}return A};var jn=function(A){this.type=_n,this.input=A};jn.parse=function(A,I){if(A.length!==2)return I.error("Expected two arguments.");var Y=I.parse(A[1],1,It);return Y?new jn(Y):I.error("No image name provided.")},jn.prototype.evaluate=function(A){var I=this.input.evaluate(A),Y=er.fromString(I);return Y&&A.availableImages&&(Y.available=A.availableImages.indexOf(I)>-1),Y},jn.prototype.eachChild=function(A){A(this.input)},jn.prototype.outputDefined=function(){return!1},jn.prototype.serialize=function(){return["image",this.input.serialize()]};var On={"to-boolean":Gt,"to-color":en,"to-number":St,"to-string":It},Dn=function(A,I){this.type=A,this.args=I};Dn.parse=function(A,I){if(A.length<2)return I.error("Expected at least one argument.");var Y=A[0];if((Y==="to-boolean"||Y==="to-string")&&A.length!==2)return I.error("Expected one argument.");for(var se=On[Y],Ae=[],Ce=1;Ce<A.length;Ce++){var Ne=I.parse(A[Ce],Ce,jt);if(!Ne)return null;Ae.push(Ne)}return new Dn(se,Ae)},Dn.prototype.evaluate=function(A){if(this.type.kind==="boolean")return!!this.args[0].evaluate(A);if(this.type.kind==="color"){for(var I,Y,se=0,Ae=this.args;se<Ae.length;se+=1){if(Y=null,(I=Ae[se].evaluate(A))instanceof Cn)return I;if(typeof I=="string"){var Ce=A.parseColor(I);if(Ce)return Ce}else if(Array.isArray(I)&&!(Y=I.length<3||I.length>4?"Invalid rbga value "+JSON.stringify(I)+": expected an array containing either three or four numeric values.":nr(I[0],I[1],I[2],I[3])))return new Cn(I[0]/255,I[1]/255,I[2]/255,I[3])}throw new Qt(Y||"Could not parse color from value '"+(typeof I=="string"?I:String(JSON.stringify(I)))+"'")}if(this.type.kind==="number"){for(var Ne=null,Ke=0,st=this.args;Ke<st.length;Ke+=1){if((Ne=st[Ke].evaluate(A))===null)return 0;var yt=Number(Ne);if(!isNaN(yt))return yt}throw new Qt("Could not convert "+JSON.stringify(Ne)+" to number.")}return this.type.kind==="formatted"?zn.fromString(mr(this.args[0].evaluate(A))):this.type.kind==="resolvedImage"?er.fromString(mr(this.args[0].evaluate(A))):mr(this.args[0].evaluate(A))},Dn.prototype.eachChild=function(A){this.args.forEach(A)},Dn.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},Dn.prototype.serialize=function(){if(this.type.kind==="formatted")return new Tn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new jn(this.args[0]).serialize();var A=["to-"+this.type.kind];return this.eachChild(function(I){A.push(I.serialize())}),A};var $n=["Unknown","Point","LineString","Polygon"],qt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};qt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},qt.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?$n[this.feature.type]:this.feature.type:null},qt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},qt.prototype.canonicalID=function(){return this.canonical},qt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},qt.prototype.parseColor=function(A){var I=this._parseColorCache[A];return I||(I=this._parseColorCache[A]=Cn.parse(A)),I};var hn=function(A,I,Y,se){this.name=A,this.type=I,this._evaluate=Y,this.args=se};hn.prototype.evaluate=function(A){return this._evaluate(A,this.args)},hn.prototype.eachChild=function(A){this.args.forEach(A)},hn.prototype.outputDefined=function(){return!1},hn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(A){return A.serialize()}))},hn.parse=function(A,I){var Y,se=A[0],Ae=hn.definitions[se];if(!Ae)return I.error('Unknown expression "'+se+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ce=Array.isArray(Ae)?Ae[0]:Ae.type,Ne=Array.isArray(Ae)?[[Ae[1],Ae[2]]]:Ae.overloads,Ke=Ne.filter(function(zr){var Sr=zr[0];return!Array.isArray(Sr)||Sr.length===A.length-1}),st=null,yt=0,wt=Ke;yt<wt.length;yt+=1){var zt=wt[yt],Ut=zt[0],Rt=zt[1];st=new lr(I.registry,I.path,null,I.scope);for(var tn=[],an=!1,bn=1;bn<A.length;bn++){var mn=A[bn],In=Array.isArray(Ut)?Ut[bn-1]:Ut.type,Rn=st.parse(mn,1+tn.length,In);if(!Rn){an=!0;break}tn.push(Rn)}if(!an)if(Array.isArray(Ut)&&Ut.length!==tn.length)st.error("Expected "+Ut.length+" arguments, but found "+tn.length+" instead.");else{for(var qn=0;qn<tn.length;qn++){var Gn=Array.isArray(Ut)?Ut[qn]:Ut.type,rr=tn[qn];st.concat(qn+1).checkSubtype(Gn,rr.type)}if(st.errors.length===0)return new hn(se,Ce,Rt,tn)}}if(Ke.length===1)(Y=I.errors).push.apply(Y,st.errors);else{for(var dr=(Ke.length?Ke:Ne).map(function(zr){return Sr=zr[0],Array.isArray(Sr)?"("+Sr.map(Wt).join(", ")+")":"("+Wt(Sr.type)+"...)";var Sr}).join(" | "),hr=[],yr=1;yr<A.length;yr++){var br=I.parse(A[yr],1+hr.length);if(!br)return null;hr.push(Wt(br.type))}I.error("Expected arguments of type "+dr+", but found ("+hr.join(", ")+") instead.")}return null},hn.register=function(A,I){for(var Y in hn.definitions=I,I)A[Y]=hn};var Et=function(A,I,Y){this.type=Jt,this.locale=Y,this.caseSensitive=A,this.diacriticSensitive=I};Et.parse=function(A,I){if(A.length!==2)return I.error("Expected one argument.");var Y=A[1];if(typeof Y!="object"||Array.isArray(Y))return I.error("Collator options argument must be an object.");var se=I.parse(Y["case-sensitive"]!==void 0&&Y["case-sensitive"],1,Gt);if(!se)return null;var Ae=I.parse(Y["diacritic-sensitive"]!==void 0&&Y["diacritic-sensitive"],1,Gt);if(!Ae)return null;var Ce=null;return Y.locale&&!(Ce=I.parse(Y.locale,1,It))?null:new Et(se,Ae,Ce)},Et.prototype.evaluate=function(A){return new Sn(this.caseSensitive.evaluate(A),this.diacriticSensitive.evaluate(A),this.locale?this.locale.evaluate(A):null)},Et.prototype.eachChild=function(A){A(this.caseSensitive),A(this.diacriticSensitive),this.locale&&A(this.locale)},Et.prototype.outputDefined=function(){return!1},Et.prototype.serialize=function(){var A={};return A["case-sensitive"]=this.caseSensitive.serialize(),A["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(A.locale=this.locale.serialize()),["collator",A]};var Ht=8192;function Kt(A,I){A[0]=Math.min(A[0],I[0]),A[1]=Math.min(A[1],I[1]),A[2]=Math.max(A[2],I[0]),A[3]=Math.max(A[3],I[1])}function gn(A,I){return!(A[0]<=I[0]||A[2]>=I[2]||A[1]<=I[1]||A[3]>=I[3])}function pn(A,I){var Y,se=(180+A[0])/360,Ae=(Y=A[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Y*Math.PI/360)))/360),Ce=Math.pow(2,I.z);return[Math.round(se*Ce*Ht),Math.round(Ae*Ce*Ht)]}function yn(A,I,Y){return I[1]>A[1]!=Y[1]>A[1]&&A[0]<(Y[0]-I[0])*(A[1]-I[1])/(Y[1]-I[1])+I[0]}function on(A,I){for(var Y=!1,se=0,Ae=I.length;se<Ae;se++)for(var Ce=I[se],Ne=0,Ke=Ce.length;Ne<Ke-1;Ne++){if(st=A,yt=Ce[Ne],wt=Ce[Ne+1],zt=void 0,Ut=void 0,Rt=void 0,tn=void 0,zt=st[0]-yt[0],Ut=st[1]-yt[1],Rt=st[0]-wt[0],tn=st[1]-wt[1],zt*tn-Rt*Ut==0&&zt*Rt<=0&&Ut*tn<=0)return!1;yn(A,Ce[Ne],Ce[Ne+1])&&(Y=!Y)}var st,yt,wt,zt,Ut,Rt,tn;return Y}function Zt(A,I){for(var Y=0;Y<I.length;Y++)if(on(A,I[Y]))return!0;return!1}function Xt(A,I,Y,se){var Ae=A[0]-Y[0],Ce=A[1]-Y[1],Ne=I[0]-Y[0],Ke=I[1]-Y[1],st=se[0]-Y[0],yt=se[1]-Y[1],wt=Ae*yt-st*Ce,zt=Ne*yt-st*Ke;return wt>0&&zt<0||wt<0&&zt>0}function nn(A,I,Y){for(var se=0,Ae=Y;se<Ae.length;se+=1)for(var Ce=Ae[se],Ne=0;Ne<Ce.length-1;++Ne)if(Ke=A,st=I,yt=Ce[Ne],wt=Ce[Ne+1],zt=void 0,Ut=void 0,Rt=void 0,Rt=[st[0]-Ke[0],st[1]-Ke[1]],zt=[wt[0]-yt[0],wt[1]-yt[1]],Ut=Rt,zt[0]*Ut[1]-zt[1]*Ut[0]!=0&&Xt(Ke,st,yt,wt)&&Xt(yt,wt,Ke,st))return!0;var Ke,st,yt,wt,zt,Ut,Rt;return!1}function ln(A,I){for(var Y=0;Y<A.length;++Y)if(!on(A[Y],I))return!1;for(var se=0;se<A.length-1;++se)if(nn(A[se],A[se+1],I))return!1;return!0}function kn(A,I){for(var Y=0;Y<I.length;Y++)if(ln(A,I[Y]))return!0;return!1}function En(A,I,Y){for(var se=[],Ae=0;Ae<A.length;Ae++){for(var Ce=[],Ne=0;Ne<A[Ae].length;Ne++){var Ke=pn(A[Ae][Ne],Y);Kt(I,Ke),Ce.push(Ke)}se.push(Ce)}return se}function Fn(A,I,Y){for(var se=[],Ae=0;Ae<A.length;Ae++){var Ce=En(A[Ae],I,Y);se.push(Ce)}return se}function Bn(A,I,Y,se){if(A[0]<Y[0]||A[0]>Y[2]){var Ae=.5*se,Ce=A[0]-Y[0]>Ae?-se:Y[0]-A[0]>Ae?se:0;Ce===0&&(Ce=A[0]-Y[2]>Ae?-se:Y[2]-A[0]>Ae?se:0),A[0]+=Ce}Kt(I,A)}function Zn(A,I,Y,se){for(var Ae=Math.pow(2,se.z)*Ht,Ce=[se.x*Ht,se.y*Ht],Ne=[],Ke=0,st=A;Ke<st.length;Ke+=1)for(var yt=0,wt=st[Ke];yt<wt.length;yt+=1){var zt=wt[yt],Ut=[zt.x+Ce[0],zt.y+Ce[1]];Bn(Ut,I,Y,Ae),Ne.push(Ut)}return Ne}function Vn(A,I,Y,se){for(var Ae=Math.pow(2,se.z)*Ht,Ce=[se.x*Ht,se.y*Ht],Ne=[],Ke=0,st=A;Ke<st.length;Ke+=1){for(var yt=[],wt=0,zt=st[Ke];wt<zt.length;wt+=1){var Ut=zt[wt],Rt=[Ut.x+Ce[0],Ut.y+Ce[1]];Kt(I,Rt),yt.push(Rt)}Ne.push(yt)}if(I[2]-I[0]<=Ae/2){(In=I)[0]=In[1]=1/0,In[2]=In[3]=-1/0;for(var tn=0,an=Ne;tn<an.length;tn+=1)for(var bn=0,mn=an[tn];bn<mn.length;bn+=1)Bn(mn[bn],I,Y,Ae)}var In;return Ne}var Xn=function(A,I){this.type=Gt,this.geojson=A,this.geometries=I};function Kn(A){if(A instanceof hn&&(A.name==="get"&&A.args.length===1||A.name==="feature-state"||A.name==="has"&&A.args.length===1||A.name==="properties"||A.name==="geometry-type"||A.name==="id"||/^filter-/.test(A.name))||A instanceof Xn)return!1;var I=!0;return A.eachChild(function(Y){I&&!Kn(Y)&&(I=!1)}),I}function Wn(A){if(A instanceof hn&&A.name==="feature-state")return!1;var I=!0;return A.eachChild(function(Y){I&&!Wn(Y)&&(I=!1)}),I}function fr(A,I){if(A instanceof hn&&I.indexOf(A.name)>=0)return!1;var Y=!0;return A.eachChild(function(se){Y&&!fr(se,I)&&(Y=!1)}),Y}Xn.parse=function(A,I){if(A.length!==2)return I.error("'within' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if(ir(A[1])){var Y=A[1];if(Y.type==="FeatureCollection")for(var se=0;se<Y.features.length;++se){var Ae=Y.features[se].geometry.type;if(Ae==="Polygon"||Ae==="MultiPolygon")return new Xn(Y,Y.features[se].geometry)}else if(Y.type==="Feature"){var Ce=Y.geometry.type;if(Ce==="Polygon"||Ce==="MultiPolygon")return new Xn(Y,Y.geometry)}else if(Y.type==="Polygon"||Y.type==="MultiPolygon")return new Xn(Y,Y)}return I.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Xn.prototype.evaluate=function(A){if(A.geometry()!=null&&A.canonicalID()!=null){if(A.geometryType()==="Point")return function(I,Y){var se=[1/0,1/0,-1/0,-1/0],Ae=[1/0,1/0,-1/0,-1/0],Ce=I.canonicalID();if(Y.type==="Polygon"){var Ne=En(Y.coordinates,Ae,Ce),Ke=Zn(I.geometry(),se,Ae,Ce);if(!gn(se,Ae))return!1;for(var st=0,yt=Ke;st<yt.length;st+=1)if(!on(yt[st],Ne))return!1}if(Y.type==="MultiPolygon"){var wt=Fn(Y.coordinates,Ae,Ce),zt=Zn(I.geometry(),se,Ae,Ce);if(!gn(se,Ae))return!1;for(var Ut=0,Rt=zt;Ut<Rt.length;Ut+=1)if(!Zt(Rt[Ut],wt))return!1}return!0}(A,this.geometries);if(A.geometryType()==="LineString")return function(I,Y){var se=[1/0,1/0,-1/0,-1/0],Ae=[1/0,1/0,-1/0,-1/0],Ce=I.canonicalID();if(Y.type==="Polygon"){var Ne=En(Y.coordinates,Ae,Ce),Ke=Vn(I.geometry(),se,Ae,Ce);if(!gn(se,Ae))return!1;for(var st=0,yt=Ke;st<yt.length;st+=1)if(!ln(yt[st],Ne))return!1}if(Y.type==="MultiPolygon"){var wt=Fn(Y.coordinates,Ae,Ce),zt=Vn(I.geometry(),se,Ae,Ce);if(!gn(se,Ae))return!1;for(var Ut=0,Rt=zt;Ut<Rt.length;Ut+=1)if(!kn(Rt[Ut],wt))return!1}return!0}(A,this.geometries)}return!1},Xn.prototype.eachChild=function(){},Xn.prototype.outputDefined=function(){return!0},Xn.prototype.serialize=function(){return["within",this.geojson]};var ar=function(A,I){this.type=I.type,this.name=A,this.boundExpression=I};ar.parse=function(A,I){if(A.length!==2||typeof A[1]!="string")return I.error("'var' expression requires exactly one string literal argument.");var Y=A[1];return I.scope.has(Y)?new ar(Y,I.scope.get(Y)):I.error('Unknown variable "'+Y+'". Make sure "'+Y+'" has been bound in an enclosing "let" expression before using it.',1)},ar.prototype.evaluate=function(A){return this.boundExpression.evaluate(A)},ar.prototype.eachChild=function(){},ar.prototype.outputDefined=function(){return!1},ar.prototype.serialize=function(){return["var",this.name]};var lr=function(A,I,Y,se,Ae){I===void 0&&(I=[]),se===void 0&&(se=new vt),Ae===void 0&&(Ae=[]),this.registry=A,this.path=I,this.key=I.map(function(Ce){return"["+Ce+"]"}).join(""),this.scope=se,this.errors=Ae,this.expectedType=Y};function tr(A){if(A instanceof ar)return tr(A.boundExpression);if(A instanceof hn&&A.name==="error"||A instanceof Et||A instanceof Xn)return!1;var I=A instanceof Dn||A instanceof fn,Y=!0;return A.eachChild(function(se){Y=I?Y&&tr(se):Y&&se instanceof Bt}),!!Y&&Kn(A)&&fr(A,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function pr(A,I){for(var Y,se,Ae=A.length-1,Ce=0,Ne=Ae,Ke=0;Ce<=Ne;)if(Y=A[Ke=Math.floor((Ce+Ne)/2)],se=A[Ke+1],Y<=I){if(Ke===Ae||I<se)return Ke;Ce=Ke+1}else{if(!(Y>I))throw new Qt("Input is not a number.");Ne=Ke-1}return 0}lr.prototype.parse=function(A,I,Y,se,Ae){return Ae===void 0&&(Ae={}),I?this.concat(I,Y,se)._parse(A,Ae):this._parse(A,Ae)},lr.prototype._parse=function(A,I){function Y(yt,wt,zt){return zt==="assert"?new fn(wt,[yt]):zt==="coerce"?new Dn(wt,[yt]):yt}if(A!==null&&typeof A!="string"&&typeof A!="boolean"&&typeof A!="number"||(A=["literal",A]),Array.isArray(A)){if(A.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var se=A[0];if(typeof se!="string")return this.error("Expression name must be a string, but found "+typeof se+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ae=this.registry[se];if(Ae){var Ce=Ae.parse(A,this);if(!Ce)return null;if(this.expectedType){var Ne=this.expectedType,Ke=Ce.type;if(Ne.kind!=="string"&&Ne.kind!=="number"&&Ne.kind!=="boolean"&&Ne.kind!=="object"&&Ne.kind!=="array"||Ke.kind!=="value")if(Ne.kind!=="color"&&Ne.kind!=="formatted"&&Ne.kind!=="resolvedImage"||Ke.kind!=="value"&&Ke.kind!=="string"){if(this.checkSubtype(Ne,Ke))return null}else Ce=Y(Ce,Ne,I.typeAnnotation||"coerce");else Ce=Y(Ce,Ne,I.typeAnnotation||"assert")}if(!(Ce instanceof Bt)&&Ce.type.kind!=="resolvedImage"&&tr(Ce)){var st=new qt;try{Ce=new Bt(Ce.type,Ce.evaluate(st))}catch(yt){return this.error(yt.message),null}}return Ce}return this.error('Unknown expression "'+se+'". If you wanted a literal array, use ["literal", [...]].',0)}return A===void 0?this.error("'undefined' value invalid. Use null instead."):typeof A=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof A+" instead.")},lr.prototype.concat=function(A,I,Y){var se=typeof A=="number"?this.path.concat(A):this.path,Ae=Y?this.scope.concat(Y):this.scope;return new lr(this.registry,se,I||null,Ae,this.errors)},lr.prototype.error=function(A){for(var I=[],Y=arguments.length-1;Y-- >0;)I[Y]=arguments[Y+1];var se=""+this.key+I.map(function(Ae){return"["+Ae+"]"}).join("");this.errors.push(new xt(se,A))},lr.prototype.checkSubtype=function(A,I){var Y=$t(A,I);return Y&&this.error(Y),Y};var _r=function(A,I,Y){this.type=A,this.input=I,this.labels=[],this.outputs=[];for(var se=0,Ae=Y;se<Ae.length;se+=1){var Ce=Ae[se],Ne=Ce[0],Ke=Ce[1];this.labels.push(Ne),this.outputs.push(Ke)}};function Or(A,I,Y){return A*(1-Y)+I*Y}_r.parse=function(A,I){if(A.length-1<4)return I.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return I.error("Expected an even number of arguments.");var Y=I.parse(A[1],1,St);if(!Y)return null;var se=[],Ae=null;I.expectedType&&I.expectedType.kind!=="value"&&(Ae=I.expectedType);for(var Ce=1;Ce<A.length;Ce+=2){var Ne=Ce===1?-1/0:A[Ce],Ke=A[Ce+1],st=Ce,yt=Ce+1;if(typeof Ne!="number")return I.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',st);if(se.length&&se[se.length-1][0]>=Ne)return I.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',st);var wt=I.parse(Ke,yt,Ae);if(!wt)return null;Ae=Ae||wt.type,se.push([Ne,wt])}return new _r(Ae,Y,se)},_r.prototype.evaluate=function(A){var I=this.labels,Y=this.outputs;if(I.length===1)return Y[0].evaluate(A);var se=this.input.evaluate(A);if(se<=I[0])return Y[0].evaluate(A);var Ae=I.length;return se>=I[Ae-1]?Y[Ae-1].evaluate(A):Y[pr(I,se)].evaluate(A)},_r.prototype.eachChild=function(A){A(this.input);for(var I=0,Y=this.outputs;I<Y.length;I+=1)A(Y[I])},_r.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},_r.prototype.serialize=function(){for(var A=["step",this.input.serialize()],I=0;I<this.labels.length;I++)I>0&&A.push(this.labels[I]),A.push(this.outputs[I].serialize());return A};var ri=Object.freeze({__proto__:null,number:Or,color:function(A,I,Y){return new Cn(Or(A.r,I.r,Y),Or(A.g,I.g,Y),Or(A.b,I.b,Y),Or(A.a,I.a,Y))},array:function(A,I,Y){return A.map(function(se,Ae){return Or(se,I[Ae],Y)})}}),ai=.95047,Pi=1,ei=1.08883,Ti=4/29,ra=6/29,ia=3*ra*ra,Bo=ra*ra*ra,_l=Math.PI/180,ms=180/Math.PI;function ys(A){return A>Bo?Math.pow(A,.3333333333333333):A/ia+Ti}function Rs(A){return A>ra?A*A*A:ia*(A-Ti)}function za(A){return 255*(A<=.0031308?12.92*A:1.055*Math.pow(A,.4166666666666667)-.055)}function Fs(A){return(A/=255)<=.04045?A/12.92:Math.pow((A+.055)/1.055,2.4)}function Bs(A){var I=Fs(A.r),Y=Fs(A.g),se=Fs(A.b),Ae=ys((.4124564*I+.3575761*Y+.1804375*se)/ai),Ce=ys((.2126729*I+.7151522*Y+.072175*se)/Pi);return{l:116*Ce-16,a:500*(Ae-Ce),b:200*(Ce-ys((.0193339*I+.119192*Y+.9503041*se)/ei)),alpha:A.a}}function Ns(A){var I=(A.l+16)/116,Y=isNaN(A.a)?I:I+A.a/500,se=isNaN(A.b)?I:I-A.b/200;return I=Pi*Rs(I),Y=ai*Rs(Y),se=ei*Rs(se),new Cn(za(3.2404542*Y-1.5371385*I-.4985314*se),za(-.969266*Y+1.8760108*I+.041556*se),za(.0556434*Y-.2040259*I+1.0572252*se),A.alpha)}function io(A,I,Y){var se=I-A;return A+Y*(se>180||se<-180?se-360*Math.round(se/360):se)}var xo={forward:Bs,reverse:Ns,interpolate:function(A,I,Y){return{l:Or(A.l,I.l,Y),a:Or(A.a,I.a,Y),b:Or(A.b,I.b,Y),alpha:Or(A.alpha,I.alpha,Y)}}},No={forward:function(A){var I=Bs(A),Y=I.l,se=I.a,Ae=I.b,Ce=Math.atan2(Ae,se)*ms;return{h:Ce<0?Ce+360:Ce,c:Math.sqrt(se*se+Ae*Ae),l:Y,alpha:A.a}},reverse:function(A){var I=A.h*_l,Y=A.c;return Ns({l:A.l,a:Math.cos(I)*Y,b:Math.sin(I)*Y,alpha:A.alpha})},interpolate:function(A,I,Y){return{h:io(A.h,I.h,Y),c:Or(A.c,I.c,Y),l:Or(A.l,I.l,Y),alpha:Or(A.alpha,I.alpha,Y)}}},fi=Object.freeze({__proto__:null,lab:xo,hcl:No}),Di=function(A,I,Y,se,Ae){this.type=A,this.operator=I,this.interpolation=Y,this.input=se,this.labels=[],this.outputs=[];for(var Ce=0,Ne=Ae;Ce<Ne.length;Ce+=1){var Ke=Ne[Ce],st=Ke[0],yt=Ke[1];this.labels.push(st),this.outputs.push(yt)}};function ao(A,I,Y,se){var Ae=se-Y,Ce=A-Y;return Ae===0?0:I===1?Ce/Ae:(Math.pow(I,Ce)-1)/(Math.pow(I,Ae)-1)}Di.interpolationFactor=function(A,I,Y,se){var Ae=0;if(A.name==="exponential")Ae=ao(I,A.base,Y,se);else if(A.name==="linear")Ae=ao(I,1,Y,se);else if(A.name==="cubic-bezier"){var Ce=A.controlPoints;Ae=new g(Ce[0],Ce[1],Ce[2],Ce[3]).solve(ao(I,1,Y,se))}return Ae},Di.parse=function(A,I){var Y=A[0],se=A[1],Ae=A[2],Ce=A.slice(3);if(!Array.isArray(se)||se.length===0)return I.error("Expected an interpolation type expression.",1);if(se[0]==="linear")se={name:"linear"};else if(se[0]==="exponential"){var Ne=se[1];if(typeof Ne!="number")return I.error("Exponential interpolation requires a numeric base.",1,1);se={name:"exponential",base:Ne}}else{if(se[0]!=="cubic-bezier")return I.error("Unknown interpolation type "+String(se[0]),1,0);var Ke=se.slice(1);if(Ke.length!==4||Ke.some(function(bn){return typeof bn!="number"||bn<0||bn>1}))return I.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);se={name:"cubic-bezier",controlPoints:Ke}}if(A.length-1<4)return I.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return I.error("Expected an even number of arguments.");if(!(Ae=I.parse(Ae,2,St)))return null;var st=[],yt=null;Y==="interpolate-hcl"||Y==="interpolate-lab"?yt=en:I.expectedType&&I.expectedType.kind!=="value"&&(yt=I.expectedType);for(var wt=0;wt<Ce.length;wt+=2){var zt=Ce[wt],Ut=Ce[wt+1],Rt=wt+3,tn=wt+4;if(typeof zt!="number")return I.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Rt);if(st.length&&st[st.length-1][0]>=zt)return I.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Rt);var an=I.parse(Ut,tn,yt);if(!an)return null;yt=yt||an.type,st.push([zt,an])}return yt.kind==="number"||yt.kind==="color"||yt.kind==="array"&&yt.itemType.kind==="number"&&typeof yt.N=="number"?new Di(yt,Y,se,Ae,st):I.error("Type "+Wt(yt)+" is not interpolatable.")},Di.prototype.evaluate=function(A){var I=this.labels,Y=this.outputs;if(I.length===1)return Y[0].evaluate(A);var se=this.input.evaluate(A);if(se<=I[0])return Y[0].evaluate(A);var Ae=I.length;if(se>=I[Ae-1])return Y[Ae-1].evaluate(A);var Ce=pr(I,se),Ne=I[Ce],Ke=I[Ce+1],st=Di.interpolationFactor(this.interpolation,se,Ne,Ke),yt=Y[Ce].evaluate(A),wt=Y[Ce+1].evaluate(A);return this.operator==="interpolate"?ri[this.type.kind.toLowerCase()](yt,wt,st):this.operator==="interpolate-hcl"?No.reverse(No.interpolate(No.forward(yt),No.forward(wt),st)):xo.reverse(xo.interpolate(xo.forward(yt),xo.forward(wt),st))},Di.prototype.eachChild=function(A){A(this.input);for(var I=0,Y=this.outputs;I<Y.length;I+=1)A(Y[I])},Di.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},Di.prototype.serialize=function(){var A;A=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var I=[this.operator,A,this.input.serialize()],Y=0;Y<this.labels.length;Y++)I.push(this.labels[Y],this.outputs[Y].serialize());return I};var Ya=function(A,I){this.type=A,this.args=I};Ya.parse=function(A,I){if(A.length<2)return I.error("Expectected at least one argument.");var Y=null,se=I.expectedType;se&&se.kind!=="value"&&(Y=se);for(var Ae=[],Ce=0,Ne=A.slice(1);Ce<Ne.length;Ce+=1){var Ke=Ne[Ce],st=I.parse(Ke,1+Ae.length,Y,void 0,{typeAnnotation:"omit"});if(!st)return null;Y=Y||st.type,Ae.push(st)}var yt=se&&Ae.some(function(wt){return $t(se,wt.type)});return new Ya(yt?jt:Y,Ae)},Ya.prototype.evaluate=function(A){for(var I,Y=null,se=0,Ae=0,Ce=this.args;Ae<Ce.length&&(se++,(Y=Ce[Ae].evaluate(A))&&Y instanceof er&&!Y.available&&(I||(I=Y.name),Y=null,se===this.args.length&&(Y=I)),Y===null);Ae+=1);return Y},Ya.prototype.eachChild=function(A){this.args.forEach(A)},Ya.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},Ya.prototype.serialize=function(){var A=["coalesce"];return this.eachChild(function(I){A.push(I.serialize())}),A};var Da=function(A,I){this.type=I.type,this.bindings=[].concat(A),this.result=I};Da.prototype.evaluate=function(A){return this.result.evaluate(A)},Da.prototype.eachChild=function(A){for(var I=0,Y=this.bindings;I<Y.length;I+=1)A(Y[I][1]);A(this.result)},Da.parse=function(A,I){if(A.length<4)return I.error("Expected at least 3 arguments, but found "+(A.length-1)+" instead.");for(var Y=[],se=1;se<A.length-1;se+=2){var Ae=A[se];if(typeof Ae!="string")return I.error("Expected string, but found "+typeof Ae+" instead.",se);if(/[^a-zA-Z0-9_]/.test(Ae))return I.error("Variable names must contain only alphanumeric characters or '_'.",se);var Ce=I.parse(A[se+1],se+1);if(!Ce)return null;Y.push([Ae,Ce])}var Ne=I.parse(A[A.length-1],A.length-1,I.expectedType,Y);return Ne?new Da(Y,Ne):null},Da.prototype.outputDefined=function(){return this.result.outputDefined()},Da.prototype.serialize=function(){for(var A=["let"],I=0,Y=this.bindings;I<Y.length;I+=1){var se=Y[I],Ae=se[0],Ce=se[1];A.push(Ae,Ce.serialize())}return A.push(this.result.serialize()),A};var bo=function(A,I,Y){this.type=A,this.index=I,this.input=Y};bo.parse=function(A,I){if(A.length!==3)return I.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var Y=I.parse(A[1],1,St),se=I.parse(A[2],2,un(I.expectedType||jt));if(!Y||!se)return null;var Ae=se.type;return new bo(Ae.itemType,Y,se)},bo.prototype.evaluate=function(A){var I=this.index.evaluate(A),Y=this.input.evaluate(A);if(I<0)throw new Qt("Array index out of bounds: "+I+" < 0.");if(I>=Y.length)throw new Qt("Array index out of bounds: "+I+" > "+(Y.length-1)+".");if(I!==Math.floor(I))throw new Qt("Array index must be an integer, but found "+I+" instead.");return Y[I]},bo.prototype.eachChild=function(A){A(this.index),A(this.input)},bo.prototype.outputDefined=function(){return!1},bo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Za=function(A,I){this.type=Gt,this.needle=A,this.haystack=I};Za.parse=function(A,I){if(A.length!==3)return I.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var Y=I.parse(A[1],1,jt),se=I.parse(A[2],2,jt);return Y&&se?sn(Y.type,[Gt,It,St,Mt,jt])?new Za(Y,se):I.error("Expected first argument to be of type boolean, string, number or null, but found "+Wt(Y.type)+" instead"):null},Za.prototype.evaluate=function(A){var I=this.needle.evaluate(A),Y=this.haystack.evaluate(A);if(!Y)return!1;if(!xn(I,["boolean","string","number","null"]))throw new Qt("Expected first argument to be of type boolean, string, number or null, but found "+Wt(Yn(I))+" instead.");if(!xn(Y,["string","array"]))throw new Qt("Expected second argument to be of type array or string, but found "+Wt(Yn(Y))+" instead.");return Y.indexOf(I)>=0},Za.prototype.eachChild=function(A){A(this.needle),A(this.haystack)},Za.prototype.outputDefined=function(){return!0},Za.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var _o=function(A,I,Y){this.type=St,this.needle=A,this.haystack=I,this.fromIndex=Y};_o.parse=function(A,I){if(A.length<=2||A.length>=5)return I.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var Y=I.parse(A[1],1,jt),se=I.parse(A[2],2,jt);if(!Y||!se)return null;if(!sn(Y.type,[Gt,It,St,Mt,jt]))return I.error("Expected first argument to be of type boolean, string, number or null, but found "+Wt(Y.type)+" instead");if(A.length===4){var Ae=I.parse(A[3],3,St);return Ae?new _o(Y,se,Ae):null}return new _o(Y,se)},_o.prototype.evaluate=function(A){var I=this.needle.evaluate(A),Y=this.haystack.evaluate(A);if(!xn(I,["boolean","string","number","null"]))throw new Qt("Expected first argument to be of type boolean, string, number or null, but found "+Wt(Yn(I))+" instead.");if(!xn(Y,["string","array"]))throw new Qt("Expected second argument to be of type array or string, but found "+Wt(Yn(Y))+" instead.");if(this.fromIndex){var se=this.fromIndex.evaluate(A);return Y.indexOf(I,se)}return Y.indexOf(I)},_o.prototype.eachChild=function(A){A(this.needle),A(this.haystack),this.fromIndex&&A(this.fromIndex)},_o.prototype.outputDefined=function(){return!1},_o.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var A=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),A]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var oo=function(A,I,Y,se,Ae,Ce){this.inputType=A,this.type=I,this.input=Y,this.cases=se,this.outputs=Ae,this.otherwise=Ce};oo.parse=function(A,I){if(A.length<5)return I.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if(A.length%2!=1)return I.error("Expected an even number of arguments.");var Y,se;I.expectedType&&I.expectedType.kind!=="value"&&(se=I.expectedType);for(var Ae={},Ce=[],Ne=2;Ne<A.length-1;Ne+=2){var Ke=A[Ne],st=A[Ne+1];Array.isArray(Ke)||(Ke=[Ke]);var yt=I.concat(Ne);if(Ke.length===0)return yt.error("Expected at least one branch label.");for(var wt=0,zt=Ke;wt<zt.length;wt+=1){var Ut=zt[wt];if(typeof Ut!="number"&&typeof Ut!="string")return yt.error("Branch labels must be numbers or strings.");if(typeof Ut=="number"&&Math.abs(Ut)>Number.MAX_SAFE_INTEGER)return yt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Ut=="number"&&Math.floor(Ut)!==Ut)return yt.error("Numeric branch labels must be integer values.");if(Y){if(yt.checkSubtype(Y,Yn(Ut)))return null}else Y=Yn(Ut);if(Ae[String(Ut)]!==void 0)return yt.error("Branch labels must be unique.");Ae[String(Ut)]=Ce.length}var Rt=I.parse(st,Ne,se);if(!Rt)return null;se=se||Rt.type,Ce.push(Rt)}var tn=I.parse(A[1],1,jt);if(!tn)return null;var an=I.parse(A[A.length-1],A.length-1,se);return an?tn.type.kind!=="value"&&I.concat(1).checkSubtype(Y,tn.type)?null:new oo(Y,se,tn,Ae,Ce,an):null},oo.prototype.evaluate=function(A){var I=this.input.evaluate(A);return(Yn(I)===this.inputType&&this.outputs[this.cases[I]]||this.otherwise).evaluate(A)},oo.prototype.eachChild=function(A){A(this.input),this.outputs.forEach(A),A(this.otherwise)},oo.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})&&this.otherwise.outputDefined()},oo.prototype.serialize=function(){for(var A=this,I=["match",this.input.serialize()],Y=[],se={},Ae=0,Ce=Object.keys(this.cases).sort();Ae<Ce.length;Ae+=1){var Ne=Ce[Ae];(zt=se[this.cases[Ne]])===void 0?(se[this.cases[Ne]]=Y.length,Y.push([this.cases[Ne],[Ne]])):Y[zt][1].push(Ne)}for(var Ke=function(Rt){return A.inputType.kind==="number"?Number(Rt):Rt},st=0,yt=Y;st<yt.length;st+=1){var wt=yt[st],zt=wt[0],Ut=wt[1];Ut.length===1?I.push(Ke(Ut[0])):I.push(Ut.map(Ke)),I.push(this.outputs[outputIndex$1].serialize())}return I.push(this.otherwise.serialize()),I};var wo=function(A,I,Y){this.type=A,this.branches=I,this.otherwise=Y};wo.parse=function(A,I){if(A.length<4)return I.error("Expected at least 3 arguments, but found only "+(A.length-1)+".");if(A.length%2!=0)return I.error("Expected an odd number of arguments.");var Y;I.expectedType&&I.expectedType.kind!=="value"&&(Y=I.expectedType);for(var se=[],Ae=1;Ae<A.length-1;Ae+=2){var Ce=I.parse(A[Ae],Ae,Gt);if(!Ce)return null;var Ne=I.parse(A[Ae+1],Ae+1,Y);if(!Ne)return null;se.push([Ce,Ne]),Y=Y||Ne.type}var Ke=I.parse(A[A.length-1],A.length-1,Y);return Ke?new wo(Y,se,Ke):null},wo.prototype.evaluate=function(A){for(var I=0,Y=this.branches;I<Y.length;I+=1){var se=Y[I],Ae=se[0],Ce=se[1];if(Ae.evaluate(A))return Ce.evaluate(A)}return this.otherwise.evaluate(A)},wo.prototype.eachChild=function(A){for(var I=0,Y=this.branches;I<Y.length;I+=1){var se=Y[I],Ae=se[0],Ce=se[1];A(Ae),A(Ce)}A(this.otherwise)},wo.prototype.outputDefined=function(){return this.branches.every(function(A){return A[0],A[1].outputDefined()})&&this.otherwise.outputDefined()},wo.prototype.serialize=function(){var A=["case"];return this.eachChild(function(I){A.push(I.serialize())}),A};var Xa=function(A,I,Y,se){this.type=A,this.input=I,this.beginIndex=Y,this.endIndex=se};function $s(A,I){return A==="=="||A==="!="?I.kind==="boolean"||I.kind==="string"||I.kind==="number"||I.kind==="null"||I.kind==="value":I.kind==="string"||I.kind==="number"||I.kind==="value"}function js(A,I,Y,se){return se.compare(I,Y)===0}function jo(A,I,Y){var se=A!=="=="&&A!=="!=";return function(){function Ae(Ce,Ne,Ke){this.type=Gt,this.lhs=Ce,this.rhs=Ne,this.collator=Ke,this.hasUntypedArgument=Ce.type.kind==="value"||Ne.type.kind==="value"}return Ae.parse=function(Ce,Ne){if(Ce.length!==3&&Ce.length!==4)return Ne.error("Expected two or three arguments.");var Ke=Ce[0],st=Ne.parse(Ce[1],1,jt);if(!st)return null;if(!$s(Ke,st.type))return Ne.concat(1).error('"'+Ke+`" comparisons are not supported for type '`+Wt(st.type)+"'.");var yt=Ne.parse(Ce[2],2,jt);if(!yt)return null;if(!$s(Ke,yt.type))return Ne.concat(2).error('"'+Ke+`" comparisons are not supported for type '`+Wt(yt.type)+"'.");if(st.type.kind!==yt.type.kind&&st.type.kind!=="value"&&yt.type.kind!=="value")return Ne.error("Cannot compare types '"+Wt(st.type)+"' and '"+Wt(yt.type)+"'.");se&&(st.type.kind==="value"&&yt.type.kind!=="value"?st=new fn(yt.type,[st]):st.type.kind!=="value"&&yt.type.kind==="value"&&(yt=new fn(st.type,[yt])));var wt=null;if(Ce.length===4){if(st.type.kind!=="string"&&yt.type.kind!=="string"&&st.type.kind!=="value"&&yt.type.kind!=="value")return Ne.error("Cannot use collator to compare non-string types.");if(!(wt=Ne.parse(Ce[3],3,Jt)))return null}return new Ae(st,yt,wt)},Ae.prototype.evaluate=function(Ce){var Ne=this.lhs.evaluate(Ce),Ke=this.rhs.evaluate(Ce);if(se&&this.hasUntypedArgument){var st=Yn(Ne),yt=Yn(Ke);if(st.kind!==yt.kind||st.kind!=="string"&&st.kind!=="number")throw new Qt('Expected arguments for "'+A+'" to be (string, string) or (number, number), but found ('+st.kind+", "+yt.kind+") instead.")}if(this.collator&&!se&&this.hasUntypedArgument){var wt=Yn(Ne),zt=Yn(Ke);if(wt.kind!=="string"||zt.kind!=="string")return I(Ce,Ne,Ke)}return this.collator?Y(Ce,Ne,Ke,this.collator.evaluate(Ce)):I(Ce,Ne,Ke)},Ae.prototype.eachChild=function(Ce){Ce(this.lhs),Ce(this.rhs),this.collator&&Ce(this.collator)},Ae.prototype.outputDefined=function(){return!0},Ae.prototype.serialize=function(){var Ce=[A];return this.eachChild(function(Ne){Ce.push(Ne.serialize())}),Ce},Ae}()}Xa.parse=function(A,I){if(A.length<=2||A.length>=5)return I.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var Y=I.parse(A[1],1,jt),se=I.parse(A[2],2,St);if(!Y||!se)return null;if(!sn(Y.type,[un(jt),It,jt]))return I.error("Expected first argument to be of type array or string, but found "+Wt(Y.type)+" instead");if(A.length===4){var Ae=I.parse(A[3],3,St);return Ae?new Xa(Y.type,Y,se,Ae):null}return new Xa(Y.type,Y,se)},Xa.prototype.evaluate=function(A){var I=this.input.evaluate(A),Y=this.beginIndex.evaluate(A);if(!xn(I,["string","array"]))throw new Qt("Expected first argument to be of type array or string, but found "+Wt(Yn(I))+" instead.");if(this.endIndex){var se=this.endIndex.evaluate(A);return I.slice(Y,se)}return I.slice(Y)},Xa.prototype.eachChild=function(A){A(this.input),A(this.beginIndex),this.endIndex&&A(this.endIndex)},Xa.prototype.outputDefined=function(){return!1},Xa.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var A=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),A]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var sl=jo("==",function(A,I,Y){return I===Y},js),ll=jo("!=",function(A,I,Y){return I!==Y},function(A,I,Y,se){return!js(0,I,Y,se)}),Uo=jo("<",function(A,I,Y){return I<Y},function(A,I,Y,se){return se.compare(I,Y)<0}),ul=jo(">",function(A,I,Y){return I>Y},function(A,I,Y,se){return se.compare(I,Y)>0}),wl=jo("<=",function(A,I,Y){return I<=Y},function(A,I,Y,se){return se.compare(I,Y)<=0}),Tl=jo(">=",function(A,I,Y){return I>=Y},function(A,I,Y,se){return se.compare(I,Y)>=0}),Vo=function(A,I,Y,se,Ae){this.type=It,this.number=A,this.locale=I,this.currency=Y,this.minFractionDigits=se,this.maxFractionDigits=Ae};Vo.parse=function(A,I){if(A.length!==3)return I.error("Expected two arguments.");var Y=I.parse(A[1],1,St);if(!Y)return null;var se=A[2];if(typeof se!="object"||Array.isArray(se))return I.error("NumberFormat options argument must be an object.");var Ae=null;if(se.locale&&!(Ae=I.parse(se.locale,1,It)))return null;var Ce=null;if(se.currency&&!(Ce=I.parse(se.currency,1,It)))return null;var Ne=null;if(se["min-fraction-digits"]&&!(Ne=I.parse(se["min-fraction-digits"],1,St)))return null;var Ke=null;return se["max-fraction-digits"]&&!(Ke=I.parse(se["max-fraction-digits"],1,St))?null:new Vo(Y,Ae,Ce,Ne,Ke)},Vo.prototype.evaluate=function(A){return new Intl.NumberFormat(this.locale?this.locale.evaluate(A):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(A):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(A):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(A):void 0}).format(this.number.evaluate(A))},Vo.prototype.eachChild=function(A){A(this.number),this.locale&&A(this.locale),this.currency&&A(this.currency),this.minFractionDigits&&A(this.minFractionDigits),this.maxFractionDigits&&A(this.maxFractionDigits)},Vo.prototype.outputDefined=function(){return!1},Vo.prototype.serialize=function(){var A={};return this.locale&&(A.locale=this.locale.serialize()),this.currency&&(A.currency=this.currency.serialize()),this.minFractionDigits&&(A["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(A["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),A]};var Ka=function(A){this.type=St,this.input=A};Ka.parse=function(A,I){if(A.length!==2)return I.error("Expected 1 argument, but found "+(A.length-1)+" instead.");var Y=I.parse(A[1],1);return Y?Y.type.kind!=="array"&&Y.type.kind!=="string"&&Y.type.kind!=="value"?I.error("Expected argument of type string or array, but found "+Wt(Y.type)+" instead."):new Ka(Y):null},Ka.prototype.evaluate=function(A){var I=this.input.evaluate(A);if(typeof I=="string"||Array.isArray(I))return I.length;throw new Qt("Expected value to be of type string or array, but found "+Wt(Yn(I))+" instead.")},Ka.prototype.eachChild=function(A){A(this.input)},Ka.prototype.outputDefined=function(){return!1},Ka.prototype.serialize=function(){var A=["length"];return this.eachChild(function(I){A.push(I.serialize())}),A};var ts={"==":sl,"!=":ll,">":ul,"<":Uo,">=":Tl,"<=":wl,array:fn,at:bo,boolean:fn,case:wo,coalesce:Ya,collator:Et,format:Tn,image:jn,in:Za,"index-of":_o,interpolate:Di,"interpolate-hcl":Di,"interpolate-lab":Di,length:Ka,let:Da,literal:Bt,match:oo,number:fn,"number-format":Vo,object:fn,slice:Xa,step:_r,string:fn,"to-boolean":Dn,"to-color":Dn,"to-number":Dn,"to-string":Dn,var:ar,within:Xn};function qo(A,I){var Y=I[0],se=I[1],Ae=I[2],Ce=I[3];Y=Y.evaluate(A),se=se.evaluate(A),Ae=Ae.evaluate(A);var Ne=Ce?Ce.evaluate(A):1,Ke=nr(Y,se,Ae,Ne);if(Ke)throw new Qt(Ke);return new Cn(Y/255*Ne,se/255*Ne,Ae/255*Ne,Ne)}function xs(A,I){return A in I}function Ho(A,I){var Y=I[A];return Y===void 0?null:Y}function Ra(A){return{type:A}}function Qs(A){return{result:"success",value:A}}function To(A){return{result:"error",value:A}}function so(A){return A["property-type"]==="data-driven"||A["property-type"]==="cross-faded-data-driven"}function lo(A){return!!A.expression&&A.expression.parameters.indexOf("zoom")>-1}function ko(A){return!!A.expression&&A.expression.interpolated}function jr(A){return A instanceof Number?"number":A instanceof String?"string":A instanceof Boolean?"boolean":Array.isArray(A)?"array":A===null?"null":typeof A}function ns(A){return typeof A=="object"&&A!==null&&!Array.isArray(A)}function kl(A){return A}function Us(A,I){var Y,se,Ae,Ce=I.type==="color",Ne=A.stops&&typeof A.stops[0][0]=="object",Ke=Ne||A.property!==void 0,st=Ne||!Ke,yt=A.type||(ko(I)?"exponential":"interval");if(Ce&&((A=dt({},A)).stops&&(A.stops=A.stops.map(function(hr){return[hr[0],Cn.parse(hr[1])]})),A.default?A.default=Cn.parse(A.default):A.default=Cn.parse(I.default)),A.colorSpace&&A.colorSpace!=="rgb"&&!fi[A.colorSpace])throw new Error("Unknown color space: "+A.colorSpace);if(yt==="exponential")Y=Vs;else if(yt==="interval")Y=Al;else if(yt==="categorical"){Y=cl,se=Object.create(null);for(var wt=0,zt=A.stops;wt<zt.length;wt+=1){var Ut=zt[wt];se[Ut[0]]=Ut[1]}Ae=typeof A.stops[0][0]}else{if(yt!=="identity")throw new Error('Unknown function type "'+yt+'"');Y=Ml}if(Ne){for(var Rt={},tn=[],an=0;an<A.stops.length;an++){var bn=A.stops[an],mn=bn[0].zoom;Rt[mn]===void 0&&(Rt[mn]={zoom:mn,type:A.type,property:A.property,default:A.default,stops:[]},tn.push(mn)),Rt[mn].stops.push([bn[0].value,bn[1]])}for(var In=[],Rn=0,qn=tn;Rn<qn.length;Rn+=1){var Gn=qn[Rn];In.push([Rt[Gn].zoom,Us(Rt[Gn],I)])}var rr={name:"linear"};return{kind:"composite",interpolationType:rr,interpolationFactor:Di.interpolationFactor.bind(void 0,rr),zoomStops:In.map(function(hr){return hr[0]}),evaluate:function(hr,yr){var br=hr.zoom;return Vs({stops:In,base:A.base},I,br).evaluate(br,yr)}}}if(st){var dr=yt==="exponential"?{name:"exponential",base:A.base!==void 0?A.base:1}:null;return{kind:"camera",interpolationType:dr,interpolationFactor:Di.interpolationFactor.bind(void 0,dr),zoomStops:A.stops.map(function(hr){return hr[0]}),evaluate:function(hr){var yr=hr.zoom;return Y(A,I,yr,se,Ae)}}}return{kind:"source",evaluate:function(hr,yr){var br=yr&&yr.properties?yr.properties[A.property]:void 0;return br===void 0?rs(A.default,I.default):Y(A,I,br,se,Ae)}}}function rs(A,I,Y){return A!==void 0?A:I!==void 0?I:Y!==void 0?Y:void 0}function cl(A,I,Y,se,Ae){return rs(typeof Y===Ae?se[Y]:void 0,A.default,I.default)}function Al(A,I,Y){if(jr(Y)!=="number")return rs(A.default,I.default);var se=A.stops.length;if(se===1||Y<=A.stops[0][0])return A.stops[0][1];if(Y>=A.stops[se-1][0])return A.stops[se-1][1];var Ae=pr(A.stops.map(function(Ce){return Ce[0]}),Y);return A.stops[Ae][1]}function Vs(A,I,Y){var se=A.base!==void 0?A.base:1;if(jr(Y)!=="number")return rs(A.default,I.default);var Ae=A.stops.length;if(Ae===1||Y<=A.stops[0][0])return A.stops[0][1];if(Y>=A.stops[Ae-1][0])return A.stops[Ae-1][1];var Ce=pr(A.stops.map(function(zt){return zt[0]}),Y),Ne=function(zt,Ut,Rt,tn){var an=tn-Rt,bn=zt-Rt;return an===0?0:Ut===1?bn/an:(Math.pow(Ut,bn)-1)/(Math.pow(Ut,an)-1)}(Y,se,A.stops[Ce][0],A.stops[Ce+1][0]),Ke=A.stops[Ce][1],st=A.stops[Ce+1][1],yt=ri[I.type]||kl;if(A.colorSpace&&A.colorSpace!=="rgb"){var wt=fi[A.colorSpace];yt=function(zt,Ut){return wt.reverse(wt.interpolate(wt.forward(zt),wt.forward(Ut),Ne))}}return typeof Ke.evaluate=="function"?{evaluate:function(){for(var zt=[],Ut=arguments.length;Ut--;)zt[Ut]=arguments[Ut];var Rt=Ke.evaluate.apply(void 0,zt),tn=st.evaluate.apply(void 0,zt);if(Rt!==void 0&&tn!==void 0)return yt(Rt,tn,Ne)}}:yt(Ke,st,Ne)}function Ml(A,I,Y){return I.type==="color"?Y=Cn.parse(Y):I.type==="formatted"?Y=zn.fromString(Y.toString()):I.type==="resolvedImage"?Y=er.fromString(Y.toString()):jr(Y)===I.type||I.type==="enum"&&I.values[Y]||(Y=void 0),rs(Y,A.default,I.default)}hn.register(ts,{error:[{kind:"error"},[It],function(A,I){var Y=I[0];throw new Qt(Y.evaluate(A))}],typeof:[It,[jt],function(A,I){return Wt(Yn(I[0].evaluate(A)))}],"to-rgba":[un(St,4),[en],function(A,I){return I[0].evaluate(A).toArray()}],rgb:[en,[St,St,St],qo],rgba:[en,[St,St,St,St],qo],has:{type:Gt,overloads:[[[It],function(A,I){return xs(I[0].evaluate(A),A.properties())}],[[It,Nt],function(A,I){var Y=I[0],se=I[1];return xs(Y.evaluate(A),se.evaluate(A))}]]},get:{type:jt,overloads:[[[It],function(A,I){return Ho(I[0].evaluate(A),A.properties())}],[[It,Nt],function(A,I){var Y=I[0],se=I[1];return Ho(Y.evaluate(A),se.evaluate(A))}]]},"feature-state":[jt,[It],function(A,I){return Ho(I[0].evaluate(A),A.featureState||{})}],properties:[Nt,[],function(A){return A.properties()}],"geometry-type":[It,[],function(A){return A.geometryType()}],id:[jt,[],function(A){return A.id()}],zoom:[St,[],function(A){return A.globals.zoom}],"heatmap-density":[St,[],function(A){return A.globals.heatmapDensity||0}],"line-progress":[St,[],function(A){return A.globals.lineProgress||0}],accumulated:[jt,[],function(A){return A.globals.accumulated===void 0?null:A.globals.accumulated}],"+":[St,Ra(St),function(A,I){for(var Y=0,se=0,Ae=I;se<Ae.length;se+=1)Y+=Ae[se].evaluate(A);return Y}],"*":[St,Ra(St),function(A,I){for(var Y=1,se=0,Ae=I;se<Ae.length;se+=1)Y*=Ae[se].evaluate(A);return Y}],"-":{type:St,overloads:[[[St,St],function(A,I){var Y=I[0],se=I[1];return Y.evaluate(A)-se.evaluate(A)}],[[St],function(A,I){return-I[0].evaluate(A)}]]},"/":[St,[St,St],function(A,I){var Y=I[0],se=I[1];return Y.evaluate(A)/se.evaluate(A)}],"%":[St,[St,St],function(A,I){var Y=I[0],se=I[1];return Y.evaluate(A)%se.evaluate(A)}],ln2:[St,[],function(){return Math.LN2}],pi:[St,[],function(){return Math.PI}],e:[St,[],function(){return Math.E}],"^":[St,[St,St],function(A,I){var Y=I[0],se=I[1];return Math.pow(Y.evaluate(A),se.evaluate(A))}],sqrt:[St,[St],function(A,I){var Y=I[0];return Math.sqrt(Y.evaluate(A))}],log10:[St,[St],function(A,I){var Y=I[0];return Math.log(Y.evaluate(A))/Math.LN10}],ln:[St,[St],function(A,I){var Y=I[0];return Math.log(Y.evaluate(A))}],log2:[St,[St],function(A,I){var Y=I[0];return Math.log(Y.evaluate(A))/Math.LN2}],sin:[St,[St],function(A,I){var Y=I[0];return Math.sin(Y.evaluate(A))}],cos:[St,[St],function(A,I){var Y=I[0];return Math.cos(Y.evaluate(A))}],tan:[St,[St],function(A,I){var Y=I[0];return Math.tan(Y.evaluate(A))}],asin:[St,[St],function(A,I){var Y=I[0];return Math.asin(Y.evaluate(A))}],acos:[St,[St],function(A,I){var Y=I[0];return Math.acos(Y.evaluate(A))}],atan:[St,[St],function(A,I){var Y=I[0];return Math.atan(Y.evaluate(A))}],min:[St,Ra(St),function(A,I){return Math.min.apply(Math,I.map(function(Y){return Y.evaluate(A)}))}],max:[St,Ra(St),function(A,I){return Math.max.apply(Math,I.map(function(Y){return Y.evaluate(A)}))}],abs:[St,[St],function(A,I){var Y=I[0];return Math.abs(Y.evaluate(A))}],round:[St,[St],function(A,I){var Y=I[0].evaluate(A);return Y<0?-Math.round(-Y):Math.round(Y)}],floor:[St,[St],function(A,I){var Y=I[0];return Math.floor(Y.evaluate(A))}],ceil:[St,[St],function(A,I){var Y=I[0];return Math.ceil(Y.evaluate(A))}],"filter-==":[Gt,[It,jt],function(A,I){var Y=I[0],se=I[1];return A.properties()[Y.value]===se.value}],"filter-id-==":[Gt,[jt],function(A,I){var Y=I[0];return A.id()===Y.value}],"filter-type-==":[Gt,[It],function(A,I){var Y=I[0];return A.geometryType()===Y.value}],"filter-<":[Gt,[It,jt],function(A,I){var Y=I[0],se=I[1],Ae=A.properties()[Y.value],Ce=se.value;return typeof Ae==typeof Ce&&Ae<Ce}],"filter-id-<":[Gt,[jt],function(A,I){var Y=I[0],se=A.id(),Ae=Y.value;return typeof se==typeof Ae&&se<Ae}],"filter->":[Gt,[It,jt],function(A,I){var Y=I[0],se=I[1],Ae=A.properties()[Y.value],Ce=se.value;return typeof Ae==typeof Ce&&Ae>Ce}],"filter-id->":[Gt,[jt],function(A,I){var Y=I[0],se=A.id(),Ae=Y.value;return typeof se==typeof Ae&&se>Ae}],"filter-<=":[Gt,[It,jt],function(A,I){var Y=I[0],se=I[1],Ae=A.properties()[Y.value],Ce=se.value;return typeof Ae==typeof Ce&&Ae<=Ce}],"filter-id-<=":[Gt,[jt],function(A,I){var Y=I[0],se=A.id(),Ae=Y.value;return typeof se==typeof Ae&&se<=Ae}],"filter->=":[Gt,[It,jt],function(A,I){var Y=I[0],se=I[1],Ae=A.properties()[Y.value],Ce=se.value;return typeof Ae==typeof Ce&&Ae>=Ce}],"filter-id->=":[Gt,[jt],function(A,I){var Y=I[0],se=A.id(),Ae=Y.value;return typeof se==typeof Ae&&se>=Ae}],"filter-has":[Gt,[jt],function(A,I){return I[0].value in A.properties()}],"filter-has-id":[Gt,[],function(A){return A.id()!==null&&A.id()!==void 0}],"filter-type-in":[Gt,[un(It)],function(A,I){return I[0].value.indexOf(A.geometryType())>=0}],"filter-id-in":[Gt,[un(jt)],function(A,I){return I[0].value.indexOf(A.id())>=0}],"filter-in-small":[Gt,[It,un(jt)],function(A,I){var Y=I[0];return I[1].value.indexOf(A.properties()[Y.value])>=0}],"filter-in-large":[Gt,[It,un(jt)],function(A,I){var Y=I[0],se=I[1];return function(Ae,Ce,Ne,Ke){for(;Ne<=Ke;){var st=Ne+Ke>>1;if(Ce[st]===Ae)return!0;Ce[st]>Ae?Ke=st-1:Ne=st+1}return!1}(A.properties()[Y.value],se.value,0,se.value.length-1)}],all:{type:Gt,overloads:[[[Gt,Gt],function(A,I){var Y=I[0],se=I[1];return Y.evaluate(A)&&se.evaluate(A)}],[Ra(Gt),function(A,I){for(var Y=0,se=I;Y<se.length;Y+=1)if(!se[Y].evaluate(A))return!1;return!0}]]},any:{type:Gt,overloads:[[[Gt,Gt],function(A,I){var Y=I[0],se=I[1];return Y.evaluate(A)||se.evaluate(A)}],[Ra(Gt),function(A,I){for(var Y=0,se=I;Y<se.length;Y+=1)if(se[Y].evaluate(A))return!0;return!1}]]},"!":[Gt,[Gt],function(A,I){return!I[0].evaluate(A)}],"is-supported-script":[Gt,[It],function(A,I){var Y=I[0],se=A.globals&&A.globals.isSupportedScript;return!se||se(Y.evaluate(A))}],upcase:[It,[It],function(A,I){return I[0].evaluate(A).toUpperCase()}],downcase:[It,[It],function(A,I){return I[0].evaluate(A).toLowerCase()}],concat:[It,Ra(jt),function(A,I){return I.map(function(Y){return mr(Y.evaluate(A))}).join("")}],"resolved-locale":[It,[Jt],function(A,I){return I[0].evaluate(A).resolvedLocale()}]});var Ao=function(A,I){this.expression=A,this._warningHistory={},this._evaluator=new qt,this._defaultValue=I?function(Y){return Y.type==="color"&&ns(Y.default)?new Cn(0,0,0,0):Y.type==="color"?Cn.parse(Y.default)||null:Y.default===void 0?null:Y.default}(I):null,this._enumValues=I&&I.type==="enum"?I.values:null};function Go(A){return Array.isArray(A)&&A.length>0&&typeof A[0]=="string"&&A[0]in ts}function uo(A,I){var Y=new lr(ts,[],I?function(Ae){var Ce={color:en,string:It,number:St,enum:It,boolean:Gt,formatted:An,resolvedImage:_n};return Ae.type==="array"?un(Ce[Ae.value]||jt,Ae.length):Ce[Ae.type]}(I):void 0),se=Y.parse(A,void 0,void 0,void 0,I&&I.type==="string"?{typeAnnotation:"coerce"}:void 0);return se?Qs(new Ao(se,I)):To(Y.errors)}Ao.prototype.evaluateWithoutErrorHandling=function(A,I,Y,se,Ae,Ce){return this._evaluator.globals=A,this._evaluator.feature=I,this._evaluator.featureState=Y,this._evaluator.canonical=se,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=Ce,this.expression.evaluate(this._evaluator)},Ao.prototype.evaluate=function(A,I,Y,se,Ae,Ce){this._evaluator.globals=A,this._evaluator.feature=I||null,this._evaluator.featureState=Y||null,this._evaluator.canonical=se,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=Ce||null;try{var Ne=this.expression.evaluate(this._evaluator);if(Ne==null||typeof Ne=="number"&&Ne!=Ne)return this._defaultValue;if(this._enumValues&&!(Ne in this._enumValues))throw new Qt("Expected value to be one of "+Object.keys(this._enumValues).map(function(Ke){return JSON.stringify(Ke)}).join(", ")+", but found "+JSON.stringify(Ne)+" instead.");return Ne}catch(Ke){return this._warningHistory[Ke.message]||(this._warningHistory[Ke.message]=!0,typeof console<"u"&&console.warn(Ke.message)),this._defaultValue}};var Fa=function(A,I){this.kind=A,this._styleExpression=I,this.isStateDependent=A!=="constant"&&!Wn(I.expression)};Fa.prototype.evaluateWithoutErrorHandling=function(A,I,Y,se,Ae,Ce){return this._styleExpression.evaluateWithoutErrorHandling(A,I,Y,se,Ae,Ce)},Fa.prototype.evaluate=function(A,I,Y,se,Ae,Ce){return this._styleExpression.evaluate(A,I,Y,se,Ae,Ce)};var is=function(A,I,Y,se){this.kind=A,this.zoomStops=Y,this._styleExpression=I,this.isStateDependent=A!=="camera"&&!Wn(I.expression),this.interpolationType=se};function fl(A,I){if((A=uo(A,I)).result==="error")return A;var Y=A.value.expression,se=Kn(Y);if(!se&&!so(I))return To([new xt("","data expressions not supported")]);var Ae=fr(Y,["zoom"]);if(!Ae&&!lo(I))return To([new xt("","zoom expressions not supported")]);var Ce=qs(Y);if(!Ce&&!Ae)return To([new xt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ce instanceof xt)return To([Ce]);if(Ce instanceof Di&&!ko(I))return To([new xt("",'"interpolate" expressions cannot be used with this property')]);if(!Ce)return Qs(new Fa(se?"constant":"source",A.value));var Ne=Ce instanceof Di?Ce.interpolation:void 0;return Qs(new is(se?"camera":"composite",A.value,Ce.labels,Ne))}is.prototype.evaluateWithoutErrorHandling=function(A,I,Y,se,Ae,Ce){return this._styleExpression.evaluateWithoutErrorHandling(A,I,Y,se,Ae,Ce)},is.prototype.evaluate=function(A,I,Y,se,Ae,Ce){return this._styleExpression.evaluate(A,I,Y,se,Ae,Ce)},is.prototype.interpolationFactor=function(A,I,Y){return this.interpolationType?Di.interpolationFactor(this.interpolationType,A,I,Y):0};var bs=function(A,I){this._parameters=A,this._specification=I,dt(this,Us(this._parameters,this._specification))};function qs(A){var I=null;if(A instanceof Da)I=qs(A.result);else if(A instanceof Ya)for(var Y=0,se=A.args;Y<se.length;Y+=1){var Ae=se[Y];if(I=qs(Ae))break}else(A instanceof _r||A instanceof Di)&&A.input instanceof hn&&A.input.name==="zoom"&&(I=A);return I instanceof xt||A.eachChild(function(Ce){var Ne=qs(Ce);Ne instanceof xt?I=Ne:!I&&Ne?I=new xt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&Ne&&I!==Ne&&(I=new xt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function xa(A){var I=A.key,Y=A.value,se=A.valueSpec||{},Ae=A.objectElementValidators||{},Ce=A.style,Ne=A.styleSpec,Ke=[],st=jr(Y);if(st!=="object")return[new ct(I,Y,"object expected, "+st+" found")];for(var yt in Y){var wt=yt.split(".")[0],zt=se[wt]||se["*"],Ut=void 0;if(Ae[wt])Ut=Ae[wt];else if(se[wt])Ut=Ma;else if(Ae["*"])Ut=Ae["*"];else{if(!se["*"]){Ke.push(new ct(I,Y[yt],'unknown property "'+yt+'"'));continue}Ut=Ma}Ke=Ke.concat(Ut({key:(I&&I+".")+yt,value:Y[yt],valueSpec:zt,style:Ce,styleSpec:Ne,object:Y,objectKey:yt},Y))}for(var Rt in se)Ae[Rt]||se[Rt].required&&se[Rt].default===void 0&&Y[Rt]===void 0&&Ke.push(new ct(I,Y,'missing required property "'+Rt+'"'));return Ke}function Hs(A){var I=A.value,Y=A.valueSpec,se=A.style,Ae=A.styleSpec,Ce=A.key,Ne=A.arrayElementValidator||Ma;if(jr(I)!=="array")return[new ct(Ce,I,"array expected, "+jr(I)+" found")];if(Y.length&&I.length!==Y.length)return[new ct(Ce,I,"array length "+Y.length+" expected, length "+I.length+" found")];if(Y["min-length"]&&I.length<Y["min-length"])return[new ct(Ce,I,"array length at least "+Y["min-length"]+" expected, length "+I.length+" found")];var Ke={type:Y.value,values:Y.values};Ae.$version<7&&(Ke.function=Y.function),jr(Y.value)==="object"&&(Ke=Y.value);for(var st=[],yt=0;yt<I.length;yt++)st=st.concat(Ne({array:I,arrayIndex:yt,value:I[yt],valueSpec:Ke,style:se,styleSpec:Ae,key:Ce+"["+yt+"]"}));return st}function hl(A){var I=A.key,Y=A.value,se=A.valueSpec,Ae=jr(Y);return Ae==="number"&&Y!=Y&&(Ae="NaN"),Ae!=="number"?[new ct(I,Y,"number expected, "+Ae+" found")]:"minimum"in se&&Y<se.minimum?[new ct(I,Y,Y+" is less than the minimum value "+se.minimum)]:"maximum"in se&&Y>se.maximum?[new ct(I,Y,Y+" is greater than the maximum value "+se.maximum)]:[]}function as(A){var I,Y,se,Ae=A.valueSpec,Ce=ut(A.value.type),Ne={},Ke=Ce!=="categorical"&&A.value.property===void 0,st=!Ke,yt=jr(A.value.stops)==="array"&&jr(A.value.stops[0])==="array"&&jr(A.value.stops[0][0])==="object",wt=xa({key:A.key,value:A.value,valueSpec:A.styleSpec.function,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{stops:function(Rt){if(Ce==="identity")return[new ct(Rt.key,Rt.value,'identity function may not have a "stops" property')];var tn=[],an=Rt.value;return tn=tn.concat(Hs({key:Rt.key,value:an,valueSpec:Rt.valueSpec,style:Rt.style,styleSpec:Rt.styleSpec,arrayElementValidator:zt})),jr(an)==="array"&&an.length===0&&tn.push(new ct(Rt.key,an,"array must have at least one stop")),tn},default:function(Rt){return Ma({key:Rt.key,value:Rt.value,valueSpec:Ae,style:Rt.style,styleSpec:Rt.styleSpec})}}});return Ce==="identity"&&Ke&&wt.push(new ct(A.key,A.value,'missing required property "property"')),Ce==="identity"||A.value.stops||wt.push(new ct(A.key,A.value,'missing required property "stops"')),Ce==="exponential"&&A.valueSpec.expression&&!ko(A.valueSpec)&&wt.push(new ct(A.key,A.value,"exponential functions not supported")),A.styleSpec.$version>=8&&(st&&!so(A.valueSpec)?wt.push(new ct(A.key,A.value,"property functions not supported")):Ke&&!lo(A.valueSpec)&&wt.push(new ct(A.key,A.value,"zoom functions not supported"))),Ce!=="categorical"&&!yt||A.value.property!==void 0||wt.push(new ct(A.key,A.value,'"property" property is required')),wt;function zt(Rt){var tn=[],an=Rt.value,bn=Rt.key;if(jr(an)!=="array")return[new ct(bn,an,"array expected, "+jr(an)+" found")];if(an.length!==2)return[new ct(bn,an,"array length 2 expected, length "+an.length+" found")];if(yt){if(jr(an[0])!=="object")return[new ct(bn,an,"object expected, "+jr(an[0])+" found")];if(an[0].zoom===void 0)return[new ct(bn,an,"object stop key must have zoom")];if(an[0].value===void 0)return[new ct(bn,an,"object stop key must have value")];if(se&&se>ut(an[0].zoom))return[new ct(bn,an[0].zoom,"stop zoom values must appear in ascending order")];ut(an[0].zoom)!==se&&(se=ut(an[0].zoom),Y=void 0,Ne={}),tn=tn.concat(xa({key:bn+"[0]",value:an[0],valueSpec:{zoom:{}},style:Rt.style,styleSpec:Rt.styleSpec,objectElementValidators:{zoom:hl,value:Ut}}))}else tn=tn.concat(Ut({key:bn+"[0]",value:an[0],valueSpec:{},style:Rt.style,styleSpec:Rt.styleSpec},an));return Go(kt(an[1]))?tn.concat([new ct(bn+"[1]",an[1],"expressions are not allowed in function stops.")]):tn.concat(Ma({key:bn+"[1]",value:an[1],valueSpec:Ae,style:Rt.style,styleSpec:Rt.styleSpec}))}function Ut(Rt,tn){var an=jr(Rt.value),bn=ut(Rt.value),mn=Rt.value!==null?Rt.value:tn;if(I){if(an!==I)return[new ct(Rt.key,mn,an+" stop domain type must match previous stop domain type "+I)]}else I=an;if(an!=="number"&&an!=="string"&&an!=="boolean")return[new ct(Rt.key,mn,"stop domain value must be a number, string, or boolean")];if(an!=="number"&&Ce!=="categorical"){var In="number expected, "+an+" found";return so(Ae)&&Ce===void 0&&(In+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ct(Rt.key,mn,In)]}return Ce!=="categorical"||an!=="number"||isFinite(bn)&&Math.floor(bn)===bn?Ce!=="categorical"&&an==="number"&&Y!==void 0&&bn<Y?[new ct(Rt.key,mn,"stop domain values must appear in ascending order")]:(Y=bn,Ce==="categorical"&&bn in Ne?[new ct(Rt.key,mn,"stop domain values must be unique")]:(Ne[bn]=!0,[])):[new ct(Rt.key,mn,"integer expected, found "+bn)]}}function Wo(A){var I=(A.expressionContext==="property"?fl:uo)(kt(A.value),A.valueSpec);if(I.result==="error")return I.value.map(function(se){return new ct(""+A.key+se.key,A.value,se.message)});var Y=I.value.expression||I.value._styleExpression.expression;if(A.expressionContext==="property"&&A.propertyKey==="text-font"&&!Y.outputDefined())return[new ct(A.key,A.value,'Invalid data expression for "'+A.propertyKey+'". Output values must be contained as literals within the expression.')];if(A.expressionContext==="property"&&A.propertyType==="layout"&&!Wn(Y))return[new ct(A.key,A.value,'"feature-state" data expressions are not supported with layout properties.')];if(A.expressionContext==="filter"&&!Wn(Y))return[new ct(A.key,A.value,'"feature-state" data expressions are not supported with filters.')];if(A.expressionContext&&A.expressionContext.indexOf("cluster")===0){if(!fr(Y,["zoom","feature-state"]))return[new ct(A.key,A.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(A.expressionContext==="cluster-initial"&&!Kn(Y))return[new ct(A.key,A.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function os(A){var I=A.key,Y=A.value,se=A.valueSpec,Ae=[];return Array.isArray(se.values)?se.values.indexOf(ut(Y))===-1&&Ae.push(new ct(I,Y,"expected one of ["+se.values.join(", ")+"], "+JSON.stringify(Y)+" found")):Object.keys(se.values).indexOf(ut(Y))===-1&&Ae.push(new ct(I,Y,"expected one of ["+Object.keys(se.values).join(", ")+"], "+JSON.stringify(Y)+" found")),Ae}function Yo(A){if(A===!0||A===!1)return!0;if(!Array.isArray(A)||A.length===0)return!1;switch(A[0]){case"has":return A.length>=2&&A[1]!=="$id"&&A[1]!=="$type";case"in":return A.length>=3&&(typeof A[1]!="string"||Array.isArray(A[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return A.length!==3||Array.isArray(A[1])||Array.isArray(A[2]);case"any":case"all":for(var I=0,Y=A.slice(1);I<Y.length;I+=1){var se=Y[I];if(!Yo(se)&&typeof se!="boolean")return!1}return!0;default:return!0}}bs.deserialize=function(A){return new bs(A._parameters,A._specification)},bs.serialize=function(A){return{_parameters:A._parameters,_specification:A._specification}};var Zo={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function _s(A){if(A==null)return{filter:function(){return!0},needGeometry:!1};Yo(A)||(A=Mo(A));var I=uo(A,Zo);if(I.result==="error")throw new Error(I.value.map(function(Y){return Y.key+": "+Y.message}).join(", "));return{filter:function(Y,se,Ae){return I.value.evaluate(Y,se,{},Ae)},needGeometry:Jr(A)}}function Gs(A,I){return A<I?-1:A>I?1:0}function Jr(A){if(!Array.isArray(A))return!1;if(A[0]==="within")return!0;for(var I=1;I<A.length;I++)if(Jr(A[I]))return!0;return!1}function Mo(A){if(!A)return!0;var I,Y=A[0];return A.length<=1?Y!=="any":Y==="=="?Wi(A[1],A[2],"=="):Y==="!="?Kr(Wi(A[1],A[2],"==")):Y==="<"||Y===">"||Y==="<="||Y===">="?Wi(A[1],A[2],Y):Y==="any"?(I=A.slice(1),["any"].concat(I.map(Mo))):Y==="all"?["all"].concat(A.slice(1).map(Mo)):Y==="none"?["all"].concat(A.slice(1).map(Mo).map(Kr)):Y==="in"?Ba(A[1],A.slice(2)):Y==="!in"?Kr(Ba(A[1],A.slice(2))):Y==="has"?Gr(A[1]):Y==="!has"?Kr(Gr(A[1])):Y!=="within"||A}function Wi(A,I,Y){switch(A){case"$type":return["filter-type-"+Y,I];case"$id":return["filter-id-"+Y,I];default:return["filter-"+Y,A,I]}}function Ba(A,I){if(I.length===0)return!1;switch(A){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(Y){return typeof Y!=typeof I[0]})?["filter-in-large",A,["literal",I.sort(Gs)]]:["filter-in-small",A,["literal",I]]}}function Gr(A){switch(A){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",A]}}function Kr(A){return["!",A]}function ba(A){return Yo(kt(A.value))?Wo(dt({},A,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ss(A)}function ss(A){var I=A.value,Y=A.key;if(jr(I)!=="array")return[new ct(Y,I,"array expected, "+jr(I)+" found")];var se,Ae=A.styleSpec,Ce=[];if(I.length<1)return[new ct(Y,I,"filter array must have at least 1 element")];switch(Ce=Ce.concat(os({key:Y+"[0]",value:I[0],valueSpec:Ae.filter_operator,style:A.style,styleSpec:A.styleSpec})),ut(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&ut(I[1])==="$type"&&Ce.push(new ct(Y,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":I.length!==3&&Ce.push(new ct(Y,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&(se=jr(I[1]))!=="string"&&Ce.push(new ct(Y+"[1]",I[1],"string expected, "+se+" found"));for(var Ne=2;Ne<I.length;Ne++)se=jr(I[Ne]),ut(I[1])==="$type"?Ce=Ce.concat(os({key:Y+"["+Ne+"]",value:I[Ne],valueSpec:Ae.geometry_type,style:A.style,styleSpec:A.styleSpec})):se!=="string"&&se!=="number"&&se!=="boolean"&&Ce.push(new ct(Y+"["+Ne+"]",I[Ne],"string, number, or boolean expected, "+se+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<I.length;Ke++)Ce=Ce.concat(ss({key:Y+"["+Ke+"]",value:I[Ke],style:A.style,styleSpec:A.styleSpec}));break;case"has":case"!has":se=jr(I[1]),I.length!==2?Ce.push(new ct(Y,I,'filter array for "'+I[0]+'" operator must have 2 elements')):se!=="string"&&Ce.push(new ct(Y+"[1]",I[1],"string expected, "+se+" found"));break;case"within":se=jr(I[1]),I.length!==2?Ce.push(new ct(Y,I,'filter array for "'+I[0]+'" operator must have 2 elements')):se!=="object"&&Ce.push(new ct(Y+"[1]",I[1],"object expected, "+se+" found"))}return Ce}function ws(A,I){var Y=A.key,se=A.style,Ae=A.styleSpec,Ce=A.value,Ne=A.objectKey,Ke=Ae[I+"_"+A.layerType];if(!Ke)return[];var st=Ne.match(/^(.*)-transition$/);if(I==="paint"&&st&&Ke[st[1]]&&Ke[st[1]].transition)return Ma({key:Y,value:Ce,valueSpec:Ae.transition,style:se,styleSpec:Ae});var yt,wt=A.valueSpec||Ke[Ne];if(!wt)return[new ct(Y,Ce,'unknown property "'+Ne+'"')];if(jr(Ce)==="string"&&so(wt)&&!wt.tokens&&(yt=/^{([^}]+)}$/.exec(Ce)))return[new ct(Y,Ce,'"'+Ne+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(yt[1])+" }`.")];var zt=[];return A.layerType==="symbol"&&(Ne==="text-field"&&se&&!se.glyphs&&zt.push(new ct(Y,Ce,'use of "text-field" requires a style "glyphs" property')),Ne==="text-font"&&ns(kt(Ce))&&ut(Ce.type)==="identity"&&zt.push(new ct(Y,Ce,'"text-font" does not support identity functions'))),zt.concat(Ma({key:A.key,value:Ce,valueSpec:wt,style:se,styleSpec:Ae,expressionContext:"property",propertyType:I,propertyKey:Ne}))}function Ws(A){return ws(A,"paint")}function Ts(A){return ws(A,"layout")}function ks(A){var I=[],Y=A.value,se=A.key,Ae=A.style,Ce=A.styleSpec;Y.type||Y.ref||I.push(new ct(se,Y,'either "type" or "ref" is required'));var Ne,Ke=ut(Y.type),st=ut(Y.ref);if(Y.id)for(var yt=ut(Y.id),wt=0;wt<A.arrayIndex;wt++){var zt=Ae.layers[wt];ut(zt.id)===yt&&I.push(new ct(se,Y.id,'duplicate layer id "'+Y.id+'", previously used at line '+zt.id.__line__))}if("ref"in Y)["type","source","source-layer","filter","layout"].forEach(function(tn){tn in Y&&I.push(new ct(se,Y[tn],'"'+tn+'" is prohibited for ref layers'))}),Ae.layers.forEach(function(tn){ut(tn.id)===st&&(Ne=tn)}),Ne?Ne.ref?I.push(new ct(se,Y.ref,"ref cannot reference another ref layer")):Ke=ut(Ne.type):I.push(new ct(se,Y.ref,'ref layer "'+st+'" not found'));else if(Ke!=="background")if(Y.source){var Ut=Ae.sources&&Ae.sources[Y.source],Rt=Ut&&ut(Ut.type);Ut?Rt==="vector"&&Ke==="raster"?I.push(new ct(se,Y.source,'layer "'+Y.id+'" requires a raster source')):Rt==="raster"&&Ke!=="raster"?I.push(new ct(se,Y.source,'layer "'+Y.id+'" requires a vector source')):Rt!=="vector"||Y["source-layer"]?Rt==="raster-dem"&&Ke!=="hillshade"?I.push(new ct(se,Y.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ke!=="line"||!Y.paint||!Y.paint["line-gradient"]||Rt==="geojson"&&Ut.lineMetrics||I.push(new ct(se,Y,'layer "'+Y.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new ct(se,Y,'layer "'+Y.id+'" must specify a "source-layer"')):I.push(new ct(se,Y.source,'source "'+Y.source+'" not found'))}else I.push(new ct(se,Y,'missing required property "source"'));return I=I.concat(xa({key:se,value:Y,valueSpec:Ce.layer,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ma({key:se+".type",value:Y.type,valueSpec:Ce.layer.type,style:A.style,styleSpec:A.styleSpec,object:Y,objectKey:"type"})},filter:ba,layout:function(tn){return xa({layer:Y,key:tn.key,value:tn.value,style:tn.style,styleSpec:tn.styleSpec,objectElementValidators:{"*":function(an){return Ts(dt({layerType:Ke},an))}}})},paint:function(tn){return xa({layer:Y,key:tn.key,value:tn.value,style:tn.style,styleSpec:tn.styleSpec,objectElementValidators:{"*":function(an){return Ws(dt({layerType:Ke},an))}}})}}})),I}function Aa(A){var I=A.value,Y=A.key,se=jr(I);return se!=="string"?[new ct(Y,I,"string expected, "+se+" found")]:[]}var So={promoteId:function(A){var I=A.key,Y=A.value;if(jr(Y)==="string")return Aa({key:I,value:Y});var se=[];for(var Ae in Y)se.push.apply(se,Aa({key:I+"."+Ae,value:Y[Ae]}));return se}};function Eo(A){var I=A.value,Y=A.key,se=A.styleSpec,Ae=A.style;if(!I.type)return[new ct(Y,I,'"type" is required')];var Ce,Ne=ut(I.type);switch(Ne){case"vector":case"raster":case"raster-dem":return xa({key:Y,value:I,valueSpec:se["source_"+Ne.replace("-","_")],style:A.style,styleSpec:se,objectElementValidators:So});case"geojson":if(Ce=xa({key:Y,value:I,valueSpec:se.source_geojson,style:Ae,styleSpec:se,objectElementValidators:So}),I.cluster)for(var Ke in I.clusterProperties){var st=I.clusterProperties[Ke],yt=st[0],wt=st[1],zt=typeof yt=="string"?[yt,["accumulated"],["get",Ke]]:yt;Ce.push.apply(Ce,Wo({key:Y+"."+Ke+".map",value:wt,expressionContext:"cluster-map"})),Ce.push.apply(Ce,Wo({key:Y+"."+Ke+".reduce",value:zt,expressionContext:"cluster-reduce"}))}return Ce;case"video":return xa({key:Y,value:I,valueSpec:se.source_video,style:Ae,styleSpec:se});case"image":return xa({key:Y,value:I,valueSpec:se.source_image,style:Ae,styleSpec:se});case"canvas":return[new ct(Y,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return os({key:Y+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Ae,styleSpec:se})}}function $i(A){var I=A.value,Y=A.styleSpec,se=Y.light,Ae=A.style,Ce=[],Ne=jr(I);if(I===void 0)return Ce;if(Ne!=="object")return Ce.concat([new ct("light",I,"object expected, "+Ne+" found")]);for(var Ke in I){var st=Ke.match(/^(.*)-transition$/);Ce=st&&se[st[1]]&&se[st[1]].transition?Ce.concat(Ma({key:Ke,value:I[Ke],valueSpec:Y.transition,style:Ae,styleSpec:Y})):se[Ke]?Ce.concat(Ma({key:Ke,value:I[Ke],valueSpec:se[Ke],style:Ae,styleSpec:Y})):Ce.concat([new ct(Ke,I[Ke],'unknown property "'+Ke+'"')])}return Ce}var As={"*":function(){return[]},array:Hs,boolean:function(A){var I=A.value,Y=A.key,se=jr(I);return se!=="boolean"?[new ct(Y,I,"boolean expected, "+se+" found")]:[]},number:hl,color:function(A){var I=A.key,Y=A.value,se=jr(Y);return se!=="string"?[new ct(I,Y,"color expected, "+se+" found")]:Pn(Y)===null?[new ct(I,Y,'color expected, "'+Y+'" found')]:[]},constants:ht,enum:os,filter:ba,function:as,layer:ks,object:xa,source:Eo,light:$i,string:Aa,formatted:function(A){return Aa(A).length===0?[]:Wo(A)},resolvedImage:function(A){return Aa(A).length===0?[]:Wo(A)}};function Ma(A){var I=A.value,Y=A.valueSpec,se=A.styleSpec;return Y.expression&&ns(ut(I))?as(A):Y.expression&&Go(kt(I))?Wo(A):Y.type&&As[Y.type]?As[Y.type](A):xa(dt({},A,{valueSpec:Y.type?se[Y.type]:Y}))}function Ri(A){var I=A.value,Y=A.key,se=Aa(A);return se.length||(I.indexOf("{fontstack}")===-1&&se.push(new ct(Y,I,'"glyphs" url must include a "{fontstack}" token')),I.indexOf("{range}")===-1&&se.push(new ct(Y,I,'"glyphs" url must include a "{range}" token'))),se}function Ui(A,I){I===void 0&&(I=Ye);var Y=[];return Y=Y.concat(Ma({key:"",value:A,valueSpec:I.$root,styleSpec:I,style:A,objectElementValidators:{glyphs:Ri,"*":function(){return[]}}})),A.constants&&(Y=Y.concat(ht({key:"constants",value:A.constants,style:A,styleSpec:I}))),ii(Y)}function ii(A){return[].concat(A).sort(function(I,Y){return I.line-Y.line})}function Vi(A){return function(){for(var I=[],Y=arguments.length;Y--;)I[Y]=arguments[Y];return ii(A.apply(this,I))}}Ui.source=Vi(Eo),Ui.light=Vi($i),Ui.layer=Vi(ks),Ui.filter=Vi(ba),Ui.paintProperty=Vi(Ws),Ui.layoutProperty=Vi(Ts);var Ja=Ui,Xo=Ja.light,Na=Ja.paintProperty,Lo=Ja.layoutProperty;function aa(A,I){var Y=!1;if(I&&I.length)for(var se=0,Ae=I;se<Ae.length;se+=1){var Ce=Ae[se];A.fire(new Fe(new Error(Ce.message))),Y=!0}return Y}var Ko=Sa,co=3;function Sa(A,I,Y){var se=this.cells=[];if(A instanceof ArrayBuffer){this.arrayBuffer=A;var Ae=new Int32Array(this.arrayBuffer);A=Ae[0],I=Ae[1],Y=Ae[2],this.d=I+2*Y;for(var Ce=0;Ce<this.d*this.d;Ce++){var Ne=Ae[co+Ce],Ke=Ae[co+Ce+1];se.push(Ne===Ke?null:Ae.subarray(Ne,Ke))}var st=Ae[co+se.length],yt=Ae[co+se.length+1];this.keys=Ae.subarray(st,yt),this.bboxes=Ae.subarray(yt),this.insert=this._insertReadonly}else{this.d=I+2*Y;for(var wt=0;wt<this.d*this.d;wt++)se.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=A,this.padding=Y,this.scale=I/A,this.uid=0;var zt=Y/I*A;this.min=-zt,this.max=A+zt}Sa.prototype.insert=function(A,I,Y,se,Ae){this._forEachCell(I,Y,se,Ae,this._insertCell,this.uid++),this.keys.push(A),this.bboxes.push(I),this.bboxes.push(Y),this.bboxes.push(se),this.bboxes.push(Ae)},Sa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Sa.prototype._insertCell=function(A,I,Y,se,Ae,Ce){this.cells[Ae].push(Ce)},Sa.prototype.query=function(A,I,Y,se,Ae){var Ce=this.min,Ne=this.max;if(A<=Ce&&I<=Ce&&Ne<=Y&&Ne<=se&&!Ae)return Array.prototype.slice.call(this.keys);var Ke=[];return this._forEachCell(A,I,Y,se,this._queryCell,Ke,{},Ae),Ke},Sa.prototype._queryCell=function(A,I,Y,se,Ae,Ce,Ne,Ke){var st=this.cells[Ae];if(st!==null)for(var yt=this.keys,wt=this.bboxes,zt=0;zt<st.length;zt++){var Ut=st[zt];if(Ne[Ut]===void 0){var Rt=4*Ut;(Ke?Ke(wt[Rt+0],wt[Rt+1],wt[Rt+2],wt[Rt+3]):A<=wt[Rt+2]&&I<=wt[Rt+3]&&Y>=wt[Rt+0]&&se>=wt[Rt+1])?(Ne[Ut]=!0,Ce.push(yt[Ut])):Ne[Ut]=!1}}},Sa.prototype._forEachCell=function(A,I,Y,se,Ae,Ce,Ne,Ke){for(var st=this._convertToCellCoord(A),yt=this._convertToCellCoord(I),wt=this._convertToCellCoord(Y),zt=this._convertToCellCoord(se),Ut=st;Ut<=wt;Ut++)for(var Rt=yt;Rt<=zt;Rt++){var tn=this.d*Rt+Ut;if((!Ke||Ke(this._convertFromCellCoord(Ut),this._convertFromCellCoord(Rt),this._convertFromCellCoord(Ut+1),this._convertFromCellCoord(Rt+1)))&&Ae.call(this,A,I,Y,se,tn,Ce,Ne,Ke))return}},Sa.prototype._convertFromCellCoord=function(A){return(A-this.padding)/this.scale},Sa.prototype._convertToCellCoord=function(A){return Math.max(0,Math.min(this.d-1,Math.floor(A*this.scale)+this.padding))},Sa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var A=this.cells,I=co+this.cells.length+1+1,Y=0,se=0;se<this.cells.length;se++)Y+=this.cells[se].length;var Ae=new Int32Array(I+Y+this.keys.length+this.bboxes.length);Ae[0]=this.extent,Ae[1]=this.n,Ae[2]=this.padding;for(var Ce=I,Ne=0;Ne<A.length;Ne++){var Ke=A[Ne];Ae[co+Ne]=Ce,Ae.set(Ke,Ce),Ce+=Ke.length}return Ae[co+A.length]=Ce,Ae.set(this.keys,Ce),Ce+=this.keys.length,Ae[co+A.length+1]=Ce,Ae.set(this.bboxes,Ce),Ce+=this.bboxes.length,Ae.buffer};var Ea=r.ImageData,oi=r.ImageBitmap,ja={};function wr(A,I,Y){Y===void 0&&(Y={}),Object.defineProperty(I,"_classRegistryKey",{value:A,writeable:!1}),ja[A]={klass:I,omit:Y.omit||[],shallow:Y.shallow||[]}}for(var Ms in wr("Object",Object),Ko.serialize=function(A,I){var Y=A.toArrayBuffer();return I&&I.push(Y),{buffer:Y}},Ko.deserialize=function(A){return new Ko(A.buffer)},wr("Grid",Ko),wr("Color",Cn),wr("Error",Error),wr("ResolvedImage",er),wr("StylePropertyFunction",bs),wr("StyleExpression",Ao,{omit:["_evaluator"]}),wr("ZoomDependentExpression",is),wr("ZoomConstantExpression",Fa),wr("CompoundExpression",hn,{omit:["_evaluate"]}),ts)ts[Ms]._classRegistryKey||wr("Expression_"+Ms,ts[Ms]);function el(A){return A&&typeof ArrayBuffer<"u"&&(A instanceof ArrayBuffer||A.constructor&&A.constructor.name==="ArrayBuffer")}function Co(A){return oi&&A instanceof oi}function Po(A,I){if(A==null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp)return A;if(el(A)||Co(A))return I&&I.push(A),A;if(ArrayBuffer.isView(A)){var Y=A;return I&&I.push(Y.buffer),Y}if(A instanceof Ea)return I&&I.push(A.data.buffer),A;if(Array.isArray(A)){for(var se=[],Ae=0,Ce=A;Ae<Ce.length;Ae+=1){var Ne=Ce[Ae];se.push(Po(Ne,I))}return se}if(typeof A=="object"){var Ke=A.constructor,st=Ke._classRegistryKey;if(!st)throw new Error("can't serialize object of unregistered class");var yt=Ke.serialize?Ke.serialize(A,I):{};if(!Ke.serialize){for(var wt in A)if(A.hasOwnProperty(wt)&&!(ja[st].omit.indexOf(wt)>=0)){var zt=A[wt];yt[wt]=ja[st].shallow.indexOf(wt)>=0?zt:Po(zt,I)}A instanceof Error&&(yt.message=A.message)}if(yt.$name)throw new Error("$name property is reserved for worker serialization logic.");return st!=="Object"&&(yt.$name=st),yt}throw new Error("can't serialize object of type "+typeof A)}function Jo(A){if(A==null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp||el(A)||Co(A)||ArrayBuffer.isView(A)||A instanceof Ea)return A;if(Array.isArray(A))return A.map(Jo);if(typeof A=="object"){var I=A.$name||"Object",Y=ja[I].klass;if(!Y)throw new Error("can't deserialize unregistered class "+I);if(Y.deserialize)return Y.deserialize(A);for(var se=Object.create(Y.prototype),Ae=0,Ce=Object.keys(A);Ae<Ce.length;Ae+=1){var Ne=Ce[Ae];if(Ne!=="$name"){var Ke=A[Ne];se[Ne]=ja[I].shallow.indexOf(Ne)>=0?Ke:Jo(Ke)}}return se}throw new Error("can't deserialize object of type "+typeof A)}var ls=function(){this.first=!0};ls.prototype.update=function(A,I){var Y=Math.floor(A);return this.first?(this.first=!1,this.lastIntegerZoom=Y,this.lastIntegerZoomTime=0,this.lastZoom=A,this.lastFloorZoom=Y,!0):(this.lastFloorZoom>Y?(this.lastIntegerZoom=Y+1,this.lastIntegerZoomTime=I):this.lastFloorZoom<Y&&(this.lastIntegerZoom=Y,this.lastIntegerZoomTime=I),A!==this.lastZoom&&(this.lastZoom=A,this.lastFloorZoom=Y,!0))};var gr={"Latin-1 Supplement":function(A){return A>=128&&A<=255},Arabic:function(A){return A>=1536&&A<=1791},"Arabic Supplement":function(A){return A>=1872&&A<=1919},"Arabic Extended-A":function(A){return A>=2208&&A<=2303},"Hangul Jamo":function(A){return A>=4352&&A<=4607},"Unified Canadian Aboriginal Syllabics":function(A){return A>=5120&&A<=5759},Khmer:function(A){return A>=6016&&A<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(A){return A>=6320&&A<=6399},"General Punctuation":function(A){return A>=8192&&A<=8303},"Letterlike Symbols":function(A){return A>=8448&&A<=8527},"Number Forms":function(A){return A>=8528&&A<=8591},"Miscellaneous Technical":function(A){return A>=8960&&A<=9215},"Control Pictures":function(A){return A>=9216&&A<=9279},"Optical Character Recognition":function(A){return A>=9280&&A<=9311},"Enclosed Alphanumerics":function(A){return A>=9312&&A<=9471},"Geometric Shapes":function(A){return A>=9632&&A<=9727},"Miscellaneous Symbols":function(A){return A>=9728&&A<=9983},"Miscellaneous Symbols and Arrows":function(A){return A>=11008&&A<=11263},"CJK Radicals Supplement":function(A){return A>=11904&&A<=12031},"Kangxi Radicals":function(A){return A>=12032&&A<=12255},"Ideographic Description Characters":function(A){return A>=12272&&A<=12287},"CJK Symbols and Punctuation":function(A){return A>=12288&&A<=12351},Hiragana:function(A){return A>=12352&&A<=12447},Katakana:function(A){return A>=12448&&A<=12543},Bopomofo:function(A){return A>=12544&&A<=12591},"Hangul Compatibility Jamo":function(A){return A>=12592&&A<=12687},Kanbun:function(A){return A>=12688&&A<=12703},"Bopomofo Extended":function(A){return A>=12704&&A<=12735},"CJK Strokes":function(A){return A>=12736&&A<=12783},"Katakana Phonetic Extensions":function(A){return A>=12784&&A<=12799},"Enclosed CJK Letters and Months":function(A){return A>=12800&&A<=13055},"CJK Compatibility":function(A){return A>=13056&&A<=13311},"CJK Unified Ideographs Extension A":function(A){return A>=13312&&A<=19903},"Yijing Hexagram Symbols":function(A){return A>=19904&&A<=19967},"CJK Unified Ideographs":function(A){return A>=19968&&A<=40959},"Yi Syllables":function(A){return A>=40960&&A<=42127},"Yi Radicals":function(A){return A>=42128&&A<=42191},"Hangul Jamo Extended-A":function(A){return A>=43360&&A<=43391},"Hangul Syllables":function(A){return A>=44032&&A<=55215},"Hangul Jamo Extended-B":function(A){return A>=55216&&A<=55295},"Private Use Area":function(A){return A>=57344&&A<=63743},"CJK Compatibility Ideographs":function(A){return A>=63744&&A<=64255},"Arabic Presentation Forms-A":function(A){return A>=64336&&A<=65023},"Vertical Forms":function(A){return A>=65040&&A<=65055},"CJK Compatibility Forms":function(A){return A>=65072&&A<=65103},"Small Form Variants":function(A){return A>=65104&&A<=65135},"Arabic Presentation Forms-B":function(A){return A>=65136&&A<=65279},"Halfwidth and Fullwidth Forms":function(A){return A>=65280&&A<=65519}};function Ss(A){for(var I=0,Y=A;I<Y.length;I+=1)if(fo(Y[I].charCodeAt(0)))return!0;return!1}function fo(A){return!(A!==746&&A!==747&&(A<4352||!(gr["Bopomofo Extended"](A)||gr.Bopomofo(A)||gr["CJK Compatibility Forms"](A)&&!(A>=65097&&A<=65103)||gr["CJK Compatibility Ideographs"](A)||gr["CJK Compatibility"](A)||gr["CJK Radicals Supplement"](A)||gr["CJK Strokes"](A)||!(!gr["CJK Symbols and Punctuation"](A)||A>=12296&&A<=12305||A>=12308&&A<=12319||A===12336)||gr["CJK Unified Ideographs Extension A"](A)||gr["CJK Unified Ideographs"](A)||gr["Enclosed CJK Letters and Months"](A)||gr["Hangul Compatibility Jamo"](A)||gr["Hangul Jamo Extended-A"](A)||gr["Hangul Jamo Extended-B"](A)||gr["Hangul Jamo"](A)||gr["Hangul Syllables"](A)||gr.Hiragana(A)||gr["Ideographic Description Characters"](A)||gr.Kanbun(A)||gr["Kangxi Radicals"](A)||gr["Katakana Phonetic Extensions"](A)||gr.Katakana(A)&&A!==12540||!(!gr["Halfwidth and Fullwidth Forms"](A)||A===65288||A===65289||A===65293||A>=65306&&A<=65310||A===65339||A===65341||A===65343||A>=65371&&A<=65503||A===65507||A>=65512&&A<=65519)||!(!gr["Small Form Variants"](A)||A>=65112&&A<=65118||A>=65123&&A<=65126)||gr["Unified Canadian Aboriginal Syllabics"](A)||gr["Unified Canadian Aboriginal Syllabics Extended"](A)||gr["Vertical Forms"](A)||gr["Yijing Hexagram Symbols"](A)||gr["Yi Syllables"](A)||gr["Yi Radicals"](A))))}function Fi(A){return!(fo(A)||function(I){return!!(gr["Latin-1 Supplement"](I)&&(I===167||I===169||I===174||I===177||I===188||I===189||I===190||I===215||I===247)||gr["General Punctuation"](I)&&(I===8214||I===8224||I===8225||I===8240||I===8241||I===8251||I===8252||I===8258||I===8263||I===8264||I===8265||I===8273)||gr["Letterlike Symbols"](I)||gr["Number Forms"](I)||gr["Miscellaneous Technical"](I)&&(I>=8960&&I<=8967||I>=8972&&I<=8991||I>=8996&&I<=9e3||I===9003||I>=9085&&I<=9114||I>=9150&&I<=9165||I===9167||I>=9169&&I<=9179||I>=9186&&I<=9215)||gr["Control Pictures"](I)&&I!==9251||gr["Optical Character Recognition"](I)||gr["Enclosed Alphanumerics"](I)||gr["Geometric Shapes"](I)||gr["Miscellaneous Symbols"](I)&&!(I>=9754&&I<=9759)||gr["Miscellaneous Symbols and Arrows"](I)&&(I>=11026&&I<=11055||I>=11088&&I<=11097||I>=11192&&I<=11243)||gr["CJK Symbols and Punctuation"](I)||gr.Katakana(I)||gr["Private Use Area"](I)||gr["CJK Compatibility Forms"](I)||gr["Small Form Variants"](I)||gr["Halfwidth and Fullwidth Forms"](I)||I===8734||I===8756||I===8757||I>=9984&&I<=10087||I>=10102&&I<=10131||I===65532||I===65533)}(A))}function Oo(A){return gr.Arabic(A)||gr["Arabic Supplement"](A)||gr["Arabic Extended-A"](A)||gr["Arabic Presentation Forms-A"](A)||gr["Arabic Presentation Forms-B"](A)}function Ua(A){return A>=1424&&A<=2303||gr["Arabic Presentation Forms-A"](A)||gr["Arabic Presentation Forms-B"](A)}function La(A,I){return!(!I&&Ua(A)||A>=2304&&A<=3583||A>=3840&&A<=4255||gr.Khmer(A))}function Qi(A){for(var I=0,Y=A;I<Y.length;I+=1)if(Ua(Y[I].charCodeAt(0)))return!0;return!1}var $a="deferred",Ca="loading",ho="loaded",Es="error",Io=null,qr="unavailable",qi=null,oa=function(A){A&&typeof A=="string"&&A.indexOf("NetworkError")>-1&&(qr=Es),Io&&Io(A)};function Qa(){sa.fire(new Re("pluginStateChange",{pluginStatus:qr,pluginURL:qi}))}var sa=new rt,us=function(){return qr},cs=function(){if(qr!==$a||!qi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");qr=Ca,Qa(),qi&&Ot({url:qi},function(A){A?oa(A):(qr=ho,Qa())})},la={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return qr===ho||la.applyArabicShaping!=null},isLoading:function(){return qr===Ca},setState:function(A){qr=A.pluginStatus,qi=A.pluginURL},isParsed:function(){return la.applyArabicShaping!=null&&la.processBidirectionalText!=null&&la.processStyledBidirectionalText!=null},getPluginURL:function(){return qi}},Ur=function(A,I){this.zoom=A,I?(this.now=I.now,this.fadeDuration=I.fadeDuration,this.zoomHistory=I.zoomHistory,this.transition=I.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ls,this.transition={})};Ur.prototype.isSupportedScript=function(A){return function(I,Y){for(var se=0,Ae=I;se<Ae.length;se+=1)if(!La(Ae[se].charCodeAt(0),Y))return!1;return!0}(A,la.isLoaded())},Ur.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ur.prototype.getCrossfadeParameters=function(){var A=this.zoom,I=A-Math.floor(A),Y=this.crossFadingFactor();return A>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:I+(1-I)*Y}:{fromScale:.5,toScale:1,t:1-(1-Y)*I}};var eo=function(A,I){this.property=A,this.value=I,this.expression=function(Y,se){if(ns(Y))return new bs(Y,se);if(Go(Y)){var Ae=fl(Y,se);if(Ae.result==="error")throw new Error(Ae.value.map(function(Ne){return Ne.key+": "+Ne.message}).join(", "));return Ae.value}var Ce=Y;return typeof Y=="string"&&se.type==="color"&&(Ce=Cn.parse(Y)),{kind:"constant",evaluate:function(){return Ce}}}(I===void 0?A.specification.default:I,A.specification)};eo.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},eo.prototype.possiblyEvaluate=function(A,I,Y){return this.property.possiblyEvaluate(this,A,I,Y)};var $o=function(A){this.property=A,this.value=new eo(A,void 0)};$o.prototype.transitioned=function(A,I){return new fs(this.property,this.value,I,c({},A.transition,this.transition),A.now)},$o.prototype.untransitioned=function(){return new fs(this.property,this.value,null,{},0)};var Va=function(A){this._properties=A,this._values=Object.create(A.defaultTransitionablePropertyValues)};Va.prototype.getValue=function(A){return S(this._values[A].value.value)},Va.prototype.setValue=function(A,I){this._values.hasOwnProperty(A)||(this._values[A]=new $o(this._values[A].property)),this._values[A].value=new eo(this._values[A].property,I===null?void 0:S(I))},Va.prototype.getTransition=function(A){return S(this._values[A].transition)},Va.prototype.setTransition=function(A,I){this._values.hasOwnProperty(A)||(this._values[A]=new $o(this._values[A].property)),this._values[A].transition=S(I)||void 0},Va.prototype.serialize=function(){for(var A={},I=0,Y=Object.keys(this._values);I<Y.length;I+=1){var se=Y[I],Ae=this.getValue(se);Ae!==void 0&&(A[se]=Ae);var Ce=this.getTransition(se);Ce!==void 0&&(A[se+"-transition"]=Ce)}return A},Va.prototype.transitioned=function(A,I){for(var Y=new hs(this._properties),se=0,Ae=Object.keys(this._values);se<Ae.length;se+=1){var Ce=Ae[se];Y._values[Ce]=this._values[Ce].transitioned(A,I._values[Ce])}return Y},Va.prototype.untransitioned=function(){for(var A=new hs(this._properties),I=0,Y=Object.keys(this._values);I<Y.length;I+=1){var se=Y[I];A._values[se]=this._values[se].untransitioned()}return A};var fs=function(A,I,Y,se,Ae){this.property=A,this.value=I,this.begin=Ae+se.delay||0,this.end=this.begin+se.duration||0,A.specification.transition&&(se.delay||se.duration)&&(this.prior=Y)};fs.prototype.possiblyEvaluate=function(A,I,Y){var se=A.now||0,Ae=this.value.possiblyEvaluate(A,I,Y),Ce=this.prior;if(Ce){if(se>this.end)return this.prior=null,Ae;if(this.value.isDataDriven())return this.prior=null,Ae;if(se<this.begin)return Ce.possiblyEvaluate(A,I,Y);var Ne=(se-this.begin)/(this.end-this.begin);return this.property.interpolate(Ce.possiblyEvaluate(A,I,Y),Ae,function(Ke){if(Ke<=0)return 0;if(Ke>=1)return 1;var st=Ke*Ke,yt=st*Ke;return 4*(Ke<.5?yt:3*(Ke-st)+yt-.75)}(Ne))}return Ae};var hs=function(A){this._properties=A,this._values=Object.create(A.defaultTransitioningPropertyValues)};hs.prototype.possiblyEvaluate=function(A,I,Y){for(var se=new Qo(this._properties),Ae=0,Ce=Object.keys(this._values);Ae<Ce.length;Ae+=1){var Ne=Ce[Ae];se._values[Ne]=this._values[Ne].possiblyEvaluate(A,I,Y)}return se},hs.prototype.hasTransition=function(){for(var A=0,I=Object.keys(this._values);A<I.length;A+=1){var Y=I[A];if(this._values[Y].prior)return!0}return!1};var qa=function(A){this._properties=A,this._values=Object.create(A.defaultPropertyValues)};qa.prototype.getValue=function(A){return S(this._values[A].value)},qa.prototype.setValue=function(A,I){this._values[A]=new eo(this._values[A].property,I===null?void 0:S(I))},qa.prototype.serialize=function(){for(var A={},I=0,Y=Object.keys(this._values);I<Y.length;I+=1){var se=Y[I],Ae=this.getValue(se);Ae!==void 0&&(A[se]=Ae)}return A},qa.prototype.possiblyEvaluate=function(A,I,Y){for(var se=new Qo(this._properties),Ae=0,Ce=Object.keys(this._values);Ae<Ce.length;Ae+=1){var Ne=Ce[Ae];se._values[Ne]=this._values[Ne].possiblyEvaluate(A,I,Y)}return se};var si=function(A,I,Y){this.property=A,this.value=I,this.parameters=Y};si.prototype.isConstant=function(){return this.value.kind==="constant"},si.prototype.constantOr=function(A){return this.value.kind==="constant"?this.value.value:A},si.prototype.evaluate=function(A,I,Y,se){return this.property.evaluate(this.value,this.parameters,A,I,Y,se)};var Qo=function(A){this._properties=A,this._values=Object.create(A.defaultPossiblyEvaluatedValues)};Qo.prototype.get=function(A){return this._values[A]};var kr=function(A){this.specification=A};kr.prototype.possiblyEvaluate=function(A,I){return A.expression.evaluate(I)},kr.prototype.interpolate=function(A,I,Y){var se=ri[this.specification.type];return se?se(A,I,Y):A};var Cr=function(A,I){this.specification=A,this.overrides=I};Cr.prototype.possiblyEvaluate=function(A,I,Y,se){return A.expression.kind==="constant"||A.expression.kind==="camera"?new si(this,{kind:"constant",value:A.expression.evaluate(I,null,{},Y,se)},I):new si(this,A.expression,I)},Cr.prototype.interpolate=function(A,I,Y){if(A.value.kind!=="constant"||I.value.kind!=="constant")return A;if(A.value.value===void 0||I.value.value===void 0)return new si(this,{kind:"constant",value:void 0},A.parameters);var se=ri[this.specification.type];return se?new si(this,{kind:"constant",value:se(A.value.value,I.value.value,Y)},A.parameters):A},Cr.prototype.evaluate=function(A,I,Y,se,Ae,Ce){return A.kind==="constant"?A.value:A.evaluate(I,Y,se,Ae,Ce)};var _a=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(Y,se,Ae,Ce){if(Y.value===void 0)return new si(this,{kind:"constant",value:void 0},se);if(Y.expression.kind==="constant"){var Ne=Y.expression.evaluate(se,null,{},Ae,Ce),Ke=Y.property.specification.type==="resolvedImage"&&typeof Ne!="string"?Ne.name:Ne,st=this._calculate(Ke,Ke,Ke,se);return new si(this,{kind:"constant",value:st},se)}if(Y.expression.kind==="camera"){var yt=this._calculate(Y.expression.evaluate({zoom:se.zoom-1}),Y.expression.evaluate({zoom:se.zoom}),Y.expression.evaluate({zoom:se.zoom+1}),se);return new si(this,{kind:"constant",value:yt},se)}return new si(this,Y.expression,se)},I.prototype.evaluate=function(Y,se,Ae,Ce,Ne,Ke){if(Y.kind==="source"){var st=Y.evaluate(se,Ae,Ce,Ne,Ke);return this._calculate(st,st,st,se)}return Y.kind==="composite"?this._calculate(Y.evaluate({zoom:Math.floor(se.zoom)-1},Ae,Ce),Y.evaluate({zoom:Math.floor(se.zoom)},Ae,Ce),Y.evaluate({zoom:Math.floor(se.zoom)+1},Ae,Ce),se):Y.value},I.prototype._calculate=function(Y,se,Ae,Ce){return Ce.zoom>Ce.zoomHistory.lastIntegerZoom?{from:Y,to:se}:{from:Ae,to:se}},I.prototype.interpolate=function(Y){return Y},I}(Cr),to=function(A){this.specification=A};to.prototype.possiblyEvaluate=function(A,I,Y,se){if(A.value!==void 0){if(A.expression.kind==="constant"){var Ae=A.expression.evaluate(I,null,{},Y,se);return this._calculate(Ae,Ae,Ae,I)}return this._calculate(A.expression.evaluate(new Ur(Math.floor(I.zoom-1),I)),A.expression.evaluate(new Ur(Math.floor(I.zoom),I)),A.expression.evaluate(new Ur(Math.floor(I.zoom+1),I)),I)}},to.prototype._calculate=function(A,I,Y,se){return se.zoom>se.zoomHistory.lastIntegerZoom?{from:A,to:I}:{from:Y,to:I}},to.prototype.interpolate=function(A){return A};var po=function(A){this.specification=A};po.prototype.possiblyEvaluate=function(A,I,Y,se){return!!A.expression.evaluate(I,null,{},Y,se)},po.prototype.interpolate=function(){return!1};var Ei=function(A){for(var I in this.properties=A,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],A){var Y=A[I];Y.specification.overridable&&this.overridableProperties.push(I);var se=this.defaultPropertyValues[I]=new eo(Y,void 0),Ae=this.defaultTransitionablePropertyValues[I]=new $o(Y);this.defaultTransitioningPropertyValues[I]=Ae.untransitioned(),this.defaultPossiblyEvaluatedValues[I]=se.possiblyEvaluate({})}};wr("DataDrivenProperty",Cr),wr("DataConstantProperty",kr),wr("CrossFadedDataDrivenProperty",_a),wr("CrossFadedProperty",to),wr("ColorRampProperty",po);var no="-transition",$r=function(A){function I(Y,se){if(A.call(this),this.id=Y.id,this.type=Y.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},Y.type!=="custom"&&(this.metadata=Y.metadata,this.minzoom=Y.minzoom,this.maxzoom=Y.maxzoom,Y.type!=="background"&&(this.source=Y.source,this.sourceLayer=Y["source-layer"],this.filter=Y.filter),se.layout&&(this._unevaluatedLayout=new qa(se.layout)),se.paint)){for(var Ae in this._transitionablePaint=new Va(se.paint),Y.paint)this.setPaintProperty(Ae,Y.paint[Ae],{validate:!1});for(var Ce in Y.layout)this.setLayoutProperty(Ce,Y.layout[Ce],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Qo(se.paint)}}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(Y){return Y==="visibility"?this.visibility:this._unevaluatedLayout.getValue(Y)},I.prototype.setLayoutProperty=function(Y,se,Ae){if(Ae===void 0&&(Ae={}),se!=null){var Ce="layers."+this.id+".layout."+Y;if(this._validate(Lo,Ce,Y,se,Ae))return}Y!=="visibility"?this._unevaluatedLayout.setValue(Y,se):this.visibility=se},I.prototype.getPaintProperty=function(Y){return x(Y,no)?this._transitionablePaint.getTransition(Y.slice(0,-11)):this._transitionablePaint.getValue(Y)},I.prototype.setPaintProperty=function(Y,se,Ae){if(Ae===void 0&&(Ae={}),se!=null){var Ce="layers."+this.id+".paint."+Y;if(this._validate(Na,Ce,Y,se,Ae))return!1}if(x(Y,no))return this._transitionablePaint.setTransition(Y.slice(0,-11),se||void 0),!1;var Ne=this._transitionablePaint._values[Y],Ke=Ne.property.specification["property-type"]==="cross-faded-data-driven",st=Ne.value.isDataDriven(),yt=Ne.value;this._transitionablePaint.setValue(Y,se),this._handleSpecialPaintPropertyUpdate(Y);var wt=this._transitionablePaint._values[Y].value;return wt.isDataDriven()||st||Ke||this._handleOverridablePaintPropertyUpdate(Y,yt,wt)},I.prototype._handleSpecialPaintPropertyUpdate=function(Y){},I.prototype._handleOverridablePaintPropertyUpdate=function(Y,se,Ae){return!1},I.prototype.isHidden=function(Y){return!!(this.minzoom&&Y<this.minzoom)||!!(this.maxzoom&&Y>=this.maxzoom)||this.visibility==="none"},I.prototype.updateTransitions=function(Y){this._transitioningPaint=this._transitionablePaint.transitioned(Y,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(Y,se){Y.getCrossfadeParameters&&(this._crossfadeParameters=Y.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Y,void 0,se)),this.paint=this._transitioningPaint.possiblyEvaluate(Y,void 0,se)},I.prototype.serialize=function(){var Y={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Y.layout=Y.layout||{},Y.layout.visibility=this.visibility),h(Y,function(se,Ae){return!(se===void 0||Ae==="layout"&&!Object.keys(se).length||Ae==="paint"&&!Object.keys(se).length)})},I.prototype._validate=function(Y,se,Ae,Ce,Ne){return Ne===void 0&&(Ne={}),(!Ne||Ne.validate!==!1)&&aa(this,Y.call(Ja,{key:se,layerType:this.type,objectKey:Ae,value:Ce,styleSpec:Ye,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var Y in this.paint._values){var se=this.paint.get(Y);if(se instanceof si&&so(se.property.specification)&&(se.value.kind==="source"||se.value.kind==="composite")&&se.value.isStateDependent)return!0}return!1},I}(rt),pl={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},wa=function(A,I){this._structArray=A,this._pos1=I*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ti=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function hi(A,I){I===void 0&&(I=1);var Y=0,se=0;return{members:A.map(function(Ae){var Ce,Ne=(Ce=Ae.type,pl[Ce].BYTES_PER_ELEMENT),Ke=Y=da(Y,Math.max(I,Ne)),st=Ae.components||1;return se=Math.max(se,Ne),Y+=Ne*st,{name:Ae.name,type:Ae.type,components:st,offset:Ke}}),size:da(Y,Math.max(se,I)),alignment:I}}function da(A,I){return Math.ceil(A/I)*I}ti.serialize=function(A,I){return A._trim(),I&&(A.isTransferred=!0,I.push(A.arrayBuffer)),{length:A.length,arrayBuffer:A.arrayBuffer}},ti.deserialize=function(A){var I=Object.create(this.prototype);return I.arrayBuffer=A.arrayBuffer,I.length=A.length,I.capacity=A.arrayBuffer.byteLength/I.bytesPerElement,I._refreshViews(),I},ti.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ti.prototype.clear=function(){this.length=0},ti.prototype.resize=function(A){this.reserve(A),this.length=A},ti.prototype.reserve=function(A){if(A>this.capacity){this.capacity=Math.max(A,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var I=this.uint8;this._refreshViews(),I&&this.uint8.set(I)}},ti.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var zo=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,Y,se)},I.prototype.emplace=function(Y,se,Ae){var Ce=2*Y;return this.int16[Ce+0]=se,this.int16[Ce+1]=Ae,Y},I}(ti);zo.prototype.bytesPerElement=4,wr("StructArrayLayout2i4",zo);var tl=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,Y,se,Ae,Ce)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne){var Ke=4*Y;return this.int16[Ke+0]=se,this.int16[Ke+1]=Ae,this.int16[Ke+2]=Ce,this.int16[Ke+3]=Ne,Y},I}(ti);tl.prototype.bytesPerElement=8,wr("StructArrayLayout4i8",tl);var Ze=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce,Ne,Ke){var st=this.length;return this.resize(st+1),this.emplace(st,Y,se,Ae,Ce,Ne,Ke)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne,Ke,st){var yt=6*Y;return this.int16[yt+0]=se,this.int16[yt+1]=Ae,this.int16[yt+2]=Ce,this.int16[yt+3]=Ne,this.int16[yt+4]=Ke,this.int16[yt+5]=st,Y},I}(ti);Ze.prototype.bytesPerElement=12,wr("StructArrayLayout2i4i12",Ze);var Je=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce,Ne,Ke){var st=this.length;return this.resize(st+1),this.emplace(st,Y,se,Ae,Ce,Ne,Ke)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne,Ke,st){var yt=4*Y,wt=8*Y;return this.int16[yt+0]=se,this.int16[yt+1]=Ae,this.uint8[wt+4]=Ce,this.uint8[wt+5]=Ne,this.uint8[wt+6]=Ke,this.uint8[wt+7]=st,Y},I}(ti);Je.prototype.bytesPerElement=8,wr("StructArrayLayout2i4ub8",Je);var ot=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,Y,se)},I.prototype.emplace=function(Y,se,Ae){var Ce=2*Y;return this.float32[Ce+0]=se,this.float32[Ce+1]=Ae,Y},I}(ti);ot.prototype.bytesPerElement=8,wr("StructArrayLayout2f8",ot);var B=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt){var Ut=this.length;return this.resize(Ut+1),this.emplace(Ut,Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut){var Rt=10*Y;return this.uint16[Rt+0]=se,this.uint16[Rt+1]=Ae,this.uint16[Rt+2]=Ce,this.uint16[Rt+3]=Ne,this.uint16[Rt+4]=Ke,this.uint16[Rt+5]=st,this.uint16[Rt+6]=yt,this.uint16[Rt+7]=wt,this.uint16[Rt+8]=zt,this.uint16[Rt+9]=Ut,Y},I}(ti);B.prototype.bytesPerElement=20,wr("StructArrayLayout10ui20",B);var G=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt){var tn=this.length;return this.resize(tn+1),this.emplace(tn,Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn){var an=12*Y;return this.int16[an+0]=se,this.int16[an+1]=Ae,this.int16[an+2]=Ce,this.int16[an+3]=Ne,this.uint16[an+4]=Ke,this.uint16[an+5]=st,this.uint16[an+6]=yt,this.uint16[an+7]=wt,this.int16[an+8]=zt,this.int16[an+9]=Ut,this.int16[an+10]=Rt,this.int16[an+11]=tn,Y},I}(ti);G.prototype.bytesPerElement=24,wr("StructArrayLayout4i4ui4i24",G);var H=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,Y,se,Ae)},I.prototype.emplace=function(Y,se,Ae,Ce){var Ne=3*Y;return this.float32[Ne+0]=se,this.float32[Ne+1]=Ae,this.float32[Ne+2]=Ce,Y},I}(ti);H.prototype.bytesPerElement=12,wr("StructArrayLayout3f12",H);var L=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y){var se=this.length;return this.resize(se+1),this.emplace(se,Y)},I.prototype.emplace=function(Y,se){var Ae=1*Y;return this.uint32[Ae+0]=se,Y},I}(ti);L.prototype.bytesPerElement=4,wr("StructArrayLayout1ul4",L);var q=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt){var zt=this.length;return this.resize(zt+1),this.emplace(zt,Y,se,Ae,Ce,Ne,Ke,st,yt,wt)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt){var Ut=10*Y,Rt=5*Y;return this.int16[Ut+0]=se,this.int16[Ut+1]=Ae,this.int16[Ut+2]=Ce,this.int16[Ut+3]=Ne,this.int16[Ut+4]=Ke,this.int16[Ut+5]=st,this.uint32[Rt+3]=yt,this.uint16[Ut+8]=wt,this.uint16[Ut+9]=zt,Y},I}(ti);q.prototype.bytesPerElement=20,wr("StructArrayLayout6i1ul2ui20",q);var $=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce,Ne,Ke){var st=this.length;return this.resize(st+1),this.emplace(st,Y,se,Ae,Ce,Ne,Ke)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne,Ke,st){var yt=6*Y;return this.int16[yt+0]=se,this.int16[yt+1]=Ae,this.int16[yt+2]=Ce,this.int16[yt+3]=Ne,this.int16[yt+4]=Ke,this.int16[yt+5]=st,Y},I}(ti);$.prototype.bytesPerElement=12,wr("StructArrayLayout2i2i2i12",$);var ne=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce,Ne){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,Y,se,Ae,Ce,Ne)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne,Ke){var st=4*Y,yt=8*Y;return this.float32[st+0]=se,this.float32[st+1]=Ae,this.float32[st+2]=Ce,this.int16[yt+6]=Ne,this.int16[yt+7]=Ke,Y},I}(ti);ne.prototype.bytesPerElement=16,wr("StructArrayLayout2f1f2i16",ne);var ce=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,Y,se,Ae,Ce)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne){var Ke=12*Y,st=3*Y;return this.uint8[Ke+0]=se,this.uint8[Ke+1]=Ae,this.float32[st+1]=Ce,this.float32[st+2]=Ne,Y},I}(ti);ce.prototype.bytesPerElement=12,wr("StructArrayLayout2ub2f12",ce);var ye=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,Y,se,Ae)},I.prototype.emplace=function(Y,se,Ae,Ce){var Ne=3*Y;return this.uint16[Ne+0]=se,this.uint16[Ne+1]=Ae,this.uint16[Ne+2]=Ce,Y},I}(ti);ye.prototype.bytesPerElement=6,wr("StructArrayLayout3ui6",ye);var Le=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn,an,bn,mn,In){var Rn=this.length;return this.resize(Rn+1),this.emplace(Rn,Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn,an,bn,mn,In)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn,an,bn,mn,In,Rn){var qn=24*Y,Gn=12*Y,rr=48*Y;return this.int16[qn+0]=se,this.int16[qn+1]=Ae,this.uint16[qn+2]=Ce,this.uint16[qn+3]=Ne,this.uint32[Gn+2]=Ke,this.uint32[Gn+3]=st,this.uint32[Gn+4]=yt,this.uint16[qn+10]=wt,this.uint16[qn+11]=zt,this.uint16[qn+12]=Ut,this.float32[Gn+7]=Rt,this.float32[Gn+8]=tn,this.uint8[rr+36]=an,this.uint8[rr+37]=bn,this.uint8[rr+38]=mn,this.uint32[Gn+10]=In,this.int16[qn+22]=Rn,Y},I}(ti);Le.prototype.bytesPerElement=48,wr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Le);var Ie=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn,an,bn,mn,In,Rn,qn,Gn,rr,dr,hr,yr,br,zr,Sr,Ir){var Lr=this.length;return this.resize(Lr+1),this.emplace(Lr,Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn,an,bn,mn,In,Rn,qn,Gn,rr,dr,hr,yr,br,zr,Sr,Ir)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn,an,bn,mn,In,Rn,qn,Gn,rr,dr,hr,yr,br,zr,Sr,Ir,Lr){var Mr=34*Y,Wr=17*Y;return this.int16[Mr+0]=se,this.int16[Mr+1]=Ae,this.int16[Mr+2]=Ce,this.int16[Mr+3]=Ne,this.int16[Mr+4]=Ke,this.int16[Mr+5]=st,this.int16[Mr+6]=yt,this.int16[Mr+7]=wt,this.uint16[Mr+8]=zt,this.uint16[Mr+9]=Ut,this.uint16[Mr+10]=Rt,this.uint16[Mr+11]=tn,this.uint16[Mr+12]=an,this.uint16[Mr+13]=bn,this.uint16[Mr+14]=mn,this.uint16[Mr+15]=In,this.uint16[Mr+16]=Rn,this.uint16[Mr+17]=qn,this.uint16[Mr+18]=Gn,this.uint16[Mr+19]=rr,this.uint16[Mr+20]=dr,this.uint16[Mr+21]=hr,this.uint16[Mr+22]=yr,this.uint32[Wr+12]=br,this.float32[Wr+13]=zr,this.float32[Wr+14]=Sr,this.float32[Wr+15]=Ir,this.float32[Wr+16]=Lr,Y},I}(ti);Ie.prototype.bytesPerElement=68,wr("StructArrayLayout8i15ui1ul4f68",Ie);var je=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y){var se=this.length;return this.resize(se+1),this.emplace(se,Y)},I.prototype.emplace=function(Y,se){var Ae=1*Y;return this.float32[Ae+0]=se,Y},I}(ti);je.prototype.bytesPerElement=4,wr("StructArrayLayout1f4",je);var qe=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,Y,se,Ae)},I.prototype.emplace=function(Y,se,Ae,Ce){var Ne=3*Y;return this.int16[Ne+0]=se,this.int16[Ne+1]=Ae,this.int16[Ne+2]=Ce,Y},I}(ti);qe.prototype.bytesPerElement=6,wr("StructArrayLayout3i6",qe);var Qe=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,Y,se,Ae)},I.prototype.emplace=function(Y,se,Ae,Ce){var Ne=2*Y,Ke=4*Y;return this.uint32[Ne+0]=se,this.uint16[Ke+2]=Ae,this.uint16[Ke+3]=Ce,Y},I}(ti);Qe.prototype.bytesPerElement=8,wr("StructArrayLayout1ul2ui8",Qe);var lt=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,Y,se)},I.prototype.emplace=function(Y,se,Ae){var Ce=2*Y;return this.uint16[Ce+0]=se,this.uint16[Ce+1]=Ae,Y},I}(ti);lt.prototype.bytesPerElement=4,wr("StructArrayLayout2ui4",lt);var ft=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y){var se=this.length;return this.resize(se+1),this.emplace(se,Y)},I.prototype.emplace=function(Y,se){var Ae=1*Y;return this.uint16[Ae+0]=se,Y},I}(ti);ft.prototype.bytesPerElement=2,wr("StructArrayLayout1ui2",ft);var bt=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Y,se,Ae,Ce){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,Y,se,Ae,Ce)},I.prototype.emplace=function(Y,se,Ae,Ce,Ne){var Ke=4*Y;return this.float32[Ke+0]=se,this.float32[Ke+1]=Ae,this.float32[Ke+2]=Ce,this.float32[Ke+3]=Ne,Y},I}(ti);bt.prototype.bytesPerElement=16,wr("StructArrayLayout4f16",bt);var At=function(A){function I(){A.apply(this,arguments)}A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I;var Y={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Y.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Y.x1.get=function(){return this._structArray.int16[this._pos2+2]},Y.y1.get=function(){return this._structArray.int16[this._pos2+3]},Y.x2.get=function(){return this._structArray.int16[this._pos2+4]},Y.y2.get=function(){return this._structArray.int16[this._pos2+5]},Y.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Y.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Y.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Y.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,Y),I}(wa);At.prototype.size=20;var Tt=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.get=function(Y){return new At(this,Y)},I}(q);wr("CollisionBoxArray",Tt);var Dt=function(A){function I(){A.apply(this,arguments)}A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I;var Y={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Y.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Y.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Y.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Y.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Y.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Y.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Y.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Y.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Y.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Y.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Y.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Y.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Y.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Y.placedOrientation.set=function(se){this._structArray.uint8[this._pos1+37]=se},Y.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Y.hidden.set=function(se){this._structArray.uint8[this._pos1+38]=se},Y.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Y.crossTileID.set=function(se){this._structArray.uint32[this._pos4+10]=se},Y.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,Y),I}(wa);Dt.prototype.size=48;var Ct=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.get=function(Y){return new Dt(this,Y)},I}(Le);wr("PlacedSymbolArray",Ct);var Yt=function(A){function I(){A.apply(this,arguments)}A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I;var Y={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Y.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Y.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Y.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Y.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Y.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Y.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Y.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Y.key.get=function(){return this._structArray.uint16[this._pos2+8]},Y.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Y.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Y.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Y.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Y.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Y.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Y.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Y.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Y.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Y.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Y.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Y.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Y.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Y.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Y.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Y.crossTileID.set=function(se){this._structArray.uint32[this._pos4+12]=se},Y.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Y.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Y.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Y.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,Y),I}(wa);Yt.prototype.size=68;var Vt=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.get=function(Y){return new Yt(this,Y)},I}(Ie);wr("SymbolInstanceArray",Vt);var Ft=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(Y){return this.float32[1*Y+0]},I}(je);wr("GlyphOffsetArray",Ft);var cn=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.getx=function(Y){return this.int16[3*Y+0]},I.prototype.gety=function(Y){return this.int16[3*Y+1]},I.prototype.gettileUnitDistanceFromAnchor=function(Y){return this.int16[3*Y+2]},I}(qe);wr("SymbolLineVertexArray",cn);var dn=function(A){function I(){A.apply(this,arguments)}A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I;var Y={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Y.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Y.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Y.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,Y),I}(wa);dn.prototype.size=8;var Mn=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.get=function(Y){return new dn(this,Y)},I}(Qe);wr("FeatureIndexArray",Mn);var Ln=hi([{name:"a_pos",components:2,type:"Int16"}],4).members,Un=function(A){A===void 0&&(A=[]),this.segments=A};function Qn(A,I){return 256*(A=u(Math.floor(A),0,255))+u(Math.floor(I),0,255)}Un.prototype.prepareSegment=function(A,I,Y,se){var Ae=this.segments[this.segments.length-1];return A>Un.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+Un.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+A),(!Ae||Ae.vertexLength+A>Un.MAX_VERTEX_ARRAY_LENGTH||Ae.sortKey!==se)&&(Ae={vertexOffset:I.length,primitiveOffset:Y.length,vertexLength:0,primitiveLength:0},se!==void 0&&(Ae.sortKey=se),this.segments.push(Ae)),Ae},Un.prototype.get=function(){return this.segments},Un.prototype.destroy=function(){for(var A=0,I=this.segments;A<I.length;A+=1){var Y=I[A];for(var se in Y.vaos)Y.vaos[se].destroy()}},Un.simpleSegment=function(A,I,Y,se){return new Un([{vertexOffset:A,primitiveOffset:I,vertexLength:Y,primitiveLength:se,vaos:{},sortKey:0}])},Un.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,wr("SegmentVector",Un);var ur=hi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Hn=T(function(A){A.exports=function(I,Y){var se,Ae,Ce,Ne,Ke,st,yt,wt;for(se=3&I.length,Ae=I.length-se,Ce=Y,Ke=3432918353,st=461845907,wt=0;wt<Ae;)yt=255&I.charCodeAt(wt)|(255&I.charCodeAt(++wt))<<8|(255&I.charCodeAt(++wt))<<16|(255&I.charCodeAt(++wt))<<24,++wt,Ce=27492+(65535&(Ne=5*(65535&(Ce=(Ce^=yt=(65535&(yt=(yt=(65535&yt)*Ke+(((yt>>>16)*Ke&65535)<<16)&4294967295)<<15|yt>>>17))*st+(((yt>>>16)*st&65535)<<16)&4294967295)<<13|Ce>>>19))+((5*(Ce>>>16)&65535)<<16)&4294967295))+((58964+(Ne>>>16)&65535)<<16);switch(yt=0,se){case 3:yt^=(255&I.charCodeAt(wt+2))<<16;case 2:yt^=(255&I.charCodeAt(wt+1))<<8;case 1:Ce^=yt=(65535&(yt=(yt=(65535&(yt^=255&I.charCodeAt(wt)))*Ke+(((yt>>>16)*Ke&65535)<<16)&4294967295)<<15|yt>>>17))*st+(((yt>>>16)*st&65535)<<16)&4294967295}return Ce^=I.length,Ce=2246822507*(65535&(Ce^=Ce>>>16))+((2246822507*(Ce>>>16)&65535)<<16)&4294967295,Ce=3266489909*(65535&(Ce^=Ce>>>13))+((3266489909*(Ce>>>16)&65535)<<16)&4294967295,(Ce^=Ce>>>16)>>>0}}),sr=T(function(A){A.exports=function(I,Y){for(var se,Ae=I.length,Ce=Y^Ae,Ne=0;Ae>=4;)se=1540483477*(65535&(se=255&I.charCodeAt(Ne)|(255&I.charCodeAt(++Ne))<<8|(255&I.charCodeAt(++Ne))<<16|(255&I.charCodeAt(++Ne))<<24))+((1540483477*(se>>>16)&65535)<<16),Ce=1540483477*(65535&Ce)+((1540483477*(Ce>>>16)&65535)<<16)^(se=1540483477*(65535&(se^=se>>>24))+((1540483477*(se>>>16)&65535)<<16)),Ae-=4,++Ne;switch(Ae){case 3:Ce^=(255&I.charCodeAt(Ne+2))<<16;case 2:Ce^=(255&I.charCodeAt(Ne+1))<<8;case 1:Ce=1540483477*(65535&(Ce^=255&I.charCodeAt(Ne)))+((1540483477*(Ce>>>16)&65535)<<16)}return Ce=1540483477*(65535&(Ce^=Ce>>>13))+((1540483477*(Ce>>>16)&65535)<<16),(Ce^=Ce>>>15)>>>0}}),vr=Hn,Ar=Hn,Jn=sr;vr.murmur3=Ar,vr.murmur2=Jn;var or=function(){this.ids=[],this.positions=[],this.indexed=!1};or.prototype.add=function(A,I,Y,se){this.ids.push(cr(A)),this.positions.push(I,Y,se)},or.prototype.getPositions=function(A){for(var I=cr(A),Y=0,se=this.ids.length-1;Y<se;){var Ae=Y+se>>1;this.ids[Ae]>=I?se=Ae:Y=Ae+1}for(var Ce=[];this.ids[Y]===I;){var Ne=this.positions[3*Y],Ke=this.positions[3*Y+1],st=this.positions[3*Y+2];Ce.push({index:Ne,start:Ke,end:st}),Y++}return Ce},or.serialize=function(A,I){var Y=new Float64Array(A.ids),se=new Uint32Array(A.positions);return Tr(Y,se,0,Y.length-1),I&&I.push(Y.buffer,se.buffer),{ids:Y,positions:se}},or.deserialize=function(A){var I=new or;return I.ids=A.ids,I.positions=A.positions,I.indexed=!0,I};var xr=Math.pow(2,53)-1;function cr(A){var I=+A;return!isNaN(I)&&I<=xr?I:vr(String(A))}function Tr(A,I,Y,se){for(;Y<se;){for(var Ae=A[Y+se>>1],Ce=Y-1,Ne=se+1;;){do Ce++;while(A[Ce]<Ae);do Ne--;while(A[Ne]>Ae);if(Ce>=Ne)break;Er(A,Ce,Ne),Er(I,3*Ce,3*Ne),Er(I,3*Ce+1,3*Ne+1),Er(I,3*Ce+2,3*Ne+2)}Ne-Y<se-Ne?(Tr(A,I,Y,Ne),Y=Ne+1):(Tr(A,I,Ne+1,se),se=Ne)}}function Er(A,I,Y){var se=A[I];A[I]=A[Y],A[Y]=se}wr("FeaturePositionMap",or);var Dr=function(A,I){this.gl=A.gl,this.location=I},Rr=function(A){function I(Y,se){A.call(this,Y,se),this.current=0}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Y){this.current!==Y&&(this.current=Y,this.gl.uniform1i(this.location,Y))},I}(Dr),Nr=function(A){function I(Y,se){A.call(this,Y,se),this.current=0}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Y){this.current!==Y&&(this.current=Y,this.gl.uniform1f(this.location,Y))},I}(Dr),Vr=function(A){function I(Y,se){A.call(this,Y,se),this.current=[0,0]}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Y){Y[0]===this.current[0]&&Y[1]===this.current[1]||(this.current=Y,this.gl.uniform2f(this.location,Y[0],Y[1]))},I}(Dr),li=function(A){function I(Y,se){A.call(this,Y,se),this.current=[0,0,0]}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Y){Y[0]===this.current[0]&&Y[1]===this.current[1]&&Y[2]===this.current[2]||(this.current=Y,this.gl.uniform3f(this.location,Y[0],Y[1],Y[2]))},I}(Dr),ki=function(A){function I(Y,se){A.call(this,Y,se),this.current=[0,0,0,0]}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Y){Y[0]===this.current[0]&&Y[1]===this.current[1]&&Y[2]===this.current[2]&&Y[3]===this.current[3]||(this.current=Y,this.gl.uniform4f(this.location,Y[0],Y[1],Y[2],Y[3]))},I}(Dr),ea=function(A){function I(Y,se){A.call(this,Y,se),this.current=Cn.transparent}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Y){Y.r===this.current.r&&Y.g===this.current.g&&Y.b===this.current.b&&Y.a===this.current.a||(this.current=Y,this.gl.uniform4f(this.location,Y.r,Y.g,Y.b,Y.a))},I}(Dr),Bi=new Float32Array(16),Yi=function(A){function I(Y,se){A.call(this,Y,se),this.current=Bi}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Y){if(Y[12]!==this.current[12]||Y[0]!==this.current[0])return this.current=Y,void this.gl.uniformMatrix4fv(this.location,!1,Y);for(var se=1;se<16;se++)if(Y[se]!==this.current[se]){this.current=Y,this.gl.uniformMatrix4fv(this.location,!1,Y);break}},I}(Dr);function pi(A){return[Qn(255*A.r,255*A.g),Qn(255*A.b,255*A.a)]}var Hr=function(A,I,Y){this.value=A,this.uniformNames=I.map(function(se){return"u_"+se}),this.type=Y};Hr.prototype.setUniform=function(A,I,Y){A.set(Y.constantOr(this.value))},Hr.prototype.getBinding=function(A,I,Y){return this.type==="color"?new ea(A,I):new Nr(A,I)};var mi=function(A,I){this.uniformNames=I.map(function(Y){return"u_"+Y}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};mi.prototype.setConstantPatternPositions=function(A,I){this.pixelRatioFrom=I.pixelRatio,this.pixelRatioTo=A.pixelRatio,this.patternFrom=I.tlbr,this.patternTo=A.tlbr},mi.prototype.setUniform=function(A,I,Y,se){var Ae=se==="u_pattern_to"?this.patternTo:se==="u_pattern_from"?this.patternFrom:se==="u_pixel_ratio_to"?this.pixelRatioTo:se==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ae&&A.set(Ae)},mi.prototype.getBinding=function(A,I,Y){return Y.substr(0,9)==="u_pattern"?new ki(A,I):new Nr(A,I)};var ni=function(A,I,Y,se){this.expression=A,this.type=Y,this.maxValue=0,this.paintVertexAttributes=I.map(function(Ae){return{name:"a_"+Ae,type:"Float32",components:Y==="color"?2:1,offset:0}}),this.paintVertexArray=new se};ni.prototype.populatePaintArray=function(A,I,Y,se,Ae){var Ce=this.paintVertexArray.length,Ne=this.expression.evaluate(new Ur(0),I,{},se,[],Ae);this.paintVertexArray.resize(A),this._setPaintValue(Ce,A,Ne)},ni.prototype.updatePaintArray=function(A,I,Y,se){var Ae=this.expression.evaluate({zoom:0},Y,se);this._setPaintValue(A,I,Ae)},ni.prototype._setPaintValue=function(A,I,Y){if(this.type==="color")for(var se=pi(Y),Ae=A;Ae<I;Ae++)this.paintVertexArray.emplace(Ae,se[0],se[1]);else{for(var Ce=A;Ce<I;Ce++)this.paintVertexArray.emplace(Ce,Y);this.maxValue=Math.max(this.maxValue,Math.abs(Y))}},ni.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ni.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Yr=function(A,I,Y,se,Ae,Ce){this.expression=A,this.uniformNames=I.map(function(Ne){return"u_"+Ne+"_t"}),this.type=Y,this.useIntegerZoom=se,this.zoom=Ae,this.maxValue=0,this.paintVertexAttributes=I.map(function(Ne){return{name:"a_"+Ne,type:"Float32",components:Y==="color"?4:2,offset:0}}),this.paintVertexArray=new Ce};Yr.prototype.populatePaintArray=function(A,I,Y,se,Ae){var Ce=this.expression.evaluate(new Ur(this.zoom),I,{},se,[],Ae),Ne=this.expression.evaluate(new Ur(this.zoom+1),I,{},se,[],Ae),Ke=this.paintVertexArray.length;this.paintVertexArray.resize(A),this._setPaintValue(Ke,A,Ce,Ne)},Yr.prototype.updatePaintArray=function(A,I,Y,se){var Ae=this.expression.evaluate({zoom:this.zoom},Y,se),Ce=this.expression.evaluate({zoom:this.zoom+1},Y,se);this._setPaintValue(A,I,Ae,Ce)},Yr.prototype._setPaintValue=function(A,I,Y,se){if(this.type==="color")for(var Ae=pi(Y),Ce=pi(se),Ne=A;Ne<I;Ne++)this.paintVertexArray.emplace(Ne,Ae[0],Ae[1],Ce[0],Ce[1]);else{for(var Ke=A;Ke<I;Ke++)this.paintVertexArray.emplace(Ke,Y,se);this.maxValue=Math.max(this.maxValue,Math.abs(Y),Math.abs(se))}},Yr.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Yr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Yr.prototype.setUniform=function(A,I){var Y=this.useIntegerZoom?Math.floor(I.zoom):I.zoom,se=u(this.expression.interpolationFactor(Y,this.zoom,this.zoom+1),0,1);A.set(se)},Yr.prototype.getBinding=function(A,I,Y){return new Nr(A,I)};var yi=function(A,I,Y,se,Ae,Ce){this.expression=A,this.type=I,this.useIntegerZoom=Y,this.zoom=se,this.layerId=Ce,this.zoomInPaintVertexArray=new Ae,this.zoomOutPaintVertexArray=new Ae};yi.prototype.populatePaintArray=function(A,I,Y){var se=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(A),this.zoomOutPaintVertexArray.resize(A),this._setPaintValues(se,A,I.patterns&&I.patterns[this.layerId],Y)},yi.prototype.updatePaintArray=function(A,I,Y,se,Ae){this._setPaintValues(A,I,Y.patterns&&Y.patterns[this.layerId],Ae)},yi.prototype._setPaintValues=function(A,I,Y,se){if(se&&Y){var Ae=Y.min,Ce=Y.mid,Ne=Y.max,Ke=se[Ae],st=se[Ce],yt=se[Ne];if(Ke&&st&&yt)for(var wt=A;wt<I;wt++)this.zoomInPaintVertexArray.emplace(wt,st.tl[0],st.tl[1],st.br[0],st.br[1],Ke.tl[0],Ke.tl[1],Ke.br[0],Ke.br[1],st.pixelRatio,Ke.pixelRatio),this.zoomOutPaintVertexArray.emplace(wt,st.tl[0],st.tl[1],st.br[0],st.br[1],yt.tl[0],yt.tl[1],yt.br[0],yt.br[1],st.pixelRatio,yt.pixelRatio)}},yi.prototype.upload=function(A){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=A.createVertexBuffer(this.zoomInPaintVertexArray,ur.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=A.createVertexBuffer(this.zoomOutPaintVertexArray,ur.members,this.expression.isStateDependent))},yi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ai=function(A,I,Y){this.binders={},this._buffers=[];var se=[];for(var Ae in A.paint._values)if(Y(Ae)){var Ce=A.paint.get(Ae);if(Ce instanceof si&&so(Ce.property.specification)){var Ne=ps(Ae,A.type),Ke=Ce.value,st=Ce.property.specification.type,yt=Ce.property.useIntegerZoom,wt=Ce.property.specification["property-type"],zt=wt==="cross-faded"||wt==="cross-faded-data-driven";if(Ke.kind==="constant")this.binders[Ae]=zt?new mi(Ke.value,Ne):new Hr(Ke.value,Ne,st),se.push("/u_"+Ae);else if(Ke.kind==="source"||zt){var Ut=ds(Ae,st,"source");this.binders[Ae]=zt?new yi(Ke,st,yt,I,Ut,A.id):new ni(Ke,Ne,st,Ut),se.push("/a_"+Ae)}else{var Rt=ds(Ae,st,"composite");this.binders[Ae]=new Yr(Ke,Ne,st,yt,I,Rt),se.push("/z_"+Ae)}}}this.cacheKey=se.sort().join("")};Ai.prototype.getMaxValue=function(A){var I=this.binders[A];return I instanceof ni||I instanceof Yr?I.maxValue:0},Ai.prototype.populatePaintArrays=function(A,I,Y,se,Ae){for(var Ce in this.binders){var Ne=this.binders[Ce];(Ne instanceof ni||Ne instanceof Yr||Ne instanceof yi)&&Ne.populatePaintArray(A,I,Y,se,Ae)}},Ai.prototype.setConstantPatternPositions=function(A,I){for(var Y in this.binders){var se=this.binders[Y];se instanceof mi&&se.setConstantPatternPositions(A,I)}},Ai.prototype.updatePaintArrays=function(A,I,Y,se,Ae){var Ce=!1;for(var Ne in A)for(var Ke=0,st=I.getPositions(Ne);Ke<st.length;Ke+=1){var yt=st[Ke],wt=Y.feature(yt.index);for(var zt in this.binders){var Ut=this.binders[zt];if((Ut instanceof ni||Ut instanceof Yr||Ut instanceof yi)&&Ut.expression.isStateDependent===!0){var Rt=se.paint.get(zt);Ut.expression=Rt.value,Ut.updatePaintArray(yt.start,yt.end,wt,A[Ne],Ae),Ce=!0}}}return Ce},Ai.prototype.defines=function(){var A=[];for(var I in this.binders){var Y=this.binders[I];(Y instanceof Hr||Y instanceof mi)&&A.push.apply(A,Y.uniformNames.map(function(se){return"#define HAS_UNIFORM_"+se}))}return A},Ai.prototype.getBinderAttributes=function(){var A=[];for(var I in this.binders){var Y=this.binders[I];if(Y instanceof ni||Y instanceof Yr)for(var se=0;se<Y.paintVertexAttributes.length;se++)A.push(Y.paintVertexAttributes[se].name);else if(Y instanceof yi)for(var Ae=0;Ae<ur.members.length;Ae++)A.push(ur.members[Ae].name)}return A},Ai.prototype.getBinderUniforms=function(){var A=[];for(var I in this.binders){var Y=this.binders[I];if(Y instanceof Hr||Y instanceof mi||Y instanceof Yr)for(var se=0,Ae=Y.uniformNames;se<Ae.length;se+=1){var Ce=Ae[se];A.push(Ce)}}return A},Ai.prototype.getPaintVertexBuffers=function(){return this._buffers},Ai.prototype.getUniforms=function(A,I){var Y=[];for(var se in this.binders){var Ae=this.binders[se];if(Ae instanceof Hr||Ae instanceof mi||Ae instanceof Yr)for(var Ce=0,Ne=Ae.uniformNames;Ce<Ne.length;Ce+=1){var Ke=Ne[Ce];if(I[Ke]){var st=Ae.getBinding(A,I[Ke],Ke);Y.push({name:Ke,property:se,binding:st})}}}return Y},Ai.prototype.setUniforms=function(A,I,Y,se){for(var Ae=0,Ce=I;Ae<Ce.length;Ae+=1){var Ne=Ce[Ae],Ke=Ne.name,st=Ne.property,yt=Ne.binding;this.binders[st].setUniform(yt,se,Y.get(st),Ke)}},Ai.prototype.updatePaintBuffers=function(A){for(var I in this._buffers=[],this.binders){var Y=this.binders[I];if(A&&Y instanceof yi){var se=A.fromScale===2?Y.zoomInPaintVertexBuffer:Y.zoomOutPaintVertexBuffer;se&&this._buffers.push(se)}else(Y instanceof ni||Y instanceof Yr)&&Y.paintVertexBuffer&&this._buffers.push(Y.paintVertexBuffer)}},Ai.prototype.upload=function(A){for(var I in this.binders){var Y=this.binders[I];(Y instanceof ni||Y instanceof Yr||Y instanceof yi)&&Y.upload(A)}this.updatePaintBuffers()},Ai.prototype.destroy=function(){for(var A in this.binders){var I=this.binders[A];(I instanceof ni||I instanceof Yr||I instanceof yi)&&I.destroy()}};var Ii=function(A,I,Y){Y===void 0&&(Y=function(){return!0}),this.programConfigurations={};for(var se=0,Ae=A;se<Ae.length;se+=1){var Ce=Ae[se];this.programConfigurations[Ce.id]=new Ai(Ce,I,Y)}this.needsUpload=!1,this._featureMap=new or,this._bufferOffset=0};function ps(A,I){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[A]||[A.replace(I+"-","").replace(/-/g,"_")]}function ds(A,I,Y){var se={color:{source:ot,composite:bt},number:{source:je,composite:ot}},Ae=function(Ce){return{"line-pattern":{source:B,composite:B},"fill-pattern":{source:B,composite:B},"fill-extrusion-pattern":{source:B,composite:B}}[Ce]}(A);return Ae&&Ae[Y]||se[I][Y]}Ii.prototype.populatePaintArrays=function(A,I,Y,se,Ae,Ce){for(var Ne in this.programConfigurations)this.programConfigurations[Ne].populatePaintArrays(A,I,se,Ae,Ce);I.id!==void 0&&this._featureMap.add(I.id,Y,this._bufferOffset,A),this._bufferOffset=A,this.needsUpload=!0},Ii.prototype.updatePaintArrays=function(A,I,Y,se){for(var Ae=0,Ce=Y;Ae<Ce.length;Ae+=1){var Ne=Ce[Ae];this.needsUpload=this.programConfigurations[Ne.id].updatePaintArrays(A,this._featureMap,I,Ne,se)||this.needsUpload}},Ii.prototype.get=function(A){return this.programConfigurations[A]},Ii.prototype.upload=function(A){if(this.needsUpload){for(var I in this.programConfigurations)this.programConfigurations[I].upload(A);this.needsUpload=!1}},Ii.prototype.destroy=function(){for(var A in this.programConfigurations)this.programConfigurations[A].destroy()},wr("ConstantBinder",Hr),wr("CrossFadedConstantBinder",mi),wr("SourceExpressionBinder",ni),wr("CrossFadedCompositeBinder",yi),wr("CompositeExpressionBinder",Yr),wr("ProgramConfiguration",Ai,{omit:["_buffers"]}),wr("ProgramConfigurationSet",Ii);var Zr=8192,Ys=Math.pow(2,14)-1,Ls=-Ys-1;function go(A){for(var I=Zr/A.extent,Y=A.loadGeometry(),se=0;se<Y.length;se++)for(var Ae=Y[se],Ce=0;Ce<Ae.length;Ce++){var Ne=Ae[Ce],Ke=Math.round(Ne.x*I),st=Math.round(Ne.y*I);Ne.x=u(Ke,Ls,Ys),Ne.y=u(st,Ls,Ys),(Ke<Ne.x||Ke>Ne.x+1||st<Ne.y||st>Ne.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return Y}function xi(A,I){return{type:A.type,id:A.id,properties:A.properties,geometry:I?go(A):[]}}function Ta(A,I,Y,se,Ae){A.emplaceBack(2*I+(se+1)/2,2*Y+(Ae+1)/2)}var Hi=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new zo,this.indexArray=new ye,this.segments=new Un,this.programConfigurations=new Ii(A.layers,A.zoom),this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};function Sl(A,I){for(var Y=0;Y<A.length;Y++)if(Zs(I,A[Y]))return!0;for(var se=0;se<I.length;se++)if(Zs(A,I[se]))return!0;return!!dl(A,I)}function bc(A,I,Y){return!!Zs(A,I)||!!vl(I,A,Y)}function zu(A,I){if(A.length===1)return Ru(I,A[0]);for(var Y=0;Y<I.length;Y++)for(var se=I[Y],Ae=0;Ae<se.length;Ae++)if(Zs(A,se[Ae]))return!0;for(var Ce=0;Ce<A.length;Ce++)if(Ru(I,A[Ce]))return!0;for(var Ne=0;Ne<I.length;Ne++)if(dl(A,I[Ne]))return!0;return!1}function _c(A,I,Y){if(A.length>1){if(dl(A,I))return!0;for(var se=0;se<I.length;se++)if(vl(I[se],A,Y))return!0}for(var Ae=0;Ae<A.length;Ae++)if(vl(A[Ae],I,Y))return!0;return!1}function dl(A,I){if(A.length===0||I.length===0)return!1;for(var Y=0;Y<A.length-1;Y++)for(var se=A[Y],Ae=A[Y+1],Ce=0;Ce<I.length-1;Ce++)if(wc(se,Ae,I[Ce],I[Ce+1]))return!0;return!1}function wc(A,I,Y,se){return C(A,Y,se)!==C(I,Y,se)&&C(A,I,Y)!==C(A,I,se)}function vl(A,I,Y){var se=Y*Y;if(I.length===1)return A.distSqr(I[0])<se;for(var Ae=1;Ae<I.length;Ae++)if(Du(A,I[Ae-1],I[Ae])<se)return!0;return!1}function Du(A,I,Y){var se=I.distSqr(Y);if(se===0)return A.distSqr(I);var Ae=((A.x-I.x)*(Y.x-I.x)+(A.y-I.y)*(Y.y-I.y))/se;return Ae<0?A.distSqr(I):Ae>1?A.distSqr(Y):A.distSqr(Y.sub(I)._mult(Ae)._add(I))}function Ru(A,I){for(var Y,se,Ae,Ce=!1,Ne=0;Ne<A.length;Ne++)for(var Ke=0,st=(Y=A[Ne]).length-1;Ke<Y.length;st=Ke++)se=Y[Ke],Ae=Y[st],se.y>I.y!=Ae.y>I.y&&I.x<(Ae.x-se.x)*(I.y-se.y)/(Ae.y-se.y)+se.x&&(Ce=!Ce);return Ce}function Zs(A,I){for(var Y=!1,se=0,Ae=A.length-1;se<A.length;Ae=se++){var Ce=A[se],Ne=A[Ae];Ce.y>I.y!=Ne.y>I.y&&I.x<(Ne.x-Ce.x)*(I.y-Ce.y)/(Ne.y-Ce.y)+Ce.x&&(Y=!Y)}return Y}function qh(A,I,Y){var se=Y[0],Ae=Y[2];if(A.x<se.x&&I.x<se.x||A.x>Ae.x&&I.x>Ae.x||A.y<se.y&&I.y<se.y||A.y>Ae.y&&I.y>Ae.y)return!1;var Ce=C(A,I,Y[0]);return Ce!==C(A,I,Y[1])||Ce!==C(A,I,Y[2])||Ce!==C(A,I,Y[3])}function su(A,I,Y){var se=I.paint.get(A).value;return se.kind==="constant"?se.value:Y.programConfigurations.get(I.id).getMaxValue(A)}function Fu(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function Bu(A,I,Y,se,Ae){if(!I[0]&&!I[1])return A;var Ce=t.convert(I)._mult(Ae);Y==="viewport"&&Ce._rotate(-se);for(var Ne=[],Ke=0;Ke<A.length;Ke++){var st=A[Ke];Ne.push(st.sub(Ce))}return Ne}Hi.prototype.populate=function(A,I,Y){var se=this.layers[0],Ae=[],Ce=null;se.type==="circle"&&(Ce=se.layout.get("circle-sort-key"));for(var Ne=0,Ke=A;Ne<Ke.length;Ne+=1){var st=Ke[Ne],yt=st.feature,wt=st.id,zt=st.index,Ut=st.sourceLayerIndex,Rt=this.layers[0]._featureFilter.needGeometry,tn=xi(yt,Rt);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),tn,Y)){var an=Ce?Ce.evaluate(tn,{},Y):void 0,bn={id:wt,properties:yt.properties,type:yt.type,sourceLayerIndex:Ut,index:zt,geometry:Rt?tn.geometry:go(yt),patterns:{},sortKey:an};Ae.push(bn)}}Ce&&Ae.sort(function(yr,br){return yr.sortKey-br.sortKey});for(var mn=0,In=Ae;mn<In.length;mn+=1){var Rn=In[mn],qn=Rn,Gn=qn.geometry,rr=qn.index,dr=qn.sourceLayerIndex,hr=A[rr].feature;this.addFeature(Rn,Gn,rr,Y),I.featureIndex.insert(hr,Gn,rr,dr,this.index)}},Hi.prototype.update=function(A,I,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,I,this.stateDependentLayers,Y)},Hi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Hi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Hi.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Ln),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},Hi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Hi.prototype.addFeature=function(A,I,Y,se){for(var Ae=0,Ce=I;Ae<Ce.length;Ae+=1)for(var Ne=0,Ke=Ce[Ae];Ne<Ke.length;Ne+=1){var st=Ke[Ne],yt=st.x,wt=st.y;if(!(yt<0||yt>=Zr||wt<0||wt>=Zr)){var zt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,A.sortKey),Ut=zt.vertexLength;Ta(this.layoutVertexArray,yt,wt,-1,-1),Ta(this.layoutVertexArray,yt,wt,1,-1),Ta(this.layoutVertexArray,yt,wt,1,1),Ta(this.layoutVertexArray,yt,wt,-1,1),this.indexArray.emplaceBack(Ut,Ut+1,Ut+2),this.indexArray.emplaceBack(Ut,Ut+3,Ut+2),zt.vertexLength+=4,zt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Y,{},se)},wr("CircleBucket",Hi,{omit:["layers"]});var Hh=new Ei({"circle-sort-key":new Cr(Ye.layout_circle["circle-sort-key"])}),Gh={paint:new Ei({"circle-radius":new Cr(Ye.paint_circle["circle-radius"]),"circle-color":new Cr(Ye.paint_circle["circle-color"]),"circle-blur":new Cr(Ye.paint_circle["circle-blur"]),"circle-opacity":new Cr(Ye.paint_circle["circle-opacity"]),"circle-translate":new kr(Ye.paint_circle["circle-translate"]),"circle-translate-anchor":new kr(Ye.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new kr(Ye.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new kr(Ye.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Cr(Ye.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Cr(Ye.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Cr(Ye.paint_circle["circle-stroke-opacity"])}),layout:Hh},Do=typeof Float32Array<"u"?Float32Array:Array;function Tc(A){return A[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}function lf(A,I,Y){var se=I[0],Ae=I[1],Ce=I[2],Ne=I[3],Ke=I[4],st=I[5],yt=I[6],wt=I[7],zt=I[8],Ut=I[9],Rt=I[10],tn=I[11],an=I[12],bn=I[13],mn=I[14],In=I[15],Rn=Y[0],qn=Y[1],Gn=Y[2],rr=Y[3];return A[0]=Rn*se+qn*Ke+Gn*zt+rr*an,A[1]=Rn*Ae+qn*st+Gn*Ut+rr*bn,A[2]=Rn*Ce+qn*yt+Gn*Rt+rr*mn,A[3]=Rn*Ne+qn*wt+Gn*tn+rr*In,Rn=Y[4],qn=Y[5],Gn=Y[6],rr=Y[7],A[4]=Rn*se+qn*Ke+Gn*zt+rr*an,A[5]=Rn*Ae+qn*st+Gn*Ut+rr*bn,A[6]=Rn*Ce+qn*yt+Gn*Rt+rr*mn,A[7]=Rn*Ne+qn*wt+Gn*tn+rr*In,Rn=Y[8],qn=Y[9],Gn=Y[10],rr=Y[11],A[8]=Rn*se+qn*Ke+Gn*zt+rr*an,A[9]=Rn*Ae+qn*st+Gn*Ut+rr*bn,A[10]=Rn*Ce+qn*yt+Gn*Rt+rr*mn,A[11]=Rn*Ne+qn*wt+Gn*tn+rr*In,Rn=Y[12],qn=Y[13],Gn=Y[14],rr=Y[15],A[12]=Rn*se+qn*Ke+Gn*zt+rr*an,A[13]=Rn*Ae+qn*st+Gn*Ut+rr*bn,A[14]=Rn*Ce+qn*yt+Gn*Rt+rr*mn,A[15]=Rn*Ne+qn*wt+Gn*tn+rr*In,A}Math.hypot||(Math.hypot=function(){for(var A=arguments,I=0,Y=arguments.length;Y--;)I+=A[Y]*A[Y];return Math.sqrt(I)});var Wh=lf,Nu,Yh=function(A,I,Y){return A[0]=I[0]-Y[0],A[1]=I[1]-Y[1],A[2]=I[2]-Y[2],A};function ju(A,I,Y){var se=I[0],Ae=I[1],Ce=I[2],Ne=I[3];return A[0]=Y[0]*se+Y[4]*Ae+Y[8]*Ce+Y[12]*Ne,A[1]=Y[1]*se+Y[5]*Ae+Y[9]*Ce+Y[13]*Ne,A[2]=Y[2]*se+Y[6]*Ae+Y[10]*Ce+Y[14]*Ne,A[3]=Y[3]*se+Y[7]*Ae+Y[11]*Ce+Y[15]*Ne,A}Nu=new Do(3),Do!=Float32Array&&(Nu[0]=0,Nu[1]=0,Nu[2]=0),function(){var A=new Do(4);Do!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0,A[3]=0)}();var Zh=function(A){var I=A[0],Y=A[1];return I*I+Y*Y},Xh=(function(){var A=new Do(2);Do!=Float32Array&&(A[0]=0,A[1]=0)}(),function(A){function I(Y){A.call(this,Y,Gh)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(Y){return new Hi(Y)},I.prototype.queryRadius=function(Y){var se=Y;return su("circle-radius",this,se)+su("circle-stroke-width",this,se)+Fu(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(Y,se,Ae,Ce,Ne,Ke,st,yt){for(var wt=Bu(Y,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),Ke.angle,st),zt=this.paint.get("circle-radius").evaluate(se,Ae)+this.paint.get("circle-stroke-width").evaluate(se,Ae),Ut=this.paint.get("circle-pitch-alignment")==="map",Rt=Ut?wt:function(dr,hr){return dr.map(function(yr){return uf(yr,hr)})}(wt,yt),tn=Ut?zt*st:zt,an=0,bn=Ce;an<bn.length;an+=1)for(var mn=0,In=bn[an];mn<In.length;mn+=1){var Rn=In[mn],qn=Ut?Rn:uf(Rn,yt),Gn=tn,rr=ju([],[Rn.x,Rn.y,0,1],yt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Gn*=rr[3]/Ke.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Gn*=Ke.cameraToCenterDistance/rr[3]),bc(Rt,qn,Gn))return!0}return!1},I}($r));function uf(A,I){var Y=ju([],[A.x,A.y,0,1],I);return new t(Y[0]/Y[3],Y[1]/Y[3])}var cf=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}(Hi);function kc(A,I,Y,se){var Ae=I.width,Ce=I.height;if(se){if(se instanceof Uint8ClampedArray)se=new Uint8Array(se.buffer);else if(se.length!==Ae*Ce*Y)throw new RangeError("mismatched image size")}else se=new Uint8Array(Ae*Ce*Y);return A.width=Ae,A.height=Ce,A.data=se,A}function ff(A,I,Y){var se=I.width,Ae=I.height;if(se!==A.width||Ae!==A.height){var Ce=kc({},{width:se,height:Ae},Y);Ac(A,Ce,{x:0,y:0},{x:0,y:0},{width:Math.min(A.width,se),height:Math.min(A.height,Ae)},Y),A.width=se,A.height=Ae,A.data=Ce.data}}function Ac(A,I,Y,se,Ae,Ce){if(Ae.width===0||Ae.height===0)return I;if(Ae.width>A.width||Ae.height>A.height||Y.x>A.width-Ae.width||Y.y>A.height-Ae.height)throw new RangeError("out of range source coordinates for image copy");if(Ae.width>I.width||Ae.height>I.height||se.x>I.width-Ae.width||se.y>I.height-Ae.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ne=A.data,Ke=I.data,st=0;st<Ae.height;st++)for(var yt=((Y.y+st)*A.width+Y.x)*Ce,wt=((se.y+st)*I.width+se.x)*Ce,zt=0;zt<Ae.width*Ce;zt++)Ke[wt+zt]=Ne[yt+zt];return I}wr("HeatmapBucket",cf,{omit:["layers"]});var El=function(A,I){kc(this,A,1,I)};El.prototype.resize=function(A){ff(this,A,1)},El.prototype.clone=function(){return new El({width:this.width,height:this.height},new Uint8Array(this.data))},El.copy=function(A,I,Y,se,Ae){Ac(A,I,Y,se,Ae,1)};var ro=function(A,I){kc(this,A,4,I)};ro.prototype.resize=function(A){ff(this,A,4)},ro.prototype.replace=function(A,I){I?this.data.set(A):A instanceof Uint8ClampedArray?this.data=new Uint8Array(A.buffer):this.data=A},ro.prototype.clone=function(){return new ro({width:this.width,height:this.height},new Uint8Array(this.data))},ro.copy=function(A,I,Y,se,Ae){Ac(A,I,Y,se,Ae,4)},wr("AlphaImage",El),wr("RGBAImage",ro);var Kh={paint:new Ei({"heatmap-radius":new Cr(Ye.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Cr(Ye.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new kr(Ye.paint_heatmap["heatmap-intensity"]),"heatmap-color":new po(Ye.paint_heatmap["heatmap-color"]),"heatmap-opacity":new kr(Ye.paint_heatmap["heatmap-opacity"])})};function hf(A){var I={},Y=A.resolution||256,se=A.clips?A.clips.length:1,Ae=A.image||new ro({width:Y,height:se}),Ce=function(tn,an,bn){I[A.evaluationKey]=bn;var mn=A.expression.evaluate(I);Ae.data[tn+an+0]=Math.floor(255*mn.r/mn.a),Ae.data[tn+an+1]=Math.floor(255*mn.g/mn.a),Ae.data[tn+an+2]=Math.floor(255*mn.b/mn.a),Ae.data[tn+an+3]=Math.floor(255*mn.a)};if(A.clips)for(var Ne=0,Ke=0;Ne<se;++Ne,Ke+=4*Y)for(var st=0,yt=0;st<Y;st++,yt+=4){var wt=st/(Y-1),zt=A.clips[Ne];Ce(Ke,yt,zt.start*(1-wt)+zt.end*wt)}else for(var Ut=0,Rt=0;Ut<Y;Ut++,Rt+=4)Ce(0,Rt,Ut/(Y-1));return Ae}var Jh=function(A){function I(Y){A.call(this,Y,Kh),this._updateColorRamp()}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(Y){return new cf(Y)},I.prototype._handleSpecialPaintPropertyUpdate=function(Y){Y==="heatmap-color"&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var Y=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=hf({expression:Y,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},I}($r),$h={paint:new Ei({"hillshade-illumination-direction":new kr(Ye.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new kr(Ye.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new kr(Ye.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new kr(Ye.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new kr(Ye.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new kr(Ye.paint_hillshade["hillshade-accent-color"])})},Qh=function(A){function I(Y){A.call(this,Y,$h)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},I}($r),ep=hi([{name:"a_pos",components:2,type:"Int16"}],4).members,Mc=Uu,tp=Uu;function Uu(A,I,Y){Y=Y||2;var se,Ae,Ce,Ne,Ke,st,yt,wt=I&&I.length,zt=wt?I[0]*Y:A.length,Ut=pf(A,0,zt,Y,!0),Rt=[];if(!Ut||Ut.next===Ut.prev)return Rt;if(wt&&(Ut=function(an,bn,mn,In){var Rn,qn,Gn,rr=[];for(Rn=0,qn=bn.length;Rn<qn;Rn++)(Gn=pf(an,bn[Rn]*In,Rn<qn-1?bn[Rn+1]*In:an.length,In,!1))===Gn.next&&(Gn.steiner=!0),rr.push(up(Gn));for(rr.sort(op),Rn=0;Rn<rr.length;Rn++)sp(rr[Rn],mn),mn=ml(mn,mn.next);return mn}(A,I,Ut,Y)),A.length>80*Y){se=Ce=A[0],Ae=Ne=A[1];for(var tn=Y;tn<zt;tn+=Y)(Ke=A[tn])<se&&(se=Ke),(st=A[tn+1])<Ae&&(Ae=st),Ke>Ce&&(Ce=Ke),st>Ne&&(Ne=st);yt=(yt=Math.max(Ce-se,Ne-Ae))!==0?1/yt:0}return lu(Ut,Rt,Y,se,Ae,yt),Rt}function pf(A,I,Y,se,Ae){var Ce,Ne;if(Ae===Lc(A,I,Y,se)>0)for(Ce=I;Ce<Y;Ce+=se)Ne=vf(Ce,A[Ce],A[Ce+1],Ne);else for(Ce=Y-se;Ce>=I;Ce-=se)Ne=vf(Ce,A[Ce],A[Ce+1],Ne);return Ne&&Vu(Ne,Ne.next)&&(cu(Ne),Ne=Ne.next),Ne}function ml(A,I){if(!A)return A;I||(I=A);var Y,se=A;do if(Y=!1,se.steiner||!Vu(se,se.next)&&Zi(se.prev,se,se.next)!==0)se=se.next;else{if(cu(se),(se=I=se.prev)===se.next)break;Y=!0}while(Y||se!==I);return I}function lu(A,I,Y,se,Ae,Ce,Ne){if(A){!Ne&&Ce&&function(wt,zt,Ut,Rt){var tn=wt;do tn.z===null&&(tn.z=Sc(tn.x,tn.y,zt,Ut,Rt)),tn.prevZ=tn.prev,tn.nextZ=tn.next,tn=tn.next;while(tn!==wt);tn.prevZ.nextZ=null,tn.prevZ=null,function(an){var bn,mn,In,Rn,qn,Gn,rr,dr,hr=1;do{for(mn=an,an=null,qn=null,Gn=0;mn;){for(Gn++,In=mn,rr=0,bn=0;bn<hr&&(rr++,In=In.nextZ);bn++);for(dr=hr;rr>0||dr>0&&In;)rr!==0&&(dr===0||!In||mn.z<=In.z)?(Rn=mn,mn=mn.nextZ,rr--):(Rn=In,In=In.nextZ,dr--),qn?qn.nextZ=Rn:an=Rn,Rn.prevZ=qn,qn=Rn;mn=In}qn.nextZ=null,hr*=2}while(Gn>1)}(tn)}(A,se,Ae,Ce);for(var Ke,st,yt=A;A.prev!==A.next;)if(Ke=A.prev,st=A.next,Ce?rp(A,se,Ae,Ce):np(A))I.push(Ke.i/Y),I.push(A.i/Y),I.push(st.i/Y),cu(A),A=st.next,yt=st.next;else if((A=st)===yt){Ne?Ne===1?lu(A=ip(ml(A),I,Y),I,Y,se,Ae,Ce,2):Ne===2&&ap(A,I,Y,se,Ae,Ce):lu(ml(A),I,Y,se,Ae,Ce,1);break}}}function np(A){var I=A.prev,Y=A,se=A.next;if(Zi(I,Y,se)>=0)return!1;for(var Ae=A.next.next;Ae!==A.prev;){if(Bl(I.x,I.y,Y.x,Y.y,se.x,se.y,Ae.x,Ae.y)&&Zi(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.next}return!0}function rp(A,I,Y,se){var Ae=A.prev,Ce=A,Ne=A.next;if(Zi(Ae,Ce,Ne)>=0)return!1;for(var Ke=Ae.x<Ce.x?Ae.x<Ne.x?Ae.x:Ne.x:Ce.x<Ne.x?Ce.x:Ne.x,st=Ae.y<Ce.y?Ae.y<Ne.y?Ae.y:Ne.y:Ce.y<Ne.y?Ce.y:Ne.y,yt=Ae.x>Ce.x?Ae.x>Ne.x?Ae.x:Ne.x:Ce.x>Ne.x?Ce.x:Ne.x,wt=Ae.y>Ce.y?Ae.y>Ne.y?Ae.y:Ne.y:Ce.y>Ne.y?Ce.y:Ne.y,zt=Sc(Ke,st,I,Y,se),Ut=Sc(yt,wt,I,Y,se),Rt=A.prevZ,tn=A.nextZ;Rt&&Rt.z>=zt&&tn&&tn.z<=Ut;){if(Rt!==A.prev&&Rt!==A.next&&Bl(Ae.x,Ae.y,Ce.x,Ce.y,Ne.x,Ne.y,Rt.x,Rt.y)&&Zi(Rt.prev,Rt,Rt.next)>=0||(Rt=Rt.prevZ,tn!==A.prev&&tn!==A.next&&Bl(Ae.x,Ae.y,Ce.x,Ce.y,Ne.x,Ne.y,tn.x,tn.y)&&Zi(tn.prev,tn,tn.next)>=0))return!1;tn=tn.nextZ}for(;Rt&&Rt.z>=zt;){if(Rt!==A.prev&&Rt!==A.next&&Bl(Ae.x,Ae.y,Ce.x,Ce.y,Ne.x,Ne.y,Rt.x,Rt.y)&&Zi(Rt.prev,Rt,Rt.next)>=0)return!1;Rt=Rt.prevZ}for(;tn&&tn.z<=Ut;){if(tn!==A.prev&&tn!==A.next&&Bl(Ae.x,Ae.y,Ce.x,Ce.y,Ne.x,Ne.y,tn.x,tn.y)&&Zi(tn.prev,tn,tn.next)>=0)return!1;tn=tn.nextZ}return!0}function ip(A,I,Y){var se=A;do{var Ae=se.prev,Ce=se.next.next;!Vu(Ae,Ce)&&df(Ae,se,se.next,Ce)&&uu(Ae,Ce)&&uu(Ce,Ae)&&(I.push(Ae.i/Y),I.push(se.i/Y),I.push(Ce.i/Y),cu(se),cu(se.next),se=A=Ce),se=se.next}while(se!==A);return ml(se)}function ap(A,I,Y,se,Ae,Ce){var Ne=A;do{for(var Ke=Ne.next.next;Ke!==Ne.prev;){if(Ne.i!==Ke.i&&cp(Ne,Ke)){var st=gf(Ne,Ke);return Ne=ml(Ne,Ne.next),st=ml(st,st.next),lu(Ne,I,Y,se,Ae,Ce),void lu(st,I,Y,se,Ae,Ce)}Ke=Ke.next}Ne=Ne.next}while(Ne!==A)}function op(A,I){return A.x-I.x}function sp(A,I){if(I=function(se,Ae){var Ce,Ne=Ae,Ke=se.x,st=se.y,yt=-1/0;do{if(st<=Ne.y&&st>=Ne.next.y&&Ne.next.y!==Ne.y){var wt=Ne.x+(st-Ne.y)*(Ne.next.x-Ne.x)/(Ne.next.y-Ne.y);if(wt<=Ke&&wt>yt){if(yt=wt,wt===Ke){if(st===Ne.y)return Ne;if(st===Ne.next.y)return Ne.next}Ce=Ne.x<Ne.next.x?Ne:Ne.next}}Ne=Ne.next}while(Ne!==Ae);if(!Ce)return null;if(Ke===yt)return Ce;var zt,Ut=Ce,Rt=Ce.x,tn=Ce.y,an=1/0;Ne=Ce;do Ke>=Ne.x&&Ne.x>=Rt&&Ke!==Ne.x&&Bl(st<tn?Ke:yt,st,Rt,tn,st<tn?yt:Ke,st,Ne.x,Ne.y)&&(zt=Math.abs(st-Ne.y)/(Ke-Ne.x),uu(Ne,se)&&(zt<an||zt===an&&(Ne.x>Ce.x||Ne.x===Ce.x&&lp(Ce,Ne)))&&(Ce=Ne,an=zt)),Ne=Ne.next;while(Ne!==Ut);return Ce}(A,I)){var Y=gf(I,A);ml(I,I.next),ml(Y,Y.next)}}function lp(A,I){return Zi(A.prev,A,I.prev)<0&&Zi(I.next,A,A.next)<0}function Sc(A,I,Y,se,Ae){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-Y)*Ae)|A<<8))|A<<4))|A<<2))|A<<1))|(I=1431655765&((I=858993459&((I=252645135&((I=16711935&((I=32767*(I-se)*Ae)|I<<8))|I<<4))|I<<2))|I<<1))<<1}function up(A){var I=A,Y=A;do(I.x<Y.x||I.x===Y.x&&I.y<Y.y)&&(Y=I),I=I.next;while(I!==A);return Y}function Bl(A,I,Y,se,Ae,Ce,Ne,Ke){return(Ae-Ne)*(I-Ke)-(A-Ne)*(Ce-Ke)>=0&&(A-Ne)*(se-Ke)-(Y-Ne)*(I-Ke)>=0&&(Y-Ne)*(Ce-Ke)-(Ae-Ne)*(se-Ke)>=0}function cp(A,I){return A.next.i!==I.i&&A.prev.i!==I.i&&!function(Y,se){var Ae=Y;do{if(Ae.i!==Y.i&&Ae.next.i!==Y.i&&Ae.i!==se.i&&Ae.next.i!==se.i&&df(Ae,Ae.next,Y,se))return!0;Ae=Ae.next}while(Ae!==Y);return!1}(A,I)&&(uu(A,I)&&uu(I,A)&&function(Y,se){var Ae=Y,Ce=!1,Ne=(Y.x+se.x)/2,Ke=(Y.y+se.y)/2;do Ae.y>Ke!=Ae.next.y>Ke&&Ae.next.y!==Ae.y&&Ne<(Ae.next.x-Ae.x)*(Ke-Ae.y)/(Ae.next.y-Ae.y)+Ae.x&&(Ce=!Ce),Ae=Ae.next;while(Ae!==Y);return Ce}(A,I)&&(Zi(A.prev,A,I.prev)||Zi(A,I.prev,I))||Vu(A,I)&&Zi(A.prev,A,A.next)>0&&Zi(I.prev,I,I.next)>0)}function Zi(A,I,Y){return(I.y-A.y)*(Y.x-I.x)-(I.x-A.x)*(Y.y-I.y)}function Vu(A,I){return A.x===I.x&&A.y===I.y}function df(A,I,Y,se){var Ae=Hu(Zi(A,I,Y)),Ce=Hu(Zi(A,I,se)),Ne=Hu(Zi(Y,se,A)),Ke=Hu(Zi(Y,se,I));return Ae!==Ce&&Ne!==Ke||!(Ae!==0||!qu(A,Y,I))||!(Ce!==0||!qu(A,se,I))||!(Ne!==0||!qu(Y,A,se))||!(Ke!==0||!qu(Y,I,se))}function qu(A,I,Y){return I.x<=Math.max(A.x,Y.x)&&I.x>=Math.min(A.x,Y.x)&&I.y<=Math.max(A.y,Y.y)&&I.y>=Math.min(A.y,Y.y)}function Hu(A){return A>0?1:A<0?-1:0}function uu(A,I){return Zi(A.prev,A,A.next)<0?Zi(A,I,A.next)>=0&&Zi(A,A.prev,I)>=0:Zi(A,I,A.prev)<0||Zi(A,A.next,I)<0}function gf(A,I){var Y=new Ec(A.i,A.x,A.y),se=new Ec(I.i,I.x,I.y),Ae=A.next,Ce=I.prev;return A.next=I,I.prev=A,Y.next=Ae,Ae.prev=Y,se.next=Y,Y.prev=se,Ce.next=se,se.prev=Ce,se}function vf(A,I,Y,se){var Ae=new Ec(A,I,Y);return se?(Ae.next=se.next,Ae.prev=se,se.next.prev=Ae,se.next=Ae):(Ae.prev=Ae,Ae.next=Ae),Ae}function cu(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function Ec(A,I,Y){this.i=A,this.x=I,this.y=Y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lc(A,I,Y,se){for(var Ae=0,Ce=I,Ne=Y-se;Ce<Y;Ce+=se)Ae+=(A[Ne]-A[Ce])*(A[Ce+1]+A[Ne+1]),Ne=Ce;return Ae}function fp(A,I,Y,se,Ae){mf(A,I,Y||0,se||A.length-1,Ae||hp)}function mf(A,I,Y,se,Ae){for(;se>Y;){if(se-Y>600){var Ce=se-Y+1,Ne=I-Y+1,Ke=Math.log(Ce),st=.5*Math.exp(2*Ke/3),yt=.5*Math.sqrt(Ke*st*(Ce-st)/Ce)*(Ne-Ce/2<0?-1:1);mf(A,I,Math.max(Y,Math.floor(I-Ne*st/Ce+yt)),Math.min(se,Math.floor(I+(Ce-Ne)*st/Ce+yt)),Ae)}var wt=A[I],zt=Y,Ut=se;for(fu(A,Y,I),Ae(A[se],wt)>0&&fu(A,Y,se);zt<Ut;){for(fu(A,zt,Ut),zt++,Ut--;Ae(A[zt],wt)<0;)zt++;for(;Ae(A[Ut],wt)>0;)Ut--}Ae(A[Y],wt)===0?fu(A,Y,Ut):fu(A,++Ut,se),Ut<=I&&(Y=Ut+1),I<=Ut&&(se=Ut-1)}}function fu(A,I,Y){var se=A[I];A[I]=A[Y],A[Y]=se}function hp(A,I){return A<I?-1:A>I?1:0}function Cc(A,I){var Y=A.length;if(Y<=1)return[A];for(var se,Ae,Ce=[],Ne=0;Ne<Y;Ne++){var Ke=P(A[Ne]);Ke!==0&&(A[Ne].area=Math.abs(Ke),Ae===void 0&&(Ae=Ke<0),Ae===Ke<0?(se&&Ce.push(se),se=[A[Ne]]):se.push(A[Ne]))}if(se&&Ce.push(se),I>1)for(var st=0;st<Ce.length;st++)Ce[st].length<=I||(fp(Ce[st],I,1,Ce[st].length-1,pp),Ce[st]=Ce[st].slice(0,I));return Ce}function pp(A,I){return I.area-A.area}function Pc(A,I,Y){for(var se=Y.patternDependencies,Ae=!1,Ce=0,Ne=I;Ce<Ne.length;Ce+=1){var Ke=Ne[Ce].paint.get(A+"-pattern");Ke.isConstant()||(Ae=!0);var st=Ke.constantOr(null);st&&(Ae=!0,se[st.to]=!0,se[st.from]=!0)}return Ae}function Oc(A,I,Y,se,Ae){for(var Ce=Ae.patternDependencies,Ne=0,Ke=I;Ne<Ke.length;Ne+=1){var st=Ke[Ne],yt=st.paint.get(A+"-pattern").value;if(yt.kind!=="constant"){var wt=yt.evaluate({zoom:se-1},Y,{},Ae.availableImages),zt=yt.evaluate({zoom:se},Y,{},Ae.availableImages),Ut=yt.evaluate({zoom:se+1},Y,{},Ae.availableImages);wt=wt&&wt.name?wt.name:wt,zt=zt&&zt.name?zt.name:zt,Ut=Ut&&Ut.name?Ut.name:Ut,Ce[wt]=!0,Ce[zt]=!0,Ce[Ut]=!0,Y.patterns[st.id]={min:wt,mid:zt,max:Ut}}}return Y}Uu.deviation=function(A,I,Y,se){var Ae=I&&I.length,Ce=Ae?I[0]*Y:A.length,Ne=Math.abs(Lc(A,0,Ce,Y));if(Ae)for(var Ke=0,st=I.length;Ke<st;Ke++){var yt=I[Ke]*Y,wt=Ke<st-1?I[Ke+1]*Y:A.length;Ne-=Math.abs(Lc(A,yt,wt,Y))}var zt=0;for(Ke=0;Ke<se.length;Ke+=3){var Ut=se[Ke]*Y,Rt=se[Ke+1]*Y,tn=se[Ke+2]*Y;zt+=Math.abs((A[Ut]-A[tn])*(A[Rt+1]-A[Ut+1])-(A[Ut]-A[Rt])*(A[tn+1]-A[Ut+1]))}return Ne===0&&zt===0?0:Math.abs((zt-Ne)/Ne)},Uu.flatten=function(A){for(var I=A[0][0].length,Y={vertices:[],holes:[],dimensions:I},se=0,Ae=0;Ae<A.length;Ae++){for(var Ce=0;Ce<A[Ae].length;Ce++)for(var Ne=0;Ne<I;Ne++)Y.vertices.push(A[Ae][Ce][Ne]);Ae>0&&(se+=A[Ae-1].length,Y.holes.push(se))}return Y},Mc.default=tp;var Cs=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new zo,this.indexArray=new ye,this.indexArray2=new lt,this.programConfigurations=new Ii(A.layers,A.zoom),this.segments=new Un,this.segments2=new Un,this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};Cs.prototype.populate=function(A,I,Y){this.hasPattern=Pc("fill",this.layers,I);for(var se=this.layers[0].layout.get("fill-sort-key"),Ae=[],Ce=0,Ne=A;Ce<Ne.length;Ce+=1){var Ke=Ne[Ce],st=Ke.feature,yt=Ke.id,wt=Ke.index,zt=Ke.sourceLayerIndex,Ut=this.layers[0]._featureFilter.needGeometry,Rt=xi(st,Ut);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),Rt,Y)){var tn=se?se.evaluate(Rt,{},Y,I.availableImages):void 0,an={id:yt,properties:st.properties,type:st.type,sourceLayerIndex:zt,index:wt,geometry:Ut?Rt.geometry:go(st),patterns:{},sortKey:tn};Ae.push(an)}}se&&Ae.sort(function(yr,br){return yr.sortKey-br.sortKey});for(var bn=0,mn=Ae;bn<mn.length;bn+=1){var In=mn[bn],Rn=In,qn=Rn.geometry,Gn=Rn.index,rr=Rn.sourceLayerIndex;if(this.hasPattern){var dr=Oc("fill",this.layers,In,this.zoom,I);this.patternFeatures.push(dr)}else this.addFeature(In,qn,Gn,Y,{});var hr=A[Gn].feature;I.featureIndex.insert(hr,qn,Gn,rr,this.index)}},Cs.prototype.update=function(A,I,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,I,this.stateDependentLayers,Y)},Cs.prototype.addFeatures=function(A,I,Y){for(var se=0,Ae=this.patternFeatures;se<Ae.length;se+=1){var Ce=Ae[se];this.addFeature(Ce,Ce.geometry,Ce.index,I,Y)}},Cs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Cs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Cs.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,ep),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.indexBuffer2=A.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(A),this.uploaded=!0},Cs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Cs.prototype.addFeature=function(A,I,Y,se,Ae){for(var Ce=0,Ne=Cc(I,500);Ce<Ne.length;Ce+=1){for(var Ke=Ne[Ce],st=0,yt=0,wt=Ke;yt<wt.length;yt+=1)st+=wt[yt].length;for(var zt=this.segments.prepareSegment(st,this.layoutVertexArray,this.indexArray),Ut=zt.vertexLength,Rt=[],tn=[],an=0,bn=Ke;an<bn.length;an+=1){var mn=bn[an];if(mn.length!==0){mn!==Ke[0]&&tn.push(Rt.length/2);var In=this.segments2.prepareSegment(mn.length,this.layoutVertexArray,this.indexArray2),Rn=In.vertexLength;this.layoutVertexArray.emplaceBack(mn[0].x,mn[0].y),this.indexArray2.emplaceBack(Rn+mn.length-1,Rn),Rt.push(mn[0].x),Rt.push(mn[0].y);for(var qn=1;qn<mn.length;qn++)this.layoutVertexArray.emplaceBack(mn[qn].x,mn[qn].y),this.indexArray2.emplaceBack(Rn+qn-1,Rn+qn),Rt.push(mn[qn].x),Rt.push(mn[qn].y);In.vertexLength+=mn.length,In.primitiveLength+=mn.length}}for(var Gn=Mc(Rt,tn),rr=0;rr<Gn.length;rr+=3)this.indexArray.emplaceBack(Ut+Gn[rr],Ut+Gn[rr+1],Ut+Gn[rr+2]);zt.vertexLength+=st,zt.primitiveLength+=Gn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Y,Ae,se)},wr("FillBucket",Cs,{omit:["layers","patternFeatures"]});var dp=new Ei({"fill-sort-key":new Cr(Ye.layout_fill["fill-sort-key"])}),gp={paint:new Ei({"fill-antialias":new kr(Ye.paint_fill["fill-antialias"]),"fill-opacity":new Cr(Ye.paint_fill["fill-opacity"]),"fill-color":new Cr(Ye.paint_fill["fill-color"]),"fill-outline-color":new Cr(Ye.paint_fill["fill-outline-color"]),"fill-translate":new kr(Ye.paint_fill["fill-translate"]),"fill-translate-anchor":new kr(Ye.paint_fill["fill-translate-anchor"]),"fill-pattern":new _a(Ye.paint_fill["fill-pattern"])}),layout:dp},vp=function(A){function I(Y){A.call(this,Y,gp)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(Y,se){A.prototype.recalculate.call(this,Y,se);var Ae=this.paint._values["fill-outline-color"];Ae.value.kind==="constant"&&Ae.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(Y){return new Cs(Y)},I.prototype.queryRadius=function(){return Fu(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(Y,se,Ae,Ce,Ne,Ke,st){return zu(Bu(Y,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),Ke.angle,st),Ce)},I.prototype.isTileClipped=function(){return!0},I}($r),mp=hi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,yf=Nl;function Nl(A,I,Y,se,Ae){this.properties={},this.extent=Y,this.type=0,this._pbf=A,this._geometry=-1,this._keys=se,this._values=Ae,A.readFields(yp,this,I)}function yp(A,I,Y){A==1?I.id=Y.readVarint():A==2?function(se,Ae){for(var Ce=se.readVarint()+se.pos;se.pos<Ce;){var Ne=Ae._keys[se.readVarint()],Ke=Ae._values[se.readVarint()];Ae.properties[Ne]=Ke}}(Y,I):A==3?I.type=Y.readVarint():A==4&&(I._geometry=Y.pos)}function xp(A){for(var I,Y,se=0,Ae=0,Ce=A.length,Ne=Ce-1;Ae<Ce;Ne=Ae++)I=A[Ae],se+=((Y=A[Ne]).x-I.x)*(I.y+Y.y);return se}Nl.types=["Unknown","Point","LineString","Polygon"],Nl.prototype.loadGeometry=function(){var A=this._pbf;A.pos=this._geometry;for(var I,Y=A.readVarint()+A.pos,se=1,Ae=0,Ce=0,Ne=0,Ke=[];A.pos<Y;){if(Ae<=0){var st=A.readVarint();se=7&st,Ae=st>>3}if(Ae--,se===1||se===2)Ce+=A.readSVarint(),Ne+=A.readSVarint(),se===1&&(I&&Ke.push(I),I=[]),I.push(new t(Ce,Ne));else{if(se!==7)throw new Error("unknown command "+se);I&&I.push(I[0].clone())}}return I&&Ke.push(I),Ke},Nl.prototype.bbox=function(){var A=this._pbf;A.pos=this._geometry;for(var I=A.readVarint()+A.pos,Y=1,se=0,Ae=0,Ce=0,Ne=1/0,Ke=-1/0,st=1/0,yt=-1/0;A.pos<I;){if(se<=0){var wt=A.readVarint();Y=7&wt,se=wt>>3}if(se--,Y===1||Y===2)(Ae+=A.readSVarint())<Ne&&(Ne=Ae),Ae>Ke&&(Ke=Ae),(Ce+=A.readSVarint())<st&&(st=Ce),Ce>yt&&(yt=Ce);else if(Y!==7)throw new Error("unknown command "+Y)}return[Ne,st,Ke,yt]},Nl.prototype.toGeoJSON=function(A,I,Y){var se,Ae,Ce=this.extent*Math.pow(2,Y),Ne=this.extent*A,Ke=this.extent*I,st=this.loadGeometry(),yt=Nl.types[this.type];function wt(Rt){for(var tn=0;tn<Rt.length;tn++){var an=Rt[tn],bn=180-360*(an.y+Ke)/Ce;Rt[tn]=[360*(an.x+Ne)/Ce-180,360/Math.PI*Math.atan(Math.exp(bn*Math.PI/180))-90]}}switch(this.type){case 1:var zt=[];for(se=0;se<st.length;se++)zt[se]=st[se][0];wt(st=zt);break;case 2:for(se=0;se<st.length;se++)wt(st[se]);break;case 3:for(st=function(Rt){var tn=Rt.length;if(tn<=1)return[Rt];for(var an,bn,mn=[],In=0;In<tn;In++){var Rn=xp(Rt[In]);Rn!==0&&(bn===void 0&&(bn=Rn<0),bn===Rn<0?(an&&mn.push(an),an=[Rt[In]]):an.push(Rt[In]))}return an&&mn.push(an),mn}(st),se=0;se<st.length;se++)for(Ae=0;Ae<st[se].length;Ae++)wt(st[se][Ae])}st.length===1?st=st[0]:yt="Multi"+yt;var Ut={type:"Feature",geometry:{type:yt,coordinates:st},properties:this.properties};return"id"in this&&(Ut.id=this.id),Ut};var xf=bf;function bf(A,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=A,this._keys=[],this._values=[],this._features=[],A.readFields(bp,this,I),this.length=this._features.length}function bp(A,I,Y){A===15?I.version=Y.readVarint():A===1?I.name=Y.readString():A===5?I.extent=Y.readVarint():A===2?I._features.push(Y.pos):A===3?I._keys.push(Y.readString()):A===4&&I._values.push(function(se){for(var Ae=null,Ce=se.readVarint()+se.pos;se.pos<Ce;){var Ne=se.readVarint()>>3;Ae=Ne===1?se.readString():Ne===2?se.readFloat():Ne===3?se.readDouble():Ne===4?se.readVarint64():Ne===5?se.readVarint():Ne===6?se.readSVarint():Ne===7?se.readBoolean():null}return Ae}(Y))}function _p(A,I,Y){if(A===3){var se=new xf(Y,Y.readVarint()+Y.pos);se.length&&(I[se.name]=se)}}bf.prototype.feature=function(A){if(A<0||A>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[A];var I=this._pbf.readVarint()+this._pbf.pos;return new yf(this._pbf,I,this.extent,this._keys,this._values)};var jl={VectorTile:function(A,I){this.layers=A.readFields(_p,{},I)},VectorTileFeature:yf,VectorTileLayer:xf},wp=jl.VectorTileFeature.types,Ic=Math.pow(2,13);function hu(A,I,Y,se,Ae,Ce,Ne,Ke){A.emplaceBack(I,Y,2*Math.floor(se*Ic)+Ne,Ae*Ic*2,Ce*Ic*2,Math.round(Ke))}var Ps=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new Ze,this.indexArray=new ye,this.programConfigurations=new Ii(A.layers,A.zoom),this.segments=new Un,this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};function Tp(A,I){return A.x===I.x&&(A.x<0||A.x>Zr)||A.y===I.y&&(A.y<0||A.y>Zr)}Ps.prototype.populate=function(A,I,Y){this.features=[],this.hasPattern=Pc("fill-extrusion",this.layers,I);for(var se=0,Ae=A;se<Ae.length;se+=1){var Ce=Ae[se],Ne=Ce.feature,Ke=Ce.id,st=Ce.index,yt=Ce.sourceLayerIndex,wt=this.layers[0]._featureFilter.needGeometry,zt=xi(Ne,wt);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),zt,Y)){var Ut={id:Ke,sourceLayerIndex:yt,index:st,geometry:wt?zt.geometry:go(Ne),properties:Ne.properties,type:Ne.type,patterns:{}};this.hasPattern?this.features.push(Oc("fill-extrusion",this.layers,Ut,this.zoom,I)):this.addFeature(Ut,Ut.geometry,st,Y,{}),I.featureIndex.insert(Ne,Ut.geometry,st,yt,this.index,!0)}}},Ps.prototype.addFeatures=function(A,I,Y){for(var se=0,Ae=this.features;se<Ae.length;se+=1){var Ce=Ae[se],Ne=Ce.geometry;this.addFeature(Ce,Ne,Ce.index,I,Y)}},Ps.prototype.update=function(A,I,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,I,this.stateDependentLayers,Y)},Ps.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ps.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ps.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,mp),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},Ps.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ps.prototype.addFeature=function(A,I,Y,se,Ae){for(var Ce=0,Ne=Cc(I,500);Ce<Ne.length;Ce+=1){for(var Ke=Ne[Ce],st=0,yt=0,wt=Ke;yt<wt.length;yt+=1)st+=wt[yt].length;for(var zt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Ut=0,Rt=Ke;Ut<Rt.length;Ut+=1){var tn=Rt[Ut];if(tn.length!==0&&!((Wr=tn).every(function(Fr){return Fr.x<0})||Wr.every(function(Fr){return Fr.x>Zr})||Wr.every(function(Fr){return Fr.y<0})||Wr.every(function(Fr){return Fr.y>Zr})))for(var an=0,bn=0;bn<tn.length;bn++){var mn=tn[bn];if(bn>=1){var In=tn[bn-1];if(!Tp(mn,In)){zt.vertexLength+4>Un.MAX_VERTEX_ARRAY_LENGTH&&(zt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Rn=mn.sub(In)._perp()._unit(),qn=In.dist(mn);an+qn>32768&&(an=0),hu(this.layoutVertexArray,mn.x,mn.y,Rn.x,Rn.y,0,0,an),hu(this.layoutVertexArray,mn.x,mn.y,Rn.x,Rn.y,0,1,an),an+=qn,hu(this.layoutVertexArray,In.x,In.y,Rn.x,Rn.y,0,0,an),hu(this.layoutVertexArray,In.x,In.y,Rn.x,Rn.y,0,1,an);var Gn=zt.vertexLength;this.indexArray.emplaceBack(Gn,Gn+2,Gn+1),this.indexArray.emplaceBack(Gn+1,Gn+2,Gn+3),zt.vertexLength+=4,zt.primitiveLength+=2}}}}if(zt.vertexLength+st>Un.MAX_VERTEX_ARRAY_LENGTH&&(zt=this.segments.prepareSegment(st,this.layoutVertexArray,this.indexArray)),wp[A.type]==="Polygon"){for(var rr=[],dr=[],hr=zt.vertexLength,yr=0,br=Ke;yr<br.length;yr+=1){var zr=br[yr];if(zr.length!==0){zr!==Ke[0]&&dr.push(rr.length/2);for(var Sr=0;Sr<zr.length;Sr++){var Ir=zr[Sr];hu(this.layoutVertexArray,Ir.x,Ir.y,0,0,1,1,0),rr.push(Ir.x),rr.push(Ir.y)}}}for(var Lr=Mc(rr,dr),Mr=0;Mr<Lr.length;Mr+=3)this.indexArray.emplaceBack(hr+Lr[Mr],hr+Lr[Mr+2],hr+Lr[Mr+1]);zt.primitiveLength+=Lr.length/3,zt.vertexLength+=st}}var Wr;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Y,Ae,se)},wr("FillExtrusionBucket",Ps,{omit:["layers","features"]});var kp={paint:new Ei({"fill-extrusion-opacity":new kr(Ye["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Cr(Ye["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new kr(Ye["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new kr(Ye["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new _a(Ye["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Cr(Ye["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Cr(Ye["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new kr(Ye["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ap=function(A){function I(Y){A.call(this,Y,kp)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(Y){return new Ps(Y)},I.prototype.queryRadius=function(){return Fu(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(Y,se,Ae,Ce,Ne,Ke,st,yt){var wt=Bu(Y,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),Ke.angle,st),zt=this.paint.get("fill-extrusion-height").evaluate(se,Ae),Ut=this.paint.get("fill-extrusion-base").evaluate(se,Ae),Rt=function(an,bn,mn,In){for(var Rn=[],qn=0,Gn=an;qn<Gn.length;qn+=1){var rr=Gn[qn],dr=[rr.x,rr.y,In,1];ju(dr,dr,bn),Rn.push(new t(dr[0]/dr[3],dr[1]/dr[3]))}return Rn}(wt,yt,0,0),tn=function(an,bn,mn,In){for(var Rn=[],qn=[],Gn=In[8]*bn,rr=In[9]*bn,dr=In[10]*bn,hr=In[11]*bn,yr=In[8]*mn,br=In[9]*mn,zr=In[10]*mn,Sr=In[11]*mn,Ir=0,Lr=an;Ir<Lr.length;Ir+=1){for(var Mr=[],Wr=[],Fr=0,gi=Lr[Ir];Fr<gi.length;Fr+=1){var Pr=gi[Fr],ci=Pr.x,_i=Pr.y,Mi=In[0]*ci+In[4]*_i+In[12],Si=In[1]*ci+In[5]*_i+In[13],vi=In[2]*ci+In[6]*_i+In[14],Ji=In[3]*ci+In[7]*_i+In[15],Oi=vi+dr,ca=Ji+hr,ka=Mi+yr,va=Si+br,Ga=vi+zr,ma=Ji+Sr,ta=new t((Mi+Gn)/ca,(Si+rr)/ca);ta.z=Oi/ca,Mr.push(ta);var ya=new t(ka/ma,va/ma);ya.z=Ga/ma,Wr.push(ya)}Rn.push(Mr),qn.push(Wr)}return[Rn,qn]}(Ce,Ut,zt,yt);return function(an,bn,mn){var In=1/0;zu(mn,bn)&&(In=_f(mn,bn[0]));for(var Rn=0;Rn<bn.length;Rn++)for(var qn=bn[Rn],Gn=an[Rn],rr=0;rr<qn.length-1;rr++){var dr=qn[rr],hr=qn[rr+1],yr=Gn[rr],br=[dr,hr,Gn[rr+1],yr,dr];Sl(mn,br)&&(In=Math.min(In,_f(mn,br)))}return In!==1/0&&In}(tn[0],tn[1],Rt)},I}($r);function pu(A,I){return A.x*I.x+A.y*I.y}function _f(A,I){if(A.length===1){for(var Y,se=0,Ae=I[se++];!Y||Ae.equals(Y);)if(!(Y=I[se++]))return 1/0;for(;se<I.length;se++){var Ce=I[se],Ne=A[0],Ke=Y.sub(Ae),st=Ce.sub(Ae),yt=Ne.sub(Ae),wt=pu(Ke,Ke),zt=pu(Ke,st),Ut=pu(st,st),Rt=pu(yt,Ke),tn=pu(yt,st),an=wt*Ut-zt*zt,bn=(Ut*Rt-zt*tn)/an,mn=(wt*tn-zt*Rt)/an,In=1-bn-mn,Rn=Ae.z*In+Y.z*bn+Ce.z*mn;if(isFinite(Rn))return Rn}return 1/0}for(var qn=1/0,Gn=0,rr=I;Gn<rr.length;Gn+=1){var dr=rr[Gn];qn=Math.min(qn,dr.z)}return qn}var Mp=hi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Sp=hi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Ep=jl.VectorTileFeature.types,Lp=Math.cos(Math.PI/180*37.5),wf=Math.pow(2,14)/.5,Ha=function(A){var I=this;this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(Y){return Y.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(Y){I.gradients[Y.id]={}}),this.layoutVertexArray=new Je,this.layoutVertexArray2=new ot,this.indexArray=new ye,this.programConfigurations=new Ii(A.layers,A.zoom),this.segments=new Un,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(Y){return Y.isStateDependent()}).map(function(Y){return Y.id})};Ha.prototype.populate=function(A,I,Y){this.hasPattern=Pc("line",this.layers,I);for(var se=this.layers[0].layout.get("line-sort-key"),Ae=[],Ce=0,Ne=A;Ce<Ne.length;Ce+=1){var Ke=Ne[Ce],st=Ke.feature,yt=Ke.id,wt=Ke.index,zt=Ke.sourceLayerIndex,Ut=this.layers[0]._featureFilter.needGeometry,Rt=xi(st,Ut);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),Rt,Y)){var tn=se?se.evaluate(Rt,{},Y):void 0,an={id:yt,properties:st.properties,type:st.type,sourceLayerIndex:zt,index:wt,geometry:Ut?Rt.geometry:go(st),patterns:{},sortKey:tn};Ae.push(an)}}se&&Ae.sort(function(yr,br){return yr.sortKey-br.sortKey});for(var bn=0,mn=Ae;bn<mn.length;bn+=1){var In=mn[bn],Rn=In,qn=Rn.geometry,Gn=Rn.index,rr=Rn.sourceLayerIndex;if(this.hasPattern){var dr=Oc("line",this.layers,In,this.zoom,I);this.patternFeatures.push(dr)}else this.addFeature(In,qn,Gn,Y,{});var hr=A[Gn].feature;I.featureIndex.insert(hr,qn,Gn,rr,this.index)}},Ha.prototype.update=function(A,I,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,I,this.stateDependentLayers,Y)},Ha.prototype.addFeatures=function(A,I,Y){for(var se=0,Ae=this.patternFeatures;se<Ae.length;se+=1){var Ce=Ae[se];this.addFeature(Ce,Ce.geometry,Ce.index,I,Y)}},Ha.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ha.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ha.prototype.upload=function(A){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=A.createVertexBuffer(this.layoutVertexArray2,Sp)),this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Mp),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},Ha.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ha.prototype.lineFeatureClips=function(A){if(A.properties&&A.properties.hasOwnProperty("mapbox_clip_start")&&A.properties.hasOwnProperty("mapbox_clip_end"))return{start:+A.properties.mapbox_clip_start,end:+A.properties.mapbox_clip_end}},Ha.prototype.addFeature=function(A,I,Y,se,Ae){var Ce=this.layers[0].layout,Ne=Ce.get("line-join").evaluate(A,{}),Ke=Ce.get("line-cap"),st=Ce.get("line-miter-limit"),yt=Ce.get("line-round-limit");this.lineClips=this.lineFeatureClips(A);for(var wt=0,zt=I;wt<zt.length;wt+=1){var Ut=zt[wt];this.addLine(Ut,A,Ne,Ke,st,yt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Y,Ae,se)},Ha.prototype.addLine=function(A,I,Y,se,Ae,Ce){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Ne=0;Ne<A.length-1;Ne++)this.totalDistance+=A[Ne].dist(A[Ne+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var Ke=Ep[I.type]==="Polygon",st=A.length;st>=2&&A[st-1].equals(A[st-2]);)st--;for(var yt=0;yt<st-1&&A[yt].equals(A[yt+1]);)yt++;if(!(st<(Ke?3:2))){Y==="bevel"&&(Ae=1.05);var wt,zt=this.overscaling<=16?15*Zr/(512*this.overscaling):0,Ut=this.segments.prepareSegment(10*st,this.layoutVertexArray,this.indexArray),Rt=void 0,tn=void 0,an=void 0,bn=void 0;this.e1=this.e2=-1,Ke&&(wt=A[st-2],bn=A[yt].sub(wt)._unit()._perp());for(var mn=yt;mn<st;mn++)if(!(tn=mn===st-1?Ke?A[yt+1]:void 0:A[mn+1])||!A[mn].equals(tn)){bn&&(an=bn),wt&&(Rt=wt),wt=A[mn],bn=tn?tn.sub(wt)._unit()._perp():an;var In=(an=an||bn).add(bn);In.x===0&&In.y===0||In._unit();var Rn=an.x*bn.x+an.y*bn.y,qn=In.x*bn.x+In.y*bn.y,Gn=qn!==0?1/qn:1/0,rr=2*Math.sqrt(2-2*qn),dr=qn<Lp&&Rt&&tn,hr=an.x*bn.y-an.y*bn.x>0;if(dr&&mn>yt){var yr=wt.dist(Rt);if(yr>2*zt){var br=wt.sub(wt.sub(Rt)._mult(zt/yr)._round());this.updateDistance(Rt,br),this.addCurrentVertex(br,an,0,0,Ut),Rt=br}}var zr=Rt&&tn,Sr=zr?Y:Ke?"butt":se;if(zr&&Sr==="round"&&(Gn<Ce?Sr="miter":Gn<=2&&(Sr="fakeround")),Sr==="miter"&&Gn>Ae&&(Sr="bevel"),Sr==="bevel"&&(Gn>2&&(Sr="flipbevel"),Gn<Ae&&(Sr="miter")),Rt&&this.updateDistance(Rt,wt),Sr==="miter")In._mult(Gn),this.addCurrentVertex(wt,In,0,0,Ut);else if(Sr==="flipbevel"){if(Gn>100)In=bn.mult(-1);else{var Ir=Gn*an.add(bn).mag()/an.sub(bn).mag();In._perp()._mult(Ir*(hr?-1:1))}this.addCurrentVertex(wt,In,0,0,Ut),this.addCurrentVertex(wt,In.mult(-1),0,0,Ut)}else if(Sr==="bevel"||Sr==="fakeround"){var Lr=-Math.sqrt(Gn*Gn-1),Mr=hr?Lr:0,Wr=hr?0:Lr;if(Rt&&this.addCurrentVertex(wt,an,Mr,Wr,Ut),Sr==="fakeround")for(var Fr=Math.round(180*rr/Math.PI/20),gi=1;gi<Fr;gi++){var Pr=gi/Fr;if(Pr!==.5){var ci=Pr-.5;Pr+=Pr*ci*(Pr-1)*((1.0904+Rn*(Rn*(3.55645-1.43519*Rn)-3.2452))*ci*ci+(.848013+Rn*(.215638*Rn-1.06021)))}var _i=bn.sub(an)._mult(Pr)._add(an)._unit()._mult(hr?-1:1);this.addHalfVertex(wt,_i.x,_i.y,!1,hr,0,Ut)}tn&&this.addCurrentVertex(wt,bn,-Mr,-Wr,Ut)}else if(Sr==="butt")this.addCurrentVertex(wt,In,0,0,Ut);else if(Sr==="square"){var Mi=Rt?1:-1;this.addCurrentVertex(wt,In,Mi,Mi,Ut)}else Sr==="round"&&(Rt&&(this.addCurrentVertex(wt,an,0,0,Ut),this.addCurrentVertex(wt,an,1,1,Ut,!0)),tn&&(this.addCurrentVertex(wt,bn,-1,-1,Ut,!0),this.addCurrentVertex(wt,bn,0,0,Ut)));if(dr&&mn<st-1){var Si=wt.dist(tn);if(Si>2*zt){var vi=wt.add(tn.sub(wt)._mult(zt/Si)._round());this.updateDistance(wt,vi),this.addCurrentVertex(vi,bn,0,0,Ut),wt=vi}}}}},Ha.prototype.addCurrentVertex=function(A,I,Y,se,Ae,Ce){Ce===void 0&&(Ce=!1);var Ne=I.x+I.y*Y,Ke=I.y-I.x*Y,st=-I.x+I.y*se,yt=-I.y-I.x*se;this.addHalfVertex(A,Ne,Ke,Ce,!1,Y,Ae),this.addHalfVertex(A,st,yt,Ce,!0,-se,Ae),this.distance>wf/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(A,I,Y,se,Ae,Ce))},Ha.prototype.addHalfVertex=function(A,I,Y,se,Ae,Ce,Ne){var Ke=A.x,st=A.y,yt=.5*(this.lineClips?this.scaledDistance*(wf-1):this.scaledDistance);if(this.layoutVertexArray.emplaceBack((Ke<<1)+(se?1:0),(st<<1)+(Ae?1:0),Math.round(63*I)+128,Math.round(63*Y)+128,1+(Ce===0?0:Ce<0?-1:1)|(63&yt)<<2,yt>>6),this.lineClips){var wt=(this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start);this.layoutVertexArray2.emplaceBack(wt,this.lineClipsArray.length)}var zt=Ne.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,zt),Ne.primitiveLength++),Ae?this.e2=zt:this.e1=zt},Ha.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ha.prototype.updateDistance=function(A,I){this.distance+=A.dist(I),this.updateScaledDistance()},wr("LineBucket",Ha,{omit:["layers","patternFeatures"]});var Cp=new Ei({"line-cap":new kr(Ye.layout_line["line-cap"]),"line-join":new Cr(Ye.layout_line["line-join"]),"line-miter-limit":new kr(Ye.layout_line["line-miter-limit"]),"line-round-limit":new kr(Ye.layout_line["line-round-limit"]),"line-sort-key":new Cr(Ye.layout_line["line-sort-key"])}),Tf={paint:new Ei({"line-opacity":new Cr(Ye.paint_line["line-opacity"]),"line-color":new Cr(Ye.paint_line["line-color"]),"line-translate":new kr(Ye.paint_line["line-translate"]),"line-translate-anchor":new kr(Ye.paint_line["line-translate-anchor"]),"line-width":new Cr(Ye.paint_line["line-width"]),"line-gap-width":new Cr(Ye.paint_line["line-gap-width"]),"line-offset":new Cr(Ye.paint_line["line-offset"]),"line-blur":new Cr(Ye.paint_line["line-blur"]),"line-dasharray":new to(Ye.paint_line["line-dasharray"]),"line-pattern":new _a(Ye.paint_line["line-pattern"]),"line-gradient":new po(Ye.paint_line["line-gradient"])}),layout:Cp},Pp=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(Y,se){return se=new Ur(Math.floor(se.zoom),{now:se.now,fadeDuration:se.fadeDuration,zoomHistory:se.zoomHistory,transition:se.transition}),A.prototype.possiblyEvaluate.call(this,Y,se)},I.prototype.evaluate=function(Y,se,Ae,Ce){return se=c({},se,{zoom:Math.floor(se.zoom)}),A.prototype.evaluate.call(this,Y,se,Ae,Ce)},I}(Cr),kf=new Pp(Tf.paint.properties["line-width"].specification);kf.useIntegerZoom=!0;var Op=function(A){function I(Y){A.call(this,Y,Tf),this.gradientVersion=0}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(Y){if(Y==="line-gradient"){var se=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=se._styleExpression.expression instanceof _r,this.gradientVersion=(this.gradientVersion+1)%n}},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(Y,se){A.prototype.recalculate.call(this,Y,se),this.paint._values["line-floorwidth"]=kf.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,Y)},I.prototype.createBucket=function(Y){return new Ha(Y)},I.prototype.queryRadius=function(Y){var se=Y,Ae=Af(su("line-width",this,se),su("line-gap-width",this,se)),Ce=su("line-offset",this,se);return Ae/2+Math.abs(Ce)+Fu(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(Y,se,Ae,Ce,Ne,Ke,st){var yt=Bu(Y,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),Ke.angle,st),wt=st/2*Af(this.paint.get("line-width").evaluate(se,Ae),this.paint.get("line-gap-width").evaluate(se,Ae)),zt=this.paint.get("line-offset").evaluate(se,Ae);return zt&&(Ce=function(Ut,Rt){for(var tn=[],an=new t(0,0),bn=0;bn<Ut.length;bn++){for(var mn=Ut[bn],In=[],Rn=0;Rn<mn.length;Rn++){var qn=mn[Rn-1],Gn=mn[Rn],rr=mn[Rn+1],dr=Rn===0?an:Gn.sub(qn)._unit()._perp(),hr=Rn===mn.length-1?an:rr.sub(Gn)._unit()._perp(),yr=dr._add(hr)._unit(),br=yr.x*hr.x+yr.y*hr.y;yr._mult(1/br),In.push(yr._mult(Rt)._add(Gn))}tn.push(In)}return tn}(Ce,zt*st)),function(Ut,Rt,tn){for(var an=0;an<Rt.length;an++){var bn=Rt[an];if(Ut.length>=3){for(var mn=0;mn<bn.length;mn++)if(Zs(Ut,bn[mn]))return!0}if(_c(Ut,bn,tn))return!0}return!1}(yt,Ce,wt)},I.prototype.isTileClipped=function(){return!0},I}($r);function Af(A,I){return I>0?I+2*A:A}var Ip=hi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),zp=hi([{name:"a_projected_pos",components:3,type:"Float32"}],4),Dp=(hi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),hi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Mf=(hi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),hi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Rp=hi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Fp(A,I,Y){return A.sections.forEach(function(se){se.text=function(Ae,Ce,Ne){var Ke=Ce.layout.get("text-transform").evaluate(Ne,{});return Ke==="uppercase"?Ae=Ae.toLocaleUpperCase():Ke==="lowercase"&&(Ae=Ae.toLocaleLowerCase()),la.applyArabicShaping&&(Ae=la.applyArabicShaping(Ae)),Ae}(se.text,I,Y)}),A}hi([{name:"triangle",components:3,type:"Uint16"}]),hi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),hi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),hi([{type:"Float32",name:"offsetX"}]),hi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var du={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},ga=24,Sf=function(A,I,Y,se,Ae){var Ce,Ne,Ke=8*Ae-se-1,st=(1<<Ke)-1,yt=st>>1,wt=-7,zt=Y?Ae-1:0,Ut=Y?-1:1,Rt=A[I+zt];for(zt+=Ut,Ce=Rt&(1<<-wt)-1,Rt>>=-wt,wt+=Ke;wt>0;Ce=256*Ce+A[I+zt],zt+=Ut,wt-=8);for(Ne=Ce&(1<<-wt)-1,Ce>>=-wt,wt+=se;wt>0;Ne=256*Ne+A[I+zt],zt+=Ut,wt-=8);if(Ce===0)Ce=1-yt;else{if(Ce===st)return Ne?NaN:1/0*(Rt?-1:1);Ne+=Math.pow(2,se),Ce-=yt}return(Rt?-1:1)*Ne*Math.pow(2,Ce-se)},Ef=function(A,I,Y,se,Ae,Ce){var Ne,Ke,st,yt=8*Ce-Ae-1,wt=(1<<yt)-1,zt=wt>>1,Ut=Ae===23?Math.pow(2,-24)-Math.pow(2,-77):0,Rt=se?0:Ce-1,tn=se?1:-1,an=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(Ke=isNaN(I)?1:0,Ne=wt):(Ne=Math.floor(Math.log(I)/Math.LN2),I*(st=Math.pow(2,-Ne))<1&&(Ne--,st*=2),(I+=Ne+zt>=1?Ut/st:Ut*Math.pow(2,1-zt))*st>=2&&(Ne++,st/=2),Ne+zt>=wt?(Ke=0,Ne=wt):Ne+zt>=1?(Ke=(I*st-1)*Math.pow(2,Ae),Ne+=zt):(Ke=I*Math.pow(2,zt-1)*Math.pow(2,Ae),Ne=0));Ae>=8;A[Y+Rt]=255&Ke,Rt+=tn,Ke/=256,Ae-=8);for(Ne=Ne<<Ae|Ke,yt+=Ae;yt>0;A[Y+Rt]=255&Ne,Rt+=tn,Ne/=256,yt-=8);A[Y+Rt-tn]|=128*an},Gu=bi;function bi(A){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(A)?A:new Uint8Array(A||0),this.pos=0,this.type=0,this.length=this.buf.length}bi.Varint=0,bi.Fixed64=1,bi.Bytes=2,bi.Fixed32=5;var zc=4294967296,Lf=1/zc,Cf=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function nl(A){return A.type===bi.Bytes?A.readVarint()+A.pos:A.pos+1}function Ul(A,I,Y){return Y?4294967296*I+(A>>>0):4294967296*(I>>>0)+(A>>>0)}function Pf(A,I,Y){var se=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(7*Math.LN2));Y.realloc(se);for(var Ae=Y.pos-1;Ae>=A;Ae--)Y.buf[Ae+se]=Y.buf[Ae]}function Bp(A,I){for(var Y=0;Y<A.length;Y++)I.writeVarint(A[Y])}function Np(A,I){for(var Y=0;Y<A.length;Y++)I.writeSVarint(A[Y])}function jp(A,I){for(var Y=0;Y<A.length;Y++)I.writeFloat(A[Y])}function Up(A,I){for(var Y=0;Y<A.length;Y++)I.writeDouble(A[Y])}function Vp(A,I){for(var Y=0;Y<A.length;Y++)I.writeBoolean(A[Y])}function qp(A,I){for(var Y=0;Y<A.length;Y++)I.writeFixed32(A[Y])}function Hp(A,I){for(var Y=0;Y<A.length;Y++)I.writeSFixed32(A[Y])}function Gp(A,I){for(var Y=0;Y<A.length;Y++)I.writeFixed64(A[Y])}function Wp(A,I){for(var Y=0;Y<A.length;Y++)I.writeSFixed64(A[Y])}function Wu(A,I){return(A[I]|A[I+1]<<8|A[I+2]<<16)+16777216*A[I+3]}function Vl(A,I,Y){A[Y]=I,A[Y+1]=I>>>8,A[Y+2]=I>>>16,A[Y+3]=I>>>24}function Of(A,I){return(A[I]|A[I+1]<<8|A[I+2]<<16)+(A[I+3]<<24)}bi.prototype={destroy:function(){this.buf=null},readFields:function(A,I,Y){for(Y=Y||this.length;this.pos<Y;){var se=this.readVarint(),Ae=se>>3,Ce=this.pos;this.type=7&se,A(Ae,I,this),this.pos===Ce&&this.skip(se)}return I},readMessage:function(A,I){return this.readFields(A,I,this.readVarint()+this.pos)},readFixed32:function(){var A=Wu(this.buf,this.pos);return this.pos+=4,A},readSFixed32:function(){var A=Of(this.buf,this.pos);return this.pos+=4,A},readFixed64:function(){var A=Wu(this.buf,this.pos)+Wu(this.buf,this.pos+4)*zc;return this.pos+=8,A},readSFixed64:function(){var A=Wu(this.buf,this.pos)+Of(this.buf,this.pos+4)*zc;return this.pos+=8,A},readFloat:function(){var A=Sf(this.buf,this.pos,!0,23,4);return this.pos+=4,A},readDouble:function(){var A=Sf(this.buf,this.pos,!0,52,8);return this.pos+=8,A},readVarint:function(A){var I,Y,se=this.buf;return I=127&(Y=se[this.pos++]),Y<128?I:(I|=(127&(Y=se[this.pos++]))<<7,Y<128?I:(I|=(127&(Y=se[this.pos++]))<<14,Y<128?I:(I|=(127&(Y=se[this.pos++]))<<21,Y<128?I:function(Ae,Ce,Ne){var Ke,st,yt=Ne.buf;if(Ke=(112&(st=yt[Ne.pos++]))>>4,st<128||(Ke|=(127&(st=yt[Ne.pos++]))<<3,st<128)||(Ke|=(127&(st=yt[Ne.pos++]))<<10,st<128)||(Ke|=(127&(st=yt[Ne.pos++]))<<17,st<128)||(Ke|=(127&(st=yt[Ne.pos++]))<<24,st<128)||(Ke|=(1&(st=yt[Ne.pos++]))<<31,st<128))return Ul(Ae,Ke,Ce);throw new Error("Expected varint not more than 10 bytes")}(I|=(15&(Y=se[this.pos]))<<28,A,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var A=this.readVarint();return A%2==1?(A+1)/-2:A/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var A=this.readVarint()+this.pos,I=this.pos;return this.pos=A,A-I>=12&&Cf?function(Y,se,Ae){return Cf.decode(Y.subarray(se,Ae))}(this.buf,I,A):function(Y,se,Ae){for(var Ce="",Ne=se;Ne<Ae;){var Ke,st,yt,wt=Y[Ne],zt=null,Ut=wt>239?4:wt>223?3:wt>191?2:1;if(Ne+Ut>Ae)break;Ut===1?wt<128&&(zt=wt):Ut===2?(192&(Ke=Y[Ne+1]))==128&&(zt=(31&wt)<<6|63&Ke)<=127&&(zt=null):Ut===3?(Ke=Y[Ne+1],st=Y[Ne+2],(192&Ke)==128&&(192&st)==128&&((zt=(15&wt)<<12|(63&Ke)<<6|63&st)<=2047||zt>=55296&&zt<=57343)&&(zt=null)):Ut===4&&(Ke=Y[Ne+1],st=Y[Ne+2],yt=Y[Ne+3],(192&Ke)==128&&(192&st)==128&&(192&yt)==128&&((zt=(15&wt)<<18|(63&Ke)<<12|(63&st)<<6|63&yt)<=65535||zt>=1114112)&&(zt=null)),zt===null?(zt=65533,Ut=1):zt>65535&&(zt-=65536,Ce+=String.fromCharCode(zt>>>10&1023|55296),zt=56320|1023&zt),Ce+=String.fromCharCode(zt),Ne+=Ut}return Ce}(this.buf,I,A)},readBytes:function(){var A=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,A);return this.pos=A,I},readPackedVarint:function(A,I){if(this.type!==bi.Bytes)return A.push(this.readVarint(I));var Y=nl(this);for(A=A||[];this.pos<Y;)A.push(this.readVarint(I));return A},readPackedSVarint:function(A){if(this.type!==bi.Bytes)return A.push(this.readSVarint());var I=nl(this);for(A=A||[];this.pos<I;)A.push(this.readSVarint());return A},readPackedBoolean:function(A){if(this.type!==bi.Bytes)return A.push(this.readBoolean());var I=nl(this);for(A=A||[];this.pos<I;)A.push(this.readBoolean());return A},readPackedFloat:function(A){if(this.type!==bi.Bytes)return A.push(this.readFloat());var I=nl(this);for(A=A||[];this.pos<I;)A.push(this.readFloat());return A},readPackedDouble:function(A){if(this.type!==bi.Bytes)return A.push(this.readDouble());var I=nl(this);for(A=A||[];this.pos<I;)A.push(this.readDouble());return A},readPackedFixed32:function(A){if(this.type!==bi.Bytes)return A.push(this.readFixed32());var I=nl(this);for(A=A||[];this.pos<I;)A.push(this.readFixed32());return A},readPackedSFixed32:function(A){if(this.type!==bi.Bytes)return A.push(this.readSFixed32());var I=nl(this);for(A=A||[];this.pos<I;)A.push(this.readSFixed32());return A},readPackedFixed64:function(A){if(this.type!==bi.Bytes)return A.push(this.readFixed64());var I=nl(this);for(A=A||[];this.pos<I;)A.push(this.readFixed64());return A},readPackedSFixed64:function(A){if(this.type!==bi.Bytes)return A.push(this.readSFixed64());var I=nl(this);for(A=A||[];this.pos<I;)A.push(this.readSFixed64());return A},skip:function(A){var I=7&A;if(I===bi.Varint)for(;this.buf[this.pos++]>127;);else if(I===bi.Bytes)this.pos=this.readVarint()+this.pos;else if(I===bi.Fixed32)this.pos+=4;else{if(I!==bi.Fixed64)throw new Error("Unimplemented type: "+I);this.pos+=8}},writeTag:function(A,I){this.writeVarint(A<<3|I)},realloc:function(A){for(var I=this.length||16;I<this.pos+A;)I*=2;if(I!==this.length){var Y=new Uint8Array(I);Y.set(this.buf),this.buf=Y,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(A){this.realloc(4),Vl(this.buf,A,this.pos),this.pos+=4},writeSFixed32:function(A){this.realloc(4),Vl(this.buf,A,this.pos),this.pos+=4},writeFixed64:function(A){this.realloc(8),Vl(this.buf,-1&A,this.pos),Vl(this.buf,Math.floor(A*Lf),this.pos+4),this.pos+=8},writeSFixed64:function(A){this.realloc(8),Vl(this.buf,-1&A,this.pos),Vl(this.buf,Math.floor(A*Lf),this.pos+4),this.pos+=8},writeVarint:function(A){(A=+A||0)>268435455||A<0?function(I,Y){var se,Ae;if(I>=0?(se=I%4294967296|0,Ae=I/4294967296|0):(Ae=~(-I/4294967296),4294967295^(se=~(-I%4294967296))?se=se+1|0:(se=0,Ae=Ae+1|0)),I>=18446744073709552e3||I<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Y.realloc(10),function(Ce,Ne,Ke){Ke.buf[Ke.pos++]=127&Ce|128,Ce>>>=7,Ke.buf[Ke.pos++]=127&Ce|128,Ce>>>=7,Ke.buf[Ke.pos++]=127&Ce|128,Ce>>>=7,Ke.buf[Ke.pos++]=127&Ce|128,Ce>>>=7,Ke.buf[Ke.pos]=127&Ce}(se,0,Y),function(Ce,Ne){var Ke=(7&Ce)<<4;Ne.buf[Ne.pos++]|=Ke|((Ce>>>=3)?128:0),Ce&&(Ne.buf[Ne.pos++]=127&Ce|((Ce>>>=7)?128:0),Ce&&(Ne.buf[Ne.pos++]=127&Ce|((Ce>>>=7)?128:0),Ce&&(Ne.buf[Ne.pos++]=127&Ce|((Ce>>>=7)?128:0),Ce&&(Ne.buf[Ne.pos++]=127&Ce|((Ce>>>=7)?128:0),Ce&&(Ne.buf[Ne.pos++]=127&Ce)))))}(Ae,Y)}(A,this):(this.realloc(4),this.buf[this.pos++]=127&A|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=A>>>7&127))))},writeSVarint:function(A){this.writeVarint(A<0?2*-A-1:2*A)},writeBoolean:function(A){this.writeVarint(!!A)},writeString:function(A){A=String(A),this.realloc(4*A.length),this.pos++;var I=this.pos;this.pos=function(se,Ae,Ce){for(var Ne,Ke,st=0;st<Ae.length;st++){if((Ne=Ae.charCodeAt(st))>55295&&Ne<57344){if(!Ke){Ne>56319||st+1===Ae.length?(se[Ce++]=239,se[Ce++]=191,se[Ce++]=189):Ke=Ne;continue}if(Ne<56320){se[Ce++]=239,se[Ce++]=191,se[Ce++]=189,Ke=Ne;continue}Ne=Ke-55296<<10|Ne-56320|65536,Ke=null}else Ke&&(se[Ce++]=239,se[Ce++]=191,se[Ce++]=189,Ke=null);Ne<128?se[Ce++]=Ne:(Ne<2048?se[Ce++]=Ne>>6|192:(Ne<65536?se[Ce++]=Ne>>12|224:(se[Ce++]=Ne>>18|240,se[Ce++]=Ne>>12&63|128),se[Ce++]=Ne>>6&63|128),se[Ce++]=63&Ne|128)}return Ce}(this.buf,A,this.pos);var Y=this.pos-I;Y>=128&&Pf(I,Y,this),this.pos=I-1,this.writeVarint(Y),this.pos+=Y},writeFloat:function(A){this.realloc(4),Ef(this.buf,A,this.pos,!0,23,4),this.pos+=4},writeDouble:function(A){this.realloc(8),Ef(this.buf,A,this.pos,!0,52,8),this.pos+=8},writeBytes:function(A){var I=A.length;this.writeVarint(I),this.realloc(I);for(var Y=0;Y<I;Y++)this.buf[this.pos++]=A[Y]},writeRawMessage:function(A,I){this.pos++;var Y=this.pos;A(I,this);var se=this.pos-Y;se>=128&&Pf(Y,se,this),this.pos=Y-1,this.writeVarint(se),this.pos+=se},writeMessage:function(A,I,Y){this.writeTag(A,bi.Bytes),this.writeRawMessage(I,Y)},writePackedVarint:function(A,I){I.length&&this.writeMessage(A,Bp,I)},writePackedSVarint:function(A,I){I.length&&this.writeMessage(A,Np,I)},writePackedBoolean:function(A,I){I.length&&this.writeMessage(A,Vp,I)},writePackedFloat:function(A,I){I.length&&this.writeMessage(A,jp,I)},writePackedDouble:function(A,I){I.length&&this.writeMessage(A,Up,I)},writePackedFixed32:function(A,I){I.length&&this.writeMessage(A,qp,I)},writePackedSFixed32:function(A,I){I.length&&this.writeMessage(A,Hp,I)},writePackedFixed64:function(A,I){I.length&&this.writeMessage(A,Gp,I)},writePackedSFixed64:function(A,I){I.length&&this.writeMessage(A,Wp,I)},writeBytesField:function(A,I){this.writeTag(A,bi.Bytes),this.writeBytes(I)},writeFixed32Field:function(A,I){this.writeTag(A,bi.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(A,I){this.writeTag(A,bi.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(A,I){this.writeTag(A,bi.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(A,I){this.writeTag(A,bi.Fixed64),this.writeSFixed64(I)},writeVarintField:function(A,I){this.writeTag(A,bi.Varint),this.writeVarint(I)},writeSVarintField:function(A,I){this.writeTag(A,bi.Varint),this.writeSVarint(I)},writeStringField:function(A,I){this.writeTag(A,bi.Bytes),this.writeString(I)},writeFloatField:function(A,I){this.writeTag(A,bi.Fixed32),this.writeFloat(I)},writeDoubleField:function(A,I){this.writeTag(A,bi.Fixed64),this.writeDouble(I)},writeBooleanField:function(A,I){this.writeVarintField(A,!!I)}};var Dc=3;function Yp(A,I,Y){A===1&&Y.readMessage(Zp,I)}function Zp(A,I,Y){if(A===3){var se=Y.readMessage(Xp,{}),Ae=se.id,Ce=se.bitmap,Ne=se.width,Ke=se.height,st=se.left,yt=se.top,wt=se.advance;I.push({id:Ae,bitmap:new El({width:Ne+2*Dc,height:Ke+2*Dc},Ce),metrics:{width:Ne,height:Ke,left:st,top:yt,advance:wt}})}}function Xp(A,I,Y){A===1?I.id=Y.readVarint():A===2?I.bitmap=Y.readBytes():A===3?I.width=Y.readVarint():A===4?I.height=Y.readVarint():A===5?I.left=Y.readSVarint():A===6?I.top=Y.readSVarint():A===7&&(I.advance=Y.readVarint())}var If=Dc;function zf(A){for(var I=0,Y=0,se=0,Ae=A;se<Ae.length;se+=1){var Ce=Ae[se];I+=Ce.w*Ce.h,Y=Math.max(Y,Ce.w)}A.sort(function(an,bn){return bn.h-an.h});for(var Ne=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(I/.95)),Y),h:1/0}],Ke=0,st=0,yt=0,wt=A;yt<wt.length;yt+=1)for(var zt=wt[yt],Ut=Ne.length-1;Ut>=0;Ut--){var Rt=Ne[Ut];if(!(zt.w>Rt.w||zt.h>Rt.h)){if(zt.x=Rt.x,zt.y=Rt.y,st=Math.max(st,zt.y+zt.h),Ke=Math.max(Ke,zt.x+zt.w),zt.w===Rt.w&&zt.h===Rt.h){var tn=Ne.pop();Ut<Ne.length&&(Ne[Ut]=tn)}else zt.h===Rt.h?(Rt.x+=zt.w,Rt.w-=zt.w):zt.w===Rt.w?(Rt.y+=zt.h,Rt.h-=zt.h):(Ne.push({x:Rt.x+zt.w,y:Rt.y,w:Rt.w-zt.w,h:zt.h}),Rt.y+=zt.h,Rt.h-=zt.h);break}}return{w:Ke,h:st,fill:I/(Ke*st)||0}}var vo=1,Yu=function(A,I){var Y=I.pixelRatio,se=I.version,Ae=I.stretchX,Ce=I.stretchY,Ne=I.content;this.paddedRect=A,this.pixelRatio=Y,this.stretchX=Ae,this.stretchY=Ce,this.content=Ne,this.version=se},gu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};gu.tl.get=function(){return[this.paddedRect.x+vo,this.paddedRect.y+vo]},gu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-vo,this.paddedRect.y+this.paddedRect.h-vo]},gu.tlbr.get=function(){return this.tl.concat(this.br)},gu.displaySize.get=function(){return[(this.paddedRect.w-2*vo)/this.pixelRatio,(this.paddedRect.h-2*vo)/this.pixelRatio]},Object.defineProperties(Yu.prototype,gu);var vu=function(A,I){var Y={},se={};this.haveRenderCallbacks=[];var Ae=[];this.addImages(A,Y,Ae),this.addImages(I,se,Ae);var Ce=zf(Ae),Ne=Ce.w,Ke=Ce.h,st=new ro({width:Ne||1,height:Ke||1});for(var yt in A){var wt=A[yt],zt=Y[yt].paddedRect;ro.copy(wt.data,st,{x:0,y:0},{x:zt.x+vo,y:zt.y+vo},wt.data)}for(var Ut in I){var Rt=I[Ut],tn=se[Ut].paddedRect,an=tn.x+vo,bn=tn.y+vo,mn=Rt.data.width,In=Rt.data.height;ro.copy(Rt.data,st,{x:0,y:0},{x:an,y:bn},Rt.data),ro.copy(Rt.data,st,{x:0,y:In-1},{x:an,y:bn-1},{width:mn,height:1}),ro.copy(Rt.data,st,{x:0,y:0},{x:an,y:bn+In},{width:mn,height:1}),ro.copy(Rt.data,st,{x:mn-1,y:0},{x:an-1,y:bn},{width:1,height:In}),ro.copy(Rt.data,st,{x:0,y:0},{x:an+mn,y:bn},{width:1,height:In})}this.image=st,this.iconPositions=Y,this.patternPositions=se};vu.prototype.addImages=function(A,I,Y){for(var se in A){var Ae=A[se],Ce={x:0,y:0,w:Ae.data.width+2*vo,h:Ae.data.height+2*vo};Y.push(Ce),I[se]=new Yu(Ce,Ae),Ae.hasRenderCallback&&this.haveRenderCallbacks.push(se)}},vu.prototype.patchUpdatedImages=function(A,I){for(var Y in A.dispatchRenderCallbacks(this.haveRenderCallbacks),A.updatedImages)this.patchUpdatedImage(this.iconPositions[Y],A.getImage(Y),I),this.patchUpdatedImage(this.patternPositions[Y],A.getImage(Y),I)},vu.prototype.patchUpdatedImage=function(A,I,Y){if(A&&I&&A.version!==I.version){A.version=I.version;var se=A.tl,Ae=se[0],Ce=se[1];Y.update(I.data,void 0,{x:Ae,y:Ce})}},wr("ImagePosition",Yu),wr("ImageAtlas",vu);var Ro={horizontal:1,vertical:2,horizontalOnly:3},mu=-17,ql=function(){this.scale=1,this.fontStack="",this.imageName=null};ql.forText=function(A,I){var Y=new ql;return Y.scale=A||1,Y.fontStack=I,Y},ql.forImage=function(A){var I=new ql;return I.imageName=A,I};var Pa=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Zu(A,I,Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn,an){var bn,mn=Pa.fromFeature(A,Ae);zt===Ro.vertical&&mn.verticalizePunctuation();var In=la.processBidirectionalText,Rn=la.processStyledBidirectionalText;if(In&&mn.sections.length===1){bn=[];for(var qn=0,Gn=In(mn.toString(),Rc(mn,yt,Ce,I,se,Rt,tn));qn<Gn.length;qn+=1){var rr=Gn[qn],dr=new Pa;dr.text=rr,dr.sections=mn.sections;for(var hr=0;hr<rr.length;hr++)dr.sectionIndex.push(0);bn.push(dr)}}else if(Rn){bn=[];for(var yr=0,br=Rn(mn.text,mn.sectionIndex,Rc(mn,yt,Ce,I,se,Rt,tn));yr<br.length;yr+=1){var zr=br[yr],Sr=new Pa;Sr.text=zr[0],Sr.sectionIndex=zr[1],Sr.sections=mn.sections,bn.push(Sr)}}else bn=function(Mr,Wr){for(var Fr=[],gi=Mr.text,Pr=0,ci=0,_i=Wr;ci<_i.length;ci+=1){var Mi=_i[ci];Fr.push(Mr.substring(Pr,Mi)),Pr=Mi}return Pr<gi.length&&Fr.push(Mr.substring(Pr,gi.length)),Fr}(mn,Rc(mn,yt,Ce,I,se,Rt,tn));var Ir=[],Lr={positionedLines:Ir,text:mn.toString(),top:wt[1],bottom:wt[1],left:wt[0],right:wt[0],writingMode:zt,iconsInText:!1,verticalizable:!1};return function(Mr,Wr,Fr,gi,Pr,ci,_i,Mi,Si,vi,Ji,Oi){for(var ca=0,ka=mu,va=0,Ga=0,ma=Mi==="right"?1:Mi==="left"?0:.5,ta=0,ya=0,fa=Pr;ya<fa.length;ya+=1){var na=fa[ya];na.trim();var Br=na.getMaxScale(),Xr=(Br-1)*ga,Ni={positionedGlyphs:[],lineOffset:0};Mr.positionedLines[ta]=Ni;var di=Ni.positionedGlyphs,zi=0;if(na.length()){for(var Ci=0;Ci<na.length();Ci++){var Qr=na.getSection(Ci),ji=na.getSectionIndex(Ci),Wa=na.getCharCode(Ci),yo=0,Oa=null,Is=null,al=null,ha=ga,zs=!(Si===Ro.horizontal||!Ji&&!fo(Wa)||Ji&&(Xu[Wa]||Oo(Wa)));if(Qr.imageName){var gs=gi[Qr.imageName];if(!gs)continue;al=Qr.imageName,Mr.iconsInText=Mr.iconsInText||!0,Is=gs.paddedRect;var vs=gs.displaySize;Qr.scale=Qr.scale*ga/Oi,Oa={width:vs[0],height:vs[1],left:vo,top:-If,advance:zs?vs[1]:vs[0]},yo=Xr+(ga-vs[1]*Qr.scale),ha=Oa.advance;var Ol=zs?vs[0]*Qr.scale-ga*Br:vs[1]*Qr.scale-ga*Br;Ol>0&&Ol>zi&&(zi=Ol)}else{var ic=Fr[Qr.fontStack],Il=ic&&ic[Wa];if(Il&&Il.rect)Is=Il.rect,Oa=Il.metrics;else{var ac=Wr[Qr.fontStack],_u=ac&&ac[Wa];if(!_u)continue;Oa=_u.metrics}yo=(Br-Qr.scale)*ga}zs?(Mr.verticalizable=!0,di.push({glyph:Wa,imageName:al,x:ca,y:ka+yo,vertical:zs,scale:Qr.scale,fontStack:Qr.fontStack,sectionIndex:ji,metrics:Oa,rect:Is}),ca+=ha*Qr.scale+vi):(di.push({glyph:Wa,imageName:al,x:ca,y:ka+yo,vertical:zs,scale:Qr.scale,fontStack:Qr.fontStack,sectionIndex:ji,metrics:Oa,rect:Is}),ca+=Oa.advance*Qr.scale+vi)}if(di.length!==0){var Wc=ca-vi;va=Math.max(Wc,va),Jp(di,0,di.length-1,ma,zi)}ca=0;var oc=ci*Br+zi;Ni.lineOffset=Math.max(zi,Xr),ka+=oc,Ga=Math.max(oc,Ga),++ta}else ka+=ci,++ta}var Ql=ka-mu,sc=Fc(_i),lc=sc.horizontalAlign,wu=sc.verticalAlign;(function(Yc,Tu,zl,eu,uc,cc,tu,fc,hc){var ku=(Tu-zl)*uc,Au=0;Au=cc!==tu?-fc*eu-mu:(-eu*hc+.5)*tu;for(var Dl=0,Mu=Yc;Dl<Mu.length;Dl+=1)for(var Rl=0,Su=Mu[Dl].positionedGlyphs;Rl<Su.length;Rl+=1){var Eu=Su[Rl];Eu.x+=ku,Eu.y+=Au}})(Mr.positionedLines,ma,lc,wu,va,Ga,ci,Ql,Pr.length),Mr.top+=-wu*Ql,Mr.bottom=Mr.top+Ql,Mr.left+=-lc*va,Mr.right=Mr.left+va}(Lr,I,Y,se,bn,Ne,Ke,st,zt,yt,Ut,an),!function(Mr){for(var Wr=0,Fr=Mr;Wr<Fr.length;Wr+=1)if(Fr[Wr].positionedGlyphs.length!==0)return!1;return!0}(Ir)&&Lr}Pa.fromFeature=function(A,I){for(var Y=new Pa,se=0;se<A.sections.length;se++){var Ae=A.sections[se];Ae.image?Y.addImageSection(Ae):Y.addTextSection(Ae,I)}return Y},Pa.prototype.length=function(){return this.text.length},Pa.prototype.getSection=function(A){return this.sections[this.sectionIndex[A]]},Pa.prototype.getSectionIndex=function(A){return this.sectionIndex[A]},Pa.prototype.getCharCode=function(A){return this.text.charCodeAt(A)},Pa.prototype.verticalizePunctuation=function(){this.text=function(A){for(var I="",Y=0;Y<A.length;Y++){var se=A.charCodeAt(Y+1)||null,Ae=A.charCodeAt(Y-1)||null;se&&Fi(se)&&!du[A[Y+1]]||Ae&&Fi(Ae)&&!du[A[Y-1]]||!du[A[Y]]?I+=A[Y]:I+=du[A[Y]]}return I}(this.text)},Pa.prototype.trim=function(){for(var A=0,I=0;I<this.text.length&&Xu[this.text.charCodeAt(I)];I++)A++;for(var Y=this.text.length,se=this.text.length-1;se>=0&&se>=A&&Xu[this.text.charCodeAt(se)];se--)Y--;this.text=this.text.substring(A,Y),this.sectionIndex=this.sectionIndex.slice(A,Y)},Pa.prototype.substring=function(A,I){var Y=new Pa;return Y.text=this.text.substring(A,I),Y.sectionIndex=this.sectionIndex.slice(A,I),Y.sections=this.sections,Y},Pa.prototype.toString=function(){return this.text},Pa.prototype.getMaxScale=function(){var A=this;return this.sectionIndex.reduce(function(I,Y){return Math.max(I,A.sections[Y].scale)},0)},Pa.prototype.addTextSection=function(A,I){this.text+=A.text,this.sections.push(ql.forText(A.scale,A.fontStack||I));for(var Y=this.sections.length-1,se=0;se<A.text.length;++se)this.sectionIndex.push(Y)},Pa.prototype.addImageSection=function(A){var I=A.image?A.image.name:"";if(I.length!==0){var Y=this.getNextImageSectionCharCode();Y?(this.text+=String.fromCharCode(Y),this.sections.push(ql.forImage(I)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},Pa.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Xu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},mo={};function Df(A,I,Y,se,Ae,Ce){if(I.imageName){var Ne=se[I.imageName];return Ne?Ne.displaySize[0]*I.scale*ga/Ce+Ae:0}var Ke=Y[I.fontStack],st=Ke&&Ke[A];return st?st.metrics.advance*I.scale+Ae:0}function Rf(A,I,Y,se){var Ae=Math.pow(A-I,2);return se?A<I?Ae/2:2*Ae:Ae+Math.abs(Y)*Y}function Kp(A,I,Y){var se=0;return A===10&&(se-=1e4),Y&&(se+=150),A!==40&&A!==65288||(se+=50),I!==41&&I!==65289||(se+=50),se}function Ff(A,I,Y,se,Ae,Ce){for(var Ne=null,Ke=Rf(I,Y,Ae,Ce),st=0,yt=se;st<yt.length;st+=1){var wt=yt[st],zt=Rf(I-wt.x,Y,Ae,Ce)+wt.badness;zt<=Ke&&(Ne=wt,Ke=zt)}return{index:A,x:I,priorBreak:Ne,badness:Ke}}function Bf(A){return A?Bf(A.priorBreak).concat(A.index):[]}function Rc(A,I,Y,se,Ae,Ce,Ne){if(Ce!=="point")return[];if(!A)return[];for(var Ke=[],st=function(bn,mn,In,Rn,qn,Gn){for(var rr=0,dr=0;dr<bn.length();dr++){var hr=bn.getSection(dr);rr+=Df(bn.getCharCode(dr),hr,Rn,qn,mn,Gn)}return rr/Math.max(1,Math.ceil(rr/In))}(A,I,Y,se,Ae,Ne),yt=A.text.indexOf("")>=0,wt=0,zt=0;zt<A.length();zt++){var Ut=A.getSection(zt),Rt=A.getCharCode(zt);if(Xu[Rt]||(wt+=Df(Rt,Ut,se,Ae,I,Ne)),zt<A.length()-1){var tn=!((an=Rt)<11904||!(gr["Bopomofo Extended"](an)||gr.Bopomofo(an)||gr["CJK Compatibility Forms"](an)||gr["CJK Compatibility Ideographs"](an)||gr["CJK Compatibility"](an)||gr["CJK Radicals Supplement"](an)||gr["CJK Strokes"](an)||gr["CJK Symbols and Punctuation"](an)||gr["CJK Unified Ideographs Extension A"](an)||gr["CJK Unified Ideographs"](an)||gr["Enclosed CJK Letters and Months"](an)||gr["Halfwidth and Fullwidth Forms"](an)||gr.Hiragana(an)||gr["Ideographic Description Characters"](an)||gr["Kangxi Radicals"](an)||gr["Katakana Phonetic Extensions"](an)||gr.Katakana(an)||gr["Vertical Forms"](an)||gr["Yi Radicals"](an)||gr["Yi Syllables"](an)));(mo[Rt]||tn||Ut.imageName)&&Ke.push(Ff(zt+1,wt,st,Ke,Kp(Rt,A.getCharCode(zt+1),tn&&yt),!1))}}var an;return Bf(Ff(A.length(),wt,st,Ke,0,!0))}function Fc(A){var I=.5,Y=.5;switch(A){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0}switch(A){case"bottom":case"bottom-right":case"bottom-left":Y=1;break;case"top":case"top-right":case"top-left":Y=0}return{horizontalAlign:I,verticalAlign:Y}}function Jp(A,I,Y,se,Ae){if(se||Ae)for(var Ce=A[Y],Ne=Ce.metrics.advance*Ce.scale,Ke=(A[Y].x+Ne)*se,st=I;st<=Y;st++)A[st].x-=Ke,A[st].y+=Ae}function Nf(A,I,Y,se,Ae,Ce){var Ne,Ke=A.image;if(Ke.content){var st=Ke.content,yt=Ke.pixelRatio||1;Ne=[st[0]/yt,st[1]/yt,Ke.displaySize[0]-st[2]/yt,Ke.displaySize[1]-st[3]/yt]}var wt,zt,Ut,Rt,tn=I.left*Ce,an=I.right*Ce;Y==="width"||Y==="both"?(Rt=Ae[0]+tn-se[3],zt=Ae[0]+an+se[1]):zt=(Rt=Ae[0]+(tn+an-Ke.displaySize[0])/2)+Ke.displaySize[0];var bn=I.top*Ce,mn=I.bottom*Ce;return Y==="height"||Y==="both"?(wt=Ae[1]+bn-se[0],Ut=Ae[1]+mn+se[2]):Ut=(wt=Ae[1]+(bn+mn-Ke.displaySize[1])/2)+Ke.displaySize[1],{image:Ke,top:wt,right:zt,bottom:Ut,left:Rt,collisionPadding:Ne}}mo[10]=!0,mo[32]=!0,mo[38]=!0,mo[40]=!0,mo[41]=!0,mo[43]=!0,mo[45]=!0,mo[47]=!0,mo[173]=!0,mo[183]=!0,mo[8203]=!0,mo[8208]=!0,mo[8211]=!0,mo[8231]=!0;var Hl=function(A){function I(Y,se,Ae,Ce){A.call(this,Y,se),this.angle=Ae,Ce!==void 0&&(this.segment=Ce)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(t);wr("Anchor",Hl);var Os=128;function Bc(A,I){var Y=I.expression;if(Y.kind==="constant")return{kind:"constant",layoutSize:Y.evaluate(new Ur(A+1))};if(Y.kind==="source")return{kind:"source"};for(var se=Y.zoomStops,Ae=Y.interpolationType,Ce=0;Ce<se.length&&se[Ce]<=A;)Ce++;for(var Ne=Ce=Math.max(0,Ce-1);Ne<se.length&&se[Ne]<A+1;)Ne++;Ne=Math.min(se.length-1,Ne);var Ke=se[Ce],st=se[Ne];return Y.kind==="composite"?{kind:"composite",minZoom:Ke,maxZoom:st,interpolationType:Ae}:{kind:"camera",minZoom:Ke,maxZoom:st,minSize:Y.evaluate(new Ur(Ke)),maxSize:Y.evaluate(new Ur(st)),interpolationType:Ae}}function jf(A,I,Y){var se=I.uSize,Ae=I.uSizeT,Ce=Y.lowerSize,Ne=Y.upperSize;return A.kind==="source"?Ce/Os:A.kind==="composite"?Or(Ce/Os,Ne/Os,Ae):se}function Uf(A,I){var Y=0,se=0;if(A.kind==="constant")se=A.layoutSize;else if(A.kind!=="source"){var Ae=A.interpolationType,Ce=A.minZoom,Ne=A.maxZoom,Ke=Ae?u(Di.interpolationFactor(Ae,I,Ce,Ne),0,1):0;A.kind==="camera"?se=Or(A.minSize,A.maxSize,Ke):Y=Ke}return{uSizeT:Y,uSize:se}}var $p=Object.freeze({__proto__:null,getSizeData:Bc,evaluateSizeForFeature:jf,evaluateSizeForZoom:Uf,SIZE_PACK_FACTOR:Os});function Vf(A,I,Y,se,Ae){if(I.segment===void 0)return!0;for(var Ce=I,Ne=I.segment+1,Ke=0;Ke>-Y/2;){if(--Ne<0)return!1;Ke-=A[Ne].dist(Ce),Ce=A[Ne]}Ke+=A[Ne].dist(A[Ne+1]),Ne++;for(var st=[],yt=0;Ke<Y/2;){var wt=A[Ne-1],zt=A[Ne],Ut=A[Ne+1];if(!Ut)return!1;var Rt=wt.angleTo(zt)-zt.angleTo(Ut);for(Rt=Math.abs((Rt+3*Math.PI)%(2*Math.PI)-Math.PI),st.push({distance:Ke,angleDelta:Rt}),yt+=Rt;Ke-st[0].distance>se;)yt-=st.shift().angleDelta;if(yt>Ae)return!1;Ne++,Ke+=zt.dist(Ut)}return!0}function qf(A){for(var I=0,Y=0;Y<A.length-1;Y++)I+=A[Y].dist(A[Y+1]);return I}function Hf(A,I,Y){return A?.6*I*Y:0}function Gf(A,I){return Math.max(A?A.right-A.left:0,I?I.right-I.left:0)}function Qp(A,I,Y,se,Ae,Ce){for(var Ne=Hf(Y,Ae,Ce),Ke=Gf(Y,se)*Ce,st=0,yt=qf(A)/2,wt=0;wt<A.length-1;wt++){var zt=A[wt],Ut=A[wt+1],Rt=zt.dist(Ut);if(st+Rt>yt){var tn=(yt-st)/Rt,an=Or(zt.x,Ut.x,tn),bn=Or(zt.y,Ut.y,tn),mn=new Hl(an,bn,Ut.angleTo(zt),wt);return mn._round(),!Ne||Vf(A,mn,Ke,Ne,I)?mn:void 0}st+=Rt}}function ed(A,I,Y,se,Ae,Ce,Ne,Ke,st){var yt=Hf(se,Ce,Ne),wt=Gf(se,Ae),zt=wt*Ne,Ut=A[0].x===0||A[0].x===st||A[0].y===0||A[0].y===st;return I-zt<I/4&&(I=zt+I/4),Wf(A,Ut?I/2*Ke%I:(wt/2+2*Ce)*Ne*Ke%I,I,yt,Y,zt,Ut,!1,st)}function Wf(A,I,Y,se,Ae,Ce,Ne,Ke,st){for(var yt=Ce/2,wt=qf(A),zt=0,Ut=I-Y,Rt=[],tn=0;tn<A.length-1;tn++){for(var an=A[tn],bn=A[tn+1],mn=an.dist(bn),In=bn.angleTo(an);Ut+Y<zt+mn;){var Rn=((Ut+=Y)-zt)/mn,qn=Or(an.x,bn.x,Rn),Gn=Or(an.y,bn.y,Rn);if(qn>=0&&qn<st&&Gn>=0&&Gn<st&&Ut-yt>=0&&Ut+yt<=wt){var rr=new Hl(qn,Gn,In,tn);rr._round(),se&&!Vf(A,rr,Ce,se,Ae)||Rt.push(rr)}}zt+=mn}return Ke||Rt.length||Ne||(Rt=Wf(A,zt/2,Y,se,Ae,Ce,Ne,!0,st)),Rt}function Yf(A,I,Y,se,Ae){for(var Ce=[],Ne=0;Ne<A.length;Ne++)for(var Ke=A[Ne],st=void 0,yt=0;yt<Ke.length-1;yt++){var wt=Ke[yt],zt=Ke[yt+1];wt.x<I&&zt.x<I||(wt.x<I?wt=new t(I,wt.y+(zt.y-wt.y)*((I-wt.x)/(zt.x-wt.x)))._round():zt.x<I&&(zt=new t(I,wt.y+(zt.y-wt.y)*((I-wt.x)/(zt.x-wt.x)))._round()),wt.y<Y&&zt.y<Y||(wt.y<Y?wt=new t(wt.x+(zt.x-wt.x)*((Y-wt.y)/(zt.y-wt.y)),Y)._round():zt.y<Y&&(zt=new t(wt.x+(zt.x-wt.x)*((Y-wt.y)/(zt.y-wt.y)),Y)._round()),wt.x>=se&&zt.x>=se||(wt.x>=se?wt=new t(se,wt.y+(zt.y-wt.y)*((se-wt.x)/(zt.x-wt.x)))._round():zt.x>=se&&(zt=new t(se,wt.y+(zt.y-wt.y)*((se-wt.x)/(zt.x-wt.x)))._round()),wt.y>=Ae&&zt.y>=Ae||(wt.y>=Ae?wt=new t(wt.x+(zt.x-wt.x)*((Ae-wt.y)/(zt.y-wt.y)),Ae)._round():zt.y>=Ae&&(zt=new t(wt.x+(zt.x-wt.x)*((Ae-wt.y)/(zt.y-wt.y)),Ae)._round()),st&&wt.equals(st[st.length-1])||(st=[wt],Ce.push(st)),st.push(zt)))))}return Ce}var Gl=vo;function Zf(A,I,Y,se){var Ae=[],Ce=A.image,Ne=Ce.pixelRatio,Ke=Ce.paddedRect.w-2*Gl,st=Ce.paddedRect.h-2*Gl,yt=A.right-A.left,wt=A.bottom-A.top,zt=Ce.stretchX||[[0,Ke]],Ut=Ce.stretchY||[[0,st]],Rt=function(ci,_i){return ci+_i[1]-_i[0]},tn=zt.reduce(Rt,0),an=Ut.reduce(Rt,0),bn=Ke-tn,mn=st-an,In=0,Rn=tn,qn=0,Gn=an,rr=0,dr=bn,hr=0,yr=mn;if(Ce.content&&se){var br=Ce.content;In=Ku(zt,0,br[0]),qn=Ku(Ut,0,br[1]),Rn=Ku(zt,br[0],br[2]),Gn=Ku(Ut,br[1],br[3]),rr=br[0]-In,hr=br[1]-qn,dr=br[2]-br[0]-Rn,yr=br[3]-br[1]-Gn}var zr=function(ci,_i,Mi,Si){var vi=Ju(ci.stretch-In,Rn,yt,A.left),Ji=$u(ci.fixed-rr,dr,ci.stretch,tn),Oi=Ju(_i.stretch-qn,Gn,wt,A.top),ca=$u(_i.fixed-hr,yr,_i.stretch,an),ka=Ju(Mi.stretch-In,Rn,yt,A.left),va=$u(Mi.fixed-rr,dr,Mi.stretch,tn),Ga=Ju(Si.stretch-qn,Gn,wt,A.top),ma=$u(Si.fixed-hr,yr,Si.stretch,an),ta=new t(vi,Oi),ya=new t(ka,Oi),fa=new t(ka,Ga),na=new t(vi,Ga),Br=new t(Ji/Ne,ca/Ne),Xr=new t(va/Ne,ma/Ne),Ni=I*Math.PI/180;if(Ni){var di=Math.sin(Ni),zi=Math.cos(Ni),Ci=[zi,-di,di,zi];ta._matMult(Ci),ya._matMult(Ci),na._matMult(Ci),fa._matMult(Ci)}var Qr=ci.stretch+ci.fixed,ji=Mi.stretch+Mi.fixed,Wa=_i.stretch+_i.fixed,yo=Si.stretch+Si.fixed;return{tl:ta,tr:ya,bl:na,br:fa,tex:{x:Ce.paddedRect.x+Gl+Qr,y:Ce.paddedRect.y+Gl+Wa,w:ji-Qr,h:yo-Wa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Br,pixelOffsetBR:Xr,minFontScaleX:dr/Ne/yt,minFontScaleY:yr/Ne/wt,isSDF:Y}};if(se&&(Ce.stretchX||Ce.stretchY))for(var Sr=Xf(zt,bn,tn),Ir=Xf(Ut,mn,an),Lr=0;Lr<Sr.length-1;Lr++)for(var Mr=Sr[Lr],Wr=Sr[Lr+1],Fr=0;Fr<Ir.length-1;Fr++){var gi=Ir[Fr],Pr=Ir[Fr+1];Ae.push(zr(Mr,gi,Wr,Pr))}else Ae.push(zr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:st+1}));return Ae}function Ku(A,I,Y){for(var se=0,Ae=0,Ce=A;Ae<Ce.length;Ae+=1){var Ne=Ce[Ae];se+=Math.max(I,Math.min(Y,Ne[1]))-Math.max(I,Math.min(Y,Ne[0]))}return se}function Xf(A,I,Y){for(var se=[{fixed:-Gl,stretch:0}],Ae=0,Ce=A;Ae<Ce.length;Ae+=1){var Ne=Ce[Ae],Ke=Ne[0],st=Ne[1],yt=se[se.length-1];se.push({fixed:Ke-yt.stretch,stretch:yt.stretch}),se.push({fixed:Ke-yt.stretch,stretch:yt.stretch+(st-Ke)})}return se.push({fixed:I+Gl,stretch:Y}),se}function Ju(A,I,Y,se){return A/I*Y+se}function $u(A,I,Y,se){return A-I*Y/se}var Qu=function(A,I,Y,se,Ae,Ce,Ne,Ke,st,yt){if(this.boxStartIndex=A.length,st){var wt=Ce.top,zt=Ce.bottom,Ut=Ce.collisionPadding;Ut&&(wt-=Ut[1],zt+=Ut[3]);var Rt=zt-wt;Rt>0&&(Rt=Math.max(10,Rt),this.circleDiameter=Rt)}else{var tn=Ce.top*Ne-Ke,an=Ce.bottom*Ne+Ke,bn=Ce.left*Ne-Ke,mn=Ce.right*Ne+Ke,In=Ce.collisionPadding;if(In&&(bn-=In[0]*Ne,tn-=In[1]*Ne,mn+=In[2]*Ne,an+=In[3]*Ne),yt){var Rn=new t(bn,tn),qn=new t(mn,tn),Gn=new t(bn,an),rr=new t(mn,an),dr=yt*Math.PI/180;Rn._rotate(dr),qn._rotate(dr),Gn._rotate(dr),rr._rotate(dr),bn=Math.min(Rn.x,qn.x,Gn.x,rr.x),mn=Math.max(Rn.x,qn.x,Gn.x,rr.x),tn=Math.min(Rn.y,qn.y,Gn.y,rr.y),an=Math.max(Rn.y,qn.y,Gn.y,rr.y)}A.emplaceBack(I.x,I.y,bn,tn,mn,an,Y,se,Ae)}this.boxEndIndex=A.length},Wl=function(A,I){if(A===void 0&&(A=[]),I===void 0&&(I=td),this.data=A,this.length=this.data.length,this.compare=I,this.length>0)for(var Y=(this.length>>1)-1;Y>=0;Y--)this._down(Y)};function td(A,I){return A<I?-1:A>I?1:0}function nd(A,I,Y){I===void 0&&(I=1),Y===void 0&&(Y=!1);for(var se=1/0,Ae=1/0,Ce=-1/0,Ne=-1/0,Ke=A[0],st=0;st<Ke.length;st++){var yt=Ke[st];(!st||yt.x<se)&&(se=yt.x),(!st||yt.y<Ae)&&(Ae=yt.y),(!st||yt.x>Ce)&&(Ce=yt.x),(!st||yt.y>Ne)&&(Ne=yt.y)}var wt=Ce-se,zt=Ne-Ae,Ut=Math.min(wt,zt),Rt=Ut/2,tn=new Wl([],rd);if(Ut===0)return new t(se,Ae);for(var an=se;an<Ce;an+=Ut)for(var bn=Ae;bn<Ne;bn+=Ut)tn.push(new Yl(an+Rt,bn+Rt,Rt,A));for(var mn=function(qn){for(var Gn=0,rr=0,dr=0,hr=qn[0],yr=0,br=hr.length,zr=br-1;yr<br;zr=yr++){var Sr=hr[yr],Ir=hr[zr],Lr=Sr.x*Ir.y-Ir.x*Sr.y;rr+=(Sr.x+Ir.x)*Lr,dr+=(Sr.y+Ir.y)*Lr,Gn+=3*Lr}return new Yl(rr/Gn,dr/Gn,0,qn)}(A),In=tn.length;tn.length;){var Rn=tn.pop();(Rn.d>mn.d||!mn.d)&&(mn=Rn,Y&&console.log("found best %d after %d probes",Math.round(1e4*Rn.d)/1e4,In)),Rn.max-mn.d<=I||(Rt=Rn.h/2,tn.push(new Yl(Rn.p.x-Rt,Rn.p.y-Rt,Rt,A)),tn.push(new Yl(Rn.p.x+Rt,Rn.p.y-Rt,Rt,A)),tn.push(new Yl(Rn.p.x-Rt,Rn.p.y+Rt,Rt,A)),tn.push(new Yl(Rn.p.x+Rt,Rn.p.y+Rt,Rt,A)),In+=4)}return Y&&(console.log("num probes: "+In),console.log("best distance: "+mn.d)),mn.p}function rd(A,I){return I.max-A.max}function Yl(A,I,Y,se){this.p=new t(A,I),this.h=Y,this.d=function(Ae,Ce){for(var Ne=!1,Ke=1/0,st=0;st<Ce.length;st++)for(var yt=Ce[st],wt=0,zt=yt.length,Ut=zt-1;wt<zt;Ut=wt++){var Rt=yt[wt],tn=yt[Ut];Rt.y>Ae.y!=tn.y>Ae.y&&Ae.x<(tn.x-Rt.x)*(Ae.y-Rt.y)/(tn.y-Rt.y)+Rt.x&&(Ne=!Ne),Ke=Math.min(Ke,Du(Ae,Rt,tn))}return(Ne?1:-1)*Math.sqrt(Ke)}(this.p,se),this.max=this.d+this.h*Math.SQRT2}Wl.prototype.push=function(A){this.data.push(A),this.length++,this._up(this.length-1)},Wl.prototype.pop=function(){if(this.length!==0){var A=this.data[0],I=this.data.pop();return this.length--,this.length>0&&(this.data[0]=I,this._down(0)),A}},Wl.prototype.peek=function(){return this.data[0]},Wl.prototype._up=function(A){for(var I=this.data,Y=this.compare,se=I[A];A>0;){var Ae=A-1>>1,Ce=I[Ae];if(Y(se,Ce)>=0)break;I[A]=Ce,A=Ae}I[A]=se},Wl.prototype._down=function(A){for(var I=this.data,Y=this.compare,se=this.length>>1,Ae=I[A];A<se;){var Ce=1+(A<<1),Ne=I[Ce],Ke=Ce+1;if(Ke<this.length&&Y(I[Ke],Ne)<0&&(Ce=Ke,Ne=I[Ke]),Y(Ne,Ae)>=0)break;I[A]=Ne,A=Ce}I[A]=Ae};var Zl=7,Nc=Number.POSITIVE_INFINITY;function Kf(A,I){return I[1]!==Nc?function(Y,se,Ae){var Ce=0,Ne=0;switch(se=Math.abs(se),Ae=Math.abs(Ae),Y){case"top-right":case"top-left":case"top":Ne=Ae-Zl;break;case"bottom-right":case"bottom-left":case"bottom":Ne=-Ae+Zl}switch(Y){case"top-right":case"bottom-right":case"right":Ce=-se;break;case"top-left":case"bottom-left":case"left":Ce=se}return[Ce,Ne]}(A,I[0],I[1]):function(Y,se){var Ae=0,Ce=0;se<0&&(se=0);var Ne=se/Math.sqrt(2);switch(Y){case"top-right":case"top-left":Ce=Ne-Zl;break;case"bottom-right":case"bottom-left":Ce=-Ne+Zl;break;case"bottom":Ce=-se+Zl;break;case"top":Ce=se-Zl}switch(Y){case"top-right":case"bottom-right":Ae=-Ne;break;case"top-left":case"bottom-left":Ae=Ne;break;case"left":Ae=se;break;case"right":Ae=-se}return[Ae,Ce]}(A,I[0])}function jc(A){switch(A){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var yu=255,yl=yu*Os;function Jf(A,I,Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn){var an=function(qn,Gn,rr,dr,hr,yr,br,zr){for(var Sr=dr.layout.get("text-rotate").evaluate(yr,{})*Math.PI/180,Ir=[],Lr=0,Mr=Gn.positionedLines;Lr<Mr.length;Lr+=1)for(var Wr=Mr[Lr],Fr=0,gi=Wr.positionedGlyphs;Fr<gi.length;Fr+=1){var Pr=gi[Fr];if(Pr.rect){var ci=Pr.rect||{},_i=If+1,Mi=!0,Si=1,vi=0,Ji=(hr||zr)&&Pr.vertical,Oi=Pr.metrics.advance*Pr.scale/2;if(zr&&Gn.verticalizable){var ca=(Pr.scale-1)*ga,ka=(ga-Pr.metrics.width*Pr.scale)/2;vi=Wr.lineOffset/2-(Pr.imageName?-ka:ca)}if(Pr.imageName){var va=br[Pr.imageName];Mi=va.sdf,Si=va.pixelRatio,_i=vo/Si}var Ga=hr?[Pr.x+Oi,Pr.y]:[0,0],ma=hr?[0,0]:[Pr.x+Oi+rr[0],Pr.y+rr[1]-vi],ta=[0,0];Ji&&(ta=ma,ma=[0,0]);var ya=(Pr.metrics.left-_i)*Pr.scale-Oi+ma[0],fa=(-Pr.metrics.top-_i)*Pr.scale+ma[1],na=ya+ci.w*Pr.scale/Si,Br=fa+ci.h*Pr.scale/Si,Xr=new t(ya,fa),Ni=new t(na,fa),di=new t(ya,Br),zi=new t(na,Br);if(Ji){var Ci=new t(-Oi,Oi-mu),Qr=-Math.PI/2,ji=ga/2-Oi,Wa=Pr.imageName?ji:0,yo=new t(5-mu-ji,-Wa),Oa=new(Function.prototype.bind.apply(t,[null].concat(ta)));Xr._rotateAround(Qr,Ci)._add(yo)._add(Oa),Ni._rotateAround(Qr,Ci)._add(yo)._add(Oa),di._rotateAround(Qr,Ci)._add(yo)._add(Oa),zi._rotateAround(Qr,Ci)._add(yo)._add(Oa)}if(Sr){var Is=Math.sin(Sr),al=Math.cos(Sr),ha=[al,-Is,Is,al];Xr._matMult(ha),Ni._matMult(ha),di._matMult(ha),zi._matMult(ha)}var zs=new t(0,0),gs=new t(0,0);Ir.push({tl:Xr,tr:Ni,bl:di,br:zi,tex:ci,writingMode:Gn.writingMode,glyphOffset:Ga,sectionIndex:Pr.sectionIndex,isSDF:Mi,pixelOffsetTL:zs,pixelOffsetBR:gs,minFontScaleX:0,minFontScaleY:0})}}return Ir}(0,Y,Ke,Ae,Ce,Ne,se,A.allowVerticalPlacement),bn=A.textSizeData,mn=null;bn.kind==="source"?(mn=[Os*Ae.layout.get("text-size").evaluate(Ne,{})])[0]>yl&&E(A.layerIds[0]+': Value for "text-size" is >= '+yu+'. Reduce your "text-size".'):bn.kind==="composite"&&((mn=[Os*Rt.compositeTextSizes[0].evaluate(Ne,{},tn),Os*Rt.compositeTextSizes[1].evaluate(Ne,{},tn)])[0]>yl||mn[1]>yl)&&E(A.layerIds[0]+': Value for "text-size" is >= '+yu+'. Reduce your "text-size".'),A.addSymbols(A.text,an,mn,Ke,Ce,Ne,yt,I,st.lineStartIndex,st.lineLength,Ut,tn);for(var In=0,Rn=wt;In<Rn.length;In+=1)zt[Rn[In]]=A.text.placedSymbolArray.length-1;return 4*an.length}function $f(A){for(var I in A)return A[I];return null}function id(A,I,Y,se){var Ae=A.compareText;if(I in Ae){for(var Ce=Ae[I],Ne=Ce.length-1;Ne>=0;Ne--)if(se.dist(Ce[Ne])<Y)return!0}else Ae[I]=[];return Ae[I].push(se),!1}var ad=jl.VectorTileFeature.types,od=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ec(A,I,Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut){var Rt=Ke?Math.min(yl,Math.round(Ke[0])):0,tn=Ke?Math.min(yl,Math.round(Ke[1])):0;A.emplaceBack(I,Y,Math.round(32*se),Math.round(32*Ae),Ce,Ne,(Rt<<1)+(st?1:0),tn,16*yt,16*wt,256*zt,256*Ut)}function Uc(A,I,Y){A.emplaceBack(I.x,I.y,Y),A.emplaceBack(I.x,I.y,Y),A.emplaceBack(I.x,I.y,Y),A.emplaceBack(I.x,I.y,Y)}function sd(A){for(var I=0,Y=A.sections;I<Y.length;I+=1)if(Qi(Y[I].text))return!0;return!1}var Xl=function(A){this.layoutVertexArray=new G,this.indexArray=new ye,this.programConfigurations=A,this.segments=new Un,this.dynamicLayoutVertexArray=new H,this.opacityVertexArray=new L,this.placedSymbolArray=new Ct};Xl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Xl.prototype.upload=function(A,I,Y,se){this.isEmpty()||(Y&&(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Ip.members),this.indexBuffer=A.createIndexBuffer(this.indexArray,I),this.dynamicLayoutVertexBuffer=A.createVertexBuffer(this.dynamicLayoutVertexArray,zp.members,!0),this.opacityVertexBuffer=A.createVertexBuffer(this.opacityVertexArray,od,!0),this.opacityVertexBuffer.itemSize=1),(Y||se)&&this.programConfigurations.upload(A))},Xl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},wr("SymbolBuffers",Xl);var xu=function(A,I,Y){this.layoutVertexArray=new A,this.layoutAttributes=I,this.indexArray=new Y,this.segments=new Un,this.collisionVertexArray=new ce};xu.prototype.upload=function(A){this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=A.createVertexBuffer(this.collisionVertexArray,Dp.members,!0)},xu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},wr("CollisionBuffers",xu);var ui=function(A){this.collisionBoxArray=A.collisionBoxArray,this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(Ne){return Ne.id}),this.index=A.index,this.pixelRatio=A.pixelRatio,this.sourceLayerIndex=A.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Tc([]),this.placementViewportMatrix=Tc([]);var I=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Bc(this.zoom,I["text-size"]),this.iconSizeData=Bc(this.zoom,I["icon-size"]);var Y=this.layers[0].layout,se=Y.get("symbol-sort-key"),Ae=Y.get("symbol-z-order");this.canOverlap=Y.get("text-allow-overlap")||Y.get("icon-allow-overlap")||Y.get("text-ignore-placement")||Y.get("icon-ignore-placement"),this.sortFeaturesByKey=Ae!=="viewport-y"&&se.constantOr(1)!==void 0;var Ce=Ae==="viewport-y"||Ae==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ce&&this.canOverlap,Y.get("symbol-placement")==="point"&&(this.writingModes=Y.get("text-writing-mode").map(function(Ne){return Ro[Ne]})),this.stateDependentLayerIds=this.layers.filter(function(Ne){return Ne.isStateDependent()}).map(function(Ne){return Ne.id}),this.sourceID=A.sourceID};ui.prototype.createArrays=function(){this.text=new Xl(new Ii(this.layers,this.zoom,function(A){return/^text/.test(A)})),this.icon=new Xl(new Ii(this.layers,this.zoom,function(A){return/^icon/.test(A)})),this.glyphOffsetArray=new Ft,this.lineVertexArray=new cn,this.symbolInstances=new Vt},ui.prototype.calculateGlyphDependencies=function(A,I,Y,se,Ae){for(var Ce=0;Ce<A.length;Ce++)if(I[A.charCodeAt(Ce)]=!0,(Y||se)&&Ae){var Ne=du[A.charAt(Ce)];Ne&&(I[Ne.charCodeAt(0)]=!0)}},ui.prototype.populate=function(A,I,Y){var se=this.layers[0],Ae=se.layout,Ce=Ae.get("text-font"),Ne=Ae.get("text-field"),Ke=Ae.get("icon-image"),st=(Ne.value.kind!=="constant"||Ne.value.value instanceof zn&&!Ne.value.value.isEmpty()||Ne.value.value.toString().length>0)&&(Ce.value.kind!=="constant"||Ce.value.value.length>0),yt=Ke.value.kind!=="constant"||!!Ke.value.value||Object.keys(Ke.parameters).length>0,wt=Ae.get("symbol-sort-key");if(this.features=[],st||yt){for(var zt=I.iconDependencies,Ut=I.glyphDependencies,Rt=I.availableImages,tn=new Ur(this.zoom),an=0,bn=A;an<bn.length;an+=1){var mn=bn[an],In=mn.feature,Rn=mn.id,qn=mn.index,Gn=mn.sourceLayerIndex,rr=se._featureFilter.needGeometry,dr=xi(In,rr);if(se._featureFilter.filter(tn,dr,Y)){rr||(dr.geometry=go(In));var hr=void 0;if(st){var yr=se.getValueAndResolveTokens("text-field",dr,Y,Rt),br=zn.factory(yr);sd(br)&&(this.hasRTLText=!0),(!this.hasRTLText||us()==="unavailable"||this.hasRTLText&&la.isParsed())&&(hr=Fp(br,se,dr))}var zr=void 0;if(yt){var Sr=se.getValueAndResolveTokens("icon-image",dr,Y,Rt);zr=Sr instanceof er?Sr:er.fromString(Sr)}if(hr||zr){var Ir=this.sortFeaturesByKey?wt.evaluate(dr,{},Y):void 0,Lr={id:Rn,text:hr,icon:zr,index:qn,sourceLayerIndex:Gn,geometry:dr.geometry,properties:In.properties,type:ad[In.type],sortKey:Ir};if(this.features.push(Lr),zr&&(zt[zr.name]=!0),hr){var Mr=Ce.evaluate(dr,{},Y).join(","),Wr=Ae.get("text-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ro.vertical)>=0;for(var Fr=0,gi=hr.sections;Fr<gi.length;Fr+=1){var Pr=gi[Fr];if(Pr.image)zt[Pr.image.name]=!0;else{var ci=Ss(hr.toString()),_i=Pr.fontStack||Mr,Mi=Ut[_i]=Ut[_i]||{};this.calculateGlyphDependencies(Pr.text,Mi,Wr,this.allowVerticalPlacement,ci)}}}}}}Ae.get("symbol-placement")==="line"&&(this.features=function(Si){var vi={},Ji={},Oi=[],ca=0;function ka(zi){Oi.push(Si[zi]),ca++}function va(zi,Ci,Qr){var ji=Ji[zi];return delete Ji[zi],Ji[Ci]=ji,Oi[ji].geometry[0].pop(),Oi[ji].geometry[0]=Oi[ji].geometry[0].concat(Qr[0]),ji}function Ga(zi,Ci,Qr){var ji=vi[Ci];return delete vi[Ci],vi[zi]=ji,Oi[ji].geometry[0].shift(),Oi[ji].geometry[0]=Qr[0].concat(Oi[ji].geometry[0]),ji}function ma(zi,Ci,Qr){var ji=Qr?Ci[0][Ci[0].length-1]:Ci[0][0];return zi+":"+ji.x+":"+ji.y}for(var ta=0;ta<Si.length;ta++){var ya=Si[ta],fa=ya.geometry,na=ya.text?ya.text.toString():null;if(na){var Br=ma(na,fa),Xr=ma(na,fa,!0);if(Br in Ji&&Xr in vi&&Ji[Br]!==vi[Xr]){var Ni=Ga(Br,Xr,fa),di=va(Br,Xr,Oi[Ni].geometry);delete vi[Br],delete Ji[Xr],Ji[ma(na,Oi[di].geometry,!0)]=di,Oi[Ni].geometry=null}else Br in Ji?va(Br,Xr,fa):Xr in vi?Ga(Br,Xr,fa):(ka(ta),vi[Br]=ca-1,Ji[Xr]=ca-1)}else ka(ta)}return Oi.filter(function(zi){return zi.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Si,vi){return Si.sortKey-vi.sortKey})}},ui.prototype.update=function(A,I,Y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(A,I,this.layers,Y),this.icon.programConfigurations.updatePaintArrays(A,I,this.layers,Y))},ui.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},ui.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ui.prototype.upload=function(A){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(A),this.iconCollisionBox.upload(A)),this.text.upload(A,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(A,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ui.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ui.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ui.prototype.addToLineVertexArray=function(A,I){var Y=this.lineVertexArray.length;if(A.segment!==void 0){for(var se=A.dist(I[A.segment+1]),Ae=A.dist(I[A.segment]),Ce={},Ne=A.segment+1;Ne<I.length;Ne++)Ce[Ne]={x:I[Ne].x,y:I[Ne].y,tileUnitDistanceFromAnchor:se},Ne<I.length-1&&(se+=I[Ne+1].dist(I[Ne]));for(var Ke=A.segment||0;Ke>=0;Ke--)Ce[Ke]={x:I[Ke].x,y:I[Ke].y,tileUnitDistanceFromAnchor:Ae},Ke>0&&(Ae+=I[Ke-1].dist(I[Ke]));for(var st=0;st<I.length;st++){var yt=Ce[st];this.lineVertexArray.emplaceBack(yt.x,yt.y,yt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:Y,lineLength:this.lineVertexArray.length-Y}},ui.prototype.addSymbols=function(A,I,Y,se,Ae,Ce,Ne,Ke,st,yt,wt,zt){for(var Ut=A.indexArray,Rt=A.layoutVertexArray,tn=A.segments.prepareSegment(4*I.length,Rt,Ut,this.canOverlap?Ce.sortKey:void 0),an=this.glyphOffsetArray.length,bn=tn.vertexLength,mn=this.allowVerticalPlacement&&Ne===Ro.vertical?Math.PI/2:0,In=Ce.text&&Ce.text.sections,Rn=0;Rn<I.length;Rn++){var qn=I[Rn],Gn=qn.tl,rr=qn.tr,dr=qn.bl,hr=qn.br,yr=qn.tex,br=qn.pixelOffsetTL,zr=qn.pixelOffsetBR,Sr=qn.minFontScaleX,Ir=qn.minFontScaleY,Lr=qn.glyphOffset,Mr=qn.isSDF,Wr=qn.sectionIndex,Fr=tn.vertexLength,gi=Lr[1];ec(Rt,Ke.x,Ke.y,Gn.x,gi+Gn.y,yr.x,yr.y,Y,Mr,br.x,br.y,Sr,Ir),ec(Rt,Ke.x,Ke.y,rr.x,gi+rr.y,yr.x+yr.w,yr.y,Y,Mr,zr.x,br.y,Sr,Ir),ec(Rt,Ke.x,Ke.y,dr.x,gi+dr.y,yr.x,yr.y+yr.h,Y,Mr,br.x,zr.y,Sr,Ir),ec(Rt,Ke.x,Ke.y,hr.x,gi+hr.y,yr.x+yr.w,yr.y+yr.h,Y,Mr,zr.x,zr.y,Sr,Ir),Uc(A.dynamicLayoutVertexArray,Ke,mn),Ut.emplaceBack(Fr,Fr+1,Fr+2),Ut.emplaceBack(Fr+1,Fr+2,Fr+3),tn.vertexLength+=4,tn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Lr[0]),Rn!==I.length-1&&Wr===I[Rn+1].sectionIndex||A.programConfigurations.populatePaintArrays(Rt.length,Ce,Ce.index,{},zt,In&&In[Wr])}A.placedSymbolArray.emplaceBack(Ke.x,Ke.y,an,this.glyphOffsetArray.length-an,bn,st,yt,Ke.segment,Y?Y[0]:0,Y?Y[1]:0,se[0],se[1],Ne,0,!1,0,wt)},ui.prototype._addCollisionDebugVertex=function(A,I,Y,se,Ae,Ce){return I.emplaceBack(0,0),A.emplaceBack(Y.x,Y.y,se,Ae,Math.round(Ce.x),Math.round(Ce.y))},ui.prototype.addCollisionDebugVertices=function(A,I,Y,se,Ae,Ce,Ne){var Ke=Ae.segments.prepareSegment(4,Ae.layoutVertexArray,Ae.indexArray),st=Ke.vertexLength,yt=Ae.layoutVertexArray,wt=Ae.collisionVertexArray,zt=Ne.anchorX,Ut=Ne.anchorY;this._addCollisionDebugVertex(yt,wt,Ce,zt,Ut,new t(A,I)),this._addCollisionDebugVertex(yt,wt,Ce,zt,Ut,new t(Y,I)),this._addCollisionDebugVertex(yt,wt,Ce,zt,Ut,new t(Y,se)),this._addCollisionDebugVertex(yt,wt,Ce,zt,Ut,new t(A,se)),Ke.vertexLength+=4;var Rt=Ae.indexArray;Rt.emplaceBack(st,st+1),Rt.emplaceBack(st+1,st+2),Rt.emplaceBack(st+2,st+3),Rt.emplaceBack(st+3,st),Ke.primitiveLength+=4},ui.prototype.addDebugCollisionBoxes=function(A,I,Y,se){for(var Ae=A;Ae<I;Ae++){var Ce=this.collisionBoxArray.get(Ae),Ne=Ce.x1,Ke=Ce.y1,st=Ce.x2,yt=Ce.y2;this.addCollisionDebugVertices(Ne,Ke,st,yt,se?this.textCollisionBox:this.iconCollisionBox,Ce.anchorPoint,Y)}},ui.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new xu($,Mf.members,lt),this.iconCollisionBox=new xu($,Mf.members,lt);for(var A=0;A<this.symbolInstances.length;A++){var I=this.symbolInstances.get(A);this.addDebugCollisionBoxes(I.textBoxStartIndex,I.textBoxEndIndex,I,!0),this.addDebugCollisionBoxes(I.verticalTextBoxStartIndex,I.verticalTextBoxEndIndex,I,!0),this.addDebugCollisionBoxes(I.iconBoxStartIndex,I.iconBoxEndIndex,I,!1),this.addDebugCollisionBoxes(I.verticalIconBoxStartIndex,I.verticalIconBoxEndIndex,I,!1)}},ui.prototype._deserializeCollisionBoxesForSymbol=function(A,I,Y,se,Ae,Ce,Ne,Ke,st){for(var yt={},wt=I;wt<Y;wt++){var zt=A.get(wt);yt.textBox={x1:zt.x1,y1:zt.y1,x2:zt.x2,y2:zt.y2,anchorPointX:zt.anchorPointX,anchorPointY:zt.anchorPointY},yt.textFeatureIndex=zt.featureIndex;break}for(var Ut=se;Ut<Ae;Ut++){var Rt=A.get(Ut);yt.verticalTextBox={x1:Rt.x1,y1:Rt.y1,x2:Rt.x2,y2:Rt.y2,anchorPointX:Rt.anchorPointX,anchorPointY:Rt.anchorPointY},yt.verticalTextFeatureIndex=Rt.featureIndex;break}for(var tn=Ce;tn<Ne;tn++){var an=A.get(tn);yt.iconBox={x1:an.x1,y1:an.y1,x2:an.x2,y2:an.y2,anchorPointX:an.anchorPointX,anchorPointY:an.anchorPointY},yt.iconFeatureIndex=an.featureIndex;break}for(var bn=Ke;bn<st;bn++){var mn=A.get(bn);yt.verticalIconBox={x1:mn.x1,y1:mn.y1,x2:mn.x2,y2:mn.y2,anchorPointX:mn.anchorPointX,anchorPointY:mn.anchorPointY},yt.verticalIconFeatureIndex=mn.featureIndex;break}return yt},ui.prototype.deserializeCollisionBoxes=function(A){this.collisionArrays=[];for(var I=0;I<this.symbolInstances.length;I++){var Y=this.symbolInstances.get(I);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(A,Y.textBoxStartIndex,Y.textBoxEndIndex,Y.verticalTextBoxStartIndex,Y.verticalTextBoxEndIndex,Y.iconBoxStartIndex,Y.iconBoxEndIndex,Y.verticalIconBoxStartIndex,Y.verticalIconBoxEndIndex))}},ui.prototype.hasTextData=function(){return this.text.segments.get().length>0},ui.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ui.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ui.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ui.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ui.prototype.addIndicesForPlacedSymbol=function(A,I){for(var Y=A.placedSymbolArray.get(I),se=Y.vertexStartIndex+4*Y.numGlyphs,Ae=Y.vertexStartIndex;Ae<se;Ae+=4)A.indexArray.emplaceBack(Ae,Ae+1,Ae+2),A.indexArray.emplaceBack(Ae+1,Ae+2,Ae+3)},ui.prototype.getSortedSymbolIndexes=function(A){if(this.sortedAngle===A&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var I=Math.sin(A),Y=Math.cos(A),se=[],Ae=[],Ce=[],Ne=0;Ne<this.symbolInstances.length;++Ne){Ce.push(Ne);var Ke=this.symbolInstances.get(Ne);se.push(0|Math.round(I*Ke.anchorX+Y*Ke.anchorY)),Ae.push(Ke.featureIndex)}return Ce.sort(function(st,yt){return se[st]-se[yt]||Ae[yt]-Ae[st]}),Ce},ui.prototype.addToSortKeyRanges=function(A,I){var Y=this.sortKeyRanges[this.sortKeyRanges.length-1];Y&&Y.sortKey===I?Y.symbolInstanceEnd=A+1:this.sortKeyRanges.push({sortKey:I,symbolInstanceStart:A,symbolInstanceEnd:A+1})},ui.prototype.sortFeatures=function(A){var I=this;if(this.sortFeaturesByY&&this.sortedAngle!==A&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(A),this.sortedAngle=A,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var Y=0,se=this.symbolInstanceIndexes;Y<se.length;Y+=1){var Ae=se[Y],Ce=this.symbolInstances.get(Ae);this.featureSortOrder.push(Ce.featureIndex),[Ce.rightJustifiedTextSymbolIndex,Ce.centerJustifiedTextSymbolIndex,Ce.leftJustifiedTextSymbolIndex].forEach(function(Ne,Ke,st){Ne>=0&&st.indexOf(Ne)===Ke&&I.addIndicesForPlacedSymbol(I.text,Ne)}),Ce.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ce.verticalPlacedTextSymbolIndex),Ce.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.placedIconSymbolIndex),Ce.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},wr("SymbolBucket",ui,{omit:["layers","collisionBoxArray","features","compareText"]}),ui.MAX_GLYPHS=65535,ui.addDynamicAttributes=Uc;var ld=new Ei({"symbol-placement":new kr(Ye.layout_symbol["symbol-placement"]),"symbol-spacing":new kr(Ye.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new kr(Ye.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Cr(Ye.layout_symbol["symbol-sort-key"]),"symbol-z-order":new kr(Ye.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new kr(Ye.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new kr(Ye.layout_symbol["icon-ignore-placement"]),"icon-optional":new kr(Ye.layout_symbol["icon-optional"]),"icon-rotation-alignment":new kr(Ye.layout_symbol["icon-rotation-alignment"]),"icon-size":new Cr(Ye.layout_symbol["icon-size"]),"icon-text-fit":new kr(Ye.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new kr(Ye.layout_symbol["icon-text-fit-padding"]),"icon-image":new Cr(Ye.layout_symbol["icon-image"]),"icon-rotate":new Cr(Ye.layout_symbol["icon-rotate"]),"icon-padding":new kr(Ye.layout_symbol["icon-padding"]),"icon-keep-upright":new kr(Ye.layout_symbol["icon-keep-upright"]),"icon-offset":new Cr(Ye.layout_symbol["icon-offset"]),"icon-anchor":new Cr(Ye.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new kr(Ye.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new kr(Ye.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new kr(Ye.layout_symbol["text-rotation-alignment"]),"text-field":new Cr(Ye.layout_symbol["text-field"]),"text-font":new Cr(Ye.layout_symbol["text-font"]),"text-size":new Cr(Ye.layout_symbol["text-size"]),"text-max-width":new Cr(Ye.layout_symbol["text-max-width"]),"text-line-height":new kr(Ye.layout_symbol["text-line-height"]),"text-letter-spacing":new Cr(Ye.layout_symbol["text-letter-spacing"]),"text-justify":new Cr(Ye.layout_symbol["text-justify"]),"text-radial-offset":new Cr(Ye.layout_symbol["text-radial-offset"]),"text-variable-anchor":new kr(Ye.layout_symbol["text-variable-anchor"]),"text-anchor":new Cr(Ye.layout_symbol["text-anchor"]),"text-max-angle":new kr(Ye.layout_symbol["text-max-angle"]),"text-writing-mode":new kr(Ye.layout_symbol["text-writing-mode"]),"text-rotate":new Cr(Ye.layout_symbol["text-rotate"]),"text-padding":new kr(Ye.layout_symbol["text-padding"]),"text-keep-upright":new kr(Ye.layout_symbol["text-keep-upright"]),"text-transform":new Cr(Ye.layout_symbol["text-transform"]),"text-offset":new Cr(Ye.layout_symbol["text-offset"]),"text-allow-overlap":new kr(Ye.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new kr(Ye.layout_symbol["text-ignore-placement"]),"text-optional":new kr(Ye.layout_symbol["text-optional"])}),Vc={paint:new Ei({"icon-opacity":new Cr(Ye.paint_symbol["icon-opacity"]),"icon-color":new Cr(Ye.paint_symbol["icon-color"]),"icon-halo-color":new Cr(Ye.paint_symbol["icon-halo-color"]),"icon-halo-width":new Cr(Ye.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Cr(Ye.paint_symbol["icon-halo-blur"]),"icon-translate":new kr(Ye.paint_symbol["icon-translate"]),"icon-translate-anchor":new kr(Ye.paint_symbol["icon-translate-anchor"]),"text-opacity":new Cr(Ye.paint_symbol["text-opacity"]),"text-color":new Cr(Ye.paint_symbol["text-color"],{runtimeType:en,getOverride:function(A){return A.textColor},hasOverride:function(A){return!!A.textColor}}),"text-halo-color":new Cr(Ye.paint_symbol["text-halo-color"]),"text-halo-width":new Cr(Ye.paint_symbol["text-halo-width"]),"text-halo-blur":new Cr(Ye.paint_symbol["text-halo-blur"]),"text-translate":new kr(Ye.paint_symbol["text-translate"]),"text-translate-anchor":new kr(Ye.paint_symbol["text-translate-anchor"])}),layout:ld},Kl=function(A){this.type=A.property.overrides?A.property.overrides.runtimeType:Mt,this.defaultValue=A};Kl.prototype.evaluate=function(A){if(A.formattedSection){var I=this.defaultValue.property.overrides;if(I&&I.hasOverride(A.formattedSection))return I.getOverride(A.formattedSection)}return A.feature&&A.featureState?this.defaultValue.evaluate(A.feature,A.featureState):this.defaultValue.property.specification.default},Kl.prototype.eachChild=function(A){this.defaultValue.isConstant()||A(this.defaultValue.value._styleExpression.expression)},Kl.prototype.outputDefined=function(){return!1},Kl.prototype.serialize=function(){return null},wr("FormatSectionOverride",Kl,{omit:["defaultValue"]});var ud=function(A){function I(Y){A.call(this,Y,Vc)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(Y,se){if(A.prototype.recalculate.call(this,Y,se),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ae=this.layout.get("text-writing-mode");if(Ae){for(var Ce=[],Ne=0,Ke=Ae;Ne<Ke.length;Ne+=1){var st=Ke[Ne];Ce.indexOf(st)<0&&Ce.push(st)}this.layout._values["text-writing-mode"]=Ce}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(Y,se,Ae,Ce){var Ne=this.layout.get(Y).evaluate(se,{},Ae,Ce),Ke=this._unevaluatedLayout._values[Y];return Ke.isDataDriven()||Go(Ke.value)||!Ne?Ne:function(st,yt){return yt.replace(/{([^{}]+)}/g,function(wt,zt){return zt in st?String(st[zt]):""})}(se.properties,Ne)},I.prototype.createBucket=function(Y){return new ui(Y)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var Y=0,se=Vc.paint.overridableProperties;Y<se.length;Y+=1){var Ae=se[Y];if(I.hasPaintOverride(this.layout,Ae)){var Ce,Ne=this.paint.get(Ae),Ke=new Kl(Ne),st=new Ao(Ke,Ne.property.specification);Ce=Ne.value.kind==="constant"||Ne.value.kind==="source"?new Fa("source",st):new is("composite",st,Ne.value.zoomStops,Ne.value._interpolationType),this.paint._values[Ae]=new si(Ne.property,Ce,Ne.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(Y,se,Ae){return!(!this.layout||se.isDataDriven()||Ae.isDataDriven())&&I.hasPaintOverride(this.layout,Y)},I.hasPaintOverride=function(Y,se){var Ae=Y.get("text-field"),Ce=Vc.paint.properties[se],Ne=!1,Ke=function(wt){for(var zt=0,Ut=wt;zt<Ut.length;zt+=1){var Rt=Ut[zt];if(Ce.overrides&&Ce.overrides.hasOverride(Rt))return void(Ne=!0)}};if(Ae.value.kind==="constant"&&Ae.value.value instanceof zn)Ke(Ae.value.value.sections);else if(Ae.value.kind==="source"){var st=function(wt){if(!Ne)if(wt instanceof Bt&&Yn(wt.value)===An){var zt=wt.value;Ke(zt.sections)}else wt instanceof Tn?Ke(wt.sections):wt.eachChild(st)},yt=Ae.value;yt._styleExpression&&st(yt._styleExpression.expression)}return Ne},I}($r),cd={paint:new Ei({"background-color":new kr(Ye.paint_background["background-color"]),"background-pattern":new to(Ye.paint_background["background-pattern"]),"background-opacity":new kr(Ye.paint_background["background-opacity"])})},fd=function(A){function I(Y){A.call(this,Y,cd)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}($r),hd={paint:new Ei({"raster-opacity":new kr(Ye.paint_raster["raster-opacity"]),"raster-hue-rotate":new kr(Ye.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new kr(Ye.paint_raster["raster-brightness-min"]),"raster-brightness-max":new kr(Ye.paint_raster["raster-brightness-max"]),"raster-saturation":new kr(Ye.paint_raster["raster-saturation"]),"raster-contrast":new kr(Ye.paint_raster["raster-contrast"]),"raster-resampling":new kr(Ye.paint_raster["raster-resampling"]),"raster-fade-duration":new kr(Ye.paint_raster["raster-fade-duration"])})},pd=function(A){function I(Y){A.call(this,Y,hd)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}($r),dd=function(A){function I(Y){A.call(this,Y,{}),this.implementation=Y}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},I.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(Y){this.implementation.onAdd&&this.implementation.onAdd(Y,Y.painter.context.gl)},I.prototype.onRemove=function(Y){this.implementation.onRemove&&this.implementation.onRemove(Y,Y.painter.context.gl)},I}($r),gd={circle:Xh,heatmap:Jh,hillshade:Qh,fill:vp,"fill-extrusion":Ap,line:Op,symbol:ud,background:fd,raster:pd},Qf=r.HTMLImageElement,eh=r.HTMLCanvasElement,th=r.HTMLVideoElement,nh=r.ImageData,tc=r.ImageBitmap,Ll=function(A,I,Y,se){this.context=A,this.format=Y,this.texture=A.gl.createTexture(),this.update(I,se)};Ll.prototype.update=function(A,I,Y){var se=A.width,Ae=A.height,Ce=!(this.size&&this.size[0]===se&&this.size[1]===Ae||Y),Ne=this.context,Ke=Ne.gl;if(this.useMipmap=!!(I&&I.useMipmap),Ke.bindTexture(Ke.TEXTURE_2D,this.texture),Ne.pixelStoreUnpackFlipY.set(!1),Ne.pixelStoreUnpack.set(1),Ne.pixelStoreUnpackPremultiplyAlpha.set(this.format===Ke.RGBA&&(!I||I.premultiply!==!1)),Ce)this.size=[se,Ae],A instanceof Qf||A instanceof eh||A instanceof th||A instanceof nh||tc&&A instanceof tc?Ke.texImage2D(Ke.TEXTURE_2D,0,this.format,this.format,Ke.UNSIGNED_BYTE,A):Ke.texImage2D(Ke.TEXTURE_2D,0,this.format,se,Ae,0,this.format,Ke.UNSIGNED_BYTE,A.data);else{var st=Y||{x:0,y:0},yt=st.x,wt=st.y;A instanceof Qf||A instanceof eh||A instanceof th||A instanceof nh||tc&&A instanceof tc?Ke.texSubImage2D(Ke.TEXTURE_2D,0,yt,wt,Ke.RGBA,Ke.UNSIGNED_BYTE,A):Ke.texSubImage2D(Ke.TEXTURE_2D,0,yt,wt,se,Ae,Ke.RGBA,Ke.UNSIGNED_BYTE,A.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Ke.generateMipmap(Ke.TEXTURE_2D)},Ll.prototype.bind=function(A,I,Y){var se=this.context.gl;se.bindTexture(se.TEXTURE_2D,this.texture),Y!==se.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(Y=se.LINEAR),A!==this.filter&&(se.texParameteri(se.TEXTURE_2D,se.TEXTURE_MAG_FILTER,A),se.texParameteri(se.TEXTURE_2D,se.TEXTURE_MIN_FILTER,Y||A),this.filter=A),I!==this.wrap&&(se.texParameteri(se.TEXTURE_2D,se.TEXTURE_WRAP_S,I),se.texParameteri(se.TEXTURE_2D,se.TEXTURE_WRAP_T,I),this.wrap=I)},Ll.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ll.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var qc=function(A){var I=this;this._callback=A,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){I._triggered=!1,I._callback()})};qc.prototype.trigger=function(){var A=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){A._triggered=!1,A._callback()},0))},qc.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Jl=function(A,I,Y){this.target=A,this.parent=I,this.mapId=Y,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new qc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=O()?A:r};function rh(A,I,Y){var se=2*Math.PI*6378137/256/Math.pow(2,Y);return[A*se-2*Math.PI*6378137/2,I*se-2*Math.PI*6378137/2]}Jl.prototype.send=function(A,I,Y,se,Ae){var Ce=this;Ae===void 0&&(Ae=!1);var Ne=Math.round(1e18*Math.random()).toString(36).substring(0,10);Y&&(this.callbacks[Ne]=Y);var Ke=z(this.globalScope)?void 0:[];return this.target.postMessage({id:Ne,type:A,hasCallback:!!Y,targetMapId:se,mustQueue:Ae,sourceMapId:this.mapId,data:Po(I,Ke)},Ke),{cancel:function(){Y&&delete Ce.callbacks[Ne],Ce.target.postMessage({id:Ne,type:"<cancel>",targetMapId:se,sourceMapId:Ce.mapId})}}},Jl.prototype.receive=function(A){var I=A.data,Y=I.id;if(Y&&(!I.targetMapId||this.mapId===I.targetMapId))if(I.type==="<cancel>"){delete this.tasks[Y];var se=this.cancelCallbacks[Y];delete this.cancelCallbacks[Y],se&&se()}else O()||I.mustQueue?(this.tasks[Y]=I,this.taskQueue.push(Y),this.invoker.trigger()):this.processTask(Y,I)},Jl.prototype.process=function(){if(this.taskQueue.length){var A=this.taskQueue.shift(),I=this.tasks[A];delete this.tasks[A],this.taskQueue.length&&this.invoker.trigger(),I&&this.processTask(A,I)}},Jl.prototype.processTask=function(A,I){var Y=this;if(I.type==="<response>"){var se=this.callbacks[A];delete this.callbacks[A],se&&(I.error?se(Jo(I.error)):se(null,Jo(I.data)))}else{var Ae=!1,Ce=z(this.globalScope)?void 0:[],Ne=I.hasCallback?function(wt,zt){Ae=!0,delete Y.cancelCallbacks[A],Y.target.postMessage({id:A,type:"<response>",sourceMapId:Y.mapId,error:wt?Po(wt):null,data:Po(zt,Ce)},Ce)}:function(wt){Ae=!0},Ke=null,st=Jo(I.data);if(this.parent[I.type])Ke=this.parent[I.type](I.sourceMapId,st,Ne);else if(this.parent.getWorkerSource){var yt=I.type.split(".");Ke=this.parent.getWorkerSource(I.sourceMapId,yt[0],st.source)[yt[1]](st,Ne)}else Ne(new Error("Could not find function "+I.type));!Ae&&Ke&&Ke.cancel&&(this.cancelCallbacks[A]=Ke.cancel)}},Jl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Xi=function(A,I){A&&(I?this.setSouthWest(A).setNorthEast(I):A.length===4?this.setSouthWest([A[0],A[1]]).setNorthEast([A[2],A[3]]):this.setSouthWest(A[0]).setNorthEast(A[1]))};Xi.prototype.setNorthEast=function(A){return this._ne=A instanceof Li?new Li(A.lng,A.lat):Li.convert(A),this},Xi.prototype.setSouthWest=function(A){return this._sw=A instanceof Li?new Li(A.lng,A.lat):Li.convert(A),this},Xi.prototype.extend=function(A){var I,Y,se=this._sw,Ae=this._ne;if(A instanceof Li)I=A,Y=A;else{if(!(A instanceof Xi)){if(Array.isArray(A)){if(A.length===4||A.every(Array.isArray)){var Ce=A;return this.extend(Xi.convert(Ce))}var Ne=A;return this.extend(Li.convert(Ne))}return this}if(I=A._sw,Y=A._ne,!I||!Y)return this}return se||Ae?(se.lng=Math.min(I.lng,se.lng),se.lat=Math.min(I.lat,se.lat),Ae.lng=Math.max(Y.lng,Ae.lng),Ae.lat=Math.max(Y.lat,Ae.lat)):(this._sw=new Li(I.lng,I.lat),this._ne=new Li(Y.lng,Y.lat)),this},Xi.prototype.getCenter=function(){return new Li((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Xi.prototype.getSouthWest=function(){return this._sw},Xi.prototype.getNorthEast=function(){return this._ne},Xi.prototype.getNorthWest=function(){return new Li(this.getWest(),this.getNorth())},Xi.prototype.getSouthEast=function(){return new Li(this.getEast(),this.getSouth())},Xi.prototype.getWest=function(){return this._sw.lng},Xi.prototype.getSouth=function(){return this._sw.lat},Xi.prototype.getEast=function(){return this._ne.lng},Xi.prototype.getNorth=function(){return this._ne.lat},Xi.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Xi.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Xi.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Xi.prototype.contains=function(A){var I=Li.convert(A),Y=I.lng,se=I.lat,Ae=this._sw.lat<=se&&se<=this._ne.lat,Ce=this._sw.lng<=Y&&Y<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ce=this._sw.lng>=Y&&Y>=this._ne.lng),Ae&&Ce},Xi.convert=function(A){return!A||A instanceof Xi?A:new Xi(A)};var ih=63710088e-1,Li=function(A,I){if(isNaN(A)||isNaN(I))throw new Error("Invalid LngLat object: ("+A+", "+I+")");if(this.lng=+A,this.lat=+I,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Li.prototype.wrap=function(){return new Li(d(this.lng,-180,180),this.lat)},Li.prototype.toArray=function(){return[this.lng,this.lat]},Li.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Li.prototype.distanceTo=function(A){var I=Math.PI/180,Y=this.lat*I,se=A.lat*I,Ae=Math.sin(Y)*Math.sin(se)+Math.cos(Y)*Math.cos(se)*Math.cos((A.lng-this.lng)*I);return ih*Math.acos(Math.min(Ae,1))},Li.prototype.toBounds=function(A){A===void 0&&(A=0);var I=360*A/40075017,Y=I/Math.cos(Math.PI/180*this.lat);return new Xi(new Li(this.lng-Y,this.lat-I),new Li(this.lng+Y,this.lat+I))},Li.convert=function(A){if(A instanceof Li)return A;if(Array.isArray(A)&&(A.length===2||A.length===3))return new Li(Number(A[0]),Number(A[1]));if(!Array.isArray(A)&&typeof A=="object"&&A!==null)return new Li(Number("lng"in A?A.lng:A.lon),Number(A.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ah=2*Math.PI*ih;function oh(A){return ah*Math.cos(A*Math.PI/180)}function sh(A){return(180+A)/360}function lh(A){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+A*Math.PI/360)))/360}function uh(A,I){return A/oh(I)}function Hc(A){var I=180-360*A;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}var Cl=function(A,I,Y){Y===void 0&&(Y=0),this.x=+A,this.y=+I,this.z=+Y};Cl.fromLngLat=function(A,I){I===void 0&&(I=0);var Y=Li.convert(A);return new Cl(sh(Y.lng),lh(Y.lat),uh(I,Y.lat))},Cl.prototype.toLngLat=function(){return new Li(360*this.x-180,Hc(this.y))},Cl.prototype.toAltitude=function(){return A=this.z,I=this.y,A*oh(Hc(I));var A,I},Cl.prototype.meterInMercatorCoordinateUnits=function(){return 1/ah*(A=Hc(this.y),1/Math.cos(A*Math.PI/180));var A};var Pl=function(A,I,Y){this.z=A,this.x=I,this.y=Y,this.key=bu(0,A,A,I,Y)};Pl.prototype.equals=function(A){return this.z===A.z&&this.x===A.x&&this.y===A.y},Pl.prototype.url=function(A,I){var Y,se,Ae,Ce,Ne,Ke=(Y=this.x,se=this.y,Ae=this.z,Ce=rh(256*Y,256*(se=Math.pow(2,Ae)-se-1),Ae),Ne=rh(256*(Y+1),256*(se+1),Ae),Ce[0]+","+Ce[1]+","+Ne[0]+","+Ne[1]),st=function(yt,wt,zt){for(var Ut,Rt="",tn=yt;tn>0;tn--)Rt+=(wt&(Ut=1<<tn-1)?1:0)+(zt&Ut?2:0);return Rt}(this.z,this.x,this.y);return A[(this.x+this.y)%A.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(I==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",st).replace("{bbox-epsg-3857}",Ke)},Pl.prototype.getTilePoint=function(A){var I=Math.pow(2,this.z);return new t((A.x*I-this.x)*Zr,(A.y*I-this.y)*Zr)},Pl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var ch=function(A,I){this.wrap=A,this.canonical=I,this.key=bu(A,I.z,I.z,I.x,I.y)},Ki=function(A,I,Y,se,Ae){this.overscaledZ=A,this.wrap=I,this.canonical=new Pl(Y,+se,+Ae),this.key=bu(I,A,Y,se,Ae)};function bu(A,I,Y,se,Ae){(A*=2)<0&&(A=-1*A-1);var Ce=1<<Y;return(Ce*Ce*A+Ce*Ae+se).toString(36)+Y.toString(36)+I.toString(36)}Ki.prototype.equals=function(A){return this.overscaledZ===A.overscaledZ&&this.wrap===A.wrap&&this.canonical.equals(A.canonical)},Ki.prototype.scaledTo=function(A){var I=this.canonical.z-A;return A>this.canonical.z?new Ki(A,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ki(A,this.wrap,A,this.canonical.x>>I,this.canonical.y>>I)},Ki.prototype.calculateScaledKey=function(A,I){var Y=this.canonical.z-A;return A>this.canonical.z?bu(this.wrap*+I,A,this.canonical.z,this.canonical.x,this.canonical.y):bu(this.wrap*+I,A,A,this.canonical.x>>Y,this.canonical.y>>Y)},Ki.prototype.isChildOf=function(A){if(A.wrap!==this.wrap)return!1;var I=this.canonical.z-A.canonical.z;return A.overscaledZ===0||A.overscaledZ<this.overscaledZ&&A.canonical.x===this.canonical.x>>I&&A.canonical.y===this.canonical.y>>I},Ki.prototype.children=function(A){if(this.overscaledZ>=A)return[new Ki(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var I=this.canonical.z+1,Y=2*this.canonical.x,se=2*this.canonical.y;return[new Ki(I,this.wrap,I,Y,se),new Ki(I,this.wrap,I,Y+1,se),new Ki(I,this.wrap,I,Y,se+1),new Ki(I,this.wrap,I,Y+1,se+1)]},Ki.prototype.isLessThan=function(A){return this.wrap<A.wrap||!(this.wrap>A.wrap)&&(this.overscaledZ<A.overscaledZ||!(this.overscaledZ>A.overscaledZ)&&(this.canonical.x<A.canonical.x||!(this.canonical.x>A.canonical.x)&&this.canonical.y<A.canonical.y))},Ki.prototype.wrapped=function(){return new Ki(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ki.prototype.unwrapTo=function(A){return new Ki(this.overscaledZ,A,this.canonical.z,this.canonical.x,this.canonical.y)},Ki.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ki.prototype.toUnwrapped=function(){return new ch(this.wrap,this.canonical)},Ki.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ki.prototype.getTilePoint=function(A){return this.canonical.getTilePoint(new Cl(A.x-this.wrap,A.y))},wr("CanonicalTileID",Pl),wr("OverscaledTileID",Ki,{omit:["posMatrix"]});var rl=function(A,I,Y){if(this.uid=A,I.height!==I.width)throw new RangeError("DEM tiles must be square");if(Y&&Y!=="mapbox"&&Y!=="terrarium")return E('"'+Y+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=I.height;var se=this.dim=I.height-2;this.data=new Uint32Array(I.data.buffer),this.encoding=Y||"mapbox";for(var Ae=0;Ae<se;Ae++)this.data[this._idx(-1,Ae)]=this.data[this._idx(0,Ae)],this.data[this._idx(se,Ae)]=this.data[this._idx(se-1,Ae)],this.data[this._idx(Ae,-1)]=this.data[this._idx(Ae,0)],this.data[this._idx(Ae,se)]=this.data[this._idx(Ae,se-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(se,-1)]=this.data[this._idx(se-1,0)],this.data[this._idx(-1,se)]=this.data[this._idx(0,se-1)],this.data[this._idx(se,se)]=this.data[this._idx(se-1,se-1)]};rl.prototype.get=function(A,I){var Y=new Uint8Array(this.data.buffer),se=4*this._idx(A,I);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(Y[se],Y[se+1],Y[se+2])},rl.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},rl.prototype._idx=function(A,I){if(A<-1||A>=this.dim+1||I<-1||I>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(I+1)*this.stride+(A+1)},rl.prototype._unpackMapbox=function(A,I,Y){return(256*A*256+256*I+Y)/10-1e4},rl.prototype._unpackTerrarium=function(A,I,Y){return 256*A+I+Y/256-32768},rl.prototype.getPixels=function(){return new ro({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},rl.prototype.backfillBorder=function(A,I,Y){if(this.dim!==A.dim)throw new Error("dem dimension mismatch");var se=I*this.dim,Ae=I*this.dim+this.dim,Ce=Y*this.dim,Ne=Y*this.dim+this.dim;switch(I){case-1:se=Ae-1;break;case 1:Ae=se+1}switch(Y){case-1:Ce=Ne-1;break;case 1:Ne=Ce+1}for(var Ke=-I*this.dim,st=-Y*this.dim,yt=Ce;yt<Ne;yt++)for(var wt=se;wt<Ae;wt++)this.data[this._idx(wt,yt)]=A.data[this._idx(wt+Ke,yt+st)]},wr("DEMData",rl);var nc=function(A){this._stringToNumber={},this._numberToString=[];for(var I=0;I<A.length;I++){var Y=A[I];this._stringToNumber[Y]=I,this._numberToString[I]=Y}};nc.prototype.encode=function(A){return this._stringToNumber[A]},nc.prototype.decode=function(A){return this._numberToString[A]};var rc=function(A,I,Y,se,Ae){this.type="Feature",this._vectorTileFeature=A,A._z=I,A._x=Y,A._y=se,this.properties=A.properties,this.id=Ae},Gc={geometry:{configurable:!0}};Gc.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Gc.geometry.set=function(A){this._geometry=A},rc.prototype.toJSON=function(){var A={geometry:this.geometry};for(var I in this)I!=="_geometry"&&I!=="_vectorTileFeature"&&(A[I]=this[I]);return A},Object.defineProperties(rc.prototype,Gc);var $l=function(){this.state={},this.stateChanges={},this.deletedStates={}};$l.prototype.updateState=function(A,I,Y){var se=String(I);if(this.stateChanges[A]=this.stateChanges[A]||{},this.stateChanges[A][se]=this.stateChanges[A][se]||{},c(this.stateChanges[A][se],Y),this.deletedStates[A]===null)for(var Ae in this.deletedStates[A]={},this.state[A])Ae!==se&&(this.deletedStates[A][Ae]=null);else if(this.deletedStates[A]&&this.deletedStates[A][se]===null)for(var Ce in this.deletedStates[A][se]={},this.state[A][se])Y[Ce]||(this.deletedStates[A][se][Ce]=null);else for(var Ne in Y)this.deletedStates[A]&&this.deletedStates[A][se]&&this.deletedStates[A][se][Ne]===null&&delete this.deletedStates[A][se][Ne]},$l.prototype.removeFeatureState=function(A,I,Y){if(this.deletedStates[A]!==null){var se=String(I);if(this.deletedStates[A]=this.deletedStates[A]||{},Y&&I!==void 0)this.deletedStates[A][se]!==null&&(this.deletedStates[A][se]=this.deletedStates[A][se]||{},this.deletedStates[A][se][Y]=null);else if(I!==void 0)if(this.stateChanges[A]&&this.stateChanges[A][se])for(Y in this.deletedStates[A][se]={},this.stateChanges[A][se])this.deletedStates[A][se][Y]=null;else this.deletedStates[A][se]=null;else this.deletedStates[A]=null}},$l.prototype.getState=function(A,I){var Y=String(I),se=this.state[A]||{},Ae=this.stateChanges[A]||{},Ce=c({},se[Y],Ae[Y]);if(this.deletedStates[A]===null)return{};if(this.deletedStates[A]){var Ne=this.deletedStates[A][I];if(Ne===null)return{};for(var Ke in Ne)delete Ce[Ke]}return Ce},$l.prototype.initializeTileState=function(A,I){A.setFeatureState(this.state,I)},$l.prototype.coalesceChanges=function(A,I){var Y={};for(var se in this.stateChanges){this.state[se]=this.state[se]||{};var Ae={};for(var Ce in this.stateChanges[se])this.state[se][Ce]||(this.state[se][Ce]={}),c(this.state[se][Ce],this.stateChanges[se][Ce]),Ae[Ce]=this.state[se][Ce];Y[se]=Ae}for(var Ne in this.deletedStates){this.state[Ne]=this.state[Ne]||{};var Ke={};if(this.deletedStates[Ne]===null)for(var st in this.state[Ne])Ke[st]={},this.state[Ne][st]={};else for(var yt in this.deletedStates[Ne]){if(this.deletedStates[Ne][yt]===null)this.state[Ne][yt]={};else for(var wt=0,zt=Object.keys(this.deletedStates[Ne][yt]);wt<zt.length;wt+=1){var Ut=zt[wt];delete this.state[Ne][yt][Ut]}Ke[yt]=this.state[Ne][yt]}Y[Ne]=Y[Ne]||{},c(Y[Ne],Ke)}if(this.stateChanges={},this.deletedStates={},Object.keys(Y).length!==0)for(var Rt in A)A[Rt].setFeatureState(Y,I)};var il=function(A,I){this.tileID=A,this.x=A.canonical.x,this.y=A.canonical.y,this.z=A.canonical.z,this.grid=new Ko(Zr,16,0),this.grid3D=new Ko(Zr,16,0),this.featureIndexArray=new Mn,this.promoteId=I};function fh(A,I,Y,se,Ae){return _(A,function(Ce,Ne){var Ke=I instanceof Qo?I.get(Ne):null;return Ke&&Ke.evaluate?Ke.evaluate(Y,se,Ae):Ke})}function hh(A){for(var I=1/0,Y=1/0,se=-1/0,Ae=-1/0,Ce=0,Ne=A;Ce<Ne.length;Ce+=1){var Ke=Ne[Ce];I=Math.min(I,Ke.x),Y=Math.min(Y,Ke.y),se=Math.max(se,Ke.x),Ae=Math.max(Ae,Ke.y)}return{minX:I,minY:Y,maxX:se,maxY:Ae}}function vd(A,I){return I-A}il.prototype.insert=function(A,I,Y,se,Ae,Ce){var Ne=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(Y,se,Ae);for(var Ke=Ce?this.grid3D:this.grid,st=0;st<I.length;st++){for(var yt=I[st],wt=[1/0,1/0,-1/0,-1/0],zt=0;zt<yt.length;zt++){var Ut=yt[zt];wt[0]=Math.min(wt[0],Ut.x),wt[1]=Math.min(wt[1],Ut.y),wt[2]=Math.max(wt[2],Ut.x),wt[3]=Math.max(wt[3],Ut.y)}wt[0]<Zr&&wt[1]<Zr&&wt[2]>=0&&wt[3]>=0&&Ke.insert(Ne,wt[0],wt[1],wt[2],wt[3])}},il.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new jl.VectorTile(new Gu(this.rawTileData)).layers,this.sourceLayerCoder=new nc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},il.prototype.query=function(A,I,Y,se){var Ae=this;this.loadVTLayers();for(var Ce=A.params||{},Ne=Zr/A.tileSize/A.scale,Ke=_s(Ce.filter),st=A.queryGeometry,yt=A.queryPadding*Ne,wt=hh(st),zt=this.grid.query(wt.minX-yt,wt.minY-yt,wt.maxX+yt,wt.maxY+yt),Ut=hh(A.cameraQueryGeometry),Rt=0,tn=this.grid3D.query(Ut.minX-yt,Ut.minY-yt,Ut.maxX+yt,Ut.maxY+yt,function(qn,Gn,rr,dr){return function(hr,yr,br,zr,Sr){for(var Ir=0,Lr=hr;Ir<Lr.length;Ir+=1){var Mr=Lr[Ir];if(yr<=Mr.x&&br<=Mr.y&&zr>=Mr.x&&Sr>=Mr.y)return!0}var Wr=[new t(yr,br),new t(yr,Sr),new t(zr,Sr),new t(zr,br)];if(hr.length>2){for(var Fr=0,gi=Wr;Fr<gi.length;Fr+=1)if(Zs(hr,gi[Fr]))return!0}for(var Pr=0;Pr<hr.length-1;Pr++)if(qh(hr[Pr],hr[Pr+1],Wr))return!0;return!1}(A.cameraQueryGeometry,qn-yt,Gn-yt,rr+yt,dr+yt)});Rt<tn.length;Rt+=1){var an=tn[Rt];zt.push(an)}zt.sort(vd);for(var bn,mn={},In=function(qn){var Gn=zt[qn];if(Gn!==bn){bn=Gn;var rr=Ae.featureIndexArray.get(Gn),dr=null;Ae.loadMatchingFeature(mn,rr.bucketIndex,rr.sourceLayerIndex,rr.featureIndex,Ke,Ce.layers,Ce.availableImages,I,Y,se,function(hr,yr,br){return dr||(dr=go(hr)),yr.queryIntersectsFeature(st,hr,br,dr,Ae.z,A.transform,Ne,A.pixelPosMatrix)})}},Rn=0;Rn<zt.length;Rn++)In(Rn);return mn},il.prototype.loadMatchingFeature=function(A,I,Y,se,Ae,Ce,Ne,Ke,st,yt,wt){var zt=this.bucketLayerIDs[I];if(!Ce||function(hr,yr){for(var br=0;br<hr.length;br++)if(yr.indexOf(hr[br])>=0)return!0;return!1}(Ce,zt)){var Ut=this.sourceLayerCoder.decode(Y),Rt=this.vtLayers[Ut].feature(se);if(Ae.needGeometry){var tn=xi(Rt,!0);if(!Ae.filter(new Ur(this.tileID.overscaledZ),tn,this.tileID.canonical))return}else if(!Ae.filter(new Ur(this.tileID.overscaledZ),Rt))return;for(var an=this.getId(Rt,Ut),bn=0;bn<zt.length;bn++){var mn=zt[bn];if(!(Ce&&Ce.indexOf(mn)<0)){var In=Ke[mn];if(In){var Rn={};an!==void 0&&yt&&(Rn=yt.getState(In.sourceLayer||"_geojsonTileLayer",an));var qn=c({},st[mn]);qn.paint=fh(qn.paint,In.paint,Rt,Rn,Ne),qn.layout=fh(qn.layout,In.layout,Rt,Rn,Ne);var Gn=!wt||wt(Rt,In,Rn);if(Gn){var rr=new rc(Rt,this.z,this.x,this.y,an);rr.layer=qn;var dr=A[mn];dr===void 0&&(dr=A[mn]=[]),dr.push({featureIndex:se,feature:rr,intersectionZ:Gn})}}}}}},il.prototype.lookupSymbolFeatures=function(A,I,Y,se,Ae,Ce,Ne,Ke){var st={};this.loadVTLayers();for(var yt=_s(Ae),wt=0,zt=A;wt<zt.length;wt+=1){var Ut=zt[wt];this.loadMatchingFeature(st,Y,se,Ut,yt,Ce,Ne,Ke,I)}return st},il.prototype.hasLayer=function(A){for(var I=0,Y=this.bucketLayerIDs;I<Y.length;I+=1)for(var se=0,Ae=Y[I];se<Ae.length;se+=1)if(A===Ae[se])return!0;return!1},il.prototype.getId=function(A,I){var Y=A.id;if(this.promoteId){var se=typeof this.promoteId=="string"?this.promoteId:this.promoteId[I];typeof(Y=A.properties[se])=="boolean"&&(Y=Number(Y))}return Y},wr("FeatureIndex",il,{omit:["rawTileData","sourceLayerCoder"]});var ua=function(A,I){this.tileID=A,this.uid=f(),this.uses=0,this.tileSize=I,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ua.prototype.registerFadeDuration=function(A){var I=A+this.timeAdded;I<Z.now()||this.fadeEndTime&&I<this.fadeEndTime||(this.fadeEndTime=I)},ua.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},ua.prototype.loadVectorData=function(A,I,Y){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",A){for(var se in A.featureIndex&&(this.latestFeatureIndex=A.featureIndex,A.rawTileData?(this.latestRawTileData=A.rawTileData,this.latestFeatureIndex.rawTileData=A.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=A.collisionBoxArray,this.buckets=function(yt,wt){var zt={};if(!wt)return zt;for(var Ut=function(){var an=tn[Rt],bn=an.layerIds.map(function(qn){return wt.getLayer(qn)}).filter(Boolean);if(bn.length!==0){an.layers=bn,an.stateDependentLayerIds&&(an.stateDependentLayers=an.stateDependentLayerIds.map(function(qn){return bn.filter(function(Gn){return Gn.id===qn})[0]}));for(var mn=0,In=bn;mn<In.length;mn+=1){var Rn=In[mn];zt[Rn.id]=an}}},Rt=0,tn=yt;Rt<tn.length;Rt+=1)Ut();return zt}(A.buckets,I.style),this.hasSymbolBuckets=!1,this.buckets){var Ae=this.buckets[se];if(Ae instanceof ui){if(this.hasSymbolBuckets=!0,!Y)break;Ae.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ce in this.buckets){var Ne=this.buckets[Ce];if(Ne instanceof ui&&Ne.hasRTLText){this.hasRTLText=!0,la.isLoading()||la.isLoaded()||us()!=="deferred"||cs();break}}for(var Ke in this.queryPadding=0,this.buckets){var st=this.buckets[Ke];this.queryPadding=Math.max(this.queryPadding,I.style.getLayer(Ke).queryRadius(st))}A.imageAtlas&&(this.imageAtlas=A.imageAtlas),A.glyphAtlasImage&&(this.glyphAtlasImage=A.glyphAtlasImage)}else this.collisionBoxArray=new Tt},ua.prototype.unloadVectorData=function(){for(var A in this.buckets)this.buckets[A].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ua.prototype.getBucket=function(A){return this.buckets[A.id]},ua.prototype.upload=function(A){for(var I in this.buckets){var Y=this.buckets[I];Y.uploadPending()&&Y.upload(A)}var se=A.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ll(A,this.imageAtlas.image,se.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ll(A,this.glyphAtlasImage,se.ALPHA),this.glyphAtlasImage=null)},ua.prototype.prepare=function(A){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(A,this.imageAtlasTexture)},ua.prototype.queryRenderedFeatures=function(A,I,Y,se,Ae,Ce,Ne,Ke,st,yt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:se,cameraQueryGeometry:Ae,scale:Ce,tileSize:this.tileSize,pixelPosMatrix:yt,transform:Ke,params:Ne,queryPadding:this.queryPadding*st},A,I,Y):{}},ua.prototype.querySourceFeatures=function(A,I){var Y=this.latestFeatureIndex;if(Y&&Y.rawTileData){var se=Y.loadVTLayers(),Ae=I?I.sourceLayer:"",Ce=se._geojsonTileLayer||se[Ae];if(Ce)for(var Ne=_s(I&&I.filter),Ke=this.tileID.canonical,st=Ke.z,yt=Ke.x,wt=Ke.y,zt={z:st,x:yt,y:wt},Ut=0;Ut<Ce.length;Ut++){var Rt=Ce.feature(Ut);if(Ne.needGeometry){var tn=xi(Rt,!0);if(!Ne.filter(new Ur(this.tileID.overscaledZ),tn,this.tileID.canonical))continue}else if(!Ne.filter(new Ur(this.tileID.overscaledZ),Rt))continue;var an=Y.getId(Rt,Ae),bn=new rc(Rt,st,yt,wt,an);bn.tile=zt,A.push(bn)}}},ua.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},ua.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ua.prototype.setExpiryData=function(A){var I=this.expirationTime;if(A.cacheControl){var Y=R(A.cacheControl);Y["max-age"]&&(this.expirationTime=Date.now()+1e3*Y["max-age"])}else A.expires&&(this.expirationTime=new Date(A.expires).getTime());if(this.expirationTime){var se=Date.now(),Ae=!1;if(this.expirationTime>se)Ae=!1;else if(I)if(this.expirationTime<I)Ae=!0;else{var Ce=this.expirationTime-I;Ce?this.expirationTime=se+Math.max(Ce,3e4):Ae=!0}else Ae=!0;Ae?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ua.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},ua.prototype.setFeatureState=function(A,I){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(A).length!==0){var Y=this.latestFeatureIndex.loadVTLayers();for(var se in this.buckets)if(I.style.hasLayer(se)){var Ae=this.buckets[se],Ce=Ae.layers[0].sourceLayer||"_geojsonTileLayer",Ne=Y[Ce],Ke=A[Ce];if(Ne&&Ke&&Object.keys(Ke).length!==0){Ae.update(Ke,Ne,this.imageAtlas&&this.imageAtlas.patternPositions||{});var st=I&&I.style&&I.style.getLayer(se);st&&(this.queryPadding=Math.max(this.queryPadding,st.queryRadius(Ae)))}}}},ua.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},ua.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Z.now()},ua.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ua.prototype.setHoldDuration=function(A){this.symbolFadeHoldUntil=Z.now()+A},ua.prototype.setDependencies=function(A,I){for(var Y={},se=0,Ae=I;se<Ae.length;se+=1)Y[Ae[se]]=!0;this.dependencies[A]=Y},ua.prototype.hasDependency=function(A,I){for(var Y=0,se=A;Y<se.length;Y+=1){var Ae=se[Y],Ce=this.dependencies[Ae];if(Ce){for(var Ne=0,Ke=I;Ne<Ke.length;Ne+=1)if(Ce[Ke[Ne]])return!0}}return!1};var xl=r.performance,ph=function(A){this._marks={start:[A.url,"start"].join("#"),end:[A.url,"end"].join("#"),measure:A.url.toString()},xl.mark(this._marks.start)};ph.prototype.finish=function(){xl.mark(this._marks.end);var A=xl.getEntriesByName(this._marks.measure);return A.length===0&&(xl.measure(this._marks.measure,this._marks.start,this._marks.end),A=xl.getEntriesByName(this._marks.measure),xl.clearMarks(this._marks.start),xl.clearMarks(this._marks.end),xl.clearMeasures(this._marks.measure)),A},a.Actor=Jl,a.AlphaImage=El,a.CanonicalTileID=Pl,a.CollisionBoxArray=Tt,a.Color=Cn,a.DEMData=rl,a.DataConstantProperty=kr,a.DictionaryCoder=nc,a.EXTENT=Zr,a.ErrorEvent=Fe,a.EvaluationParameters=Ur,a.Event=Re,a.Evented=rt,a.FeatureIndex=il,a.FillBucket=Cs,a.FillExtrusionBucket=Ps,a.ImageAtlas=vu,a.ImagePosition=Yu,a.LineBucket=Ha,a.LngLat=Li,a.LngLatBounds=Xi,a.MercatorCoordinate=Cl,a.ONE_EM=ga,a.OverscaledTileID=Ki,a.Point=t,a.Point$1=t,a.Properties=Ei,a.Protobuf=Gu,a.RGBAImage=ro,a.RequestManager=pe,a.RequestPerformance=ph,a.ResourceType=gt,a.SegmentVector=Un,a.SourceFeatureState=$l,a.StructArrayLayout1ui2=ft,a.StructArrayLayout2f1f2i16=ne,a.StructArrayLayout2i4=zo,a.StructArrayLayout3ui6=ye,a.StructArrayLayout4i8=tl,a.SymbolBucket=ui,a.Texture=Ll,a.Tile=ua,a.Transitionable=Va,a.Uniform1f=Nr,a.Uniform1i=Rr,a.Uniform2f=Vr,a.Uniform3f=li,a.Uniform4f=ki,a.UniformColor=ea,a.UniformMatrix4f=Yi,a.UnwrappedTileID=ch,a.ValidationError=ct,a.WritingMode=Ro,a.ZoomHistory=ls,a.add=function(A,I,Y){return A[0]=I[0]+Y[0],A[1]=I[1]+Y[1],A[2]=I[2]+Y[2],A},a.addDynamicAttributes=Uc,a.asyncAll=function(A,I,Y){if(!A.length)return Y(null,[]);var se=A.length,Ae=new Array(A.length),Ce=null;A.forEach(function(Ne,Ke){I(Ne,function(st,yt){st&&(Ce=st),Ae[Ke]=yt,--se==0&&Y(Ce,Ae)})})},a.bezier=o,a.bindAll=y,a.browser=Z,a.cacheEntryPossiblyAdded=function(A){++pt>De&&(A.getActor().send("enforceCacheSizeLimit",Oe),pt=0)},a.clamp=u,a.clearTileCache=function(A){var I=r.caches.delete(_e);A&&I.catch(A).then(function(){return A()})},a.clipLine=Yf,a.clone=function(A){var I=new Do(16);return I[0]=A[0],I[1]=A[1],I[2]=A[2],I[3]=A[3],I[4]=A[4],I[5]=A[5],I[6]=A[6],I[7]=A[7],I[8]=A[8],I[9]=A[9],I[10]=A[10],I[11]=A[11],I[12]=A[12],I[13]=A[13],I[14]=A[14],I[15]=A[15],I},a.clone$1=S,a.clone$2=function(A){var I=new Do(3);return I[0]=A[0],I[1]=A[1],I[2]=A[2],I},a.collisionCircleLayout=Rp,a.config=X,a.create=function(){var A=new Do(16);return Do!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=0,A[12]=0,A[13]=0,A[14]=0),A[0]=1,A[5]=1,A[10]=1,A[15]=1,A},a.create$1=function(){var A=new Do(9);return Do!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,A},a.create$2=function(){var A=new Do(4);return Do!=Float32Array&&(A[1]=0,A[2]=0),A[0]=1,A[3]=1,A},a.createCommonjsModule=T,a.createExpression=uo,a.createLayout=hi,a.createStyleLayer=function(A){return A.type==="custom"?new dd(A):new gd[A.type](A)},a.cross=function(A,I,Y){var se=I[0],Ae=I[1],Ce=I[2],Ne=Y[0],Ke=Y[1],st=Y[2];return A[0]=Ae*st-Ce*Ke,A[1]=Ce*Ne-se*st,A[2]=se*Ke-Ae*Ne,A},a.deepEqual=function A(I,Y){if(Array.isArray(I)){if(!Array.isArray(Y)||I.length!==Y.length)return!1;for(var se=0;se<I.length;se++)if(!A(I[se],Y[se]))return!1;return!0}if(typeof I=="object"&&I!==null&&Y!==null){if(typeof Y!="object"||Object.keys(I).length!==Object.keys(Y).length)return!1;for(var Ae in I)if(!A(I[Ae],Y[Ae]))return!1;return!0}return I===Y},a.dot=function(A,I){return A[0]*I[0]+A[1]*I[1]+A[2]*I[2]},a.dot$1=function(A,I){return A[0]*I[0]+A[1]*I[1]+A[2]*I[2]+A[3]*I[3]},a.ease=l,a.emitValidationErrors=aa,a.endsWith=x,a.enforceCacheSizeLimit=function(A){Ue(),he&&he.then(function(I){I.keys().then(function(Y){for(var se=0;se<Y.length-A;se++)I.delete(Y[se])})})},a.evaluateSizeForFeature=jf,a.evaluateSizeForZoom=Uf,a.evaluateVariableOffset=Kf,a.evented=sa,a.extend=c,a.featureFilter=_s,a.filterObject=h,a.fromRotation=function(A,I){var Y=Math.sin(I),se=Math.cos(I);return A[0]=se,A[1]=Y,A[2]=0,A[3]=-Y,A[4]=se,A[5]=0,A[6]=0,A[7]=0,A[8]=1,A},a.getAnchorAlignment=Fc,a.getAnchorJustification=jc,a.getArrayBuffer=Ot,a.getImage=Ge,a.getJSON=function(A,I){return Pt(c(A,{type:"json"}),I)},a.getRTLTextPluginStatus=us,a.getReferrer=$e,a.getVideo=function(A,I){var Y,se,Ae=r.document.createElement("video");Ae.muted=!0,Ae.onloadstart=function(){I(null,Ae)};for(var Ce=0;Ce<A.length;Ce++){var Ne=r.document.createElement("source");Y=A[Ce],se=void 0,(se=r.document.createElement("a")).href=Y,se.protocol===r.document.location.protocol&&se.host===r.document.location.host||(Ae.crossOrigin="Anonymous"),Ne.src=A[Ce],Ae.appendChild(Ne)}return{cancel:function(){}}},a.identity=Tc,a.invert=function(A,I){var Y=I[0],se=I[1],Ae=I[2],Ce=I[3],Ne=I[4],Ke=I[5],st=I[6],yt=I[7],wt=I[8],zt=I[9],Ut=I[10],Rt=I[11],tn=I[12],an=I[13],bn=I[14],mn=I[15],In=Y*Ke-se*Ne,Rn=Y*st-Ae*Ne,qn=Y*yt-Ce*Ne,Gn=se*st-Ae*Ke,rr=se*yt-Ce*Ke,dr=Ae*yt-Ce*st,hr=wt*an-zt*tn,yr=wt*bn-Ut*tn,br=wt*mn-Rt*tn,zr=zt*bn-Ut*an,Sr=zt*mn-Rt*an,Ir=Ut*mn-Rt*bn,Lr=In*Ir-Rn*Sr+qn*zr+Gn*br-rr*yr+dr*hr;return Lr?(Lr=1/Lr,A[0]=(Ke*Ir-st*Sr+yt*zr)*Lr,A[1]=(Ae*Sr-se*Ir-Ce*zr)*Lr,A[2]=(an*dr-bn*rr+mn*Gn)*Lr,A[3]=(Ut*rr-zt*dr-Rt*Gn)*Lr,A[4]=(st*br-Ne*Ir-yt*yr)*Lr,A[5]=(Y*Ir-Ae*br+Ce*yr)*Lr,A[6]=(bn*qn-tn*dr-mn*Rn)*Lr,A[7]=(wt*dr-Ut*qn+Rt*Rn)*Lr,A[8]=(Ne*Sr-Ke*br+yt*hr)*Lr,A[9]=(se*br-Y*Sr-Ce*hr)*Lr,A[10]=(tn*rr-an*qn+mn*In)*Lr,A[11]=(zt*qn-wt*rr-Rt*In)*Lr,A[12]=(Ke*yr-Ne*zr-st*hr)*Lr,A[13]=(Y*zr-se*yr+Ae*hr)*Lr,A[14]=(an*Rn-tn*Gn-bn*In)*Lr,A[15]=(wt*Gn-zt*Rn+Ut*In)*Lr,A):null},a.isChar=gr,a.isMapboxURL=de,a.keysDifference=function(A,I){var Y=[];for(var se in A)se in I||Y.push(se);return Y},a.makeRequest=Pt,a.mapObject=_,a.mercatorXfromLng=sh,a.mercatorYfromLat=lh,a.mercatorZfromAltitude=uh,a.mul=Wh,a.multiply=lf,a.mvt=jl,a.nextPowerOfTwo=function(A){return A<=1?1:Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},a.normalize=function(A,I){var Y=I[0],se=I[1],Ae=I[2],Ce=Y*Y+se*se+Ae*Ae;return Ce>0&&(Ce=1/Math.sqrt(Ce)),A[0]=I[0]*Ce,A[1]=I[1]*Ce,A[2]=I[2]*Ce,A},a.number=Or,a.offscreenCanvasSupported=mt,a.ortho=function(A,I,Y,se,Ae,Ce,Ne){var Ke=1/(I-Y),st=1/(se-Ae),yt=1/(Ce-Ne);return A[0]=-2*Ke,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=-2*st,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=2*yt,A[11]=0,A[12]=(I+Y)*Ke,A[13]=(Ae+se)*st,A[14]=(Ne+Ce)*yt,A[15]=1,A},a.parseGlyphPBF=function(A){return new Gu(A).readFields(Yp,[])},a.pbf=Gu,a.performSymbolLayout=function(A,I,Y,se,Ae,Ce,Ne){A.createArrays();var Ke=512*A.overscaling;A.tilePixelRatio=Zr/Ke,A.compareText={},A.iconsNeedLinear=!1;var st=A.layers[0].layout,yt=A.layers[0]._unevaluatedLayout._values,wt={};if(A.textSizeData.kind==="composite"){var zt=A.textSizeData,Ut=zt.minZoom,Rt=zt.maxZoom;wt.compositeTextSizes=[yt["text-size"].possiblyEvaluate(new Ur(Ut),Ne),yt["text-size"].possiblyEvaluate(new Ur(Rt),Ne)]}if(A.iconSizeData.kind==="composite"){var tn=A.iconSizeData,an=tn.minZoom,bn=tn.maxZoom;wt.compositeIconSizes=[yt["icon-size"].possiblyEvaluate(new Ur(an),Ne),yt["icon-size"].possiblyEvaluate(new Ur(bn),Ne)]}wt.layoutTextSize=yt["text-size"].possiblyEvaluate(new Ur(A.zoom+1),Ne),wt.layoutIconSize=yt["icon-size"].possiblyEvaluate(new Ur(A.zoom+1),Ne),wt.textMaxSize=yt["text-size"].possiblyEvaluate(new Ur(18));for(var mn=st.get("text-line-height")*ga,In=st.get("text-rotation-alignment")==="map"&&st.get("symbol-placement")!=="point",Rn=st.get("text-keep-upright"),qn=st.get("text-size"),Gn=function(){var hr=dr[rr],yr=st.get("text-font").evaluate(hr,{},Ne).join(","),br=qn.evaluate(hr,{},Ne),zr=wt.layoutTextSize.evaluate(hr,{},Ne),Sr=wt.layoutIconSize.evaluate(hr,{},Ne),Ir={horizontal:{},vertical:void 0},Lr=hr.text,Mr=[0,0];if(Lr){var Wr=Lr.toString(),Fr=st.get("text-letter-spacing").evaluate(hr,{},Ne)*ga,gi=function(Br){for(var Xr=0,Ni=Br;Xr<Ni.length;Xr+=1)if(di=Ni[Xr].charCodeAt(0),gr.Arabic(di)||gr["Arabic Supplement"](di)||gr["Arabic Extended-A"](di)||gr["Arabic Presentation Forms-A"](di)||gr["Arabic Presentation Forms-B"](di))return!1;var di;return!0}(Wr)?Fr:0,Pr=st.get("text-anchor").evaluate(hr,{},Ne),ci=st.get("text-variable-anchor");if(!ci){var _i=st.get("text-radial-offset").evaluate(hr,{},Ne);Mr=_i?Kf(Pr,[_i*ga,Nc]):st.get("text-offset").evaluate(hr,{},Ne).map(function(Br){return Br*ga})}var Mi=In?"center":st.get("text-justify").evaluate(hr,{},Ne),Si=st.get("symbol-placement"),vi=Si==="point"?st.get("text-max-width").evaluate(hr,{},Ne)*ga:0,Ji=function(){A.allowVerticalPlacement&&Ss(Wr)&&(Ir.vertical=Zu(Lr,I,Y,Ae,yr,vi,mn,Pr,"left",gi,Mr,Ro.vertical,!0,Si,zr,br))};if(!In&&ci){for(var Oi=Mi==="auto"?ci.map(function(Br){return jc(Br)}):[Mi],ca=!1,ka=0;ka<Oi.length;ka++){var va=Oi[ka];if(!Ir.horizontal[va])if(ca)Ir.horizontal[va]=Ir.horizontal[0];else{var Ga=Zu(Lr,I,Y,Ae,yr,vi,mn,"center",va,gi,Mr,Ro.horizontal,!1,Si,zr,br);Ga&&(Ir.horizontal[va]=Ga,ca=Ga.positionedLines.length===1)}}Ji()}else{Mi==="auto"&&(Mi=jc(Pr));var ma=Zu(Lr,I,Y,Ae,yr,vi,mn,Pr,Mi,gi,Mr,Ro.horizontal,!1,Si,zr,br);ma&&(Ir.horizontal[Mi]=ma),Ji(),Ss(Wr)&&In&&Rn&&(Ir.vertical=Zu(Lr,I,Y,Ae,yr,vi,mn,Pr,Mi,gi,Mr,Ro.vertical,!1,Si,zr,br))}}var ta=void 0,ya=!1;if(hr.icon&&hr.icon.name){var fa=se[hr.icon.name];fa&&(ta=function(Br,Xr,Ni){var di=Fc(Ni),zi=di.horizontalAlign,Ci=di.verticalAlign,Qr=Xr[0],ji=Xr[1],Wa=Qr-Br.displaySize[0]*zi,yo=Wa+Br.displaySize[0],Oa=ji-Br.displaySize[1]*Ci;return{image:Br,top:Oa,bottom:Oa+Br.displaySize[1],left:Wa,right:yo}}(Ae[hr.icon.name],st.get("icon-offset").evaluate(hr,{},Ne),st.get("icon-anchor").evaluate(hr,{},Ne)),ya=fa.sdf,A.sdfIcons===void 0?A.sdfIcons=fa.sdf:A.sdfIcons!==fa.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(fa.pixelRatio!==A.pixelRatio||st.get("icon-rotate").constantOr(1)!==0)&&(A.iconsNeedLinear=!0))}var na=$f(Ir.horizontal)||Ir.vertical;A.iconsInText=!!na&&na.iconsInText,(na||ta)&&function(Br,Xr,Ni,di,zi,Ci,Qr,ji,Wa,yo,Oa){var Is=Ci.textMaxSize.evaluate(Xr,{});Is===void 0&&(Is=Qr);var al,ha=Br.layers[0].layout,zs=ha.get("icon-offset").evaluate(Xr,{},Oa),gs=$f(Ni.horizontal),vs=24,Ol=Qr/vs,ic=Br.tilePixelRatio*Ol,Il=Br.tilePixelRatio*Is/vs,ac=Br.tilePixelRatio*ji,_u=Br.tilePixelRatio*ha.get("symbol-spacing"),Wc=ha.get("text-padding")*Br.tilePixelRatio,oc=ha.get("icon-padding")*Br.tilePixelRatio,Ql=ha.get("text-max-angle")/180*Math.PI,sc=ha.get("text-rotation-alignment")==="map"&&ha.get("symbol-placement")!=="point",lc=ha.get("icon-rotation-alignment")==="map"&&ha.get("symbol-placement")!=="point",wu=ha.get("symbol-placement"),Yc=_u/2,Tu=ha.get("icon-text-fit");di&&Tu!=="none"&&(Br.allowVerticalPlacement&&Ni.vertical&&(al=Nf(di,Ni.vertical,Tu,ha.get("icon-text-fit-padding"),zs,Ol)),gs&&(di=Nf(di,gs,Tu,ha.get("icon-text-fit-padding"),zs,Ol)));var zl=function(md,Lu){Lu.x<0||Lu.x>=Zr||Lu.y<0||Lu.y>=Zr||function(Gi,Ds,yd,bl,Qc,yh,pc,Xs,dc,Cu,gc,vc,ef,xh,Pu,bh,_h,wh,Th,kh,Fo,mc,Ah,Ks,xd){var Mh,Fl,nu,ru,iu,au=Gi.addToLineVertexArray(Ds,yd),Sh=0,Eh=0,Lh=0,Ch=0,tf=-1,nf=-1,ol={},Ph=vr(""),rf=0,af=0;if(Xs._unevaluatedLayout.getValue("text-radial-offset")===void 0?(rf=(Mh=Xs.layout.get("text-offset").evaluate(Fo,{},Ks).map(function(Iu){return Iu*ga}))[0],af=Mh[1]):(rf=Xs.layout.get("text-radial-offset").evaluate(Fo,{},Ks)*ga,af=Nc),Gi.allowVerticalPlacement&&bl.vertical){var Oh=Xs.layout.get("text-rotate").evaluate(Fo,{},Ks)+90,bd=bl.vertical;ru=new Qu(dc,Ds,Cu,gc,vc,bd,ef,xh,Pu,Oh),pc&&(iu=new Qu(dc,Ds,Cu,gc,vc,pc,_h,wh,Pu,Oh))}if(Qc){var of=Xs.layout.get("icon-rotate").evaluate(Fo,{}),Ih=Xs.layout.get("icon-text-fit")!=="none",zh=Zf(Qc,of,Ah,Ih),sf=pc?Zf(pc,of,Ah,Ih):void 0;nu=new Qu(dc,Ds,Cu,gc,vc,Qc,_h,wh,!1,of),Sh=4*zh.length;var Dh=Gi.iconSizeData,Ou=null;Dh.kind==="source"?(Ou=[Os*Xs.layout.get("icon-size").evaluate(Fo,{})])[0]>yl&&E(Gi.layerIds[0]+': Value for "icon-size" is >= '+yu+'. Reduce your "icon-size".'):Dh.kind==="composite"&&((Ou=[Os*mc.compositeIconSizes[0].evaluate(Fo,{},Ks),Os*mc.compositeIconSizes[1].evaluate(Fo,{},Ks)])[0]>yl||Ou[1]>yl)&&E(Gi.layerIds[0]+': Value for "icon-size" is >= '+yu+'. Reduce your "icon-size".'),Gi.addSymbols(Gi.icon,zh,Ou,kh,Th,Fo,!1,Ds,au.lineStartIndex,au.lineLength,-1,Ks),tf=Gi.icon.placedSymbolArray.length-1,sf&&(Eh=4*sf.length,Gi.addSymbols(Gi.icon,sf,Ou,kh,Th,Fo,Ro.vertical,Ds,au.lineStartIndex,au.lineLength,-1,Ks),nf=Gi.icon.placedSymbolArray.length-1)}for(var Rh in bl.horizontal){var yc=bl.horizontal[Rh];if(!Fl){Ph=vr(yc.text);var _d=Xs.layout.get("text-rotate").evaluate(Fo,{},Ks);Fl=new Qu(dc,Ds,Cu,gc,vc,yc,ef,xh,Pu,_d)}var Fh=yc.positionedLines.length===1;if(Lh+=Jf(Gi,Ds,yc,yh,Xs,Pu,Fo,bh,au,bl.vertical?Ro.horizontal:Ro.horizontalOnly,Fh?Object.keys(bl.horizontal):[Rh],ol,tf,mc,Ks),Fh)break}bl.vertical&&(Ch+=Jf(Gi,Ds,bl.vertical,yh,Xs,Pu,Fo,bh,au,Ro.vertical,["vertical"],ol,nf,mc,Ks));var wd=Fl?Fl.boxStartIndex:Gi.collisionBoxArray.length,Td=Fl?Fl.boxEndIndex:Gi.collisionBoxArray.length,kd=ru?ru.boxStartIndex:Gi.collisionBoxArray.length,Ad=ru?ru.boxEndIndex:Gi.collisionBoxArray.length,Md=nu?nu.boxStartIndex:Gi.collisionBoxArray.length,Sd=nu?nu.boxEndIndex:Gi.collisionBoxArray.length,Ed=iu?iu.boxStartIndex:Gi.collisionBoxArray.length,Ld=iu?iu.boxEndIndex:Gi.collisionBoxArray.length,Js=-1,xc=function(Iu,Nh){return Iu&&Iu.circleDiameter?Math.max(Iu.circleDiameter,Nh):Nh};Js=xc(Fl,Js),Js=xc(ru,Js),Js=xc(nu,Js);var Bh=(Js=xc(iu,Js))>-1?1:0;Bh&&(Js*=xd/ga),Gi.glyphOffsetArray.length>=ui.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Fo.sortKey!==void 0&&Gi.addToSortKeyRanges(Gi.symbolInstances.length,Fo.sortKey),Gi.symbolInstances.emplaceBack(Ds.x,Ds.y,ol.right>=0?ol.right:-1,ol.center>=0?ol.center:-1,ol.left>=0?ol.left:-1,ol.vertical||-1,tf,nf,Ph,wd,Td,kd,Ad,Md,Sd,Ed,Ld,Cu,Lh,Ch,Sh,Eh,Bh,0,ef,rf,af,Js)}(Br,Lu,md,Ni,di,zi,al,Br.layers[0],Br.collisionBoxArray,Xr.index,Xr.sourceLayerIndex,Br.index,ic,Wc,sc,Wa,ac,oc,lc,zs,Xr,Ci,yo,Oa,Qr)};if(wu==="line")for(var eu=0,uc=Yf(Xr.geometry,0,0,Zr,Zr);eu<uc.length;eu+=1)for(var cc=uc[eu],tu=0,fc=ed(cc,_u,Ql,Ni.vertical||gs,di,vs,Il,Br.overscaling,Zr);tu<fc.length;tu+=1){var hc=fc[tu];gs&&id(Br,gs.text,Yc,hc)||zl(cc,hc)}else if(wu==="line-center")for(var ku=0,Au=Xr.geometry;ku<Au.length;ku+=1){var Dl=Au[ku];if(Dl.length>1){var Mu=Qp(Dl,Ql,Ni.vertical||gs,di,vs,Il);Mu&&zl(Dl,Mu)}}else if(Xr.type==="Polygon")for(var Rl=0,Su=Cc(Xr.geometry,0);Rl<Su.length;Rl+=1){var Eu=Su[Rl],dh=nd(Eu,16);zl(Eu[0],new Hl(dh.x,dh.y,0))}else if(Xr.type==="LineString")for(var Zc=0,gh=Xr.geometry;Zc<gh.length;Zc+=1){var Xc=gh[Zc];zl(Xc,new Hl(Xc[0].x,Xc[0].y,0))}else if(Xr.type==="Point")for(var Kc=0,vh=Xr.geometry;Kc<vh.length;Kc+=1)for(var Jc=0,mh=vh[Kc];Jc<mh.length;Jc+=1){var $c=mh[Jc];zl([$c],new Hl($c.x,$c.y,0))}}(A,hr,Ir,ta,se,wt,zr,Sr,Mr,ya,Ne)},rr=0,dr=A.features;rr<dr.length;rr+=1)Gn();Ce&&A.generateCollisionDebugBuffers()},a.perspective=function(A,I,Y,se,Ae){var Ce,Ne=1/Math.tan(I/2);return A[0]=Ne/Y,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=Ne,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=-1,A[12]=0,A[13]=0,A[15]=0,Ae!=null&&Ae!==1/0?(Ce=1/(se-Ae),A[10]=(Ae+se)*Ce,A[14]=2*Ae*se*Ce):(A[10]=-1,A[14]=-2*se),A},a.pick=function(A,I){for(var Y={},se=0;se<I.length;se++){var Ae=I[se];Ae in A&&(Y[Ae]=A[Ae])}return Y},a.plugin=la,a.polygonIntersectsPolygon=Sl,a.postMapLoadEvent=xe,a.postTurnstileEvent=ze,a.potpack=zf,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=wr,a.registerForPluginStateChange=function(A){return A({pluginStatus:qr,pluginURL:qi}),sa.on("pluginStateChange",A),A},a.renderColorRamp=hf,a.rotate=function(A,I,Y){var se=I[0],Ae=I[1],Ce=I[2],Ne=I[3],Ke=Math.sin(Y),st=Math.cos(Y);return A[0]=se*st+Ce*Ke,A[1]=Ae*st+Ne*Ke,A[2]=se*-Ke+Ce*st,A[3]=Ae*-Ke+Ne*st,A},a.rotateX=function(A,I,Y){var se=Math.sin(Y),Ae=Math.cos(Y),Ce=I[4],Ne=I[5],Ke=I[6],st=I[7],yt=I[8],wt=I[9],zt=I[10],Ut=I[11];return I!==A&&(A[0]=I[0],A[1]=I[1],A[2]=I[2],A[3]=I[3],A[12]=I[12],A[13]=I[13],A[14]=I[14],A[15]=I[15]),A[4]=Ce*Ae+yt*se,A[5]=Ne*Ae+wt*se,A[6]=Ke*Ae+zt*se,A[7]=st*Ae+Ut*se,A[8]=yt*Ae-Ce*se,A[9]=wt*Ae-Ne*se,A[10]=zt*Ae-Ke*se,A[11]=Ut*Ae-st*se,A},a.rotateZ=function(A,I,Y){var se=Math.sin(Y),Ae=Math.cos(Y),Ce=I[0],Ne=I[1],Ke=I[2],st=I[3],yt=I[4],wt=I[5],zt=I[6],Ut=I[7];return I!==A&&(A[8]=I[8],A[9]=I[9],A[10]=I[10],A[11]=I[11],A[12]=I[12],A[13]=I[13],A[14]=I[14],A[15]=I[15]),A[0]=Ce*Ae+yt*se,A[1]=Ne*Ae+wt*se,A[2]=Ke*Ae+zt*se,A[3]=st*Ae+Ut*se,A[4]=yt*Ae-Ce*se,A[5]=wt*Ae-Ne*se,A[6]=zt*Ae-Ke*se,A[7]=Ut*Ae-st*se,A},a.scale=function(A,I,Y){var se=Y[0],Ae=Y[1],Ce=Y[2];return A[0]=I[0]*se,A[1]=I[1]*se,A[2]=I[2]*se,A[3]=I[3]*se,A[4]=I[4]*Ae,A[5]=I[5]*Ae,A[6]=I[6]*Ae,A[7]=I[7]*Ae,A[8]=I[8]*Ce,A[9]=I[9]*Ce,A[10]=I[10]*Ce,A[11]=I[11]*Ce,A[12]=I[12],A[13]=I[13],A[14]=I[14],A[15]=I[15],A},a.scale$1=function(A,I,Y){return A[0]=I[0]*Y,A[1]=I[1]*Y,A[2]=I[2]*Y,A[3]=I[3]*Y,A},a.scale$2=function(A,I,Y){return A[0]=I[0]*Y,A[1]=I[1]*Y,A[2]=I[2]*Y,A},a.setCacheLimits=function(A,I){Oe=A,De=I},a.setRTLTextPlugin=function(A,I,Y){if(Y===void 0&&(Y=!1),qr===$a||qr===Ca||qr===ho)throw new Error("setRTLTextPlugin cannot be called multiple times.");qi=Z.resolveURL(A),qr=$a,Io=I,Qa(),Y||cs()},a.sphericalToCartesian=function(A){var I=A[0],Y=A[1],se=A[2];return Y+=90,Y*=Math.PI/180,se*=Math.PI/180,{x:I*Math.cos(Y)*Math.sin(se),y:I*Math.sin(Y)*Math.sin(se),z:I*Math.cos(se)}},a.sqrLen=Zh,a.styleSpec=Ye,a.sub=Yh,a.symbolSize=$p,a.transformMat3=function(A,I,Y){var se=I[0],Ae=I[1],Ce=I[2];return A[0]=se*Y[0]+Ae*Y[3]+Ce*Y[6],A[1]=se*Y[1]+Ae*Y[4]+Ce*Y[7],A[2]=se*Y[2]+Ae*Y[5]+Ce*Y[8],A},a.transformMat4=ju,a.translate=function(A,I,Y){var se,Ae,Ce,Ne,Ke,st,yt,wt,zt,Ut,Rt,tn,an=Y[0],bn=Y[1],mn=Y[2];return I===A?(A[12]=I[0]*an+I[4]*bn+I[8]*mn+I[12],A[13]=I[1]*an+I[5]*bn+I[9]*mn+I[13],A[14]=I[2]*an+I[6]*bn+I[10]*mn+I[14],A[15]=I[3]*an+I[7]*bn+I[11]*mn+I[15]):(se=I[0],Ae=I[1],Ce=I[2],Ne=I[3],Ke=I[4],st=I[5],yt=I[6],wt=I[7],zt=I[8],Ut=I[9],Rt=I[10],tn=I[11],A[0]=se,A[1]=Ae,A[2]=Ce,A[3]=Ne,A[4]=Ke,A[5]=st,A[6]=yt,A[7]=wt,A[8]=zt,A[9]=Ut,A[10]=Rt,A[11]=tn,A[12]=se*an+Ke*bn+zt*mn+I[12],A[13]=Ae*an+st*bn+Ut*mn+I[13],A[14]=Ce*an+yt*bn+Rt*mn+I[14],A[15]=Ne*an+wt*bn+tn*mn+I[15]),A},a.triggerPluginCompletionEvent=oa,a.uniqueId=f,a.validateCustomStyleLayer=function(A){var I=[],Y=A.id;return Y===void 0&&I.push({message:"layers."+Y+': missing required property "id"'}),A.render===void 0&&I.push({message:"layers."+Y+': missing required method "render"'}),A.renderingMode&&A.renderingMode!=="2d"&&A.renderingMode!=="3d"&&I.push({message:"layers."+Y+': property "renderingMode" must be either "2d" or "3d"'}),I},a.validateLight=Xo,a.validateStyle=Ja,a.values=function(A){var I=[];for(var Y in A)I.push(A[Y]);return I},a.vectorTile=jl,a.version=b,a.warnOnce=E,a.webpSupported=Q,a.window=r,a.wrap=d}),k(0,function(a){function T(He){var We=typeof He;if(We==="number"||We==="boolean"||We==="string"||He==null)return JSON.stringify(He);if(Array.isArray(He)){for(var Be="[",Ge=0,at=He;Ge<at.length;Ge+=1)Be+=T(at[Ge])+",";return Be+"]"}for(var nt=Object.keys(He).sort(),Re="{",Fe=0;Fe<nt.length;Fe++)Re+=JSON.stringify(nt[Fe])+":"+T(He[nt[Fe]])+",";return Re+"}"}function b(He){for(var We="",Be=0,Ge=a.refProperties;Be<Ge.length;Be+=1)We+="/"+T(He[Ge[Be]]);return We}var g=function(He){this.keyCache={},He&&this.replace(He)};g.prototype.replace=function(He){this._layerConfigs={},this._layers={},this.update(He,[])},g.prototype.update=function(He,We){for(var Be=this,Ge=0,at=He;Ge<at.length;Ge+=1){var nt=at[Ge];this._layerConfigs[nt.id]=nt;var Re=this._layers[nt.id]=a.createStyleLayer(nt);Re._featureFilter=a.featureFilter(Re.filter),this.keyCache[nt.id]&&delete this.keyCache[nt.id]}for(var Fe=0,rt=We;Fe<rt.length;Fe+=1){var Ye=rt[Fe];delete this.keyCache[Ye],delete this._layerConfigs[Ye],delete this._layers[Ye]}this.familiesBySource={};for(var ct=0,ht=function(St,It){for(var Gt={},en=0;en<St.length;en++){var Nt=It&&It[St[en].id]||b(St[en]);It&&(It[St[en].id]=Nt);var jt=Gt[Nt];jt||(jt=Gt[Nt]=[]),jt.push(St[en])}var Jt=[];for(var An in Gt)Jt.push(Gt[An]);return Jt}(a.values(this._layerConfigs),this.keyCache);ct<ht.length;ct+=1){var dt=ht[ct].map(function(St){return Be._layers[St.id]}),ut=dt[0];if(ut.visibility!=="none"){var kt=ut.source||"",xt=this.familiesBySource[kt];xt||(xt=this.familiesBySource[kt]={});var vt=ut.sourceLayer||"_geojsonTileLayer",Mt=xt[vt];Mt||(Mt=xt[vt]=[]),Mt.push(dt)}}};var s=function(He){var We={},Be=[];for(var Ge in He){var at=He[Ge],nt=We[Ge]={};for(var Re in at){var Fe=at[+Re];if(Fe&&Fe.bitmap.width!==0&&Fe.bitmap.height!==0){var rt={x:0,y:0,w:Fe.bitmap.width+2,h:Fe.bitmap.height+2};Be.push(rt),nt[Re]={rect:rt,metrics:Fe.metrics}}}}var Ye=a.potpack(Be),ct=Ye.w,ht=Ye.h,dt=new a.AlphaImage({width:ct||1,height:ht||1});for(var ut in He){var kt=He[ut];for(var xt in kt){var vt=kt[+xt];if(vt&&vt.bitmap.width!==0&&vt.bitmap.height!==0){var Mt=We[ut][xt].rect;a.AlphaImage.copy(vt.bitmap,dt,{x:0,y:0},{x:Mt.x+1,y:Mt.y+1},vt.bitmap)}}}this.image=dt,this.positions=We};a.register("GlyphAtlas",s);var t=function(He){this.tileID=new a.OverscaledTileID(He.tileID.overscaledZ,He.tileID.wrap,He.tileID.canonical.z,He.tileID.canonical.x,He.tileID.canonical.y),this.uid=He.uid,this.zoom=He.zoom,this.pixelRatio=He.pixelRatio,this.tileSize=He.tileSize,this.source=He.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=He.showCollisionBoxes,this.collectResourceTiming=!!He.collectResourceTiming,this.returnDependencies=!!He.returnDependencies,this.promoteId=He.promoteId};function i(He,We,Be){for(var Ge=new a.EvaluationParameters(We),at=0,nt=He;at<nt.length;at+=1)nt[at].recalculate(Ge,Be)}function r(He,We){var Be=a.getArrayBuffer(He.request,function(Ge,at,nt,Re){Ge?We(Ge):at&&We(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(at)),rawData:at,cacheControl:nt,expires:Re})});return function(){Be.cancel(),We()}}t.prototype.parse=function(He,We,Be,Ge,at){var nt=this;this.status="parsing",this.data=He,this.collisionBoxArray=new a.CollisionBoxArray;var Re=new a.DictionaryCoder(Object.keys(He.layers).sort()),Fe=new a.FeatureIndex(this.tileID,this.promoteId);Fe.bucketLayerIDs=[];var rt,Ye,ct,ht,dt={},ut={featureIndex:Fe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Be},kt=We.familiesBySource[this.source];for(var xt in kt){var vt=He.layers[xt];if(vt){vt.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+xt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Mt=Re.encode(xt),St=[],It=0;It<vt.length;It++){var Gt=vt.feature(It),en=Fe.getId(Gt,xt);St.push({feature:Gt,id:en,index:It,sourceLayerIndex:Mt})}for(var Nt=0,jt=kt[xt];Nt<jt.length;Nt+=1){var Jt=jt[Nt],An=Jt[0];An.minzoom&&this.zoom<Math.floor(An.minzoom)||An.maxzoom&&this.zoom>=An.maxzoom||An.visibility!=="none"&&(i(Jt,this.zoom,Be),(dt[An.id]=An.createBucket({index:Fe.bucketLayerIDs.length,layers:Jt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Mt,sourceID:this.source})).populate(St,ut,this.tileID.canonical),Fe.bucketLayerIDs.push(Jt.map(function($t){return $t.id})))}}}var _n=a.mapObject(ut.glyphDependencies,function($t){return Object.keys($t).map(Number)});Object.keys(_n).length?Ge.send("getGlyphs",{uid:this.uid,stacks:_n},function($t,sn){rt||(rt=$t,Ye=sn,rn.call(nt))}):Ye={};var un=Object.keys(ut.iconDependencies);un.length?Ge.send("getImages",{icons:un,source:this.source,tileID:this.tileID,type:"icons"},function($t,sn){rt||(rt=$t,ct=sn,rn.call(nt))}):ct={};var Wt=Object.keys(ut.patternDependencies);function rn(){if(rt)return at(rt);if(Ye&&ct&&ht){var $t=new s(Ye),sn=new a.ImageAtlas(ct,ht);for(var xn in dt){var wn=dt[xn];wn instanceof a.SymbolBucket?(i(wn.layers,this.zoom,Be),a.performSymbolLayout(wn,Ye,$t.positions,ct,sn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):wn.hasPattern&&(wn instanceof a.LineBucket||wn instanceof a.FillBucket||wn instanceof a.FillExtrusionBucket)&&(i(wn.layers,this.zoom,Be),wn.addFeatures(ut,this.tileID.canonical,sn.patternPositions))}this.status="done",at(null,{buckets:a.values(dt).filter(function(Pn){return!Pn.isEmpty()}),featureIndex:Fe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:$t.image,imageAtlas:sn,glyphMap:this.returnDependencies?Ye:null,iconMap:this.returnDependencies?ct:null,glyphPositions:this.returnDependencies?$t.positions:null})}}Wt.length?Ge.send("getImages",{icons:Wt,source:this.source,tileID:this.tileID,type:"patterns"},function($t,sn){rt||(rt=$t,ht=sn,rn.call(nt))}):ht={},rn.call(this)};var n=function(He,We,Be,Ge){this.actor=He,this.layerIndex=We,this.availableImages=Be,this.loadVectorData=Ge||r,this.loading={},this.loaded={}};n.prototype.loadTile=function(He,We){var Be=this,Ge=He.uid;this.loading||(this.loading={});var at=!!(He&&He.request&&He.request.collectResourceTiming)&&new a.RequestPerformance(He.request),nt=this.loading[Ge]=new t(He);nt.abort=this.loadVectorData(He,function(Re,Fe){if(delete Be.loading[Ge],Re||!Fe)return nt.status="done",Be.loaded[Ge]=nt,We(Re);var rt=Fe.rawData,Ye={};Fe.expires&&(Ye.expires=Fe.expires),Fe.cacheControl&&(Ye.cacheControl=Fe.cacheControl);var ct={};if(at){var ht=at.finish();ht&&(ct.resourceTiming=JSON.parse(JSON.stringify(ht)))}nt.vectorTile=Fe.vectorTile,nt.parse(Fe.vectorTile,Be.layerIndex,Be.availableImages,Be.actor,function(dt,ut){if(dt||!ut)return We(dt);We(null,a.extend({rawTileData:rt.slice(0)},ut,Ye,ct))}),Be.loaded=Be.loaded||{},Be.loaded[Ge]=nt})},n.prototype.reloadTile=function(He,We){var Be=this,Ge=this.loaded,at=He.uid,nt=this;if(Ge&&Ge[at]){var Re=Ge[at];Re.showCollisionBoxes=He.showCollisionBoxes;var Fe=function(rt,Ye){var ct=Re.reloadCallback;ct&&(delete Re.reloadCallback,Re.parse(Re.vectorTile,nt.layerIndex,Be.availableImages,nt.actor,ct)),We(rt,Ye)};Re.status==="parsing"?Re.reloadCallback=Fe:Re.status==="done"&&(Re.vectorTile?Re.parse(Re.vectorTile,this.layerIndex,this.availableImages,this.actor,Fe):Fe())}},n.prototype.abortTile=function(He,We){var Be=this.loading,Ge=He.uid;Be&&Be[Ge]&&Be[Ge].abort&&(Be[Ge].abort(),delete Be[Ge]),We()},n.prototype.removeTile=function(He,We){var Be=this.loaded,Ge=He.uid;Be&&Be[Ge]&&delete Be[Ge],We()};var o=a.window.ImageBitmap,l=function(){this.loaded={}};l.prototype.loadTile=function(He,We){var Be=He.uid,Ge=He.encoding,at=He.rawImageData,nt=o&&at instanceof o?this.getImageData(at):at,Re=new a.DEMData(Be,nt,Ge);this.loaded=this.loaded||{},this.loaded[Be]=Re,We(null,Re)},l.prototype.getImageData=function(He){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(He.width,He.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=He.width,this.offscreenCanvas.height=He.height,this.offscreenCanvasContext.drawImage(He,0,0,He.width,He.height);var We=this.offscreenCanvasContext.getImageData(-1,-1,He.width+2,He.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:We.width,height:We.height},We.data)},l.prototype.removeTile=function(He){var We=this.loaded,Be=He.uid;We&&We[Be]&&delete We[Be]};var u=function He(We,Be){var Ge,at=We&&We.type;if(at==="FeatureCollection")for(Ge=0;Ge<We.features.length;Ge++)He(We.features[Ge],Be);else if(at==="GeometryCollection")for(Ge=0;Ge<We.geometries.length;Ge++)He(We.geometries[Ge],Be);else if(at==="Feature")He(We.geometry,Be);else if(at==="Polygon")d(We.coordinates,Be);else if(at==="MultiPolygon")for(Ge=0;Ge<We.coordinates.length;Ge++)d(We.coordinates[Ge],Be);return We};function d(He,We){if(He.length!==0){c(He[0],We);for(var Be=1;Be<He.length;Be++)c(He[Be],!We)}}function c(He,We){for(var Be=0,Ge=0,at=He.length,nt=at-1;Ge<at;nt=Ge++)Be+=(He[Ge][0]-He[nt][0])*(He[nt][1]+He[Ge][1]);Be>=0!=!!We&&He.reverse()}var m=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,f=function(He){this._feature=He,this.extent=a.EXTENT,this.type=He.type,this.properties=He.tags,"id"in He&&!isNaN(He.id)&&(this.id=parseInt(He.id,10))};f.prototype.loadGeometry=function(){if(this._feature.type===1){for(var He=[],We=0,Be=this._feature.geometry;We<Be.length;We+=1){var Ge=Be[We];He.push([new a.Point$1(Ge[0],Ge[1])])}return He}for(var at=[],nt=0,Re=this._feature.geometry;nt<Re.length;nt+=1){for(var Fe=[],rt=0,Ye=Re[nt];rt<Ye.length;rt+=1){var ct=Ye[rt];Fe.push(new a.Point$1(ct[0],ct[1]))}at.push(Fe)}return at},f.prototype.toGeoJSON=function(He,We,Be){return m.call(this,He,We,Be)};var p=function(He){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=He.length,this._features=He};p.prototype.feature=function(He){return new f(this._features[He])};var v=a.vectorTile.VectorTileFeature,y=x;function x(He,We){this.options=We||{},this.features=He,this.length=He.length}function _(He,We){this.id=typeof He.id=="number"?He.id:void 0,this.type=He.type,this.rawGeometry=He.type===1?[He.geometry]:He.geometry,this.properties=He.tags,this.extent=We||4096}x.prototype.feature=function(He){return new _(this.features[He],this.options.extent)},_.prototype.loadGeometry=function(){var He=this.rawGeometry;this.geometry=[];for(var We=0;We<He.length;We++){for(var Be=He[We],Ge=[],at=0;at<Be.length;at++)Ge.push(new a.Point$1(Be[at][0],Be[at][1]));this.geometry.push(Ge)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var He=this.geometry,We=1/0,Be=-1/0,Ge=1/0,at=-1/0,nt=0;nt<He.length;nt++)for(var Re=He[nt],Fe=0;Fe<Re.length;Fe++){var rt=Re[Fe];We=Math.min(We,rt.x),Be=Math.max(Be,rt.x),Ge=Math.min(Ge,rt.y),at=Math.max(at,rt.y)}return[We,Ge,Be,at]},_.prototype.toGeoJSON=v.prototype.toGeoJSON;var h=C,S=C,w=function(He,We){We=We||{};var Be={};for(var Ge in He)Be[Ge]=new y(He[Ge].features,We),Be[Ge].name=Ge,Be[Ge].version=We.version,Be[Ge].extent=We.extent;return C({layers:Be})},E=y;function C(He){var We=new a.pbf;return function(Be,Ge){for(var at in Be.layers)Ge.writeMessage(3,P,Be.layers[at])}(He,We),We.finish()}function P(He,We){var Be;We.writeVarintField(15,He.version||1),We.writeStringField(1,He.name||""),We.writeVarintField(5,He.extent||4096);var Ge={keys:[],values:[],keycache:{},valuecache:{}};for(Be=0;Be<He.length;Be++)Ge.feature=He.feature(Be),We.writeMessage(2,O,Ge);var at=Ge.keys;for(Be=0;Be<at.length;Be++)We.writeStringField(3,at[Be]);var nt=Ge.values;for(Be=0;Be<nt.length;Be++)We.writeMessage(4,W,nt[Be])}function O(He,We){var Be=He.feature;Be.id!==void 0&&We.writeVarintField(1,Be.id),We.writeMessage(2,R,He),We.writeVarintField(3,Be.type),We.writeMessage(4,N,Be)}function R(He,We){var Be=He.feature,Ge=He.keys,at=He.values,nt=He.keycache,Re=He.valuecache;for(var Fe in Be.properties){var rt=nt[Fe];rt===void 0&&(Ge.push(Fe),rt=Ge.length-1,nt[Fe]=rt),We.writeVarint(rt);var Ye=Be.properties[Fe],ct=typeof Ye;ct!=="string"&&ct!=="boolean"&&ct!=="number"&&(Ye=JSON.stringify(Ye));var ht=ct+":"+Ye,dt=Re[ht];dt===void 0&&(at.push(Ye),dt=at.length-1,Re[ht]=dt),We.writeVarint(dt)}}function U(He,We){return(We<<3)+(7&He)}function z(He){return He<<1^He>>31}function N(He,We){for(var Be=He.loadGeometry(),Ge=He.type,at=0,nt=0,Re=Be.length,Fe=0;Fe<Re;Fe++){var rt=Be[Fe],Ye=1;Ge===1&&(Ye=rt.length),We.writeVarint(U(1,Ye));for(var ct=Ge===3?rt.length-1:rt.length,ht=0;ht<ct;ht++){ht===1&&Ge!==1&&We.writeVarint(U(2,ct-1));var dt=rt[ht].x-at,ut=rt[ht].y-nt;We.writeVarint(z(dt)),We.writeVarint(z(ut)),at+=dt,nt+=ut}Ge===3&&We.writeVarint(U(7,1))}}function W(He,We){var Be=typeof He;Be==="string"?We.writeStringField(1,He):Be==="boolean"?We.writeBooleanField(7,He):Be==="number"&&(He%1!=0?We.writeDoubleField(3,He):He<0?We.writeSVarintField(6,He):We.writeVarintField(5,He))}function F(He,We,Be,Ge,at,nt){if(!(at-Ge<=Be)){var Re=Ge+at>>1;V(He,We,Re,Ge,at,nt%2),F(He,We,Be,Ge,Re-1,nt+1),F(He,We,Be,Re+1,at,nt+1)}}function V(He,We,Be,Ge,at,nt){for(;at>Ge;){if(at-Ge>600){var Re=at-Ge+1,Fe=Be-Ge+1,rt=Math.log(Re),Ye=.5*Math.exp(2*rt/3),ct=.5*Math.sqrt(rt*Ye*(Re-Ye)/Re)*(Fe-Re/2<0?-1:1);V(He,We,Be,Math.max(Ge,Math.floor(Be-Fe*Ye/Re+ct)),Math.min(at,Math.floor(Be+(Re-Fe)*Ye/Re+ct)),nt)}var ht=We[2*Be+nt],dt=Ge,ut=at;for(j(He,We,Ge,Be),We[2*at+nt]>ht&&j(He,We,Ge,at);dt<ut;){for(j(He,We,dt,ut),dt++,ut--;We[2*dt+nt]<ht;)dt++;for(;We[2*ut+nt]>ht;)ut--}We[2*Ge+nt]===ht?j(He,We,Ge,ut):j(He,We,++ut,at),ut<=Be&&(Ge=ut+1),Be<=ut&&(at=ut-1)}}function j(He,We,Be,Ge){te(He,Be,Ge),te(We,2*Be,2*Ge),te(We,2*Be+1,2*Ge+1)}function te(He,We,Be){var Ge=He[We];He[We]=He[Be],He[Be]=Ge}function J(He,We,Be,Ge){var at=He-Be,nt=We-Ge;return at*at+nt*nt}h.fromVectorTileJs=S,h.fromGeojsonVt=w,h.GeoJSONWrapper=E;var K=function(He){return He[0]},Z=function(He){return He[1]},X=function(He,We,Be,Ge,at){We===void 0&&(We=K),Be===void 0&&(Be=Z),Ge===void 0&&(Ge=64),at===void 0&&(at=Float64Array),this.nodeSize=Ge,this.points=He;for(var nt=He.length<65536?Uint16Array:Uint32Array,Re=this.ids=new nt(He.length),Fe=this.coords=new at(2*He.length),rt=0;rt<He.length;rt++)Re[rt]=rt,Fe[2*rt]=We(He[rt]),Fe[2*rt+1]=Be(He[rt]);F(Re,Fe,Ge,0,Re.length-1,0)};X.prototype.range=function(He,We,Be,Ge){return function(at,nt,Re,Fe,rt,Ye,ct){for(var ht,dt,ut=[0,at.length-1,0],kt=[];ut.length;){var xt=ut.pop(),vt=ut.pop(),Mt=ut.pop();if(vt-Mt<=ct)for(var St=Mt;St<=vt;St++)ht=nt[2*St],dt=nt[2*St+1],ht>=Re&&ht<=rt&&dt>=Fe&&dt<=Ye&&kt.push(at[St]);else{var It=Math.floor((Mt+vt)/2);ht=nt[2*It],dt=nt[2*It+1],ht>=Re&&ht<=rt&&dt>=Fe&&dt<=Ye&&kt.push(at[It]);var Gt=(xt+1)%2;(xt===0?Re<=ht:Fe<=dt)&&(ut.push(Mt),ut.push(It-1),ut.push(Gt)),(xt===0?rt>=ht:Ye>=dt)&&(ut.push(It+1),ut.push(vt),ut.push(Gt))}}return kt}(this.ids,this.coords,He,We,Be,Ge,this.nodeSize)},X.prototype.within=function(He,We,Be){return function(Ge,at,nt,Re,Fe,rt){for(var Ye=[0,Ge.length-1,0],ct=[],ht=Fe*Fe;Ye.length;){var dt=Ye.pop(),ut=Ye.pop(),kt=Ye.pop();if(ut-kt<=rt)for(var xt=kt;xt<=ut;xt++)J(at[2*xt],at[2*xt+1],nt,Re)<=ht&&ct.push(Ge[xt]);else{var vt=Math.floor((kt+ut)/2),Mt=at[2*vt],St=at[2*vt+1];J(Mt,St,nt,Re)<=ht&&ct.push(Ge[vt]);var It=(dt+1)%2;(dt===0?nt-Fe<=Mt:Re-Fe<=St)&&(Ye.push(kt),Ye.push(vt-1),Ye.push(It)),(dt===0?nt+Fe>=Mt:Re+Fe>=St)&&(Ye.push(vt+1),Ye.push(ut),Ye.push(It))}}return ct}(this.ids,this.coords,He,We,Be,this.nodeSize)};var Q={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(He){return He}},re=function(He){this.options=be(Object.create(Q),He),this.trees=new Array(this.options.maxZoom+1)};function ae(He,We,Be,Ge,at){return{x:He,y:We,zoom:1/0,id:Be,parentId:-1,numPoints:Ge,properties:at}}function ie(He,We){var Be=He.geometry.coordinates,Ge=Be[0],at=Be[1];return{x:de(Ge),y:ve(at),zoom:1/0,index:We,parentId:-1}}function le(He){return{type:"Feature",id:He.id,properties:pe(He),geometry:{type:"Point",coordinates:[(Ge=He.x,360*(Ge-.5)),(We=He.y,Be=(180-360*We)*Math.PI/180,360*Math.atan(Math.exp(Be))/Math.PI-90)]}};var We,Be,Ge}function pe(He){var We=He.numPoints,Be=We>=1e4?Math.round(We/1e3)+"k":We>=1e3?Math.round(We/100)/10+"k":We;return be(be({},He.properties),{cluster:!0,cluster_id:He.id,point_count:We,point_count_abbreviated:Be})}function de(He){return He/360+.5}function ve(He){var We=Math.sin(He*Math.PI/180),Be=.5-.25*Math.log((1+We)/(1-We))/Math.PI;return Be<0?0:Be>1?1:Be}function be(He,We){for(var Be in We)He[Be]=We[Be];return He}function me(He){return He.x}function ge(He){return He.y}function ke(He,We,Be,Ge){for(var at,nt=Ge,Re=Be-We>>1,Fe=Be-We,rt=He[We],Ye=He[We+1],ct=He[Be],ht=He[Be+1],dt=We+3;dt<Be;dt+=3){var ut=we(He[dt],He[dt+1],rt,Ye,ct,ht);if(ut>nt)at=dt,nt=ut;else if(ut===nt){var kt=Math.abs(dt-Re);kt<Fe&&(at=dt,Fe=kt)}}nt>Ge&&(at-We>3&&ke(He,We,at,Ge),He[at+2]=nt,Be-at>3&&ke(He,at,Be,Ge))}function we(He,We,Be,Ge,at,nt){var Re=at-Be,Fe=nt-Ge;if(Re!==0||Fe!==0){var rt=((He-Be)*Re+(We-Ge)*Fe)/(Re*Re+Fe*Fe);rt>1?(Be=at,Ge=nt):rt>0&&(Be+=Re*rt,Ge+=Fe*rt)}return(Re=He-Be)*Re+(Fe=We-Ge)*Fe}function ue(He,We,Be,Ge){var at={id:He===void 0?null:He,type:We,geometry:Be,tags:Ge,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(nt){var Re=nt.geometry,Fe=nt.type;if(Fe==="Point"||Fe==="MultiPoint"||Fe==="LineString")oe(nt,Re);else if(Fe==="Polygon"||Fe==="MultiLineString")for(var rt=0;rt<Re.length;rt++)oe(nt,Re[rt]);else if(Fe==="MultiPolygon")for(rt=0;rt<Re.length;rt++)for(var Ye=0;Ye<Re[rt].length;Ye++)oe(nt,Re[rt][Ye])}(at),at}function oe(He,We){for(var Be=0;Be<We.length;Be+=3)He.minX=Math.min(He.minX,We[Be]),He.minY=Math.min(He.minY,We[Be+1]),He.maxX=Math.max(He.maxX,We[Be]),He.maxY=Math.max(He.maxY,We[Be+1])}function he(He,We,Be,Ge){if(We.geometry){var at=We.geometry.coordinates,nt=We.geometry.type,Re=Math.pow(Be.tolerance/((1<<Be.maxZoom)*Be.extent),2),Fe=[],rt=We.id;if(Be.promoteId?rt=We.properties[Be.promoteId]:Be.generateId&&(rt=Ge||0),nt==="Point")Ee(at,Fe);else if(nt==="MultiPoint")for(var Ye=0;Ye<at.length;Ye++)Ee(at[Ye],Fe);else if(nt==="LineString")Te(at,Fe,Re,!1);else if(nt==="MultiLineString"){if(Be.lineMetrics){for(Ye=0;Ye<at.length;Ye++)Fe=[],Te(at[Ye],Fe,Re,!1),He.push(ue(rt,"LineString",Fe,We.properties));return}Me(at,Fe,Re,!1)}else if(nt==="Polygon")Me(at,Fe,Re,!0);else{if(nt!=="MultiPolygon"){if(nt==="GeometryCollection"){for(Ye=0;Ye<We.geometry.geometries.length;Ye++)he(He,{id:rt,geometry:We.geometry.geometries[Ye],properties:We.properties},Be,Ge);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ye=0;Ye<at.length;Ye++){var ct=[];Me(at[Ye],ct,Re,!0),Fe.push(ct)}}He.push(ue(rt,nt,Fe,We.properties))}}function Ee(He,We){We.push(Se(He[0])),We.push(ze(He[1])),We.push(0)}function Te(He,We,Be,Ge){for(var at,nt,Re=0,Fe=0;Fe<He.length;Fe++){var rt=Se(He[Fe][0]),Ye=ze(He[Fe][1]);We.push(rt),We.push(Ye),We.push(0),Fe>0&&(Re+=Ge?(at*Ye-rt*nt)/2:Math.sqrt(Math.pow(rt-at,2)+Math.pow(Ye-nt,2))),at=rt,nt=Ye}var ct=We.length-3;We[2]=1,ke(We,0,ct,Be),We[ct+2]=1,We.size=Math.abs(Re),We.start=0,We.end=We.size}function Me(He,We,Be,Ge){for(var at=0;at<He.length;at++){var nt=[];Te(He[at],nt,Be,Ge),We.push(nt)}}function Se(He){return He/360+.5}function ze(He){var We=Math.sin(He*Math.PI/180),Be=.5-.25*Math.log((1+We)/(1-We))/Math.PI;return Be<0?0:Be>1?1:Be}function fe(He,We,Be,Ge,at,nt,Re,Fe){if(Ge/=We,nt>=(Be/=We)&&Re<Ge)return He;if(Re<Be||nt>=Ge)return null;for(var rt=[],Ye=0;Ye<He.length;Ye++){var ct=He[Ye],ht=ct.geometry,dt=ct.type,ut=at===0?ct.minX:ct.minY,kt=at===0?ct.maxX:ct.maxY;if(ut>=Be&&kt<Ge)rt.push(ct);else if(!(kt<Be||ut>=Ge)){var xt=[];if(dt==="Point"||dt==="MultiPoint")xe(ht,xt,Be,Ge,at);else if(dt==="LineString")_e(ht,xt,Be,Ge,at,!1,Fe.lineMetrics);else if(dt==="MultiLineString")De(ht,xt,Be,Ge,at,!1);else if(dt==="Polygon")De(ht,xt,Be,Ge,at,!0);else if(dt==="MultiPolygon")for(var vt=0;vt<ht.length;vt++){var Mt=[];De(ht[vt],Mt,Be,Ge,at,!0),Mt.length&&xt.push(Mt)}if(xt.length){if(Fe.lineMetrics&&dt==="LineString"){for(vt=0;vt<xt.length;vt++)rt.push(ue(ct.id,dt,xt[vt],ct.tags));continue}dt!=="LineString"&&dt!=="MultiLineString"||(xt.length===1?(dt="LineString",xt=xt[0]):dt="MultiLineString"),dt!=="Point"&&dt!=="MultiPoint"||(dt=xt.length===3?"Point":"MultiPoint"),rt.push(ue(ct.id,dt,xt,ct.tags))}}}return rt.length?rt:null}function xe(He,We,Be,Ge,at){for(var nt=0;nt<He.length;nt+=3){var Re=He[nt+at];Re>=Be&&Re<=Ge&&(We.push(He[nt]),We.push(He[nt+1]),We.push(He[nt+2]))}}function _e(He,We,Be,Ge,at,nt,Re){for(var Fe,rt,Ye=Oe(He),ct=at===0?Ue:Ve,ht=He.start,dt=0;dt<He.length-3;dt+=3){var ut=He[dt],kt=He[dt+1],xt=He[dt+2],vt=He[dt+3],Mt=He[dt+4],St=at===0?ut:kt,It=at===0?vt:Mt,Gt=!1;Re&&(Fe=Math.sqrt(Math.pow(ut-vt,2)+Math.pow(kt-Mt,2))),St<Be?It>Be&&(rt=ct(Ye,ut,kt,vt,Mt,Be),Re&&(Ye.start=ht+Fe*rt)):St>Ge?It<Ge&&(rt=ct(Ye,ut,kt,vt,Mt,Ge),Re&&(Ye.start=ht+Fe*rt)):Pe(Ye,ut,kt,xt),It<Be&&St>=Be&&(rt=ct(Ye,ut,kt,vt,Mt,Be),Gt=!0),It>Ge&&St<=Ge&&(rt=ct(Ye,ut,kt,vt,Mt,Ge),Gt=!0),!nt&&Gt&&(Re&&(Ye.end=ht+Fe*rt),We.push(Ye),Ye=Oe(He)),Re&&(ht+=Fe)}var en=He.length-3;ut=He[en],kt=He[en+1],xt=He[en+2],(St=at===0?ut:kt)>=Be&&St<=Ge&&Pe(Ye,ut,kt,xt),en=Ye.length-3,nt&&en>=3&&(Ye[en]!==Ye[0]||Ye[en+1]!==Ye[1])&&Pe(Ye,Ye[0],Ye[1],Ye[2]),Ye.length&&We.push(Ye)}function Oe(He){var We=[];return We.size=He.size,We.start=He.start,We.end=He.end,We}function De(He,We,Be,Ge,at,nt){for(var Re=0;Re<He.length;Re++)_e(He[Re],We,Be,Ge,at,nt,!1)}function Pe(He,We,Be,Ge){He.push(We),He.push(Be),He.push(Ge)}function Ue(He,We,Be,Ge,at,nt){var Re=(nt-We)/(Ge-We);return He.push(nt),He.push(Be+(at-Be)*Re),He.push(1),Re}function Ve(He,We,Be,Ge,at,nt){var Re=(nt-Be)/(at-Be);return He.push(We+(Ge-We)*Re),He.push(nt),He.push(1),Re}function Xe(He,We){for(var Be=[],Ge=0;Ge<He.length;Ge++){var at,nt=He[Ge],Re=nt.type;if(Re==="Point"||Re==="MultiPoint"||Re==="LineString")at=it(nt.geometry,We);else if(Re==="MultiLineString"||Re==="Polygon"){at=[];for(var Fe=0;Fe<nt.geometry.length;Fe++)at.push(it(nt.geometry[Fe],We))}else if(Re==="MultiPolygon")for(at=[],Fe=0;Fe<nt.geometry.length;Fe++){for(var rt=[],Ye=0;Ye<nt.geometry[Fe].length;Ye++)rt.push(it(nt.geometry[Fe][Ye],We));at.push(rt)}Be.push(ue(nt.id,Re,at,nt.tags))}return Be}function it(He,We){var Be=[];Be.size=He.size,He.start!==void 0&&(Be.start=He.start,Be.end=He.end);for(var Ge=0;Ge<He.length;Ge+=3)Be.push(He[Ge]+We,He[Ge+1],He[Ge+2]);return Be}function tt(He,We){if(He.transformed)return He;var Be,Ge,at,nt=1<<He.z,Re=He.x,Fe=He.y;for(Be=0;Be<He.features.length;Be++){var rt=He.features[Be],Ye=rt.geometry,ct=rt.type;if(rt.geometry=[],ct===1)for(Ge=0;Ge<Ye.length;Ge+=2)rt.geometry.push(pt(Ye[Ge],Ye[Ge+1],We,nt,Re,Fe));else for(Ge=0;Ge<Ye.length;Ge++){var ht=[];for(at=0;at<Ye[Ge].length;at+=2)ht.push(pt(Ye[Ge][at],Ye[Ge][at+1],We,nt,Re,Fe));rt.geometry.push(ht)}}return He.transformed=!0,He}function pt(He,We,Be,Ge,at,nt){return[Math.round(Be*(He*Ge-at)),Math.round(Be*(We*Ge-nt))]}function mt(He,We,Be,Ge,at){for(var nt=We===at.maxZoom?0:at.tolerance/((1<<We)*at.extent),Re={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Be,y:Ge,z:We,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Fe=0;Fe<He.length;Fe++){Re.numFeatures++,gt(Re,He[Fe],nt,at);var rt=He[Fe].minX,Ye=He[Fe].minY,ct=He[Fe].maxX,ht=He[Fe].maxY;rt<Re.minX&&(Re.minX=rt),Ye<Re.minY&&(Re.minY=Ye),ct>Re.maxX&&(Re.maxX=ct),ht>Re.maxY&&(Re.maxY=ht)}return Re}function gt(He,We,Be,Ge){var at=We.geometry,nt=We.type,Re=[];if(nt==="Point"||nt==="MultiPoint")for(var Fe=0;Fe<at.length;Fe+=3)Re.push(at[Fe]),Re.push(at[Fe+1]),He.numPoints++,He.numSimplified++;else if(nt==="LineString")et(Re,at,He,Be,!1,!1);else if(nt==="MultiLineString"||nt==="Polygon")for(Fe=0;Fe<at.length;Fe++)et(Re,at[Fe],He,Be,nt==="Polygon",Fe===0);else if(nt==="MultiPolygon")for(var rt=0;rt<at.length;rt++){var Ye=at[rt];for(Fe=0;Fe<Ye.length;Fe++)et(Re,Ye[Fe],He,Be,!0,Fe===0)}if(Re.length){var ct=We.tags||null;if(nt==="LineString"&&Ge.lineMetrics){for(var ht in ct={},We.tags)ct[ht]=We.tags[ht];ct.mapbox_clip_start=at.start/at.size,ct.mapbox_clip_end=at.end/at.size}var dt={geometry:Re,type:nt==="Polygon"||nt==="MultiPolygon"?3:nt==="LineString"||nt==="MultiLineString"?2:1,tags:ct};We.id!==null&&(dt.id=We.id),He.features.push(dt)}}function et(He,We,Be,Ge,at,nt){var Re=Ge*Ge;if(Ge>0&&We.size<(at?Re:Ge))Be.numPoints+=We.length/3;else{for(var Fe=[],rt=0;rt<We.length;rt+=3)(Ge===0||We[rt+2]>Re)&&(Be.numSimplified++,Fe.push(We[rt]),Fe.push(We[rt+1])),Be.numPoints++;at&&function(Ye,ct){for(var ht=0,dt=0,ut=Ye.length,kt=ut-2;dt<ut;kt=dt,dt+=2)ht+=(Ye[dt]-Ye[kt])*(Ye[dt+1]+Ye[kt+1]);if(ht>0===ct)for(dt=0,ut=Ye.length;dt<ut/2;dt+=2){var xt=Ye[dt],vt=Ye[dt+1];Ye[dt]=Ye[ut-2-dt],Ye[dt+1]=Ye[ut-1-dt],Ye[ut-2-dt]=xt,Ye[ut-1-dt]=vt}}(Fe,nt),He.push(Fe)}}function $e(He,We){var Be=(We=this.options=function(at,nt){for(var Re in nt)at[Re]=nt[Re];return at}(Object.create(this.options),We)).debug;if(Be&&console.time("preprocess data"),We.maxZoom<0||We.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(We.promoteId&&We.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ge=function(at,nt){var Re=[];if(at.type==="FeatureCollection")for(var Fe=0;Fe<at.features.length;Fe++)he(Re,at.features[Fe],nt,Fe);else at.type==="Feature"?he(Re,at,nt):he(Re,{geometry:at},nt);return Re}(He,We);this.tiles={},this.tileCoords=[],Be&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",We.indexMaxZoom,We.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ge=function(at,nt){var Re=nt.buffer/nt.extent,Fe=at,rt=fe(at,1,-1-Re,Re,0,-1,2,nt),Ye=fe(at,1,1-Re,2+Re,0,-1,2,nt);return(rt||Ye)&&(Fe=fe(at,1,-Re,1+Re,0,-1,2,nt)||[],rt&&(Fe=Xe(rt,1).concat(Fe)),Ye&&(Fe=Fe.concat(Xe(Ye,-1)))),Fe}(Ge,We)).length&&this.splitTile(Ge,0,0,0),Be&&(Ge.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function _t(He,We,Be){return 32*((1<<He)*Be+We)+He}function Pt(He,We){var Be=He.tileID.canonical;if(!this._geoJSONIndex)return We(null,null);var Ge=this._geoJSONIndex.getTile(Be.z,Be.x,Be.y);if(!Ge)return We(null,null);var at=new p(Ge.features),nt=h(at);nt.byteOffset===0&&nt.byteLength===nt.buffer.byteLength||(nt=new Uint8Array(nt)),We(null,{vectorTile:at,rawData:nt.buffer})}re.prototype.load=function(He){var We=this.options,Be=We.log,Ge=We.minZoom,at=We.maxZoom,nt=We.nodeSize;Be&&console.time("total time");var Re="prepare "+He.length+" points";Be&&console.time(Re),this.points=He;for(var Fe=[],rt=0;rt<He.length;rt++)He[rt].geometry&&Fe.push(ie(He[rt],rt));this.trees[at+1]=new X(Fe,me,ge,nt,Float32Array),Be&&console.timeEnd(Re);for(var Ye=at;Ye>=Ge;Ye--){var ct=+Date.now();Fe=this._cluster(Fe,Ye),this.trees[Ye]=new X(Fe,me,ge,nt,Float32Array),Be&&console.log("z%d: %d clusters in %dms",Ye,Fe.length,+Date.now()-ct)}return Be&&console.timeEnd("total time"),this},re.prototype.getClusters=function(He,We){var Be=((He[0]+180)%360+360)%360-180,Ge=Math.max(-90,Math.min(90,He[1])),at=He[2]===180?180:((He[2]+180)%360+360)%360-180,nt=Math.max(-90,Math.min(90,He[3]));if(He[2]-He[0]>=360)Be=-180,at=180;else if(Be>at){var Re=this.getClusters([Be,Ge,180,nt],We),Fe=this.getClusters([-180,Ge,at,nt],We);return Re.concat(Fe)}for(var rt=this.trees[this._limitZoom(We)],Ye=[],ct=0,ht=rt.range(de(Be),ve(nt),de(at),ve(Ge));ct<ht.length;ct+=1){var dt=ht[ct],ut=rt.points[dt];Ye.push(ut.numPoints?le(ut):this.points[ut.index])}return Ye},re.prototype.getChildren=function(He){var We=this._getOriginId(He),Be=this._getOriginZoom(He),Ge="No cluster with the specified id.",at=this.trees[Be];if(!at)throw new Error(Ge);var nt=at.points[We];if(!nt)throw new Error(Ge);for(var Re=this.options.radius/(this.options.extent*Math.pow(2,Be-1)),Fe=[],rt=0,Ye=at.within(nt.x,nt.y,Re);rt<Ye.length;rt+=1){var ct=Ye[rt],ht=at.points[ct];ht.parentId===He&&Fe.push(ht.numPoints?le(ht):this.points[ht.index])}if(Fe.length===0)throw new Error(Ge);return Fe},re.prototype.getLeaves=function(He,We,Be){We=We||10,Be=Be||0;var Ge=[];return this._appendLeaves(Ge,He,We,Be,0),Ge},re.prototype.getTile=function(He,We,Be){var Ge=this.trees[this._limitZoom(He)],at=Math.pow(2,He),nt=this.options,Re=nt.extent,Fe=nt.radius/Re,rt=(Be-Fe)/at,Ye=(Be+1+Fe)/at,ct={features:[]};return this._addTileFeatures(Ge.range((We-Fe)/at,rt,(We+1+Fe)/at,Ye),Ge.points,We,Be,at,ct),We===0&&this._addTileFeatures(Ge.range(1-Fe/at,rt,1,Ye),Ge.points,at,Be,at,ct),We===at-1&&this._addTileFeatures(Ge.range(0,rt,Fe/at,Ye),Ge.points,-1,Be,at,ct),ct.features.length?ct:null},re.prototype.getClusterExpansionZoom=function(He){for(var We=this._getOriginZoom(He)-1;We<=this.options.maxZoom;){var Be=this.getChildren(He);if(We++,Be.length!==1)break;He=Be[0].properties.cluster_id}return We},re.prototype._appendLeaves=function(He,We,Be,Ge,at){for(var nt=0,Re=this.getChildren(We);nt<Re.length;nt+=1){var Fe=Re[nt],rt=Fe.properties;if(rt&&rt.cluster?at+rt.point_count<=Ge?at+=rt.point_count:at=this._appendLeaves(He,rt.cluster_id,Be,Ge,at):at<Ge?at++:He.push(Fe),He.length===Be)break}return at},re.prototype._addTileFeatures=function(He,We,Be,Ge,at,nt){for(var Re=0,Fe=He;Re<Fe.length;Re+=1){var rt=We[Fe[Re]],Ye=rt.numPoints,ct={type:1,geometry:[[Math.round(this.options.extent*(rt.x*at-Be)),Math.round(this.options.extent*(rt.y*at-Ge))]],tags:Ye?pe(rt):this.points[rt.index].properties},ht=void 0;Ye?ht=rt.id:this.options.generateId?ht=rt.index:this.points[rt.index].id&&(ht=this.points[rt.index].id),ht!==void 0&&(ct.id=ht),nt.features.push(ct)}},re.prototype._limitZoom=function(He){return Math.max(this.options.minZoom,Math.min(+He,this.options.maxZoom+1))},re.prototype._cluster=function(He,We){for(var Be=[],Ge=this.options,at=Ge.radius,nt=Ge.extent,Re=Ge.reduce,Fe=Ge.minPoints,rt=at/(nt*Math.pow(2,We)),Ye=0;Ye<He.length;Ye++){var ct=He[Ye];if(!(ct.zoom<=We)){ct.zoom=We;for(var ht=this.trees[We+1],dt=ht.within(ct.x,ct.y,rt),ut=ct.numPoints||1,kt=ut,xt=0,vt=dt;xt<vt.length;xt+=1){var Mt=vt[xt],St=ht.points[Mt];St.zoom>We&&(kt+=St.numPoints||1)}if(kt>=Fe){for(var It=ct.x*ut,Gt=ct.y*ut,en=Re&&ut>1?this._map(ct,!0):null,Nt=(Ye<<5)+(We+1)+this.points.length,jt=0,Jt=dt;jt<Jt.length;jt+=1){var An=Jt[jt],_n=ht.points[An];if(!(_n.zoom<=We)){_n.zoom=We;var un=_n.numPoints||1;It+=_n.x*un,Gt+=_n.y*un,_n.parentId=Nt,Re&&(en||(en=this._map(ct,!0)),Re(en,this._map(_n)))}}ct.parentId=Nt,Be.push(ae(It/kt,Gt/kt,Nt,kt,en))}else if(Be.push(ct),kt>1)for(var Wt=0,rn=dt;Wt<rn.length;Wt+=1){var $t=rn[Wt],sn=ht.points[$t];sn.zoom<=We||(sn.zoom=We,Be.push(sn))}}}return Be},re.prototype._getOriginId=function(He){return He-this.points.length>>5},re.prototype._getOriginZoom=function(He){return(He-this.points.length)%32},re.prototype._map=function(He,We){if(He.numPoints)return We?be({},He.properties):He.properties;var Be=this.points[He.index].properties,Ge=this.options.map(Be);return We&&Ge===Be?be({},Ge):Ge},$e.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},$e.prototype.splitTile=function(He,We,Be,Ge,at,nt,Re){for(var Fe=[He,We,Be,Ge],rt=this.options,Ye=rt.debug;Fe.length;){Ge=Fe.pop(),Be=Fe.pop(),We=Fe.pop(),He=Fe.pop();var ct=1<<We,ht=_t(We,Be,Ge),dt=this.tiles[ht];if(!dt&&(Ye>1&&console.time("creation"),dt=this.tiles[ht]=mt(He,We,Be,Ge,rt),this.tileCoords.push({z:We,x:Be,y:Ge}),Ye)){Ye>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",We,Be,Ge,dt.numFeatures,dt.numPoints,dt.numSimplified),console.timeEnd("creation"));var ut="z"+We;this.stats[ut]=(this.stats[ut]||0)+1,this.total++}if(dt.source=He,at){if(We===rt.maxZoom||We===at)continue;var kt=1<<at-We;if(Be!==Math.floor(nt/kt)||Ge!==Math.floor(Re/kt))continue}else if(We===rt.indexMaxZoom||dt.numPoints<=rt.indexMaxPoints)continue;if(dt.source=null,He.length!==0){Ye>1&&console.time("clipping");var xt,vt,Mt,St,It,Gt,en=.5*rt.buffer/rt.extent,Nt=.5-en,jt=.5+en,Jt=1+en;xt=vt=Mt=St=null,It=fe(He,ct,Be-en,Be+jt,0,dt.minX,dt.maxX,rt),Gt=fe(He,ct,Be+Nt,Be+Jt,0,dt.minX,dt.maxX,rt),He=null,It&&(xt=fe(It,ct,Ge-en,Ge+jt,1,dt.minY,dt.maxY,rt),vt=fe(It,ct,Ge+Nt,Ge+Jt,1,dt.minY,dt.maxY,rt),It=null),Gt&&(Mt=fe(Gt,ct,Ge-en,Ge+jt,1,dt.minY,dt.maxY,rt),St=fe(Gt,ct,Ge+Nt,Ge+Jt,1,dt.minY,dt.maxY,rt),Gt=null),Ye>1&&console.timeEnd("clipping"),Fe.push(xt||[],We+1,2*Be,2*Ge),Fe.push(vt||[],We+1,2*Be,2*Ge+1),Fe.push(Mt||[],We+1,2*Be+1,2*Ge),Fe.push(St||[],We+1,2*Be+1,2*Ge+1)}}},$e.prototype.getTile=function(He,We,Be){var Ge=this.options,at=Ge.extent,nt=Ge.debug;if(He<0||He>24)return null;var Re=1<<He,Fe=_t(He,We=(We%Re+Re)%Re,Be);if(this.tiles[Fe])return tt(this.tiles[Fe],at);nt>1&&console.log("drilling down to z%d-%d-%d",He,We,Be);for(var rt,Ye=He,ct=We,ht=Be;!rt&&Ye>0;)Ye--,ct=Math.floor(ct/2),ht=Math.floor(ht/2),rt=this.tiles[_t(Ye,ct,ht)];return rt&&rt.source?(nt>1&&console.log("found parent tile z%d-%d-%d",Ye,ct,ht),nt>1&&console.time("drilling down"),this.splitTile(rt.source,Ye,ct,ht,He,We,Be),nt>1&&console.timeEnd("drilling down"),this.tiles[Fe]?tt(this.tiles[Fe],at):null):null};var Ot=function(He){function We(Be,Ge,at,nt){He.call(this,Be,Ge,at,Pt),nt&&(this.loadGeoJSON=nt)}return He&&(We.__proto__=He),We.prototype=Object.create(He&&He.prototype),We.prototype.constructor=We,We.prototype.loadData=function(Be,Ge){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ge,this._pendingLoadDataParams=Be,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},We.prototype._loadData=function(){var Be=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ge=this._pendingCallback,at=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var nt=!!(at&&at.request&&at.request.collectResourceTiming)&&new a.RequestPerformance(at.request);this.loadGeoJSON(at,function(Re,Fe){if(Re||!Fe)return Ge(Re);if(typeof Fe!="object")return Ge(new Error("Input data given to '"+at.source+"' is not a valid GeoJSON object."));u(Fe,!0);try{if(at.filter){var rt=a.createExpression(at.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(rt.result==="error")throw new Error(rt.value.map(function(dt){return dt.key+": "+dt.message}).join(", "));var Ye=Fe.features.filter(function(dt){return rt.value.evaluate({zoom:0},dt)});Fe={type:"FeatureCollection",features:Ye}}Be._geoJSONIndex=at.cluster?new re(function(dt){var ut=dt.superclusterOptions,kt=dt.clusterProperties;if(!kt||!ut)return ut;for(var xt={},vt={},Mt={accumulated:null,zoom:0},St={properties:null},It=Object.keys(kt),Gt=0,en=It;Gt<en.length;Gt+=1){var Nt=en[Gt],jt=kt[Nt],Jt=jt[0],An=jt[1],_n=a.createExpression(An),un=a.createExpression(typeof Jt=="string"?[Jt,["accumulated"],["get",Nt]]:Jt);xt[Nt]=_n.value,vt[Nt]=un.value}return ut.map=function(Wt){St.properties=Wt;for(var rn={},$t=0,sn=It;$t<sn.length;$t+=1){var xn=sn[$t];rn[xn]=xt[xn].evaluate(Mt,St)}return rn},ut.reduce=function(Wt,rn){St.properties=rn;for(var $t=0,sn=It;$t<sn.length;$t+=1){var xn=sn[$t];Mt.accumulated=Wt[xn],Wt[xn]=vt[xn].evaluate(Mt,St)}},ut}(at)).load(Fe.features):function(dt,ut){return new $e(dt,ut)}(Fe,at.geojsonVtOptions)}catch(dt){return Ge(dt)}Be.loaded={};var ct={};if(nt){var ht=nt.finish();ht&&(ct.resourceTiming={},ct.resourceTiming[at.source]=JSON.parse(JSON.stringify(ht)))}Ge(null,ct)})}},We.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},We.prototype.reloadTile=function(Be,Ge){var at=this.loaded,nt=Be.uid;return at&&at[nt]?He.prototype.reloadTile.call(this,Be,Ge):this.loadTile(Be,Ge)},We.prototype.loadGeoJSON=function(Be,Ge){if(Be.request)a.getJSON(Be.request,Ge);else{if(typeof Be.data!="string")return Ge(new Error("Input data given to '"+Be.source+"' is not a valid GeoJSON object."));try{return Ge(null,JSON.parse(Be.data))}catch{return Ge(new Error("Input data given to '"+Be.source+"' is not a valid GeoJSON object."))}}},We.prototype.removeSource=function(Be,Ge){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ge()},We.prototype.getClusterExpansionZoom=function(Be,Ge){try{Ge(null,this._geoJSONIndex.getClusterExpansionZoom(Be.clusterId))}catch(at){Ge(at)}},We.prototype.getClusterChildren=function(Be,Ge){try{Ge(null,this._geoJSONIndex.getChildren(Be.clusterId))}catch(at){Ge(at)}},We.prototype.getClusterLeaves=function(Be,Ge){try{Ge(null,this._geoJSONIndex.getLeaves(Be.clusterId,Be.limit,Be.offset))}catch(at){Ge(at)}},We}(n),Lt=function(He){var We=this;this.self=He,this.actor=new a.Actor(He,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:n,geojson:Ot},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Be,Ge){if(We.workerSourceTypes[Be])throw new Error('Worker source with name "'+Be+'" already registered.');We.workerSourceTypes[Be]=Ge},this.self.registerRTLTextPlugin=function(Be){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Be.applyArabicShaping,a.plugin.processBidirectionalText=Be.processBidirectionalText,a.plugin.processStyledBidirectionalText=Be.processStyledBidirectionalText}};return Lt.prototype.setReferrer=function(He,We){this.referrer=We},Lt.prototype.setImages=function(He,We,Be){for(var Ge in this.availableImages[He]=We,this.workerSources[He]){var at=this.workerSources[He][Ge];for(var nt in at)at[nt].availableImages=We}Be()},Lt.prototype.setLayers=function(He,We,Be){this.getLayerIndex(He).replace(We),Be()},Lt.prototype.updateLayers=function(He,We,Be){this.getLayerIndex(He).update(We.layers,We.removedIds),Be()},Lt.prototype.loadTile=function(He,We,Be){this.getWorkerSource(He,We.type,We.source).loadTile(We,Be)},Lt.prototype.loadDEMTile=function(He,We,Be){this.getDEMWorkerSource(He,We.source).loadTile(We,Be)},Lt.prototype.reloadTile=function(He,We,Be){this.getWorkerSource(He,We.type,We.source).reloadTile(We,Be)},Lt.prototype.abortTile=function(He,We,Be){this.getWorkerSource(He,We.type,We.source).abortTile(We,Be)},Lt.prototype.removeTile=function(He,We,Be){this.getWorkerSource(He,We.type,We.source).removeTile(We,Be)},Lt.prototype.removeDEMTile=function(He,We){this.getDEMWorkerSource(He,We.source).removeTile(We)},Lt.prototype.removeSource=function(He,We,Be){if(this.workerSources[He]&&this.workerSources[He][We.type]&&this.workerSources[He][We.type][We.source]){var Ge=this.workerSources[He][We.type][We.source];delete this.workerSources[He][We.type][We.source],Ge.removeSource!==void 0?Ge.removeSource(We,Be):Be()}},Lt.prototype.loadWorkerSource=function(He,We,Be){try{this.self.importScripts(We.url),Be()}catch(Ge){Be(Ge.toString())}},Lt.prototype.syncRTLPluginState=function(He,We,Be){try{a.plugin.setState(We);var Ge=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Ge!=null){this.self.importScripts(Ge);var at=a.plugin.isParsed();Be(at?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ge),at)}}catch(nt){Be(nt.toString())}},Lt.prototype.getAvailableImages=function(He){var We=this.availableImages[He];return We||(We=[]),We},Lt.prototype.getLayerIndex=function(He){var We=this.layerIndexes[He];return We||(We=this.layerIndexes[He]=new g),We},Lt.prototype.getWorkerSource=function(He,We,Be){var Ge=this;if(this.workerSources[He]||(this.workerSources[He]={}),this.workerSources[He][We]||(this.workerSources[He][We]={}),!this.workerSources[He][We][Be]){var at={send:function(nt,Re,Fe){Ge.actor.send(nt,Re,Fe,He)}};this.workerSources[He][We][Be]=new this.workerSourceTypes[We](at,this.getLayerIndex(He),this.getAvailableImages(He))}return this.workerSources[He][We][Be]},Lt.prototype.getDEMWorkerSource=function(He,We){return this.demWorkerSources[He]||(this.demWorkerSources[He]={}),this.demWorkerSources[He][We]||(this.demWorkerSources[He][We]=new l),this.demWorkerSources[He][We]},Lt.prototype.enforceCacheSizeLimit=function(He,We){a.enforceCacheSizeLimit(We)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Lt(self)),Lt}),k(0,function(a){var T=a.createCommonjsModule(function(B){function G(q){return!H(q)}function H(q){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var ne,ce,ye=new Blob([""],{type:"text/javascript"}),Le=URL.createObjectURL(ye);try{ce=new Worker(Le),ne=!0}catch{ne=!1}return ce&&ce.terminate(),URL.revokeObjectURL(Le),ne}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var ne=document.createElement("canvas");ne.width=ne.height=1;var ce=ne.getContext("2d");if(!ce)return!1;var ye=ce.getImageData(0,0,1,1);return ye&&ye.width===ne.width}()?($=q&&q.failIfMajorPerformanceCaveat,L[$]===void 0&&(L[$]=function(ne){var ce=function(Le){var Ie=document.createElement("canvas"),je=Object.create(G.webGLContextAttributes);return je.failIfMajorPerformanceCaveat=Le,Ie.probablySupportsContext?Ie.probablySupportsContext("webgl",je)||Ie.probablySupportsContext("experimental-webgl",je):Ie.supportsContext?Ie.supportsContext("webgl",je)||Ie.supportsContext("experimental-webgl",je):Ie.getContext("webgl",je)||Ie.getContext("experimental-webgl",je)}(ne);if(!ce)return!1;var ye=ce.createShader(ce.VERTEX_SHADER);return!(!ye||ce.isContextLost())&&(ce.shaderSource(ye,"void main() {}"),ce.compileShader(ye),ce.getShaderParameter(ye,ce.COMPILE_STATUS)===!0)}($)),L[$]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var $}B.exports?B.exports=G:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=G,window.mapboxgl.notSupportedReason=H);var L={};G.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(B,G,H){var L=a.window.document.createElement(B);return G!==void 0&&(L.className=G),H&&H.appendChild(L),L},createNS:function(B,G){return a.window.document.createElementNS(B,G)}},g=a.window.document&&a.window.document.documentElement.style;function s(B){if(!g)return B[0];for(var G=0;G<B.length;G++)if(B[G]in g)return B[G];return B[0]}var t,i=s(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){g&&i&&(t=g[i],g[i]="none")},b.enableDrag=function(){g&&i&&(g[i]=t)};var r=s(["transform","WebkitTransform"]);b.setTransform=function(B,G){B.style[r]=G};var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",o,o),a.window.removeEventListener("test",o,o)}catch{n=!1}b.addEventListener=function(B,G,H,L){L===void 0&&(L={}),"passive"in L&&n?B.addEventListener(G,H,L):B.addEventListener(G,H,L.capture)},b.removeEventListener=function(B,G,H,L){L===void 0&&(L={}),"passive"in L&&n?B.removeEventListener(G,H,L):B.removeEventListener(G,H,L.capture)};var l=function(B){B.preventDefault(),B.stopPropagation(),a.window.removeEventListener("click",l,!0)};function u(B){var G=B.userImage;return!!(G&&G.render&&G.render())&&(B.data.replace(new Uint8Array(G.data.buffer)),!0)}b.suppressClick=function(){a.window.addEventListener("click",l,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",l,!0)},0)},b.mousePos=function(B,G){var H=B.getBoundingClientRect();return new a.Point(G.clientX-H.left-B.clientLeft,G.clientY-H.top-B.clientTop)},b.touchPos=function(B,G){for(var H=B.getBoundingClientRect(),L=[],q=0;q<G.length;q++)L.push(new a.Point(G[q].clientX-H.left-B.clientLeft,G[q].clientY-H.top-B.clientTop));return L},b.mouseButton=function(B){return a.window.InstallTrigger!==void 0&&B.button===2&&B.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:B.button},b.remove=function(B){B.parentNode&&B.parentNode.removeChild(B)};var d=function(B){function G(){B.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.isLoaded=function(){return this.loaded},G.prototype.setLoaded=function(H){if(this.loaded!==H&&(this.loaded=H,H)){for(var L=0,q=this.requestors;L<q.length;L+=1){var $=q[L],ne=$.ids,ce=$.callback;this._notify(ne,ce)}this.requestors=[]}},G.prototype.getImage=function(H){return this.images[H]},G.prototype.addImage=function(H,L){this._validate(H,L)&&(this.images[H]=L)},G.prototype._validate=function(H,L){var q=!0;return this._validateStretch(L.stretchX,L.data&&L.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+H+'" has invalid "stretchX" value'))),q=!1),this._validateStretch(L.stretchY,L.data&&L.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+H+'" has invalid "stretchY" value'))),q=!1),this._validateContent(L.content,L)||(this.fire(new a.ErrorEvent(new Error('Image "'+H+'" has invalid "content" value'))),q=!1),q},G.prototype._validateStretch=function(H,L){if(!H)return!0;for(var q=0,$=0,ne=H;$<ne.length;$+=1){var ce=ne[$];if(ce[0]<q||ce[1]<ce[0]||L<ce[1])return!1;q=ce[1]}return!0},G.prototype._validateContent=function(H,L){return!(H&&(H.length!==4||H[0]<0||L.data.width<H[0]||H[1]<0||L.data.height<H[1]||H[2]<0||L.data.width<H[2]||H[3]<0||L.data.height<H[3]||H[2]<H[0]||H[3]<H[1]))},G.prototype.updateImage=function(H,L){var q=this.images[H];L.version=q.version+1,this.images[H]=L,this.updatedImages[H]=!0},G.prototype.removeImage=function(H){var L=this.images[H];delete this.images[H],delete this.patterns[H],L.userImage&&L.userImage.onRemove&&L.userImage.onRemove()},G.prototype.listImages=function(){return Object.keys(this.images)},G.prototype.getImages=function(H,L){var q=!0;if(!this.isLoaded())for(var $=0,ne=H;$<ne.length;$+=1){var ce=ne[$];this.images[ce]||(q=!1)}this.isLoaded()||q?this._notify(H,L):this.requestors.push({ids:H,callback:L})},G.prototype._notify=function(H,L){for(var q={},$=0,ne=H;$<ne.length;$+=1){var ce=ne[$];this.images[ce]||this.fire(new a.Event("styleimagemissing",{id:ce}));var ye=this.images[ce];ye?q[ce]={data:ye.data.clone(),pixelRatio:ye.pixelRatio,sdf:ye.sdf,version:ye.version,stretchX:ye.stretchX,stretchY:ye.stretchY,content:ye.content,hasRenderCallback:!!(ye.userImage&&ye.userImage.render)}:a.warnOnce('Image "'+ce+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}L(null,q)},G.prototype.getPixelSize=function(){var H=this.atlasImage;return{width:H.width,height:H.height}},G.prototype.getPattern=function(H){var L=this.patterns[H],q=this.getImage(H);if(!q)return null;if(L&&L.position.version===q.version)return L.position;if(L)L.position.version=q.version;else{var $={w:q.data.width+2,h:q.data.height+2,x:0,y:0},ne=new a.ImagePosition($,q);this.patterns[H]={bin:$,position:ne}}return this._updatePatternAtlas(),this.patterns[H].position},G.prototype.bind=function(H){var L=H.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(H,this.atlasImage,L.RGBA),this.atlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE)},G.prototype._updatePatternAtlas=function(){var H=[];for(var L in this.patterns)H.push(this.patterns[L].bin);var q=a.potpack(H),$=q.w,ne=q.h,ce=this.atlasImage;for(var ye in ce.resize({width:$||1,height:ne||1}),this.patterns){var Le=this.patterns[ye].bin,Ie=Le.x+1,je=Le.y+1,qe=this.images[ye].data,Qe=qe.width,lt=qe.height;a.RGBAImage.copy(qe,ce,{x:0,y:0},{x:Ie,y:je},{width:Qe,height:lt}),a.RGBAImage.copy(qe,ce,{x:0,y:lt-1},{x:Ie,y:je-1},{width:Qe,height:1}),a.RGBAImage.copy(qe,ce,{x:0,y:0},{x:Ie,y:je+lt},{width:Qe,height:1}),a.RGBAImage.copy(qe,ce,{x:Qe-1,y:0},{x:Ie-1,y:je},{width:1,height:lt}),a.RGBAImage.copy(qe,ce,{x:0,y:0},{x:Ie+Qe,y:je},{width:1,height:lt})}this.dirty=!0},G.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},G.prototype.dispatchRenderCallbacks=function(H){for(var L=0,q=H;L<q.length;L+=1){var $=q[L];if(!this.callbackDispatchedThisFrame[$]){this.callbackDispatchedThisFrame[$]=!0;var ne=this.images[$];u(ne)&&this.updateImage($,ne)}}},G}(a.Evented),c=p,m=p,f=1e20;function p(B,G,H,L,q,$){this.fontSize=B||24,this.buffer=G===void 0?3:G,this.cutoff=L||.25,this.fontFamily=q||"sans-serif",this.fontWeight=$||"normal",this.radius=H||8;var ne=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ne,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(ne*ne),this.gridInner=new Float64Array(ne*ne),this.f=new Float64Array(ne),this.d=new Float64Array(ne),this.z=new Float64Array(ne+1),this.v=new Int16Array(ne),this.middle=Math.round(ne/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function v(B,G,H,L,q,$,ne){for(var ce=0;ce<G;ce++){for(var ye=0;ye<H;ye++)L[ye]=B[ye*G+ce];for(y(L,q,$,ne,H),ye=0;ye<H;ye++)B[ye*G+ce]=q[ye]}for(ye=0;ye<H;ye++){for(ce=0;ce<G;ce++)L[ce]=B[ye*G+ce];for(y(L,q,$,ne,G),ce=0;ce<G;ce++)B[ye*G+ce]=Math.sqrt(q[ce])}}function y(B,G,H,L,q){H[0]=0,L[0]=-f,L[1]=+f;for(var $=1,ne=0;$<q;$++){for(var ce=(B[$]+$*$-(B[H[ne]]+H[ne]*H[ne]))/(2*$-2*H[ne]);ce<=L[ne];)ne--,ce=(B[$]+$*$-(B[H[ne]]+H[ne]*H[ne]))/(2*$-2*H[ne]);H[++ne]=$,L[ne]=ce,L[ne+1]=+f}for($=0,ne=0;$<q;$++){for(;L[ne+1]<$;)ne++;G[$]=($-H[ne])*($-H[ne])+B[H[ne]]}}p.prototype.draw=function(B){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(B,this.buffer,this.middle);for(var G=this.ctx.getImageData(0,0,this.size,this.size),H=new Uint8ClampedArray(this.size*this.size),L=0;L<this.size*this.size;L++){var q=G.data[4*L+3]/255;this.gridOuter[L]=q===1?0:q===0?f:Math.pow(Math.max(0,.5-q),2),this.gridInner[L]=q===1?f:q===0?0:Math.pow(Math.max(0,q-.5),2)}for(v(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),v(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),L=0;L<this.size*this.size;L++){var $=this.gridOuter[L]-this.gridInner[L];H[L]=Math.max(0,Math.min(255,Math.round(255-255*($/this.radius+this.cutoff))))}return H},c.default=m;var x=function(B,G){this.requestManager=B,this.localIdeographFontFamily=G,this.entries={}};x.prototype.setURL=function(B){this.url=B},x.prototype.getGlyphs=function(B,G){var H=this,L=[];for(var q in B)for(var $=0,ne=B[q];$<ne.length;$+=1){var ce=ne[$];L.push({stack:q,id:ce})}a.asyncAll(L,function(ye,Le){var Ie=ye.stack,je=ye.id,qe=H.entries[Ie];qe||(qe=H.entries[Ie]={glyphs:{},requests:{},ranges:{}});var Qe=qe.glyphs[je];if(Qe===void 0){if(Qe=H._tinySDF(qe,Ie,je))return qe.glyphs[je]=Qe,void Le(null,{stack:Ie,id:je,glyph:Qe});var lt=Math.floor(je/256);if(256*lt>65535)Le(new Error("glyphs > 65535 not supported"));else if(qe.ranges[lt])Le(null,{stack:Ie,id:je,glyph:Qe});else{var ft=qe.requests[lt];ft||(ft=qe.requests[lt]=[],x.loadGlyphRange(Ie,lt,H.url,H.requestManager,function(bt,At){if(At){for(var Tt in At)H._doesCharSupportLocalGlyph(+Tt)||(qe.glyphs[+Tt]=At[+Tt]);qe.ranges[lt]=!0}for(var Dt=0,Ct=ft;Dt<Ct.length;Dt+=1)(0,Ct[Dt])(bt,At);delete qe.requests[lt]})),ft.push(function(bt,At){bt?Le(bt):At&&Le(null,{stack:Ie,id:je,glyph:At[je]||null})})}}else Le(null,{stack:Ie,id:je,glyph:Qe})},function(ye,Le){if(ye)G(ye);else if(Le){for(var Ie={},je=0,qe=Le;je<qe.length;je+=1){var Qe=qe[je],lt=Qe.stack,ft=Qe.id,bt=Qe.glyph;(Ie[lt]||(Ie[lt]={}))[ft]=bt&&{id:bt.id,bitmap:bt.bitmap.clone(),metrics:bt.metrics}}G(null,Ie)}})},x.prototype._doesCharSupportLocalGlyph=function(B){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](B)||a.isChar["Hangul Syllables"](B)||a.isChar.Hiragana(B)||a.isChar.Katakana(B))},x.prototype._tinySDF=function(B,G,H){var L=this.localIdeographFontFamily;if(L&&this._doesCharSupportLocalGlyph(H)){var q=B.tinySDF;if(!q){var $="400";/bold/i.test(G)?$="900":/medium/i.test(G)?$="500":/light/i.test(G)&&($="200"),q=B.tinySDF=new x.TinySDF(24,3,8,.25,L,$)}return{id:H,bitmap:new a.AlphaImage({width:30,height:30},q.draw(String.fromCharCode(H))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},x.loadGlyphRange=function(B,G,H,L,q){var $=256*G,ne=$+255,ce=L.transformRequest(L.normalizeGlyphsURL(H).replace("{fontstack}",B).replace("{range}",$+"-"+ne),a.ResourceType.Glyphs);a.getArrayBuffer(ce,function(ye,Le){if(ye)q(ye);else if(Le){for(var Ie={},je=0,qe=a.parseGlyphPBF(Le);je<qe.length;je+=1){var Qe=qe[je];Ie[Qe.id]=Qe}q(null,Ie)}})},x.TinySDF=c;var _=function(){this.specification=a.styleSpec.light.position};_.prototype.possiblyEvaluate=function(B,G){return a.sphericalToCartesian(B.expression.evaluate(G))},_.prototype.interpolate=function(B,G,H){return{x:a.number(B.x,G.x,H),y:a.number(B.y,G.y,H),z:a.number(B.z,G.z,H)}};var h=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new _,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),S="-transition",w=function(B){function G(H){B.call(this),this._transitionable=new a.Transitionable(h),this.setLight(H),this._transitioning=this._transitionable.untransitioned()}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getLight=function(){return this._transitionable.serialize()},G.prototype.setLight=function(H,L){if(L===void 0&&(L={}),!this._validate(a.validateLight,H,L))for(var q in H){var $=H[q];a.endsWith(q,S)?this._transitionable.setTransition(q.slice(0,-11),$):this._transitionable.setValue(q,$)}},G.prototype.updateTransitions=function(H){this._transitioning=this._transitionable.transitioned(H,this._transitioning)},G.prototype.hasTransition=function(){return this._transitioning.hasTransition()},G.prototype.recalculate=function(H){this.properties=this._transitioning.possiblyEvaluate(H)},G.prototype._validate=function(H,L,q){return(!q||q.validate!==!1)&&a.emitValidationErrors(this,H.call(a.validateStyle,a.extend({value:L,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},G}(a.Evented),E=function(B,G){this.width=B,this.height=G,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(B,G){var H=B.join(",")+String(G);return this.dashEntry[H]||(this.dashEntry[H]=this.addDash(B,G)),this.dashEntry[H]},E.prototype.getDashRanges=function(B,G,H){var L=[],q=B.length%2==1?-B[B.length-1]*H:0,$=B[0]*H,ne=!0;L.push({left:q,right:$,isDash:ne,zeroLength:B[0]===0});for(var ce=B[0],ye=1;ye<B.length;ye++){ne=!ne;var Le=B[ye];q=ce*H,$=(ce+=Le)*H,L.push({left:q,right:$,isDash:ne,zeroLength:Le===0})}return L},E.prototype.addRoundDash=function(B,G,H){for(var L=G/2,q=-H;q<=H;q++)for(var $=this.nextRow+H+q,ne=this.width*$,ce=0,ye=B[ce],Le=0;Le<this.width;Le++){Le/ye.right>1&&(ye=B[++ce]);var Ie=Math.abs(Le-ye.left),je=Math.abs(Le-ye.right),qe=Math.min(Ie,je),Qe=void 0,lt=q/H*(L+1);if(ye.isDash){var ft=L-Math.abs(lt);Qe=Math.sqrt(qe*qe+ft*ft)}else Qe=L-Math.sqrt(qe*qe+lt*lt);this.data[ne+Le]=Math.max(0,Math.min(255,Qe+128))}},E.prototype.addRegularDash=function(B){for(var G=B.length-1;G>=0;--G){var H=B[G],L=B[G+1];H.zeroLength?B.splice(G,1):L&&L.isDash===H.isDash&&(L.left=H.left,B.splice(G,1))}var q=B[0],$=B[B.length-1];q.isDash===$.isDash&&(q.left=$.left-this.width,$.right=q.right+this.width);for(var ne=this.width*this.nextRow,ce=0,ye=B[ce],Le=0;Le<this.width;Le++){Le/ye.right>1&&(ye=B[++ce]);var Ie=Math.abs(Le-ye.left),je=Math.abs(Le-ye.right),qe=Math.min(Ie,je),Qe=ye.isDash?qe:-qe;this.data[ne+Le]=Math.max(0,Math.min(255,Qe+128))}},E.prototype.addDash=function(B,G){var H=G?7:0,L=2*H+1;if(this.nextRow+L>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var q=0,$=0;$<B.length;$++)q+=B[$];if(q!==0){var ne=this.width/q,ce=this.getDashRanges(B,this.width,ne);G?this.addRoundDash(ce,ne,H):this.addRegularDash(ce)}var ye={y:(this.nextRow+H+.5)/this.height,height:2*H/this.height,width:q};return this.nextRow+=L,this.dirty=!0,ye},E.prototype.bind=function(B){var G=B.gl;this.texture?(G.bindTexture(G.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,G.texSubImage2D(G.TEXTURE_2D,0,0,0,this.width,this.height,G.ALPHA,G.UNSIGNED_BYTE,this.data))):(this.texture=G.createTexture(),G.bindTexture(G.TEXTURE_2D,this.texture),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_S,G.REPEAT),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_T,G.REPEAT),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.LINEAR),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.LINEAR),G.texImage2D(G.TEXTURE_2D,0,G.ALPHA,this.width,this.height,0,G.ALPHA,G.UNSIGNED_BYTE,this.data))};var C=function B(G,H){this.workerPool=G,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var L=this.workerPool.acquire(this.id),q=0;q<L.length;q++){var $=L[q],ne=new B.Actor($,H,this.id);ne.name="Worker "+q,this.actors.push(ne)}};function P(B,G,H){var L=function(q,$){if(q)return H(q);if($){var ne=a.pick(a.extend($,B),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);$.vector_layers&&(ne.vectorLayers=$.vector_layers,ne.vectorLayerIds=ne.vectorLayers.map(function(ce){return ce.id})),ne.tiles=G.canonicalizeTileset(ne,B.url),H(null,ne)}};return B.url?a.getJSON(G.transformRequest(G.normalizeSourceURL(B.url),a.ResourceType.Source),L):a.browser.frame(function(){return L(null,B)})}C.prototype.broadcast=function(B,G,H){H=H||function(){},a.asyncAll(this.actors,function(L,q){L.send(B,G,q)},H)},C.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},C.prototype.remove=function(){this.actors.forEach(function(B){B.remove()}),this.actors=[],this.workerPool.release(this.id)},C.Actor=a.Actor;var O=function(B,G,H){this.bounds=a.LngLatBounds.convert(this.validateBounds(B)),this.minzoom=G||0,this.maxzoom=H||24};O.prototype.validateBounds=function(B){return Array.isArray(B)&&B.length===4?[Math.max(-180,B[0]),Math.max(-90,B[1]),Math.min(180,B[2]),Math.min(90,B[3])]:[-180,-90,180,90]},O.prototype.contains=function(B){var G=Math.pow(2,B.z),H=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*G),L=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*G),q=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*G),$=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*G);return B.x>=H&&B.x<q&&B.y>=L&&B.y<$};var R=function(B){function G(H,L,q,$){if(B.call(this),this.id=H,this.dispatcher=q,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(L,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},L),this._collectResourceTiming=L.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent($)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){var H=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(L,q){H._tileJSONRequest=null,H._loaded=!0,L?H.fire(new a.ErrorEvent(L)):q&&(a.extend(H,q),q.bounds&&(H.tileBounds=new O(q.bounds,H.minzoom,H.maxzoom)),a.postTurnstileEvent(q.tiles,H.map._requestManager._customAccessToken),a.postMapLoadEvent(q.tiles,H.map._getMapId(),H.map._requestManager._skuToken,H.map._requestManager._customAccessToken),H.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),H.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},G.prototype.loaded=function(){return this._loaded},G.prototype.hasTile=function(H){return!this.tileBounds||this.tileBounds.contains(H.canonical)},G.prototype.onAdd=function(H){this.map=H,this.load()},G.prototype.setSourceProperty=function(H){this._tileJSONRequest&&this._tileJSONRequest.cancel(),H(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},G.prototype.setTiles=function(H){var L=this;return this.setSourceProperty(function(){L._options.tiles=H}),this},G.prototype.setUrl=function(H){var L=this;return this.setSourceProperty(function(){L.url=H,L._options.url=H}),this},G.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},G.prototype.serialize=function(){return a.extend({},this._options)},G.prototype.loadTile=function(H,L){var q=this.map._requestManager.normalizeTileURL(H.tileID.canonical.url(this.tiles,this.scheme)),$={request:this.map._requestManager.transformRequest(q,a.ResourceType.Tile),uid:H.uid,tileID:H.tileID,zoom:H.tileID.overscaledZ,tileSize:this.tileSize*H.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function ne(ce,ye){return delete H.request,H.aborted?L(null):ce&&ce.status!==404?L(ce):(ye&&ye.resourceTiming&&(H.resourceTiming=ye.resourceTiming),this.map._refreshExpiredTiles&&ye&&H.setExpiryData(ye),H.loadVectorData(ye,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),L(null),void(H.reloadCallback&&(this.loadTile(H,H.reloadCallback),H.reloadCallback=null)))}$.request.collectResourceTiming=this._collectResourceTiming,H.actor&&H.state!=="expired"?H.state==="loading"?H.reloadCallback=L:H.request=H.actor.send("reloadTile",$,ne.bind(this)):(H.actor=this.dispatcher.getActor(),H.request=H.actor.send("loadTile",$,ne.bind(this)))},G.prototype.abortTile=function(H){H.request&&(H.request.cancel(),delete H.request),H.actor&&H.actor.send("abortTile",{uid:H.uid,type:this.type,source:this.id},void 0)},G.prototype.unloadTile=function(H){H.unloadVectorData(),H.actor&&H.actor.send("removeTile",{uid:H.uid,type:this.type,source:this.id},void 0)},G.prototype.hasTransition=function(){return!1},G}(a.Evented),U=function(B){function G(H,L,q,$){B.call(this),this.id=H,this.dispatcher=q,this.setEventedParent($),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},L),a.extend(this,a.pick(L,["url","scheme","tileSize"]))}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){var H=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(L,q){H._tileJSONRequest=null,H._loaded=!0,L?H.fire(new a.ErrorEvent(L)):q&&(a.extend(H,q),q.bounds&&(H.tileBounds=new O(q.bounds,H.minzoom,H.maxzoom)),a.postTurnstileEvent(q.tiles),a.postMapLoadEvent(q.tiles,H.map._getMapId(),H.map._requestManager._skuToken),H.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),H.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},G.prototype.loaded=function(){return this._loaded},G.prototype.onAdd=function(H){this.map=H,this.load()},G.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},G.prototype.serialize=function(){return a.extend({},this._options)},G.prototype.hasTile=function(H){return!this.tileBounds||this.tileBounds.contains(H.canonical)},G.prototype.loadTile=function(H,L){var q=this,$=this.map._requestManager.normalizeTileURL(H.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);H.request=a.getImage(this.map._requestManager.transformRequest($,a.ResourceType.Tile),function(ne,ce){if(delete H.request,H.aborted)H.state="unloaded",L(null);else if(ne)H.state="errored",L(ne);else if(ce){q.map._refreshExpiredTiles&&H.setExpiryData(ce),delete ce.cacheControl,delete ce.expires;var ye=q.map.painter.context,Le=ye.gl;H.texture=q.map.painter.getTileTexture(ce.width),H.texture?H.texture.update(ce,{useMipmap:!0}):(H.texture=new a.Texture(ye,ce,Le.RGBA,{useMipmap:!0}),H.texture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST),ye.extTextureFilterAnisotropic&&Le.texParameterf(Le.TEXTURE_2D,ye.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ye.extTextureFilterAnisotropicMax)),H.state="loaded",a.cacheEntryPossiblyAdded(q.dispatcher),L(null)}})},G.prototype.abortTile=function(H,L){H.request&&(H.request.cancel(),delete H.request),L()},G.prototype.unloadTile=function(H,L){H.texture&&this.map.painter.saveTileTexture(H.texture),L()},G.prototype.hasTransition=function(){return!1},G}(a.Evented),z=function(B){function G(H,L,q,$){B.call(this,H,L,q,$),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},L),this.encoding=L.encoding||"mapbox"}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},G.prototype.loadTile=function(H,L){var q=this.map._requestManager.normalizeTileURL(H.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function $(ne,ce){ne&&(H.state="errored",L(ne)),ce&&(H.dem=ce,H.needsHillshadePrepare=!0,H.state="loaded",L(null))}H.request=a.getImage(this.map._requestManager.transformRequest(q,a.ResourceType.Tile),(function(ne,ce){if(delete H.request,H.aborted)H.state="unloaded",L(null);else if(ne)H.state="errored",L(ne);else if(ce){this.map._refreshExpiredTiles&&H.setExpiryData(ce),delete ce.cacheControl,delete ce.expires;var ye=a.window.ImageBitmap&&ce instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?ce:a.browser.getImageData(ce,1),Le={uid:H.uid,coord:H.tileID,source:this.id,rawImageData:ye,encoding:this.encoding};H.actor&&H.state!=="expired"||(H.actor=this.dispatcher.getActor(),H.actor.send("loadDEMTile",Le,$.bind(this)))}}).bind(this)),H.neighboringTiles=this._getNeighboringTiles(H.tileID)},G.prototype._getNeighboringTiles=function(H){var L=H.canonical,q=Math.pow(2,L.z),$=(L.x-1+q)%q,ne=L.x===0?H.wrap-1:H.wrap,ce=(L.x+1+q)%q,ye=L.x+1===q?H.wrap+1:H.wrap,Le={};return Le[new a.OverscaledTileID(H.overscaledZ,ne,L.z,$,L.y).key]={backfilled:!1},Le[new a.OverscaledTileID(H.overscaledZ,ye,L.z,ce,L.y).key]={backfilled:!1},L.y>0&&(Le[new a.OverscaledTileID(H.overscaledZ,ne,L.z,$,L.y-1).key]={backfilled:!1},Le[new a.OverscaledTileID(H.overscaledZ,H.wrap,L.z,L.x,L.y-1).key]={backfilled:!1},Le[new a.OverscaledTileID(H.overscaledZ,ye,L.z,ce,L.y-1).key]={backfilled:!1}),L.y+1<q&&(Le[new a.OverscaledTileID(H.overscaledZ,ne,L.z,$,L.y+1).key]={backfilled:!1},Le[new a.OverscaledTileID(H.overscaledZ,H.wrap,L.z,L.x,L.y+1).key]={backfilled:!1},Le[new a.OverscaledTileID(H.overscaledZ,ye,L.z,ce,L.y+1).key]={backfilled:!1}),Le},G.prototype.unloadTile=function(H){H.demTexture&&this.map.painter.saveTileTexture(H.demTexture),H.fbo&&(H.fbo.destroy(),delete H.fbo),H.dem&&delete H.dem,delete H.neighboringTiles,H.state="unloaded",H.actor&&H.actor.send("removeDEMTile",{uid:H.uid,source:this.id})},G}(U),N=function(B){function G(H,L,q,$){B.call(this),this.id=H,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=q.getActor(),this.setEventedParent($),this._data=L.data,this._options=a.extend({},L),this._collectResourceTiming=L.collectResourceTiming,this._resourceTiming=[],L.maxzoom!==void 0&&(this.maxzoom=L.maxzoom),L.type&&(this.type=L.type),L.attribution&&(this.attribution=L.attribution),this.promoteId=L.promoteId;var ne=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:L.cluster||!1,geojsonVtOptions:{buffer:(L.buffer!==void 0?L.buffer:128)*ne,tolerance:(L.tolerance!==void 0?L.tolerance:.375)*ne,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:L.lineMetrics||!1,generateId:L.generateId||!1},superclusterOptions:{maxZoom:L.clusterMaxZoom!==void 0?Math.min(L.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,L.clusterMinPoints||2),extent:a.EXTENT,radius:(L.clusterRadius||50)*ne,log:!1,generateId:L.generateId||!1},clusterProperties:L.clusterProperties,filter:L.filter},L.workerOptions)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){var H=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(L){if(L)H.fire(new a.ErrorEvent(L));else{var q={dataType:"source",sourceDataType:"metadata"};H._collectResourceTiming&&H._resourceTiming&&H._resourceTiming.length>0&&(q.resourceTiming=H._resourceTiming,H._resourceTiming=[]),H.fire(new a.Event("data",q))}})},G.prototype.onAdd=function(H){this.map=H,this.load()},G.prototype.setData=function(H){var L=this;return this._data=H,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(q){if(q)L.fire(new a.ErrorEvent(q));else{var $={dataType:"source",sourceDataType:"content"};L._collectResourceTiming&&L._resourceTiming&&L._resourceTiming.length>0&&($.resourceTiming=L._resourceTiming,L._resourceTiming=[]),L.fire(new a.Event("data",$))}}),this},G.prototype.getClusterExpansionZoom=function(H,L){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:H,source:this.id},L),this},G.prototype.getClusterChildren=function(H,L){return this.actor.send("geojson.getClusterChildren",{clusterId:H,source:this.id},L),this},G.prototype.getClusterLeaves=function(H,L,q,$){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:H,limit:L,offset:q},$),this},G.prototype._updateWorkerData=function(H){var L=this;this._loaded=!1;var q=a.extend({},this.workerOptions),$=this._data;typeof $=="string"?(q.request=this.map._requestManager.transformRequest(a.browser.resolveURL($),a.ResourceType.Source),q.request.collectResourceTiming=this._collectResourceTiming):q.data=JSON.stringify($),this.actor.send(this.type+".loadData",q,function(ne,ce){L._removed||ce&&ce.abandoned||(L._loaded=!0,ce&&ce.resourceTiming&&ce.resourceTiming[L.id]&&(L._resourceTiming=ce.resourceTiming[L.id].slice(0)),L.actor.send(L.type+".coalesce",{source:q.source},null),H(ne))})},G.prototype.loaded=function(){return this._loaded},G.prototype.loadTile=function(H,L){var q=this,$=H.actor?"reloadTile":"loadTile";H.actor=this.actor;var ne={type:this.type,uid:H.uid,tileID:H.tileID,zoom:H.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};H.request=this.actor.send($,ne,function(ce,ye){return delete H.request,H.unloadVectorData(),H.aborted?L(null):ce?L(ce):(H.loadVectorData(ye,q.map.painter,$==="reloadTile"),L(null))})},G.prototype.abortTile=function(H){H.request&&(H.request.cancel(),delete H.request),H.aborted=!0},G.prototype.unloadTile=function(H){H.unloadVectorData(),this.actor.send("removeTile",{uid:H.uid,type:this.type,source:this.id})},G.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},G.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},G.prototype.hasTransition=function(){return!1},G}(a.Evented),W=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),F=function(B){function G(H,L,q,$){B.call(this),this.id=H,this.dispatcher=q,this.coordinates=L.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent($),this.options=L}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(H,L){var q=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function($,ne){q._loaded=!0,$?q.fire(new a.ErrorEvent($)):ne&&(q.image=ne,H&&(q.coordinates=H),L&&L(),q._finishLoading())})},G.prototype.loaded=function(){return this._loaded},G.prototype.updateImage=function(H){var L=this;return this.image&&H.url?(this.options.url=H.url,this.load(H.coordinates,function(){L.texture=null}),this):this},G.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},G.prototype.onAdd=function(H){this.map=H,this.load()},G.prototype.setCoordinates=function(H){var L=this;this.coordinates=H;var q=H.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(ne){for(var ce=1/0,ye=1/0,Le=-1/0,Ie=-1/0,je=0,qe=ne;je<qe.length;je+=1){var Qe=qe[je];ce=Math.min(ce,Qe.x),ye=Math.min(ye,Qe.y),Le=Math.max(Le,Qe.x),Ie=Math.max(Ie,Qe.y)}var lt=Le-ce,ft=Ie-ye,bt=Math.max(lt,ft),At=Math.max(0,Math.floor(-Math.log(bt)/Math.LN2)),Tt=Math.pow(2,At);return new a.CanonicalTileID(At,Math.floor((ce+Le)/2*Tt),Math.floor((ye+Ie)/2*Tt))}(q),this.minzoom=this.maxzoom=this.tileID.z;var $=q.map(function(ne){return L.tileID.getTilePoint(ne)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack($[0].x,$[0].y,0,0),this._boundsArray.emplaceBack($[1].x,$[1].y,a.EXTENT,0),this._boundsArray.emplaceBack($[3].x,$[3].y,0,a.EXTENT),this._boundsArray.emplaceBack($[2].x,$[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},G.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var H=this.map.painter.context,L=H.gl;for(var q in this.boundsBuffer||(this.boundsBuffer=H.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(H,this.image,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var $=this.tiles[q];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}},G.prototype.loadTile=function(H,L){this.tileID&&this.tileID.equals(H.tileID.canonical)?(this.tiles[String(H.tileID.wrap)]=H,H.buckets={},L(null)):(H.state="errored",L(null))},G.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},G.prototype.hasTransition=function(){return!1},G}(a.Evented),V=function(B){function G(H,L,q,$){B.call(this,H,L,q,$),this.roundZoom=!0,this.type="video",this.options=L}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){var H=this;this._loaded=!1;var L=this.options;this.urls=[];for(var q=0,$=L.urls;q<$.length;q+=1){var ne=$[q];this.urls.push(this.map._requestManager.transformRequest(ne,a.ResourceType.Source).url)}a.getVideo(this.urls,function(ce,ye){H._loaded=!0,ce?H.fire(new a.ErrorEvent(ce)):ye&&(H.video=ye,H.video.loop=!0,H.video.addEventListener("playing",function(){H.map.triggerRepaint()}),H.map&&H.video.play(),H._finishLoading())})},G.prototype.pause=function(){this.video&&this.video.pause()},G.prototype.play=function(){this.video&&this.video.play()},G.prototype.seek=function(H){if(this.video){var L=this.video.seekable;H<L.start(0)||H>L.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+L.start(0)+" and "+L.end(0)+"-second mark."))):this.video.currentTime=H}},G.prototype.getVideo=function(){return this.video},G.prototype.onAdd=function(H){this.map||(this.map=H,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},G.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var H=this.map.painter.context,L=H.gl;for(var q in this.boundsBuffer||(this.boundsBuffer=H.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.texSubImage2D(L.TEXTURE_2D,0,0,0,L.RGBA,L.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(H,this.video,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var $=this.tiles[q];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}},G.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},G.prototype.hasTransition=function(){return this.video&&!this.video.paused},G}(F),j=function(B){function G(H,L,q,$){B.call(this,H,L,q,$),L.coordinates?Array.isArray(L.coordinates)&&L.coordinates.length===4&&!L.coordinates.some(function(ne){return!Array.isArray(ne)||ne.length!==2||ne.some(function(ce){return typeof ce!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+H,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+H,null,'missing required property "coordinates"'))),L.animate&&typeof L.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+H,null,'optional "animate" property must be a boolean value'))),L.canvas?typeof L.canvas=="string"||L.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+H,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+H,null,'missing required property "canvas"'))),this.options=L,this.animate=L.animate===void 0||L.animate}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},G.prototype.getCanvas=function(){return this.canvas},G.prototype.onAdd=function(H){this.map=H,this.load(),this.canvas&&this.animate&&this.play()},G.prototype.onRemove=function(){this.pause()},G.prototype.prepare=function(){var H=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,H=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,H=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var L=this.map.painter.context,q=L.gl;for(var $ in this.boundsBuffer||(this.boundsBuffer=L.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(H||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(L,this.canvas,q.RGBA,{premultiply:!0}),this.tiles){var ne=this.tiles[$];ne.state!=="loaded"&&(ne.state="loaded",ne.texture=this.texture)}}},G.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},G.prototype.hasTransition=function(){return this._playing},G.prototype._hasInvalidDimensions=function(){for(var H=0,L=[this.canvas.width,this.canvas.height];H<L.length;H+=1){var q=L[H];if(isNaN(q)||q<=0)return!0}return!1},G}(F),te={vector:R,raster:U,"raster-dem":z,geojson:N,video:V,image:F,canvas:j};function J(B,G){var H=a.identity([]);return a.translate(H,H,[1,1,0]),a.scale(H,H,[.5*B.width,.5*B.height,1]),a.multiply(H,H,B.calculatePosMatrix(G.toUnwrapped()))}function K(B,G,H,L,q,$){var ne=function(ft,bt,At){if(ft)for(var Tt=0,Dt=ft;Tt<Dt.length;Tt+=1){var Ct=bt[Dt[Tt]];if(Ct&&Ct.source===At&&Ct.type==="fill-extrusion")return!0}else for(var Yt in bt){var Vt=bt[Yt];if(Vt.source===At&&Vt.type==="fill-extrusion")return!0}return!1}(q&&q.layers,G,B.id),ce=$.maxPitchScaleFactor(),ye=B.tilesIn(L,ce,ne);ye.sort(Z);for(var Le=[],Ie=0,je=ye;Ie<je.length;Ie+=1){var qe=je[Ie];Le.push({wrappedTileID:qe.tileID.wrapped().key,queryResults:qe.tile.queryRenderedFeatures(G,H,B._state,qe.queryGeometry,qe.cameraQueryGeometry,qe.scale,q,$,ce,J(B.transform,qe.tileID))})}var Qe=function(ft){for(var bt={},At={},Tt=0,Dt=ft;Tt<Dt.length;Tt+=1){var Ct=Dt[Tt],Yt=Ct.queryResults,Vt=Ct.wrappedTileID,Ft=At[Vt]=At[Vt]||{};for(var cn in Yt)for(var dn=Yt[cn],Mn=Ft[cn]=Ft[cn]||{},Ln=bt[cn]=bt[cn]||[],Un=0,Qn=dn;Un<Qn.length;Un+=1){var ur=Qn[Un];Mn[ur.featureIndex]||(Mn[ur.featureIndex]=!0,Ln.push(ur))}}return bt}(Le);for(var lt in Qe)Qe[lt].forEach(function(ft){var bt=ft.feature,At=B.getFeatureState(bt.layer["source-layer"],bt.id);bt.source=bt.layer.source,bt.layer["source-layer"]&&(bt.sourceLayer=bt.layer["source-layer"]),bt.state=At});return Qe}function Z(B,G){var H=B.tileID,L=G.tileID;return H.overscaledZ-L.overscaledZ||H.canonical.y-L.canonical.y||H.wrap-L.wrap||H.canonical.x-L.canonical.x}var X=function(B,G){this.max=B,this.onRemove=G,this.reset()};X.prototype.reset=function(){for(var B in this.data)for(var G=0,H=this.data[B];G<H.length;G+=1){var L=H[G];L.timeout&&clearTimeout(L.timeout),this.onRemove(L.value)}return this.data={},this.order=[],this},X.prototype.add=function(B,G,H){var L=this,q=B.wrapped().key;this.data[q]===void 0&&(this.data[q]=[]);var $={value:G,timeout:void 0};if(H!==void 0&&($.timeout=setTimeout(function(){L.remove(B,$)},H)),this.data[q].push($),this.order.push(q),this.order.length>this.max){var ne=this._getAndRemoveByKey(this.order[0]);ne&&this.onRemove(ne)}return this},X.prototype.has=function(B){return B.wrapped().key in this.data},X.prototype.getAndRemove=function(B){return this.has(B)?this._getAndRemoveByKey(B.wrapped().key):null},X.prototype._getAndRemoveByKey=function(B){var G=this.data[B].shift();return G.timeout&&clearTimeout(G.timeout),this.data[B].length===0&&delete this.data[B],this.order.splice(this.order.indexOf(B),1),G.value},X.prototype.getByKey=function(B){var G=this.data[B];return G?G[0].value:null},X.prototype.get=function(B){return this.has(B)?this.data[B.wrapped().key][0].value:null},X.prototype.remove=function(B,G){if(!this.has(B))return this;var H=B.wrapped().key,L=G===void 0?0:this.data[H].indexOf(G),q=this.data[H][L];return this.data[H].splice(L,1),q.timeout&&clearTimeout(q.timeout),this.data[H].length===0&&delete this.data[H],this.onRemove(q.value),this.order.splice(this.order.indexOf(H),1),this},X.prototype.setMaxSize=function(B){for(this.max=B;this.order.length>this.max;){var G=this._getAndRemoveByKey(this.order[0]);G&&this.onRemove(G)}return this},X.prototype.filter=function(B){var G=[];for(var H in this.data)for(var L=0,q=this.data[H];L<q.length;L+=1){var $=q[L];B($.value)||G.push($)}for(var ne=0,ce=G;ne<ce.length;ne+=1){var ye=ce[ne];this.remove(ye.value.tileID,ye)}};var Q=function(B,G,H){this.context=B;var L=B.gl;this.buffer=L.createBuffer(),this.dynamicDraw=!!H,this.context.unbindVAO(),B.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,G.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete G.arrayBuffer};Q.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Q.prototype.updateData=function(B){var G=this.context.gl;this.context.unbindVAO(),this.bind(),G.bufferSubData(G.ELEMENT_ARRAY_BUFFER,0,B.arrayBuffer)},Q.prototype.destroy=function(){var B=this.context.gl;this.buffer&&(B.deleteBuffer(this.buffer),delete this.buffer)};var re={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ae=function(B,G,H,L){this.length=G.length,this.attributes=H,this.itemSize=G.bytesPerElement,this.dynamicDraw=L,this.context=B;var q=B.gl;this.buffer=q.createBuffer(),B.bindVertexBuffer.set(this.buffer),q.bufferData(q.ARRAY_BUFFER,G.arrayBuffer,this.dynamicDraw?q.DYNAMIC_DRAW:q.STATIC_DRAW),this.dynamicDraw||delete G.arrayBuffer};ae.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ae.prototype.updateData=function(B){var G=this.context.gl;this.bind(),G.bufferSubData(G.ARRAY_BUFFER,0,B.arrayBuffer)},ae.prototype.enableAttributes=function(B,G){for(var H=0;H<this.attributes.length;H++){var L=this.attributes[H],q=G.attributes[L.name];q!==void 0&&B.enableVertexAttribArray(q)}},ae.prototype.setVertexAttribPointers=function(B,G,H){for(var L=0;L<this.attributes.length;L++){var q=this.attributes[L],$=G.attributes[q.name];$!==void 0&&B.vertexAttribPointer($,q.components,B[re[q.type]],!1,this.itemSize,q.offset+this.itemSize*(H||0))}},ae.prototype.destroy=function(){var B=this.context.gl;this.buffer&&(B.deleteBuffer(this.buffer),delete this.buffer)};var ie=function(B){this.gl=B.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ie.prototype.get=function(){return this.current},ie.prototype.set=function(B){},ie.prototype.getDefault=function(){return this.default},ie.prototype.setDefault=function(){this.set(this.default)};var le=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return a.Color.transparent},G.prototype.set=function(H){var L=this.current;(H.r!==L.r||H.g!==L.g||H.b!==L.b||H.a!==L.a||this.dirty)&&(this.gl.clearColor(H.r,H.g,H.b,H.a),this.current=H,this.dirty=!1)},G}(ie),pe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return 1},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.clearDepth(H),this.current=H,this.dirty=!1)},G}(ie),de=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return 0},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.clearStencil(H),this.current=H,this.dirty=!1)},G}(ie),ve=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return[!0,!0,!0,!0]},G.prototype.set=function(H){var L=this.current;(H[0]!==L[0]||H[1]!==L[1]||H[2]!==L[2]||H[3]!==L[3]||this.dirty)&&(this.gl.colorMask(H[0],H[1],H[2],H[3]),this.current=H,this.dirty=!1)},G}(ie),be=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!0},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.depthMask(H),this.current=H,this.dirty=!1)},G}(ie),me=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return 255},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.stencilMask(H),this.current=H,this.dirty=!1)},G}(ie),ge=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},G.prototype.set=function(H){var L=this.current;(H.func!==L.func||H.ref!==L.ref||H.mask!==L.mask||this.dirty)&&(this.gl.stencilFunc(H.func,H.ref,H.mask),this.current=H,this.dirty=!1)},G}(ie),ke=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){var H=this.gl;return[H.KEEP,H.KEEP,H.KEEP]},G.prototype.set=function(H){var L=this.current;(H[0]!==L[0]||H[1]!==L[1]||H[2]!==L[2]||this.dirty)&&(this.gl.stencilOp(H[0],H[1],H[2]),this.current=H,this.dirty=!1)},G}(ie),we=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;H?L.enable(L.STENCIL_TEST):L.disable(L.STENCIL_TEST),this.current=H,this.dirty=!1}},G}(ie),ue=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return[0,1]},G.prototype.set=function(H){var L=this.current;(H[0]!==L[0]||H[1]!==L[1]||this.dirty)&&(this.gl.depthRange(H[0],H[1]),this.current=H,this.dirty=!1)},G}(ie),oe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;H?L.enable(L.DEPTH_TEST):L.disable(L.DEPTH_TEST),this.current=H,this.dirty=!1}},G}(ie),he=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.LESS},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.depthFunc(H),this.current=H,this.dirty=!1)},G}(ie),Ee=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;H?L.enable(L.BLEND):L.disable(L.BLEND),this.current=H,this.dirty=!1}},G}(ie),Te=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){var H=this.gl;return[H.ONE,H.ZERO]},G.prototype.set=function(H){var L=this.current;(H[0]!==L[0]||H[1]!==L[1]||this.dirty)&&(this.gl.blendFunc(H[0],H[1]),this.current=H,this.dirty=!1)},G}(ie),Me=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return a.Color.transparent},G.prototype.set=function(H){var L=this.current;(H.r!==L.r||H.g!==L.g||H.b!==L.b||H.a!==L.a||this.dirty)&&(this.gl.blendColor(H.r,H.g,H.b,H.a),this.current=H,this.dirty=!1)},G}(ie),Se=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.FUNC_ADD},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.blendEquation(H),this.current=H,this.dirty=!1)},G}(ie),ze=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;H?L.enable(L.CULL_FACE):L.disable(L.CULL_FACE),this.current=H,this.dirty=!1}},G}(ie),fe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.BACK},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.cullFace(H),this.current=H,this.dirty=!1)},G}(ie),xe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.CCW},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.frontFace(H),this.current=H,this.dirty=!1)},G}(ie),_e=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.useProgram(H),this.current=H,this.dirty=!1)},G}(ie),Oe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.TEXTURE0},G.prototype.set=function(H){(H!==this.current||this.dirty)&&(this.gl.activeTexture(H),this.current=H,this.dirty=!1)},G}(ie),De=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){var H=this.gl;return[0,0,H.drawingBufferWidth,H.drawingBufferHeight]},G.prototype.set=function(H){var L=this.current;(H[0]!==L[0]||H[1]!==L[1]||H[2]!==L[2]||H[3]!==L[3]||this.dirty)&&(this.gl.viewport(H[0],H[1],H[2],H[3]),this.current=H,this.dirty=!1)},G}(ie),Pe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,H),this.current=H,this.dirty=!1}},G}(ie),Ue=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;L.bindRenderbuffer(L.RENDERBUFFER,H),this.current=H,this.dirty=!1}},G}(ie),Ve=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;L.bindTexture(L.TEXTURE_2D,H),this.current=H,this.dirty=!1}},G}(ie),Xe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;L.bindBuffer(L.ARRAY_BUFFER,H),this.current=H,this.dirty=!1}},G}(ie),it=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(H){var L=this.gl;L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,H),this.current=H,this.dirty=!1},G}(ie),tt=function(B){function G(H){B.call(this,H),this.vao=H.extVertexArrayObject}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(H){this.vao&&(H!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(H),this.current=H,this.dirty=!1)},G}(ie),pt=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return 4},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_ALIGNMENT,H),this.current=H,this.dirty=!1}},G}(ie),mt=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H),this.current=H,this.dirty=!1}},G}(ie),gt=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(H){if(H!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,H),this.current=H,this.dirty=!1}},G}(ie),et=function(B){function G(H,L){B.call(this,H),this.context=H,this.parent=L}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G}(ie),$e=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.setDirty=function(){this.dirty=!0},G.prototype.set=function(H){if(H!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,H,0),this.current=H,this.dirty=!1}},G}(et),_t=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.set=function(H){if(H!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferRenderbuffer(L.FRAMEBUFFER,L.DEPTH_ATTACHMENT,L.RENDERBUFFER,H),this.current=H,this.dirty=!1}},G}(et),Pt=function(B,G,H,L){this.context=B,this.width=G,this.height=H;var q=B.gl,$=this.framebuffer=q.createFramebuffer();this.colorAttachment=new $e(B,$),L&&(this.depthAttachment=new _t(B,$))};Pt.prototype.destroy=function(){var B=this.context.gl,G=this.colorAttachment.get();if(G&&B.deleteTexture(G),this.depthAttachment){var H=this.depthAttachment.get();H&&B.deleteRenderbuffer(H)}B.deleteFramebuffer(this.framebuffer)};var Ot=function(B,G,H){this.func=B,this.mask=G,this.range=H};Ot.ReadOnly=!1,Ot.ReadWrite=!0,Ot.disabled=new Ot(519,Ot.ReadOnly,[0,1]);var Lt=7680,He=function(B,G,H,L,q,$){this.test=B,this.ref=G,this.mask=H,this.fail=L,this.depthFail=q,this.pass=$};He.disabled=new He({func:519,mask:0},0,0,Lt,Lt,Lt);var We=function(B,G,H){this.blendFunction=B,this.blendColor=G,this.mask=H};We.Replace=[1,0],We.disabled=new We(We.Replace,a.Color.transparent,[!1,!1,!1,!1]),We.unblended=new We(We.Replace,a.Color.transparent,[!0,!0,!0,!0]),We.alphaBlended=new We([1,771],a.Color.transparent,[!0,!0,!0,!0]);var Be=function(B,G,H){this.enable=B,this.mode=G,this.frontFace=H};Be.disabled=new Be(!1,1029,2305),Be.backCCW=new Be(!0,1029,2305);var Ge=function(B){this.gl=B,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new le(this),this.clearDepth=new pe(this),this.clearStencil=new de(this),this.colorMask=new ve(this),this.depthMask=new be(this),this.stencilMask=new me(this),this.stencilFunc=new ge(this),this.stencilOp=new ke(this),this.stencilTest=new we(this),this.depthRange=new ue(this),this.depthTest=new oe(this),this.depthFunc=new he(this),this.blend=new Ee(this),this.blendFunc=new Te(this),this.blendColor=new Me(this),this.blendEquation=new Se(this),this.cullFace=new ze(this),this.cullFaceSide=new fe(this),this.frontFace=new xe(this),this.program=new _e(this),this.activeTexture=new Oe(this),this.viewport=new De(this),this.bindFramebuffer=new Pe(this),this.bindRenderbuffer=new Ue(this),this.bindTexture=new Ve(this),this.bindVertexBuffer=new Xe(this),this.bindElementBuffer=new it(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new tt(this),this.pixelStoreUnpack=new pt(this),this.pixelStoreUnpackPremultiplyAlpha=new mt(this),this.pixelStoreUnpackFlipY=new gt(this),this.extTextureFilterAnisotropic=B.getExtension("EXT_texture_filter_anisotropic")||B.getExtension("MOZ_EXT_texture_filter_anisotropic")||B.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=B.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=B.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(B.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=B.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=B.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)};Ge.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ge.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ge.prototype.createIndexBuffer=function(B,G){return new Q(this,B,G)},Ge.prototype.createVertexBuffer=function(B,G,H){return new ae(this,B,G,H)},Ge.prototype.createRenderbuffer=function(B,G,H){var L=this.gl,q=L.createRenderbuffer();return this.bindRenderbuffer.set(q),L.renderbufferStorage(L.RENDERBUFFER,B,G,H),this.bindRenderbuffer.set(null),q},Ge.prototype.createFramebuffer=function(B,G,H){return new Pt(this,B,G,H)},Ge.prototype.clear=function(B){var G=B.color,H=B.depth,L=this.gl,q=0;G&&(q|=L.COLOR_BUFFER_BIT,this.clearColor.set(G),this.colorMask.set([!0,!0,!0,!0])),H!==void 0&&(q|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(H),this.depthMask.set(!0)),L.clear(q)},Ge.prototype.setCullFace=function(B){B.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(B.mode),this.frontFace.set(B.frontFace))},Ge.prototype.setDepthMode=function(B){B.func!==this.gl.ALWAYS||B.mask?(this.depthTest.set(!0),this.depthFunc.set(B.func),this.depthMask.set(B.mask),this.depthRange.set(B.range)):this.depthTest.set(!1)},Ge.prototype.setStencilMode=function(B){B.test.func!==this.gl.ALWAYS||B.mask?(this.stencilTest.set(!0),this.stencilMask.set(B.mask),this.stencilOp.set([B.fail,B.depthFail,B.pass]),this.stencilFunc.set({func:B.test.func,ref:B.ref,mask:B.test.mask})):this.stencilTest.set(!1)},Ge.prototype.setColorMode=function(B){a.deepEqual(B.blendFunction,We.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(B.blendFunction),this.blendColor.set(B.blendColor)),this.colorMask.set(B.mask)},Ge.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var at=function(B){function G(H,L,q){var $=this;B.call(this),this.id=H,this.dispatcher=q,this.on("data",function(ne){ne.dataType==="source"&&ne.sourceDataType==="metadata"&&($._sourceLoaded=!0),$._sourceLoaded&&!$._paused&&ne.dataType==="source"&&ne.sourceDataType==="content"&&($.reload(),$.transform&&$.update($.transform))}),this.on("error",function(){$._sourceErrored=!0}),this._source=function(ne,ce,ye,Le){var Ie=new te[ce.type](ne,ce,ye,Le);if(Ie.id!==ne)throw new Error("Expected Source id to be "+ne+" instead of "+Ie.id);return a.bindAll(["load","abort","unload","serialize","prepare"],Ie),Ie}(H,L,q,this),this._tiles={},this._cache=new X(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.onAdd=function(H){this.map=H,this._maxTileCacheSize=H?H._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(H)},G.prototype.onRemove=function(H){this._source&&this._source.onRemove&&this._source.onRemove(H)},G.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var H in this._tiles){var L=this._tiles[H];if(L.state!=="loaded"&&L.state!=="errored")return!1}return!0},G.prototype.getSource=function(){return this._source},G.prototype.pause=function(){this._paused=!0},G.prototype.resume=function(){if(this._paused){var H=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,H&&this.reload(),this.transform&&this.update(this.transform)}},G.prototype._loadTile=function(H,L){return this._source.loadTile(H,L)},G.prototype._unloadTile=function(H){if(this._source.unloadTile)return this._source.unloadTile(H,function(){})},G.prototype._abortTile=function(H){if(this._source.abortTile)return this._source.abortTile(H,function(){})},G.prototype.serialize=function(){return this._source.serialize()},G.prototype.prepare=function(H){for(var L in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var q=this._tiles[L];q.upload(H),q.prepare(this.map.style.imageManager)}},G.prototype.getIds=function(){return a.values(this._tiles).map(function(H){return H.tileID}).sort(nt).map(function(H){return H.key})},G.prototype.getRenderableIds=function(H){var L=this,q=[];for(var $ in this._tiles)this._isIdRenderable($,H)&&q.push(this._tiles[$]);return H?q.sort(function(ne,ce){var ye=ne.tileID,Le=ce.tileID,Ie=new a.Point(ye.canonical.x,ye.canonical.y)._rotate(L.transform.angle),je=new a.Point(Le.canonical.x,Le.canonical.y)._rotate(L.transform.angle);return ye.overscaledZ-Le.overscaledZ||je.y-Ie.y||je.x-Ie.x}).map(function(ne){return ne.tileID.key}):q.map(function(ne){return ne.tileID}).sort(nt).map(function(ne){return ne.key})},G.prototype.hasRenderableParent=function(H){var L=this.findLoadedParent(H,0);return!!L&&this._isIdRenderable(L.tileID.key)},G.prototype._isIdRenderable=function(H,L){return this._tiles[H]&&this._tiles[H].hasData()&&!this._coveredTiles[H]&&(L||!this._tiles[H].holdingForFade())},G.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var H in this._cache.reset(),this._tiles)this._tiles[H].state!=="errored"&&this._reloadTile(H,"reloading")},G.prototype._reloadTile=function(H,L){var q=this._tiles[H];q&&(q.state!=="loading"&&(q.state=L),this._loadTile(q,this._tileLoaded.bind(this,q,H,L)))},G.prototype._tileLoaded=function(H,L,q,$){if($)return H.state="errored",void($.status!==404?this._source.fire(new a.ErrorEvent($,{tile:H})):this.update(this.transform));H.timeAdded=a.browser.now(),q==="expired"&&(H.refreshedUponExpiration=!0),this._setTileReloadTimer(L,H),this.getSource().type==="raster-dem"&&H.dem&&this._backfillDEM(H),this._state.initializeTileState(H,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:H,coord:H.tileID}))},G.prototype._backfillDEM=function(H){for(var L=this.getRenderableIds(),q=0;q<L.length;q++){var $=L[q];if(H.neighboringTiles&&H.neighboringTiles[$]){var ne=this.getTileByID($);ce(H,ne),ce(ne,H)}}function ce(ye,Le){ye.needsHillshadePrepare=!0;var Ie=Le.tileID.canonical.x-ye.tileID.canonical.x,je=Le.tileID.canonical.y-ye.tileID.canonical.y,qe=Math.pow(2,ye.tileID.canonical.z),Qe=Le.tileID.key;Ie===0&&je===0||Math.abs(je)>1||(Math.abs(Ie)>1&&(Math.abs(Ie+qe)===1?Ie+=qe:Math.abs(Ie-qe)===1&&(Ie-=qe)),Le.dem&&ye.dem&&(ye.dem.backfillBorder(Le.dem,Ie,je),ye.neighboringTiles&&ye.neighboringTiles[Qe]&&(ye.neighboringTiles[Qe].backfilled=!0)))}},G.prototype.getTile=function(H){return this.getTileByID(H.key)},G.prototype.getTileByID=function(H){return this._tiles[H]},G.prototype._retainLoadedChildren=function(H,L,q,$){for(var ne in this._tiles){var ce=this._tiles[ne];if(!($[ne]||!ce.hasData()||ce.tileID.overscaledZ<=L||ce.tileID.overscaledZ>q)){for(var ye=ce.tileID;ce&&ce.tileID.overscaledZ>L+1;){var Le=ce.tileID.scaledTo(ce.tileID.overscaledZ-1);(ce=this._tiles[Le.key])&&ce.hasData()&&(ye=Le)}for(var Ie=ye;Ie.overscaledZ>L;)if(H[(Ie=Ie.scaledTo(Ie.overscaledZ-1)).key]){$[ye.key]=ye;break}}}},G.prototype.findLoadedParent=function(H,L){if(H.key in this._loadedParentTiles){var q=this._loadedParentTiles[H.key];return q&&q.tileID.overscaledZ>=L?q:null}for(var $=H.overscaledZ-1;$>=L;$--){var ne=H.scaledTo($),ce=this._getLoadedTile(ne);if(ce)return ce}},G.prototype._getLoadedTile=function(H){var L=this._tiles[H.key];return L&&L.hasData()?L:this._cache.getByKey(H.wrapped().key)},G.prototype.updateCacheSize=function(H){var L=(Math.ceil(H.width/this._source.tileSize)+1)*(Math.ceil(H.height/this._source.tileSize)+1),q=Math.floor(5*L),$=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,q):q;this._cache.setMaxSize($)},G.prototype.handleWrapJump=function(H){var L=(H-(this._prevLng===void 0?H:this._prevLng))/360,q=Math.round(L);if(this._prevLng=H,q){var $={};for(var ne in this._tiles){var ce=this._tiles[ne];ce.tileID=ce.tileID.unwrapTo(ce.tileID.wrap+q),$[ce.tileID.key]=ce}for(var ye in this._tiles=$,this._timers)clearTimeout(this._timers[ye]),delete this._timers[ye];for(var Le in this._tiles){var Ie=this._tiles[Le];this._setTileReloadTimer(Le,Ie)}}},G.prototype.update=function(H){var L=this;if(this.transform=H,this._sourceLoaded&&!this._paused){var q;this.updateCacheSize(H),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?q=H.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ft){return new a.OverscaledTileID(Ft.canonical.z,Ft.wrap,Ft.canonical.z,Ft.canonical.x,Ft.canonical.y)}):(q=H.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(q=q.filter(function(Ft){return L._source.hasTile(Ft)}))):q=[];var $=H.coveringZoomLevel(this._source),ne=Math.max($-G.maxOverzooming,this._source.minzoom),ce=Math.max($+G.maxUnderzooming,this._source.minzoom),ye=this._updateRetainedTiles(q,$);if(Re(this._source.type)){for(var Le={},Ie={},je=0,qe=Object.keys(ye);je<qe.length;je+=1){var Qe=qe[je],lt=ye[Qe],ft=this._tiles[Qe];if(ft&&!(ft.fadeEndTime&&ft.fadeEndTime<=a.browser.now())){var bt=this.findLoadedParent(lt,ne);bt&&(this._addTile(bt.tileID),Le[bt.tileID.key]=bt.tileID),Ie[Qe]=lt}}for(var At in this._retainLoadedChildren(Ie,$,ce,ye),Le)ye[At]||(this._coveredTiles[At]=!0,ye[At]=Le[At])}for(var Tt in ye)this._tiles[Tt].clearFadeHold();for(var Dt=0,Ct=a.keysDifference(this._tiles,ye);Dt<Ct.length;Dt+=1){var Yt=Ct[Dt],Vt=this._tiles[Yt];Vt.hasSymbolBuckets&&!Vt.holdingForFade()?Vt.setHoldDuration(this.map._fadeDuration):Vt.hasSymbolBuckets&&!Vt.symbolFadeFinished()||this._removeTile(Yt)}this._updateLoadedParentTileCache()}},G.prototype.releaseSymbolFadeTiles=function(){for(var H in this._tiles)this._tiles[H].holdingForFade()&&this._removeTile(H)},G.prototype._updateRetainedTiles=function(H,L){for(var q={},$={},ne=Math.max(L-G.maxOverzooming,this._source.minzoom),ce=Math.max(L+G.maxUnderzooming,this._source.minzoom),ye={},Le=0,Ie=H;Le<Ie.length;Le+=1){var je=Ie[Le],qe=this._addTile(je);q[je.key]=je,qe.hasData()||L<this._source.maxzoom&&(ye[je.key]=je)}this._retainLoadedChildren(ye,L,ce,q);for(var Qe=0,lt=H;Qe<lt.length;Qe+=1){var ft=lt[Qe],bt=this._tiles[ft.key];if(!bt.hasData()){if(L+1>this._source.maxzoom){var At=ft.children(this._source.maxzoom)[0],Tt=this.getTile(At);if(Tt&&Tt.hasData()){q[At.key]=At;continue}}else{var Dt=ft.children(this._source.maxzoom);if(q[Dt[0].key]&&q[Dt[1].key]&&q[Dt[2].key]&&q[Dt[3].key])continue}for(var Ct=bt.wasRequested(),Yt=ft.overscaledZ-1;Yt>=ne;--Yt){var Vt=ft.scaledTo(Yt);if($[Vt.key]||($[Vt.key]=!0,!(bt=this.getTile(Vt))&&Ct&&(bt=this._addTile(Vt)),bt&&(q[Vt.key]=Vt,Ct=bt.wasRequested(),bt.hasData())))break}}}return q},G.prototype._updateLoadedParentTileCache=function(){for(var H in this._loadedParentTiles={},this._tiles){for(var L=[],q=void 0,$=this._tiles[H].tileID;$.overscaledZ>0;){if($.key in this._loadedParentTiles){q=this._loadedParentTiles[$.key];break}L.push($.key);var ne=$.scaledTo($.overscaledZ-1);if(q=this._getLoadedTile(ne))break;$=ne}for(var ce=0,ye=L;ce<ye.length;ce+=1){var Le=ye[ce];this._loadedParentTiles[Le]=q}}},G.prototype._addTile=function(H){var L=this._tiles[H.key];if(L)return L;(L=this._cache.getAndRemove(H))&&(this._setTileReloadTimer(H.key,L),L.tileID=H,this._state.initializeTileState(L,this.map?this.map.painter:null),this._cacheTimers[H.key]&&(clearTimeout(this._cacheTimers[H.key]),delete this._cacheTimers[H.key],this._setTileReloadTimer(H.key,L)));var q=!!L;return q||(L=new a.Tile(H,this._source.tileSize*H.overscaleFactor()),this._loadTile(L,this._tileLoaded.bind(this,L,H.key,L.state))),L?(L.uses++,this._tiles[H.key]=L,q||this._source.fire(new a.Event("dataloading",{tile:L,coord:L.tileID,dataType:"source"})),L):null},G.prototype._setTileReloadTimer=function(H,L){var q=this;H in this._timers&&(clearTimeout(this._timers[H]),delete this._timers[H]);var $=L.getExpiryTimeout();$&&(this._timers[H]=setTimeout(function(){q._reloadTile(H,"expired"),delete q._timers[H]},$))},G.prototype._removeTile=function(H){var L=this._tiles[H];L&&(L.uses--,delete this._tiles[H],this._timers[H]&&(clearTimeout(this._timers[H]),delete this._timers[H]),L.uses>0||(L.hasData()&&L.state!=="reloading"?this._cache.add(L.tileID,L,L.getExpiryTimeout()):(L.aborted=!0,this._abortTile(L),this._unloadTile(L))))},G.prototype.clearTiles=function(){for(var H in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(H);this._cache.reset()},G.prototype.tilesIn=function(H,L,q){var $=this,ne=[],ce=this.transform;if(!ce)return ne;for(var ye=q?ce.getCameraQueryGeometry(H):H,Le=H.map(function(Yt){return ce.pointCoordinate(Yt)}),Ie=ye.map(function(Yt){return ce.pointCoordinate(Yt)}),je=this.getIds(),qe=1/0,Qe=1/0,lt=-1/0,ft=-1/0,bt=0,At=Ie;bt<At.length;bt+=1){var Tt=At[bt];qe=Math.min(qe,Tt.x),Qe=Math.min(Qe,Tt.y),lt=Math.max(lt,Tt.x),ft=Math.max(ft,Tt.y)}for(var Dt=function(Yt){var Vt=$._tiles[je[Yt]];if(!Vt.holdingForFade()){var Ft=Vt.tileID,cn=Math.pow(2,ce.zoom-Vt.tileID.overscaledZ),dn=L*Vt.queryPadding*a.EXTENT/Vt.tileSize/cn,Mn=[Ft.getTilePoint(new a.MercatorCoordinate(qe,Qe)),Ft.getTilePoint(new a.MercatorCoordinate(lt,ft))];if(Mn[0].x-dn<a.EXTENT&&Mn[0].y-dn<a.EXTENT&&Mn[1].x+dn>=0&&Mn[1].y+dn>=0){var Ln=Le.map(function(Qn){return Ft.getTilePoint(Qn)}),Un=Ie.map(function(Qn){return Ft.getTilePoint(Qn)});ne.push({tile:Vt,tileID:Ft,queryGeometry:Ln,cameraQueryGeometry:Un,scale:cn})}}},Ct=0;Ct<je.length;Ct++)Dt(Ct);return ne},G.prototype.getVisibleCoordinates=function(H){for(var L=this,q=this.getRenderableIds(H).map(function(ye){return L._tiles[ye].tileID}),$=0,ne=q;$<ne.length;$+=1){var ce=ne[$];ce.posMatrix=this.transform.calculatePosMatrix(ce.toUnwrapped())}return q},G.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Re(this._source.type))for(var H in this._tiles){var L=this._tiles[H];if(L.fadeEndTime!==void 0&&L.fadeEndTime>=a.browser.now())return!0}return!1},G.prototype.setFeatureState=function(H,L,q){H=H||"_geojsonTileLayer",this._state.updateState(H,L,q)},G.prototype.removeFeatureState=function(H,L,q){H=H||"_geojsonTileLayer",this._state.removeFeatureState(H,L,q)},G.prototype.getFeatureState=function(H,L){return H=H||"_geojsonTileLayer",this._state.getState(H,L)},G.prototype.setDependencies=function(H,L,q){var $=this._tiles[H];$&&$.setDependencies(L,q)},G.prototype.reloadTilesForDependencies=function(H,L){for(var q in this._tiles)this._tiles[q].hasDependency(H,L)&&this._reloadTile(q,"reloading");this._cache.filter(function($){return!$.hasDependency(H,L)})},G}(a.Evented);function nt(B,G){var H=Math.abs(2*B.wrap)-+(B.wrap<0),L=Math.abs(2*G.wrap)-+(G.wrap<0);return B.overscaledZ-G.overscaledZ||L-H||G.canonical.y-B.canonical.y||G.canonical.x-B.canonical.x}function Re(B){return B==="raster"||B==="image"||B==="video"}function Fe(){return new a.window.Worker(ot.workerUrl)}at.maxOverzooming=10,at.maxUnderzooming=3;var rt="mapboxgl_preloaded_worker_pool",Ye=function(){this.active={}};Ye.prototype.acquire=function(B){if(!this.workers)for(this.workers=[];this.workers.length<Ye.workerCount;)this.workers.push(new Fe);return this.active[B]=!0,this.workers.slice()},Ye.prototype.release=function(B){delete this.active[B],this.numActive()===0&&(this.workers.forEach(function(G){G.terminate()}),this.workers=null)},Ye.prototype.isPreloaded=function(){return!!this.active[rt]},Ye.prototype.numActive=function(){return Object.keys(this.active).length};var ct,ht=Math.floor(a.browser.hardwareConcurrency/2);function dt(){return ct||(ct=new Ye),ct}function ut(B,G){var H={};for(var L in B)L!=="ref"&&(H[L]=B[L]);return a.refProperties.forEach(function(q){q in G&&(H[q]=G[q])}),H}function kt(B){B=B.slice();for(var G=Object.create(null),H=0;H<B.length;H++)G[B[H].id]=B[H];for(var L=0;L<B.length;L++)"ref"in B[L]&&(B[L]=ut(B[L],G[B[L].ref]));return B}Ye.workerCount=Math.max(Math.min(ht,6),1);var xt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function vt(B,G,H){H.push({command:xt.addSource,args:[B,G[B]]})}function Mt(B,G,H){G.push({command:xt.removeSource,args:[B]}),H[B]=!0}function St(B,G,H,L){Mt(B,H,L),vt(B,G,H)}function It(B,G,H){var L;for(L in B[H])if(B[H].hasOwnProperty(L)&&L!=="data"&&!a.deepEqual(B[H][L],G[H][L]))return!1;for(L in G[H])if(G[H].hasOwnProperty(L)&&L!=="data"&&!a.deepEqual(B[H][L],G[H][L]))return!1;return!0}function Gt(B,G,H,L,q,$){var ne;for(ne in G=G||{},B=B||{})B.hasOwnProperty(ne)&&(a.deepEqual(B[ne],G[ne])||H.push({command:$,args:[L,ne,G[ne],q]}));for(ne in G)G.hasOwnProperty(ne)&&!B.hasOwnProperty(ne)&&(a.deepEqual(B[ne],G[ne])||H.push({command:$,args:[L,ne,G[ne],q]}))}function en(B){return B.id}function Nt(B,G){return B[G.id]=G,B}function jt(B,G){if(!B)return[{command:xt.setStyle,args:[G]}];var H=[];try{if(!a.deepEqual(B.version,G.version))return[{command:xt.setStyle,args:[G]}];a.deepEqual(B.center,G.center)||H.push({command:xt.setCenter,args:[G.center]}),a.deepEqual(B.zoom,G.zoom)||H.push({command:xt.setZoom,args:[G.zoom]}),a.deepEqual(B.bearing,G.bearing)||H.push({command:xt.setBearing,args:[G.bearing]}),a.deepEqual(B.pitch,G.pitch)||H.push({command:xt.setPitch,args:[G.pitch]}),a.deepEqual(B.sprite,G.sprite)||H.push({command:xt.setSprite,args:[G.sprite]}),a.deepEqual(B.glyphs,G.glyphs)||H.push({command:xt.setGlyphs,args:[G.glyphs]}),a.deepEqual(B.transition,G.transition)||H.push({command:xt.setTransition,args:[G.transition]}),a.deepEqual(B.light,G.light)||H.push({command:xt.setLight,args:[G.light]});var L={},q=[];(function(ne,ce,ye,Le){var Ie;for(Ie in ce=ce||{},ne=ne||{})ne.hasOwnProperty(Ie)&&(ce.hasOwnProperty(Ie)||Mt(Ie,ye,Le));for(Ie in ce)ce.hasOwnProperty(Ie)&&(ne.hasOwnProperty(Ie)?a.deepEqual(ne[Ie],ce[Ie])||(ne[Ie].type==="geojson"&&ce[Ie].type==="geojson"&&It(ne,ce,Ie)?ye.push({command:xt.setGeoJSONSourceData,args:[Ie,ce[Ie].data]}):St(Ie,ce,ye,Le)):vt(Ie,ce,ye))})(B.sources,G.sources,q,L);var $=[];B.layers&&B.layers.forEach(function(ne){L[ne.source]?H.push({command:xt.removeLayer,args:[ne.id]}):$.push(ne)}),H=H.concat(q),function(ne,ce,ye){ce=ce||[];var Le,Ie,je,qe,Qe,lt,ft,bt=(ne=ne||[]).map(en),At=ce.map(en),Tt=ne.reduce(Nt,{}),Dt=ce.reduce(Nt,{}),Ct=bt.slice(),Yt=Object.create(null);for(Le=0,Ie=0;Le<bt.length;Le++)je=bt[Le],Dt.hasOwnProperty(je)?Ie++:(ye.push({command:xt.removeLayer,args:[je]}),Ct.splice(Ct.indexOf(je,Ie),1));for(Le=0,Ie=0;Le<At.length;Le++)je=At[At.length-1-Le],Ct[Ct.length-1-Le]!==je&&(Tt.hasOwnProperty(je)?(ye.push({command:xt.removeLayer,args:[je]}),Ct.splice(Ct.lastIndexOf(je,Ct.length-Ie),1)):Ie++,lt=Ct[Ct.length-Le],ye.push({command:xt.addLayer,args:[Dt[je],lt]}),Ct.splice(Ct.length-Le,0,je),Yt[je]=!0);for(Le=0;Le<At.length;Le++)if(qe=Tt[je=At[Le]],Qe=Dt[je],!Yt[je]&&!a.deepEqual(qe,Qe))if(a.deepEqual(qe.source,Qe.source)&&a.deepEqual(qe["source-layer"],Qe["source-layer"])&&a.deepEqual(qe.type,Qe.type)){for(ft in Gt(qe.layout,Qe.layout,ye,je,null,xt.setLayoutProperty),Gt(qe.paint,Qe.paint,ye,je,null,xt.setPaintProperty),a.deepEqual(qe.filter,Qe.filter)||ye.push({command:xt.setFilter,args:[je,Qe.filter]}),a.deepEqual(qe.minzoom,Qe.minzoom)&&a.deepEqual(qe.maxzoom,Qe.maxzoom)||ye.push({command:xt.setLayerZoomRange,args:[je,Qe.minzoom,Qe.maxzoom]}),qe)qe.hasOwnProperty(ft)&&ft!=="layout"&&ft!=="paint"&&ft!=="filter"&&ft!=="metadata"&&ft!=="minzoom"&&ft!=="maxzoom"&&(ft.indexOf("paint.")===0?Gt(qe[ft],Qe[ft],ye,je,ft.slice(6),xt.setPaintProperty):a.deepEqual(qe[ft],Qe[ft])||ye.push({command:xt.setLayerProperty,args:[je,ft,Qe[ft]]}));for(ft in Qe)Qe.hasOwnProperty(ft)&&!qe.hasOwnProperty(ft)&&ft!=="layout"&&ft!=="paint"&&ft!=="filter"&&ft!=="metadata"&&ft!=="minzoom"&&ft!=="maxzoom"&&(ft.indexOf("paint.")===0?Gt(qe[ft],Qe[ft],ye,je,ft.slice(6),xt.setPaintProperty):a.deepEqual(qe[ft],Qe[ft])||ye.push({command:xt.setLayerProperty,args:[je,ft,Qe[ft]]}))}else ye.push({command:xt.removeLayer,args:[je]}),lt=Ct[Ct.lastIndexOf(je)+1],ye.push({command:xt.addLayer,args:[Qe,lt]})}($,G.layers,H)}catch(ne){console.warn("Unable to compute style diff:",ne),H=[{command:xt.setStyle,args:[G]}]}return H}var Jt=function(B,G){this.reset(B,G)};Jt.prototype.reset=function(B,G){this.points=B||[],this._distances=[0];for(var H=1;H<this.points.length;H++)this._distances[H]=this._distances[H-1]+this.points[H].dist(this.points[H-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(G||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Jt.prototype.lerp=function(B){if(this.points.length===1)return this.points[0];B=a.clamp(B,0,1);for(var G=1,H=this._distances[G],L=B*this.paddedLength+this.padding;H<L&&G<this._distances.length;)H=this._distances[++G];var q=G-1,$=this._distances[q],ne=H-$,ce=ne>0?(L-$)/ne:0;return this.points[q].mult(1-ce).add(this.points[G].mult(ce))};var An=function(B,G,H){var L=this.boxCells=[],q=this.circleCells=[];this.xCellCount=Math.ceil(B/H),this.yCellCount=Math.ceil(G/H);for(var $=0;$<this.xCellCount*this.yCellCount;$++)L.push([]),q.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=B,this.height=G,this.xScale=this.xCellCount/B,this.yScale=this.yCellCount/G,this.boxUid=0,this.circleUid=0};function _n(B,G,H,L,q){var $=a.create();return G?(a.scale($,$,[1/q,1/q,1]),H||a.rotateZ($,$,L.angle)):a.multiply($,L.labelPlaneMatrix,B),$}function un(B,G,H,L,q){if(G){var $=a.clone(B);return a.scale($,$,[q,q,1]),H||a.rotateZ($,$,-L.angle),$}return L.glCoordMatrix}function Wt(B,G){var H=[B.x,B.y,0,1];er(H,H,G);var L=H[3];return{point:new a.Point(H[0]/L,H[1]/L),signedDistanceFromCamera:L}}function rn(B,G){return .5+B/G*.5}function $t(B,G){var H=B[0]/B[3],L=B[1]/B[3];return H>=-G[0]&&H<=G[0]&&L>=-G[1]&&L<=G[1]}function sn(B,G,H,L,q,$,ne,ce){var ye=L?B.textSizeData:B.iconSizeData,Le=a.evaluateSizeForZoom(ye,H.transform.zoom),Ie=[256/H.width*2+1,256/H.height*2+1],je=L?B.text.dynamicLayoutVertexArray:B.icon.dynamicLayoutVertexArray;je.clear();for(var qe=B.lineVertexArray,Qe=L?B.text.placedSymbolArray:B.icon.placedSymbolArray,lt=H.transform.width/H.transform.height,ft=!1,bt=0;bt<Qe.length;bt++){var At=Qe.get(bt);if(At.hidden||At.writingMode===a.WritingMode.vertical&&!ft)zn(At.numGlyphs,je);else{ft=!1;var Tt=[At.anchorX,At.anchorY,0,1];if(a.transformMat4(Tt,Tt,G),$t(Tt,Ie)){var Dt=Tt[3],Ct=rn(H.transform.cameraToCenterDistance,Dt),Yt=a.evaluateSizeForFeature(ye,Le,At),Vt=ne?Yt/Ct:Yt*Ct,Ft=new a.Point(At.anchorX,At.anchorY),cn=Wt(Ft,q).point,dn={},Mn=Pn(At,Vt,!1,ce,G,q,$,B.glyphOffsetArray,qe,je,cn,Ft,dn,lt);ft=Mn.useVertical,(Mn.notEnoughRoom||ft||Mn.needsFlipping&&Pn(At,Vt,!0,ce,G,q,$,B.glyphOffsetArray,qe,je,cn,Ft,dn,lt).notEnoughRoom)&&zn(At.numGlyphs,je)}else zn(At.numGlyphs,je)}}L?B.text.dynamicLayoutVertexBuffer.updateData(je):B.icon.dynamicLayoutVertexBuffer.updateData(je)}function xn(B,G,H,L,q,$,ne,ce,ye,Le,Ie){var je=ce.glyphStartIndex+ce.numGlyphs,qe=ce.lineStartIndex,Qe=ce.lineStartIndex+ce.lineLength,lt=G.getoffsetX(ce.glyphStartIndex),ft=G.getoffsetX(je-1),bt=Sn(B*lt,H,L,q,$,ne,ce.segment,qe,Qe,ye,Le,Ie);if(!bt)return null;var At=Sn(B*ft,H,L,q,$,ne,ce.segment,qe,Qe,ye,Le,Ie);return At?{first:bt,last:At}:null}function wn(B,G,H,L){return B===a.WritingMode.horizontal&&Math.abs(H.y-G.y)>Math.abs(H.x-G.x)*L?{useVertical:!0}:(B===a.WritingMode.vertical?G.y<H.y:G.x>H.x)?{needsFlipping:!0}:null}function Pn(B,G,H,L,q,$,ne,ce,ye,Le,Ie,je,qe,Qe){var lt,ft=G/24,bt=B.lineOffsetX*ft,At=B.lineOffsetY*ft;if(B.numGlyphs>1){var Tt=B.glyphStartIndex+B.numGlyphs,Dt=B.lineStartIndex,Ct=B.lineStartIndex+B.lineLength,Yt=xn(ft,ce,bt,At,H,Ie,je,B,ye,$,qe);if(!Yt)return{notEnoughRoom:!0};var Vt=Wt(Yt.first.point,ne).point,Ft=Wt(Yt.last.point,ne).point;if(L&&!H){var cn=wn(B.writingMode,Vt,Ft,Qe);if(cn)return cn}lt=[Yt.first];for(var dn=B.glyphStartIndex+1;dn<Tt-1;dn++)lt.push(Sn(ft*ce.getoffsetX(dn),bt,At,H,Ie,je,B.segment,Dt,Ct,ye,$,qe));lt.push(Yt.last)}else{if(L&&!H){var Mn=Wt(je,q).point,Ln=B.lineStartIndex+B.segment+1,Un=new a.Point(ye.getx(Ln),ye.gety(Ln)),Qn=Wt(Un,q),ur=Qn.signedDistanceFromCamera>0?Qn.point:Cn(je,Un,Mn,1,q),Hn=wn(B.writingMode,Mn,ur,Qe);if(Hn)return Hn}var sr=Sn(ft*ce.getoffsetX(B.glyphStartIndex),bt,At,H,Ie,je,B.segment,B.lineStartIndex,B.lineStartIndex+B.lineLength,ye,$,qe);if(!sr)return{notEnoughRoom:!0};lt=[sr]}for(var vr=0,Ar=lt;vr<Ar.length;vr+=1){var Jn=Ar[vr];a.addDynamicAttributes(Le,Jn.point,Jn.angle)}return{}}function Cn(B,G,H,L,q){var $=Wt(B.add(B.sub(G)._unit()),q).point,ne=H.sub($);return H.add(ne._mult(L/ne.mag()))}function Sn(B,G,H,L,q,$,ne,ce,ye,Le,Ie,je){var qe=L?B-G:B+G,Qe=qe>0?1:-1,lt=0;L&&(Qe*=-1,lt=Math.PI),Qe<0&&(lt+=Math.PI);for(var ft=Qe>0?ce+ne:ce+ne+1,bt=q,At=q,Tt=0,Dt=0,Ct=Math.abs(qe),Yt=[];Tt+Dt<=Ct;){if((ft+=Qe)<ce||ft>=ye)return null;if(At=bt,Yt.push(bt),(bt=je[ft])===void 0){var Vt=new a.Point(Le.getx(ft),Le.gety(ft)),Ft=Wt(Vt,Ie);if(Ft.signedDistanceFromCamera>0)bt=je[ft]=Ft.point;else{var cn=ft-Qe;bt=Cn(Tt===0?$:new a.Point(Le.getx(cn),Le.gety(cn)),Vt,At,Ct-Tt+1,Ie)}}Tt+=Dt,Dt=At.dist(bt)}var dn=(Ct-Tt)/Dt,Mn=bt.sub(At),Ln=Mn.mult(dn)._add(At);Ln._add(Mn._unit()._perp()._mult(H*Qe));var Un=lt+Math.atan2(bt.y-At.y,bt.x-At.x);return Yt.push(Ln),{point:Ln,angle:Un,path:Yt}}An.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},An.prototype.insert=function(B,G,H,L,q){this._forEachCell(G,H,L,q,this._insertBoxCell,this.boxUid++),this.boxKeys.push(B),this.bboxes.push(G),this.bboxes.push(H),this.bboxes.push(L),this.bboxes.push(q)},An.prototype.insertCircle=function(B,G,H,L){this._forEachCell(G-L,H-L,G+L,H+L,this._insertCircleCell,this.circleUid++),this.circleKeys.push(B),this.circles.push(G),this.circles.push(H),this.circles.push(L)},An.prototype._insertBoxCell=function(B,G,H,L,q,$){this.boxCells[q].push($)},An.prototype._insertCircleCell=function(B,G,H,L,q,$){this.circleCells[q].push($)},An.prototype._query=function(B,G,H,L,q,$){if(H<0||B>this.width||L<0||G>this.height)return!q&&[];var ne=[];if(B<=0&&G<=0&&this.width<=H&&this.height<=L){if(q)return!0;for(var ce=0;ce<this.boxKeys.length;ce++)ne.push({key:this.boxKeys[ce],x1:this.bboxes[4*ce],y1:this.bboxes[4*ce+1],x2:this.bboxes[4*ce+2],y2:this.bboxes[4*ce+3]});for(var ye=0;ye<this.circleKeys.length;ye++){var Le=this.circles[3*ye],Ie=this.circles[3*ye+1],je=this.circles[3*ye+2];ne.push({key:this.circleKeys[ye],x1:Le-je,y1:Ie-je,x2:Le+je,y2:Ie+je})}return $?ne.filter($):ne}var qe={hitTest:q,seenUids:{box:{},circle:{}}};return this._forEachCell(B,G,H,L,this._queryCell,ne,qe,$),q?ne.length>0:ne},An.prototype._queryCircle=function(B,G,H,L,q){var $=B-H,ne=B+H,ce=G-H,ye=G+H;if(ne<0||$>this.width||ye<0||ce>this.height)return!L&&[];var Le=[],Ie={hitTest:L,circle:{x:B,y:G,radius:H},seenUids:{box:{},circle:{}}};return this._forEachCell($,ce,ne,ye,this._queryCellCircle,Le,Ie,q),L?Le.length>0:Le},An.prototype.query=function(B,G,H,L,q){return this._query(B,G,H,L,!1,q)},An.prototype.hitTest=function(B,G,H,L,q){return this._query(B,G,H,L,!0,q)},An.prototype.hitTestCircle=function(B,G,H,L){return this._queryCircle(B,G,H,!0,L)},An.prototype._queryCell=function(B,G,H,L,q,$,ne,ce){var ye=ne.seenUids,Le=this.boxCells[q];if(Le!==null)for(var Ie=this.bboxes,je=0,qe=Le;je<qe.length;je+=1){var Qe=qe[je];if(!ye.box[Qe]){ye.box[Qe]=!0;var lt=4*Qe;if(B<=Ie[lt+2]&&G<=Ie[lt+3]&&H>=Ie[lt+0]&&L>=Ie[lt+1]&&(!ce||ce(this.boxKeys[Qe]))){if(ne.hitTest)return $.push(!0),!0;$.push({key:this.boxKeys[Qe],x1:Ie[lt],y1:Ie[lt+1],x2:Ie[lt+2],y2:Ie[lt+3]})}}}var ft=this.circleCells[q];if(ft!==null)for(var bt=this.circles,At=0,Tt=ft;At<Tt.length;At+=1){var Dt=Tt[At];if(!ye.circle[Dt]){ye.circle[Dt]=!0;var Ct=3*Dt;if(this._circleAndRectCollide(bt[Ct],bt[Ct+1],bt[Ct+2],B,G,H,L)&&(!ce||ce(this.circleKeys[Dt]))){if(ne.hitTest)return $.push(!0),!0;var Yt=bt[Ct],Vt=bt[Ct+1],Ft=bt[Ct+2];$.push({key:this.circleKeys[Dt],x1:Yt-Ft,y1:Vt-Ft,x2:Yt+Ft,y2:Vt+Ft})}}}},An.prototype._queryCellCircle=function(B,G,H,L,q,$,ne,ce){var ye=ne.circle,Le=ne.seenUids,Ie=this.boxCells[q];if(Ie!==null)for(var je=this.bboxes,qe=0,Qe=Ie;qe<Qe.length;qe+=1){var lt=Qe[qe];if(!Le.box[lt]){Le.box[lt]=!0;var ft=4*lt;if(this._circleAndRectCollide(ye.x,ye.y,ye.radius,je[ft+0],je[ft+1],je[ft+2],je[ft+3])&&(!ce||ce(this.boxKeys[lt])))return $.push(!0),!0}}var bt=this.circleCells[q];if(bt!==null)for(var At=this.circles,Tt=0,Dt=bt;Tt<Dt.length;Tt+=1){var Ct=Dt[Tt];if(!Le.circle[Ct]){Le.circle[Ct]=!0;var Yt=3*Ct;if(this._circlesCollide(At[Yt],At[Yt+1],At[Yt+2],ye.x,ye.y,ye.radius)&&(!ce||ce(this.circleKeys[Ct])))return $.push(!0),!0}}},An.prototype._forEachCell=function(B,G,H,L,q,$,ne,ce){for(var ye=this._convertToXCellCoord(B),Le=this._convertToYCellCoord(G),Ie=this._convertToXCellCoord(H),je=this._convertToYCellCoord(L),qe=ye;qe<=Ie;qe++)for(var Qe=Le;Qe<=je;Qe++){var lt=this.xCellCount*Qe+qe;if(q.call(this,B,G,H,L,lt,$,ne,ce))return}},An.prototype._convertToXCellCoord=function(B){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(B*this.xScale)))},An.prototype._convertToYCellCoord=function(B){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(B*this.yScale)))},An.prototype._circlesCollide=function(B,G,H,L,q,$){var ne=L-B,ce=q-G,ye=H+$;return ye*ye>ne*ne+ce*ce},An.prototype._circleAndRectCollide=function(B,G,H,L,q,$,ne){var ce=($-L)/2,ye=Math.abs(B-(L+ce));if(ye>ce+H)return!1;var Le=(ne-q)/2,Ie=Math.abs(G-(q+Le));if(Ie>Le+H)return!1;if(ye<=ce||Ie<=Le)return!0;var je=ye-ce,qe=Ie-Le;return je*je+qe*qe<=H*H};var Nn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function zn(B,G){for(var H=0;H<B;H++){var L=G.length;G.resize(L+4),G.float32.set(Nn,3*L)}}function er(B,G,H){var L=G[0],q=G[1];return B[0]=H[0]*L+H[4]*q+H[12],B[1]=H[1]*L+H[5]*q+H[13],B[3]=H[3]*L+H[7]*q+H[15],B}var nr=100,ir=function(B,G,H){G===void 0&&(G=new An(B.width+200,B.height+200,25)),H===void 0&&(H=new An(B.width+200,B.height+200,25)),this.transform=B,this.grid=G,this.ignoredGrid=H,this.pitchfactor=Math.cos(B._pitch)*B.cameraToCenterDistance,this.screenRightBoundary=B.width+nr,this.screenBottomBoundary=B.height+nr,this.gridRightBoundary=B.width+200,this.gridBottomBoundary=B.height+200};function Yn(B,G,H){return G*(a.EXTENT/(B.tileSize*Math.pow(2,H-B.tileID.overscaledZ)))}ir.prototype.placeCollisionBox=function(B,G,H,L,q){var $=this.projectAndGetPerspectiveRatio(L,B.anchorPointX,B.anchorPointY),ne=H*$.perspectiveRatio,ce=B.x1*ne+$.point.x,ye=B.y1*ne+$.point.y,Le=B.x2*ne+$.point.x,Ie=B.y2*ne+$.point.y;return!this.isInsideGrid(ce,ye,Le,Ie)||!G&&this.grid.hitTest(ce,ye,Le,Ie,q)?{box:[],offscreen:!1}:{box:[ce,ye,Le,Ie],offscreen:this.isOffscreen(ce,ye,Le,Ie)}},ir.prototype.placeCollisionCircles=function(B,G,H,L,q,$,ne,ce,ye,Le,Ie,je,qe){var Qe=[],lt=new a.Point(G.anchorX,G.anchorY),ft=Wt(lt,$),bt=rn(this.transform.cameraToCenterDistance,ft.signedDistanceFromCamera),At=(Le?q/bt:q*bt)/a.ONE_EM,Tt=Wt(lt,ne).point,Dt=xn(At,L,G.lineOffsetX*At,G.lineOffsetY*At,!1,Tt,lt,G,H,ne,{}),Ct=!1,Yt=!1,Vt=!0;if(Dt){for(var Ft=.5*je*bt+qe,cn=new a.Point(-100,-100),dn=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Mn=new Jt,Ln=Dt.first,Un=Dt.last,Qn=[],ur=Ln.path.length-1;ur>=1;ur--)Qn.push(Ln.path[ur]);for(var Hn=1;Hn<Un.path.length;Hn++)Qn.push(Un.path[Hn]);var sr=2.5*Ft;if(ce){var vr=Qn.map(function(Hr){return Wt(Hr,ce)});Qn=vr.some(function(Hr){return Hr.signedDistanceFromCamera<=0})?[]:vr.map(function(Hr){return Hr.point})}var Ar=[];if(Qn.length>0){for(var Jn=Qn[0].clone(),or=Qn[0].clone(),xr=1;xr<Qn.length;xr++)Jn.x=Math.min(Jn.x,Qn[xr].x),Jn.y=Math.min(Jn.y,Qn[xr].y),or.x=Math.max(or.x,Qn[xr].x),or.y=Math.max(or.y,Qn[xr].y);Ar=Jn.x>=cn.x&&or.x<=dn.x&&Jn.y>=cn.y&&or.y<=dn.y?[Qn]:or.x<cn.x||Jn.x>dn.x||or.y<cn.y||Jn.y>dn.y?[]:a.clipLine([Qn],cn.x,cn.y,dn.x,dn.y)}for(var cr=0,Tr=Ar;cr<Tr.length;cr+=1){var Er=Tr[cr];Mn.reset(Er,.25*Ft);var Dr;Dr=Mn.length<=.5*Ft?1:Math.ceil(Mn.paddedLength/sr)+1;for(var Rr=0;Rr<Dr;Rr++){var Nr=Rr/Math.max(Dr-1,1),Vr=Mn.lerp(Nr),li=Vr.x+nr,ki=Vr.y+nr;Qe.push(li,ki,Ft,0);var ea=li-Ft,Bi=ki-Ft,Yi=li+Ft,pi=ki+Ft;if(Vt=Vt&&this.isOffscreen(ea,Bi,Yi,pi),Yt=Yt||this.isInsideGrid(ea,Bi,Yi,pi),!B&&this.grid.hitTestCircle(li,ki,Ft,Ie)&&(Ct=!0,!ye))return{circles:[],offscreen:!1,collisionDetected:Ct}}}}return{circles:!ye&&Ct||!Yt?[]:Qe,offscreen:Vt,collisionDetected:Ct}},ir.prototype.queryRenderedSymbols=function(B){if(B.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var G=[],H=1/0,L=1/0,q=-1/0,$=-1/0,ne=0,ce=B;ne<ce.length;ne+=1){var ye=ce[ne],Le=new a.Point(ye.x+nr,ye.y+nr);H=Math.min(H,Le.x),L=Math.min(L,Le.y),q=Math.max(q,Le.x),$=Math.max($,Le.y),G.push(Le)}for(var Ie={},je={},qe=0,Qe=this.grid.query(H,L,q,$).concat(this.ignoredGrid.query(H,L,q,$));qe<Qe.length;qe+=1){var lt=Qe[qe],ft=lt.key;if(Ie[ft.bucketInstanceId]===void 0&&(Ie[ft.bucketInstanceId]={}),!Ie[ft.bucketInstanceId][ft.featureIndex]){var bt=[new a.Point(lt.x1,lt.y1),new a.Point(lt.x2,lt.y1),new a.Point(lt.x2,lt.y2),new a.Point(lt.x1,lt.y2)];a.polygonIntersectsPolygon(G,bt)&&(Ie[ft.bucketInstanceId][ft.featureIndex]=!0,je[ft.bucketInstanceId]===void 0&&(je[ft.bucketInstanceId]=[]),je[ft.bucketInstanceId].push(ft.featureIndex))}}return je},ir.prototype.insertCollisionBox=function(B,G,H,L,q){var $={bucketInstanceId:H,featureIndex:L,collisionGroupID:q};(G?this.ignoredGrid:this.grid).insert($,B[0],B[1],B[2],B[3])},ir.prototype.insertCollisionCircles=function(B,G,H,L,q){for(var $=G?this.ignoredGrid:this.grid,ne={bucketInstanceId:H,featureIndex:L,collisionGroupID:q},ce=0;ce<B.length;ce+=4)$.insertCircle(ne,B[ce],B[ce+1],B[ce+2])},ir.prototype.projectAndGetPerspectiveRatio=function(B,G,H){var L=[G,H,0,1];return er(L,L,B),{point:new a.Point((L[0]/L[3]+1)/2*this.transform.width+nr,(-L[1]/L[3]+1)/2*this.transform.height+nr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/L[3]*.5}},ir.prototype.isOffscreen=function(B,G,H,L){return H<nr||B>=this.screenRightBoundary||L<nr||G>this.screenBottomBoundary},ir.prototype.isInsideGrid=function(B,G,H,L){return H>=0&&B<this.gridRightBoundary&&L>=0&&G<this.gridBottomBoundary},ir.prototype.getViewportMatrix=function(){var B=a.identity([]);return a.translate(B,B,[-100,-100,0]),B};var mr=function(B,G,H,L){this.opacity=B?Math.max(0,Math.min(1,B.opacity+(B.placed?G:-G))):L&&H?1:0,this.placed=H};mr.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Bt=function(B,G,H,L,q){this.text=new mr(B?B.text:null,G,H,q),this.icon=new mr(B?B.icon:null,G,L,q)};Bt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Qt=function(B,G,H){this.text=B,this.icon=G,this.skipFade=H},vn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},fn=function(B,G,H,L,q){this.bucketInstanceId=B,this.featureIndex=G,this.sourceLayerIndex=H,this.bucketIndex=L,this.tileID=q},Tn=function(B){this.crossSourceCollisions=B,this.maxGroupID=0,this.collisionGroups={}};function jn(B,G,H,L,q){var $=a.getAnchorAlignment(B),ne=-($.horizontalAlign-.5)*G,ce=-($.verticalAlign-.5)*H,ye=a.evaluateVariableOffset(B,L);return new a.Point(ne+ye[0]*q,ce+ye[1]*q)}function On(B,G,H,L,q,$){var ne=B.x1,ce=B.x2,ye=B.y1,Le=B.y2,Ie=B.anchorPointX,je=B.anchorPointY,qe=new a.Point(G,H);return L&&qe._rotate(q?$:-$),{x1:ne+qe.x,y1:ye+qe.y,x2:ce+qe.x,y2:Le+qe.y,anchorPointX:Ie,anchorPointY:je}}Tn.prototype.get=function(B){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[B]){var G=++this.maxGroupID;this.collisionGroups[B]={ID:G,predicate:function(H){return H.collisionGroupID===G}}}return this.collisionGroups[B]};var Dn=function(B,G,H,L){this.transform=B.clone(),this.collisionIndex=new ir(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=G,this.retainedQueryData={},this.collisionGroups=new Tn(H),this.collisionCircleArrays={},this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}};function $n(B,G,H,L,q){B.emplaceBack(G?1:0,H?1:0,L||0,q||0),B.emplaceBack(G?1:0,H?1:0,L||0,q||0),B.emplaceBack(G?1:0,H?1:0,L||0,q||0),B.emplaceBack(G?1:0,H?1:0,L||0,q||0)}Dn.prototype.getBucketParts=function(B,G,H,L){var q=H.getBucket(G),$=H.latestFeatureIndex;if(q&&$&&G.id===q.layerIds[0]){var ne=H.collisionBoxArray,ce=q.layers[0].layout,ye=Math.pow(2,this.transform.zoom-H.tileID.overscaledZ),Le=H.tileSize/a.EXTENT,Ie=this.transform.calculatePosMatrix(H.tileID.toUnwrapped()),je=ce.get("text-pitch-alignment")==="map",qe=ce.get("text-rotation-alignment")==="map",Qe=Yn(H,1,this.transform.zoom),lt=_n(Ie,je,qe,this.transform,Qe),ft=null;if(je){var bt=un(Ie,je,qe,this.transform,Qe);ft=a.multiply([],this.transform.labelPlaneMatrix,bt)}this.retainedQueryData[q.bucketInstanceId]=new fn(q.bucketInstanceId,$,q.sourceLayerIndex,q.index,H.tileID);var At={bucket:q,layout:ce,posMatrix:Ie,textLabelPlaneMatrix:lt,labelToScreenMatrix:ft,scale:ye,textPixelRatio:Le,holdingForFade:H.holdingForFade(),collisionBoxArray:ne,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(q.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(q.sourceID)};if(L)for(var Tt=0,Dt=q.sortKeyRanges;Tt<Dt.length;Tt+=1){var Ct=Dt[Tt],Yt=Ct.sortKey,Vt=Ct.symbolInstanceStart,Ft=Ct.symbolInstanceEnd;B.push({sortKey:Yt,symbolInstanceStart:Vt,symbolInstanceEnd:Ft,parameters:At})}else B.push({symbolInstanceStart:0,symbolInstanceEnd:q.symbolInstances.length,parameters:At})}},Dn.prototype.attemptAnchorPlacement=function(B,G,H,L,q,$,ne,ce,ye,Le,Ie,je,qe,Qe,lt){var ft,bt=[je.textOffset0,je.textOffset1],At=jn(B,H,L,bt,q),Tt=this.collisionIndex.placeCollisionBox(On(G,At.x,At.y,$,ne,this.transform.angle),Ie,ce,ye,Le.predicate);if(!lt||this.collisionIndex.placeCollisionBox(On(lt,At.x,At.y,$,ne,this.transform.angle),Ie,ce,ye,Le.predicate).box.length!==0)return Tt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[je.crossTileID]&&this.prevPlacement.placements[je.crossTileID]&&this.prevPlacement.placements[je.crossTileID].text&&(ft=this.prevPlacement.variableOffsets[je.crossTileID].anchor),this.variableOffsets[je.crossTileID]={textOffset:bt,width:H,height:L,anchor:B,textBoxScale:q,prevAnchor:ft},this.markUsedJustification(qe,B,je,Qe),qe.allowVerticalPlacement&&(this.markUsedOrientation(qe,Qe,je),this.placedOrientations[je.crossTileID]=Qe),{shift:At,placedGlyphBoxes:Tt}):void 0},Dn.prototype.placeLayerBucketPart=function(B,G,H){var L=this,q=B.parameters,$=q.bucket,ne=q.layout,ce=q.posMatrix,ye=q.textLabelPlaneMatrix,Le=q.labelToScreenMatrix,Ie=q.textPixelRatio,je=q.holdingForFade,qe=q.collisionBoxArray,Qe=q.partiallyEvaluatedTextSize,lt=q.collisionGroup,ft=ne.get("text-optional"),bt=ne.get("icon-optional"),At=ne.get("text-allow-overlap"),Tt=ne.get("icon-allow-overlap"),Dt=ne.get("text-rotation-alignment")==="map",Ct=ne.get("text-pitch-alignment")==="map",Yt=ne.get("icon-text-fit")!=="none",Vt=ne.get("symbol-z-order")==="viewport-y",Ft=At&&(Tt||!$.hasIconData()||bt),cn=Tt&&(At||!$.hasTextData()||ft);!$.collisionArrays&&qe&&$.deserializeCollisionBoxes(qe);var dn=function(Hn,sr){if(!G[Hn.crossTileID])if(je)L.placements[Hn.crossTileID]=new Qt(!1,!1,!1);else{var vr,Ar=!1,Jn=!1,or=!0,xr=null,cr={box:null,offscreen:null},Tr={box:null,offscreen:null},Er=null,Dr=null,Rr=0,Nr=0,Vr=0;sr.textFeatureIndex?Rr=sr.textFeatureIndex:Hn.useRuntimeCollisionCircles&&(Rr=Hn.featureIndex),sr.verticalTextFeatureIndex&&(Nr=sr.verticalTextFeatureIndex);var li=sr.textBox;if(li){var ki=function(xi){var Ta=a.WritingMode.horizontal;if($.allowVerticalPlacement&&!xi&&L.prevPlacement){var Hi=L.prevPlacement.placedOrientations[Hn.crossTileID];Hi&&(L.placedOrientations[Hn.crossTileID]=Hi,Ta=Hi,L.markUsedOrientation($,Ta,Hn))}return Ta},ea=function(xi,Ta){if($.allowVerticalPlacement&&Hn.numVerticalGlyphVertices>0&&sr.verticalTextBox)for(var Hi=0,Sl=$.writingModes;Hi<Sl.length&&(Sl[Hi]===a.WritingMode.vertical?(cr=Ta(),Tr=cr):cr=xi(),!(cr&&cr.box&&cr.box.length));Hi+=1);else cr=xi()};if(ne.get("text-variable-anchor")){var Bi=ne.get("text-variable-anchor");if(L.prevPlacement&&L.prevPlacement.variableOffsets[Hn.crossTileID]){var Yi=L.prevPlacement.variableOffsets[Hn.crossTileID];Bi.indexOf(Yi.anchor)>0&&(Bi=Bi.filter(function(xi){return xi!==Yi.anchor})).unshift(Yi.anchor)}var pi=function(xi,Ta,Hi){for(var Sl=xi.x2-xi.x1,bc=xi.y2-xi.y1,zu=Hn.textBoxScale,_c=Yt&&!Tt?Ta:null,dl={box:[],offscreen:!1},wc=At?2*Bi.length:Bi.length,vl=0;vl<wc;++vl){var Du=Bi[vl%Bi.length],Ru=vl>=Bi.length,Zs=L.attemptAnchorPlacement(Du,xi,Sl,bc,zu,Dt,Ct,Ie,ce,lt,Ru,Hn,$,Hi,_c);if(Zs&&(dl=Zs.placedGlyphBoxes)&&dl.box&&dl.box.length){Ar=!0,xr=Zs.shift;break}}return dl};ea(function(){return pi(li,sr.iconBox,a.WritingMode.horizontal)},function(){var xi=sr.verticalTextBox,Ta=cr&&cr.box&&cr.box.length;return $.allowVerticalPlacement&&!Ta&&Hn.numVerticalGlyphVertices>0&&xi?pi(xi,sr.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),cr&&(Ar=cr.box,or=cr.offscreen);var Hr=ki(cr&&cr.box);if(!Ar&&L.prevPlacement){var mi=L.prevPlacement.variableOffsets[Hn.crossTileID];mi&&(L.variableOffsets[Hn.crossTileID]=mi,L.markUsedJustification($,mi.anchor,Hn,Hr))}}else{var ni=function(xi,Ta){var Hi=L.collisionIndex.placeCollisionBox(xi,At,Ie,ce,lt.predicate);return Hi&&Hi.box&&Hi.box.length&&(L.markUsedOrientation($,Ta,Hn),L.placedOrientations[Hn.crossTileID]=Ta),Hi};ea(function(){return ni(li,a.WritingMode.horizontal)},function(){var xi=sr.verticalTextBox;return $.allowVerticalPlacement&&Hn.numVerticalGlyphVertices>0&&xi?ni(xi,a.WritingMode.vertical):{box:null,offscreen:null}}),ki(cr&&cr.box&&cr.box.length)}}if(Ar=(vr=cr)&&vr.box&&vr.box.length>0,or=vr&&vr.offscreen,Hn.useRuntimeCollisionCircles){var Yr=$.text.placedSymbolArray.get(Hn.centerJustifiedTextSymbolIndex),yi=a.evaluateSizeForFeature($.textSizeData,Qe,Yr),Ai=ne.get("text-padding"),Ii=Hn.collisionCircleDiameter;Er=L.collisionIndex.placeCollisionCircles(At,Yr,$.lineVertexArray,$.glyphOffsetArray,yi,ce,ye,Le,H,Ct,lt.predicate,Ii,Ai),Ar=At||Er.circles.length>0&&!Er.collisionDetected,or=or&&Er.offscreen}if(sr.iconFeatureIndex&&(Vr=sr.iconFeatureIndex),sr.iconBox){var ps=function(xi){var Ta=Yt&&xr?On(xi,xr.x,xr.y,Dt,Ct,L.transform.angle):xi;return L.collisionIndex.placeCollisionBox(Ta,Tt,Ie,ce,lt.predicate)};Jn=Tr&&Tr.box&&Tr.box.length&&sr.verticalIconBox?(Dr=ps(sr.verticalIconBox)).box.length>0:(Dr=ps(sr.iconBox)).box.length>0,or=or&&Dr.offscreen}var ds=ft||Hn.numHorizontalGlyphVertices===0&&Hn.numVerticalGlyphVertices===0,Zr=bt||Hn.numIconVertices===0;if(ds||Zr?Zr?ds||(Jn=Jn&&Ar):Ar=Jn&&Ar:Jn=Ar=Jn&&Ar,Ar&&vr&&vr.box&&(Tr&&Tr.box&&Nr?L.collisionIndex.insertCollisionBox(vr.box,ne.get("text-ignore-placement"),$.bucketInstanceId,Nr,lt.ID):L.collisionIndex.insertCollisionBox(vr.box,ne.get("text-ignore-placement"),$.bucketInstanceId,Rr,lt.ID)),Jn&&Dr&&L.collisionIndex.insertCollisionBox(Dr.box,ne.get("icon-ignore-placement"),$.bucketInstanceId,Vr,lt.ID),Er&&(Ar&&L.collisionIndex.insertCollisionCircles(Er.circles,ne.get("text-ignore-placement"),$.bucketInstanceId,Rr,lt.ID),H)){var Ys=$.bucketInstanceId,Ls=L.collisionCircleArrays[Ys];Ls===void 0&&(Ls=L.collisionCircleArrays[Ys]=new vn);for(var go=0;go<Er.circles.length;go+=4)Ls.circles.push(Er.circles[go+0]),Ls.circles.push(Er.circles[go+1]),Ls.circles.push(Er.circles[go+2]),Ls.circles.push(Er.collisionDetected?1:0)}L.placements[Hn.crossTileID]=new Qt(Ar||Ft,Jn||cn,or||$.justReloaded),G[Hn.crossTileID]=!0}};if(Vt)for(var Mn=$.getSortedSymbolIndexes(this.transform.angle),Ln=Mn.length-1;Ln>=0;--Ln){var Un=Mn[Ln];dn($.symbolInstances.get(Un),$.collisionArrays[Un])}else for(var Qn=B.symbolInstanceStart;Qn<B.symbolInstanceEnd;Qn++)dn($.symbolInstances.get(Qn),$.collisionArrays[Qn]);if(H&&$.bucketInstanceId in this.collisionCircleArrays){var ur=this.collisionCircleArrays[$.bucketInstanceId];a.invert(ur.invProjMatrix,ce),ur.viewportMatrix=this.collisionIndex.getViewportMatrix()}$.justReloaded=!1},Dn.prototype.markUsedJustification=function(B,G,H,L){var q,$={left:H.leftJustifiedTextSymbolIndex,center:H.centerJustifiedTextSymbolIndex,right:H.rightJustifiedTextSymbolIndex};q=L===a.WritingMode.vertical?H.verticalPlacedTextSymbolIndex:$[a.getAnchorJustification(G)];for(var ne=0,ce=[H.leftJustifiedTextSymbolIndex,H.centerJustifiedTextSymbolIndex,H.rightJustifiedTextSymbolIndex,H.verticalPlacedTextSymbolIndex];ne<ce.length;ne+=1){var ye=ce[ne];ye>=0&&(B.text.placedSymbolArray.get(ye).crossTileID=q>=0&&ye!==q?0:H.crossTileID)}},Dn.prototype.markUsedOrientation=function(B,G,H){for(var L=G===a.WritingMode.horizontal||G===a.WritingMode.horizontalOnly?G:0,q=G===a.WritingMode.vertical?G:0,$=0,ne=[H.leftJustifiedTextSymbolIndex,H.centerJustifiedTextSymbolIndex,H.rightJustifiedTextSymbolIndex];$<ne.length;$+=1){var ce=ne[$];B.text.placedSymbolArray.get(ce).placedOrientation=L}H.verticalPlacedTextSymbolIndex&&(B.text.placedSymbolArray.get(H.verticalPlacedTextSymbolIndex).placedOrientation=q)},Dn.prototype.commit=function(B){this.commitTime=B,this.zoomAtLastRecencyCheck=this.transform.zoom;var G=this.prevPlacement,H=!1;this.prevZoomAdjustment=G?G.zoomAdjustment(this.transform.zoom):0;var L=G?G.symbolFadeChange(B):1,q=G?G.opacities:{},$=G?G.variableOffsets:{},ne=G?G.placedOrientations:{};for(var ce in this.placements){var ye=this.placements[ce],Le=q[ce];Le?(this.opacities[ce]=new Bt(Le,L,ye.text,ye.icon),H=H||ye.text!==Le.text.placed||ye.icon!==Le.icon.placed):(this.opacities[ce]=new Bt(null,L,ye.text,ye.icon,ye.skipFade),H=H||ye.text||ye.icon)}for(var Ie in q){var je=q[Ie];if(!this.opacities[Ie]){var qe=new Bt(je,L,!1,!1);qe.isHidden()||(this.opacities[Ie]=qe,H=H||je.text.placed||je.icon.placed)}}for(var Qe in $)this.variableOffsets[Qe]||!this.opacities[Qe]||this.opacities[Qe].isHidden()||(this.variableOffsets[Qe]=$[Qe]);for(var lt in ne)this.placedOrientations[lt]||!this.opacities[lt]||this.opacities[lt].isHidden()||(this.placedOrientations[lt]=ne[lt]);H?this.lastPlacementChangeTime=B:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=G?G.lastPlacementChangeTime:B)},Dn.prototype.updateLayerOpacities=function(B,G){for(var H={},L=0,q=G;L<q.length;L+=1){var $=q[L],ne=$.getBucket(B);ne&&$.latestFeatureIndex&&B.id===ne.layerIds[0]&&this.updateBucketOpacities(ne,H,$.collisionBoxArray)}},Dn.prototype.updateBucketOpacities=function(B,G,H){var L=this;B.hasTextData()&&B.text.opacityVertexArray.clear(),B.hasIconData()&&B.icon.opacityVertexArray.clear(),B.hasIconCollisionBoxData()&&B.iconCollisionBox.collisionVertexArray.clear(),B.hasTextCollisionBoxData()&&B.textCollisionBox.collisionVertexArray.clear();var q=B.layers[0].layout,$=new Bt(null,0,!1,!1,!0),ne=q.get("text-allow-overlap"),ce=q.get("icon-allow-overlap"),ye=q.get("text-variable-anchor"),Le=q.get("text-rotation-alignment")==="map",Ie=q.get("text-pitch-alignment")==="map",je=q.get("icon-text-fit")!=="none",qe=new Bt(null,0,ne&&(ce||!B.hasIconData()||q.get("icon-optional")),ce&&(ne||!B.hasTextData()||q.get("text-optional")),!0);!B.collisionArrays&&H&&(B.hasIconCollisionBoxData()||B.hasTextCollisionBoxData())&&B.deserializeCollisionBoxes(H);for(var Qe=function(At,Tt,Dt){for(var Ct=0;Ct<Tt/4;Ct++)At.opacityVertexArray.emplaceBack(Dt)},lt=function(At){var Tt=B.symbolInstances.get(At),Dt=Tt.numHorizontalGlyphVertices,Ct=Tt.numVerticalGlyphVertices,Yt=Tt.crossTileID,Vt=G[Yt],Ft=L.opacities[Yt];Vt?Ft=$:Ft||(Ft=qe,L.opacities[Yt]=Ft),G[Yt]=!0;var cn=Dt>0||Ct>0,dn=Tt.numIconVertices>0,Mn=L.placedOrientations[Tt.crossTileID],Ln=Mn===a.WritingMode.vertical,Un=Mn===a.WritingMode.horizontal||Mn===a.WritingMode.horizontalOnly;if(cn){var Qn=yn(Ft.text),ur=Ln?on:Qn;Qe(B.text,Dt,ur);var Hn=Un?on:Qn;Qe(B.text,Ct,Hn);var sr=Ft.text.isHidden();[Tt.rightJustifiedTextSymbolIndex,Tt.centerJustifiedTextSymbolIndex,Tt.leftJustifiedTextSymbolIndex].forEach(function(Vr){Vr>=0&&(B.text.placedSymbolArray.get(Vr).hidden=sr||Ln?1:0)}),Tt.verticalPlacedTextSymbolIndex>=0&&(B.text.placedSymbolArray.get(Tt.verticalPlacedTextSymbolIndex).hidden=sr||Un?1:0);var vr=L.variableOffsets[Tt.crossTileID];vr&&L.markUsedJustification(B,vr.anchor,Tt,Mn);var Ar=L.placedOrientations[Tt.crossTileID];Ar&&(L.markUsedJustification(B,"left",Tt,Ar),L.markUsedOrientation(B,Ar,Tt))}if(dn){var Jn=yn(Ft.icon),or=!(je&&Tt.verticalPlacedIconSymbolIndex&&Ln);if(Tt.placedIconSymbolIndex>=0){var xr=or?Jn:on;Qe(B.icon,Tt.numIconVertices,xr),B.icon.placedSymbolArray.get(Tt.placedIconSymbolIndex).hidden=Ft.icon.isHidden()}if(Tt.verticalPlacedIconSymbolIndex>=0){var cr=or?on:Jn;Qe(B.icon,Tt.numVerticalIconVertices,cr),B.icon.placedSymbolArray.get(Tt.verticalPlacedIconSymbolIndex).hidden=Ft.icon.isHidden()}}if(B.hasIconCollisionBoxData()||B.hasTextCollisionBoxData()){var Tr=B.collisionArrays[At];if(Tr){var Er=new a.Point(0,0);if(Tr.textBox||Tr.verticalTextBox){var Dr=!0;if(ye){var Rr=L.variableOffsets[Yt];Rr?(Er=jn(Rr.anchor,Rr.width,Rr.height,Rr.textOffset,Rr.textBoxScale),Le&&Er._rotate(Ie?L.transform.angle:-L.transform.angle)):Dr=!1}Tr.textBox&&$n(B.textCollisionBox.collisionVertexArray,Ft.text.placed,!Dr||Ln,Er.x,Er.y),Tr.verticalTextBox&&$n(B.textCollisionBox.collisionVertexArray,Ft.text.placed,!Dr||Un,Er.x,Er.y)}var Nr=!!(!Un&&Tr.verticalIconBox);Tr.iconBox&&$n(B.iconCollisionBox.collisionVertexArray,Ft.icon.placed,Nr,je?Er.x:0,je?Er.y:0),Tr.verticalIconBox&&$n(B.iconCollisionBox.collisionVertexArray,Ft.icon.placed,!Nr,je?Er.x:0,je?Er.y:0)}}},ft=0;ft<B.symbolInstances.length;ft++)lt(ft);if(B.sortFeatures(this.transform.angle),this.retainedQueryData[B.bucketInstanceId]&&(this.retainedQueryData[B.bucketInstanceId].featureSortOrder=B.featureSortOrder),B.hasTextData()&&B.text.opacityVertexBuffer&&B.text.opacityVertexBuffer.updateData(B.text.opacityVertexArray),B.hasIconData()&&B.icon.opacityVertexBuffer&&B.icon.opacityVertexBuffer.updateData(B.icon.opacityVertexArray),B.hasIconCollisionBoxData()&&B.iconCollisionBox.collisionVertexBuffer&&B.iconCollisionBox.collisionVertexBuffer.updateData(B.iconCollisionBox.collisionVertexArray),B.hasTextCollisionBoxData()&&B.textCollisionBox.collisionVertexBuffer&&B.textCollisionBox.collisionVertexBuffer.updateData(B.textCollisionBox.collisionVertexArray),B.bucketInstanceId in this.collisionCircleArrays){var bt=this.collisionCircleArrays[B.bucketInstanceId];B.placementInvProjMatrix=bt.invProjMatrix,B.placementViewportMatrix=bt.viewportMatrix,B.collisionCircleArray=bt.circles,delete this.collisionCircleArrays[B.bucketInstanceId]}},Dn.prototype.symbolFadeChange=function(B){return this.fadeDuration===0?1:(B-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Dn.prototype.zoomAdjustment=function(B){return Math.max(0,(this.transform.zoom-B)/1.5)},Dn.prototype.hasTransitions=function(B){return this.stale||B-this.lastPlacementChangeTime<this.fadeDuration},Dn.prototype.stillRecent=function(B,G){var H=this.zoomAtLastRecencyCheck===G?1-this.zoomAdjustment(G):1;return this.zoomAtLastRecencyCheck=G,this.commitTime+this.fadeDuration*H>B},Dn.prototype.setStale=function(){this.stale=!0};var qt=Math.pow(2,25),hn=Math.pow(2,24),Et=Math.pow(2,17),Ht=Math.pow(2,16),Kt=Math.pow(2,9),gn=Math.pow(2,8),pn=Math.pow(2,1);function yn(B){if(B.opacity===0&&!B.placed)return 0;if(B.opacity===1&&B.placed)return 4294967295;var G=B.placed?1:0,H=Math.floor(127*B.opacity);return H*qt+G*hn+H*Et+G*Ht+H*Kt+G*gn+H*pn+G}var on=0,Zt=function(B){this._sortAcrossTiles=B.layout.get("symbol-z-order")!=="viewport-y"&&B.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Zt.prototype.continuePlacement=function(B,G,H,L,q){for(var $=this._bucketParts;this._currentTileIndex<B.length;){var ne=B[this._currentTileIndex];if(G.getBucketParts($,L,ne,this._sortAcrossTiles),this._currentTileIndex++,q())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,$.sort(function(ye,Le){return ye.sortKey-Le.sortKey}));this._currentPartIndex<$.length;){var ce=$[this._currentPartIndex];if(G.placeLayerBucketPart(ce,this._seenCrossTileIDs,H),this._currentPartIndex++,q())return!0}return!1};var Xt=function(B,G,H,L,q,$,ne){this.placement=new Dn(B,q,$,ne),this._currentPlacementIndex=G.length-1,this._forceFullPlacement=H,this._showCollisionBoxes=L,this._done=!1};Xt.prototype.isDone=function(){return this._done},Xt.prototype.continuePlacement=function(B,G,H){for(var L=this,q=a.browser.now(),$=function(){var ye=a.browser.now()-q;return!L._forceFullPlacement&&ye>2};this._currentPlacementIndex>=0;){var ne=G[B[this._currentPlacementIndex]],ce=this.placement.collisionIndex.transform.zoom;if(ne.type==="symbol"&&(!ne.minzoom||ne.minzoom<=ce)&&(!ne.maxzoom||ne.maxzoom>ce)){if(this._inProgressLayer||(this._inProgressLayer=new Zt(ne)),this._inProgressLayer.continuePlacement(H[ne.source],this.placement,this._showCollisionBoxes,ne,$))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Xt.prototype.commit=function(B){return this.placement.commit(B),this.placement};var nn=512/a.EXTENT/2,ln=function(B,G,H){this.tileID=B,this.indexedSymbolInstances={},this.bucketInstanceId=H;for(var L=0;L<G.length;L++){var q=G.get(L),$=q.key;this.indexedSymbolInstances[$]||(this.indexedSymbolInstances[$]=[]),this.indexedSymbolInstances[$].push({crossTileID:q.crossTileID,coord:this.getScaledCoordinates(q,B)})}};ln.prototype.getScaledCoordinates=function(B,G){var H=G.canonical.z-this.tileID.canonical.z,L=nn/Math.pow(2,H);return{x:Math.floor((G.canonical.x*a.EXTENT+B.anchorX)*L),y:Math.floor((G.canonical.y*a.EXTENT+B.anchorY)*L)}},ln.prototype.findMatches=function(B,G,H){for(var L=this.tileID.canonical.z<G.canonical.z?1:Math.pow(2,this.tileID.canonical.z-G.canonical.z),q=0;q<B.length;q++){var $=B.get(q);if(!$.crossTileID){var ne=this.indexedSymbolInstances[$.key];if(ne)for(var ce=this.getScaledCoordinates($,G),ye=0,Le=ne;ye<Le.length;ye+=1){var Ie=Le[ye];if(Math.abs(Ie.coord.x-ce.x)<=L&&Math.abs(Ie.coord.y-ce.y)<=L&&!H[Ie.crossTileID]){H[Ie.crossTileID]=!0,$.crossTileID=Ie.crossTileID;break}}}}};var kn=function(){this.maxCrossTileID=0};kn.prototype.generate=function(){return++this.maxCrossTileID};var En=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};En.prototype.handleWrapJump=function(B){var G=Math.round((B-this.lng)/360);if(G!==0)for(var H in this.indexes){var L=this.indexes[H],q={};for(var $ in L){var ne=L[$];ne.tileID=ne.tileID.unwrapTo(ne.tileID.wrap+G),q[ne.tileID.key]=ne}this.indexes[H]=q}this.lng=B},En.prototype.addBucket=function(B,G,H){if(this.indexes[B.overscaledZ]&&this.indexes[B.overscaledZ][B.key]){if(this.indexes[B.overscaledZ][B.key].bucketInstanceId===G.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(B.overscaledZ,this.indexes[B.overscaledZ][B.key])}for(var L=0;L<G.symbolInstances.length;L++)G.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[B.overscaledZ]||(this.usedCrossTileIDs[B.overscaledZ]={});var q=this.usedCrossTileIDs[B.overscaledZ];for(var $ in this.indexes){var ne=this.indexes[$];if(Number($)>B.overscaledZ)for(var ce in ne){var ye=ne[ce];ye.tileID.isChildOf(B)&&ye.findMatches(G.symbolInstances,B,q)}else{var Le=ne[B.scaledTo(Number($)).key];Le&&Le.findMatches(G.symbolInstances,B,q)}}for(var Ie=0;Ie<G.symbolInstances.length;Ie++){var je=G.symbolInstances.get(Ie);je.crossTileID||(je.crossTileID=H.generate(),q[je.crossTileID]=!0)}return this.indexes[B.overscaledZ]===void 0&&(this.indexes[B.overscaledZ]={}),this.indexes[B.overscaledZ][B.key]=new ln(B,G.symbolInstances,G.bucketInstanceId),!0},En.prototype.removeBucketCrossTileIDs=function(B,G){for(var H in G.indexedSymbolInstances)for(var L=0,q=G.indexedSymbolInstances[H];L<q.length;L+=1){var $=q[L];delete this.usedCrossTileIDs[B][$.crossTileID]}},En.prototype.removeStaleBuckets=function(B){var G=!1;for(var H in this.indexes){var L=this.indexes[H];for(var q in L)B[L[q].bucketInstanceId]||(this.removeBucketCrossTileIDs(H,L[q]),delete L[q],G=!0)}return G};var Fn=function(){this.layerIndexes={},this.crossTileIDs=new kn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Fn.prototype.addLayer=function(B,G,H){var L=this.layerIndexes[B.id];L===void 0&&(L=this.layerIndexes[B.id]=new En);var q=!1,$={};L.handleWrapJump(H);for(var ne=0,ce=G;ne<ce.length;ne+=1){var ye=ce[ne],Le=ye.getBucket(B);Le&&B.id===Le.layerIds[0]&&(Le.bucketInstanceId||(Le.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(ye.tileID,Le,this.crossTileIDs)&&(q=!0),$[Le.bucketInstanceId]=!0)}return L.removeStaleBuckets($)&&(q=!0),q},Fn.prototype.pruneUnusedLayers=function(B){var G={};for(var H in B.forEach(function(L){G[L]=!0}),this.layerIndexes)G[H]||delete this.layerIndexes[H]};var Bn=function(B,G){return a.emitValidationErrors(B,G&&G.filter(function(H){return H.identifier!=="source.canvas"}))},Zn=a.pick(xt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Vn=a.pick(xt,["setCenter","setZoom","setBearing","setPitch"]),Xn=function(){var B={},G=a.styleSpec.$version;for(var H in a.styleSpec.$root){var L=a.styleSpec.$root[H];if(L.required){var q;(q=H==="version"?G:L.type==="array"?[]:{})!=null&&(B[H]=q)}}return B}(),Kn=function(B){function G(H,L){var q=this;L===void 0&&(L={}),B.call(this),this.map=H,this.dispatcher=new C(dt(),this),this.imageManager=new d,this.imageManager.setEventedParent(this),this.glyphManager=new x(H._requestManager,L.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Fn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var $=this;this._rtlTextPluginCallback=G.registerForPluginStateChange(function(ne){var ce={pluginStatus:ne.pluginStatus,pluginURL:ne.pluginURL};$.dispatcher.broadcast("syncRTLPluginState",ce,function(ye,Le){if(a.triggerPluginCompletionEvent(ye),Le&&Le.every(function(je){return je}))for(var Ie in $.sourceCaches)$.sourceCaches[Ie].reload()})}),this.on("data",function(ne){if(ne.dataType==="source"&&ne.sourceDataType==="metadata"){var ce=q.sourceCaches[ne.sourceId];if(ce){var ye=ce.getSource();if(ye&&ye.vectorLayerIds)for(var Le in q._layers){var Ie=q._layers[Le];Ie.source===ye.id&&q._validateLayer(Ie)}}}})}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.loadURL=function(H,L){var q=this;L===void 0&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var $=typeof L.validate=="boolean"?L.validate:!a.isMapboxURL(H);H=this.map._requestManager.normalizeStyleURL(H,L.accessToken);var ne=this.map._requestManager.transformRequest(H,a.ResourceType.Style);this._request=a.getJSON(ne,function(ce,ye){q._request=null,ce?q.fire(new a.ErrorEvent(ce)):ye&&q._load(ye,$)})},G.prototype.loadJSON=function(H,L){var q=this;L===void 0&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){q._request=null,q._load(H,L.validate!==!1)})},G.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Xn,!1)},G.prototype._load=function(H,L){if(!L||!Bn(this,a.validateStyle(H))){for(var q in this._loaded=!0,this.stylesheet=H,H.sources)this.addSource(q,H.sources[q],{validate:!1});H.sprite?this._loadSprite(H.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(H.glyphs);var $=kt(this.stylesheet.layers);this._order=$.map(function(Le){return Le.id}),this._layers={},this._serializedLayers={};for(var ne=0,ce=$;ne<ce.length;ne+=1){var ye=ce[ne];(ye=a.createStyleLayer(ye)).setEventedParent(this,{layer:{id:ye.id}}),this._layers[ye.id]=ye,this._serializedLayers[ye.id]=ye.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},G.prototype._loadSprite=function(H){var L=this;this._spriteRequest=function(q,$,ne){var ce,ye,Le,Ie=a.browser.devicePixelRatio>1?"@2x":"",je=a.getJSON($.transformRequest($.normalizeSpriteURL(q,Ie,".json"),a.ResourceType.SpriteJSON),function(lt,ft){je=null,Le||(Le=lt,ce=ft,Qe())}),qe=a.getImage($.transformRequest($.normalizeSpriteURL(q,Ie,".png"),a.ResourceType.SpriteImage),function(lt,ft){qe=null,Le||(Le=lt,ye=ft,Qe())});function Qe(){if(Le)ne(Le);else if(ce&&ye){var lt=a.browser.getImageData(ye),ft={};for(var bt in ce){var At=ce[bt],Tt=At.width,Dt=At.height,Ct=At.x,Yt=At.y,Vt=At.sdf,Ft=At.pixelRatio,cn=At.stretchX,dn=At.stretchY,Mn=At.content,Ln=new a.RGBAImage({width:Tt,height:Dt});a.RGBAImage.copy(lt,Ln,{x:Ct,y:Yt},{x:0,y:0},{width:Tt,height:Dt}),ft[bt]={data:Ln,pixelRatio:Ft,sdf:Vt,stretchX:cn,stretchY:dn,content:Mn}}ne(null,ft)}}return{cancel:function(){je&&(je.cancel(),je=null),qe&&(qe.cancel(),qe=null)}}}(H,this.map._requestManager,function(q,$){if(L._spriteRequest=null,q)L.fire(new a.ErrorEvent(q));else if($)for(var ne in $)L.imageManager.addImage(ne,$[ne]);L.imageManager.setLoaded(!0),L._availableImages=L.imageManager.listImages(),L.dispatcher.broadcast("setImages",L._availableImages),L.fire(new a.Event("data",{dataType:"style"}))})},G.prototype._validateLayer=function(H){var L=this.sourceCaches[H.source];if(L){var q=H.sourceLayer;if(q){var $=L.getSource();($.type==="geojson"||$.vectorLayerIds&&$.vectorLayerIds.indexOf(q)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+q+'" does not exist on source "'+$.id+'" as specified by style layer "'+H.id+'"')))}}},G.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var H in this.sourceCaches)if(!this.sourceCaches[H].loaded())return!1;return!!this.imageManager.isLoaded()},G.prototype._serializeLayers=function(H){for(var L=[],q=0,$=H;q<$.length;q+=1){var ne=$[q],ce=this._layers[ne];ce.type!=="custom"&&L.push(ce.serialize())}return L},G.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var H in this.sourceCaches)if(this.sourceCaches[H].hasTransition())return!0;for(var L in this._layers)if(this._layers[L].hasTransition())return!0;return!1},G.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},G.prototype.update=function(H){if(this._loaded){var L=this._changed;if(this._changed){var q=Object.keys(this._updatedLayers),$=Object.keys(this._removedLayers);for(var ne in(q.length||$.length)&&this._updateWorkerLayers(q,$),this._updatedSources){var ce=this._updatedSources[ne];ce==="reload"?this._reloadSource(ne):ce==="clear"&&this._clearSource(ne)}for(var ye in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ye].updateTransitions(H);this.light.updateTransitions(H),this._resetUpdates()}var Le={};for(var Ie in this.sourceCaches){var je=this.sourceCaches[Ie];Le[Ie]=je.used,je.used=!1}for(var qe=0,Qe=this._order;qe<Qe.length;qe+=1){var lt=Qe[qe],ft=this._layers[lt];ft.recalculate(H,this._availableImages),!ft.isHidden(H.zoom)&&ft.source&&(this.sourceCaches[ft.source].used=!0)}for(var bt in Le){var At=this.sourceCaches[bt];Le[bt]!==At.used&&At.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:bt}))}this.light.recalculate(H),this.z=H.zoom,L&&this.fire(new a.Event("data",{dataType:"style"}))}},G.prototype._updateTilesForChangedImages=function(){var H=Object.keys(this._changedImages);if(H.length){for(var L in this.sourceCaches)this.sourceCaches[L].reloadTilesForDependencies(["icons","patterns"],H);this._changedImages={}}},G.prototype._updateWorkerLayers=function(H,L){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(H),removedIds:L})},G.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},G.prototype.setState=function(H){var L=this;if(this._checkLoaded(),Bn(this,a.validateStyle(H)))return!1;(H=a.clone$1(H)).layers=kt(H.layers);var q=jt(this.serialize(),H).filter(function(ne){return!(ne.command in Vn)});if(q.length===0)return!1;var $=q.filter(function(ne){return!(ne.command in Zn)});if($.length>0)throw new Error("Unimplemented: "+$.map(function(ne){return ne.command}).join(", ")+".");return q.forEach(function(ne){ne.command!=="setTransition"&&L[ne.command].apply(L,ne.args)}),this.stylesheet=H,!0},G.prototype.addImage=function(H,L){if(this.getImage(H))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(H,L),this._afterImageUpdated(H)},G.prototype.updateImage=function(H,L){this.imageManager.updateImage(H,L)},G.prototype.getImage=function(H){return this.imageManager.getImage(H)},G.prototype.removeImage=function(H){if(!this.getImage(H))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(H),this._afterImageUpdated(H)},G.prototype._afterImageUpdated=function(H){this._availableImages=this.imageManager.listImages(),this._changedImages[H]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},G.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},G.prototype.addSource=function(H,L,q){var $=this;if(q===void 0&&(q={}),this._checkLoaded(),this.sourceCaches[H]!==void 0)throw new Error("There is already a source with this ID");if(!L.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(L).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(L.type)>=0&&this._validate(a.validateStyle.source,"sources."+H,L,null,q))){this.map&&this.map._collectResourceTiming&&(L.collectResourceTiming=!0);var ne=this.sourceCaches[H]=new at(H,L,this.dispatcher);ne.style=this,ne.setEventedParent(this,function(){return{isSourceLoaded:$.loaded(),source:ne.serialize(),sourceId:H}}),ne.onAdd(this.map),this._changed=!0}},G.prototype.removeSource=function(H){if(this._checkLoaded(),this.sourceCaches[H]===void 0)throw new Error("There is no source with this ID");for(var L in this._layers)if(this._layers[L].source===H)return this.fire(new a.ErrorEvent(new Error('Source "'+H+'" cannot be removed while layer "'+L+'" is using it.')));var q=this.sourceCaches[H];delete this.sourceCaches[H],delete this._updatedSources[H],q.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:H})),q.setEventedParent(null),q.clearTiles(),q.onRemove&&q.onRemove(this.map),this._changed=!0},G.prototype.setGeoJSONSourceData=function(H,L){this._checkLoaded(),this.sourceCaches[H].getSource().setData(L),this._changed=!0},G.prototype.getSource=function(H){return this.sourceCaches[H]&&this.sourceCaches[H].getSource()},G.prototype.addLayer=function(H,L,q){q===void 0&&(q={}),this._checkLoaded();var $=H.id;if(this.getLayer($))this.fire(new a.ErrorEvent(new Error('Layer with id "'+$+'" already exists on this map')));else{var ne;if(H.type==="custom"){if(Bn(this,a.validateCustomStyleLayer(H)))return;ne=a.createStyleLayer(H)}else{if(typeof H.source=="object"&&(this.addSource($,H.source),H=a.clone$1(H),H=a.extend(H,{source:$})),this._validate(a.validateStyle.layer,"layers."+$,H,{arrayIndex:-1},q))return;ne=a.createStyleLayer(H),this._validateLayer(ne),ne.setEventedParent(this,{layer:{id:$}}),this._serializedLayers[ne.id]=ne.serialize()}var ce=L?this._order.indexOf(L):this._order.length;if(L&&ce===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.')));else{if(this._order.splice(ce,0,$),this._layerOrderChanged=!0,this._layers[$]=ne,this._removedLayers[$]&&ne.source&&ne.type!=="custom"){var ye=this._removedLayers[$];delete this._removedLayers[$],ye.type!==ne.type?this._updatedSources[ne.source]="clear":(this._updatedSources[ne.source]="reload",this.sourceCaches[ne.source].pause())}this._updateLayer(ne),ne.onAdd&&ne.onAdd(this.map)}}},G.prototype.moveLayer=function(H,L){if(this._checkLoaded(),this._changed=!0,this._layers[H]){if(H!==L){var q=this._order.indexOf(H);this._order.splice(q,1);var $=L?this._order.indexOf(L):this._order.length;L&&$===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.'))):(this._order.splice($,0,H),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+H+"' does not exist in the map's style and cannot be moved.")))},G.prototype.removeLayer=function(H){this._checkLoaded();var L=this._layers[H];if(L){L.setEventedParent(null);var q=this._order.indexOf(H);this._order.splice(q,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[H]=L,delete this._layers[H],delete this._serializedLayers[H],delete this._updatedLayers[H],delete this._updatedPaintProps[H],L.onRemove&&L.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+H+"' does not exist in the map's style and cannot be removed.")))},G.prototype.getLayer=function(H){return this._layers[H]},G.prototype.hasLayer=function(H){return H in this._layers},G.prototype.setLayerZoomRange=function(H,L,q){this._checkLoaded();var $=this.getLayer(H);$?$.minzoom===L&&$.maxzoom===q||(L!=null&&($.minzoom=L),q!=null&&($.maxzoom=q),this._updateLayer($)):this.fire(new a.ErrorEvent(new Error("The layer '"+H+"' does not exist in the map's style and cannot have zoom extent.")))},G.prototype.setFilter=function(H,L,q){q===void 0&&(q={}),this._checkLoaded();var $=this.getLayer(H);if($){if(!a.deepEqual($.filter,L))return L==null?($.filter=void 0,void this._updateLayer($)):void(this._validate(a.validateStyle.filter,"layers."+$.id+".filter",L,null,q)||($.filter=a.clone$1(L),this._updateLayer($)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+H+"' does not exist in the map's style and cannot be filtered.")))},G.prototype.getFilter=function(H){return a.clone$1(this.getLayer(H).filter)},G.prototype.setLayoutProperty=function(H,L,q,$){$===void 0&&($={}),this._checkLoaded();var ne=this.getLayer(H);ne?a.deepEqual(ne.getLayoutProperty(L),q)||(ne.setLayoutProperty(L,q,$),this._updateLayer(ne)):this.fire(new a.ErrorEvent(new Error("The layer '"+H+"' does not exist in the map's style and cannot be styled.")))},G.prototype.getLayoutProperty=function(H,L){var q=this.getLayer(H);if(q)return q.getLayoutProperty(L);this.fire(new a.ErrorEvent(new Error("The layer '"+H+"' does not exist in the map's style.")))},G.prototype.setPaintProperty=function(H,L,q,$){$===void 0&&($={}),this._checkLoaded();var ne=this.getLayer(H);ne?a.deepEqual(ne.getPaintProperty(L),q)||(ne.setPaintProperty(L,q,$)&&this._updateLayer(ne),this._changed=!0,this._updatedPaintProps[H]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+H+"' does not exist in the map's style and cannot be styled.")))},G.prototype.getPaintProperty=function(H,L){return this.getLayer(H).getPaintProperty(L)},G.prototype.setFeatureState=function(H,L){this._checkLoaded();var q=H.source,$=H.sourceLayer,ne=this.sourceCaches[q];if(ne!==void 0){var ce=ne.getSource().type;ce==="geojson"&&$?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):ce!=="vector"||$?(H.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ne.setFeatureState($,H.id,L)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+q+"' does not exist in the map's style.")))},G.prototype.removeFeatureState=function(H,L){this._checkLoaded();var q=H.source,$=this.sourceCaches[q];if($!==void 0){var ne=$.getSource().type,ce=ne==="vector"?H.sourceLayer:void 0;ne!=="vector"||ce?L&&typeof H.id!="string"&&typeof H.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):$.removeFeatureState(ce,H.id,L):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+q+"' does not exist in the map's style.")))},G.prototype.getFeatureState=function(H){this._checkLoaded();var L=H.source,q=H.sourceLayer,$=this.sourceCaches[L];if($!==void 0){if($.getSource().type!=="vector"||q)return H.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),$.getFeatureState(q,H.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+L+"' does not exist in the map's style.")))},G.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},G.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(H){return H.serialize()}),layers:this._serializeLayers(this._order)},function(H){return H!==void 0})},G.prototype._updateLayer=function(H){this._updatedLayers[H.id]=!0,H.source&&!this._updatedSources[H.source]&&this.sourceCaches[H.source].getSource().type!=="raster"&&(this._updatedSources[H.source]="reload",this.sourceCaches[H.source].pause()),this._changed=!0},G.prototype._flattenAndSortRenderedFeatures=function(H){for(var L=this,q=function(Mn){return L._layers[Mn].type==="fill-extrusion"},$={},ne=[],ce=this._order.length-1;ce>=0;ce--){var ye=this._order[ce];if(q(ye)){$[ye]=ce;for(var Le=0,Ie=H;Le<Ie.length;Le+=1){var je=Ie[Le][ye];if(je)for(var qe=0,Qe=je;qe<Qe.length;qe+=1){var lt=Qe[qe];ne.push(lt)}}}}ne.sort(function(Mn,Ln){return Ln.intersectionZ-Mn.intersectionZ});for(var ft=[],bt=this._order.length-1;bt>=0;bt--){var At=this._order[bt];if(q(At))for(var Tt=ne.length-1;Tt>=0;Tt--){var Dt=ne[Tt].feature;if($[Dt.layer.id]<bt)break;ft.push(Dt),ne.pop()}else for(var Ct=0,Yt=H;Ct<Yt.length;Ct+=1){var Vt=Yt[Ct][At];if(Vt)for(var Ft=0,cn=Vt;Ft<cn.length;Ft+=1){var dn=cn[Ft];ft.push(dn.feature)}}}return ft},G.prototype.queryRenderedFeatures=function(H,L,q){L&&L.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",L.filter,null,L);var $={};if(L&&L.layers){if(!Array.isArray(L.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ne=0,ce=L.layers;ne<ce.length;ne+=1){var ye=ce[ne],Le=this._layers[ye];if(!Le)return this.fire(new a.ErrorEvent(new Error("The layer '"+ye+"' does not exist in the map's style and cannot be queried for features."))),[];$[Le.source]=!0}}var Ie=[];for(var je in L.availableImages=this._availableImages,this.sourceCaches)L.layers&&!$[je]||Ie.push(K(this.sourceCaches[je],this._layers,this._serializedLayers,H,L,q));return this.placement&&Ie.push(function(qe,Qe,lt,ft,bt,At,Tt){for(var Dt={},Ct=At.queryRenderedSymbols(ft),Yt=[],Vt=0,Ft=Object.keys(Ct).map(Number);Vt<Ft.length;Vt+=1){var cn=Ft[Vt];Yt.push(Tt[cn])}Yt.sort(Z);for(var dn=function(){var ur=Ln[Mn],Hn=ur.featureIndex.lookupSymbolFeatures(Ct[ur.bucketInstanceId],Qe,ur.bucketIndex,ur.sourceLayerIndex,bt.filter,bt.layers,bt.availableImages,qe);for(var sr in Hn){var vr=Dt[sr]=Dt[sr]||[],Ar=Hn[sr];Ar.sort(function(cr,Tr){var Er=ur.featureSortOrder;if(Er){var Dr=Er.indexOf(cr.featureIndex);return Er.indexOf(Tr.featureIndex)-Dr}return Tr.featureIndex-cr.featureIndex});for(var Jn=0,or=Ar;Jn<or.length;Jn+=1){var xr=or[Jn];vr.push(xr)}}},Mn=0,Ln=Yt;Mn<Ln.length;Mn+=1)dn();var Un=function(ur){Dt[ur].forEach(function(Hn){var sr=Hn.feature,vr=qe[ur],Ar=lt[vr.source].getFeatureState(sr.layer["source-layer"],sr.id);sr.source=sr.layer.source,sr.layer["source-layer"]&&(sr.sourceLayer=sr.layer["source-layer"]),sr.state=Ar})};for(var Qn in Dt)Un(Qn);return Dt}(this._layers,this._serializedLayers,this.sourceCaches,H,L,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ie)},G.prototype.querySourceFeatures=function(H,L){L&&L.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",L.filter,null,L);var q=this.sourceCaches[H];return q?function($,ne){for(var ce=$.getRenderableIds().map(function(Qe){return $.getTileByID(Qe)}),ye=[],Le={},Ie=0;Ie<ce.length;Ie++){var je=ce[Ie],qe=je.tileID.canonical.key;Le[qe]||(Le[qe]=!0,je.querySourceFeatures(ye,ne))}return ye}(q,L):[]},G.prototype.addSourceType=function(H,L,q){return G.getSourceType(H)?q(new Error('A source type called "'+H+'" already exists.')):(G.setSourceType(H,L),L.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:H,url:L.workerSourceURL},q):q(null,null))},G.prototype.getLight=function(){return this.light.getLight()},G.prototype.setLight=function(H,L){L===void 0&&(L={}),this._checkLoaded();var q=this.light.getLight(),$=!1;for(var ne in H)if(!a.deepEqual(H[ne],q[ne])){$=!0;break}if($){var ce={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(H,L),this.light.updateTransitions(ce)}},G.prototype._validate=function(H,L,q,$,ne){return ne===void 0&&(ne={}),(!ne||ne.validate!==!1)&&Bn(this,H.call(a.validateStyle,a.extend({key:L,style:this.serialize(),value:q,styleSpec:a.styleSpec},$)))},G.prototype._remove=function(){for(var H in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[H].setEventedParent(null);for(var L in this.sourceCaches)this.sourceCaches[L].clearTiles(),this.sourceCaches[L].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},G.prototype._clearSource=function(H){this.sourceCaches[H].clearTiles()},G.prototype._reloadSource=function(H){this.sourceCaches[H].resume(),this.sourceCaches[H].reload()},G.prototype._updateSources=function(H){for(var L in this.sourceCaches)this.sourceCaches[L].update(H)},G.prototype._generateCollisionBoxes=function(){for(var H in this.sourceCaches)this._reloadSource(H)},G.prototype._updatePlacement=function(H,L,q,$,ne){ne===void 0&&(ne=!1);for(var ce=!1,ye=!1,Le={},Ie=0,je=this._order;Ie<je.length;Ie+=1){var qe=je[Ie],Qe=this._layers[qe];if(Qe.type==="symbol"){if(!Le[Qe.source]){var lt=this.sourceCaches[Qe.source];Le[Qe.source]=lt.getRenderableIds(!0).map(function(Ct){return lt.getTileByID(Ct)}).sort(function(Ct,Yt){return Yt.tileID.overscaledZ-Ct.tileID.overscaledZ||(Ct.tileID.isLessThan(Yt.tileID)?-1:1)})}var ft=this.crossTileSymbolIndex.addLayer(Qe,Le[Qe.source],H.center.lng);ce=ce||ft}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((ne=ne||this._layerOrderChanged||q===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),H.zoom))&&(this.pauseablePlacement=new Xt(H,this._order,ne,L,q,$,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Le),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),ye=!0),ce&&this.pauseablePlacement.placement.setStale()),ye||ce)for(var bt=0,At=this._order;bt<At.length;bt+=1){var Tt=At[bt],Dt=this._layers[Tt];Dt.type==="symbol"&&this.placement.updateLayerOpacities(Dt,Le[Dt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},G.prototype._releaseSymbolFadeTiles=function(){for(var H in this.sourceCaches)this.sourceCaches[H].releaseSymbolFadeTiles()},G.prototype.getImages=function(H,L,q){this.imageManager.getImages(L.icons,q),this._updateTilesForChangedImages();var $=this.sourceCaches[L.source];$&&$.setDependencies(L.tileID.key,L.type,L.icons)},G.prototype.getGlyphs=function(H,L,q){this.glyphManager.getGlyphs(L.stacks,q)},G.prototype.getResource=function(H,L,q){return a.makeRequest(L,q)},G}(a.Evented);Kn.getSourceType=function(B){return te[B]},Kn.setSourceType=function(B,G){te[B]=G},Kn.registerForPluginStateChange=a.registerForPluginStateChange;var Wn=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),fr=fi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),ar=fi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),lr=fi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),tr=fi(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),pr=fi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),_r=fi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Or=fi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),ri=fi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),ai=fi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Pi=fi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),ei=fi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Ti=fi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),ra=fi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),ia=fi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Bo=fi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),_l=fi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),ms=fi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),ys=fi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Rs=fi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),za=fi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Fs=fi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Bs=fi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Ns=fi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),io=fi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),xo=fi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),No=fi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function fi(B,G){var H=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,L=G.match(/attribute ([\w]+) ([\w]+)/g),q=B.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),$=G.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ne=$?$.concat(q):q,ce={};return{fragmentSource:B=B.replace(H,function(ye,Le,Ie,je,qe){return ce[qe]=!0,Le==="define"?`
#ifndef HAS_UNIFORM_u_`+qe+`
varying `+Ie+" "+je+" "+qe+`;
#else
uniform `+Ie+" "+je+" u_"+qe+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+qe+`
    `+Ie+" "+je+" "+qe+" = u_"+qe+`;
#endif
`}),vertexSource:G=G.replace(H,function(ye,Le,Ie,je,qe){var Qe=je==="float"?"vec2":"vec4",lt=qe.match(/color/)?"color":Qe;return ce[qe]?Le==="define"?`
#ifndef HAS_UNIFORM_u_`+qe+`
uniform lowp float u_`+qe+`_t;
attribute `+Ie+" "+Qe+" a_"+qe+`;
varying `+Ie+" "+je+" "+qe+`;
#else
uniform `+Ie+" "+je+" u_"+qe+`;
#endif
`:lt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+qe+`
    `+qe+" = a_"+qe+`;
#else
    `+Ie+" "+je+" "+qe+" = u_"+qe+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+qe+`
    `+qe+" = unpack_mix_"+lt+"(a_"+qe+", u_"+qe+`_t);
#else
    `+Ie+" "+je+" "+qe+" = u_"+qe+`;
#endif
`:Le==="define"?`
#ifndef HAS_UNIFORM_u_`+qe+`
uniform lowp float u_`+qe+`_t;
attribute `+Ie+" "+Qe+" a_"+qe+`;
#else
uniform `+Ie+" "+je+" u_"+qe+`;
#endif
`:lt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+qe+`
    `+Ie+" "+je+" "+qe+" = a_"+qe+`;
#else
    `+Ie+" "+je+" "+qe+" = u_"+qe+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+qe+`
    `+Ie+" "+je+" "+qe+" = unpack_mix_"+lt+"(a_"+qe+", u_"+qe+`_t);
#else
    `+Ie+" "+je+" "+qe+" = u_"+qe+`;
#endif
`}),staticAttributes:L,staticUniforms:ne}}var Di=Object.freeze({__proto__:null,prelude:fr,background:ar,backgroundPattern:lr,circle:tr,clippingMask:pr,heatmap:_r,heatmapTexture:Or,collisionBox:ri,collisionCircle:ai,debug:Pi,fill:ei,fillOutline:Ti,fillOutlinePattern:ra,fillPattern:ia,fillExtrusion:Bo,fillExtrusionPattern:_l,hillshadePrepare:ms,hillshade:ys,line:Rs,lineGradient:za,linePattern:Fs,lineSDF:Bs,raster:Ns,symbolIcon:io,symbolSDF:xo,symbolTextAndIcon:No}),ao=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Ya(B){for(var G=[],H=0;H<B.length;H++)if(B[H]!==null){var L=B[H].split(" ");G.push(L.pop())}return G}ao.prototype.bind=function(B,G,H,L,q,$,ne,ce){this.context=B;for(var ye=this.boundPaintVertexBuffers.length!==L.length,Le=0;!ye&&Le<L.length;Le++)this.boundPaintVertexBuffers[Le]!==L[Le]&&(ye=!0);var Ie=!this.vao||this.boundProgram!==G||this.boundLayoutVertexBuffer!==H||ye||this.boundIndexBuffer!==q||this.boundVertexOffset!==$||this.boundDynamicVertexBuffer!==ne||this.boundDynamicVertexBuffer2!==ce;!B.extVertexArrayObject||Ie?this.freshBind(G,H,L,q,$,ne,ce):(B.bindVertexArrayOES.set(this.vao),ne&&ne.bind(),q&&q.dynamicDraw&&q.bind(),ce&&ce.bind())},ao.prototype.freshBind=function(B,G,H,L,q,$,ne){var ce,ye=B.numAttributes,Le=this.context,Ie=Le.gl;if(Le.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Le.extVertexArrayObject.createVertexArrayOES(),Le.bindVertexArrayOES.set(this.vao),ce=0,this.boundProgram=B,this.boundLayoutVertexBuffer=G,this.boundPaintVertexBuffers=H,this.boundIndexBuffer=L,this.boundVertexOffset=q,this.boundDynamicVertexBuffer=$,this.boundDynamicVertexBuffer2=ne;else{ce=Le.currentNumAttributes||0;for(var je=ye;je<ce;je++)Ie.disableVertexAttribArray(je)}G.enableAttributes(Ie,B);for(var qe=0,Qe=H;qe<Qe.length;qe+=1)Qe[qe].enableAttributes(Ie,B);$&&$.enableAttributes(Ie,B),ne&&ne.enableAttributes(Ie,B),G.bind(),G.setVertexAttribPointers(Ie,B,q);for(var lt=0,ft=H;lt<ft.length;lt+=1){var bt=ft[lt];bt.bind(),bt.setVertexAttribPointers(Ie,B,q)}$&&($.bind(),$.setVertexAttribPointers(Ie,B,q)),L&&L.bind(),ne&&(ne.bind(),ne.setVertexAttribPointers(Ie,B,q)),Le.currentNumAttributes=ye},ao.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Da=function(B,G,H,L,q,$){var ne=B.gl;this.program=ne.createProgram();for(var ce=Ya(H.staticAttributes),ye=L?L.getBinderAttributes():[],Le=ce.concat(ye),Ie=H.staticUniforms?Ya(H.staticUniforms):[],je=L?L.getBinderUniforms():[],qe=[],Qe=0,lt=Ie.concat(je);Qe<lt.length;Qe+=1){var ft=lt[Qe];qe.indexOf(ft)<0&&qe.push(ft)}var bt=L?L.defines():[];$&&bt.push("#define OVERDRAW_INSPECTOR;");var At=bt.concat(fr.fragmentSource,H.fragmentSource).join(`
`),Tt=bt.concat(fr.vertexSource,H.vertexSource).join(`
`),Dt=ne.createShader(ne.FRAGMENT_SHADER);if(ne.isContextLost())this.failedToCreate=!0;else{ne.shaderSource(Dt,At),ne.compileShader(Dt),ne.attachShader(this.program,Dt);var Ct=ne.createShader(ne.VERTEX_SHADER);if(ne.isContextLost())this.failedToCreate=!0;else{ne.shaderSource(Ct,Tt),ne.compileShader(Ct),ne.attachShader(this.program,Ct),this.attributes={};var Yt={};this.numAttributes=Le.length;for(var Vt=0;Vt<this.numAttributes;Vt++)Le[Vt]&&(ne.bindAttribLocation(this.program,Vt,Le[Vt]),this.attributes[Le[Vt]]=Vt);ne.linkProgram(this.program),ne.deleteShader(Ct),ne.deleteShader(Dt);for(var Ft=0;Ft<qe.length;Ft++){var cn=qe[Ft];if(cn&&!Yt[cn]){var dn=ne.getUniformLocation(this.program,cn);dn&&(Yt[cn]=dn)}}this.fixedUniforms=q(B,Yt),this.binderUniforms=L?L.getUniforms(B,Yt):[]}}};function bo(B,G,H){var L=1/Yn(H,1,G.transform.tileZoom),q=Math.pow(2,H.tileID.overscaledZ),$=H.tileSize*Math.pow(2,G.transform.tileZoom)/q,ne=$*(H.tileID.canonical.x+H.tileID.wrap*q),ce=$*H.tileID.canonical.y;return{u_image:0,u_texsize:H.imageAtlasTexture.size,u_scale:[L,B.fromScale,B.toScale],u_fade:B.t,u_pixel_coord_upper:[ne>>16,ce>>16],u_pixel_coord_lower:[65535&ne,65535&ce]}}Da.prototype.draw=function(B,G,H,L,q,$,ne,ce,ye,Le,Ie,je,qe,Qe,lt,ft){var bt,At=B.gl;if(!this.failedToCreate){for(var Tt in B.program.set(this.program),B.setDepthMode(H),B.setStencilMode(L),B.setColorMode(q),B.setCullFace($),this.fixedUniforms)this.fixedUniforms[Tt].set(ne[Tt]);Qe&&Qe.setUniforms(B,this.binderUniforms,je,{zoom:qe});for(var Dt=(bt={},bt[At.LINES]=2,bt[At.TRIANGLES]=3,bt[At.LINE_STRIP]=1,bt)[G],Ct=0,Yt=Ie.get();Ct<Yt.length;Ct+=1){var Vt=Yt[Ct],Ft=Vt.vaos||(Vt.vaos={});(Ft[ce]||(Ft[ce]=new ao)).bind(B,this,ye,Qe?Qe.getPaintVertexBuffers():[],Le,Vt.vertexOffset,lt,ft),At.drawElements(G,Vt.primitiveLength*Dt,At.UNSIGNED_SHORT,Vt.primitiveOffset*Dt*2)}}};var Za=function(B,G,H,L){var q=G.style.light,$=q.properties.get("position"),ne=[$.x,$.y,$.z],ce=a.create$1();q.properties.get("anchor")==="viewport"&&a.fromRotation(ce,-G.transform.angle),a.transformMat3(ne,ne,ce);var ye=q.properties.get("color");return{u_matrix:B,u_lightpos:ne,u_lightintensity:q.properties.get("intensity"),u_lightcolor:[ye.r,ye.g,ye.b],u_vertical_gradient:+H,u_opacity:L}},_o=function(B,G,H,L,q,$,ne){return a.extend(Za(B,G,H,L),bo($,G,ne),{u_height_factor:-Math.pow(2,q.overscaledZ)/ne.tileSize/8})},oo=function(B){return{u_matrix:B}},wo=function(B,G,H,L){return a.extend(oo(B),bo(H,G,L))},Xa=function(B,G){return{u_matrix:B,u_world:G}},$s=function(B,G,H,L,q){return a.extend(wo(B,G,H,L),{u_world:q})},js=function(B,G,H,L){var q,$,ne=B.transform;if(L.paint.get("circle-pitch-alignment")==="map"){var ce=Yn(H,1,ne.zoom);q=!0,$=[ce,ce]}else q=!1,$=ne.pixelsToGLUnits;return{u_camera_to_center_distance:ne.cameraToCenterDistance,u_scale_with_map:+(L.paint.get("circle-pitch-scale")==="map"),u_matrix:B.translatePosMatrix(G.posMatrix,H,L.paint.get("circle-translate"),L.paint.get("circle-translate-anchor")),u_pitch_with_map:+q,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:$}},jo=function(B,G,H){var L=Yn(H,1,G.zoom),q=Math.pow(2,G.zoom-H.tileID.overscaledZ),$=H.tileID.overscaleFactor();return{u_matrix:B,u_camera_to_center_distance:G.cameraToCenterDistance,u_pixels_to_tile_units:L,u_extrude_scale:[G.pixelsToGLUnits[0]/(L*q),G.pixelsToGLUnits[1]/(L*q)],u_overscale_factor:$}},sl=function(B,G,H){return{u_matrix:B,u_inv_matrix:G,u_camera_to_center_distance:H.cameraToCenterDistance,u_viewport_size:[H.width,H.height]}},ll=function(B,G,H){return H===void 0&&(H=1),{u_matrix:B,u_color:G,u_overlay:0,u_overlay_scale:H}},Uo=function(B){return{u_matrix:B}},ul=function(B,G,H,L){return{u_matrix:B,u_extrude_scale:Yn(G,1,H),u_intensity:L}},wl=function(B,G,H,L){var q=a.create();a.ortho(q,0,B.width,B.height,0,0,1);var $=B.context.gl;return{u_matrix:q,u_world:[$.drawingBufferWidth,$.drawingBufferHeight],u_image:H,u_color_ramp:L,u_opacity:G.paint.get("heatmap-opacity")}},Tl=function(B,G,H){var L=H.paint.get("hillshade-shadow-color"),q=H.paint.get("hillshade-highlight-color"),$=H.paint.get("hillshade-accent-color"),ne=H.paint.get("hillshade-illumination-direction")*(Math.PI/180);H.paint.get("hillshade-illumination-anchor")==="viewport"&&(ne-=B.transform.angle);var ce,ye,Le,Ie=!B.options.moving;return{u_matrix:B.transform.calculatePosMatrix(G.tileID.toUnwrapped(),Ie),u_image:0,u_latrange:(ce=G.tileID,ye=Math.pow(2,ce.canonical.z),Le=ce.canonical.y,[new a.MercatorCoordinate(0,Le/ye).toLngLat().lat,new a.MercatorCoordinate(0,(Le+1)/ye).toLngLat().lat]),u_light:[H.paint.get("hillshade-exaggeration"),ne],u_shadow:L,u_highlight:q,u_accent:$}},Vo=function(B,G){var H=G.stride,L=a.create();return a.ortho(L,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(L,L,[0,-a.EXTENT,0]),{u_matrix:L,u_image:1,u_dimension:[H,H],u_zoom:B.overscaledZ,u_unpack:G.getUnpackVector()}},Ka=function(B,G,H){var L=B.transform;return{u_matrix:Ra(B,G,H),u_ratio:1/Yn(G,1,L.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},ts=function(B,G,H,L){return a.extend(Ka(B,G,H),{u_image:0,u_image_height:L})},qo=function(B,G,H,L){var q=B.transform,$=Ho(G,q);return{u_matrix:Ra(B,G,H),u_texsize:G.imageAtlasTexture.size,u_ratio:1/Yn(G,1,q.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[$,L.fromScale,L.toScale],u_fade:L.t,u_units_to_pixels:[1/q.pixelsToGLUnits[0],1/q.pixelsToGLUnits[1]]}},xs=function(B,G,H,L,q){var $=B.transform,ne=B.lineAtlas,ce=Ho(G,$),ye=H.layout.get("line-cap")==="round",Le=ne.getDash(L.from,ye),Ie=ne.getDash(L.to,ye),je=Le.width*q.fromScale,qe=Ie.width*q.toScale;return a.extend(Ka(B,G,H),{u_patternscale_a:[ce/je,-Le.height/2],u_patternscale_b:[ce/qe,-Ie.height/2],u_sdfgamma:ne.width/(256*Math.min(je,qe)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Le.y,u_tex_y_b:Ie.y,u_mix:q.t})};function Ho(B,G){return 1/Yn(B,1,G.tileZoom)}function Ra(B,G,H){return B.translatePosMatrix(G.tileID.posMatrix,G,H.paint.get("line-translate"),H.paint.get("line-translate-anchor"))}var Qs=function(B,G,H,L,q){return{u_matrix:B,u_tl_parent:G,u_scale_parent:H,u_buffer_scale:1,u_fade_t:L.mix,u_opacity:L.opacity*q.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:q.paint.get("raster-brightness-min"),u_brightness_high:q.paint.get("raster-brightness-max"),u_saturation_factor:(ne=q.paint.get("raster-saturation"),ne>0?1-1/(1.001-ne):-ne),u_contrast_factor:($=q.paint.get("raster-contrast"),$>0?1/(1-$):1+$),u_spin_weights:To(q.paint.get("raster-hue-rotate"))};var $,ne};function To(B){B*=Math.PI/180;var G=Math.sin(B),H=Math.cos(B);return[(2*H+1)/3,(-Math.sqrt(3)*G-H+1)/3,(Math.sqrt(3)*G-H+1)/3]}var so,lo=function(B,G,H,L,q,$,ne,ce,ye,Le){var Ie=q.transform;return{u_is_size_zoom_constant:+(B==="constant"||B==="source"),u_is_size_feature_constant:+(B==="constant"||B==="camera"),u_size_t:G?G.uSizeT:0,u_size:G?G.uSize:0,u_camera_to_center_distance:Ie.cameraToCenterDistance,u_pitch:Ie.pitch/360*2*Math.PI,u_rotate_symbol:+H,u_aspect_ratio:Ie.width/Ie.height,u_fade_change:q.options.fadeDuration?q.symbolFadeChange:1,u_matrix:$,u_label_plane_matrix:ne,u_coord_matrix:ce,u_is_text:+ye,u_pitch_with_map:+L,u_texsize:Le,u_texture:0}},ko=function(B,G,H,L,q,$,ne,ce,ye,Le,Ie){var je=q.transform;return a.extend(lo(B,G,H,L,q,$,ne,ce,ye,Le),{u_gamma_scale:L?Math.cos(je._pitch)*je.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+Ie})},jr=function(B,G,H,L,q,$,ne,ce,ye,Le){return a.extend(ko(B,G,H,L,q,$,ne,ce,!0,ye,!0),{u_texsize_icon:Le,u_texture_icon:1})},ns=function(B,G,H){return{u_matrix:B,u_opacity:G,u_color:H}},kl=function(B,G,H,L,q,$){return a.extend(function(ne,ce,ye,Le){var Ie=ye.imageManager.getPattern(ne.from.toString()),je=ye.imageManager.getPattern(ne.to.toString()),qe=ye.imageManager.getPixelSize(),Qe=qe.width,lt=qe.height,ft=Math.pow(2,Le.tileID.overscaledZ),bt=Le.tileSize*Math.pow(2,ye.transform.tileZoom)/ft,At=bt*(Le.tileID.canonical.x+Le.tileID.wrap*ft),Tt=bt*Le.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Ie.tl,u_pattern_br_a:Ie.br,u_pattern_tl_b:je.tl,u_pattern_br_b:je.br,u_texsize:[Qe,lt],u_mix:ce.t,u_pattern_size_a:Ie.displaySize,u_pattern_size_b:je.displaySize,u_scale_a:ce.fromScale,u_scale_b:ce.toScale,u_tile_units_to_pixels:1/Yn(Le,1,ye.transform.tileZoom),u_pixel_coord_upper:[At>>16,Tt>>16],u_pixel_coord_lower:[65535&At,65535&Tt]}}(L,$,H,q),{u_matrix:B,u_opacity:G})},Us={fillExtrusion:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_lightpos:new a.Uniform3f(B,G.u_lightpos),u_lightintensity:new a.Uniform1f(B,G.u_lightintensity),u_lightcolor:new a.Uniform3f(B,G.u_lightcolor),u_vertical_gradient:new a.Uniform1f(B,G.u_vertical_gradient),u_opacity:new a.Uniform1f(B,G.u_opacity)}},fillExtrusionPattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_lightpos:new a.Uniform3f(B,G.u_lightpos),u_lightintensity:new a.Uniform1f(B,G.u_lightintensity),u_lightcolor:new a.Uniform3f(B,G.u_lightcolor),u_vertical_gradient:new a.Uniform1f(B,G.u_vertical_gradient),u_height_factor:new a.Uniform1f(B,G.u_height_factor),u_image:new a.Uniform1i(B,G.u_image),u_texsize:new a.Uniform2f(B,G.u_texsize),u_pixel_coord_upper:new a.Uniform2f(B,G.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,G.u_pixel_coord_lower),u_scale:new a.Uniform3f(B,G.u_scale),u_fade:new a.Uniform1f(B,G.u_fade),u_opacity:new a.Uniform1f(B,G.u_opacity)}},fill:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix)}},fillPattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_image:new a.Uniform1i(B,G.u_image),u_texsize:new a.Uniform2f(B,G.u_texsize),u_pixel_coord_upper:new a.Uniform2f(B,G.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,G.u_pixel_coord_lower),u_scale:new a.Uniform3f(B,G.u_scale),u_fade:new a.Uniform1f(B,G.u_fade)}},fillOutline:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_world:new a.Uniform2f(B,G.u_world)}},fillOutlinePattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_world:new a.Uniform2f(B,G.u_world),u_image:new a.Uniform1i(B,G.u_image),u_texsize:new a.Uniform2f(B,G.u_texsize),u_pixel_coord_upper:new a.Uniform2f(B,G.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,G.u_pixel_coord_lower),u_scale:new a.Uniform3f(B,G.u_scale),u_fade:new a.Uniform1f(B,G.u_fade)}},circle:function(B,G){return{u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(B,G.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(B,G.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(B,G.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(B,G.u_matrix)}},collisionBox:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(B,G.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(B,G.u_extrude_scale),u_overscale_factor:new a.Uniform1f(B,G.u_overscale_factor)}},collisionCircle:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_inv_matrix:new a.UniformMatrix4f(B,G.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(B,G.u_viewport_size)}},debug:function(B,G){return{u_color:new a.UniformColor(B,G.u_color),u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_overlay:new a.Uniform1i(B,G.u_overlay),u_overlay_scale:new a.Uniform1f(B,G.u_overlay_scale)}},clippingMask:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix)}},heatmap:function(B,G){return{u_extrude_scale:new a.Uniform1f(B,G.u_extrude_scale),u_intensity:new a.Uniform1f(B,G.u_intensity),u_matrix:new a.UniformMatrix4f(B,G.u_matrix)}},heatmapTexture:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_world:new a.Uniform2f(B,G.u_world),u_image:new a.Uniform1i(B,G.u_image),u_color_ramp:new a.Uniform1i(B,G.u_color_ramp),u_opacity:new a.Uniform1f(B,G.u_opacity)}},hillshade:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_image:new a.Uniform1i(B,G.u_image),u_latrange:new a.Uniform2f(B,G.u_latrange),u_light:new a.Uniform2f(B,G.u_light),u_shadow:new a.UniformColor(B,G.u_shadow),u_highlight:new a.UniformColor(B,G.u_highlight),u_accent:new a.UniformColor(B,G.u_accent)}},hillshadePrepare:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_image:new a.Uniform1i(B,G.u_image),u_dimension:new a.Uniform2f(B,G.u_dimension),u_zoom:new a.Uniform1f(B,G.u_zoom),u_unpack:new a.Uniform4f(B,G.u_unpack)}},line:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_ratio:new a.Uniform1f(B,G.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(B,G.u_units_to_pixels)}},lineGradient:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_ratio:new a.Uniform1f(B,G.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(B,G.u_units_to_pixels),u_image:new a.Uniform1i(B,G.u_image),u_image_height:new a.Uniform1f(B,G.u_image_height)}},linePattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_texsize:new a.Uniform2f(B,G.u_texsize),u_ratio:new a.Uniform1f(B,G.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_image:new a.Uniform1i(B,G.u_image),u_units_to_pixels:new a.Uniform2f(B,G.u_units_to_pixels),u_scale:new a.Uniform3f(B,G.u_scale),u_fade:new a.Uniform1f(B,G.u_fade)}},lineSDF:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_ratio:new a.Uniform1f(B,G.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(B,G.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(B,G.u_patternscale_a),u_patternscale_b:new a.Uniform2f(B,G.u_patternscale_b),u_sdfgamma:new a.Uniform1f(B,G.u_sdfgamma),u_image:new a.Uniform1i(B,G.u_image),u_tex_y_a:new a.Uniform1f(B,G.u_tex_y_a),u_tex_y_b:new a.Uniform1f(B,G.u_tex_y_b),u_mix:new a.Uniform1f(B,G.u_mix)}},raster:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_tl_parent:new a.Uniform2f(B,G.u_tl_parent),u_scale_parent:new a.Uniform1f(B,G.u_scale_parent),u_buffer_scale:new a.Uniform1f(B,G.u_buffer_scale),u_fade_t:new a.Uniform1f(B,G.u_fade_t),u_opacity:new a.Uniform1f(B,G.u_opacity),u_image0:new a.Uniform1i(B,G.u_image0),u_image1:new a.Uniform1i(B,G.u_image1),u_brightness_low:new a.Uniform1f(B,G.u_brightness_low),u_brightness_high:new a.Uniform1f(B,G.u_brightness_high),u_saturation_factor:new a.Uniform1f(B,G.u_saturation_factor),u_contrast_factor:new a.Uniform1f(B,G.u_contrast_factor),u_spin_weights:new a.Uniform3f(B,G.u_spin_weights)}},symbolIcon:function(B,G){return{u_is_size_zoom_constant:new a.Uniform1i(B,G.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(B,G.u_is_size_feature_constant),u_size_t:new a.Uniform1f(B,G.u_size_t),u_size:new a.Uniform1f(B,G.u_size),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_pitch:new a.Uniform1f(B,G.u_pitch),u_rotate_symbol:new a.Uniform1i(B,G.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(B,G.u_aspect_ratio),u_fade_change:new a.Uniform1f(B,G.u_fade_change),u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(B,G.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(B,G.u_coord_matrix),u_is_text:new a.Uniform1i(B,G.u_is_text),u_pitch_with_map:new a.Uniform1i(B,G.u_pitch_with_map),u_texsize:new a.Uniform2f(B,G.u_texsize),u_texture:new a.Uniform1i(B,G.u_texture)}},symbolSDF:function(B,G){return{u_is_size_zoom_constant:new a.Uniform1i(B,G.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(B,G.u_is_size_feature_constant),u_size_t:new a.Uniform1f(B,G.u_size_t),u_size:new a.Uniform1f(B,G.u_size),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_pitch:new a.Uniform1f(B,G.u_pitch),u_rotate_symbol:new a.Uniform1i(B,G.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(B,G.u_aspect_ratio),u_fade_change:new a.Uniform1f(B,G.u_fade_change),u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(B,G.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(B,G.u_coord_matrix),u_is_text:new a.Uniform1i(B,G.u_is_text),u_pitch_with_map:new a.Uniform1i(B,G.u_pitch_with_map),u_texsize:new a.Uniform2f(B,G.u_texsize),u_texture:new a.Uniform1i(B,G.u_texture),u_gamma_scale:new a.Uniform1f(B,G.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(B,G.u_is_halo)}},symbolTextAndIcon:function(B,G){return{u_is_size_zoom_constant:new a.Uniform1i(B,G.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(B,G.u_is_size_feature_constant),u_size_t:new a.Uniform1f(B,G.u_size_t),u_size:new a.Uniform1f(B,G.u_size),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_pitch:new a.Uniform1f(B,G.u_pitch),u_rotate_symbol:new a.Uniform1i(B,G.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(B,G.u_aspect_ratio),u_fade_change:new a.Uniform1f(B,G.u_fade_change),u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(B,G.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(B,G.u_coord_matrix),u_is_text:new a.Uniform1i(B,G.u_is_text),u_pitch_with_map:new a.Uniform1i(B,G.u_pitch_with_map),u_texsize:new a.Uniform2f(B,G.u_texsize),u_texsize_icon:new a.Uniform2f(B,G.u_texsize_icon),u_texture:new a.Uniform1i(B,G.u_texture),u_texture_icon:new a.Uniform1i(B,G.u_texture_icon),u_gamma_scale:new a.Uniform1f(B,G.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(B,G.u_is_halo)}},background:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_opacity:new a.Uniform1f(B,G.u_opacity),u_color:new a.UniformColor(B,G.u_color)}},backgroundPattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_opacity:new a.Uniform1f(B,G.u_opacity),u_image:new a.Uniform1i(B,G.u_image),u_pattern_tl_a:new a.Uniform2f(B,G.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(B,G.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(B,G.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(B,G.u_pattern_br_b),u_texsize:new a.Uniform2f(B,G.u_texsize),u_mix:new a.Uniform1f(B,G.u_mix),u_pattern_size_a:new a.Uniform2f(B,G.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(B,G.u_pattern_size_b),u_scale_a:new a.Uniform1f(B,G.u_scale_a),u_scale_b:new a.Uniform1f(B,G.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(B,G.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,G.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(B,G.u_tile_units_to_pixels)}}};function rs(B,G,H,L,q,$,ne){for(var ce=B.context,ye=ce.gl,Le=B.useProgram("collisionBox"),Ie=[],je=0,qe=0,Qe=0;Qe<L.length;Qe++){var lt=L[Qe],ft=G.getTile(lt),bt=ft.getBucket(H);if(bt){var At=lt.posMatrix;q[0]===0&&q[1]===0||(At=B.translatePosMatrix(lt.posMatrix,ft,q,$));var Tt=ne?bt.textCollisionBox:bt.iconCollisionBox,Dt=bt.collisionCircleArray;if(Dt.length>0){var Ct=a.create(),Yt=At;a.mul(Ct,bt.placementInvProjMatrix,B.transform.glCoordMatrix),a.mul(Ct,Ct,bt.placementViewportMatrix),Ie.push({circleArray:Dt,circleOffset:qe,transform:Yt,invTransform:Ct}),qe=je+=Dt.length/4}Tt&&Le.draw(ce,ye.LINES,Ot.disabled,He.disabled,B.colorModeForRenderPass(),Be.disabled,jo(At,B.transform,ft),H.id,Tt.layoutVertexBuffer,Tt.indexBuffer,Tt.segments,null,B.transform.zoom,null,null,Tt.collisionVertexBuffer)}}if(ne&&Ie.length){var Vt=B.useProgram("collisionCircle"),Ft=new a.StructArrayLayout2f1f2i16;Ft.resize(4*je),Ft._trim();for(var cn=0,dn=0,Mn=Ie;dn<Mn.length;dn+=1)for(var Ln=Mn[dn],Un=0;Un<Ln.circleArray.length/4;Un++){var Qn=4*Un,ur=Ln.circleArray[Qn+0],Hn=Ln.circleArray[Qn+1],sr=Ln.circleArray[Qn+2],vr=Ln.circleArray[Qn+3];Ft.emplace(cn++,ur,Hn,sr,vr,0),Ft.emplace(cn++,ur,Hn,sr,vr,1),Ft.emplace(cn++,ur,Hn,sr,vr,2),Ft.emplace(cn++,ur,Hn,sr,vr,3)}(!so||so.length<2*je)&&(so=function(Er){var Dr=2*Er,Rr=new a.StructArrayLayout3ui6;Rr.resize(Dr),Rr._trim();for(var Nr=0;Nr<Dr;Nr++){var Vr=6*Nr;Rr.uint16[Vr+0]=4*Nr+0,Rr.uint16[Vr+1]=4*Nr+1,Rr.uint16[Vr+2]=4*Nr+2,Rr.uint16[Vr+3]=4*Nr+2,Rr.uint16[Vr+4]=4*Nr+3,Rr.uint16[Vr+5]=4*Nr+0}return Rr}(je));for(var Ar=ce.createIndexBuffer(so,!0),Jn=ce.createVertexBuffer(Ft,a.collisionCircleLayout.members,!0),or=0,xr=Ie;or<xr.length;or+=1){var cr=xr[or],Tr=sl(cr.transform,cr.invTransform,B.transform);Vt.draw(ce,ye.TRIANGLES,Ot.disabled,He.disabled,B.colorModeForRenderPass(),Be.disabled,Tr,H.id,Jn,Ar,a.SegmentVector.simpleSegment(0,2*cr.circleOffset,cr.circleArray.length,cr.circleArray.length/2),null,B.transform.zoom,null,null,null)}Jn.destroy(),Ar.destroy()}}var cl=a.identity(new Float32Array(16));function Al(B,G,H,L,q,$){var ne=a.getAnchorAlignment(B),ce=-(ne.horizontalAlign-.5)*G,ye=-(ne.verticalAlign-.5)*H,Le=a.evaluateVariableOffset(B,L);return new a.Point((ce/q+Le[0])*$,(ye/q+Le[1])*$)}function Vs(B,G,H,L,q,$,ne,ce,ye,Le,Ie){var je=B.text.placedSymbolArray,qe=B.text.dynamicLayoutVertexArray,Qe=B.icon.dynamicLayoutVertexArray,lt={};qe.clear();for(var ft=0;ft<je.length;ft++){var bt=je.get(ft),At=B.allowVerticalPlacement&&!bt.placedOrientation,Tt=bt.hidden||!bt.crossTileID||At?null:L[bt.crossTileID];if(Tt){var Dt=new a.Point(bt.anchorX,bt.anchorY),Ct=Wt(Dt,H?ce:ne),Yt=rn($.cameraToCenterDistance,Ct.signedDistanceFromCamera),Vt=q.evaluateSizeForFeature(B.textSizeData,Le,bt)*Yt/a.ONE_EM;H&&(Vt*=B.tilePixelRatio/ye);for(var Ft=Tt.width,cn=Tt.height,dn=Al(Tt.anchor,Ft,cn,Tt.textOffset,Tt.textBoxScale,Vt),Mn=H?Wt(Dt.add(dn),ne).point:Ct.point.add(G?dn.rotate(-$.angle):dn),Ln=B.allowVerticalPlacement&&bt.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Un=0;Un<bt.numGlyphs;Un++)a.addDynamicAttributes(qe,Mn,Ln);Ie&&bt.associatedIconIndex>=0&&(lt[bt.associatedIconIndex]={shiftedAnchor:Mn,angle:Ln})}else zn(bt.numGlyphs,qe)}if(Ie){Qe.clear();for(var Qn=B.icon.placedSymbolArray,ur=0;ur<Qn.length;ur++){var Hn=Qn.get(ur);if(Hn.hidden)zn(Hn.numGlyphs,Qe);else{var sr=lt[ur];if(sr)for(var vr=0;vr<Hn.numGlyphs;vr++)a.addDynamicAttributes(Qe,sr.shiftedAnchor,sr.angle);else zn(Hn.numGlyphs,Qe)}}B.icon.dynamicLayoutVertexBuffer.updateData(Qe)}B.text.dynamicLayoutVertexBuffer.updateData(qe)}function Ml(B,G,H){return H.iconsInText&&G?"symbolTextAndIcon":B?"symbolSDF":"symbolIcon"}function Ao(B,G,H,L,q,$,ne,ce,ye,Le,Ie,je){for(var qe=B.context,Qe=qe.gl,lt=B.transform,ft=ce==="map",bt=ye==="map",At=ft&&H.layout.get("symbol-placement")!=="point",Tt=ft&&!bt&&!At,Dt=H.layout.get("symbol-sort-key").constantOr(1)!==void 0,Ct=!1,Yt=B.depthModeForSublayer(0,Ot.ReadOnly),Vt=H.layout.get("text-variable-anchor"),Ft=[],cn=0,dn=L;cn<dn.length;cn+=1){var Mn=dn[cn],Ln=G.getTile(Mn),Un=Ln.getBucket(H);if(Un){var Qn=q?Un.text:Un.icon;if(Qn&&Qn.segments.get().length){var ur=Qn.programConfigurations.get(H.id),Hn=q||Un.sdfIcons,sr=q?Un.textSizeData:Un.iconSizeData,vr=bt||lt.pitch!==0,Ar=B.useProgram(Ml(Hn,q,Un),ur),Jn=a.evaluateSizeForZoom(sr,lt.zoom),or=void 0,xr=[0,0],cr=void 0,Tr=void 0,Er=null,Dr=void 0;if(q){if(cr=Ln.glyphAtlasTexture,Tr=Qe.LINEAR,or=Ln.glyphAtlasTexture.size,Un.iconsInText){xr=Ln.imageAtlasTexture.size,Er=Ln.imageAtlasTexture;var Rr=sr.kind==="composite"||sr.kind==="camera";Dr=vr||B.options.rotating||B.options.zooming||Rr?Qe.LINEAR:Qe.NEAREST}}else{var Nr=H.layout.get("icon-size").constantOr(0)!==1||Un.iconsNeedLinear;cr=Ln.imageAtlasTexture,Tr=Hn||B.options.rotating||B.options.zooming||Nr||vr?Qe.LINEAR:Qe.NEAREST,or=Ln.imageAtlasTexture.size}var Vr=Yn(Ln,1,B.transform.zoom),li=_n(Mn.posMatrix,bt,ft,B.transform,Vr),ki=un(Mn.posMatrix,bt,ft,B.transform,Vr),ea=Vt&&Un.hasTextData(),Bi=H.layout.get("icon-text-fit")!=="none"&&ea&&Un.hasIconData();At&&sn(Un,Mn.posMatrix,B,q,li,ki,bt,Le);var Yi=B.translatePosMatrix(Mn.posMatrix,Ln,$,ne),pi=At||q&&Vt||Bi?cl:li,Hr=B.translatePosMatrix(ki,Ln,$,ne,!0),mi=Hn&&H.paint.get(q?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ni={program:Ar,buffers:Qn,uniformValues:Hn?Un.iconsInText?jr(sr.kind,Jn,Tt,bt,B,Yi,pi,Hr,or,xr):ko(sr.kind,Jn,Tt,bt,B,Yi,pi,Hr,q,or,!0):lo(sr.kind,Jn,Tt,bt,B,Yi,pi,Hr,q,or),atlasTexture:cr,atlasTextureIcon:Er,atlasInterpolation:Tr,atlasInterpolationIcon:Dr,isSDF:Hn,hasHalo:mi};if(Dt&&Un.canOverlap){Ct=!0;for(var Yr=0,yi=Qn.segments.get();Yr<yi.length;Yr+=1){var Ai=yi[Yr];Ft.push({segments:new a.SegmentVector([Ai]),sortKey:Ai.sortKey,state:ni})}}else Ft.push({segments:Qn.segments,sortKey:0,state:ni})}}}Ct&&Ft.sort(function(Ls,go){return Ls.sortKey-go.sortKey});for(var Ii=0,ps=Ft;Ii<ps.length;Ii+=1){var ds=ps[Ii],Zr=ds.state;if(qe.activeTexture.set(Qe.TEXTURE0),Zr.atlasTexture.bind(Zr.atlasInterpolation,Qe.CLAMP_TO_EDGE),Zr.atlasTextureIcon&&(qe.activeTexture.set(Qe.TEXTURE1),Zr.atlasTextureIcon&&Zr.atlasTextureIcon.bind(Zr.atlasInterpolationIcon,Qe.CLAMP_TO_EDGE)),Zr.isSDF){var Ys=Zr.uniformValues;Zr.hasHalo&&(Ys.u_is_halo=1,Go(Zr.buffers,ds.segments,H,B,Zr.program,Yt,Ie,je,Ys)),Ys.u_is_halo=0}Go(Zr.buffers,ds.segments,H,B,Zr.program,Yt,Ie,je,Zr.uniformValues)}}function Go(B,G,H,L,q,$,ne,ce,ye){var Le=L.context,Ie=Le.gl;q.draw(Le,Ie.TRIANGLES,$,ne,ce,Be.disabled,ye,H.id,B.layoutVertexBuffer,B.indexBuffer,G,H.paint,L.transform.zoom,B.programConfigurations.get(H.id),B.dynamicLayoutVertexBuffer,B.opacityVertexBuffer)}function uo(B,G,H,L,q,$,ne){var ce,ye,Le,Ie,je,qe=B.context.gl,Qe=H.paint.get("fill-pattern"),lt=Qe&&Qe.constantOr(1),ft=H.getCrossfadeParameters();ne?(ye=lt&&!H.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ce=qe.LINES):(ye=lt?"fillPattern":"fill",ce=qe.TRIANGLES);for(var bt=0,At=L;bt<At.length;bt+=1){var Tt=At[bt],Dt=G.getTile(Tt);if(!lt||Dt.patternsLoaded()){var Ct=Dt.getBucket(H);if(Ct){var Yt=Ct.programConfigurations.get(H.id),Vt=B.useProgram(ye,Yt);lt&&(B.context.activeTexture.set(qe.TEXTURE0),Dt.imageAtlasTexture.bind(qe.LINEAR,qe.CLAMP_TO_EDGE),Yt.updatePaintBuffers(ft));var Ft=Qe.constantOr(null);if(Ft&&Dt.imageAtlas){var cn=Dt.imageAtlas,dn=cn.patternPositions[Ft.to.toString()],Mn=cn.patternPositions[Ft.from.toString()];dn&&Mn&&Yt.setConstantPatternPositions(dn,Mn)}var Ln=B.translatePosMatrix(Tt.posMatrix,Dt,H.paint.get("fill-translate"),H.paint.get("fill-translate-anchor"));if(ne){Ie=Ct.indexBuffer2,je=Ct.segments2;var Un=[qe.drawingBufferWidth,qe.drawingBufferHeight];Le=ye==="fillOutlinePattern"&&lt?$s(Ln,B,ft,Dt,Un):Xa(Ln,Un)}else Ie=Ct.indexBuffer,je=Ct.segments,Le=lt?wo(Ln,B,ft,Dt):oo(Ln);Vt.draw(B.context,ce,q,B.stencilModeForClipping(Tt),$,Be.disabled,Le,H.id,Ct.layoutVertexBuffer,Ie,je,H.paint,B.transform.zoom,Yt)}}}}function Fa(B,G,H,L,q,$,ne){for(var ce=B.context,ye=ce.gl,Le=H.paint.get("fill-extrusion-pattern"),Ie=Le.constantOr(1),je=H.getCrossfadeParameters(),qe=H.paint.get("fill-extrusion-opacity"),Qe=0,lt=L;Qe<lt.length;Qe+=1){var ft=lt[Qe],bt=G.getTile(ft),At=bt.getBucket(H);if(At){var Tt=At.programConfigurations.get(H.id),Dt=B.useProgram(Ie?"fillExtrusionPattern":"fillExtrusion",Tt);Ie&&(B.context.activeTexture.set(ye.TEXTURE0),bt.imageAtlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Tt.updatePaintBuffers(je));var Ct=Le.constantOr(null);if(Ct&&bt.imageAtlas){var Yt=bt.imageAtlas,Vt=Yt.patternPositions[Ct.to.toString()],Ft=Yt.patternPositions[Ct.from.toString()];Vt&&Ft&&Tt.setConstantPatternPositions(Vt,Ft)}var cn=B.translatePosMatrix(ft.posMatrix,bt,H.paint.get("fill-extrusion-translate"),H.paint.get("fill-extrusion-translate-anchor")),dn=H.paint.get("fill-extrusion-vertical-gradient"),Mn=Ie?_o(cn,B,dn,qe,ft,je,bt):Za(cn,B,dn,qe);Dt.draw(ce,ce.gl.TRIANGLES,q,$,ne,Be.backCCW,Mn,H.id,At.layoutVertexBuffer,At.indexBuffer,At.segments,H.paint,B.transform.zoom,Tt)}}}function is(B,G,H,L,q,$){var ne=B.context,ce=ne.gl,ye=G.fbo;if(ye){var Le=B.useProgram("hillshade");ne.activeTexture.set(ce.TEXTURE0),ce.bindTexture(ce.TEXTURE_2D,ye.colorAttachment.get());var Ie=Tl(B,G,H);Le.draw(ne,ce.TRIANGLES,L,q,$,Be.disabled,Ie,H.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments)}}function fl(B,G,H,L,q,$){var ne=B.context,ce=ne.gl,ye=G.dem;if(ye&&ye.data){var Le=ye.dim,Ie=ye.stride,je=ye.getPixels();if(ne.activeTexture.set(ce.TEXTURE1),ne.pixelStoreUnpackPremultiplyAlpha.set(!1),G.demTexture=G.demTexture||B.getTileTexture(Ie),G.demTexture){var qe=G.demTexture;qe.update(je,{premultiply:!1}),qe.bind(ce.NEAREST,ce.CLAMP_TO_EDGE)}else G.demTexture=new a.Texture(ne,je,ce.RGBA,{premultiply:!1}),G.demTexture.bind(ce.NEAREST,ce.CLAMP_TO_EDGE);ne.activeTexture.set(ce.TEXTURE0);var Qe=G.fbo;if(!Qe){var lt=new a.Texture(ne,{width:Le,height:Le,data:null},ce.RGBA);lt.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),(Qe=G.fbo=ne.createFramebuffer(Le,Le,!0)).colorAttachment.set(lt.texture)}ne.bindFramebuffer.set(Qe.framebuffer),ne.viewport.set([0,0,Le,Le]),B.useProgram("hillshadePrepare").draw(ne,ce.TRIANGLES,L,q,$,Be.disabled,Vo(G.tileID,ye),H.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments),G.needsHillshadePrepare=!1}}function bs(B,G,H,L,q){var $=L.paint.get("raster-fade-duration");if($>0){var ne=a.browser.now(),ce=(ne-B.timeAdded)/$,ye=G?(ne-G.timeAdded)/$:-1,Le=H.getSource(),Ie=q.coveringZoomLevel({tileSize:Le.tileSize,roundZoom:Le.roundZoom}),je=!G||Math.abs(G.tileID.overscaledZ-Ie)>Math.abs(B.tileID.overscaledZ-Ie),qe=je&&B.refreshedUponExpiration?1:a.clamp(je?ce:1-ye,0,1);return B.refreshedUponExpiration&&ce>=1&&(B.refreshedUponExpiration=!1),G?{opacity:1,mix:1-qe}:{opacity:qe,mix:0}}return{opacity:1,mix:0}}var qs=new a.Color(1,0,0,1),xa=new a.Color(0,1,0,1),Hs=new a.Color(0,0,1,1),hl=new a.Color(1,0,1,1),as=new a.Color(0,1,1,1);function Wo(B){var G=B.transform.padding;os(B,B.transform.height-(G.top||0),3,qs),os(B,G.bottom||0,3,xa),Yo(B,G.left||0,3,Hs),Yo(B,B.transform.width-(G.right||0),3,hl);var H=B.transform.centerPoint;(function(L,q,$,ne){var ce=20,ye=2;Zo(L,q-ye/2,$-ce/2,ye,ce,ne),Zo(L,q-ce/2,$-ye/2,ce,ye,ne)})(B,H.x,B.transform.height-H.y,as)}function os(B,G,H,L){Zo(B,0,G+H/2,B.transform.width,H,L)}function Yo(B,G,H,L){Zo(B,G-H/2,0,H,B.transform.height,L)}function Zo(B,G,H,L,q,$){var ne=B.context,ce=ne.gl;ce.enable(ce.SCISSOR_TEST),ce.scissor(G*a.browser.devicePixelRatio,H*a.browser.devicePixelRatio,L*a.browser.devicePixelRatio,q*a.browser.devicePixelRatio),ne.clear({color:$}),ce.disable(ce.SCISSOR_TEST)}function _s(B,G,H){var L=B.context,q=L.gl,$=H.posMatrix,ne=B.useProgram("debug"),ce=Ot.disabled,ye=He.disabled,Le=B.colorModeForRenderPass(),Ie="$debug";L.activeTexture.set(q.TEXTURE0),B.emptyTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),ne.draw(L,q.LINE_STRIP,ce,ye,Le,Be.disabled,ll($,a.Color.red),Ie,B.debugBuffer,B.tileBorderIndexBuffer,B.debugSegments);var je=G.getTileByID(H.key).latestRawTileData,qe=je&&je.byteLength||0,Qe=Math.floor(qe/1024),lt=G.getTile(H).tileSize,ft=512/Math.min(lt,512)*(H.overscaledZ/B.transform.zoom)*.5,bt=H.canonical.toString();H.overscaledZ!==H.canonical.z&&(bt+=" => "+H.overscaledZ),function(At,Tt){At.initDebugOverlayCanvas();var Dt=At.debugOverlayCanvas,Ct=At.context.gl,Yt=At.debugOverlayCanvas.getContext("2d");Yt.clearRect(0,0,Dt.width,Dt.height),Yt.shadowColor="white",Yt.shadowBlur=2,Yt.lineWidth=1.5,Yt.strokeStyle="white",Yt.textBaseline="top",Yt.font="bold 36px Open Sans, sans-serif",Yt.fillText(Tt,5,5),Yt.strokeText(Tt,5,5),At.debugOverlayTexture.update(Dt),At.debugOverlayTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE)}(B,bt+" "+Qe+"kb"),ne.draw(L,q.TRIANGLES,ce,ye,We.alphaBlended,Be.disabled,ll($,a.Color.transparent,ft),Ie,B.debugBuffer,B.quadTriangleIndexBuffer,B.debugSegments)}var Gs={symbol:function(B,G,H,L,q){if(B.renderPass==="translucent"){var $=He.disabled,ne=B.colorModeForRenderPass();H.layout.get("text-variable-anchor")&&function(ce,ye,Le,Ie,je,qe,Qe){for(var lt=ye.transform,ft=je==="map",bt=qe==="map",At=0,Tt=ce;At<Tt.length;At+=1){var Dt=Tt[At],Ct=Ie.getTile(Dt),Yt=Ct.getBucket(Le);if(Yt&&Yt.text&&Yt.text.segments.get().length){var Vt=Yt.textSizeData,Ft=a.evaluateSizeForZoom(Vt,lt.zoom),cn=Yn(Ct,1,ye.transform.zoom),dn=_n(Dt.posMatrix,bt,ft,ye.transform,cn),Mn=Le.layout.get("icon-text-fit")!=="none"&&Yt.hasIconData();if(Ft){var Ln=Math.pow(2,lt.zoom-Ct.tileID.overscaledZ);Vs(Yt,ft,bt,Qe,a.symbolSize,lt,dn,Dt.posMatrix,Ln,Ft,Mn)}}}}(L,B,H,G,H.layout.get("text-rotation-alignment"),H.layout.get("text-pitch-alignment"),q),H.paint.get("icon-opacity").constantOr(1)!==0&&Ao(B,G,H,L,!1,H.paint.get("icon-translate"),H.paint.get("icon-translate-anchor"),H.layout.get("icon-rotation-alignment"),H.layout.get("icon-pitch-alignment"),H.layout.get("icon-keep-upright"),$,ne),H.paint.get("text-opacity").constantOr(1)!==0&&Ao(B,G,H,L,!0,H.paint.get("text-translate"),H.paint.get("text-translate-anchor"),H.layout.get("text-rotation-alignment"),H.layout.get("text-pitch-alignment"),H.layout.get("text-keep-upright"),$,ne),G.map.showCollisionBoxes&&(rs(B,G,H,L,H.paint.get("text-translate"),H.paint.get("text-translate-anchor"),!0),rs(B,G,H,L,H.paint.get("icon-translate"),H.paint.get("icon-translate-anchor"),!1))}},circle:function(B,G,H,L){if(B.renderPass==="translucent"){var q=H.paint.get("circle-opacity"),$=H.paint.get("circle-stroke-width"),ne=H.paint.get("circle-stroke-opacity"),ce=H.layout.get("circle-sort-key").constantOr(1)!==void 0;if(q.constantOr(1)!==0||$.constantOr(1)!==0&&ne.constantOr(1)!==0){for(var ye=B.context,Le=ye.gl,Ie=B.depthModeForSublayer(0,Ot.ReadOnly),je=He.disabled,qe=B.colorModeForRenderPass(),Qe=[],lt=0;lt<L.length;lt++){var ft=L[lt],bt=G.getTile(ft),At=bt.getBucket(H);if(At){var Tt=At.programConfigurations.get(H.id),Dt={programConfiguration:Tt,program:B.useProgram("circle",Tt),layoutVertexBuffer:At.layoutVertexBuffer,indexBuffer:At.indexBuffer,uniformValues:js(B,ft,bt,H)};if(ce)for(var Ct=0,Yt=At.segments.get();Ct<Yt.length;Ct+=1){var Vt=Yt[Ct];Qe.push({segments:new a.SegmentVector([Vt]),sortKey:Vt.sortKey,state:Dt})}else Qe.push({segments:At.segments,sortKey:0,state:Dt})}}ce&&Qe.sort(function(vr,Ar){return vr.sortKey-Ar.sortKey});for(var Ft=0,cn=Qe;Ft<cn.length;Ft+=1){var dn=cn[Ft],Mn=dn.state,Ln=Mn.programConfiguration,Un=Mn.program,Qn=Mn.layoutVertexBuffer,ur=Mn.indexBuffer,Hn=Mn.uniformValues,sr=dn.segments;Un.draw(ye,Le.TRIANGLES,Ie,je,qe,Be.disabled,Hn,H.id,Qn,ur,sr,H.paint,B.transform.zoom,Ln)}}}},heatmap:function(B,G,H,L){if(H.paint.get("heatmap-opacity")!==0)if(B.renderPass==="offscreen"){var q=B.context,$=q.gl,ne=He.disabled,ce=new We([$.ONE,$.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(ft,bt,At){var Tt=ft.gl;ft.activeTexture.set(Tt.TEXTURE1),ft.viewport.set([0,0,bt.width/4,bt.height/4]);var Dt=At.heatmapFbo;if(Dt)Tt.bindTexture(Tt.TEXTURE_2D,Dt.colorAttachment.get()),ft.bindFramebuffer.set(Dt.framebuffer);else{var Ct=Tt.createTexture();Tt.bindTexture(Tt.TEXTURE_2D,Ct),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_WRAP_S,Tt.CLAMP_TO_EDGE),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_WRAP_T,Tt.CLAMP_TO_EDGE),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_MIN_FILTER,Tt.LINEAR),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_MAG_FILTER,Tt.LINEAR),Dt=At.heatmapFbo=ft.createFramebuffer(bt.width/4,bt.height/4,!1),function(Yt,Vt,Ft,cn){var dn=Yt.gl,Mn=Yt.extRenderToTextureHalfFloat?Yt.extTextureHalfFloat.HALF_FLOAT_OES:dn.UNSIGNED_BYTE;dn.texImage2D(dn.TEXTURE_2D,0,dn.RGBA,Vt.width/4,Vt.height/4,0,dn.RGBA,Mn,null),cn.colorAttachment.set(Ft)}(ft,bt,Ct,Dt)}})(q,B,H),q.clear({color:a.Color.transparent});for(var ye=0;ye<L.length;ye++){var Le=L[ye];if(!G.hasRenderableParent(Le)){var Ie=G.getTile(Le),je=Ie.getBucket(H);if(je){var qe=je.programConfigurations.get(H.id),Qe=B.useProgram("heatmap",qe),lt=B.transform.zoom;Qe.draw(q,$.TRIANGLES,Ot.disabled,ne,ce,Be.disabled,ul(Le.posMatrix,Ie,lt,H.paint.get("heatmap-intensity")),H.id,je.layoutVertexBuffer,je.indexBuffer,je.segments,H.paint,B.transform.zoom,qe)}}}q.viewport.set([0,0,B.width,B.height])}else B.renderPass==="translucent"&&(B.context.setColorMode(B.colorModeForRenderPass()),function(ft,bt){var At=ft.context,Tt=At.gl,Dt=bt.heatmapFbo;if(Dt){At.activeTexture.set(Tt.TEXTURE0),Tt.bindTexture(Tt.TEXTURE_2D,Dt.colorAttachment.get()),At.activeTexture.set(Tt.TEXTURE1);var Ct=bt.colorRampTexture;Ct||(Ct=bt.colorRampTexture=new a.Texture(At,bt.colorRamp,Tt.RGBA)),Ct.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE),ft.useProgram("heatmapTexture").draw(At,Tt.TRIANGLES,Ot.disabled,He.disabled,ft.colorModeForRenderPass(),Be.disabled,wl(ft,bt,0,1),bt.id,ft.viewportBuffer,ft.quadTriangleIndexBuffer,ft.viewportSegments,bt.paint,ft.transform.zoom)}}(B,H))},line:function(B,G,H,L){if(B.renderPass==="translucent"){var q=H.paint.get("line-opacity"),$=H.paint.get("line-width");if(q.constantOr(1)!==0&&$.constantOr(1)!==0)for(var ne=B.depthModeForSublayer(0,Ot.ReadOnly),ce=B.colorModeForRenderPass(),ye=H.paint.get("line-dasharray"),Le=H.paint.get("line-pattern"),Ie=Le.constantOr(1),je=H.paint.get("line-gradient"),qe=H.getCrossfadeParameters(),Qe=Ie?"linePattern":ye?"lineSDF":je?"lineGradient":"line",lt=B.context,ft=lt.gl,bt=!0,At=0,Tt=L;At<Tt.length;At+=1){var Dt=Tt[At],Ct=G.getTile(Dt);if(!Ie||Ct.patternsLoaded()){var Yt=Ct.getBucket(H);if(Yt){var Vt=Yt.programConfigurations.get(H.id),Ft=B.context.program.get(),cn=B.useProgram(Qe,Vt),dn=bt||cn.program!==Ft,Mn=Le.constantOr(null);if(Mn&&Ct.imageAtlas){var Ln=Ct.imageAtlas,Un=Ln.patternPositions[Mn.to.toString()],Qn=Ln.patternPositions[Mn.from.toString()];Un&&Qn&&Vt.setConstantPatternPositions(Un,Qn)}var ur=Ie?qo(B,Ct,H,qe):ye?xs(B,Ct,H,ye,qe):je?ts(B,Ct,H,Yt.lineClipsArray.length):Ka(B,Ct,H);if(Ie)lt.activeTexture.set(ft.TEXTURE0),Ct.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Vt.updatePaintBuffers(qe);else if(ye&&(dn||B.lineAtlas.dirty))lt.activeTexture.set(ft.TEXTURE0),B.lineAtlas.bind(lt);else if(je){var Hn=Yt.gradients[H.id],sr=Hn.texture;if(H.gradientVersion!==Hn.version){var vr=256;if(H.stepInterpolant){var Ar=G.getSource().maxzoom,Jn=Dt.canonical.z===Ar?Math.ceil(1<<B.transform.maxZoom-Dt.canonical.z):1,or=Yt.maxLineLength/a.EXTENT*1024*Jn;vr=a.clamp(a.nextPowerOfTwo(or),256,lt.maxTextureSize)}Hn.gradient=a.renderColorRamp({expression:H.gradientExpression(),evaluationKey:"lineProgress",resolution:vr,image:Hn.gradient||void 0,clips:Yt.lineClipsArray}),Hn.texture?Hn.texture.update(Hn.gradient):Hn.texture=new a.Texture(lt,Hn.gradient,ft.RGBA),Hn.version=H.gradientVersion,sr=Hn.texture}lt.activeTexture.set(ft.TEXTURE0),sr.bind(H.stepInterpolant?ft.NEAREST:ft.LINEAR,ft.CLAMP_TO_EDGE)}cn.draw(lt,ft.TRIANGLES,ne,B.stencilModeForClipping(Dt),ce,Be.disabled,ur,H.id,Yt.layoutVertexBuffer,Yt.indexBuffer,Yt.segments,H.paint,B.transform.zoom,Vt,Yt.layoutVertexBuffer2),bt=!1}}}}},fill:function(B,G,H,L){var q=H.paint.get("fill-color"),$=H.paint.get("fill-opacity");if($.constantOr(1)!==0){var ne=B.colorModeForRenderPass(),ce=H.paint.get("fill-pattern"),ye=B.opaquePassEnabledForLayer()&&!ce.constantOr(1)&&q.constantOr(a.Color.transparent).a===1&&$.constantOr(0)===1?"opaque":"translucent";if(B.renderPass===ye){var Le=B.depthModeForSublayer(1,B.renderPass==="opaque"?Ot.ReadWrite:Ot.ReadOnly);uo(B,G,H,L,Le,ne,!1)}if(B.renderPass==="translucent"&&H.paint.get("fill-antialias")){var Ie=B.depthModeForSublayer(H.getPaintProperty("fill-outline-color")?2:0,Ot.ReadOnly);uo(B,G,H,L,Ie,ne,!0)}}},"fill-extrusion":function(B,G,H,L){var q=H.paint.get("fill-extrusion-opacity");if(q!==0&&B.renderPass==="translucent"){var $=new Ot(B.context.gl.LEQUAL,Ot.ReadWrite,B.depthRangeFor3D);if(q!==1||H.paint.get("fill-extrusion-pattern").constantOr(1))Fa(B,G,H,L,$,He.disabled,We.disabled),Fa(B,G,H,L,$,B.stencilModeFor3D(),B.colorModeForRenderPass());else{var ne=B.colorModeForRenderPass();Fa(B,G,H,L,$,He.disabled,ne)}}},hillshade:function(B,G,H,L){if(B.renderPass==="offscreen"||B.renderPass==="translucent"){for(var q=B.context,$=B.depthModeForSublayer(0,Ot.ReadOnly),ne=B.colorModeForRenderPass(),ce=B.renderPass==="translucent"?B.stencilConfigForOverlap(L):[{},L],ye=ce[0],Le=0,Ie=ce[1];Le<Ie.length;Le+=1){var je=Ie[Le],qe=G.getTile(je);qe.needsHillshadePrepare&&B.renderPass==="offscreen"?fl(B,qe,H,$,He.disabled,ne):B.renderPass==="translucent"&&is(B,qe,H,$,ye[je.overscaledZ],ne)}q.viewport.set([0,0,B.width,B.height])}},raster:function(B,G,H,L){if(B.renderPass==="translucent"&&H.paint.get("raster-opacity")!==0&&L.length)for(var q=B.context,$=q.gl,ne=G.getSource(),ce=B.useProgram("raster"),ye=B.colorModeForRenderPass(),Le=ne instanceof F?[{},L]:B.stencilConfigForOverlap(L),Ie=Le[0],je=Le[1],qe=je[je.length-1].overscaledZ,Qe=!B.options.moving,lt=0,ft=je;lt<ft.length;lt+=1){var bt=ft[lt],At=B.depthModeForSublayer(bt.overscaledZ-qe,H.paint.get("raster-opacity")===1?Ot.ReadWrite:Ot.ReadOnly,$.LESS),Tt=G.getTile(bt),Dt=B.transform.calculatePosMatrix(bt.toUnwrapped(),Qe);Tt.registerFadeDuration(H.paint.get("raster-fade-duration"));var Ct=G.findLoadedParent(bt,0),Yt=bs(Tt,Ct,G,H,B.transform),Vt=void 0,Ft=void 0,cn=H.paint.get("raster-resampling")==="nearest"?$.NEAREST:$.LINEAR;q.activeTexture.set($.TEXTURE0),Tt.texture.bind(cn,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST),q.activeTexture.set($.TEXTURE1),Ct?(Ct.texture.bind(cn,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST),Vt=Math.pow(2,Ct.tileID.overscaledZ-Tt.tileID.overscaledZ),Ft=[Tt.tileID.canonical.x*Vt%1,Tt.tileID.canonical.y*Vt%1]):Tt.texture.bind(cn,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST);var dn=Qs(Dt,Ft||[0,0],Vt||1,Yt,H);ne instanceof F?ce.draw(q,$.TRIANGLES,At,He.disabled,ye,Be.disabled,dn,H.id,ne.boundsBuffer,B.quadTriangleIndexBuffer,ne.boundsSegments):ce.draw(q,$.TRIANGLES,At,Ie[bt.overscaledZ],ye,Be.disabled,dn,H.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments)}},background:function(B,G,H){var L=H.paint.get("background-color"),q=H.paint.get("background-opacity");if(q!==0){var $=B.context,ne=$.gl,ce=B.transform,ye=ce.tileSize,Le=H.paint.get("background-pattern");if(!B.isPatternMissing(Le)){var Ie=!Le&&L.a===1&&q===1&&B.opaquePassEnabledForLayer()?"opaque":"translucent";if(B.renderPass===Ie){var je=He.disabled,qe=B.depthModeForSublayer(0,Ie==="opaque"?Ot.ReadWrite:Ot.ReadOnly),Qe=B.colorModeForRenderPass(),lt=B.useProgram(Le?"backgroundPattern":"background"),ft=ce.coveringTiles({tileSize:ye});Le&&($.activeTexture.set(ne.TEXTURE0),B.imageManager.bind(B.context));for(var bt=H.getCrossfadeParameters(),At=0,Tt=ft;At<Tt.length;At+=1){var Dt=Tt[At],Ct=B.transform.calculatePosMatrix(Dt.toUnwrapped()),Yt=Le?kl(Ct,q,B,Le,{tileID:Dt,tileSize:ye},bt):ns(Ct,q,L);lt.draw($,ne.TRIANGLES,qe,je,Qe,Be.disabled,Yt,H.id,B.tileExtentBuffer,B.quadTriangleIndexBuffer,B.tileExtentSegments)}}}}},debug:function(B,G,H){for(var L=0;L<H.length;L++)_s(B,G,H[L])},custom:function(B,G,H){var L=B.context,q=H.implementation;if(B.renderPass==="offscreen"){var $=q.prerender;$&&(B.setCustomLayerDefaults(),L.setColorMode(B.colorModeForRenderPass()),$.call(q,L.gl,B.transform.customLayerMatrix()),L.setDirty(),B.setBaseState())}else if(B.renderPass==="translucent"){B.setCustomLayerDefaults(),L.setColorMode(B.colorModeForRenderPass()),L.setStencilMode(He.disabled);var ne=q.renderingMode==="3d"?new Ot(B.context.gl.LEQUAL,Ot.ReadWrite,B.depthRangeFor3D):B.depthModeForSublayer(0,Ot.ReadOnly);L.setDepthMode(ne),q.render(L.gl,B.transform.customLayerMatrix()),L.setDirty(),B.setBaseState(),L.bindFramebuffer.set(null)}}},Jr=function(B,G){this.context=new Ge(B),this.transform=G,this._tileTextures={},this.setup(),this.numSublayers=at.maxUnderzooming+at.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Fn,this.gpuTimers={}};Jr.prototype.resize=function(B,G){if(this.width=B*a.browser.devicePixelRatio,this.height=G*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var H=0,L=this.style._order;H<L.length;H+=1){var q=L[H];this.style._layers[q].resize()}},Jr.prototype.setup=function(){var B=this.context,G=new a.StructArrayLayout2i4;G.emplaceBack(0,0),G.emplaceBack(a.EXTENT,0),G.emplaceBack(0,a.EXTENT),G.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=B.createVertexBuffer(G,Wn.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var H=new a.StructArrayLayout2i4;H.emplaceBack(0,0),H.emplaceBack(a.EXTENT,0),H.emplaceBack(0,a.EXTENT),H.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=B.createVertexBuffer(H,Wn.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var L=new a.StructArrayLayout4i8;L.emplaceBack(0,0,0,0),L.emplaceBack(a.EXTENT,0,a.EXTENT,0),L.emplaceBack(0,a.EXTENT,0,a.EXTENT),L.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=B.createVertexBuffer(L,W.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var q=new a.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(1,0),q.emplaceBack(0,1),q.emplaceBack(1,1),this.viewportBuffer=B.createVertexBuffer(q,Wn.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var $=new a.StructArrayLayout1ui2;$.emplaceBack(0),$.emplaceBack(1),$.emplaceBack(3),$.emplaceBack(2),$.emplaceBack(0),this.tileBorderIndexBuffer=B.createIndexBuffer($);var ne=new a.StructArrayLayout3ui6;ne.emplaceBack(0,1,2),ne.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=B.createIndexBuffer(ne),this.emptyTexture=new a.Texture(B,{width:1,height:1,data:new Uint8Array([0,0,0,0])},B.gl.RGBA);var ce=this.context.gl;this.stencilClearMode=new He({func:ce.ALWAYS,mask:0},0,255,ce.ZERO,ce.ZERO,ce.ZERO)},Jr.prototype.clearStencil=function(){var B=this.context,G=B.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var H=a.create();a.ortho(H,0,this.width,this.height,0,0,1),a.scale(H,H,[G.drawingBufferWidth,G.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(B,G.TRIANGLES,Ot.disabled,this.stencilClearMode,We.disabled,Be.disabled,Uo(H),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Jr.prototype._renderTileClippingMasks=function(B,G){if(this.currentStencilSource!==B.source&&B.isTileClipped()&&G&&G.length){this.currentStencilSource=B.source;var H=this.context,L=H.gl;this.nextStencilID+G.length>256&&this.clearStencil(),H.setColorMode(We.disabled),H.setDepthMode(Ot.disabled);var q=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var $=0,ne=G;$<ne.length;$+=1){var ce=ne[$],ye=this._tileClippingMaskIDs[ce.key]=this.nextStencilID++;q.draw(H,L.TRIANGLES,Ot.disabled,new He({func:L.ALWAYS,mask:0},ye,255,L.KEEP,L.KEEP,L.REPLACE),We.disabled,Be.disabled,Uo(ce.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Jr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var B=this.nextStencilID++,G=this.context.gl;return new He({func:G.NOTEQUAL,mask:255},B,255,G.KEEP,G.KEEP,G.REPLACE)},Jr.prototype.stencilModeForClipping=function(B){var G=this.context.gl;return new He({func:G.EQUAL,mask:255},this._tileClippingMaskIDs[B.key],0,G.KEEP,G.KEEP,G.REPLACE)},Jr.prototype.stencilConfigForOverlap=function(B){var G,H=this.context.gl,L=B.sort(function(ye,Le){return Le.overscaledZ-ye.overscaledZ}),q=L[L.length-1].overscaledZ,$=L[0].overscaledZ-q+1;if($>1){this.currentStencilSource=void 0,this.nextStencilID+$>256&&this.clearStencil();for(var ne={},ce=0;ce<$;ce++)ne[ce+q]=new He({func:H.GEQUAL,mask:255},ce+this.nextStencilID,255,H.KEEP,H.KEEP,H.REPLACE);return this.nextStencilID+=$,[ne,L]}return[(G={},G[q]=He.disabled,G),L]},Jr.prototype.colorModeForRenderPass=function(){var B=this.context.gl;if(this._showOverdrawInspector){var G=.125;return new We([B.CONSTANT_COLOR,B.ONE],new a.Color(G,G,G,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?We.unblended:We.alphaBlended},Jr.prototype.depthModeForSublayer=function(B,G,H){if(!this.opaquePassEnabledForLayer())return Ot.disabled;var L=1-((1+this.currentLayer)*this.numSublayers+B)*this.depthEpsilon;return new Ot(H||this.context.gl.LEQUAL,G,[L,L])},Jr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Jr.prototype.render=function(B,G){var H=this;this.style=B,this.options=G,this.lineAtlas=B.lineAtlas,this.imageManager=B.imageManager,this.glyphManager=B.glyphManager,this.symbolFadeChange=B.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var L=this.style._order,q=this.style.sourceCaches;for(var $ in q){var ne=q[$];ne.used&&ne.prepare(this.context)}var ce,ye,Le={},Ie={},je={};for(var qe in q){var Qe=q[qe];Le[qe]=Qe.getVisibleCoordinates(),Ie[qe]=Le[qe].slice().reverse(),je[qe]=Qe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var lt=0;lt<L.length;lt++){var ft=L[lt];if(this.style._layers[ft].is3D()){this.opaquePassCutoff=lt;break}}this.renderPass="offscreen";for(var bt=0,At=L;bt<At.length;bt+=1){var Tt=At[bt],Dt=this.style._layers[Tt];if(Dt.hasOffscreenPass()&&!Dt.isHidden(this.transform.zoom)){var Ct=Ie[Dt.source];(Dt.type==="custom"||Ct.length)&&this.renderLayer(this,q[Dt.source],Dt,Ct)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:G.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=G.showOverdrawInspector,this.depthRangeFor3D=[0,1-(B._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){var Yt=this.style._layers[L[this.currentLayer]],Vt=q[Yt.source],Ft=Le[Yt.source];this._renderTileClippingMasks(Yt,Ft),this.renderLayer(this,Vt,Yt,Ft)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){var cn=this.style._layers[L[this.currentLayer]],dn=q[cn.source],Mn=(cn.type==="symbol"?je:Ie)[cn.source];this._renderTileClippingMasks(cn,Le[cn.source]),this.renderLayer(this,dn,cn,Mn)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(Ln){Ln.source&&!Ln.isHidden(H.transform.zoom)&&(Ln.source!==(ye&&ye.id)&&(ye=H.style.sourceCaches[Ln.source]),(!ce||ce.getSource().maxzoom<ye.getSource().maxzoom)&&(ce=ye))}),ce&&Gs.debug(this,ce,ce.getVisibleCoordinates())),this.options.showPadding&&Wo(this),this.context.setDefault()},Jr.prototype.renderLayer=function(B,G,H,L){H.isHidden(this.transform.zoom)||(H.type==="background"||H.type==="custom"||L.length)&&(this.id=H.id,this.gpuTimingStart(H),Gs[H.type](B,G,H,L,this.style.placement.variableOffsets),this.gpuTimingEnd())},Jr.prototype.gpuTimingStart=function(B){if(this.options.gpuTiming){var G=this.context.extTimerQuery,H=this.gpuTimers[B.id];H||(H=this.gpuTimers[B.id]={calls:0,cpuTime:0,query:G.createQueryEXT()}),H.calls++,G.beginQueryEXT(G.TIME_ELAPSED_EXT,H.query)}},Jr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var B=this.context.extTimerQuery;B.endQueryEXT(B.TIME_ELAPSED_EXT)}},Jr.prototype.collectGpuTimers=function(){var B=this.gpuTimers;return this.gpuTimers={},B},Jr.prototype.queryGpuTimers=function(B){var G={};for(var H in B){var L=B[H],q=this.context.extTimerQuery,$=q.getQueryObjectEXT(L.query,q.QUERY_RESULT_EXT)/1e6;q.deleteQueryEXT(L.query),G[H]=$}return G},Jr.prototype.translatePosMatrix=function(B,G,H,L,q){if(!H[0]&&!H[1])return B;var $=q?L==="map"?this.transform.angle:0:L==="viewport"?-this.transform.angle:0;if($){var ne=Math.sin($),ce=Math.cos($);H=[H[0]*ce-H[1]*ne,H[0]*ne+H[1]*ce]}var ye=[q?H[0]:Yn(G,H[0],this.transform.zoom),q?H[1]:Yn(G,H[1],this.transform.zoom),0],Le=new Float32Array(16);return a.translate(Le,B,ye),Le},Jr.prototype.saveTileTexture=function(B){var G=this._tileTextures[B.size[0]];G?G.push(B):this._tileTextures[B.size[0]]=[B]},Jr.prototype.getTileTexture=function(B){var G=this._tileTextures[B];return G&&G.length>0?G.pop():null},Jr.prototype.isPatternMissing=function(B){if(!B)return!1;if(!B.from||!B.to)return!0;var G=this.imageManager.getPattern(B.from.toString()),H=this.imageManager.getPattern(B.to.toString());return!G||!H},Jr.prototype.useProgram=function(B,G){this.cache=this.cache||{};var H=""+B+(G?G.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[H]||(this.cache[H]=new Da(this.context,B,Di[B],G,Us[B],this._showOverdrawInspector)),this.cache[H]},Jr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Jr.prototype.setBaseState=function(){var B=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(B.FUNC_ADD)},Jr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var B=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,B.RGBA)}},Jr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Mo=function(B,G){this.points=B,this.planes=G};Mo.fromInvProjectionMatrix=function(B,G,H){var L=Math.pow(2,H),q=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(ne){return a.transformMat4([],ne,B)}).map(function(ne){return a.scale$1([],ne,1/ne[3]/G*L)}),$=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(ne){var ce=a.sub([],q[ne[0]],q[ne[1]]),ye=a.sub([],q[ne[2]],q[ne[1]]),Le=a.normalize([],a.cross([],ce,ye)),Ie=-a.dot(Le,q[ne[1]]);return Le.concat(Ie)});return new Mo(q,$)};var Wi=function(B,G){this.min=B,this.max=G,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};Wi.prototype.quadrant=function(B){for(var G=[B%2==0,B<2],H=a.clone$2(this.min),L=a.clone$2(this.max),q=0;q<G.length;q++)H[q]=G[q]?this.min[q]:this.center[q],L[q]=G[q]?this.center[q]:this.max[q];return L[2]=this.max[2],new Wi(H,L)},Wi.prototype.distanceX=function(B){return Math.max(Math.min(this.max[0],B[0]),this.min[0])-B[0]},Wi.prototype.distanceY=function(B){return Math.max(Math.min(this.max[1],B[1]),this.min[1])-B[1]},Wi.prototype.intersects=function(B){for(var G=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],H=!0,L=0;L<B.planes.length;L++){for(var q=B.planes[L],$=0,ne=0;ne<G.length;ne++)$+=a.dot$1(q,G[ne])>=0;if($===0)return 0;$!==G.length&&(H=!1)}if(H)return 2;for(var ce=0;ce<3;ce++){for(var ye=Number.MAX_VALUE,Le=-Number.MAX_VALUE,Ie=0;Ie<B.points.length;Ie++){var je=B.points[Ie][ce]-this.min[ce];ye=Math.min(ye,je),Le=Math.max(Le,je)}if(Le<0||ye>this.max[ce]-this.min[ce])return 0}return 1};var Ba=function(B,G,H,L){if(B===void 0&&(B=0),G===void 0&&(G=0),H===void 0&&(H=0),L===void 0&&(L=0),isNaN(B)||B<0||isNaN(G)||G<0||isNaN(H)||H<0||isNaN(L)||L<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=B,this.bottom=G,this.left=H,this.right=L};Ba.prototype.interpolate=function(B,G,H){return G.top!=null&&B.top!=null&&(this.top=a.number(B.top,G.top,H)),G.bottom!=null&&B.bottom!=null&&(this.bottom=a.number(B.bottom,G.bottom,H)),G.left!=null&&B.left!=null&&(this.left=a.number(B.left,G.left,H)),G.right!=null&&B.right!=null&&(this.right=a.number(B.right,G.right,H)),this},Ba.prototype.getCenter=function(B,G){var H=a.clamp((this.left+B-this.right)/2,0,B),L=a.clamp((this.top+G-this.bottom)/2,0,G);return new a.Point(H,L)},Ba.prototype.equals=function(B){return this.top===B.top&&this.bottom===B.bottom&&this.left===B.left&&this.right===B.right},Ba.prototype.clone=function(){return new Ba(this.top,this.bottom,this.left,this.right)},Ba.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Gr=function(B,G,H,L,q){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=q===void 0||q,this._minZoom=B||0,this._maxZoom=G||22,this._minPitch=H??0,this._maxPitch=L??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ba,this._posMatrixCache={},this._alignedPosMatrixCache={}},Kr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Gr.prototype.clone=function(){var B=new Gr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return B.tileSize=this.tileSize,B.latRange=this.latRange,B.width=this.width,B.height=this.height,B._center=this._center,B.zoom=this.zoom,B.angle=this.angle,B._fov=this._fov,B._pitch=this._pitch,B._unmodified=this._unmodified,B._edgeInsets=this._edgeInsets.clone(),B._calcMatrices(),B},Kr.minZoom.get=function(){return this._minZoom},Kr.minZoom.set=function(B){this._minZoom!==B&&(this._minZoom=B,this.zoom=Math.max(this.zoom,B))},Kr.maxZoom.get=function(){return this._maxZoom},Kr.maxZoom.set=function(B){this._maxZoom!==B&&(this._maxZoom=B,this.zoom=Math.min(this.zoom,B))},Kr.minPitch.get=function(){return this._minPitch},Kr.minPitch.set=function(B){this._minPitch!==B&&(this._minPitch=B,this.pitch=Math.max(this.pitch,B))},Kr.maxPitch.get=function(){return this._maxPitch},Kr.maxPitch.set=function(B){this._maxPitch!==B&&(this._maxPitch=B,this.pitch=Math.min(this.pitch,B))},Kr.renderWorldCopies.get=function(){return this._renderWorldCopies},Kr.renderWorldCopies.set=function(B){B===void 0?B=!0:B===null&&(B=!1),this._renderWorldCopies=B},Kr.worldSize.get=function(){return this.tileSize*this.scale},Kr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Kr.size.get=function(){return new a.Point(this.width,this.height)},Kr.bearing.get=function(){return-this.angle/Math.PI*180},Kr.bearing.set=function(B){var G=-a.wrap(B,-180,180)*Math.PI/180;this.angle!==G&&(this._unmodified=!1,this.angle=G,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Kr.pitch.get=function(){return this._pitch/Math.PI*180},Kr.pitch.set=function(B){var G=a.clamp(B,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==G&&(this._unmodified=!1,this._pitch=G,this._calcMatrices())},Kr.fov.get=function(){return this._fov/Math.PI*180},Kr.fov.set=function(B){B=Math.max(.01,Math.min(60,B)),this._fov!==B&&(this._unmodified=!1,this._fov=B/180*Math.PI,this._calcMatrices())},Kr.zoom.get=function(){return this._zoom},Kr.zoom.set=function(B){var G=Math.min(Math.max(B,this.minZoom),this.maxZoom);this._zoom!==G&&(this._unmodified=!1,this._zoom=G,this.scale=this.zoomScale(G),this.tileZoom=Math.floor(G),this.zoomFraction=G-this.tileZoom,this._constrain(),this._calcMatrices())},Kr.center.get=function(){return this._center},Kr.center.set=function(B){B.lat===this._center.lat&&B.lng===this._center.lng||(this._unmodified=!1,this._center=B,this._constrain(),this._calcMatrices())},Kr.padding.get=function(){return this._edgeInsets.toJSON()},Kr.padding.set=function(B){this._edgeInsets.equals(B)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,B,1),this._calcMatrices())},Kr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Gr.prototype.isPaddingEqual=function(B){return this._edgeInsets.equals(B)},Gr.prototype.interpolatePadding=function(B,G,H){this._unmodified=!1,this._edgeInsets.interpolate(B,G,H),this._constrain(),this._calcMatrices()},Gr.prototype.coveringZoomLevel=function(B){var G=(B.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/B.tileSize));return Math.max(0,G)},Gr.prototype.getVisibleUnwrappedCoordinates=function(B){var G=[new a.UnwrappedTileID(0,B)];if(this._renderWorldCopies)for(var H=this.pointCoordinate(new a.Point(0,0)),L=this.pointCoordinate(new a.Point(this.width,0)),q=this.pointCoordinate(new a.Point(this.width,this.height)),$=this.pointCoordinate(new a.Point(0,this.height)),ne=Math.floor(Math.min(H.x,L.x,q.x,$.x)),ce=Math.floor(Math.max(H.x,L.x,q.x,$.x)),ye=ne-1;ye<=ce+1;ye++)ye!==0&&G.push(new a.UnwrappedTileID(ye,B));return G},Gr.prototype.coveringTiles=function(B){var G=this.coveringZoomLevel(B),H=G;if(B.minzoom!==void 0&&G<B.minzoom)return[];B.maxzoom!==void 0&&G>B.maxzoom&&(G=B.maxzoom);var L=a.MercatorCoordinate.fromLngLat(this.center),q=Math.pow(2,G),$=[q*L.x,q*L.y,0],ne=Mo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,G),ce=B.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ce=G);var ye=function(Mn){return{aabb:new Wi([Mn*q,0,0],[(Mn+1)*q,q,0]),zoom:0,x:0,y:0,wrap:Mn,fullyVisible:!1}},Le=[],Ie=[],je=G,qe=B.reparseOverscaled?H:G;if(this._renderWorldCopies)for(var Qe=1;Qe<=3;Qe++)Le.push(ye(-Qe)),Le.push(ye(Qe));for(Le.push(ye(0));Le.length>0;){var lt=Le.pop(),ft=lt.x,bt=lt.y,At=lt.fullyVisible;if(!At){var Tt=lt.aabb.intersects(ne);if(Tt===0)continue;At=Tt===2}var Dt=lt.aabb.distanceX($),Ct=lt.aabb.distanceY($),Yt=Math.max(Math.abs(Dt),Math.abs(Ct)),Vt=3+(1<<je-lt.zoom)-2;if(lt.zoom===je||Yt>Vt&&lt.zoom>=ce)Ie.push({tileID:new a.OverscaledTileID(lt.zoom===je?qe:lt.zoom,lt.wrap,lt.zoom,ft,bt),distanceSq:a.sqrLen([$[0]-.5-ft,$[1]-.5-bt])});else for(var Ft=0;Ft<4;Ft++){var cn=(ft<<1)+Ft%2,dn=(bt<<1)+(Ft>>1);Le.push({aabb:lt.aabb.quadrant(Ft),zoom:lt.zoom+1,x:cn,y:dn,wrap:lt.wrap,fullyVisible:At})}}return Ie.sort(function(Mn,Ln){return Mn.distanceSq-Ln.distanceSq}).map(function(Mn){return Mn.tileID})},Gr.prototype.resize=function(B,G){this.width=B,this.height=G,this.pixelsToGLUnits=[2/B,-2/G],this._constrain(),this._calcMatrices()},Kr.unmodified.get=function(){return this._unmodified},Gr.prototype.zoomScale=function(B){return Math.pow(2,B)},Gr.prototype.scaleZoom=function(B){return Math.log(B)/Math.LN2},Gr.prototype.project=function(B){var G=a.clamp(B.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(B.lng)*this.worldSize,a.mercatorYfromLat(G)*this.worldSize)},Gr.prototype.unproject=function(B){return new a.MercatorCoordinate(B.x/this.worldSize,B.y/this.worldSize).toLngLat()},Kr.point.get=function(){return this.project(this.center)},Gr.prototype.setLocationAtPoint=function(B,G){var H=this.pointCoordinate(G),L=this.pointCoordinate(this.centerPoint),q=this.locationCoordinate(B),$=new a.MercatorCoordinate(q.x-(H.x-L.x),q.y-(H.y-L.y));this.center=this.coordinateLocation($),this._renderWorldCopies&&(this.center=this.center.wrap())},Gr.prototype.locationPoint=function(B){return this.coordinatePoint(this.locationCoordinate(B))},Gr.prototype.pointLocation=function(B){return this.coordinateLocation(this.pointCoordinate(B))},Gr.prototype.locationCoordinate=function(B){return a.MercatorCoordinate.fromLngLat(B)},Gr.prototype.coordinateLocation=function(B){return B.toLngLat()},Gr.prototype.pointCoordinate=function(B){var G=[B.x,B.y,0,1],H=[B.x,B.y,1,1];a.transformMat4(G,G,this.pixelMatrixInverse),a.transformMat4(H,H,this.pixelMatrixInverse);var L=G[3],q=H[3],$=G[0]/L,ne=H[0]/q,ce=G[1]/L,ye=H[1]/q,Le=G[2]/L,Ie=H[2]/q,je=Le===Ie?0:(0-Le)/(Ie-Le);return new a.MercatorCoordinate(a.number($,ne,je)/this.worldSize,a.number(ce,ye,je)/this.worldSize)},Gr.prototype.coordinatePoint=function(B){var G=[B.x*this.worldSize,B.y*this.worldSize,0,1];return a.transformMat4(G,G,this.pixelMatrix),new a.Point(G[0]/G[3],G[1]/G[3])},Gr.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Gr.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Gr.prototype.setMaxBounds=function(B){B?(this.lngRange=[B.getWest(),B.getEast()],this.latRange=[B.getSouth(),B.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Gr.prototype.calculatePosMatrix=function(B,G){G===void 0&&(G=!1);var H=B.key,L=G?this._alignedPosMatrixCache:this._posMatrixCache;if(L[H])return L[H];var q=B.canonical,$=this.worldSize/this.zoomScale(q.z),ne=q.x+Math.pow(2,q.z)*B.wrap,ce=a.identity(new Float64Array(16));return a.translate(ce,ce,[ne*$,q.y*$,0]),a.scale(ce,ce,[$/a.EXTENT,$/a.EXTENT,1]),a.multiply(ce,G?this.alignedProjMatrix:this.projMatrix,ce),L[H]=new Float32Array(ce),L[H]},Gr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Gr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var B,G,H,L,q=-90,$=90,ne=-180,ce=180,ye=this.size,Le=this._unmodified;if(this.latRange){var Ie=this.latRange;q=a.mercatorYfromLat(Ie[1])*this.worldSize,B=($=a.mercatorYfromLat(Ie[0])*this.worldSize)-q<ye.y?ye.y/($-q):0}if(this.lngRange){var je=this.lngRange;ne=a.mercatorXfromLng(je[0])*this.worldSize,G=(ce=a.mercatorXfromLng(je[1])*this.worldSize)-ne<ye.x?ye.x/(ce-ne):0}var qe=this.point,Qe=Math.max(G||0,B||0);if(Qe)return this.center=this.unproject(new a.Point(G?(ce+ne)/2:qe.x,B?($+q)/2:qe.y)),this.zoom+=this.scaleZoom(Qe),this._unmodified=Le,void(this._constraining=!1);if(this.latRange){var lt=qe.y,ft=ye.y/2;lt-ft<q&&(L=q+ft),lt+ft>$&&(L=$-ft)}if(this.lngRange){var bt=qe.x,At=ye.x/2;bt-At<ne&&(H=ne+At),bt+At>ce&&(H=ce-At)}H===void 0&&L===void 0||(this.center=this.unproject(new a.Point(H!==void 0?H:qe.x,L!==void 0?L:qe.y))),this._unmodified=Le,this._constraining=!1}},Gr.prototype._calcMatrices=function(){if(this.height){var B=this._fov/2,G=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(B)*this.height;var H=Math.PI/2+this._pitch,L=this._fov*(.5+G.y/this.height),q=Math.sin(L)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-H-L,.01,Math.PI-.01)),$=this.point,ne=$.x,ce=$.y,ye=1.01*(Math.cos(Math.PI/2-this._pitch)*q+this.cameraToCenterDistance),Le=this.height/50,Ie=new Float64Array(16);a.perspective(Ie,this._fov,this.width/this.height,Le,ye),Ie[8]=2*-G.x/this.width,Ie[9]=2*G.y/this.height,a.scale(Ie,Ie,[1,-1,1]),a.translate(Ie,Ie,[0,0,-this.cameraToCenterDistance]),a.rotateX(Ie,Ie,this._pitch),a.rotateZ(Ie,Ie,this.angle),a.translate(Ie,Ie,[-ne,-ce,0]),this.mercatorMatrix=a.scale([],Ie,[this.worldSize,this.worldSize,this.worldSize]),a.scale(Ie,Ie,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Ie,this.invProjMatrix=a.invert([],this.projMatrix);var je=this.width%2/2,qe=this.height%2/2,Qe=Math.cos(this.angle),lt=Math.sin(this.angle),ft=ne-Math.round(ne)+Qe*je+lt*qe,bt=ce-Math.round(ce)+Qe*qe+lt*je,At=new Float64Array(Ie);if(a.translate(At,At,[ft>.5?ft-1:ft,bt>.5?bt-1:bt,0]),this.alignedProjMatrix=At,Ie=a.create(),a.scale(Ie,Ie,[this.width/2,-this.height/2,1]),a.translate(Ie,Ie,[1,-1,0]),this.labelPlaneMatrix=Ie,Ie=a.create(),a.scale(Ie,Ie,[1,-1,1]),a.translate(Ie,Ie,[-1,-1,0]),a.scale(Ie,Ie,[2/this.width,2/this.height,1]),this.glCoordMatrix=Ie,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Ie=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Ie,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Gr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var B=this.pointCoordinate(new a.Point(0,0)),G=[B.x*this.worldSize,B.y*this.worldSize,0,1];return a.transformMat4(G,G,this.pixelMatrix)[3]/this.cameraToCenterDistance},Gr.prototype.getCameraPoint=function(){var B=this._pitch,G=Math.tan(B)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,G))},Gr.prototype.getCameraQueryGeometry=function(B){var G=this.getCameraPoint();if(B.length===1)return[B[0],G];for(var H=G.x,L=G.y,q=G.x,$=G.y,ne=0,ce=B;ne<ce.length;ne+=1){var ye=ce[ne];H=Math.min(H,ye.x),L=Math.min(L,ye.y),q=Math.max(q,ye.x),$=Math.max($,ye.y)}return[new a.Point(H,L),new a.Point(q,L),new a.Point(q,$),new a.Point(H,$),new a.Point(H,L)]},Object.defineProperties(Gr.prototype,Kr);var ba=function(B){var G,H,L,q,$;this._hashName=B&&encodeURIComponent(B),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(G=this._updateHashUnthrottled.bind(this),H=300,L=!1,q=null,$=function(){q=null,L&&(G(),q=setTimeout($,H),L=!1)},function(){return L=!0,q||$(),q})};ba.prototype.addTo=function(B){return this._map=B,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ba.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ba.prototype.getHashString=function(B){var G=this._map.getCenter(),H=Math.round(100*this._map.getZoom())/100,L=Math.ceil((H*Math.LN2+Math.log(512/360/.5))/Math.LN10),q=Math.pow(10,L),$=Math.round(G.lng*q)/q,ne=Math.round(G.lat*q)/q,ce=this._map.getBearing(),ye=this._map.getPitch(),Le="";if(Le+=B?"/"+$+"/"+ne+"/"+H:H+"/"+ne+"/"+$,(ce||ye)&&(Le+="/"+Math.round(10*ce)/10),ye&&(Le+="/"+Math.round(ye)),this._hashName){var Ie=this._hashName,je=!1,qe=a.window.location.hash.slice(1).split("&").map(function(Qe){var lt=Qe.split("=")[0];return lt===Ie?(je=!0,lt+"="+Le):Qe}).filter(function(Qe){return Qe});return je||qe.push(Ie+"="+Le),"#"+qe.join("&")}return"#"+Le},ba.prototype._getCurrentHash=function(){var B,G=this,H=a.window.location.hash.replace("#","");return this._hashName?(H.split("&").map(function(L){return L.split("=")}).forEach(function(L){L[0]===G._hashName&&(B=L)}),(B&&B[1]||"").split("/")):H.split("/")},ba.prototype._onHashChange=function(){var B=this._getCurrentHash();if(B.length>=3&&!B.some(function(H){return isNaN(H)})){var G=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(B[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+B[2],+B[1]],zoom:+B[0],bearing:G,pitch:+(B[4]||0)}),!0}return!1},ba.prototype._updateHashUnthrottled=function(){var B=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,B)}catch{}};var ss={linearity:.3,easing:a.bezier(0,0,.3,1)},ws=a.extend({deceleration:2500,maxSpeed:1400},ss),Ws=a.extend({deceleration:20,maxSpeed:1400},ss),Ts=a.extend({deceleration:1e3,maxSpeed:360},ss),ks=a.extend({deceleration:1e3,maxSpeed:90},ss),Aa=function(B){this._map=B,this.clear()};function So(B,G){(!B.duration||B.duration<G.duration)&&(B.duration=G.duration,B.easing=G.easing)}function Eo(B,G,H){var L=H.maxSpeed,q=H.linearity,$=H.deceleration,ne=a.clamp(B*q/(G/1e3),-L,L),ce=Math.abs(ne)/($*q);return{easing:H.easing,duration:1e3*ce,amount:ne*(ce/2)}}Aa.prototype.clear=function(){this._inertiaBuffer=[]},Aa.prototype.record=function(B){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:B})},Aa.prototype._drainInertiaBuffer=function(){for(var B=this._inertiaBuffer,G=a.browser.now();B.length>0&&G-B[0].time>160;)B.shift()},Aa.prototype._onMoveEnd=function(B){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var G={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},H=0,L=this._inertiaBuffer;H<L.length;H+=1){var q=L[H].settings;G.zoom+=q.zoomDelta||0,G.bearing+=q.bearingDelta||0,G.pitch+=q.pitchDelta||0,q.panDelta&&G.pan._add(q.panDelta),q.around&&(G.around=q.around),q.pinchAround&&(G.pinchAround=q.pinchAround)}var $=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,ne={};if(G.pan.mag()){var ce=Eo(G.pan.mag(),$,a.extend({},ws,B||{}));ne.offset=G.pan.mult(ce.amount/G.pan.mag()),ne.center=this._map.transform.center,So(ne,ce)}if(G.zoom){var ye=Eo(G.zoom,$,Ws);ne.zoom=this._map.transform.zoom+ye.amount,So(ne,ye)}if(G.bearing){var Le=Eo(G.bearing,$,Ts);ne.bearing=this._map.transform.bearing+a.clamp(Le.amount,-179,179),So(ne,Le)}if(G.pitch){var Ie=Eo(G.pitch,$,ks);ne.pitch=this._map.transform.pitch+Ie.amount,So(ne,Ie)}if(ne.zoom||ne.bearing){var je=G.pinchAround===void 0?G.around:G.pinchAround;ne.around=je?this._map.unproject(je):this._map.getCenter()}return this.clear(),a.extend(ne,{noMoveStart:!0})}};var $i=function(B){function G(L,q,$,ne){ne===void 0&&(ne={});var ce=b.mousePos(q.getCanvasContainer(),$),ye=q.unproject(ce);B.call(this,L,a.extend({point:ce,lngLat:ye,originalEvent:$},ne)),this._defaultPrevented=!1,this.target=q}B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G;var H={defaultPrevented:{configurable:!0}};return G.prototype.preventDefault=function(){this._defaultPrevented=!0},H.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(G.prototype,H),G}(a.Event),As=function(B){function G(L,q,$){var ne=L==="touchend"?$.changedTouches:$.touches,ce=b.touchPos(q.getCanvasContainer(),ne),ye=ce.map(function(je){return q.unproject(je)}),Le=ce.reduce(function(je,qe,Qe,lt){return je.add(qe.div(lt.length))},new a.Point(0,0)),Ie=q.unproject(Le);B.call(this,L,{points:ce,point:Le,lngLats:ye,lngLat:Ie,originalEvent:$}),this._defaultPrevented=!1}B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G;var H={defaultPrevented:{configurable:!0}};return G.prototype.preventDefault=function(){this._defaultPrevented=!0},H.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(G.prototype,H),G}(a.Event),Ma=function(B){function G(L,q,$){B.call(this,L,{originalEvent:$}),this._defaultPrevented=!1}B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G;var H={defaultPrevented:{configurable:!0}};return G.prototype.preventDefault=function(){this._defaultPrevented=!0},H.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(G.prototype,H),G}(a.Event),Ri=function(B,G){this._map=B,this._clickTolerance=G.clickTolerance};Ri.prototype.reset=function(){delete this._mousedownPos},Ri.prototype.wheel=function(B){return this._firePreventable(new Ma(B.type,this._map,B))},Ri.prototype.mousedown=function(B,G){return this._mousedownPos=G,this._firePreventable(new $i(B.type,this._map,B))},Ri.prototype.mouseup=function(B){this._map.fire(new $i(B.type,this._map,B))},Ri.prototype.click=function(B,G){this._mousedownPos&&this._mousedownPos.dist(G)>=this._clickTolerance||this._map.fire(new $i(B.type,this._map,B))},Ri.prototype.dblclick=function(B){return this._firePreventable(new $i(B.type,this._map,B))},Ri.prototype.mouseover=function(B){this._map.fire(new $i(B.type,this._map,B))},Ri.prototype.mouseout=function(B){this._map.fire(new $i(B.type,this._map,B))},Ri.prototype.touchstart=function(B){return this._firePreventable(new As(B.type,this._map,B))},Ri.prototype.touchmove=function(B){this._map.fire(new As(B.type,this._map,B))},Ri.prototype.touchend=function(B){this._map.fire(new As(B.type,this._map,B))},Ri.prototype.touchcancel=function(B){this._map.fire(new As(B.type,this._map,B))},Ri.prototype._firePreventable=function(B){if(this._map.fire(B),B.defaultPrevented)return{}},Ri.prototype.isEnabled=function(){return!0},Ri.prototype.isActive=function(){return!1},Ri.prototype.enable=function(){},Ri.prototype.disable=function(){};var Ui=function(B){this._map=B};Ui.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ui.prototype.mousemove=function(B){this._map.fire(new $i(B.type,this._map,B))},Ui.prototype.mousedown=function(){this._delayContextMenu=!0},Ui.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new $i("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ui.prototype.contextmenu=function(B){this._delayContextMenu?this._contextMenuEvent=B:this._map.fire(new $i(B.type,this._map,B)),this._map.listens("contextmenu")&&B.preventDefault()},Ui.prototype.isEnabled=function(){return!0},Ui.prototype.isActive=function(){return!1},Ui.prototype.enable=function(){},Ui.prototype.disable=function(){};var ii=function(B,G){this._map=B,this._el=B.getCanvasContainer(),this._container=B.getContainer(),this._clickTolerance=G.clickTolerance||1};function Vi(B,G){for(var H={},L=0;L<B.length;L++)H[B[L].identifier]=G[L];return H}ii.prototype.isEnabled=function(){return!!this._enabled},ii.prototype.isActive=function(){return!!this._active},ii.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ii.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ii.prototype.mousedown=function(B,G){this.isEnabled()&&B.shiftKey&&B.button===0&&(b.disableDrag(),this._startPos=this._lastPos=G,this._active=!0)},ii.prototype.mousemoveWindow=function(B,G){if(this._active){var H=G;if(!(this._lastPos.equals(H)||!this._box&&H.dist(this._startPos)<this._clickTolerance)){var L=this._startPos;this._lastPos=H,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",B));var q=Math.min(L.x,H.x),$=Math.max(L.x,H.x),ne=Math.min(L.y,H.y),ce=Math.max(L.y,H.y);b.setTransform(this._box,"translate("+q+"px,"+ne+"px)"),this._box.style.width=$-q+"px",this._box.style.height=ce-ne+"px"}}},ii.prototype.mouseupWindow=function(B,G){var H=this;if(this._active&&B.button===0){var L=this._startPos,q=G;if(this.reset(),b.suppressClick(),L.x!==q.x||L.y!==q.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:B})),{cameraAnimation:function($){return $.fitScreenCoordinates(L,q,H._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",B)}},ii.prototype.keydown=function(B){this._active&&B.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",B))},ii.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},ii.prototype._fireEvent=function(B,G){return this._map.fire(new a.Event(B,{originalEvent:G}))};var Ja=function(B){this.reset(),this.numTouches=B.numTouches};Ja.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ja.prototype.touchstart=function(B,G,H){(this.centroid||H.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=B.timeStamp),H.length===this.numTouches&&(this.centroid=function(L){for(var q=new a.Point(0,0),$=0,ne=L;$<ne.length;$+=1){var ce=ne[$];q._add(ce)}return q.div(L.length)}(G),this.touches=Vi(H,G)))},Ja.prototype.touchmove=function(B,G,H){if(!this.aborted&&this.centroid){var L=Vi(H,G);for(var q in this.touches){var $=this.touches[q],ne=L[q];(!ne||ne.dist($)>30)&&(this.aborted=!0)}}},Ja.prototype.touchend=function(B,G,H){if((!this.centroid||B.timeStamp-this.startTime>500)&&(this.aborted=!0),H.length===0){var L=!this.aborted&&this.centroid;if(this.reset(),L)return L}};var Xo=function(B){this.singleTap=new Ja(B),this.numTaps=B.numTaps,this.reset()};Xo.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Xo.prototype.touchstart=function(B,G,H){this.singleTap.touchstart(B,G,H)},Xo.prototype.touchmove=function(B,G,H){this.singleTap.touchmove(B,G,H)},Xo.prototype.touchend=function(B,G,H){var L=this.singleTap.touchend(B,G,H);if(L){var q=B.timeStamp-this.lastTime<500,$=!this.lastTap||this.lastTap.dist(L)<30;if(q&&$||this.reset(),this.count++,this.lastTime=B.timeStamp,this.lastTap=L,this.count===this.numTaps)return this.reset(),L}};var Na=function(){this._zoomIn=new Xo({numTouches:1,numTaps:2}),this._zoomOut=new Xo({numTouches:2,numTaps:1}),this.reset()};Na.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Na.prototype.touchstart=function(B,G,H){this._zoomIn.touchstart(B,G,H),this._zoomOut.touchstart(B,G,H)},Na.prototype.touchmove=function(B,G,H){this._zoomIn.touchmove(B,G,H),this._zoomOut.touchmove(B,G,H)},Na.prototype.touchend=function(B,G,H){var L=this,q=this._zoomIn.touchend(B,G,H),$=this._zoomOut.touchend(B,G,H);return q?(this._active=!0,B.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ne){return ne.easeTo({duration:300,zoom:ne.getZoom()+1,around:ne.unproject(q)},{originalEvent:B})}}):$?(this._active=!0,B.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ne){return ne.easeTo({duration:300,zoom:ne.getZoom()-1,around:ne.unproject($)},{originalEvent:B})}}):void 0},Na.prototype.touchcancel=function(){this.reset()},Na.prototype.enable=function(){this._enabled=!0},Na.prototype.disable=function(){this._enabled=!1,this.reset()},Na.prototype.isEnabled=function(){return this._enabled},Na.prototype.isActive=function(){return this._active};var Lo={};Lo[0]=1,Lo[2]=2;var aa=function(B){this.reset(),this._clickTolerance=B.clickTolerance||1};aa.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},aa.prototype._correctButton=function(B,G){return!1},aa.prototype._move=function(B,G){return{}},aa.prototype.mousedown=function(B,G){if(!this._lastPoint){var H=b.mouseButton(B);this._correctButton(B,H)&&(this._lastPoint=G,this._eventButton=H)}},aa.prototype.mousemoveWindow=function(B,G){var H=this._lastPoint;if(H){if(B.preventDefault(),function(L,q){var $=Lo[q];return L.buttons===void 0||(L.buttons&$)!==$}(B,this._eventButton))this.reset();else if(this._moved||!(G.dist(H)<this._clickTolerance))return this._moved=!0,this._lastPoint=G,this._move(H,G)}},aa.prototype.mouseupWindow=function(B){this._lastPoint&&b.mouseButton(B)===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())},aa.prototype.enable=function(){this._enabled=!0},aa.prototype.disable=function(){this._enabled=!1,this.reset()},aa.prototype.isEnabled=function(){return this._enabled},aa.prototype.isActive=function(){return this._active};var Ko=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.mousedown=function(H,L){B.prototype.mousedown.call(this,H,L),this._lastPoint&&(this._active=!0)},G.prototype._correctButton=function(H,L){return L===0&&!H.ctrlKey},G.prototype._move=function(H,L){return{around:L,panDelta:L.sub(H)}},G}(aa),co=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype._correctButton=function(H,L){return L===0&&H.ctrlKey||L===2},G.prototype._move=function(H,L){var q=.8*(L.x-H.x);if(q)return this._active=!0,{bearingDelta:q}},G.prototype.contextmenu=function(H){H.preventDefault()},G}(aa),Sa=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype._correctButton=function(H,L){return L===0&&H.ctrlKey||L===2},G.prototype._move=function(H,L){var q=-.5*(L.y-H.y);if(q)return this._active=!0,{pitchDelta:q}},G.prototype.contextmenu=function(H){H.preventDefault()},G}(aa),Ea=function(B){this._minTouches=1,this._clickTolerance=B.clickTolerance||1,this.reset()};Ea.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Ea.prototype.touchstart=function(B,G,H){return this._calculateTransform(B,G,H)},Ea.prototype.touchmove=function(B,G,H){if(this._active&&!(H.length<this._minTouches))return B.preventDefault(),this._calculateTransform(B,G,H)},Ea.prototype.touchend=function(B,G,H){this._calculateTransform(B,G,H),this._active&&H.length<this._minTouches&&this.reset()},Ea.prototype.touchcancel=function(){this.reset()},Ea.prototype._calculateTransform=function(B,G,H){H.length>0&&(this._active=!0);var L=Vi(H,G),q=new a.Point(0,0),$=new a.Point(0,0),ne=0;for(var ce in L){var ye=L[ce],Le=this._touches[ce];Le&&(q._add(ye),$._add(ye.sub(Le)),ne++,L[ce]=ye)}if(this._touches=L,!(ne<this._minTouches)&&$.mag()){var Ie=$.div(ne);if(this._sum._add(Ie),!(this._sum.mag()<this._clickTolerance))return{around:q.div(ne),panDelta:Ie}}},Ea.prototype.enable=function(){this._enabled=!0},Ea.prototype.disable=function(){this._enabled=!1,this.reset()},Ea.prototype.isEnabled=function(){return this._enabled},Ea.prototype.isActive=function(){return this._active};var oi=function(){this.reset()};function ja(B,G,H){for(var L=0;L<B.length;L++)if(B[L].identifier===H)return G[L]}oi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},oi.prototype._start=function(B){},oi.prototype._move=function(B,G,H){return{}},oi.prototype.touchstart=function(B,G,H){this._firstTwoTouches||H.length<2||(this._firstTwoTouches=[H[0].identifier,H[1].identifier],this._start([G[0],G[1]]))},oi.prototype.touchmove=function(B,G,H){if(this._firstTwoTouches){B.preventDefault();var L=this._firstTwoTouches,q=L[0],$=L[1],ne=ja(H,G,q),ce=ja(H,G,$);if(ne&&ce){var ye=this._aroundCenter?null:ne.add(ce).div(2);return this._move([ne,ce],ye,B)}}},oi.prototype.touchend=function(B,G,H){if(this._firstTwoTouches){var L=this._firstTwoTouches,q=L[0],$=L[1],ne=ja(H,G,q),ce=ja(H,G,$);ne&&ce||(this._active&&b.suppressClick(),this.reset())}},oi.prototype.touchcancel=function(){this.reset()},oi.prototype.enable=function(B){this._enabled=!0,this._aroundCenter=!!B&&B.around==="center"},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active};function wr(B,G){return Math.log(B/G)/Math.LN2}var Ms=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.reset=function(){B.prototype.reset.call(this),delete this._distance,delete this._startDistance},G.prototype._start=function(H){this._startDistance=this._distance=H[0].dist(H[1])},G.prototype._move=function(H,L){var q=this._distance;if(this._distance=H[0].dist(H[1]),this._active||!(Math.abs(wr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:wr(this._distance,q),pinchAround:L}},G}(oi);function el(B,G){return 180*B.angleWith(G)/Math.PI}var Co=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.reset=function(){B.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},G.prototype._start=function(H){this._startVector=this._vector=H[0].sub(H[1]),this._minDiameter=H[0].dist(H[1])},G.prototype._move=function(H,L){var q=this._vector;if(this._vector=H[0].sub(H[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:el(this._vector,q),pinchAround:L}},G.prototype._isBelowThreshold=function(H){this._minDiameter=Math.min(this._minDiameter,H.mag());var L=25/(Math.PI*this._minDiameter)*360,q=el(H,this._startVector);return Math.abs(q)<L},G}(oi);function Po(B){return Math.abs(B.y)>Math.abs(B.x)}var Jo=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.reset=function(){B.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},G.prototype._start=function(H){this._lastPoints=H,Po(H[0].sub(H[1]))&&(this._valid=!1)},G.prototype._move=function(H,L,q){var $=H[0].sub(this._lastPoints[0]),ne=H[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically($,ne,q.timeStamp),this._valid)return this._lastPoints=H,this._active=!0,{pitchDelta:($.y+ne.y)/2*-.5}},G.prototype.gestureBeginsVertically=function(H,L,q){if(this._valid!==void 0)return this._valid;var $=H.mag()>=2,ne=L.mag()>=2;if($||ne){if(!$||!ne)return this._firstMove===void 0&&(this._firstMove=q),q-this._firstMove<100&&void 0;var ce=H.y>0==L.y>0;return Po(H)&&Po(L)&&ce}},G}(oi),ls={panStep:100,bearingStep:15,pitchStep:10},gr=function(){var B=ls;this._panStep=B.panStep,this._bearingStep=B.bearingStep,this._pitchStep=B.pitchStep,this._rotationDisabled=!1};function Ss(B){return B*(2-B)}gr.prototype.reset=function(){this._active=!1},gr.prototype.keydown=function(B){var G=this;if(!(B.altKey||B.ctrlKey||B.metaKey)){var H=0,L=0,q=0,$=0,ne=0;switch(B.keyCode){case 61:case 107:case 171:case 187:H=1;break;case 189:case 109:case 173:H=-1;break;case 37:B.shiftKey?L=-1:(B.preventDefault(),$=-1);break;case 39:B.shiftKey?L=1:(B.preventDefault(),$=1);break;case 38:B.shiftKey?q=1:(B.preventDefault(),ne=-1);break;case 40:B.shiftKey?q=-1:(B.preventDefault(),ne=1);break;default:return}return this._rotationDisabled&&(L=0,q=0),{cameraAnimation:function(ce){var ye=ce.getZoom();ce.easeTo({duration:300,easeId:"keyboardHandler",easing:Ss,zoom:H?Math.round(ye)+H*(B.shiftKey?2:1):ye,bearing:ce.getBearing()+L*G._bearingStep,pitch:ce.getPitch()+q*G._pitchStep,offset:[-$*G._panStep,-ne*G._panStep],center:ce.getCenter()},{originalEvent:B})}}}},gr.prototype.enable=function(){this._enabled=!0},gr.prototype.disable=function(){this._enabled=!1,this.reset()},gr.prototype.isEnabled=function(){return this._enabled},gr.prototype.isActive=function(){return this._active},gr.prototype.disableRotation=function(){this._rotationDisabled=!0},gr.prototype.enableRotation=function(){this._rotationDisabled=!1};var fo=4.000244140625,Fi=function(B,G){this._map=B,this._el=B.getCanvasContainer(),this._handler=G,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout"],this)};Fi.prototype.setZoomRate=function(B){this._defaultZoomRate=B},Fi.prototype.setWheelZoomRate=function(B){this._wheelZoomRate=B},Fi.prototype.isEnabled=function(){return!!this._enabled},Fi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Fi.prototype.isZooming=function(){return!!this._zooming},Fi.prototype.enable=function(B){this.isEnabled()||(this._enabled=!0,this._aroundCenter=B&&B.around==="center")},Fi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Fi.prototype.wheel=function(B){if(this.isEnabled()){var G=B.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*B.deltaY:B.deltaY,H=a.browser.now(),L=H-(this._lastWheelEventTime||0);this._lastWheelEventTime=H,G!==0&&G%fo==0?this._type="wheel":G!==0&&Math.abs(G)<4?this._type="trackpad":L>400?(this._type=null,this._lastValue=G,this._timeout=setTimeout(this._onTimeout,40,B)):this._type||(this._type=Math.abs(L*G)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,G+=this._lastValue)),B.shiftKey&&G&&(G/=4),this._type&&(this._lastWheelEvent=B,this._delta-=G,this._active||this._start(B)),B.preventDefault()}},Fi.prototype._onTimeout=function(B){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(B)},Fi.prototype._start=function(B){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var G=b.mousePos(this._el,B);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(G)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Fi.prototype.renderFrame=function(){var B=this;if(this._frameId&&(this._frameId=null,this.isActive())){var G=this._map.transform;if(this._delta!==0){var H=this._type==="wheel"&&Math.abs(this._delta)>fo?this._wheelZoomRate:this._defaultZoomRate,L=2/(1+Math.exp(-Math.abs(this._delta*H)));this._delta<0&&L!==0&&(L=1/L);var q=typeof this._targetZoom=="number"?G.zoomScale(this._targetZoom):G.scale;this._targetZoom=Math.min(G.maxZoom,Math.max(G.minZoom,G.scaleZoom(q*L))),this._type==="wheel"&&(this._startZoom=G.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var $,ne=typeof this._targetZoom=="number"?this._targetZoom:G.zoom,ce=this._startZoom,ye=this._easing,Le=!1;if(this._type==="wheel"&&ce&&ye){var Ie=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),je=ye(Ie);$=a.number(ce,ne,je),Ie<1?this._frameId||(this._frameId=!0):Le=!0}else $=ne,Le=!0;return this._active=!0,Le&&(this._active=!1,this._finishTimeout=setTimeout(function(){B._zooming=!1,B._handler._triggerRenderFrame(),delete B._targetZoom,delete B._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Le,zoomDelta:$-G.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Fi.prototype._smoothOutEasing=function(B){var G=a.ease;if(this._prevEase){var H=this._prevEase,L=(a.browser.now()-H.start)/H.duration,q=H.easing(L+.01)-H.easing(L),$=.27/Math.sqrt(q*q+1e-4)*.01,ne=Math.sqrt(.0729-$*$);G=a.bezier($,ne,.25,1)}return this._prevEase={start:a.browser.now(),duration:B,easing:G},G},Fi.prototype.reset=function(){this._active=!1};var Oo=function(B,G){this._clickZoom=B,this._tapZoom=G};Oo.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Oo.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Oo.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Oo.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ua=function(){this.reset()};Ua.prototype.reset=function(){this._active=!1},Ua.prototype.dblclick=function(B,G){return B.preventDefault(),{cameraAnimation:function(H){H.easeTo({duration:300,zoom:H.getZoom()+(B.shiftKey?-1:1),around:H.unproject(G)},{originalEvent:B})}}},Ua.prototype.enable=function(){this._enabled=!0},Ua.prototype.disable=function(){this._enabled=!1,this.reset()},Ua.prototype.isEnabled=function(){return this._enabled},Ua.prototype.isActive=function(){return this._active};var La=function(){this._tap=new Xo({numTouches:1,numTaps:1}),this.reset()};La.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},La.prototype.touchstart=function(B,G,H){this._swipePoint||(this._tapTime&&B.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?H.length>0&&(this._swipePoint=G[0],this._swipeTouch=H[0].identifier):this._tap.touchstart(B,G,H))},La.prototype.touchmove=function(B,G,H){if(this._tapTime){if(this._swipePoint){if(H[0].identifier!==this._swipeTouch)return;var L=G[0],q=L.y-this._swipePoint.y;return this._swipePoint=L,B.preventDefault(),this._active=!0,{zoomDelta:q/128}}}else this._tap.touchmove(B,G,H)},La.prototype.touchend=function(B,G,H){this._tapTime?this._swipePoint&&H.length===0&&this.reset():this._tap.touchend(B,G,H)&&(this._tapTime=B.timeStamp)},La.prototype.touchcancel=function(){this.reset()},La.prototype.enable=function(){this._enabled=!0},La.prototype.disable=function(){this._enabled=!1,this.reset()},La.prototype.isEnabled=function(){return this._enabled},La.prototype.isActive=function(){return this._active};var Qi=function(B,G,H){this._el=B,this._mousePan=G,this._touchPan=H};Qi.prototype.enable=function(B){this._inertiaOptions=B||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Qi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Qi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Qi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var $a=function(B,G,H){this._pitchWithRotate=B.pitchWithRotate,this._mouseRotate=G,this._mousePitch=H};$a.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},$a.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},$a.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},$a.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ca=function(B,G,H,L){this._el=B,this._touchZoom=G,this._touchRotate=H,this._tapDragZoom=L,this._rotationDisabled=!1,this._enabled=!0};Ca.prototype.enable=function(B){this._touchZoom.enable(B),this._rotationDisabled||this._touchRotate.enable(B),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Ca.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Ca.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ca.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ca.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ca.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ho=function(B){return B.zoom||B.drag||B.pitch||B.rotate},Es=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G}(a.Event);function Io(B){return B.panDelta&&B.panDelta.mag()||B.zoomDelta||B.bearingDelta||B.pitchDelta}var qr=function(B,G){this._map=B,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Aa(B),this._bearingSnap=G.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(G),a.bindAll(["handleEvent","handleWindowEvent"],this);var H=this._el;this._listeners=[[H,"touchstart",{passive:!0}],[H,"touchmove",{passive:!1}],[H,"touchend",void 0],[H,"touchcancel",void 0],[H,"mousedown",void 0],[H,"mousemove",void 0],[H,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[H,"mouseover",void 0],[H,"mouseout",void 0],[H,"dblclick",void 0],[H,"click",void 0],[H,"keydown",{capture:!1}],[H,"keyup",void 0],[H,"wheel",{passive:!1}],[H,"contextmenu",void 0],[a.window,"blur",void 0]];for(var L=0,q=this._listeners;L<q.length;L+=1){var $=q[L],ne=$[0],ce=$[1],ye=$[2];b.addEventListener(ne,ce,ne===a.window.document?this.handleWindowEvent:this.handleEvent,ye)}};qr.prototype.destroy=function(){for(var B=0,G=this._listeners;B<G.length;B+=1){var H=G[B],L=H[0],q=H[1],$=H[2];b.removeEventListener(L,q,L===a.window.document?this.handleWindowEvent:this.handleEvent,$)}},qr.prototype._addDefaultHandlers=function(B){var G=this._map,H=G.getCanvasContainer();this._add("mapEvent",new Ri(G,B));var L=G.boxZoom=new ii(G,B);this._add("boxZoom",L);var q=new Na,$=new Ua;G.doubleClickZoom=new Oo($,q),this._add("tapZoom",q),this._add("clickZoom",$);var ne=new La;this._add("tapDragZoom",ne);var ce=G.touchPitch=new Jo;this._add("touchPitch",ce);var ye=new co(B),Le=new Sa(B);G.dragRotate=new $a(B,ye,Le),this._add("mouseRotate",ye,["mousePitch"]),this._add("mousePitch",Le,["mouseRotate"]);var Ie=new Ko(B),je=new Ea(B);G.dragPan=new Qi(H,Ie,je),this._add("mousePan",Ie),this._add("touchPan",je,["touchZoom","touchRotate"]);var qe=new Co,Qe=new Ms;G.touchZoomRotate=new Ca(H,Qe,qe,ne),this._add("touchRotate",qe,["touchPan","touchZoom"]),this._add("touchZoom",Qe,["touchPan","touchRotate"]);var lt=G.scrollZoom=new Fi(G,this);this._add("scrollZoom",lt,["mousePan"]);var ft=G.keyboard=new gr;this._add("keyboard",ft),this._add("blockableMapEvent",new Ui(G));for(var bt=0,At=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];bt<At.length;bt+=1){var Tt=At[bt];B.interactive&&B[Tt]&&G[Tt].enable(B[Tt])}},qr.prototype._add=function(B,G,H){this._handlers.push({handlerName:B,handler:G,allowed:H}),this._handlersById[B]=G},qr.prototype.stop=function(B){if(!this._updatingCamera){for(var G=0,H=this._handlers;G<H.length;G+=1)H[G].handler.reset();this._inertia.clear(),this._fireEvents({},{},B),this._changes=[]}},qr.prototype.isActive=function(){for(var B=0,G=this._handlers;B<G.length;B+=1)if(G[B].handler.isActive())return!0;return!1},qr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},qr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},qr.prototype.isMoving=function(){return!!ho(this._eventsInProgress)||this.isZooming()},qr.prototype._blockedByActive=function(B,G,H){for(var L in B)if(L!==H&&(!G||G.indexOf(L)<0))return!0;return!1},qr.prototype.handleWindowEvent=function(B){this.handleEvent(B,B.type+"Window")},qr.prototype._getMapTouches=function(B){for(var G=[],H=0,L=B;H<L.length;H+=1){var q=L[H],$=q.target;this._el.contains($)&&G.push(q)}return G},qr.prototype.handleEvent=function(B,G){if(B.type!=="blur"){this._updatingCamera=!0;for(var H=B.type==="renderFrame"?void 0:B,L={needsRenderFrame:!1},q={},$={},ne=B.touches?this._getMapTouches(B.touches):void 0,ce=ne?b.touchPos(this._el,ne):b.mousePos(this._el,B),ye=0,Le=this._handlers;ye<Le.length;ye+=1){var Ie=Le[ye],je=Ie.handlerName,qe=Ie.handler,Qe=Ie.allowed;if(qe.isEnabled()){var lt=void 0;this._blockedByActive($,Qe,je)?qe.reset():qe[G||B.type]&&(lt=qe[G||B.type](B,ce,ne),this.mergeHandlerResult(L,q,lt,je,H),lt&&lt.needsRenderFrame&&this._triggerRenderFrame()),(lt||qe.isActive())&&($[je]=qe)}}var ft={};for(var bt in this._previousActiveHandlers)$[bt]||(ft[bt]=H);this._previousActiveHandlers=$,(Object.keys(ft).length||Io(L))&&(this._changes.push([L,q,ft]),this._triggerRenderFrame()),(Object.keys($).length||Io(L))&&this._map._stop(!0),this._updatingCamera=!1;var At=L.cameraAnimation;At&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],At(this._map))}else this.stop(!0)},qr.prototype.mergeHandlerResult=function(B,G,H,L,q){if(H){a.extend(B,H);var $={handlerName:L,originalEvent:H.originalEvent||q};H.zoomDelta!==void 0&&(G.zoom=$),H.panDelta!==void 0&&(G.drag=$),H.pitchDelta!==void 0&&(G.pitch=$),H.bearingDelta!==void 0&&(G.rotate=$)}},qr.prototype._applyChanges=function(){for(var B={},G={},H={},L=0,q=this._changes;L<q.length;L+=1){var $=q[L],ne=$[0],ce=$[1],ye=$[2];ne.panDelta&&(B.panDelta=(B.panDelta||new a.Point(0,0))._add(ne.panDelta)),ne.zoomDelta&&(B.zoomDelta=(B.zoomDelta||0)+ne.zoomDelta),ne.bearingDelta&&(B.bearingDelta=(B.bearingDelta||0)+ne.bearingDelta),ne.pitchDelta&&(B.pitchDelta=(B.pitchDelta||0)+ne.pitchDelta),ne.around!==void 0&&(B.around=ne.around),ne.pinchAround!==void 0&&(B.pinchAround=ne.pinchAround),ne.noInertia&&(B.noInertia=ne.noInertia),a.extend(G,ce),a.extend(H,ye)}this._updateMapTransform(B,G,H),this._changes=[]},qr.prototype._updateMapTransform=function(B,G,H){var L=this._map,q=L.transform;if(!Io(B))return this._fireEvents(G,H,!0);var $=B.panDelta,ne=B.zoomDelta,ce=B.bearingDelta,ye=B.pitchDelta,Le=B.around,Ie=B.pinchAround;Ie!==void 0&&(Le=Ie),L._stop(!0),Le=Le||L.transform.centerPoint;var je=q.pointLocation($?Le.sub($):Le);ce&&(q.bearing+=ce),ye&&(q.pitch+=ye),ne&&(q.zoom+=ne),q.setLocationAtPoint(je,Le),this._map._update(),B.noInertia||this._inertia.record(B),this._fireEvents(G,H,!0)},qr.prototype._fireEvents=function(B,G,H){var L=this,q=ho(this._eventsInProgress),$=ho(B),ne={};for(var ce in B){var ye=B[ce].originalEvent;this._eventsInProgress[ce]||(ne[ce+"start"]=ye),this._eventsInProgress[ce]=B[ce]}for(var Le in!q&&$&&this._fireEvent("movestart",$.originalEvent),ne)this._fireEvent(Le,ne[Le]);for(var Ie in $&&this._fireEvent("move",$.originalEvent),B){var je=B[Ie].originalEvent;this._fireEvent(Ie,je)}var qe,Qe={};for(var lt in this._eventsInProgress){var ft=this._eventsInProgress[lt],bt=ft.handlerName,At=ft.originalEvent;this._handlersById[bt].isActive()||(delete this._eventsInProgress[lt],qe=G[bt]||At,Qe[lt+"end"]=qe)}for(var Tt in Qe)this._fireEvent(Tt,Qe[Tt]);var Dt=ho(this._eventsInProgress);if(H&&(q||$)&&!Dt){this._updatingCamera=!0;var Ct=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Yt=function(Vt){return Vt!==0&&-L._bearingSnap<Vt&&Vt<L._bearingSnap};Ct?(Yt(Ct.bearing||this._map.getBearing())&&(Ct.bearing=0),this._map.easeTo(Ct,{originalEvent:qe})):(this._map.fire(new a.Event("moveend",{originalEvent:qe})),Yt(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},qr.prototype._fireEvent=function(B,G){this._map.fire(new a.Event(B,G?{originalEvent:G}:{}))},qr.prototype._requestFrame=function(){var B=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(G){delete B._frameId,B.handleEvent(new Es("renderFrame",{timeStamp:G})),B._applyChanges()})},qr.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var qi=function(B){function G(H,L){B.call(this),this._moving=!1,this._zooming=!1,this.transform=H,this._bearingSnap=L.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},G.prototype.setCenter=function(H,L){return this.jumpTo({center:H},L)},G.prototype.panBy=function(H,L,q){return H=a.Point.convert(H).mult(-1),this.panTo(this.transform.center,a.extend({offset:H},L),q)},G.prototype.panTo=function(H,L,q){return this.easeTo(a.extend({center:H},L),q)},G.prototype.getZoom=function(){return this.transform.zoom},G.prototype.setZoom=function(H,L){return this.jumpTo({zoom:H},L),this},G.prototype.zoomTo=function(H,L,q){return this.easeTo(a.extend({zoom:H},L),q)},G.prototype.zoomIn=function(H,L){return this.zoomTo(this.getZoom()+1,H,L),this},G.prototype.zoomOut=function(H,L){return this.zoomTo(this.getZoom()-1,H,L),this},G.prototype.getBearing=function(){return this.transform.bearing},G.prototype.setBearing=function(H,L){return this.jumpTo({bearing:H},L),this},G.prototype.getPadding=function(){return this.transform.padding},G.prototype.setPadding=function(H,L){return this.jumpTo({padding:H},L),this},G.prototype.rotateTo=function(H,L,q){return this.easeTo(a.extend({bearing:H},L),q)},G.prototype.resetNorth=function(H,L){return this.rotateTo(0,a.extend({duration:1e3},H),L),this},G.prototype.resetNorthPitch=function(H,L){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},H),L),this},G.prototype.snapToNorth=function(H,L){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(H,L):this},G.prototype.getPitch=function(){return this.transform.pitch},G.prototype.setPitch=function(H,L){return this.jumpTo({pitch:H},L),this},G.prototype.cameraForBounds=function(H,L){H=a.LngLatBounds.convert(H);var q=L&&L.bearing||0;return this._cameraForBoxAndBearing(H.getNorthWest(),H.getSouthEast(),q,L)},G.prototype._cameraForBoxAndBearing=function(H,L,q,$){var ne={top:0,bottom:0,right:0,left:0};if(typeof($=a.extend({padding:ne,offset:[0,0],maxZoom:this.transform.maxZoom},$)).padding=="number"){var ce=$.padding;$.padding={top:ce,bottom:ce,right:ce,left:ce}}$.padding=a.extend(ne,$.padding);var ye=this.transform,Le=ye.padding,Ie=ye.project(a.LngLat.convert(H)),je=ye.project(a.LngLat.convert(L)),qe=Ie.rotate(-q*Math.PI/180),Qe=je.rotate(-q*Math.PI/180),lt=new a.Point(Math.max(qe.x,Qe.x),Math.max(qe.y,Qe.y)),ft=new a.Point(Math.min(qe.x,Qe.x),Math.min(qe.y,Qe.y)),bt=lt.sub(ft),At=(ye.width-(Le.left+Le.right+$.padding.left+$.padding.right))/bt.x,Tt=(ye.height-(Le.top+Le.bottom+$.padding.top+$.padding.bottom))/bt.y;if(!(Tt<0||At<0)){var Dt=Math.min(ye.scaleZoom(ye.scale*Math.min(At,Tt)),$.maxZoom),Ct=typeof $.offset.x=="number"?new a.Point($.offset.x,$.offset.y):a.Point.convert($.offset),Yt=($.padding.left-$.padding.right)/2,Vt=($.padding.top-$.padding.bottom)/2,Ft=new a.Point(Yt,Vt).rotate(q*Math.PI/180),cn=Ct.add(Ft).mult(ye.scale/ye.zoomScale(Dt));return{center:ye.unproject(Ie.add(je).div(2).sub(cn)),zoom:Dt,bearing:q}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},G.prototype.fitBounds=function(H,L,q){return this._fitInternal(this.cameraForBounds(H,L),L,q)},G.prototype.fitScreenCoordinates=function(H,L,q,$,ne){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(H)),this.transform.pointLocation(a.Point.convert(L)),q,$),$,ne)},G.prototype._fitInternal=function(H,L,q){return H?(delete(L=a.extend(H,L)).padding,L.linear?this.easeTo(L,q):this.flyTo(L,q)):this},G.prototype.jumpTo=function(H,L){this.stop();var q=this.transform,$=!1,ne=!1,ce=!1;return"zoom"in H&&q.zoom!==+H.zoom&&($=!0,q.zoom=+H.zoom),H.center!==void 0&&(q.center=a.LngLat.convert(H.center)),"bearing"in H&&q.bearing!==+H.bearing&&(ne=!0,q.bearing=+H.bearing),"pitch"in H&&q.pitch!==+H.pitch&&(ce=!0,q.pitch=+H.pitch),H.padding==null||q.isPaddingEqual(H.padding)||(q.padding=H.padding),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L)),$&&this.fire(new a.Event("zoomstart",L)).fire(new a.Event("zoom",L)).fire(new a.Event("zoomend",L)),ne&&this.fire(new a.Event("rotatestart",L)).fire(new a.Event("rotate",L)).fire(new a.Event("rotateend",L)),ce&&this.fire(new a.Event("pitchstart",L)).fire(new a.Event("pitch",L)).fire(new a.Event("pitchend",L)),this.fire(new a.Event("moveend",L))},G.prototype.easeTo=function(H,L){var q=this;this._stop(!1,H.easeId),((H=a.extend({offset:[0,0],duration:500,easing:a.ease},H)).animate===!1||!H.essential&&a.browser.prefersReducedMotion)&&(H.duration=0);var $=this.transform,ne=this.getZoom(),ce=this.getBearing(),ye=this.getPitch(),Le=this.getPadding(),Ie="zoom"in H?+H.zoom:ne,je="bearing"in H?this._normalizeBearing(H.bearing,ce):ce,qe="pitch"in H?+H.pitch:ye,Qe="padding"in H?H.padding:$.padding,lt=a.Point.convert(H.offset),ft=$.centerPoint.add(lt),bt=$.pointLocation(ft),At=a.LngLat.convert(H.center||bt);this._normalizeCenter(At);var Tt,Dt,Ct=$.project(bt),Yt=$.project(At).sub(Ct),Vt=$.zoomScale(Ie-ne);H.around&&(Tt=a.LngLat.convert(H.around),Dt=$.locationPoint(Tt));var Ft={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ie!==ne,this._rotating=this._rotating||ce!==je,this._pitching=this._pitching||qe!==ye,this._padding=!$.isPaddingEqual(Qe),this._easeId=H.easeId,this._prepareEase(L,H.noMoveStart,Ft),this._ease(function(cn){if(q._zooming&&($.zoom=a.number(ne,Ie,cn)),q._rotating&&($.bearing=a.number(ce,je,cn)),q._pitching&&($.pitch=a.number(ye,qe,cn)),q._padding&&($.interpolatePadding(Le,Qe,cn),ft=$.centerPoint.add(lt)),Tt)$.setLocationAtPoint(Tt,Dt);else{var dn=$.zoomScale($.zoom-ne),Mn=Ie>ne?Math.min(2,Vt):Math.max(.5,Vt),Ln=Math.pow(Mn,1-cn),Un=$.unproject(Ct.add(Yt.mult(cn*Ln)).mult(dn));$.setLocationAtPoint($.renderWorldCopies?Un.wrap():Un,ft)}q._fireMoveEvents(L)},function(cn){q._afterEase(L,cn)},H),this},G.prototype._prepareEase=function(H,L,q){q===void 0&&(q={}),this._moving=!0,L||q.moving||this.fire(new a.Event("movestart",H)),this._zooming&&!q.zooming&&this.fire(new a.Event("zoomstart",H)),this._rotating&&!q.rotating&&this.fire(new a.Event("rotatestart",H)),this._pitching&&!q.pitching&&this.fire(new a.Event("pitchstart",H))},G.prototype._fireMoveEvents=function(H){this.fire(new a.Event("move",H)),this._zooming&&this.fire(new a.Event("zoom",H)),this._rotating&&this.fire(new a.Event("rotate",H)),this._pitching&&this.fire(new a.Event("pitch",H))},G.prototype._afterEase=function(H,L){if(!this._easeId||!L||this._easeId!==L){delete this._easeId;var q=this._zooming,$=this._rotating,ne=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,q&&this.fire(new a.Event("zoomend",H)),$&&this.fire(new a.Event("rotateend",H)),ne&&this.fire(new a.Event("pitchend",H)),this.fire(new a.Event("moveend",H))}},G.prototype.flyTo=function(H,L){var q=this;if(!H.essential&&a.browser.prefersReducedMotion){var $=a.pick(H,["center","zoom","bearing","pitch","around"]);return this.jumpTo($,L)}this.stop(),H=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},H);var ne=this.transform,ce=this.getZoom(),ye=this.getBearing(),Le=this.getPitch(),Ie=this.getPadding(),je="zoom"in H?a.clamp(+H.zoom,ne.minZoom,ne.maxZoom):ce,qe="bearing"in H?this._normalizeBearing(H.bearing,ye):ye,Qe="pitch"in H?+H.pitch:Le,lt="padding"in H?H.padding:ne.padding,ft=ne.zoomScale(je-ce),bt=a.Point.convert(H.offset),At=ne.centerPoint.add(bt),Tt=ne.pointLocation(At),Dt=a.LngLat.convert(H.center||Tt);this._normalizeCenter(Dt);var Ct=ne.project(Tt),Yt=ne.project(Dt).sub(Ct),Vt=H.curve,Ft=Math.max(ne.width,ne.height),cn=Ft/ft,dn=Yt.mag();if("minZoom"in H){var Mn=a.clamp(Math.min(H.minZoom,ce,je),ne.minZoom,ne.maxZoom),Ln=Ft/ne.zoomScale(Mn-ce);Vt=Math.sqrt(Ln/dn*2)}var Un=Vt*Vt;function Qn(cr){var Tr=(cn*cn-Ft*Ft+(cr?-1:1)*Un*Un*dn*dn)/(2*(cr?cn:Ft)*Un*dn);return Math.log(Math.sqrt(Tr*Tr+1)-Tr)}function ur(cr){return(Math.exp(cr)-Math.exp(-cr))/2}function Hn(cr){return(Math.exp(cr)+Math.exp(-cr))/2}var sr=Qn(0),vr=function(cr){return Hn(sr)/Hn(sr+Vt*cr)},Ar=function(cr){return Ft*((Hn(sr)*(ur(Tr=sr+Vt*cr)/Hn(Tr))-ur(sr))/Un)/dn;var Tr},Jn=(Qn(1)-sr)/Vt;if(Math.abs(dn)<1e-6||!isFinite(Jn)){if(Math.abs(Ft-cn)<1e-6)return this.easeTo(H,L);var or=cn<Ft?-1:1;Jn=Math.abs(Math.log(cn/Ft))/Vt,Ar=function(){return 0},vr=function(cr){return Math.exp(or*Vt*cr)}}if("duration"in H)H.duration=+H.duration;else{var xr="screenSpeed"in H?+H.screenSpeed/Vt:+H.speed;H.duration=1e3*Jn/xr}return H.maxDuration&&H.duration>H.maxDuration&&(H.duration=0),this._zooming=!0,this._rotating=ye!==qe,this._pitching=Qe!==Le,this._padding=!ne.isPaddingEqual(lt),this._prepareEase(L,!1),this._ease(function(cr){var Tr=cr*Jn,Er=1/vr(Tr);ne.zoom=cr===1?je:ce+ne.scaleZoom(Er),q._rotating&&(ne.bearing=a.number(ye,qe,cr)),q._pitching&&(ne.pitch=a.number(Le,Qe,cr)),q._padding&&(ne.interpolatePadding(Ie,lt,cr),At=ne.centerPoint.add(bt));var Dr=cr===1?Dt:ne.unproject(Ct.add(Yt.mult(Ar(Tr))).mult(Er));ne.setLocationAtPoint(ne.renderWorldCopies?Dr.wrap():Dr,At),q._fireMoveEvents(L)},function(){return q._afterEase(L)},H),this},G.prototype.isEasing=function(){return!!this._easeFrameId},G.prototype.stop=function(){return this._stop()},G.prototype._stop=function(H,L){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var q=this._onEaseEnd;delete this._onEaseEnd,q.call(this,L)}if(!H){var $=this.handlers;$&&$.stop(!1)}return this},G.prototype._ease=function(H,L,q){q.animate===!1||q.duration===0?(H(1),L()):(this._easeStart=a.browser.now(),this._easeOptions=q,this._onEaseFrame=H,this._onEaseEnd=L,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},G.prototype._renderFrameCallback=function(){var H=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(H)),H<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},G.prototype._normalizeBearing=function(H,L){H=a.wrap(H,-180,180);var q=Math.abs(H-L);return Math.abs(H-360-L)<q&&(H-=360),Math.abs(H+360-L)<q&&(H+=360),H},G.prototype._normalizeCenter=function(H){var L=this.transform;if(L.renderWorldCopies&&!L.lngRange){var q=H.lng-L.center.lng;H.lng+=q>180?-360:q<-180?360:0}},G}(a.Evented),oa=function(B){B===void 0&&(B={}),this.options=B,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};oa.prototype.getDefaultPosition=function(){return"bottom-right"},oa.prototype.onAdd=function(B){var G=this.options&&this.options.compact;return this._map=B,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=b.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),G&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),G===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},oa.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},oa.prototype._setElementTitle=function(B,G){var H=this._map._getUIString("AttributionControl."+G);B.title=H,B.setAttribute("aria-label",H)},oa.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},oa.prototype._updateEditLink=function(){var B=this._editLink;B||(B=this._editLink=this._container.querySelector(".mapbox-improve-map"));var G=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(B){var H=G.reduce(function(L,q,$){return q.value&&(L+=q.key+"="+q.value+($<G.length-1?"&":"")),L},"?");B.href=a.config.FEEDBACK_URL+"/"+H+(this._map._hash?this._map._hash.getHashString(!0):""),B.rel="noopener nofollow",this._setElementTitle(B,"MapFeedback")}},oa.prototype._updateData=function(B){!B||B.sourceDataType!=="metadata"&&B.sourceDataType!=="visibility"&&B.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},oa.prototype._updateAttributions=function(){if(this._map.style){var B=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?B=B.concat(this.options.customAttribution.map(function(ce){return typeof ce!="string"?"":ce})):typeof this.options.customAttribution=="string"&&B.push(this.options.customAttribution)),this._map.style.stylesheet){var G=this._map.style.stylesheet;this.styleOwner=G.owner,this.styleId=G.id}var H=this._map.style.sourceCaches;for(var L in H){var q=H[L];if(q.used){var $=q.getSource();$.attribution&&B.indexOf($.attribution)<0&&B.push($.attribution)}}B.sort(function(ce,ye){return ce.length-ye.length});var ne=(B=B.filter(function(ce,ye){for(var Le=ye+1;Le<B.length;Le++)if(B[Le].indexOf(ce)>=0)return!1;return!0})).join(" | ");ne!==this._attribHTML&&(this._attribHTML=ne,B.length?(this._innerContainer.innerHTML=ne,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},oa.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Qa=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Qa.prototype.onAdd=function(B){this._map=B,this._container=b.create("div","mapboxgl-ctrl");var G=b.create("a","mapboxgl-ctrl-logo");return G.target="_blank",G.rel="noopener nofollow",G.href="https://www.mapbox.com/",G.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),G.setAttribute("rel","noopener nofollow"),this._container.appendChild(G),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Qa.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Qa.prototype.getDefaultPosition=function(){return"bottom-left"},Qa.prototype._updateLogo=function(B){B&&B.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Qa.prototype._logoRequired=function(){if(this._map.style){var B=this._map.style.sourceCaches;for(var G in B)if(B[G].getSource().mapbox_logo)return!0;return!1}},Qa.prototype._updateCompact=function(){var B=this._container.children;if(B.length){var G=B[0];this._map.getCanvasContainer().offsetWidth<250?G.classList.add("mapboxgl-compact"):G.classList.remove("mapboxgl-compact")}};var sa=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};sa.prototype.add=function(B){var G=++this._id;return this._queue.push({callback:B,id:G,cancelled:!1}),G},sa.prototype.remove=function(B){for(var G=this._currentlyRunning,H=0,L=G?this._queue.concat(G):this._queue;H<L.length;H+=1){var q=L[H];if(q.id===B)return void(q.cancelled=!0)}},sa.prototype.run=function(B){B===void 0&&(B=0);var G=this._currentlyRunning=this._queue;this._queue=[];for(var H=0,L=G;H<L.length;H+=1){var q=L[H];if(!q.cancelled&&(q.callback(B),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},sa.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var us={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},cs=a.window.HTMLImageElement,la=a.window.HTMLElement,Ur=a.window.ImageBitmap,eo=60,$o={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:eo,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Va=function(B){function G(L){var q=this;if((L=a.extend({},$o,L)).minZoom!=null&&L.maxZoom!=null&&L.minZoom>L.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(L.minPitch!=null&&L.maxPitch!=null&&L.minPitch>L.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(L.minPitch!=null&&L.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(L.maxPitch!=null&&L.maxPitch>eo)throw new Error("maxPitch must be less than or equal to 60");var $=new Gr(L.minZoom,L.maxZoom,L.minPitch,L.maxPitch,L.renderWorldCopies);if(B.call(this,$,L),this._interactive=L.interactive,this._maxTileCacheSize=L.maxTileCacheSize,this._failIfMajorPerformanceCaveat=L.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=L.preserveDrawingBuffer,this._antialias=L.antialias,this._trackResize=L.trackResize,this._bearingSnap=L.bearingSnap,this._refreshExpiredTiles=L.refreshExpiredTiles,this._fadeDuration=L.fadeDuration,this._crossSourceCollisions=L.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=L.collectResourceTiming,this._renderTaskQueue=new sa,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},us,L.locale),this._clickTolerance=L.clickTolerance,this._requestManager=new a.RequestManager(L.transformRequest,L.accessToken),typeof L.container=="string"){if(this._container=a.window.document.getElementById(L.container),!this._container)throw new Error("Container '"+L.container+"' not found.")}else{if(!(L.container instanceof la))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=L.container}if(L.maxBounds&&this.setMaxBounds(L.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return q._update(!1)}),this.on("moveend",function(){return q._update(!1)}),this.on("zoom",function(){return q._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new qr(this,L);var ne=typeof L.hash=="string"&&L.hash||void 0;this._hash=L.hash&&new ba(ne).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:L.center,zoom:L.zoom,bearing:L.bearing,pitch:L.pitch}),L.bounds&&(this.resize(),this.fitBounds(L.bounds,a.extend({},L.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=L.localIdeographFontFamily,L.style&&this.setStyle(L.style,{localIdeographFontFamily:L.localIdeographFontFamily}),L.attributionControl&&this.addControl(new oa({customAttribution:L.customAttribution})),this.addControl(new Qa,L.logoPosition),this.on("style.load",function(){q.transform.unmodified&&q.jumpTo(q.style.stylesheet)}),this.on("data",function(ce){q._update(ce.dataType==="style"),q.fire(new a.Event(ce.dataType+"data",ce))}),this.on("dataloading",function(ce){q.fire(new a.Event(ce.dataType+"dataloading",ce))})}B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G;var H={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return G.prototype._getMapId=function(){return this._mapId},G.prototype.addControl=function(L,q){if(q===void 0&&(q=L.getDefaultPosition?L.getDefaultPosition():"top-right"),!L||!L.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var $=L.onAdd(this);this._controls.push(L);var ne=this._controlPositions[q];return q.indexOf("bottom")!==-1?ne.insertBefore($,ne.firstChild):ne.appendChild($),this},G.prototype.removeControl=function(L){if(!L||!L.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var q=this._controls.indexOf(L);return q>-1&&this._controls.splice(q,1),L.onRemove(this),this},G.prototype.hasControl=function(L){return this._controls.indexOf(L)>-1},G.prototype.resize=function(L){var q=this._containerDimensions(),$=q[0],ne=q[1];this._resizeCanvas($,ne),this.transform.resize($,ne),this.painter.resize($,ne);var ce=!this._moving;return ce&&(this.stop(),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L))),this.fire(new a.Event("resize",L)),ce&&this.fire(new a.Event("moveend",L)),this},G.prototype.getBounds=function(){return this.transform.getBounds()},G.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},G.prototype.setMaxBounds=function(L){return this.transform.setMaxBounds(a.LngLatBounds.convert(L)),this._update()},G.prototype.setMinZoom=function(L){if((L=L??-2)>=-2&&L<=this.transform.maxZoom)return this.transform.minZoom=L,this._update(),this.getZoom()<L&&this.setZoom(L),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},G.prototype.getMinZoom=function(){return this.transform.minZoom},G.prototype.setMaxZoom=function(L){if((L=L??22)>=this.transform.minZoom)return this.transform.maxZoom=L,this._update(),this.getZoom()>L&&this.setZoom(L),this;throw new Error("maxZoom must be greater than the current minZoom")},G.prototype.getMaxZoom=function(){return this.transform.maxZoom},G.prototype.setMinPitch=function(L){if((L=L??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(L>=0&&L<=this.transform.maxPitch)return this.transform.minPitch=L,this._update(),this.getPitch()<L&&this.setPitch(L),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},G.prototype.getMinPitch=function(){return this.transform.minPitch},G.prototype.setMaxPitch=function(L){if((L=L??eo)>eo)throw new Error("maxPitch must be less than or equal to 60");if(L>=this.transform.minPitch)return this.transform.maxPitch=L,this._update(),this.getPitch()>L&&this.setPitch(L),this;throw new Error("maxPitch must be greater than the current minPitch")},G.prototype.getMaxPitch=function(){return this.transform.maxPitch},G.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},G.prototype.setRenderWorldCopies=function(L){return this.transform.renderWorldCopies=L,this._update()},G.prototype.project=function(L){return this.transform.locationPoint(a.LngLat.convert(L))},G.prototype.unproject=function(L){return this.transform.pointLocation(a.Point.convert(L))},G.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},G.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},G.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},G.prototype._createDelegatedListener=function(L,q,$){var ne,ce=this;if(L==="mouseenter"||L==="mouseover"){var ye=!1;return{layer:q,listener:$,delegates:{mousemove:function(Ie){var je=ce.getLayer(q)?ce.queryRenderedFeatures(Ie.point,{layers:[q]}):[];je.length?ye||(ye=!0,$.call(ce,new $i(L,ce,Ie.originalEvent,{features:je}))):ye=!1},mouseout:function(){ye=!1}}}}if(L==="mouseleave"||L==="mouseout"){var Le=!1;return{layer:q,listener:$,delegates:{mousemove:function(Ie){(ce.getLayer(q)?ce.queryRenderedFeatures(Ie.point,{layers:[q]}):[]).length?Le=!0:Le&&(Le=!1,$.call(ce,new $i(L,ce,Ie.originalEvent)))},mouseout:function(Ie){Le&&(Le=!1,$.call(ce,new $i(L,ce,Ie.originalEvent)))}}}}return{layer:q,listener:$,delegates:(ne={},ne[L]=function(Ie){var je=ce.getLayer(q)?ce.queryRenderedFeatures(Ie.point,{layers:[q]}):[];je.length&&(Ie.features=je,$.call(ce,Ie),delete Ie.features)},ne)}},G.prototype.on=function(L,q,$){if($===void 0)return B.prototype.on.call(this,L,q);var ne=this._createDelegatedListener(L,q,$);for(var ce in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[L]=this._delegatedListeners[L]||[],this._delegatedListeners[L].push(ne),ne.delegates)this.on(ce,ne.delegates[ce]);return this},G.prototype.once=function(L,q,$){if($===void 0)return B.prototype.once.call(this,L,q);var ne=this._createDelegatedListener(L,q,$);for(var ce in ne.delegates)this.once(ce,ne.delegates[ce]);return this},G.prototype.off=function(L,q,$){var ne=this;return $===void 0?B.prototype.off.call(this,L,q):(this._delegatedListeners&&this._delegatedListeners[L]&&function(ce){for(var ye=ce[L],Le=0;Le<ye.length;Le++){var Ie=ye[Le];if(Ie.layer===q&&Ie.listener===$){for(var je in Ie.delegates)ne.off(je,Ie.delegates[je]);return ye.splice(Le,1),ne}}}(this._delegatedListeners),this)},G.prototype.queryRenderedFeatures=function(L,q){if(!this.style)return[];var $;if(q!==void 0||L===void 0||L instanceof a.Point||Array.isArray(L)||(q=L,L=void 0),q=q||{},(L=L||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof L[0]=="number")$=[a.Point.convert(L)];else{var ne=a.Point.convert(L[0]),ce=a.Point.convert(L[1]);$=[ne,new a.Point(ce.x,ne.y),ce,new a.Point(ne.x,ce.y),ne]}return this.style.queryRenderedFeatures($,q,this.transform)},G.prototype.querySourceFeatures=function(L,q){return this.style.querySourceFeatures(L,q)},G.prototype.setStyle=function(L,q){return(q=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},q)).diff!==!1&&q.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&L?(this._diffStyle(L,q),this):(this._localIdeographFontFamily=q.localIdeographFontFamily,this._updateStyle(L,q))},G.prototype._getUIString=function(L){var q=this._locale[L];if(q==null)throw new Error("Missing UI string '"+L+"'");return q},G.prototype._updateStyle=function(L,q){return this.style&&(this.style.setEventedParent(null),this.style._remove()),L?(this.style=new Kn(this,q||{}),this.style.setEventedParent(this,{style:this.style}),typeof L=="string"?this.style.loadURL(L):this.style.loadJSON(L),this):(delete this.style,this)},G.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Kn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},G.prototype._diffStyle=function(L,q){var $=this;if(typeof L=="string"){var ne=this._requestManager.normalizeStyleURL(L),ce=this._requestManager.transformRequest(ne,a.ResourceType.Style);a.getJSON(ce,function(ye,Le){ye?$.fire(new a.ErrorEvent(ye)):Le&&$._updateDiff(Le,q)})}else typeof L=="object"&&this._updateDiff(L,q)},G.prototype._updateDiff=function(L,q){try{this.style.setState(L)&&this._update(!0)}catch($){a.warnOnce("Unable to perform style diff: "+($.message||$.error||$)+".  Rebuilding the style from scratch."),this._updateStyle(L,q)}},G.prototype.getStyle=function(){if(this.style)return this.style.serialize()},G.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},G.prototype.addSource=function(L,q){return this._lazyInitEmptyStyle(),this.style.addSource(L,q),this._update(!0)},G.prototype.isSourceLoaded=function(L){var q=this.style&&this.style.sourceCaches[L];if(q!==void 0)return q.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+L+"'")))},G.prototype.areTilesLoaded=function(){var L=this.style&&this.style.sourceCaches;for(var q in L){var $=L[q]._tiles;for(var ne in $){var ce=$[ne];if(ce.state!=="loaded"&&ce.state!=="errored")return!1}}return!0},G.prototype.addSourceType=function(L,q,$){return this._lazyInitEmptyStyle(),this.style.addSourceType(L,q,$)},G.prototype.removeSource=function(L){return this.style.removeSource(L),this._update(!0)},G.prototype.getSource=function(L){return this.style.getSource(L)},G.prototype.addImage=function(L,q,$){$===void 0&&($={});var ne=$.pixelRatio;ne===void 0&&(ne=1);var ce=$.sdf;ce===void 0&&(ce=!1);var ye=$.stretchX,Le=$.stretchY,Ie=$.content;if(this._lazyInitEmptyStyle(),q instanceof cs||Ur&&q instanceof Ur){var je=a.browser.getImageData(q),qe=je.width,Qe=je.height,lt=je.data;this.style.addImage(L,{data:new a.RGBAImage({width:qe,height:Qe},lt),pixelRatio:ne,stretchX:ye,stretchY:Le,content:Ie,sdf:ce,version:0})}else{if(q.width===void 0||q.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ft=q.width,bt=q.height,At=q.data,Tt=q;this.style.addImage(L,{data:new a.RGBAImage({width:ft,height:bt},new Uint8Array(At)),pixelRatio:ne,stretchX:ye,stretchY:Le,content:Ie,sdf:ce,version:0,userImage:Tt}),Tt.onAdd&&Tt.onAdd(this,L)}},G.prototype.updateImage=function(L,q){var $=this.style.getImage(L);if(!$)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ne=q instanceof cs||Ur&&q instanceof Ur?a.browser.getImageData(q):q,ce=ne.width,ye=ne.height,Le=ne.data;if(ce===void 0||ye===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(ce!==$.data.width||ye!==$.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var Ie=!(q instanceof cs||Ur&&q instanceof Ur);$.data.replace(Le,Ie),this.style.updateImage(L,$)},G.prototype.hasImage=function(L){return L?!!this.style.getImage(L):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},G.prototype.removeImage=function(L){this.style.removeImage(L)},G.prototype.loadImage=function(L,q){a.getImage(this._requestManager.transformRequest(L,a.ResourceType.Image),q)},G.prototype.listImages=function(){return this.style.listImages()},G.prototype.addLayer=function(L,q){return this._lazyInitEmptyStyle(),this.style.addLayer(L,q),this._update(!0)},G.prototype.moveLayer=function(L,q){return this.style.moveLayer(L,q),this._update(!0)},G.prototype.removeLayer=function(L){return this.style.removeLayer(L),this._update(!0)},G.prototype.getLayer=function(L){return this.style.getLayer(L)},G.prototype.setLayerZoomRange=function(L,q,$){return this.style.setLayerZoomRange(L,q,$),this._update(!0)},G.prototype.setFilter=function(L,q,$){return $===void 0&&($={}),this.style.setFilter(L,q,$),this._update(!0)},G.prototype.getFilter=function(L){return this.style.getFilter(L)},G.prototype.setPaintProperty=function(L,q,$,ne){return ne===void 0&&(ne={}),this.style.setPaintProperty(L,q,$,ne),this._update(!0)},G.prototype.getPaintProperty=function(L,q){return this.style.getPaintProperty(L,q)},G.prototype.setLayoutProperty=function(L,q,$,ne){return ne===void 0&&(ne={}),this.style.setLayoutProperty(L,q,$,ne),this._update(!0)},G.prototype.getLayoutProperty=function(L,q){return this.style.getLayoutProperty(L,q)},G.prototype.setLight=function(L,q){return q===void 0&&(q={}),this._lazyInitEmptyStyle(),this.style.setLight(L,q),this._update(!0)},G.prototype.getLight=function(){return this.style.getLight()},G.prototype.setFeatureState=function(L,q){return this.style.setFeatureState(L,q),this._update()},G.prototype.removeFeatureState=function(L,q){return this.style.removeFeatureState(L,q),this._update()},G.prototype.getFeatureState=function(L){return this.style.getFeatureState(L)},G.prototype.getContainer=function(){return this._container},G.prototype.getCanvasContainer=function(){return this._canvasContainer},G.prototype.getCanvas=function(){return this._canvas},G.prototype._containerDimensions=function(){var L=0,q=0;return this._container&&(L=this._container.clientWidth||400,q=this._container.clientHeight||300),[L,q]},G.prototype._detectMissingCSS=function(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},G.prototype._setupContainer=function(){var L=this._container;L.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",L)).style.visibility="hidden",this._detectMissingCSS();var q=this._canvasContainer=b.create("div","mapboxgl-canvas-container",L);this._interactive&&q.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",q),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var $=this._containerDimensions();this._resizeCanvas($[0],$[1]);var ne=this._controlContainer=b.create("div","mapboxgl-control-container",L),ce=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ye){ce[ye]=b.create("div","mapboxgl-ctrl-"+ye,ne)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},G.prototype._resizeCanvas=function(L,q){var $=a.browser.devicePixelRatio||1;this._canvas.width=$*L,this._canvas.height=$*q,this._canvas.style.width=L+"px",this._canvas.style.height=q+"px"},G.prototype._setupPainter=function(){var L=a.extend({},T.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),q=this._canvas.getContext("webgl",L)||this._canvas.getContext("experimental-webgl",L);q?(this.painter=new Jr(q,this.transform),a.webpSupported.testSupport(q)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},G.prototype._contextLost=function(L){L.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:L}))},G.prototype._contextRestored=function(L){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:L}))},G.prototype._onMapScroll=function(L){if(L.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},G.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},G.prototype._update=function(L){return this.style?(this._styleDirty=this._styleDirty||L,this._sourcesDirty=!0,this.triggerRepaint(),this):this},G.prototype._requestRenderFrame=function(L){return this._update(),this._renderTaskQueue.add(L)},G.prototype._cancelRenderFrame=function(L){this._renderTaskQueue.remove(L)},G.prototype._render=function(L){var q,$=this,ne=0,ce=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(q=ce.createQueryEXT(),ce.beginQueryEXT(ce.TIME_ELAPSED_EXT,q),ne=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(L),!this._removed){var ye=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Le=this.transform.zoom,Ie=a.browser.now();this.style.zoomHistory.update(Le,Ie);var je=new a.EvaluationParameters(Le,{now:Ie,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),qe=je.crossFadingFactor();qe===1&&qe===this._crossFadingFactor||(ye=!0,this._crossFadingFactor=qe),this.style.update(je)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||ye)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Qe=a.browser.now()-ne;ce.endQueryEXT(ce.TIME_ELAPSED_EXT,q),setTimeout(function(){var bt=ce.getQueryObjectEXT(q,ce.QUERY_RESULT_EXT)/1e6;ce.deleteQueryEXT(q),$.fire(new a.Event("gpu-timing-frame",{cpuTime:Qe,gpuTime:bt}))},50)}if(this.listens("gpu-timing-layer")){var lt=this.painter.collectGpuTimers();setTimeout(function(){var bt=$.painter.queryGpuTimers(lt);$.fire(new a.Event("gpu-timing-layer",{layerTimes:bt}))},50)}var ft=this._sourcesDirty||this._styleDirty||this._placementDirty;return ft||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||ft||(this._fullyLoaded=!0),this}},G.prototype.remove=function(){this._hash&&this._hash.remove();for(var L=0,q=this._controls;L<q.length;L+=1)q[L].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var $=this.painter.context.gl.getExtension("WEBGL_lose_context");$&&$.loseContext&&$.loseContext(),fs(this._canvasContainer),fs(this._controlContainer),fs(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},G.prototype.triggerRepaint=function(){var L=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(q){L._frame=null,L._render(q)}))},G.prototype._onWindowOnline=function(){this._update()},G.prototype._onWindowResize=function(L){this._trackResize&&this.resize({originalEvent:L})._update()},H.showTileBoundaries.get=function(){return!!this._showTileBoundaries},H.showTileBoundaries.set=function(L){this._showTileBoundaries!==L&&(this._showTileBoundaries=L,this._update())},H.showPadding.get=function(){return!!this._showPadding},H.showPadding.set=function(L){this._showPadding!==L&&(this._showPadding=L,this._update())},H.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},H.showCollisionBoxes.set=function(L){this._showCollisionBoxes!==L&&(this._showCollisionBoxes=L,L?this.style._generateCollisionBoxes():this._update())},H.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},H.showOverdrawInspector.set=function(L){this._showOverdrawInspector!==L&&(this._showOverdrawInspector=L,this._update())},H.repaint.get=function(){return!!this._repaint},H.repaint.set=function(L){this._repaint!==L&&(this._repaint=L,this.triggerRepaint())},H.vertices.get=function(){return!!this._vertices},H.vertices.set=function(L){this._vertices=L,this._update()},G.prototype._setCacheLimits=function(L,q){a.setCacheLimits(L,q)},H.version.get=function(){return a.version},Object.defineProperties(G.prototype,H),G}(qi);function fs(B){B.parentNode&&B.parentNode.removeChild(B)}var hs={showCompass:!0,showZoom:!0,visualizePitch:!1},qa=function(B){var G=this;this.options=a.extend({},hs,B),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(H){return H.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(H){return G._map.zoomIn({},{originalEvent:H})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(H){return G._map.zoomOut({},{originalEvent:H})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(H){G.options.visualizePitch?G._map.resetNorthPitch({},{originalEvent:H}):G._map.resetNorth({},{originalEvent:H})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};qa.prototype._updateZoomButtons=function(){var B=this._map.getZoom(),G=B===this._map.getMaxZoom(),H=B===this._map.getMinZoom();this._zoomInButton.disabled=G,this._zoomOutButton.disabled=H,this._zoomInButton.setAttribute("aria-disabled",G.toString()),this._zoomOutButton.setAttribute("aria-disabled",H.toString())},qa.prototype._rotateCompassArrow=function(){var B=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=B},qa.prototype.onAdd=function(B){return this._map=B,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new si(this._map,this._compass,this.options.visualizePitch)),this._container},qa.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},qa.prototype._createButton=function(B,G){var H=b.create("button",B,this._container);return H.type="button",H.addEventListener("click",G),H},qa.prototype._setButtonTitle=function(B,G){var H=this._map._getUIString("NavigationControl."+G);B.title=H,B.setAttribute("aria-label",H)};var si=function(B,G,H){H===void 0&&(H=!1),this._clickTolerance=10,this.element=G,this.mouseRotate=new co({clickTolerance:B.dragRotate._mouseRotate._clickTolerance}),this.map=B,H&&(this.mousePitch=new Sa({clickTolerance:B.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener(G,"mousedown",this.mousedown),b.addEventListener(G,"touchstart",this.touchstart,{passive:!1}),b.addEventListener(G,"touchmove",this.touchmove),b.addEventListener(G,"touchend",this.touchend),b.addEventListener(G,"touchcancel",this.reset)};function Qo(B,G,H){if(B=new a.LngLat(B.lng,B.lat),G){var L=new a.LngLat(B.lng-360,B.lat),q=new a.LngLat(B.lng+360,B.lat),$=H.locationPoint(B).distSqr(G);H.locationPoint(L).distSqr(G)<$?B=L:H.locationPoint(q).distSqr(G)<$&&(B=q)}for(;Math.abs(B.lng-H.center.lng)>180;){var ne=H.locationPoint(B);if(ne.x>=0&&ne.y>=0&&ne.x<=H.width&&ne.y<=H.height)break;B.lng>H.center.lng?B.lng-=360:B.lng+=360}return B}si.prototype.down=function(B,G){this.mouseRotate.mousedown(B,G),this.mousePitch&&this.mousePitch.mousedown(B,G),b.disableDrag()},si.prototype.move=function(B,G){var H=this.map,L=this.mouseRotate.mousemoveWindow(B,G);if(L&&L.bearingDelta&&H.setBearing(H.getBearing()+L.bearingDelta),this.mousePitch){var q=this.mousePitch.mousemoveWindow(B,G);q&&q.pitchDelta&&H.setPitch(H.getPitch()+q.pitchDelta)}},si.prototype.off=function(){var B=this.element;b.removeEventListener(B,"mousedown",this.mousedown),b.removeEventListener(B,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(B,"touchmove",this.touchmove),b.removeEventListener(B,"touchend",this.touchend),b.removeEventListener(B,"touchcancel",this.reset),this.offTemp()},si.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(a.window,"mousemove",this.mousemove),b.removeEventListener(a.window,"mouseup",this.mouseup)},si.prototype.mousedown=function(B){this.down(a.extend({},B,{ctrlKey:!0,preventDefault:function(){return B.preventDefault()}}),b.mousePos(this.element,B)),b.addEventListener(a.window,"mousemove",this.mousemove),b.addEventListener(a.window,"mouseup",this.mouseup)},si.prototype.mousemove=function(B){this.move(B,b.mousePos(this.element,B))},si.prototype.mouseup=function(B){this.mouseRotate.mouseupWindow(B),this.mousePitch&&this.mousePitch.mouseupWindow(B),this.offTemp()},si.prototype.touchstart=function(B){B.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,B.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return B.preventDefault()}},this._startPos))},si.prototype.touchmove=function(B){B.targetTouches.length!==1?this.reset():(this._lastPos=b.touchPos(this.element,B.targetTouches)[0],this.move({preventDefault:function(){return B.preventDefault()}},this._lastPos))},si.prototype.touchend=function(B){B.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},si.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var kr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Cr(B,G,H){var L=B.classList;for(var q in kr)L.remove("mapboxgl-"+H+"-anchor-"+q);L.add("mapboxgl-"+H+"-anchor-"+G)}var _a,to=function(B){function G(H,L){if(B.call(this),(H instanceof a.window.HTMLElement||L)&&(H=a.extend({element:H},L)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=H&&H.anchor||"center",this._color=H&&H.color||"#3FB1CE",this._scale=H&&H.scale||1,this._draggable=H&&H.draggable||!1,this._clickTolerance=H&&H.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=H&&H.rotation||0,this._rotationAlignment=H&&H.rotationAlignment||"auto",this._pitchAlignment=H&&H.pitchAlignment&&H.pitchAlignment!=="auto"?H.pitchAlignment:this._rotationAlignment,H&&H.element)this._element=H.element,this._offset=a.Point.convert(H&&H.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var q=b.createNS("http://www.w3.org/2000/svg","svg");q.setAttributeNS(null,"display","block"),q.setAttributeNS(null,"height","41px"),q.setAttributeNS(null,"width","27px"),q.setAttributeNS(null,"viewBox","0 0 27 41");var $=b.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"stroke","none"),$.setAttributeNS(null,"stroke-width","1"),$.setAttributeNS(null,"fill","none"),$.setAttributeNS(null,"fill-rule","evenodd");var ne=b.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"fill-rule","nonzero");var ce=b.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ce.setAttributeNS(null,"fill","#000000");for(var ye=0,Le=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ye<Le.length;ye+=1){var Ie=Le[ye],je=b.createNS("http://www.w3.org/2000/svg","ellipse");je.setAttributeNS(null,"opacity","0.04"),je.setAttributeNS(null,"cx","10.5"),je.setAttributeNS(null,"cy","5.80029008"),je.setAttributeNS(null,"rx",Ie.rx),je.setAttributeNS(null,"ry",Ie.ry),ce.appendChild(je)}var qe=b.createNS("http://www.w3.org/2000/svg","g");qe.setAttributeNS(null,"fill",this._color);var Qe=b.createNS("http://www.w3.org/2000/svg","path");Qe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),qe.appendChild(Qe);var lt=b.createNS("http://www.w3.org/2000/svg","g");lt.setAttributeNS(null,"opacity","0.25"),lt.setAttributeNS(null,"fill","#000000");var ft=b.createNS("http://www.w3.org/2000/svg","path");ft.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),lt.appendChild(ft);var bt=b.createNS("http://www.w3.org/2000/svg","g");bt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),bt.setAttributeNS(null,"fill","#FFFFFF");var At=b.createNS("http://www.w3.org/2000/svg","g");At.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Tt=b.createNS("http://www.w3.org/2000/svg","circle");Tt.setAttributeNS(null,"fill","#000000"),Tt.setAttributeNS(null,"opacity","0.25"),Tt.setAttributeNS(null,"cx","5.5"),Tt.setAttributeNS(null,"cy","5.5"),Tt.setAttributeNS(null,"r","5.4999962");var Dt=b.createNS("http://www.w3.org/2000/svg","circle");Dt.setAttributeNS(null,"fill","#FFFFFF"),Dt.setAttributeNS(null,"cx","5.5"),Dt.setAttributeNS(null,"cy","5.5"),Dt.setAttributeNS(null,"r","5.4999962"),At.appendChild(Tt),At.appendChild(Dt),ne.appendChild(ce),ne.appendChild(qe),ne.appendChild(lt),ne.appendChild(bt),ne.appendChild(At),q.appendChild(ne),q.setAttributeNS(null,"height",41*this._scale+"px"),q.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(q),this._offset=a.Point.convert(H&&H.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Ct){Ct.preventDefault()}),this._element.addEventListener("mousedown",function(Ct){Ct.preventDefault()}),Cr(this._element,this._anchor,"marker"),this._popup=null}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.addTo=function(H){return this.remove(),this._map=H,H.getCanvasContainer().appendChild(this._element),H.on("move",this._update),H.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},G.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},G.prototype.getLngLat=function(){return this._lngLat},G.prototype.setLngLat=function(H){return this._lngLat=a.LngLat.convert(H),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},G.prototype.getElement=function(){return this._element},G.prototype.setPopup=function(H){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),H){if(!("offset"in H.options)){var L=13.5,q=Math.sqrt(Math.pow(L,2)/2);H.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[q,-1*(24.6+q)],"bottom-right":[-q,-1*(24.6+q)],left:[L,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=H,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},G.prototype._onKeyPress=function(H){var L=H.code,q=H.charCode||H.keyCode;L!=="Space"&&L!=="Enter"&&q!==32&&q!==13||this.togglePopup()},G.prototype._onMapClick=function(H){var L=H.originalEvent.target,q=this._element;this._popup&&(L===q||q.contains(L))&&this.togglePopup()},G.prototype.getPopup=function(){return this._popup},G.prototype.togglePopup=function(){var H=this._popup;return H?(H.isOpen()?H.remove():H.addTo(this._map),this):this},G.prototype._update=function(H){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Qo(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var L="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?L="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(L="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var q="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?q="rotateX(0deg)":this._pitchAlignment==="map"&&(q="rotateX("+this._map.getPitch()+"deg)"),H&&H.type!=="moveend"||(this._pos=this._pos.round()),b.setTransform(this._element,kr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+q+" "+L)}},G.prototype.getOffset=function(){return this._offset},G.prototype.setOffset=function(H){return this._offset=a.Point.convert(H),this._update(),this},G.prototype._onMove=function(H){if(!this._isDragging){var L=this._clickTolerance||this._map._clickTolerance;this._isDragging=H.point.dist(this._pointerdownPos)>=L}this._isDragging&&(this._pos=H.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},G.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},G.prototype._addDragHandler=function(H){this._element.contains(H.originalEvent.target)&&(H.preventDefault(),this._positionDelta=H.point.sub(this._pos).add(this._offset),this._pointerdownPos=H.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},G.prototype.setDraggable=function(H){return this._draggable=!!H,this._map&&(H?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},G.prototype.isDraggable=function(){return this._draggable},G.prototype.setRotation=function(H){return this._rotation=H||0,this._update(),this},G.prototype.getRotation=function(){return this._rotation},G.prototype.setRotationAlignment=function(H){return this._rotationAlignment=H||"auto",this._update(),this},G.prototype.getRotationAlignment=function(){return this._rotationAlignment},G.prototype.setPitchAlignment=function(H){return this._pitchAlignment=H&&H!=="auto"?H:this._rotationAlignment,this._update(),this},G.prototype.getPitchAlignment=function(){return this._pitchAlignment},G}(a.Evented),po={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ei=0,no=!1,$r=function(B){function G(H){B.call(this),this.options=a.extend({},po,H),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.onAdd=function(H){return this._map=H,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),L=this._setupUI,_a!==void 0?L(_a):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(q){_a=q.state!=="denied",L(_a)}):(_a=!!a.window.navigator.geolocation,L(_a)),this._container;var L},G.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ei=0,no=!1},G.prototype._isOutOfMapMaxBounds=function(H){var L=this._map.getMaxBounds(),q=H.coords;return L&&(q.longitude<L.getWest()||q.longitude>L.getEast()||q.latitude<L.getSouth()||q.latitude>L.getNorth())},G.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},G.prototype._onSuccess=function(H){if(this._map){if(this._isOutOfMapMaxBounds(H))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",H)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=H,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(H),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(H),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",H)),this._finish()}},G.prototype._updateCamera=function(H){var L=new a.LngLat(H.coords.longitude,H.coords.latitude),q=H.coords.accuracy,$=this._map.getBearing(),ne=a.extend({bearing:$},this.options.fitBoundsOptions);this._map.fitBounds(L.toBounds(q),ne,{geolocateSource:!0})},G.prototype._updateMarker=function(H){if(H){var L=new a.LngLat(H.coords.longitude,H.coords.latitude);this._accuracyCircleMarker.setLngLat(L).addTo(this._map),this._userLocationDotMarker.setLngLat(L).addTo(this._map),this._accuracy=H.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},G.prototype._updateCircleRadius=function(){var H=this._map._container.clientHeight/2,L=this._map.unproject([0,H]),q=this._map.unproject([1,H]),$=L.distanceTo(q),ne=Math.ceil(2*this._accuracy/$);this._circleElement.style.width=ne+"px",this._circleElement.style.height=ne+"px"},G.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},G.prototype._onError=function(H){if(this._map){if(this.options.trackUserLocation)if(H.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var L=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(H.code===3&&no)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",H)),this._finish()}},G.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},G.prototype._setupUI=function(H){var L=this;if(this._container.addEventListener("contextmenu",function(ne){return ne.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",H===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var q=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=q,this._geolocateButton.setAttribute("aria-label",q)}else{var $=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=$,this._geolocateButton.setAttribute("aria-label",$)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new to(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new to({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ne){var ce=ne.originalEvent&&ne.originalEvent.type==="resize";ne.geolocateSource||L._watchState!=="ACTIVE_LOCK"||ce||(L._watchState="BACKGROUND",L._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),L._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),L.fire(new a.Event("trackuserlocationend")))})},G.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ei--,no=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var H;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ei>1?(H={maximumAge:6e5,timeout:0},no=!0):(H=this.options.positionOptions,no=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,H)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},G.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},G}(a.Evented),pl={maxWidth:100,unit:"metric"},wa=function(B){this.options=a.extend({},pl,B),a.bindAll(["_onMove","setUnit"],this)};function ti(B,G,H){var L=H&&H.maxWidth||100,q=B._container.clientHeight/2,$=B.unproject([0,q]),ne=B.unproject([L,q]),ce=$.distanceTo(ne);if(H&&H.unit==="imperial"){var ye=3.2808*ce;ye>5280?hi(G,L,ye/5280,B._getUIString("ScaleControl.Miles")):hi(G,L,ye,B._getUIString("ScaleControl.Feet"))}else H&&H.unit==="nautical"?hi(G,L,ce/1852,B._getUIString("ScaleControl.NauticalMiles")):ce>=1e3?hi(G,L,ce/1e3,B._getUIString("ScaleControl.Kilometers")):hi(G,L,ce,B._getUIString("ScaleControl.Meters"))}function hi(B,G,H,L){var q,$,ne,ce=(q=H,($=Math.pow(10,(""+Math.floor(q)).length-1))*((ne=q/$)>=10?10:ne>=5?5:ne>=3?3:ne>=2?2:ne>=1?1:function(Le){var Ie=Math.pow(10,Math.ceil(-Math.log(Le)/Math.LN10));return Math.round(Le*Ie)/Ie}(ne))),ye=ce/H;B.style.width=G*ye+"px",B.innerHTML=ce+"&nbsp;"+L}wa.prototype.getDefaultPosition=function(){return"bottom-left"},wa.prototype._onMove=function(){ti(this._map,this._container,this.options)},wa.prototype.onAdd=function(B){return this._map=B,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",B.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},wa.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},wa.prototype.setUnit=function(B){this.options.unit=B,ti(this._map,this._container,this.options)};var da=function(B){this._fullscreen=!1,B&&B.container&&(B.container instanceof a.window.HTMLElement?this._container=B.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};da.prototype.onAdd=function(B){return this._map=B,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},da.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},da.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},da.prototype._setupUI=function(){var B=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",B).setAttribute("aria-hidden",!0),B.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},da.prototype._updateTitle=function(){var B=this._getTitle();this._fullscreenButton.setAttribute("aria-label",B),this._fullscreenButton.title=B},da.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},da.prototype._isFullscreen=function(){return this._fullscreen},da.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},da.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var zo={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},tl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Ze=function(B){function G(H){B.call(this),this.options=a.extend(Object.create(zo),H),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.addTo=function(H){return this._map&&this.remove(),this._map=H,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},G.prototype.isOpen=function(){return!!this._map},G.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},G.prototype.getLngLat=function(){return this._lngLat},G.prototype.setLngLat=function(H){return this._lngLat=a.LngLat.convert(H),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},G.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},G.prototype.getElement=function(){return this._container},G.prototype.setText=function(H){return this.setDOMContent(a.window.document.createTextNode(H))},G.prototype.setHTML=function(H){var L,q=a.window.document.createDocumentFragment(),$=a.window.document.createElement("body");for($.innerHTML=H;L=$.firstChild;)q.appendChild(L);return this.setDOMContent(q)},G.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},G.prototype.setMaxWidth=function(H){return this.options.maxWidth=H,this._update(),this},G.prototype.setDOMContent=function(H){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=b.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(H),this._createCloseButton(),this._update(),this._focusFirstElement(),this},G.prototype.addClassName=function(H){this._container&&this._container.classList.add(H)},G.prototype.removeClassName=function(H){this._container&&this._container.classList.remove(H)},G.prototype.setOffset=function(H){return this.options.offset=H,this._update(),this},G.prototype.toggleClassName=function(H){if(this._container)return this._container.classList.toggle(H)},G.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},G.prototype._onMouseUp=function(H){this._update(H.point)},G.prototype._onMouseMove=function(H){this._update(H.point)},G.prototype._onDrag=function(H){this._update(H.point)},G.prototype._update=function(H){var L=this,q=this._lngLat||this._trackPointer;if(this._map&&q&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(qe){return L._container.classList.add(qe)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Qo(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||H)){var $=this._pos=this._trackPointer&&H?H:this._map.project(this._lngLat),ne=this.options.anchor,ce=Je(this.options.offset);if(!ne){var ye,Le=this._container.offsetWidth,Ie=this._container.offsetHeight;ye=$.y+ce.bottom.y<Ie?["top"]:$.y>this._map.transform.height-Ie?["bottom"]:[],$.x<Le/2?ye.push("left"):$.x>this._map.transform.width-Le/2&&ye.push("right"),ne=ye.length===0?"bottom":ye.join("-")}var je=$.add(ce[ne]).round();b.setTransform(this._container,kr[ne]+" translate("+je.x+"px,"+je.y+"px)"),Cr(this._container,ne,"popup")}},G.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var H=this._container.querySelector(tl);H&&H.focus()}},G.prototype._onClose=function(){this.remove()},G}(a.Evented);function Je(B){if(B){if(typeof B=="number"){var G=Math.round(Math.sqrt(.5*Math.pow(B,2)));return{center:new a.Point(0,0),top:new a.Point(0,B),"top-left":new a.Point(G,G),"top-right":new a.Point(-G,G),bottom:new a.Point(0,-B),"bottom-left":new a.Point(G,-G),"bottom-right":new a.Point(-G,-G),left:new a.Point(B,0),right:new a.Point(-B,0)}}if(B instanceof a.Point||Array.isArray(B)){var H=a.Point.convert(B);return{center:H,top:H,"top-left":H,"top-right":H,bottom:H,"bottom-left":H,"bottom-right":H,left:H,right:H}}return{center:a.Point.convert(B.center||[0,0]),top:a.Point.convert(B.top||[0,0]),"top-left":a.Point.convert(B["top-left"]||[0,0]),"top-right":a.Point.convert(B["top-right"]||[0,0]),bottom:a.Point.convert(B.bottom||[0,0]),"bottom-left":a.Point.convert(B["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(B["bottom-right"]||[0,0]),left:a.Point.convert(B.left||[0,0]),right:a.Point.convert(B.right||[0,0])}}return Je(new a.Point(0,0))}var ot={version:a.version,supported:T,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Va,NavigationControl:qa,GeolocateControl:$r,AttributionControl:oa,ScaleControl:wa,FullscreenControl:da,Popup:Ze,Marker:to,Style:Kn,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){dt().acquire(rt)},clearPrewarmedResources:function(){var B=ct;B&&(B.isPreloaded()&&B.numActive()===1?(B.release(rt),ct=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(B){a.config.ACCESS_TOKEN=B},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(B){a.config.API_URL=B},get workerCount(){return Ye.workerCount},set workerCount(B){Ye.workerCount=B},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(B){a.config.MAX_PARALLEL_IMAGE_REQUESTS=B},clearStorage:function(B){a.clearTileCache(B)},workerUrl:""};return ot}),M}()},3108:function(ee,D,e){ee.exports=e(26099)},26099:function(ee,D,e){var M=e(64928),k=e(32420),a=e(51160),T=e(76752),b=e(55616),g=e(31264),s=e(47520),t=e(18400),i=e(72512),r=e(76244);function n(o,l){for(var u=l[0],d=l[1],c=1/(l[2]-u),m=1/(l[3]-d),f=new Array(o.length),p=0,v=o.length/2;p<v;p++)f[2*p]=k((o[2*p]-u)*c,0,1),f[2*p+1]=k((o[2*p+1]-d)*m,0,1);return f}ee.exports=function(o,l){l||(l={}),o=s(o,"float64"),l=b(l,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=g(l.maxDepth,255),d=g(l.bounds,T(o,2));d[0]===d[2]&&d[2]++,d[1]===d[3]&&d[3]++;var c,m=n(o,d),f=o.length>>>1;l.dtype||(l.dtype="array"),typeof l.dtype=="string"?c=new(i(l.dtype))(f):l.dtype&&(c=l.dtype,Array.isArray(c)&&(c.length=f));for(var p=0;p<f;++p)c[p]=p;var v=[],y=[],x=[],_=[];(function R(U,z,N,W,F,V){if(!W.length)return null;var j=v[F]||(v[F]=[]),te=x[F]||(x[F]=[]),J=y[F]||(y[F]=[]),K=j.length;if(++F>u||V>1073741824){for(var Z=0;Z<W.length;Z++)j.push(W[Z]),te.push(V),J.push(null,null,null,null);return K}if(j.push(W[0]),te.push(V),W.length<=1)return J.push(null,null,null,null),K;for(var X=.5*N,Q=U+X,re=z+X,ae=[],ie=[],le=[],pe=[],de=1,ve=W.length;de<ve;de++){var be=W[de],me=m[2*be],ge=m[2*be+1];me<Q?ge<re?ae.push(be):ie.push(be):ge<re?le.push(be):pe.push(be)}return V<<=2,J.push(R(U,z,X,ae,F,V),R(U,re,X,ie,F,V+1),R(Q,z,X,le,F,V+2),R(Q,re,X,pe,F,V+3)),K})(0,0,1,c,0,1);for(var h=0,S=0;S<v.length;S++){var w=v[S];if(c.set)c.set(w,h);else for(var E=0,C=w.length;E<C;E++)c[E+h]=w[E];var P=h+v[S].length;_[S]=[h,P],h=P}return c.range=function(){for(var R,U=[],z=arguments.length;z--;)U[z]=arguments[z];if(t(U[U.length-1])){var N=U.pop();U.length||N.x==null&&N.l==null&&N.left==null||(U=[N],R={}),R=b(N,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else R={};U.length||(U=d);var W,F=a.apply(void 0,U),V=[Math.min(F.x,F.x+F.width),Math.min(F.y,F.y+F.height),Math.max(F.x,F.x+F.width),Math.max(F.y,F.y+F.height)],j=V[0],te=V[1],J=V[2],K=V[3],Z=n([j,te,J,K],d),X=Z[0],Q=Z[1],re=Z[2],ae=Z[3],ie=g(R.level,v.length);if(R.d!=null&&(typeof R.d=="number"?W=[R.d,R.d]:R.d.length&&(W=R.d),ie=Math.min(Math.max(Math.ceil(-r(Math.abs(W[0])/(d[2]-d[0]))),Math.ceil(-r(Math.abs(W[1])/(d[3]-d[1])))),ie)),ie=Math.min(ie,v.length),R.lod)return function(pe,de,ve,be,me){for(var ge=[],ke=0;ke<me;ke++){var we=x[ke],ue=_[ke][0],oe=O(pe,de,ke),he=O(ve,be,ke),Ee=M.ge(we,oe),Te=M.gt(we,he,Ee,we.length-1);ge[ke]=[Ee+ue,Te+ue]}return ge}(X,Q,re,ae,ie);var le=[];return function pe(de,ve,be,me,ge,ke){if(ge!==null&&ke!==null&&!(X>de+be||Q>ve+be||re<de||ae<ve||me>=ie||ge===ke)){var we=v[me];ke===void 0&&(ke=we.length);for(var ue=ge;ue<ke;ue++){var oe=we[ue],he=o[2*oe],Ee=o[2*oe+1];he>=j&&he<=J&&Ee>=te&&Ee<=K&&le.push(oe)}var Te=y[me],Me=Te[4*ge+0],Se=Te[4*ge+1],ze=Te[4*ge+2],fe=Te[4*ge+3],xe=function(De,Pe){for(var Ue=null,Ve=0;Ue===null;)if(Ue=De[4*Pe+Ve],++Ve>De.length)return null;return Ue}(Te,ge+1),_e=.5*be,Oe=me+1;pe(de,ve,_e,Oe,Me,Se||ze||fe||xe),pe(de,ve+_e,_e,Oe,Se,ze||fe||xe),pe(de+_e,ve,_e,Oe,ze,fe||xe),pe(de+_e,ve+_e,_e,Oe,fe,xe)}}(0,0,1,0,0,1),le},c;function O(R,U,z){for(var N=1,W=.5,F=.5,V=.5,j=0;j<z;j++)N<<=2,N+=R<W?U<F?0:1:U<F?2:3,V*=.5,W+=R<W?-V:V,F+=U<F?-V:V;return N}}},40440:function(ee,D,e){Object.defineProperty(D,"__esModule",{value:!0});var M=e(3256),k=6378137;function a(g){var s=0;if(g&&g.length>0){s+=Math.abs(T(g[0]));for(var t=1;t<g.length;t++)s-=Math.abs(T(g[t]))}return s}function T(g){var s,t,i,r,n,o,l=0,u=g.length;if(u>2){for(o=0;o<u;o++)o===u-2?(i=u-2,r=u-1,n=0):o===u-1?(i=u-1,r=0,n=1):(i=o,r=o+1,n=o+2),s=g[i],t=g[r],l+=(b(g[n][0])-b(s[0]))*Math.sin(b(t[1]));l=l*k*k/2}return l}function b(g){return g*Math.PI/180}D.default=function(g){return M.geomReduce(g,function(s,t){return s+function(i){var r,n=0;switch(i.type){case"Polygon":return a(i.coordinates);case"MultiPolygon":for(r=0;r<i.coordinates.length;r++)n+=a(i.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},46284:function(ee,D){function e(o,l,u){u===void 0&&(u={});var d={type:"Feature"};return(u.id===0||u.id)&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.properties=l||{},d.geometry=o,d}function M(o,l,u){if(u===void 0&&(u={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(o[0])||!n(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},l,u)}function k(o,l,u){u===void 0&&(u={});for(var d=0,c=o;d<c.length;d++){var m=c[d];if(m.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<m[m.length-1].length;f++)if(m[m.length-1][f]!==m[0][f])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},l,u)}function a(o,l,u){if(u===void 0&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},l,u)}function T(o,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=o,u}function b(o,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:o},l,u)}function g(o,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:o},l,u)}function s(o,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:o},l,u)}function t(o,l){l===void 0&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o*u}function i(o,l){l===void 0&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o/u}function r(o){return o%(2*Math.PI)*180/Math.PI}function n(o){return!isNaN(o)&&o!==null&&!Array.isArray(o)}Object.defineProperty(D,"__esModule",{value:!0}),D.earthRadius=63710088e-1,D.factors={centimeters:100*D.earthRadius,centimetres:100*D.earthRadius,degrees:D.earthRadius/111325,feet:3.28084*D.earthRadius,inches:39.37*D.earthRadius,kilometers:D.earthRadius/1e3,kilometres:D.earthRadius/1e3,meters:D.earthRadius,metres:D.earthRadius,miles:D.earthRadius/1609.344,millimeters:1e3*D.earthRadius,millimetres:1e3*D.earthRadius,nauticalmiles:D.earthRadius/1852,radians:1,yards:1.0936*D.earthRadius},D.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/D.earthRadius,yards:1.0936133},D.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},D.feature=e,D.geometry=function(o,l,u){switch(o){case"Point":return M(l).geometry;case"LineString":return a(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return g(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(o+" is invalid")}},D.point=M,D.points=function(o,l,u){return u===void 0&&(u={}),T(o.map(function(d){return M(d,l)}),u)},D.polygon=k,D.polygons=function(o,l,u){return u===void 0&&(u={}),T(o.map(function(d){return k(d,l)}),u)},D.lineString=a,D.lineStrings=function(o,l,u){return u===void 0&&(u={}),T(o.map(function(d){return a(d,l)}),u)},D.featureCollection=T,D.multiLineString=b,D.multiPoint=g,D.multiPolygon=s,D.geometryCollection=function(o,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:o},l,u)},D.round=function(o,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(o*u)/u},D.radiansToLength=t,D.lengthToRadians=i,D.lengthToDegrees=function(o,l){return r(i(o,l))},D.bearingToAzimuth=function(o){var l=o%360;return l<0&&(l+=360),l},D.radiansToDegrees=r,D.degreesToRadians=function(o){return o%360*Math.PI/180},D.convertLength=function(o,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,l),u)},D.convertArea=function(o,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var d=D.areaFactors[l];if(!d)throw new Error("invalid original units");var c=D.areaFactors[u];if(!c)throw new Error("invalid final units");return o/d*c},D.isNumber=n,D.isObject=function(o){return!!o&&o.constructor===Object},D.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(o.length!==4&&o.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(l){if(!n(l))throw new Error("bbox must only contain numbers")})},D.validateId=function(o){if(!o)throw new Error("id is required");if(["string","number"].indexOf(typeof o)===-1)throw new Error("id must be a number or a string")}},3256:function(ee,D,e){Object.defineProperty(D,"__esModule",{value:!0});var M=e(46284);function k(i,r,n){if(i!==null)for(var o,l,u,d,c,m,f,p,v=0,y=0,x=i.type,_=x==="FeatureCollection",h=x==="Feature",S=_?i.features.length:1,w=0;w<S;w++){c=(p=!!(f=_?i.features[w].geometry:h?i.geometry:i)&&f.type==="GeometryCollection")?f.geometries.length:1;for(var E=0;E<c;E++){var C=0,P=0;if((d=p?f.geometries[E]:f)!==null){m=d.coordinates;var O=d.type;switch(v=!n||O!=="Polygon"&&O!=="MultiPolygon"?0:1,O){case null:break;case"Point":if(r(m,y,w,C,P)===!1)return!1;y++,C++;break;case"LineString":case"MultiPoint":for(o=0;o<m.length;o++){if(r(m[o],y,w,C,P)===!1)return!1;y++,O==="MultiPoint"&&C++}O==="LineString"&&C++;break;case"Polygon":case"MultiLineString":for(o=0;o<m.length;o++){for(l=0;l<m[o].length-v;l++){if(r(m[o][l],y,w,C,P)===!1)return!1;y++}O==="MultiLineString"&&C++,O==="Polygon"&&P++}O==="Polygon"&&C++;break;case"MultiPolygon":for(o=0;o<m.length;o++){for(P=0,l=0;l<m[o].length;l++){for(u=0;u<m[o][l].length-v;u++){if(r(m[o][l][u],y,w,C,P)===!1)return!1;y++}P++}C++}break;case"GeometryCollection":for(o=0;o<d.geometries.length;o++)if(k(d.geometries[o],r,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&r(i.features[n].properties,n)!==!1;n++);break;case"Feature":r(i.properties,0)}}function T(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var n=0;n<i.features.length&&r(i.features[n],n)!==!1;n++);}function b(i,r){var n,o,l,u,d,c,m,f,p,v,y=0,x=i.type==="FeatureCollection",_=i.type==="Feature",h=x?i.features.length:1;for(n=0;n<h;n++){for(c=x?i.features[n].geometry:_?i.geometry:i,f=x?i.features[n].properties:_?i.properties:{},p=x?i.features[n].bbox:_?i.bbox:void 0,v=x?i.features[n].id:_?i.id:void 0,d=(m=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<d;l++)if((u=m?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,y,f,p,v)===!1)return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(r(u.geometries[o],y,f,p,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,y,f,p,v)===!1)return!1;y++}}function g(i,r){b(i,function(n,o,l,u,d){var c,m=n===null?null:n.type;switch(m){case null:case"Point":case"LineString":case"Polygon":return r(M.feature(n,l,{bbox:u,id:d}),o,0)!==!1&&void 0}switch(m){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var f=0;f<n.coordinates.length;f++){var p={type:c,coordinates:n.coordinates[f]};if(r(M.feature(p,l),o,f)===!1)return!1}})}function s(i,r){g(i,function(n,o,l){var u=0;if(n.geometry){var d=n.geometry.type;if(d!=="Point"&&d!=="MultiPoint"){var c,m=0,f=0,p=0;return k(n,function(v,y,x,_,h){if(c===void 0||o>m||_>f||h>p)return c=v,m=o,f=_,p=h,void(u=0);var S=M.lineString([c,v],n.properties);if(r(S,o,l,h,u)===!1)return!1;u++,c=v})!==!1&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");g(i,function(n,o,l){if(n.geometry!==null){var u=n.geometry.type,d=n.geometry.coordinates;switch(u){case"LineString":if(r(n,o,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<d.length;c++)if(r(M.lineString(d[c],n.properties),o,l,c)===!1)return!1}}})}D.coordEach=k,D.coordReduce=function(i,r,n,o){var l=n;return k(i,function(u,d,c,m,f){l=d===0&&n===void 0?u:r(l,u,d,c,m,f)},o),l},D.propEach=a,D.propReduce=function(i,r,n){var o=n;return a(i,function(l,u){o=u===0&&n===void 0?l:r(o,l,u)}),o},D.featureEach=T,D.featureReduce=function(i,r,n){var o=n;return T(i,function(l,u){o=u===0&&n===void 0?l:r(o,l,u)}),o},D.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},D.geomEach=b,D.geomReduce=function(i,r,n){var o=n;return b(i,function(l,u,d,c,m){o=u===0&&n===void 0?l:r(o,l,u,d,c,m)}),o},D.flattenEach=g,D.flattenReduce=function(i,r,n){var o=n;return g(i,function(l,u,d){o=u===0&&d===0&&n===void 0?l:r(o,l,u,d)}),o},D.segmentEach=s,D.segmentReduce=function(i,r,n){var o=n,l=!1;return s(i,function(u,d,c,m,f){o=l===!1&&n===void 0?u:r(o,u,d,c,m,f),l=!0}),o},D.lineEach=t,D.lineReduce=function(i,r,n){var o=n;return t(i,function(l,u,d,c){o=u===0&&n===void 0?l:r(o,l,u,d,c)}),o},D.findSegment=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,o=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,d=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var m=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=m.length+d-1),M.lineString([m[d],m[d+1]],c,r);case"Polygon":return u<0&&(u=m.length+u),d<0&&(d=m[u].length+d-1),M.lineString([m[u][d],m[u][d+1]],c,r);case"MultiLineString":return l<0&&(l=m.length+l),d<0&&(d=m[l].length+d-1),M.lineString([m[l][d],m[l][d+1]],c,r);case"MultiPolygon":return l<0&&(l=m.length+l),u<0&&(u=m[l].length+u),d<0&&(d=m[l][u].length-d-1),M.lineString([m[l][u][d],m[l][u][d+1]],c,r)}throw new Error("geojson is invalid")},D.findPoint=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,o=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,d=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var m=n.coordinates;switch(n.type){case"Point":return M.point(m,c,r);case"MultiPoint":return l<0&&(l=m.length+l),M.point(m[l],c,r);case"LineString":return d<0&&(d=m.length+d),M.point(m[d],c,r);case"Polygon":return u<0&&(u=m.length+u),d<0&&(d=m[u].length+d),M.point(m[u][d],c,r);case"MultiLineString":return l<0&&(l=m.length+l),d<0&&(d=m[l].length+d),M.point(m[l][d],c,r);case"MultiPolygon":return l<0&&(l=m.length+l),u<0&&(u=m[l].length+u),d<0&&(d=m[l][u].length-d),M.point(m[l][u][d],c,r)}throw new Error("geojson is invalid")}},42428:function(ee,D,e){Object.defineProperty(D,"__esModule",{value:!0});var M=e(84880);function k(a){var T=[1/0,1/0,-1/0,-1/0];return M.coordEach(a,function(b){T[0]>b[0]&&(T[0]=b[0]),T[1]>b[1]&&(T[1]=b[1]),T[2]<b[0]&&(T[2]=b[0]),T[3]<b[1]&&(T[3]=b[1])}),T}k.default=k,D.default=k},76796:function(ee,D){function e(o,l,u){u===void 0&&(u={});var d={type:"Feature"};return(u.id===0||u.id)&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.properties=l||{},d.geometry=o,d}function M(o,l,u){if(u===void 0&&(u={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(o[0])||!n(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},l,u)}function k(o,l,u){u===void 0&&(u={});for(var d=0,c=o;d<c.length;d++){var m=c[d];if(m.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<m[m.length-1].length;f++)if(m[m.length-1][f]!==m[0][f])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},l,u)}function a(o,l,u){if(u===void 0&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},l,u)}function T(o,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=o,u}function b(o,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:o},l,u)}function g(o,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:o},l,u)}function s(o,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:o},l,u)}function t(o,l){l===void 0&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o*u}function i(o,l){l===void 0&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o/u}function r(o){return o%(2*Math.PI)*180/Math.PI}function n(o){return!isNaN(o)&&o!==null&&!Array.isArray(o)}Object.defineProperty(D,"__esModule",{value:!0}),D.earthRadius=63710088e-1,D.factors={centimeters:100*D.earthRadius,centimetres:100*D.earthRadius,degrees:D.earthRadius/111325,feet:3.28084*D.earthRadius,inches:39.37*D.earthRadius,kilometers:D.earthRadius/1e3,kilometres:D.earthRadius/1e3,meters:D.earthRadius,metres:D.earthRadius,miles:D.earthRadius/1609.344,millimeters:1e3*D.earthRadius,millimetres:1e3*D.earthRadius,nauticalmiles:D.earthRadius/1852,radians:1,yards:1.0936*D.earthRadius},D.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/D.earthRadius,yards:1.0936133},D.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},D.feature=e,D.geometry=function(o,l,u){switch(o){case"Point":return M(l).geometry;case"LineString":return a(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return g(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(o+" is invalid")}},D.point=M,D.points=function(o,l,u){return u===void 0&&(u={}),T(o.map(function(d){return M(d,l)}),u)},D.polygon=k,D.polygons=function(o,l,u){return u===void 0&&(u={}),T(o.map(function(d){return k(d,l)}),u)},D.lineString=a,D.lineStrings=function(o,l,u){return u===void 0&&(u={}),T(o.map(function(d){return a(d,l)}),u)},D.featureCollection=T,D.multiLineString=b,D.multiPoint=g,D.multiPolygon=s,D.geometryCollection=function(o,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:o},l,u)},D.round=function(o,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(o*u)/u},D.radiansToLength=t,D.lengthToRadians=i,D.lengthToDegrees=function(o,l){return r(i(o,l))},D.bearingToAzimuth=function(o){var l=o%360;return l<0&&(l+=360),l},D.radiansToDegrees=r,D.degreesToRadians=function(o){return o%360*Math.PI/180},D.convertLength=function(o,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,l),u)},D.convertArea=function(o,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var d=D.areaFactors[l];if(!d)throw new Error("invalid original units");var c=D.areaFactors[u];if(!c)throw new Error("invalid final units");return o/d*c},D.isNumber=n,D.isObject=function(o){return!!o&&o.constructor===Object},D.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(o.length!==4&&o.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(l){if(!n(l))throw new Error("bbox must only contain numbers")})},D.validateId=function(o){if(!o)throw new Error("id is required");if(["string","number"].indexOf(typeof o)===-1)throw new Error("id must be a number or a string")}},84880:function(ee,D,e){Object.defineProperty(D,"__esModule",{value:!0});var M=e(76796);function k(i,r,n){if(i!==null)for(var o,l,u,d,c,m,f,p,v=0,y=0,x=i.type,_=x==="FeatureCollection",h=x==="Feature",S=_?i.features.length:1,w=0;w<S;w++){c=(p=!!(f=_?i.features[w].geometry:h?i.geometry:i)&&f.type==="GeometryCollection")?f.geometries.length:1;for(var E=0;E<c;E++){var C=0,P=0;if((d=p?f.geometries[E]:f)!==null){m=d.coordinates;var O=d.type;switch(v=!n||O!=="Polygon"&&O!=="MultiPolygon"?0:1,O){case null:break;case"Point":if(r(m,y,w,C,P)===!1)return!1;y++,C++;break;case"LineString":case"MultiPoint":for(o=0;o<m.length;o++){if(r(m[o],y,w,C,P)===!1)return!1;y++,O==="MultiPoint"&&C++}O==="LineString"&&C++;break;case"Polygon":case"MultiLineString":for(o=0;o<m.length;o++){for(l=0;l<m[o].length-v;l++){if(r(m[o][l],y,w,C,P)===!1)return!1;y++}O==="MultiLineString"&&C++,O==="Polygon"&&P++}O==="Polygon"&&C++;break;case"MultiPolygon":for(o=0;o<m.length;o++){for(P=0,l=0;l<m[o].length;l++){for(u=0;u<m[o][l].length-v;u++){if(r(m[o][l][u],y,w,C,P)===!1)return!1;y++}P++}C++}break;case"GeometryCollection":for(o=0;o<d.geometries.length;o++)if(k(d.geometries[o],r,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&r(i.features[n].properties,n)!==!1;n++);break;case"Feature":r(i.properties,0)}}function T(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var n=0;n<i.features.length&&r(i.features[n],n)!==!1;n++);}function b(i,r){var n,o,l,u,d,c,m,f,p,v,y=0,x=i.type==="FeatureCollection",_=i.type==="Feature",h=x?i.features.length:1;for(n=0;n<h;n++){for(c=x?i.features[n].geometry:_?i.geometry:i,f=x?i.features[n].properties:_?i.properties:{},p=x?i.features[n].bbox:_?i.bbox:void 0,v=x?i.features[n].id:_?i.id:void 0,d=(m=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<d;l++)if((u=m?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,y,f,p,v)===!1)return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(r(u.geometries[o],y,f,p,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,y,f,p,v)===!1)return!1;y++}}function g(i,r){b(i,function(n,o,l,u,d){var c,m=n===null?null:n.type;switch(m){case null:case"Point":case"LineString":case"Polygon":return r(M.feature(n,l,{bbox:u,id:d}),o,0)!==!1&&void 0}switch(m){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var f=0;f<n.coordinates.length;f++){var p={type:c,coordinates:n.coordinates[f]};if(r(M.feature(p,l),o,f)===!1)return!1}})}function s(i,r){g(i,function(n,o,l){var u=0;if(n.geometry){var d=n.geometry.type;if(d!=="Point"&&d!=="MultiPoint"){var c,m=0,f=0,p=0;return k(n,function(v,y,x,_,h){if(c===void 0||o>m||_>f||h>p)return c=v,m=o,f=_,p=h,void(u=0);var S=M.lineString([c,v],n.properties);if(r(S,o,l,h,u)===!1)return!1;u++,c=v})!==!1&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");g(i,function(n,o,l){if(n.geometry!==null){var u=n.geometry.type,d=n.geometry.coordinates;switch(u){case"LineString":if(r(n,o,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<d.length;c++)if(r(M.lineString(d[c],n.properties),o,l,c)===!1)return!1}}})}D.coordEach=k,D.coordReduce=function(i,r,n,o){var l=n;return k(i,function(u,d,c,m,f){l=d===0&&n===void 0?u:r(l,u,d,c,m,f)},o),l},D.propEach=a,D.propReduce=function(i,r,n){var o=n;return a(i,function(l,u){o=u===0&&n===void 0?l:r(o,l,u)}),o},D.featureEach=T,D.featureReduce=function(i,r,n){var o=n;return T(i,function(l,u){o=u===0&&n===void 0?l:r(o,l,u)}),o},D.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},D.geomEach=b,D.geomReduce=function(i,r,n){var o=n;return b(i,function(l,u,d,c,m){o=u===0&&n===void 0?l:r(o,l,u,d,c,m)}),o},D.flattenEach=g,D.flattenReduce=function(i,r,n){var o=n;return g(i,function(l,u,d){o=u===0&&d===0&&n===void 0?l:r(o,l,u,d)}),o},D.segmentEach=s,D.segmentReduce=function(i,r,n){var o=n,l=!1;return s(i,function(u,d,c,m,f){o=l===!1&&n===void 0?u:r(o,u,d,c,m,f),l=!0}),o},D.lineEach=t,D.lineReduce=function(i,r,n){var o=n;return t(i,function(l,u,d,c){o=u===0&&n===void 0?l:r(o,l,u,d,c)}),o},D.findSegment=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,o=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,d=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var m=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=m.length+d-1),M.lineString([m[d],m[d+1]],c,r);case"Polygon":return u<0&&(u=m.length+u),d<0&&(d=m[u].length+d-1),M.lineString([m[u][d],m[u][d+1]],c,r);case"MultiLineString":return l<0&&(l=m.length+l),d<0&&(d=m[l].length+d-1),M.lineString([m[l][d],m[l][d+1]],c,r);case"MultiPolygon":return l<0&&(l=m.length+l),u<0&&(u=m[l].length+u),d<0&&(d=m[l][u].length-d-1),M.lineString([m[l][u][d],m[l][u][d+1]],c,r)}throw new Error("geojson is invalid")},D.findPoint=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,o=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,d=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var m=n.coordinates;switch(n.type){case"Point":return M.point(m,c,r);case"MultiPoint":return l<0&&(l=m.length+l),M.point(m[l],c,r);case"LineString":return d<0&&(d=m.length+d),M.point(m[d],c,r);case"Polygon":return u<0&&(u=m.length+u),d<0&&(d=m[u].length+d),M.point(m[u][d],c,r);case"MultiLineString":return l<0&&(l=m.length+l),d<0&&(d=m[l].length+d),M.point(m[l][d],c,r);case"MultiPolygon":return l<0&&(l=m.length+l),u<0&&(u=m[l].length+u),d<0&&(d=m[l][u].length-d),M.point(m[l][u][d],c,r)}throw new Error("geojson is invalid")}},77844:function(ee,D,e){Object.defineProperty(D,"__esModule",{value:!0});var M=e(43752),k=e(49840);D.default=function(a,T){T===void 0&&(T={});var b=0,g=0,s=0;return M.coordEach(a,function(t){b+=t[0],g+=t[1],s++}),k.point([b/s,g/s],T.properties)}},49840:function(ee,D){function e(o,l,u){u===void 0&&(u={});var d={type:"Feature"};return(u.id===0||u.id)&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.properties=l||{},d.geometry=o,d}function M(o,l,u){return u===void 0&&(u={}),e({type:"Point",coordinates:o},l,u)}function k(o,l,u){u===void 0&&(u={});for(var d=0,c=o;d<c.length;d++){var m=c[d];if(m.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<m[m.length-1].length;f++)if(m[m.length-1][f]!==m[0][f])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},l,u)}function a(o,l,u){if(u===void 0&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},l,u)}function T(o,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=o,u}function b(o,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:o},l,u)}function g(o,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:o},l,u)}function s(o,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:o},l,u)}function t(o,l){l===void 0&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o*u}function i(o,l){l===void 0&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o/u}function r(o){return o%(2*Math.PI)*180/Math.PI}function n(o){return!isNaN(o)&&o!==null&&!Array.isArray(o)&&!/^\s*$/.test(o)}Object.defineProperty(D,"__esModule",{value:!0}),D.earthRadius=63710088e-1,D.factors={centimeters:100*D.earthRadius,centimetres:100*D.earthRadius,degrees:D.earthRadius/111325,feet:3.28084*D.earthRadius,inches:39.37*D.earthRadius,kilometers:D.earthRadius/1e3,kilometres:D.earthRadius/1e3,meters:D.earthRadius,metres:D.earthRadius,miles:D.earthRadius/1609.344,millimeters:1e3*D.earthRadius,millimetres:1e3*D.earthRadius,nauticalmiles:D.earthRadius/1852,radians:1,yards:D.earthRadius/1.0936},D.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/D.earthRadius,yards:.91441111923921},D.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},D.feature=e,D.geometry=function(o,l,u){switch(o){case"Point":return M(l).geometry;case"LineString":return a(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return g(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(o+" is invalid")}},D.point=M,D.points=function(o,l,u){return u===void 0&&(u={}),T(o.map(function(d){return M(d,l)}),u)},D.polygon=k,D.polygons=function(o,l,u){return u===void 0&&(u={}),T(o.map(function(d){return k(d,l)}),u)},D.lineString=a,D.lineStrings=function(o,l,u){return u===void 0&&(u={}),T(o.map(function(d){return a(d,l)}),u)},D.featureCollection=T,D.multiLineString=b,D.multiPoint=g,D.multiPolygon=s,D.geometryCollection=function(o,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:o},l,u)},D.round=function(o,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(o*u)/u},D.radiansToLength=t,D.lengthToRadians=i,D.lengthToDegrees=function(o,l){return r(i(o,l))},D.bearingToAzimuth=function(o){var l=o%360;return l<0&&(l+=360),l},D.radiansToDegrees=r,D.degreesToRadians=function(o){return o%360*Math.PI/180},D.convertLength=function(o,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,l),u)},D.convertArea=function(o,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var d=D.areaFactors[l];if(!d)throw new Error("invalid original units");var c=D.areaFactors[u];if(!c)throw new Error("invalid final units");return o/d*c},D.isNumber=n,D.isObject=function(o){return!!o&&o.constructor===Object},D.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(o.length!==4&&o.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(l){if(!n(l))throw new Error("bbox must only contain numbers")})},D.validateId=function(o){if(!o)throw new Error("id is required");if(["string","number"].indexOf(typeof o)===-1)throw new Error("id must be a number or a string")},D.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},D.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},D.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},D.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},D.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},D.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},D.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},43752:function(ee,D,e){Object.defineProperty(D,"__esModule",{value:!0});var M=e(49840);function k(i,r,n){if(i!==null)for(var o,l,u,d,c,m,f,p,v=0,y=0,x=i.type,_=x==="FeatureCollection",h=x==="Feature",S=_?i.features.length:1,w=0;w<S;w++){c=(p=!!(f=_?i.features[w].geometry:h?i.geometry:i)&&f.type==="GeometryCollection")?f.geometries.length:1;for(var E=0;E<c;E++){var C=0,P=0;if((d=p?f.geometries[E]:f)!==null){m=d.coordinates;var O=d.type;switch(v=!n||O!=="Polygon"&&O!=="MultiPolygon"?0:1,O){case null:break;case"Point":if(r(m,y,w,C,P)===!1)return!1;y++,C++;break;case"LineString":case"MultiPoint":for(o=0;o<m.length;o++){if(r(m[o],y,w,C,P)===!1)return!1;y++,O==="MultiPoint"&&C++}O==="LineString"&&C++;break;case"Polygon":case"MultiLineString":for(o=0;o<m.length;o++){for(l=0;l<m[o].length-v;l++){if(r(m[o][l],y,w,C,P)===!1)return!1;y++}O==="MultiLineString"&&C++,O==="Polygon"&&P++}O==="Polygon"&&C++;break;case"MultiPolygon":for(o=0;o<m.length;o++){for(P=0,l=0;l<m[o].length;l++){for(u=0;u<m[o][l].length-v;u++){if(r(m[o][l][u],y,w,C,P)===!1)return!1;y++}P++}C++}break;case"GeometryCollection":for(o=0;o<d.geometries.length;o++)if(k(d.geometries[o],r,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&r(i.features[n].properties,n)!==!1;n++);break;case"Feature":r(i.properties,0)}}function T(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var n=0;n<i.features.length&&r(i.features[n],n)!==!1;n++);}function b(i,r){var n,o,l,u,d,c,m,f,p,v,y=0,x=i.type==="FeatureCollection",_=i.type==="Feature",h=x?i.features.length:1;for(n=0;n<h;n++){for(c=x?i.features[n].geometry:_?i.geometry:i,f=x?i.features[n].properties:_?i.properties:{},p=x?i.features[n].bbox:_?i.bbox:void 0,v=x?i.features[n].id:_?i.id:void 0,d=(m=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<d;l++)if((u=m?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,y,f,p,v)===!1)return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(r(u.geometries[o],y,f,p,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,y,f,p,v)===!1)return!1;y++}}function g(i,r){b(i,function(n,o,l,u,d){var c,m=n===null?null:n.type;switch(m){case null:case"Point":case"LineString":case"Polygon":return r(M.feature(n,l,{bbox:u,id:d}),o,0)!==!1&&void 0}switch(m){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var f=0;f<n.coordinates.length;f++){var p={type:c,coordinates:n.coordinates[f]};if(r(M.feature(p,l),o,f)===!1)return!1}})}function s(i,r){g(i,function(n,o,l){var u=0;if(n.geometry){var d=n.geometry.type;if(d!=="Point"&&d!=="MultiPoint"){var c,m=0,f=0,p=0;return k(n,function(v,y,x,_,h){if(c===void 0||o>m||_>f||h>p)return c=v,m=o,f=_,p=h,void(u=0);var S=M.lineString([c,v],n.properties);if(r(S,o,l,h,u)===!1)return!1;u++,c=v})!==!1&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");g(i,function(n,o,l){if(n.geometry!==null){var u=n.geometry.type,d=n.geometry.coordinates;switch(u){case"LineString":if(r(n,o,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<d.length;c++)if(r(M.lineString(d[c],n.properties),o,l,c)===!1)return!1}}})}D.coordEach=k,D.coordReduce=function(i,r,n,o){var l=n;return k(i,function(u,d,c,m,f){l=d===0&&n===void 0?u:r(l,u,d,c,m,f)},o),l},D.propEach=a,D.propReduce=function(i,r,n){var o=n;return a(i,function(l,u){o=u===0&&n===void 0?l:r(o,l,u)}),o},D.featureEach=T,D.featureReduce=function(i,r,n){var o=n;return T(i,function(l,u){o=u===0&&n===void 0?l:r(o,l,u)}),o},D.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},D.geomEach=b,D.geomReduce=function(i,r,n){var o=n;return b(i,function(l,u,d,c,m){o=u===0&&n===void 0?l:r(o,l,u,d,c,m)}),o},D.flattenEach=g,D.flattenReduce=function(i,r,n){var o=n;return g(i,function(l,u,d){o=u===0&&d===0&&n===void 0?l:r(o,l,u,d)}),o},D.segmentEach=s,D.segmentReduce=function(i,r,n){var o=n,l=!1;return s(i,function(u,d,c,m,f){o=l===!1&&n===void 0?u:r(o,u,d,c,m,f),l=!0}),o},D.lineEach=t,D.lineReduce=function(i,r,n){var o=n;return t(i,function(l,u,d,c){o=u===0&&n===void 0?l:r(o,l,u,d,c)}),o},D.findSegment=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,o=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,d=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var m=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=m.length+d-1),M.lineString([m[d],m[d+1]],c,r);case"Polygon":return u<0&&(u=m.length+u),d<0&&(d=m[u].length+d-1),M.lineString([m[u][d],m[u][d+1]],c,r);case"MultiLineString":return l<0&&(l=m.length+l),d<0&&(d=m[l].length+d-1),M.lineString([m[l][d],m[l][d+1]],c,r);case"MultiPolygon":return l<0&&(l=m.length+l),u<0&&(u=m[l].length+u),d<0&&(d=m[l][u].length-d-1),M.lineString([m[l][u][d],m[l][u][d+1]],c,r)}throw new Error("geojson is invalid")},D.findPoint=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,o=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,d=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var m=n.coordinates;switch(n.type){case"Point":return M.point(m,c,r);case"MultiPoint":return l<0&&(l=m.length+l),M.point(m[l],c,r);case"LineString":return d<0&&(d=m.length+d),M.point(m[d],c,r);case"Polygon":return u<0&&(u=m.length+u),d<0&&(d=m[u].length+d),M.point(m[u][d],c,r);case"MultiLineString":return l<0&&(l=m.length+l),d<0&&(d=m[l].length+d),M.point(m[l][d],c,r);case"MultiPolygon":return l<0&&(l=m.length+l),u<0&&(u=m[l].length+u),d<0&&(d=m[l][u].length-d),M.point(m[l][u][d],c,r)}throw new Error("geojson is invalid")}},49972:function(ee){ee.exports=function(D){var e=0,M=0,k=0,a=0;return D.map(function(T){var b=(T=T.slice())[0],g=b.toUpperCase();if(b!=g)switch(T[0]=g,b){case"a":T[6]+=k,T[7]+=a;break;case"v":T[1]+=a;break;case"h":T[1]+=k;break;default:for(var s=1;s<T.length;)T[s++]+=k,T[s++]+=a}switch(g){case"Z":k=e,a=M;break;case"H":k=T[1];break;case"V":a=T[1];break;case"M":k=e=T[1],a=M=T[2];break;default:k=T[T.length-2],a=T[T.length-1]}return T})}},76752:function(ee){ee.exports=function(D,e){if(!D||D.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var M=Array(2*e),k=0;k<e;k++){for(var a=-1/0,T=1/0,b=k,g=D.length;b<g;b+=e)D[b]>a&&(a=D[b]),D[b]<T&&(T=D[b]);M[k]=T,M[e+k]=a}return M}},10272:function(ee){ee.exports=function(D,e,M){if(typeof Array.prototype.findIndex=="function")return D.findIndex(e,M);if(typeof e!="function")throw new TypeError("predicate must be a function");var k=Object(D),a=k.length;if(a===0)return-1;for(var T=0;T<a;T++)if(e.call(M,k[T],T,k))return T;return-1}},71152:function(ee,D,e){var M=e(76752);ee.exports=function(k,a,T){if(!k||k.length==null)throw Error("Argument should be an array");a==null&&(a=1),T==null&&(T=M(k,a));for(var b=0;b<a;b++){var g=T[a+b],s=T[b],t=b,i=k.length;if(g===1/0&&s===-1/0)for(t=b;t<i;t+=a)k[t]=k[t]===g?1:k[t]===s?0:.5;else if(g===1/0)for(t=b;t<i;t+=a)k[t]=k[t]===g?1:0;else if(s===-1/0)for(t=b;t<i;t+=a)k[t]=k[t]===s?0:1;else{var r=g-s;for(t=b;t<i;t+=a)isNaN(k[t])||(k[t]=r===0?.5:(k[t]-s)/r)}}return k}},67752:function(ee){ee.exports=function(D,e){var M=typeof D=="number",k=typeof e=="number";M&&!k?(e=D,D=0):M||k||(D=0,e=0);var a=(e|=0)-(D|=0);if(a<0)throw new Error("array length must be positive");for(var T=new Array(a),b=0,g=D;b<a;b++,g++)T[b]=g;return T}},45408:function(ee,D,e){var M=e(4168);function k(z){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},k(z)}var a,T,b=e(86832).codes,g=b.ERR_AMBIGUOUS_ARGUMENT,s=b.ERR_INVALID_ARG_TYPE,t=b.ERR_INVALID_ARG_VALUE,i=b.ERR_INVALID_RETURN_VALUE,r=b.ERR_MISSING_ARGS,n=e(26144),o=e(35840).inspect,l=e(35840).types,u=l.isPromise,d=l.isRegExp,c=Object.assign?Object.assign:e(60964).assign,m=Object.is?Object.is:e(39896);function f(){var z=e(25116);a=z.isDeepEqual,T=z.isDeepStrictEqual}var p=!1,v=ee.exports=h,y={};function x(z){throw z.message instanceof Error?z.message:new n(z)}function _(z,N,W,F){if(!W){var V=!1;if(N===0)V=!0,F="No value argument passed to `assert.ok()`";else if(F instanceof Error)throw F;var j=new n({actual:W,expected:!0,message:F,operator:"==",stackStartFn:z});throw j.generatedMessage=V,j}}function h(){for(var z=arguments.length,N=new Array(z),W=0;W<z;W++)N[W]=arguments[W];_.apply(void 0,[h,N.length].concat(N))}v.fail=function z(N,W,F,V,j){var te,J=arguments.length;if(J===0?te="Failed":J===1?(F=N,N=void 0):(p===!1&&(p=!0,(M.emitWarning?M.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),J===2&&(V="!=")),F instanceof Error)throw F;var K={actual:N,expected:W,operator:V===void 0?"fail":V,stackStartFn:j||z};F!==void 0&&(K.message=F);var Z=new n(K);throw te&&(Z.message=te,Z.generatedMessage=!0),Z},v.AssertionError=n,v.ok=h,v.equal=function z(N,W,F){if(arguments.length<2)throw new r("actual","expected");N!=W&&x({actual:N,expected:W,message:F,operator:"==",stackStartFn:z})},v.notEqual=function z(N,W,F){if(arguments.length<2)throw new r("actual","expected");N==W&&x({actual:N,expected:W,message:F,operator:"!=",stackStartFn:z})},v.deepEqual=function z(N,W,F){if(arguments.length<2)throw new r("actual","expected");a===void 0&&f(),a(N,W)||x({actual:N,expected:W,message:F,operator:"deepEqual",stackStartFn:z})},v.notDeepEqual=function z(N,W,F){if(arguments.length<2)throw new r("actual","expected");a===void 0&&f(),a(N,W)&&x({actual:N,expected:W,message:F,operator:"notDeepEqual",stackStartFn:z})},v.deepStrictEqual=function z(N,W,F){if(arguments.length<2)throw new r("actual","expected");a===void 0&&f(),T(N,W)||x({actual:N,expected:W,message:F,operator:"deepStrictEqual",stackStartFn:z})},v.notDeepStrictEqual=function z(N,W,F){if(arguments.length<2)throw new r("actual","expected");a===void 0&&f(),T(N,W)&&x({actual:N,expected:W,message:F,operator:"notDeepStrictEqual",stackStartFn:z})},v.strictEqual=function z(N,W,F){if(arguments.length<2)throw new r("actual","expected");m(N,W)||x({actual:N,expected:W,message:F,operator:"strictEqual",stackStartFn:z})},v.notStrictEqual=function z(N,W,F){if(arguments.length<2)throw new r("actual","expected");m(N,W)&&x({actual:N,expected:W,message:F,operator:"notStrictEqual",stackStartFn:z})};var S=function z(N,W,F){var V=this;(function(j,te){if(!(j instanceof te))throw new TypeError("Cannot call a class as a function")})(this,z),W.forEach(function(j){j in N&&(F!==void 0&&typeof F[j]=="string"&&d(N[j])&&N[j].test(F[j])?V[j]=F[j]:V[j]=N[j])})};function w(z,N,W,F){if(typeof N!="function"){if(d(N))return N.test(z);if(arguments.length===2)throw new s("expected",["Function","RegExp"],N);if(k(z)!=="object"||z===null){var V=new n({actual:z,expected:N,message:W,operator:"deepStrictEqual",stackStartFn:F});throw V.operator=F.name,V}var j=Object.keys(N);if(N instanceof Error)j.push("name","message");else if(j.length===0)throw new t("error",N,"may not be an empty object");return a===void 0&&f(),j.forEach(function(te){typeof z[te]=="string"&&d(N[te])&&N[te].test(z[te])||function(J,K,Z,X,Q,re){if(!(Z in J)||!T(J[Z],K[Z])){if(!X){var ae=new S(J,Q),ie=new S(K,Q,J),le=new n({actual:ae,expected:ie,operator:"deepStrictEqual",stackStartFn:re});throw le.actual=J,le.expected=K,le.operator=re.name,le}x({actual:J,expected:K,message:X,operator:re.name,stackStartFn:re})}}(z,N,te,W,j,F)}),!0}return N.prototype!==void 0&&z instanceof N||!Error.isPrototypeOf(N)&&N.call({},z)===!0}function E(z){if(typeof z!="function")throw new s("fn","Function",z);try{z()}catch(N){return N}return y}function C(z){return u(z)||z!==null&&k(z)==="object"&&typeof z.then=="function"&&typeof z.catch=="function"}function P(z){return Promise.resolve().then(function(){var N;if(typeof z=="function"){if(!C(N=z()))throw new i("instance of Promise","promiseFn",N)}else{if(!C(z))throw new s("promiseFn",["Function","Promise"],z);N=z}return Promise.resolve().then(function(){return N}).then(function(){return y}).catch(function(W){return W})})}function O(z,N,W,F){if(typeof W=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],W);if(k(N)==="object"&&N!==null){if(N.message===W)throw new g("error/message",'The error message "'.concat(N.message,'" is identical to the message.'))}else if(N===W)throw new g("error/message",'The error "'.concat(N,'" is identical to the message.'));F=W,W=void 0}else if(W!=null&&k(W)!=="object"&&typeof W!="function")throw new s("error",["Object","Error","Function","RegExp"],W);if(N===y){var V="";W&&W.name&&(V+=" (".concat(W.name,")")),V+=F?": ".concat(F):".";var j=z.name==="rejects"?"rejection":"exception";x({actual:void 0,expected:W,operator:z.name,message:"Missing expected ".concat(j).concat(V),stackStartFn:z})}if(W&&!w(N,W,F,z))throw N}function R(z,N,W,F){if(N!==y){if(typeof W=="string"&&(F=W,W=void 0),!W||w(N,W)){var V=F?": ".concat(F):".",j=z.name==="doesNotReject"?"rejection":"exception";x({actual:N,expected:W,operator:z.name,message:"Got unwanted ".concat(j).concat(V,`
`)+'Actual message: "'.concat(N&&N.message,'"'),stackStartFn:z})}throw N}}function U(){for(var z=arguments.length,N=new Array(z),W=0;W<z;W++)N[W]=arguments[W];_.apply(void 0,[U,N.length].concat(N))}v.throws=function z(N){for(var W=arguments.length,F=new Array(W>1?W-1:0),V=1;V<W;V++)F[V-1]=arguments[V];O.apply(void 0,[z,E(N)].concat(F))},v.rejects=function z(N){for(var W=arguments.length,F=new Array(W>1?W-1:0),V=1;V<W;V++)F[V-1]=arguments[V];return P(N).then(function(j){return O.apply(void 0,[z,j].concat(F))})},v.doesNotThrow=function z(N){for(var W=arguments.length,F=new Array(W>1?W-1:0),V=1;V<W;V++)F[V-1]=arguments[V];R.apply(void 0,[z,E(N)].concat(F))},v.doesNotReject=function z(N){for(var W=arguments.length,F=new Array(W>1?W-1:0),V=1;V<W;V++)F[V-1]=arguments[V];return P(N).then(function(j){return R.apply(void 0,[z,j].concat(F))})},v.ifError=function z(N){if(N!=null){var W="ifError got unwanted exception: ";k(N)==="object"&&typeof N.message=="string"?N.message.length===0&&N.constructor?W+=N.constructor.name:W+=N.message:W+=o(N);var F=new n({actual:N,expected:null,operator:"ifError",message:W,stackStartFn:z}),V=N.stack;if(typeof V=="string"){var j=V.split(`
`);j.shift();for(var te=F.stack.split(`
`),J=0;J<j.length;J++){var K=te.indexOf(j[J]);if(K!==-1){te=te.slice(0,K);break}}F.stack="".concat(te.join(`
`),`
`).concat(j.join(`
`))}throw F}},v.strict=c(U,v,{equal:v.strictEqual,deepEqual:v.deepStrictEqual,notEqual:v.notStrictEqual,notDeepEqual:v.notDeepStrictEqual}),v.strict.strict=v.strict},26144:function(ee,D,e){var M=e(4168);function k(x,_,h){return _ in x?Object.defineProperty(x,_,{value:h,enumerable:!0,configurable:!0,writable:!0}):x[_]=h,x}function a(x,_){for(var h=0;h<_.length;h++){var S=_[h];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}function T(x,_){return!_||r(_)!=="object"&&typeof _!="function"?b(x):_}function b(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function g(x){var _=typeof Map=="function"?new Map:void 0;return g=function(h){if(h===null||(S=h,Function.toString.call(S).indexOf("[native code]")===-1))return h;var S;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(_!==void 0){if(_.has(h))return _.get(h);_.set(h,w)}function w(){return s(h,arguments,i(this).constructor)}return w.prototype=Object.create(h.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),t(w,h)},g(x)}function s(x,_,h){return s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(S,w,E){var C=[null];C.push.apply(C,w);var P=new(Function.bind.apply(S,C));return E&&t(P,E.prototype),P},s.apply(null,arguments)}function t(x,_){return t=Object.setPrototypeOf||function(h,S){return h.__proto__=S,h},t(x,_)}function i(x){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},i(x)}function r(x){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},r(x)}var n=e(35840).inspect,o=e(86832).codes.ERR_INVALID_ARG_TYPE;function l(x,_,h){return(h===void 0||h>x.length)&&(h=x.length),x.substring(h-_.length,h)===_}var u="",d="",c="",m="",f={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function p(x){var _=Object.keys(x),h=Object.create(Object.getPrototypeOf(x));return _.forEach(function(S){h[S]=x[S]}),Object.defineProperty(h,"message",{value:x.message}),h}function v(x){return n(x,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var y=function(x){function _(w){var E;if(function(te,J){if(!(te instanceof J))throw new TypeError("Cannot call a class as a function")}(this,_),r(w)!=="object"||w===null)throw new o("options","Object",w);var C=w.message,P=w.operator,O=w.stackStartFn,R=w.actual,U=w.expected,z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,C!=null)E=T(this,i(_).call(this,String(C)));else if(M.stderr&&M.stderr.isTTY&&(M.stderr&&M.stderr.getColorDepth&&M.stderr.getColorDepth()!==1?(u="\x1B[34m",d="\x1B[32m",m="\x1B[39m",c="\x1B[31m"):(u="",d="",m="",c="")),r(R)==="object"&&R!==null&&r(U)==="object"&&U!==null&&"stack"in R&&R instanceof Error&&"stack"in U&&U instanceof Error&&(R=p(R),U=p(U)),P==="deepStrictEqual"||P==="strictEqual")E=T(this,i(_).call(this,function(te,J,K){var Z="",X="",Q=0,re="",ae=!1,ie=v(te),le=ie.split(`
`),pe=v(J).split(`
`),de=0,ve="";if(K==="strictEqual"&&r(te)==="object"&&r(J)==="object"&&te!==null&&J!==null&&(K="strictEqualObject"),le.length===1&&pe.length===1&&le[0]!==pe[0]){var be=le[0].length+pe[0].length;if(be<=10){if(!(r(te)==="object"&&te!==null||r(J)==="object"&&J!==null||te===0&&J===0))return"".concat(f[K],`

`)+"".concat(le[0]," !== ").concat(pe[0],`
`)}else if(K!=="strictEqualObject"&&be<(M.stderr&&M.stderr.isTTY?M.stderr.columns:80)){for(;le[0][de]===pe[0][de];)de++;de>2&&(ve=`
  `.concat(function(ze,fe){if(fe=Math.floor(fe),ze.length==0||fe==0)return"";var xe=ze.length*fe;for(fe=Math.floor(Math.log(fe)/Math.log(2));fe;)ze+=ze,fe--;return ze+ze.substring(0,xe-ze.length)}(" ",de),"^"),de=0)}}for(var me=le[le.length-1],ge=pe[pe.length-1];me===ge&&(de++<2?re=`
  `.concat(me).concat(re):Z=me,le.pop(),pe.pop(),le.length!==0&&pe.length!==0);)me=le[le.length-1],ge=pe[pe.length-1];var ke=Math.max(le.length,pe.length);if(ke===0){var we=ie.split(`
`);if(we.length>30)for(we[26]="".concat(u,"...").concat(m);we.length>27;)we.pop();return"".concat(f.notIdentical,`

`).concat(we.join(`
`),`
`)}de>3&&(re=`
`.concat(u,"...").concat(m).concat(re),ae=!0),Z!==""&&(re=`
  `.concat(Z).concat(re),Z="");var ue=0,oe=f[K]+`
`.concat(d,"+ actual").concat(m," ").concat(c,"- expected").concat(m),he=" ".concat(u,"...").concat(m," Lines skipped");for(de=0;de<ke;de++){var Ee=de-Q;if(le.length<de+1)Ee>1&&de>2&&(Ee>4?(X+=`
`.concat(u,"...").concat(m),ae=!0):Ee>3&&(X+=`
  `.concat(pe[de-2]),ue++),X+=`
  `.concat(pe[de-1]),ue++),Q=de,Z+=`
`.concat(c,"-").concat(m," ").concat(pe[de]),ue++;else if(pe.length<de+1)Ee>1&&de>2&&(Ee>4?(X+=`
`.concat(u,"...").concat(m),ae=!0):Ee>3&&(X+=`
  `.concat(le[de-2]),ue++),X+=`
  `.concat(le[de-1]),ue++),Q=de,X+=`
`.concat(d,"+").concat(m," ").concat(le[de]),ue++;else{var Te=pe[de],Me=le[de],Se=Me!==Te&&(!l(Me,",")||Me.slice(0,-1)!==Te);Se&&l(Te,",")&&Te.slice(0,-1)===Me&&(Se=!1,Me+=","),Se?(Ee>1&&de>2&&(Ee>4?(X+=`
`.concat(u,"...").concat(m),ae=!0):Ee>3&&(X+=`
  `.concat(le[de-2]),ue++),X+=`
  `.concat(le[de-1]),ue++),Q=de,X+=`
`.concat(d,"+").concat(m," ").concat(Me),Z+=`
`.concat(c,"-").concat(m," ").concat(Te),ue+=2):(X+=Z,Z="",Ee!==1&&de!==0||(X+=`
  `.concat(Me),ue++))}if(ue>20&&de<ke-2)return"".concat(oe).concat(he,`
`).concat(X,`
`).concat(u,"...").concat(m).concat(Z,`
`)+"".concat(u,"...").concat(m)}return"".concat(oe).concat(ae?he:"",`
`).concat(X).concat(Z).concat(re).concat(ve)}(R,U,P)));else if(P==="notDeepStrictEqual"||P==="notStrictEqual"){var N=f[P],W=v(R).split(`
`);if(P==="notStrictEqual"&&r(R)==="object"&&R!==null&&(N=f.notStrictEqualObject),W.length>30)for(W[26]="".concat(u,"...").concat(m);W.length>27;)W.pop();E=W.length===1?T(this,i(_).call(this,"".concat(N," ").concat(W[0]))):T(this,i(_).call(this,"".concat(N,`

`).concat(W.join(`
`),`
`)))}else{var F=v(R),V="",j=f[P];P==="notDeepEqual"||P==="notEqual"?(F="".concat(f[P],`

`).concat(F)).length>1024&&(F="".concat(F.slice(0,1021),"...")):(V="".concat(v(U)),F.length>512&&(F="".concat(F.slice(0,509),"...")),V.length>512&&(V="".concat(V.slice(0,509),"...")),P==="deepEqual"||P==="equal"?F="".concat(j,`

`).concat(F,`

should equal

`):V=" ".concat(P," ").concat(V)),E=T(this,i(_).call(this,"".concat(F).concat(V)))}return Error.stackTraceLimit=z,E.generatedMessage=!C,Object.defineProperty(b(E),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),E.code="ERR_ASSERTION",E.actual=R,E.expected=U,E.operator=P,Error.captureStackTrace&&Error.captureStackTrace(b(E),O),E.stack,E.name="AssertionError",T(E)}var h,S;return function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),E&&t(w,E)}(_,x),h=_,S=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:n.custom,value:function(w,E){return n(this,function(C){for(var P=1;P<arguments.length;P++){var O=arguments[P]!=null?arguments[P]:{},R=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(O).filter(function(U){return Object.getOwnPropertyDescriptor(O,U).enumerable}))),R.forEach(function(U){k(C,U,O[U])})}return C}({},E,{customInspect:!1,depth:0}))}}],S&&a(h.prototype,S),_}(g(Error));ee.exports=y},86832:function(ee,D,e){function M(i){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},M(i)}function k(i){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},k(i)}function a(i,r){return a=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},a(i,r)}var T,b,g={};function s(i,r,n){n||(n=Error);var o=function(l){function u(d,c,m){var f;return function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),f=function(p,v){return!v||M(v)!=="object"&&typeof v!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):v}(this,k(u).call(this,function(p,v,y){return typeof r=="string"?r:r(p,v,y)}(d,c,m))),f.code=i,f}return function(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),c&&a(d,c)}(u,l),u}(n);g[i]=o}function t(i,r){if(Array.isArray(i)){var n=i.length;return i=i.map(function(o){return String(o)}),n>2?"one of ".concat(r," ").concat(i.slice(0,n-1).join(", "),", or ")+i[n-1]:n===2?"one of ".concat(r," ").concat(i[0]," or ").concat(i[1]):"of ".concat(r," ").concat(i[0])}return"of ".concat(r," ").concat(String(i))}s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(i,r,n){var o,l,u,d,c;if(T===void 0&&(T=e(45408)),T(typeof i=="string","'name' must be a string"),typeof r=="string"&&(l="not ",r.substr(0,4)===l)?(o="must not be",r=r.replace(/^not /,"")):o="must be",function(f,p,v){return(v===void 0||v>f.length)&&(v=f.length),f.substring(v-9,v)===p}(i," argument"))u="The ".concat(i," ").concat(o," ").concat(t(r,"type"));else{var m=(typeof c!="number"&&(c=0),c+1>(d=i).length||d.indexOf(".",c)===-1?"argument":"property");u='The "'.concat(i,'" ').concat(m," ").concat(o," ").concat(t(r,"type"))}return u+". Received type ".concat(M(n))},TypeError),s("ERR_INVALID_ARG_VALUE",function(i,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";b===void 0&&(b=e(35840));var o=b.inspect(r);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(n,". Received ").concat(o)},TypeError),s("ERR_INVALID_RETURN_VALUE",function(i,r,n){var o;return o=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(M(n)),"Expected ".concat(i,' to be returned from the "').concat(r,'"')+" function but got ".concat(o,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];T===void 0&&(T=e(45408)),T(r.length>0,"At least one arg needs to be specified");var o="The ",l=r.length;switch(r=r.map(function(u){return'"'.concat(u,'"')}),l){case 1:o+="".concat(r[0]," argument");break;case 2:o+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:o+=r.slice(0,l-1).join(", "),o+=", and ".concat(r[l-1]," arguments")}return"".concat(o," must be specified")},TypeError),ee.exports.codes=g},25116:function(ee,D,e){function M(Q,re){return function(ae){if(Array.isArray(ae))return ae}(Q)||function(ae,ie){var le=[],pe=!0,de=!1,ve=void 0;try{for(var be,me=ae[Symbol.iterator]();!(pe=(be=me.next()).done)&&(le.push(be.value),!ie||le.length!==ie);pe=!0);}catch(ge){de=!0,ve=ge}finally{try{pe||me.return==null||me.return()}finally{if(de)throw ve}}return le}(Q,re)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(Q){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},k(Q)}var a=/a/g.flags!==void 0,T=function(Q){var re=[];return Q.forEach(function(ae){return re.push(ae)}),re},b=function(Q){var re=[];return Q.forEach(function(ae,ie){return re.push([ie,ae])}),re},g=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(1560);function i(Q){return Q.call.bind(Q)}var r=i(Object.prototype.hasOwnProperty),n=i(Object.prototype.propertyIsEnumerable),o=i(Object.prototype.toString),l=e(35840).types,u=l.isAnyArrayBuffer,d=l.isArrayBufferView,c=l.isDate,m=l.isMap,f=l.isRegExp,p=l.isSet,v=l.isNativeError,y=l.isBoxedPrimitive,x=l.isNumberObject,_=l.isStringObject,h=l.isBooleanObject,S=l.isBigIntObject,w=l.isSymbolObject,E=l.isFloat32Array,C=l.isFloat64Array;function P(Q){if(Q.length===0||Q.length>10)return!0;for(var re=0;re<Q.length;re++){var ae=Q.charCodeAt(re);if(ae<48||ae>57)return!0}return Q.length===10&&Q>=Math.pow(2,32)}function O(Q){return Object.keys(Q).filter(P).concat(s(Q).filter(Object.prototype.propertyIsEnumerable.bind(Q)))}function R(Q,re){if(Q===re)return 0;for(var ae=Q.length,ie=re.length,le=0,pe=Math.min(ae,ie);le<pe;++le)if(Q[le]!==re[le]){ae=Q[le],ie=re[le];break}return ae<ie?-1:ie<ae?1:0}var U=0,z=1,N=2,W=3;function F(Q,re,ae,ie){if(Q===re)return Q!==0||!ae||g(Q,re);if(ae){if(k(Q)!=="object")return typeof Q=="number"&&t(Q)&&t(re);if(k(re)!=="object"||Q===null||re===null||Object.getPrototypeOf(Q)!==Object.getPrototypeOf(re))return!1}else{if(Q===null||k(Q)!=="object")return(re===null||k(re)!=="object")&&Q==re;if(re===null||k(re)!=="object")return!1}var le,pe,de,ve,be=o(Q);if(be!==o(re))return!1;if(Array.isArray(Q)){if(Q.length!==re.length)return!1;var me=O(Q),ge=O(re);return me.length===ge.length&&j(Q,re,ae,ie,z,me)}if(be==="[object Object]"&&(!m(Q)&&m(re)||!p(Q)&&p(re)))return!1;if(c(Q)){if(!c(re)||Date.prototype.getTime.call(Q)!==Date.prototype.getTime.call(re))return!1}else if(f(Q)){if(!f(re)||(de=Q,ve=re,!(a?de.source===ve.source&&de.flags===ve.flags:RegExp.prototype.toString.call(de)===RegExp.prototype.toString.call(ve))))return!1}else if(v(Q)||Q instanceof Error){if(Q.message!==re.message||Q.name!==re.name)return!1}else{if(d(Q)){if(ae||!E(Q)&&!C(Q)){if(!function(ue,oe){return ue.byteLength===oe.byteLength&&R(new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength),new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength))===0}(Q,re))return!1}else if(!function(ue,oe){if(ue.byteLength!==oe.byteLength)return!1;for(var he=0;he<ue.byteLength;he++)if(ue[he]!==oe[he])return!1;return!0}(Q,re))return!1;var ke=O(Q),we=O(re);return ke.length===we.length&&j(Q,re,ae,ie,U,ke)}if(p(Q))return!(!p(re)||Q.size!==re.size)&&j(Q,re,ae,ie,N);if(m(Q))return!(!m(re)||Q.size!==re.size)&&j(Q,re,ae,ie,W);if(u(Q)){if(pe=re,(le=Q).byteLength!==pe.byteLength||R(new Uint8Array(le),new Uint8Array(pe))!==0)return!1}else if(y(Q)&&!function(ue,oe){return x(ue)?x(oe)&&g(Number.prototype.valueOf.call(ue),Number.prototype.valueOf.call(oe)):_(ue)?_(oe)&&String.prototype.valueOf.call(ue)===String.prototype.valueOf.call(oe):h(ue)?h(oe)&&Boolean.prototype.valueOf.call(ue)===Boolean.prototype.valueOf.call(oe):S(ue)?S(oe)&&BigInt.prototype.valueOf.call(ue)===BigInt.prototype.valueOf.call(oe):w(oe)&&Symbol.prototype.valueOf.call(ue)===Symbol.prototype.valueOf.call(oe)}(Q,re))return!1}return j(Q,re,ae,ie,U)}function V(Q,re){return re.filter(function(ae){return n(Q,ae)})}function j(Q,re,ae,ie,le,pe){if(arguments.length===5){pe=Object.keys(Q);var de=Object.keys(re);if(pe.length!==de.length)return!1}for(var ve=0;ve<pe.length;ve++)if(!r(re,pe[ve]))return!1;if(ae&&arguments.length===5){var be=s(Q);if(be.length!==0){var me=0;for(ve=0;ve<be.length;ve++){var ge=be[ve];if(n(Q,ge)){if(!n(re,ge))return!1;pe.push(ge),me++}else if(n(re,ge))return!1}var ke=s(re);if(be.length!==ke.length&&V(re,ke).length!==me)return!1}else{var we=s(re);if(we.length!==0&&V(re,we).length!==0)return!1}}if(pe.length===0&&(le===U||le===z&&Q.length===0||Q.size===0))return!0;if(ie===void 0)ie={val1:new Map,val2:new Map,position:0};else{var ue=ie.val1.get(Q);if(ue!==void 0){var oe=ie.val2.get(re);if(oe!==void 0)return ue===oe}ie.position++}ie.val1.set(Q,ie.position),ie.val2.set(re,ie.position);var he=function(Ee,Te,Me,Se,ze,fe){var xe=0;if(fe===N){if(!function(Pe,Ue,Ve,Xe){for(var it=null,tt=T(Pe),pt=0;pt<tt.length;pt++){var mt=tt[pt];if(k(mt)==="object"&&mt!==null)it===null&&(it=new Set),it.add(mt);else if(!Ue.has(mt)){if(Ve||!K(Pe,Ue,mt))return!1;it===null&&(it=new Set),it.add(mt)}}if(it!==null){for(var gt=T(Ue),et=0;et<gt.length;et++){var $e=gt[et];if(k($e)==="object"&&$e!==null){if(!te(it,$e,Ve,Xe))return!1}else if(!Ve&&!Pe.has($e)&&!te(it,$e,Ve,Xe))return!1}return it.size===0}return!0}(Ee,Te,Me,ze))return!1}else if(fe===W){if(!function(Pe,Ue,Ve,Xe){for(var it=null,tt=b(Pe),pt=0;pt<tt.length;pt++){var mt=M(tt[pt],2),gt=mt[0],et=mt[1];if(k(gt)==="object"&&gt!==null)it===null&&(it=new Set),it.add(gt);else{var $e=Ue.get(gt);if($e===void 0&&!Ue.has(gt)||!F(et,$e,Ve,Xe)){if(Ve||!Z(Pe,Ue,gt,et,Xe))return!1;it===null&&(it=new Set),it.add(gt)}}}if(it!==null){for(var _t=b(Ue),Pt=0;Pt<_t.length;Pt++){var Ot=M(_t[Pt],2),Lt=(gt=Ot[0],Ot[1]);if(k(gt)==="object"&&gt!==null){if(!X(it,Pe,gt,Lt,Ve,Xe))return!1}else if(!(Ve||Pe.has(gt)&&F(Pe.get(gt),Lt,!1,Xe)||X(it,Pe,gt,Lt,!1,Xe)))return!1}return it.size===0}return!0}(Ee,Te,Me,ze))return!1}else if(fe===z)for(;xe<Ee.length;xe++){if(!r(Ee,xe)){if(r(Te,xe))return!1;for(var _e=Object.keys(Ee);xe<_e.length;xe++){var Oe=_e[xe];if(!r(Te,Oe)||!F(Ee[Oe],Te[Oe],Me,ze))return!1}return _e.length===Object.keys(Te).length}if(!r(Te,xe)||!F(Ee[xe],Te[xe],Me,ze))return!1}for(xe=0;xe<Se.length;xe++){var De=Se[xe];if(!F(Ee[De],Te[De],Me,ze))return!1}return!0}(Q,re,ae,pe,ie,le);return ie.val1.delete(Q),ie.val2.delete(re),he}function te(Q,re,ae,ie){for(var le=T(Q),pe=0;pe<le.length;pe++){var de=le[pe];if(F(re,de,ae,ie))return Q.delete(de),!0}return!1}function J(Q){switch(k(Q)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Q=+Q;case"number":if(t(Q))return!1}return!0}function K(Q,re,ae){var ie=J(ae);return ie??(re.has(ie)&&!Q.has(ie))}function Z(Q,re,ae,ie,le){var pe=J(ae);if(pe!=null)return pe;var de=re.get(pe);return!(de===void 0&&!re.has(pe)||!F(ie,de,!1,le))&&!Q.has(pe)&&F(ie,de,!1,le)}function X(Q,re,ae,ie,le,pe){for(var de=T(Q),ve=0;ve<de.length;ve++){var be=de[ve];if(F(ae,be,le,pe)&&F(ie,re.get(be),le,pe))return Q.delete(be),!0}return!1}ee.exports={isDeepEqual:function(Q,re){return F(Q,re,!1)},isDeepStrictEqual:function(Q,re){return F(Q,re,!0)}}},83160:function(ee,D,e){e.r(D),e.d(D,{decode:function(){return b},encode:function(){return T}});for(var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<64;a++)k[M.charCodeAt(a)]=a;var T=function(g){var s,t=new Uint8Array(g),i=t.length,r="";for(s=0;s<i;s+=3)r+=M[t[s]>>2],r+=M[(3&t[s])<<4|t[s+1]>>4],r+=M[(15&t[s+1])<<2|t[s+2]>>6],r+=M[63&t[s+2]];return i%3==2?r=r.substring(0,r.length-1)+"=":i%3==1&&(r=r.substring(0,r.length-2)+"=="),r},b=function(g){var s,t,i,r,n,o=.75*g.length,l=g.length,u=0;g[g.length-1]==="="&&(o--,g[g.length-2]==="="&&o--);var d=new ArrayBuffer(o),c=new Uint8Array(d);for(s=0;s<l;s+=4)t=k[g.charCodeAt(s)],i=k[g.charCodeAt(s+1)],r=k[g.charCodeAt(s+2)],n=k[g.charCodeAt(s+3)],c[u++]=t<<2|i>>4,c[u++]=(15&i)<<4|r>>2,c[u++]=(3&r)<<6|63&n;return d}},59968:function(ee,D){D.byteLength=function(s){var t=b(s),i=t[0],r=t[1];return 3*(i+r)/4-r},D.toByteArray=function(s){var t,i,r=b(s),n=r[0],o=r[1],l=new k(function(c,m,f){return 3*(m+f)/4-f}(0,n,o)),u=0,d=o>0?n-4:n;for(i=0;i<d;i+=4)t=M[s.charCodeAt(i)]<<18|M[s.charCodeAt(i+1)]<<12|M[s.charCodeAt(i+2)]<<6|M[s.charCodeAt(i+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return o===2&&(t=M[s.charCodeAt(i)]<<2|M[s.charCodeAt(i+1)]>>4,l[u++]=255&t),o===1&&(t=M[s.charCodeAt(i)]<<10|M[s.charCodeAt(i+1)]<<4|M[s.charCodeAt(i+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},D.fromByteArray=function(s){for(var t,i=s.length,r=i%3,n=[],o=16383,l=0,u=i-r;l<u;l+=o)n.push(g(s,l,l+o>u?u:l+o));return r===1?(t=s[i-1],n.push(e[t>>2]+e[t<<4&63]+"==")):r===2&&(t=(s[i-2]<<8)+s[i-1],n.push(e[t>>10]+e[t>>4&63]+e[t<<2&63]+"=")),n.join("")};for(var e=[],M=[],k=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0;T<64;++T)e[T]=a[T],M[a.charCodeAt(T)]=T;function b(s){var t=s.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=s.indexOf("=");return i===-1&&(i=t),[i,i===t?0:4-i%4]}function g(s,t,i){for(var r,n,o=[],l=t;l<i;l+=3)r=(s[l]<<16&16711680)+(s[l+1]<<8&65280)+(255&s[l+2]),o.push(e[(n=r)>>18&63]+e[n>>12&63]+e[n>>6&63]+e[63&n]);return o.join("")}M[45]=62,M[95]=63},64928:function(ee){function D(b,g,s,t,i){for(var r=i+1;t<=i;){var n=t+i>>>1,o=b[n];(s!==void 0?s(o,g):o-g)>=0?(r=n,i=n-1):t=n+1}return r}function e(b,g,s,t,i){for(var r=i+1;t<=i;){var n=t+i>>>1,o=b[n];(s!==void 0?s(o,g):o-g)>0?(r=n,i=n-1):t=n+1}return r}function M(b,g,s,t,i){for(var r=t-1;t<=i;){var n=t+i>>>1,o=b[n];(s!==void 0?s(o,g):o-g)<0?(r=n,t=n+1):i=n-1}return r}function k(b,g,s,t,i){for(var r=t-1;t<=i;){var n=t+i>>>1,o=b[n];(s!==void 0?s(o,g):o-g)<=0?(r=n,t=n+1):i=n-1}return r}function a(b,g,s,t,i){for(;t<=i;){var r=t+i>>>1,n=b[r],o=s!==void 0?s(n,g):n-g;if(o===0)return r;o<=0?t=r+1:i=r-1}return-1}function T(b,g,s,t,i,r){return typeof s=="function"?r(b,g,s,t===void 0?0:0|t,i===void 0?b.length-1:0|i):r(b,g,void 0,s===void 0?0:0|s,t===void 0?b.length-1:0|t)}ee.exports={ge:function(b,g,s,t,i){return T(b,g,s,t,i,D)},gt:function(b,g,s,t,i){return T(b,g,s,t,i,e)},lt:function(b,g,s,t,i){return T(b,g,s,t,i,M)},le:function(b,g,s,t,i){return T(b,g,s,t,i,k)},eq:function(b,g,s,t,i){return T(b,g,s,t,i,a)}}},308:function(ee,D){function e(k){var a=32;return(k&=-k)&&a--,65535&k&&(a-=16),16711935&k&&(a-=8),252645135&k&&(a-=4),858993459&k&&(a-=2),1431655765&k&&(a-=1),a}D.INT_BITS=32,D.INT_MAX=2147483647,D.INT_MIN=-2147483648,D.sign=function(k){return(k>0)-(k<0)},D.abs=function(k){var a=k>>31;return(k^a)-a},D.min=function(k,a){return a^(k^a)&-(k<a)},D.max=function(k,a){return k^(k^a)&-(k<a)},D.isPow2=function(k){return!(k&k-1||!k)},D.log2=function(k){var a,T;return a=(k>65535)<<4,a|=T=((k>>>=a)>255)<<3,a|=T=((k>>>=T)>15)<<2,(a|=T=((k>>>=T)>3)<<1)|(k>>>=T)>>1},D.log10=function(k){return k>=1e9?9:k>=1e8?8:k>=1e7?7:k>=1e6?6:k>=1e5?5:k>=1e4?4:k>=1e3?3:k>=100?2:k>=10?1:0},D.popCount=function(k){return 16843009*((k=(858993459&(k-=k>>>1&1431655765))+(k>>>2&858993459))+(k>>>4)&252645135)>>>24},D.countTrailingZeros=e,D.nextPow2=function(k){return k+=k===0,--k,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,1+(k|=k>>>16)},D.prevPow2=function(k){return k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,(k|=k>>>16)-(k>>>1)},D.parity=function(k){return k^=k>>>16,k^=k>>>8,k^=k>>>4,27030>>>(k&=15)&1};var M=new Array(256);(function(k){for(var a=0;a<256;++a){var T=a,b=a,g=7;for(T>>>=1;T;T>>>=1)b<<=1,b|=1&T,--g;k[a]=b<<g&255}})(M),D.reverse=function(k){return M[255&k]<<24|M[k>>>8&255]<<16|M[k>>>16&255]<<8|M[k>>>24&255]},D.interleave2=function(k,a){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k&=65535)|k<<8))|k<<4))|k<<2))|k<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))<<1},D.deinterleave2=function(k,a){return(k=65535&((k=16711935&((k=252645135&((k=858993459&((k=k>>>a&1431655765)|k>>>1))|k>>>2))|k>>>4))|k>>>16))<<16>>16},D.interleave3=function(k,a,T){return k=1227133513&((k=3272356035&((k=251719695&((k=4278190335&((k&=1023)|k<<16))|k<<8))|k<<4))|k<<2),(k|=(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<1)|(T=1227133513&((T=3272356035&((T=251719695&((T=4278190335&((T&=1023)|T<<16))|T<<8))|T<<4))|T<<2))<<2},D.deinterleave3=function(k,a){return(k=1023&((k=4278190335&((k=251719695&((k=3272356035&((k=k>>>a&1227133513)|k>>>2))|k>>>4))|k>>>8))|k>>>16))<<22>>22},D.nextCombination=function(k){var a=k|k-1;return a+1|(~a&-~a)-1>>>e(k)+1}},29620:function(ee,D,e){var M=e(32420);ee.exports=function(b,g){g||(g={});var s,t,i,r,n,o,l,u,d,c,m,f=g.cutoff==null?.25:g.cutoff,p=g.radius==null?8:g.radius,v=g.channel||0;if(ArrayBuffer.isView(b)||Array.isArray(b)){if(!g.width||!g.height)throw Error("For raw data width and height should be provided by options");s=g.width,t=g.height,r=b,o=g.stride?g.stride:Math.floor(b.length/s/t)}else window.HTMLCanvasElement&&b instanceof window.HTMLCanvasElement?(l=(u=b).getContext("2d"),s=u.width,t=u.height,r=(d=l.getImageData(0,0,s,t)).data,o=4):window.CanvasRenderingContext2D&&b instanceof window.CanvasRenderingContext2D?(l=b,s=(u=b.canvas).width,t=u.height,r=(d=l.getImageData(0,0,s,t)).data,o=4):window.ImageData&&b instanceof window.ImageData&&(d=b,s=b.width,t=b.height,r=d.data,o=4);if(i=Math.max(s,t),window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||window.Uint8Array&&r instanceof window.Uint8Array)for(n=r,r=Array(s*t),c=0,m=n.length;c<m;c++)r[c]=n[c*o+v]/255;else if(o!==1)throw Error("Raw data can have only 1 value per pixel");var y=Array(s*t),x=Array(s*t),_=Array(i),h=Array(i),S=Array(i+1),w=Array(i);for(c=0,m=s*t;c<m;c++){var E=r[c];y[c]=E===1?0:E===0?k:Math.pow(Math.max(0,.5-E),2),x[c]=E===1?k:E===0?0:Math.pow(Math.max(0,E-.5),2)}a(y,s,t,_,h,w,S),a(x,s,t,_,h,w,S);var C=window.Float32Array?new Float32Array(s*t):new Array(s*t);for(c=0,m=s*t;c<m;c++)C[c]=M(1-((y[c]-x[c])/p+f),0,1);return C};var k=1e20;function a(b,g,s,t,i,r,n){for(var o=0;o<g;o++){for(var l=0;l<s;l++)t[l]=b[l*g+o];for(T(t,i,r,n,s),l=0;l<s;l++)b[l*g+o]=i[l]}for(l=0;l<s;l++){for(o=0;o<g;o++)t[o]=b[l*g+o];for(T(t,i,r,n,g),o=0;o<g;o++)b[l*g+o]=Math.sqrt(i[o])}}function T(b,g,s,t,i){s[0]=0,t[0]=-k,t[1]=+k;for(var r=1,n=0;r<i;r++){for(var o=(b[r]+r*r-(b[s[n]]+s[n]*s[n]))/(2*r-2*s[n]);o<=t[n];)n--,o=(b[r]+r*r-(b[s[n]]+s[n]*s[n]))/(2*r-2*s[n]);s[++n]=r,t[n]=o,t[n+1]=+k}for(r=0,n=0;r<i;r++){for(;t[n+1]<r;)n++;g[r]=(r-s[n])*(r-s[n])+b[s[n]]}}},99676:function(ee,D,e){var M=e(53664),k=e(57916),a=k(M("String.prototype.indexOf"));ee.exports=function(T,b){var g=M(T,!!b);return typeof g=="function"&&a(T,".prototype.")>-1?k(g):g}},57916:function(ee,D,e){var M=e(8844),k=e(53664),a=e(14500),T=k("%TypeError%"),b=k("%Function.prototype.apply%"),g=k("%Function.prototype.call%"),s=k("%Reflect.apply%",!0)||M.call(g,b),t=k("%Object.defineProperty%",!0),i=k("%Math.max%");if(t)try{t({},"a",{value:1})}catch{t=null}ee.exports=function(n){if(typeof n!="function")throw new T("a function is required");var o=s(M,g,arguments);return a(o,1+i(0,n.length-(arguments.length-1)),!0)};var r=function(){return s(M,b,arguments)};t?t(ee.exports,"apply",{value:r}):ee.exports.apply=r},32420:function(ee){ee.exports=function(D,e,M){return e<M?D<e?e:D>M?M:D:D<M?M:D>e?e:D}},3808:function(ee,D,e){var M=e(32420);function k(a,T){T==null&&(T=!0);var b=a[0],g=a[1],s=a[2],t=a[3];return t==null&&(t=T?1:255),T&&(b*=255,g*=255,s*=255,t*=255),16777216*(b=255&M(b,0,255))+((g=255&M(g,0,255))<<16)+((s=255&M(s,0,255))<<8)+(255&M(t,0,255))}ee.exports=k,ee.exports.to=k,ee.exports.from=function(a,T){var b=(a=+a)>>>24,g=(16711680&a)>>>16,s=(65280&a)>>>8,t=255&a;return T===!1?[b,g,s,t]:[b/255,g/255,s/255,t/255]}},17592:function(ee){ee.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(ee,D,e){var M=e(96824),k=e(32420),a=e(72512);ee.exports=function(T,b){b!=="float"&&b||(b="array"),b==="uint"&&(b="uint8"),b==="uint_clamped"&&(b="uint8_clamped");var g=new(a(b))(4),s=b!=="uint8"&&b!=="uint8_clamped";return T.length&&typeof T!="string"||((T=M(T))[0]/=255,T[1]/=255,T[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||t[0]===0)&&(t[1]>1||t[1]===0)&&(t[2]>1||t[2]===0)&&(!t[3]||t[3]>1))}(T)?(g[0]=T[0],g[1]=T[1],g[2]=T[2],g[3]=T[3]!=null?T[3]:255,s&&(g[0]/=255,g[1]/=255,g[2]/=255,g[3]/=255),g):(s?(g[0]=T[0],g[1]=T[1],g[2]=T[2],g[3]=T[3]!=null?T[3]:1):(g[0]=k(Math.floor(255*T[0]),0,255),g[1]=k(Math.floor(255*T[1]),0,255),g[2]=k(Math.floor(255*T[2]),0,255),g[3]=T[3]==null?255:k(Math.floor(255*T[3]),0,255)),g)}},96824:function(ee,D,e){var M=e(95532),k=e(53576),a=e(32420);ee.exports=function(T){var b,g=M(T);return g.space?((b=Array(3))[0]=a(g.values[0],0,255),b[1]=a(g.values[1],0,255),b[2]=a(g.values[2],0,255),g.space[0]==="h"&&(b=k.rgb(b)),b.push(a(g.alpha,0,1)),b):[]}},95532:function(ee,D,e){var M=e(17592);ee.exports=function(a){var T,b,g=[],s=1;if(typeof a=="string")if(a=a.toLowerCase(),M[a])g=M[a].slice(),b="rgb";else if(a==="transparent")s=0,b="rgb",g=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(a)){var t=a.slice(1);s=1,(n=t.length)<=4?(g=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],n===4&&(s=parseInt(t[3]+t[3],16)/255)):(g=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],n===8&&(s=parseInt(t[6]+t[7],16)/255)),g[0]||(g[0]=0),g[1]||(g[1]=0),g[2]||(g[2]=0),b="rgb"}else if(T=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(a)){var i=T[1],r=i==="rgb";b=t=i.replace(/a$/,"");var n=t==="cmyk"?4:t==="gray"?1:3;g=T[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(o,l){if(/%$/.test(o))return l===n?parseFloat(o)/100:t==="rgb"?255*parseFloat(o)/100:parseFloat(o);if(t[l]==="h"){if(/deg$/.test(o))return parseFloat(o);if(k[o]!==void 0)return k[o]}return parseFloat(o)}),i===t&&g.push(1),s=r||g[n]===void 0?1:g[n],g=g.slice(0,n)}else a.length>10&&/[0-9](?:\s|\/)/.test(a)&&(g=a.match(/([0-9]+)/g).map(function(o){return parseFloat(o)}),b=a.match(/([a-z])/gi).join("").toLowerCase());else isNaN(a)?Array.isArray(a)||a.length?(g=[a[0],a[1],a[2]],b="rgb",s=a.length===4?a[3]:1):a instanceof Object&&(a.r!=null||a.red!=null||a.R!=null?(b="rgb",g=[a.r||a.red||a.R||0,a.g||a.green||a.G||0,a.b||a.blue||a.B||0]):(b="hsl",g=[a.h||a.hue||a.H||0,a.s||a.saturation||a.S||0,a.l||a.lightness||a.L||a.b||a.brightness]),s=a.a||a.alpha||a.opacity||1,a.opacity!=null&&(s/=100)):(b="rgb",g=[a>>>16,(65280&a)>>>8,255&a]);return{space:b,values:g,alpha:s}};var k={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},53576:function(ee,D,e){var M=e(19336);ee.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(k){var a,T,b,g,s,t=k[0]/360,i=k[1]/100,r=k[2]/100;if(i===0)return[s=255*r,s,s];a=2*r-(T=r<.5?r*(1+i):r+i-r*i),g=[0,0,0];for(var n=0;n<3;n++)(b=t+.3333333333333333*-(n-1))<0?b++:b>1&&b--,s=6*b<1?a+6*(T-a)*b:2*b<1?T:3*b<2?a+(T-a)*(.6666666666666666-b)*6:a,g[n]=255*s;return g}},M.hsl=function(k){var a,T,b=k[0]/255,g=k[1]/255,s=k[2]/255,t=Math.min(b,g,s),i=Math.max(b,g,s),r=i-t;return i===t?a=0:b===i?a=(g-s)/r:g===i?a=2+(s-b)/r:s===i&&(a=4+(b-g)/r),(a=Math.min(60*a,360))<0&&(a+=360),T=(t+i)/2,[a,100*(i===t?0:T<=.5?r/(i+t):r/(2-i-t)),100*T]}},19336:function(ee){ee.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(ee){ee.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(ee,D,e){ee.exports={parse:e(46416),stringify:e(49395)}},8744:function(ee,D,e){var M=e(30584);ee.exports={isSize:function(k){return/^[\d\.]/.test(k)||k.indexOf("/")!==-1||M.indexOf(k)!==-1}}},46416:function(ee,D,e){var M=e(92384),k=e(68194),a=e(3748),T=e(2904),b=e(47916),g=e(7294),s=e(39956),t=e(8744).isSize;ee.exports=r;var i=r.cache={};function r(o){if(typeof o!="string")throw new Error("Font argument must be a string.");if(i[o])return i[o];if(o==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(o)!==-1)return i[o]={system:o};for(var l,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},d=s(o,/\s+/);l=d.shift();){if(k.indexOf(l)!==-1)return["style","variant","weight","stretch"].forEach(function(m){u[m]=l}),i[o]=u;if(b.indexOf(l)===-1)if(l!=="normal"&&l!=="small-caps")if(g.indexOf(l)===-1){if(T.indexOf(l)===-1){if(t(l)){var c=s(l,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=n(c[1]):d[0]==="/"&&(d.shift(),u.lineHeight=n(d.shift())),!d.length)throw new Error("Missing required font-family.");return u.family=s(d.join(" "),/\s*,\s*/).map(M),i[o]=u}throw new Error("Unknown or unsupported font token: "+l)}u.weight=l}else u.stretch=l;else u.variant=l;else u.style=l}throw new Error("Missing required font-size.")}function n(o){var l=parseFloat(o);return l.toString()===o?l:o}},49395:function(ee,D,e){var M=e(55616),k=e(8744).isSize,a=o(e(68194)),T=o(e(3748)),b=o(e(2904)),g=o(e(47916)),s=o(e(7294)),t={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},r="serif";function n(l,u){if(l&&!u[l]&&!a[l])throw Error("Unknown keyword `"+l+"`");return l}function o(l){for(var u={},d=0;d<l.length;d++)u[l[d]]=1;return u}ee.exports=function(l){if((l=M(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return l.system&&n(l.system,T),l.system;if(n(l.style,g),n(l.variant,t),n(l.weight,b),n(l.stretch,s),l.size==null&&(l.size="1rem"),typeof l.size=="number"&&(l.size+="px"),!k)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=r),Array.isArray(l.family)&&(l.family.length||(l.family=[r]),l.family=l.family.map(function(d){return i[d]?d:'"'+d+'"'}).join(", "));var u=[];return u.push(l.style),l.variant!==l.style&&u.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&u.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&u.push(l.stretch),u.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),u.push(l.family),u.filter(Boolean).join(" ")}},27940:function(ee,D,e){var M,k=e(81680),a=e(18496),T=e(87396),b=e(95920),g=e(50868),s=e(84323),t=Function.prototype.bind,i=Object.defineProperty,r=Object.prototype.hasOwnProperty;M=function(n,o,l){var u,d=a(o)&&T(o.value);return delete(u=b(o)).writable,delete u.value,u.get=function(){return!l.overwriteDefinition&&r.call(this,n)?d:(o.value=t.call(d,l.resolveContext?l.resolveContext(this):this),i(this,n,o),this[n])},u},ee.exports=function(n){var o=g(arguments[1]);return k(o.resolveContext)&&T(o.resolveContext),s(n,function(l,u){return M(u,l,o)})}},21092:function(ee,D,e){var M=e(81680),k=e(85488),a=e(38452),T=e(50868),b=e(71056),g=ee.exports=function(s,t){var i,r,n,o,l;return arguments.length<2||typeof s!="string"?(o=t,t=s,s=null):o=arguments[2],M(s)?(i=b.call(s,"c"),r=b.call(s,"e"),n=b.call(s,"w")):(i=n=!0,r=!1),l={value:t,configurable:i,enumerable:r,writable:n},o?a(T(o),l):l};g.gs=function(s,t,i){var r,n,o,l;return typeof s!="string"?(o=i,i=t,t=s,s=null):o=arguments[3],M(t)?k(t)?M(i)?k(i)||(o=i,i=void 0):i=void 0:(o=t,t=i=void 0):t=void 0,M(s)?(r=b.call(s,"c"),n=b.call(s,"e")):(r=!0,n=!1),l={get:t,set:i,configurable:r,enumerable:n},o?a(T(o),l):l}},84706:function(ee,D,e){function M(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}e.d(D,{XE:function(){return M},kv:function(){return T},mo:function(){return g},Uf:function(){return s},SY:function(){return t},ik:function(){return i},oh:function(){return r}}),(k=M).length===1&&(a=k,k=function(n,o){return M(a(n),o)});var k,a;function T(n,o){var l,u,d=n.length,c=-1;if(o==null){for(;++c<d;)if((l=n[c])!=null&&l>=l)for(u=l;++c<d;)(l=n[c])!=null&&l>u&&(u=l)}else for(;++c<d;)if((l=o(n[c],c,n))!=null&&l>=l)for(u=l;++c<d;)(l=o(n[c],c,n))!=null&&l>u&&(u=l);return u}function b(n){return n===null?NaN:+n}function g(n,o){var l,u=n.length,d=u,c=-1,m=0;if(o==null)for(;++c<u;)isNaN(l=b(n[c]))?--d:m+=l;else for(;++c<u;)isNaN(l=b(o(n[c],c,n)))?--d:m+=l;if(d)return m/d}function s(n){for(var o,l,u,d=n.length,c=-1,m=0;++c<d;)m+=n[c].length;for(l=new Array(m);--d>=0;)for(o=(u=n[d]).length;--o>=0;)l[--m]=u[o];return l}function t(n,o){var l,u,d=n.length,c=-1;if(o==null){for(;++c<d;)if((l=n[c])!=null&&l>=l)for(u=l;++c<d;)(l=n[c])!=null&&u>l&&(u=l)}else for(;++c<d;)if((l=o(n[c],c,n))!=null&&l>=l)for(u=l;++c<d;)(l=o(n[c],c,n))!=null&&u>l&&(u=l);return u}function i(n,o,l){n=+n,o=+o,l=(d=arguments.length)<2?(o=n,n=0,1):d<3?1:+l;for(var u=-1,d=0|Math.max(0,Math.ceil((o-n)/l)),c=new Array(d);++u<d;)c[u]=n+u*l;return c}function r(n,o){var l,u=n.length,d=-1,c=0;if(o==null)for(;++d<u;)(l=+n[d])&&(c+=l);else for(;++d<u;)(l=+o(n[d],d,n))&&(c+=l);return c}},34712:function(ee,D,e){e.d(D,{kH:function(){return T},UJ:function(){return b}});var M="$";function k(){}function a(o,l){var u=new k;if(o instanceof k)o.each(function(p,v){u.set(v,p)});else if(Array.isArray(o)){var d,c=-1,m=o.length;if(l==null)for(;++c<m;)u.set(c,o[c]);else for(;++c<m;)u.set(l(d=o[c],c,o),d)}else if(o)for(var f in o)u.set(f,o[f]);return u}k.prototype=a.prototype={constructor:k,has:function(o){return M+o in this},get:function(o){return this[M+o]},set:function(o,l){return this[M+o]=l,this},remove:function(o){var l=M+o;return l in this&&delete this[l]},clear:function(){for(var o in this)o[0]===M&&delete this[o]},keys:function(){var o=[];for(var l in this)l[0]===M&&o.push(l.slice(1));return o},values:function(){var o=[];for(var l in this)l[0]===M&&o.push(this[l]);return o},entries:function(){var o=[];for(var l in this)l[0]===M&&o.push({key:l.slice(1),value:this[l]});return o},size:function(){var o=0;for(var l in this)l[0]===M&&++o;return o},empty:function(){for(var o in this)if(o[0]===M)return!1;return!0},each:function(o){for(var l in this)l[0]===M&&o(this[l],l.slice(1),this)}};var T=a;function b(){var o,l,u,d=[],c=[];function m(p,v,y,x){if(v>=d.length)return o!=null&&p.sort(o),l!=null?l(p):p;for(var _,h,S,w=-1,E=p.length,C=d[v++],P=T(),O=y();++w<E;)(S=P.get(_=C(h=p[w])+""))?S.push(h):P.set(_,[h]);return P.each(function(R,U){x(O,U,m(R,v,y,x))}),O}function f(p,v){if(++v>d.length)return p;var y,x=c[v-1];return l!=null&&v>=d.length?y=p.entries():(y=[],p.each(function(_,h){y.push({key:h,values:f(_,v)})})),x!=null?y.sort(function(_,h){return x(_.key,h.key)}):y}return u={object:function(p){return m(p,0,g,s)},map:function(p){return m(p,0,t,i)},entries:function(p){return f(m(p,0,t,i),0)},key:function(p){return d.push(p),u},sortKeys:function(p){return c[d.length-1]=p,u},sortValues:function(p){return o=p,u},rollup:function(p){return l=p,u}}}function g(){return{}}function s(o,l,u){o[l]=u}function t(){return T()}function i(o,l,u){o.set(l,u)}function r(){}var n=T.prototype;r.prototype={constructor:r,has:n.has,add:function(o){return this[M+(o+="")]=o,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(ee,D,e){function M(be,me){var ge;function ke(){var we,ue,oe=ge.length,he=0,Ee=0;for(we=0;we<oe;++we)he+=(ue=ge[we]).x,Ee+=ue.y;for(he=he/oe-be,Ee=Ee/oe-me,we=0;we<oe;++we)(ue=ge[we]).x-=he,ue.y-=Ee}return be==null&&(be=0),me==null&&(me=0),ke.initialize=function(we){ge=we},ke.x=function(we){return arguments.length?(be=+we,ke):be},ke.y=function(we){return arguments.length?(me=+we,ke):me},ke}function k(be){return function(){return be}}function a(){return 1e-6*(Math.random()-.5)}function T(be,me,ge,ke){if(isNaN(me)||isNaN(ge))return be;var we,ue,oe,he,Ee,Te,Me,Se,ze,fe=be._root,xe={data:ke},_e=be._x0,Oe=be._y0,De=be._x1,Pe=be._y1;if(!fe)return be._root=xe,be;for(;fe.length;)if((Te=me>=(ue=(_e+De)/2))?_e=ue:De=ue,(Me=ge>=(oe=(Oe+Pe)/2))?Oe=oe:Pe=oe,we=fe,!(fe=fe[Se=Me<<1|Te]))return we[Se]=xe,be;if(he=+be._x.call(null,fe.data),Ee=+be._y.call(null,fe.data),me===he&&ge===Ee)return xe.next=fe,we?we[Se]=xe:be._root=xe,be;do we=we?we[Se]=new Array(4):be._root=new Array(4),(Te=me>=(ue=(_e+De)/2))?_e=ue:De=ue,(Me=ge>=(oe=(Oe+Pe)/2))?Oe=oe:Pe=oe;while((Se=Me<<1|Te)==(ze=(Ee>=oe)<<1|he>=ue));return we[ze]=fe,we[Se]=xe,be}function b(be,me,ge,ke,we){this.node=be,this.x0=me,this.y0=ge,this.x1=ke,this.y1=we}function g(be){return be[0]}function s(be){return be[1]}function t(be,me,ge){var ke=new i(me??g,ge??s,NaN,NaN,NaN,NaN);return be==null?ke:ke.addAll(be)}function i(be,me,ge,ke,we,ue){this._x=be,this._y=me,this._x0=ge,this._y0=ke,this._x1=we,this._y1=ue,this._root=void 0}function r(be){for(var me={data:be.data},ge=me;be=be.next;)ge=ge.next={data:be.data};return me}e.r(D),e.d(D,{forceCenter:function(){return M},forceCollide:function(){return u},forceLink:function(){return f},forceManyBody:function(){return le},forceRadial:function(){return pe},forceSimulation:function(){return ie},forceX:function(){return de},forceY:function(){return ve}});var n=t.prototype=i.prototype;function o(be){return be.x+be.vx}function l(be){return be.y+be.vy}function u(be){var me,ge,ke=1,we=1;function ue(){for(var Ee,Te,Me,Se,ze,fe,xe,_e=me.length,Oe=0;Oe<we;++Oe)for(Te=t(me,o,l).visitAfter(oe),Ee=0;Ee<_e;++Ee)Me=me[Ee],fe=ge[Me.index],xe=fe*fe,Se=Me.x+Me.vx,ze=Me.y+Me.vy,Te.visit(De);function De(Pe,Ue,Ve,Xe,it){var tt=Pe.data,pt=Pe.r,mt=fe+pt;if(!tt)return Ue>Se+mt||Xe<Se-mt||Ve>ze+mt||it<ze-mt;if(tt.index>Me.index){var gt=Se-tt.x-tt.vx,et=ze-tt.y-tt.vy,$e=gt*gt+et*et;$e<mt*mt&&(gt===0&&($e+=(gt=a())*gt),et===0&&($e+=(et=a())*et),$e=(mt-($e=Math.sqrt($e)))/$e*ke,Me.vx+=(gt*=$e)*(mt=(pt*=pt)/(xe+pt)),Me.vy+=(et*=$e)*mt,tt.vx-=gt*(mt=1-mt),tt.vy-=et*mt)}}}function oe(Ee){if(Ee.data)return Ee.r=ge[Ee.data.index];for(var Te=Ee.r=0;Te<4;++Te)Ee[Te]&&Ee[Te].r>Ee.r&&(Ee.r=Ee[Te].r)}function he(){if(me){var Ee,Te,Me=me.length;for(ge=new Array(Me),Ee=0;Ee<Me;++Ee)Te=me[Ee],ge[Te.index]=+be(Te,Ee,me)}}return typeof be!="function"&&(be=k(be==null?1:+be)),ue.initialize=function(Ee){me=Ee,he()},ue.iterations=function(Ee){return arguments.length?(we=+Ee,ue):we},ue.strength=function(Ee){return arguments.length?(ke=+Ee,ue):ke},ue.radius=function(Ee){return arguments.length?(be=typeof Ee=="function"?Ee:k(+Ee),he(),ue):be},ue}n.copy=function(){var be,me,ge=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ke=this._root;if(!ke)return ge;if(!ke.length)return ge._root=r(ke),ge;for(be=[{source:ke,target:ge._root=new Array(4)}];ke=be.pop();)for(var we=0;we<4;++we)(me=ke.source[we])&&(me.length?be.push({source:me,target:ke.target[we]=new Array(4)}):ke.target[we]=r(me));return ge},n.add=function(be){var me=+this._x.call(null,be),ge=+this._y.call(null,be);return T(this.cover(me,ge),me,ge,be)},n.addAll=function(be){var me,ge,ke,we,ue=be.length,oe=new Array(ue),he=new Array(ue),Ee=1/0,Te=1/0,Me=-1/0,Se=-1/0;for(ge=0;ge<ue;++ge)isNaN(ke=+this._x.call(null,me=be[ge]))||isNaN(we=+this._y.call(null,me))||(oe[ge]=ke,he[ge]=we,ke<Ee&&(Ee=ke),ke>Me&&(Me=ke),we<Te&&(Te=we),we>Se&&(Se=we));if(Ee>Me||Te>Se)return this;for(this.cover(Ee,Te).cover(Me,Se),ge=0;ge<ue;++ge)T(this,oe[ge],he[ge],be[ge]);return this},n.cover=function(be,me){if(isNaN(be=+be)||isNaN(me=+me))return this;var ge=this._x0,ke=this._y0,we=this._x1,ue=this._y1;if(isNaN(ge))we=(ge=Math.floor(be))+1,ue=(ke=Math.floor(me))+1;else{for(var oe,he,Ee=we-ge,Te=this._root;ge>be||be>=we||ke>me||me>=ue;)switch(he=(me<ke)<<1|be<ge,(oe=new Array(4))[he]=Te,Te=oe,Ee*=2,he){case 0:we=ge+Ee,ue=ke+Ee;break;case 1:ge=we-Ee,ue=ke+Ee;break;case 2:we=ge+Ee,ke=ue-Ee;break;case 3:ge=we-Ee,ke=ue-Ee}this._root&&this._root.length&&(this._root=Te)}return this._x0=ge,this._y0=ke,this._x1=we,this._y1=ue,this},n.data=function(){var be=[];return this.visit(function(me){if(!me.length)do be.push(me.data);while(me=me.next)}),be},n.extent=function(be){return arguments.length?this.cover(+be[0][0],+be[0][1]).cover(+be[1][0],+be[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n.find=function(be,me,ge){var ke,we,ue,oe,he,Ee,Te,Me=this._x0,Se=this._y0,ze=this._x1,fe=this._y1,xe=[],_e=this._root;for(_e&&xe.push(new b(_e,Me,Se,ze,fe)),ge==null?ge=1/0:(Me=be-ge,Se=me-ge,ze=be+ge,fe=me+ge,ge*=ge);Ee=xe.pop();)if(!(!(_e=Ee.node)||(we=Ee.x0)>ze||(ue=Ee.y0)>fe||(oe=Ee.x1)<Me||(he=Ee.y1)<Se))if(_e.length){var Oe=(we+oe)/2,De=(ue+he)/2;xe.push(new b(_e[3],Oe,De,oe,he),new b(_e[2],we,De,Oe,he),new b(_e[1],Oe,ue,oe,De),new b(_e[0],we,ue,Oe,De)),(Te=(me>=De)<<1|be>=Oe)&&(Ee=xe[xe.length-1],xe[xe.length-1]=xe[xe.length-1-Te],xe[xe.length-1-Te]=Ee)}else{var Pe=be-+this._x.call(null,_e.data),Ue=me-+this._y.call(null,_e.data),Ve=Pe*Pe+Ue*Ue;if(Ve<ge){var Xe=Math.sqrt(ge=Ve);Me=be-Xe,Se=me-Xe,ze=be+Xe,fe=me+Xe,ke=_e.data}}return ke},n.remove=function(be){if(isNaN(ue=+this._x.call(null,be))||isNaN(oe=+this._y.call(null,be)))return this;var me,ge,ke,we,ue,oe,he,Ee,Te,Me,Se,ze,fe=this._root,xe=this._x0,_e=this._y0,Oe=this._x1,De=this._y1;if(!fe)return this;if(fe.length)for(;;){if((Te=ue>=(he=(xe+Oe)/2))?xe=he:Oe=he,(Me=oe>=(Ee=(_e+De)/2))?_e=Ee:De=Ee,me=fe,!(fe=fe[Se=Me<<1|Te]))return this;if(!fe.length)break;(me[Se+1&3]||me[Se+2&3]||me[Se+3&3])&&(ge=me,ze=Se)}for(;fe.data!==be;)if(ke=fe,!(fe=fe.next))return this;return(we=fe.next)&&delete fe.next,ke?(we?ke.next=we:delete ke.next,this):me?(we?me[Se]=we:delete me[Se],(fe=me[0]||me[1]||me[2]||me[3])&&fe===(me[3]||me[2]||me[1]||me[0])&&!fe.length&&(ge?ge[ze]=fe:this._root=fe),this):(this._root=we,this)},n.removeAll=function(be){for(var me=0,ge=be.length;me<ge;++me)this.remove(be[me]);return this},n.root=function(){return this._root},n.size=function(){var be=0;return this.visit(function(me){if(!me.length)do++be;while(me=me.next)}),be},n.visit=function(be){var me,ge,ke,we,ue,oe,he=[],Ee=this._root;for(Ee&&he.push(new b(Ee,this._x0,this._y0,this._x1,this._y1));me=he.pop();)if(!be(Ee=me.node,ke=me.x0,we=me.y0,ue=me.x1,oe=me.y1)&&Ee.length){var Te=(ke+ue)/2,Me=(we+oe)/2;(ge=Ee[3])&&he.push(new b(ge,Te,Me,ue,oe)),(ge=Ee[2])&&he.push(new b(ge,ke,Me,Te,oe)),(ge=Ee[1])&&he.push(new b(ge,Te,we,ue,Me)),(ge=Ee[0])&&he.push(new b(ge,ke,we,Te,Me))}return this},n.visitAfter=function(be){var me,ge=[],ke=[];for(this._root&&ge.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));me=ge.pop();){var we=me.node;if(we.length){var ue,oe=me.x0,he=me.y0,Ee=me.x1,Te=me.y1,Me=(oe+Ee)/2,Se=(he+Te)/2;(ue=we[0])&&ge.push(new b(ue,oe,he,Me,Se)),(ue=we[1])&&ge.push(new b(ue,Me,he,Ee,Se)),(ue=we[2])&&ge.push(new b(ue,oe,Se,Me,Te)),(ue=we[3])&&ge.push(new b(ue,Me,Se,Ee,Te))}ke.push(me)}for(;me=ke.pop();)be(me.node,me.x0,me.y0,me.x1,me.y1);return this},n.x=function(be){return arguments.length?(this._x=be,this):this._x},n.y=function(be){return arguments.length?(this._y=be,this):this._y};var d=e(34712);function c(be){return be.index}function m(be,me){var ge=be.get(me);if(!ge)throw new Error("missing: "+me);return ge}function f(be){var me,ge,ke,we,ue,oe=c,he=function(xe){return 1/Math.min(we[xe.source.index],we[xe.target.index])},Ee=k(30),Te=1;function Me(xe){for(var _e=0,Oe=be.length;_e<Te;++_e)for(var De,Pe,Ue,Ve,Xe,it,tt,pt=0;pt<Oe;++pt)Pe=(De=be[pt]).source,Ve=(Ue=De.target).x+Ue.vx-Pe.x-Pe.vx||a(),Xe=Ue.y+Ue.vy-Pe.y-Pe.vy||a(),Ve*=it=((it=Math.sqrt(Ve*Ve+Xe*Xe))-ge[pt])/it*xe*me[pt],Xe*=it,Ue.vx-=Ve*(tt=ue[pt]),Ue.vy-=Xe*tt,Pe.vx+=Ve*(tt=1-tt),Pe.vy+=Xe*tt}function Se(){if(ke){var xe,_e,Oe=ke.length,De=be.length,Pe=(0,d.kH)(ke,oe);for(xe=0,we=new Array(Oe);xe<De;++xe)(_e=be[xe]).index=xe,typeof _e.source!="object"&&(_e.source=m(Pe,_e.source)),typeof _e.target!="object"&&(_e.target=m(Pe,_e.target)),we[_e.source.index]=(we[_e.source.index]||0)+1,we[_e.target.index]=(we[_e.target.index]||0)+1;for(xe=0,ue=new Array(De);xe<De;++xe)_e=be[xe],ue[xe]=we[_e.source.index]/(we[_e.source.index]+we[_e.target.index]);me=new Array(De),ze(),ge=new Array(De),fe()}}function ze(){if(ke)for(var xe=0,_e=be.length;xe<_e;++xe)me[xe]=+he(be[xe],xe,be)}function fe(){if(ke)for(var xe=0,_e=be.length;xe<_e;++xe)ge[xe]=+Ee(be[xe],xe,be)}return be==null&&(be=[]),Me.initialize=function(xe){ke=xe,Se()},Me.links=function(xe){return arguments.length?(be=xe,Se(),Me):be},Me.id=function(xe){return arguments.length?(oe=xe,Me):oe},Me.iterations=function(xe){return arguments.length?(Te=+xe,Me):Te},Me.strength=function(xe){return arguments.length?(he=typeof xe=="function"?xe:k(+xe),ze(),Me):he},Me.distance=function(xe){return arguments.length?(Ee=typeof xe=="function"?xe:k(+xe),fe(),Me):Ee},Me}var p={value:function(){}};function v(){for(var be,me=0,ge=arguments.length,ke={};me<ge;++me){if(!(be=arguments[me]+"")||be in ke||/[\s.]/.test(be))throw new Error("illegal type: "+be);ke[be]=[]}return new y(ke)}function y(be){this._=be}function x(be,me){for(var ge,ke=0,we=be.length;ke<we;++ke)if((ge=be[ke]).name===me)return ge.value}function _(be,me,ge){for(var ke=0,we=be.length;ke<we;++ke)if(be[ke].name===me){be[ke]=p,be=be.slice(0,ke).concat(be.slice(ke+1));break}return ge!=null&&be.push({name:me,value:ge}),be}y.prototype=v.prototype={constructor:y,on:function(be,me){var ge,ke,we=this._,ue=(ke=we,(be+"").trim().split(/^|\s+/).map(function(Ee){var Te="",Me=Ee.indexOf(".");if(Me>=0&&(Te=Ee.slice(Me+1),Ee=Ee.slice(0,Me)),Ee&&!ke.hasOwnProperty(Ee))throw new Error("unknown type: "+Ee);return{type:Ee,name:Te}})),oe=-1,he=ue.length;if(!(arguments.length<2)){if(me!=null&&typeof me!="function")throw new Error("invalid callback: "+me);for(;++oe<he;)if(ge=(be=ue[oe]).type)we[ge]=_(we[ge],be.name,me);else if(me==null)for(ge in we)we[ge]=_(we[ge],be.name,null);return this}for(;++oe<he;)if((ge=(be=ue[oe]).type)&&(ge=x(we[ge],be.name)))return ge},copy:function(){var be={},me=this._;for(var ge in me)be[ge]=me[ge].slice();return new y(be)},call:function(be,me){if((ge=arguments.length-2)>0)for(var ge,ke,we=new Array(ge),ue=0;ue<ge;++ue)we[ue]=arguments[ue+2];if(!this._.hasOwnProperty(be))throw new Error("unknown type: "+be);for(ue=0,ge=(ke=this._[be]).length;ue<ge;++ue)ke[ue].value.apply(me,we)},apply:function(be,me,ge){if(!this._.hasOwnProperty(be))throw new Error("unknown type: "+be);for(var ke=this._[be],we=0,ue=ke.length;we<ue;++we)ke[we].value.apply(me,ge)}};var h,S,w=v,E=0,C=0,P=0,O=1e3,R=0,U=0,z=0,N=typeof performance=="object"&&performance.now?performance:Date,W=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(be){setTimeout(be,17)};function F(){return U||(W(V),U=N.now()+z)}function V(){U=0}function j(){this._call=this._time=this._next=null}function te(be,me,ge){var ke=new j;return ke.restart(be,me,ge),ke}function J(){U=(R=N.now())+z,E=C=0;try{(function(){F(),++E;for(var be,me=h;me;)(be=U-me._time)>=0&&me._call.call(null,be),me=me._next;--E})()}finally{E=0,function(){for(var be,me,ge=h,ke=1/0;ge;)ge._call?(ke>ge._time&&(ke=ge._time),be=ge,ge=ge._next):(me=ge._next,ge._next=null,ge=be?be._next=me:h=me);S=be,Z(ke)}(),U=0}}function K(){var be=N.now(),me=be-R;me>O&&(z-=me,R=be)}function Z(be){E||(C&&(C=clearTimeout(C)),be-U>24?(be<1/0&&(C=setTimeout(J,be-N.now()-z)),P&&(P=clearInterval(P))):(P||(R=N.now(),P=setInterval(K,O)),E=1,W(J)))}function X(be){return be.x}function Q(be){return be.y}j.prototype=te.prototype={constructor:j,restart:function(be,me,ge){if(typeof be!="function")throw new TypeError("callback is not a function");ge=(ge==null?F():+ge)+(me==null?0:+me),this._next||S===this||(S?S._next=this:h=this,S=this),this._call=be,this._time=ge,Z()},stop:function(){this._call&&(this._call=null,this._time=1/0,Z())}};var re=10,ae=Math.PI*(3-Math.sqrt(5));function ie(be){var me,ge=1,ke=.001,we=1-Math.pow(ke,1/300),ue=0,oe=.6,he=(0,d.kH)(),Ee=te(Me),Te=w("tick","end");function Me(){Se(),Te.call("tick",me),ge<ke&&(Ee.stop(),Te.call("end",me))}function Se(xe){var _e,Oe,De=be.length;xe===void 0&&(xe=1);for(var Pe=0;Pe<xe;++Pe)for(ge+=(ue-ge)*we,he.each(function(Ue){Ue(ge)}),_e=0;_e<De;++_e)(Oe=be[_e]).fx==null?Oe.x+=Oe.vx*=oe:(Oe.x=Oe.fx,Oe.vx=0),Oe.fy==null?Oe.y+=Oe.vy*=oe:(Oe.y=Oe.fy,Oe.vy=0);return me}function ze(){for(var xe,_e=0,Oe=be.length;_e<Oe;++_e){if((xe=be[_e]).index=_e,xe.fx!=null&&(xe.x=xe.fx),xe.fy!=null&&(xe.y=xe.fy),isNaN(xe.x)||isNaN(xe.y)){var De=re*Math.sqrt(_e),Pe=_e*ae;xe.x=De*Math.cos(Pe),xe.y=De*Math.sin(Pe)}(isNaN(xe.vx)||isNaN(xe.vy))&&(xe.vx=xe.vy=0)}}function fe(xe){return xe.initialize&&xe.initialize(be),xe}return be==null&&(be=[]),ze(),me={tick:Se,restart:function(){return Ee.restart(Me),me},stop:function(){return Ee.stop(),me},nodes:function(xe){return arguments.length?(be=xe,ze(),he.each(fe),me):be},alpha:function(xe){return arguments.length?(ge=+xe,me):ge},alphaMin:function(xe){return arguments.length?(ke=+xe,me):ke},alphaDecay:function(xe){return arguments.length?(we=+xe,me):+we},alphaTarget:function(xe){return arguments.length?(ue=+xe,me):ue},velocityDecay:function(xe){return arguments.length?(oe=1-xe,me):1-oe},force:function(xe,_e){return arguments.length>1?(_e==null?he.remove(xe):he.set(xe,fe(_e)),me):he.get(xe)},find:function(xe,_e,Oe){var De,Pe,Ue,Ve,Xe,it=0,tt=be.length;for(Oe==null?Oe=1/0:Oe*=Oe,it=0;it<tt;++it)(Ue=(De=xe-(Ve=be[it]).x)*De+(Pe=_e-Ve.y)*Pe)<Oe&&(Xe=Ve,Oe=Ue);return Xe},on:function(xe,_e){return arguments.length>1?(Te.on(xe,_e),me):Te.on(xe)}}}function le(){var be,me,ge,ke,we=k(-30),ue=1,oe=1/0,he=.81;function Ee(ze){var fe,xe=be.length,_e=t(be,X,Q).visitAfter(Me);for(ge=ze,fe=0;fe<xe;++fe)me=be[fe],_e.visit(Se)}function Te(){if(be){var ze,fe,xe=be.length;for(ke=new Array(xe),ze=0;ze<xe;++ze)fe=be[ze],ke[fe.index]=+we(fe,ze,be)}}function Me(ze){var fe,xe,_e,Oe,De,Pe=0,Ue=0;if(ze.length){for(_e=Oe=De=0;De<4;++De)(fe=ze[De])&&(xe=Math.abs(fe.value))&&(Pe+=fe.value,Ue+=xe,_e+=xe*fe.x,Oe+=xe*fe.y);ze.x=_e/Ue,ze.y=Oe/Ue}else{(fe=ze).x=fe.data.x,fe.y=fe.data.y;do Pe+=ke[fe.data.index];while(fe=fe.next)}ze.value=Pe}function Se(ze,fe,xe,_e){if(!ze.value)return!0;var Oe=ze.x-me.x,De=ze.y-me.y,Pe=_e-fe,Ue=Oe*Oe+De*De;if(Pe*Pe/he<Ue)return Ue<oe&&(Oe===0&&(Ue+=(Oe=a())*Oe),De===0&&(Ue+=(De=a())*De),Ue<ue&&(Ue=Math.sqrt(ue*Ue)),me.vx+=Oe*ze.value*ge/Ue,me.vy+=De*ze.value*ge/Ue),!0;if(!(ze.length||Ue>=oe)){(ze.data!==me||ze.next)&&(Oe===0&&(Ue+=(Oe=a())*Oe),De===0&&(Ue+=(De=a())*De),Ue<ue&&(Ue=Math.sqrt(ue*Ue)));do ze.data!==me&&(Pe=ke[ze.data.index]*ge/Ue,me.vx+=Oe*Pe,me.vy+=De*Pe);while(ze=ze.next)}}return Ee.initialize=function(ze){be=ze,Te()},Ee.strength=function(ze){return arguments.length?(we=typeof ze=="function"?ze:k(+ze),Te(),Ee):we},Ee.distanceMin=function(ze){return arguments.length?(ue=ze*ze,Ee):Math.sqrt(ue)},Ee.distanceMax=function(ze){return arguments.length?(oe=ze*ze,Ee):Math.sqrt(oe)},Ee.theta=function(ze){return arguments.length?(he=ze*ze,Ee):Math.sqrt(he)},Ee}function pe(be,me,ge){var ke,we,ue,oe=k(.1);function he(Te){for(var Me=0,Se=ke.length;Me<Se;++Me){var ze=ke[Me],fe=ze.x-me||1e-6,xe=ze.y-ge||1e-6,_e=Math.sqrt(fe*fe+xe*xe),Oe=(ue[Me]-_e)*we[Me]*Te/_e;ze.vx+=fe*Oe,ze.vy+=xe*Oe}}function Ee(){if(ke){var Te,Me=ke.length;for(we=new Array(Me),ue=new Array(Me),Te=0;Te<Me;++Te)ue[Te]=+be(ke[Te],Te,ke),we[Te]=isNaN(ue[Te])?0:+oe(ke[Te],Te,ke)}}return typeof be!="function"&&(be=k(+be)),me==null&&(me=0),ge==null&&(ge=0),he.initialize=function(Te){ke=Te,Ee()},he.strength=function(Te){return arguments.length?(oe=typeof Te=="function"?Te:k(+Te),Ee(),he):oe},he.radius=function(Te){return arguments.length?(be=typeof Te=="function"?Te:k(+Te),Ee(),he):be},he.x=function(Te){return arguments.length?(me=+Te,he):me},he.y=function(Te){return arguments.length?(ge=+Te,he):ge},he}function de(be){var me,ge,ke,we=k(.1);function ue(he){for(var Ee,Te=0,Me=me.length;Te<Me;++Te)(Ee=me[Te]).vx+=(ke[Te]-Ee.x)*ge[Te]*he}function oe(){if(me){var he,Ee=me.length;for(ge=new Array(Ee),ke=new Array(Ee),he=0;he<Ee;++he)ge[he]=isNaN(ke[he]=+be(me[he],he,me))?0:+we(me[he],he,me)}}return typeof be!="function"&&(be=k(be==null?0:+be)),ue.initialize=function(he){me=he,oe()},ue.strength=function(he){return arguments.length?(we=typeof he=="function"?he:k(+he),oe(),ue):we},ue.x=function(he){return arguments.length?(be=typeof he=="function"?he:k(+he),oe(),ue):be},ue}function ve(be){var me,ge,ke,we=k(.1);function ue(he){for(var Ee,Te=0,Me=me.length;Te<Me;++Te)(Ee=me[Te]).vy+=(ke[Te]-Ee.y)*ge[Te]*he}function oe(){if(me){var he,Ee=me.length;for(ge=new Array(Ee),ke=new Array(Ee),he=0;he<Ee;++he)ge[he]=isNaN(ke[he]=+be(me[he],he,me))?0:+we(me[he],he,me)}}return typeof be!="function"&&(be=k(be==null?0:+be)),ue.initialize=function(he){me=he,oe()},ue.strength=function(he){return arguments.length?(we=typeof he=="function"?he:k(+he),oe(),ue):we},ue.y=function(he){return arguments.length?(be=typeof he=="function"?he:k(+he),oe(),ue):be},ue}},57624:function(ee,D,e){function M(u,d){if((c=(u=d?u.toExponential(d-1):u.toExponential()).indexOf("e"))<0)return null;var c,m=u.slice(0,c);return[m.length>1?m[0]+m.slice(2):m,+u.slice(c+1)]}e.d(D,{E9:function(){return r},SO:function(){return l}});var k,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function T(u){if(!(d=a.exec(u)))throw new Error("invalid format: "+u);var d;return new b({fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:d[6],comma:d[7],precision:d[8]&&d[8].slice(1),trim:d[9],type:d[10]})}function b(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function g(u,d){var c=M(u,d);if(!c)return u+"";var m=c[0],f=c[1];return f<0?"0."+new Array(-f).join("0")+m:m.length>f+1?m.slice(0,f+1)+"."+m.slice(f+1):m+new Array(f-m.length+2).join("0")}T.prototype=b.prototype,b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(u,d){return(100*u).toFixed(d)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,d){return u.toExponential(d)},f:function(u,d){return u.toFixed(d)},g:function(u,d){return u.toPrecision(d)},o:function(u){return Math.round(u).toString(8)},p:function(u,d){return g(100*u,d)},r:g,s:function(u,d){var c=M(u,d);if(!c)return u+"";var m=c[0],f=c[1],p=f-(k=3*Math.max(-8,Math.min(8,Math.floor(f/3))))+1,v=m.length;return p===v?m:p>v?m+new Array(p-v+1).join("0"):p>0?m.slice(0,p)+"."+m.slice(p):"0."+new Array(1-p).join("0")+M(u,Math.max(0,d+p-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var i,r,n=Array.prototype.map,o=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function l(u){var d,c,m=u.grouping===void 0||u.thousands===void 0?t:(d=n.call(u.grouping,Number),c=u.thousands+"",function(w,E){for(var C=w.length,P=[],O=0,R=d[0],U=0;C>0&&R>0&&(U+R+1>E&&(R=Math.max(1,E-U)),P.push(w.substring(C-=R,C+R)),!((U+=R+1)>E));)R=d[O=(O+1)%d.length];return P.reverse().join(c)}),f=u.currency===void 0?"":u.currency[0]+"",p=u.currency===void 0?"":u.currency[1]+"",v=u.decimal===void 0?".":u.decimal+"",y=u.numerals===void 0?t:function(w){return function(E){return E.replace(/[0-9]/g,function(C){return w[+C]})}}(n.call(u.numerals,String)),x=u.percent===void 0?"%":u.percent+"",_=u.minus===void 0?"-":u.minus+"",h=u.nan===void 0?"NaN":u.nan+"";function S(w){var E=(w=T(w)).fill,C=w.align,P=w.sign,O=w.symbol,R=w.zero,U=w.width,z=w.comma,N=w.precision,W=w.trim,F=w.type;F==="n"?(z=!0,F="g"):s[F]||(N===void 0&&(N=12),W=!0,F="g"),(R||E==="0"&&C==="=")&&(R=!0,E="0",C="=");var V=O==="$"?f:O==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",j=O==="$"?p:/[%p]/.test(F)?x:"",te=s[F],J=/[defgprs%]/.test(F);function K(Z){var X,Q,re,ae=V,ie=j;if(F==="c")ie=te(Z)+ie,Z="";else{var le=(Z=+Z)<0||1/Z<0;if(Z=isNaN(Z)?h:te(Math.abs(Z),N),W&&(Z=function(ve){e:for(var be,me=ve.length,ge=1,ke=-1;ge<me;++ge)switch(ve[ge]){case".":ke=be=ge;break;case"0":ke===0&&(ke=ge),be=ge;break;default:if(!+ve[ge])break e;ke>0&&(ke=0)}return ke>0?ve.slice(0,ke)+ve.slice(be+1):ve}(Z)),le&&+Z==0&&P!=="+"&&(le=!1),ae=(le?P==="("?P:_:P==="-"||P==="("?"":P)+ae,ie=(F==="s"?o[8+k/3]:"")+ie+(le&&P==="("?")":""),J){for(X=-1,Q=Z.length;++X<Q;)if(48>(re=Z.charCodeAt(X))||re>57){ie=(re===46?v+Z.slice(X+1):Z.slice(X))+ie,Z=Z.slice(0,X);break}}}z&&!R&&(Z=m(Z,1/0));var pe=ae.length+Z.length+ie.length,de=pe<U?new Array(U-pe+1).join(E):"";switch(z&&R&&(Z=m(de+Z,de.length?U-ie.length:1/0),de=""),C){case"<":Z=ae+Z+ie+de;break;case"=":Z=ae+de+Z+ie;break;case"^":Z=de.slice(0,pe=de.length>>1)+ae+Z+ie+de.slice(pe);break;default:Z=de+ae+Z+ie}return y(Z)}return N=N===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N)),K.toString=function(){return w+""},K}return{format:S,formatPrefix:function(w,E){var C,P=S(((w=T(w)).type="f",w)),O=3*Math.max(-8,Math.min(8,Math.floor((C=E,((C=M(Math.abs(C)))?C[1]:NaN)/3)))),R=Math.pow(10,-O),U=o[8+O/3];return function(z){return P(R*z)+U}}}}i=l({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),r=i.format,i.formatPrefix},87108:function(ee,D,e){e.r(D),e.d(D,{geoAiry:function(){return z},geoAiryRaw:function(){return U},geoAitoff:function(){return W},geoAitoffRaw:function(){return N},geoArmadillo:function(){return V},geoArmadilloRaw:function(){return F},geoAugust:function(){return te},geoAugustRaw:function(){return j},geoBaker:function(){return X},geoBakerRaw:function(){return Z},geoBerghaus:function(){return ae},geoBerghausRaw:function(){return re},geoBertin1953:function(){return ge},geoBertin1953Raw:function(){return me},geoBoggs:function(){return Me},geoBoggsRaw:function(){return Te},geoBonne:function(){return _e},geoBonneRaw:function(){return xe},geoBottomley:function(){return De},geoBottomleyRaw:function(){return Oe},geoBromley:function(){return Ue},geoBromleyRaw:function(){return Pe},geoChamberlin:function(){return $e},geoChamberlinAfrica:function(){return et},geoChamberlinRaw:function(){return mt},geoCollignon:function(){return Pt},geoCollignonRaw:function(){return _t},geoCraig:function(){return Lt},geoCraigRaw:function(){return Ot},geoCraster:function(){return Be},geoCrasterRaw:function(){return We},geoCylindricalEqualArea:function(){return at},geoCylindricalEqualAreaRaw:function(){return Ge},geoCylindricalStereographic:function(){return Re},geoCylindricalStereographicRaw:function(){return nt},geoEckert1:function(){return rt},geoEckert1Raw:function(){return Fe},geoEckert2:function(){return ct},geoEckert2Raw:function(){return Ye},geoEckert3:function(){return dt},geoEckert3Raw:function(){return ht},geoEckert4:function(){return kt},geoEckert4Raw:function(){return ut},geoEckert5:function(){return vt},geoEckert5Raw:function(){return xt},geoEckert6:function(){return St},geoEckert6Raw:function(){return Mt},geoEisenlohr:function(){return en},geoEisenlohrRaw:function(){return Gt},geoFahey:function(){return Jt},geoFaheyRaw:function(){return jt},geoFoucaut:function(){return _n},geoFoucautRaw:function(){return An},geoFoucautSinusoidal:function(){return Wt},geoFoucautSinusoidalRaw:function(){return un},geoGilbert:function(){return wn},geoGingery:function(){return Nn},geoGingeryRaw:function(){return Pn},geoGinzburg4:function(){return nr},geoGinzburg4Raw:function(){return er},geoGinzburg5:function(){return Yn},geoGinzburg5Raw:function(){return ir},geoGinzburg6:function(){return Bt},geoGinzburg6Raw:function(){return mr},geoGinzburg8:function(){return vn},geoGinzburg8Raw:function(){return Qt},geoGinzburg9:function(){return Tn},geoGinzburg9Raw:function(){return fn},geoGringorten:function(){return Dn},geoGringortenQuincuncial:function(){return aa},geoGringortenRaw:function(){return On},geoGuyou:function(){return Et},geoGuyouRaw:function(){return hn},geoHammer:function(){return de},geoHammerRaw:function(){return le},geoHammerRetroazimuthal:function(){return pn},geoHammerRetroazimuthalRaw:function(){return Kt},geoHealpix:function(){return Fn},geoHealpixRaw:function(){return nn},geoHill:function(){return Zn},geoHillRaw:function(){return Bn},geoHomolosine:function(){return ar},geoHomolosineRaw:function(){return fr},geoHufnagel:function(){return tr},geoHufnagelRaw:function(){return lr},geoHyperelliptical:function(){return ri},geoHyperellipticalRaw:function(){return Or},geoInterrupt:function(){return ei},geoInterruptedBoggs:function(){return ra},geoInterruptedHomolosine:function(){return Bo},geoInterruptedMollweide:function(){return ms},geoInterruptedMollweideHemispheres:function(){return Rs},geoInterruptedQuarticAuthalic:function(){return Al},geoInterruptedSinuMollweide:function(){return Fs},geoInterruptedSinusoidal:function(){return Ns},geoKavrayskiy7:function(){return xo},geoKavrayskiy7Raw:function(){return io},geoLagrange:function(){return fi},geoLagrangeRaw:function(){return No},geoLarrivee:function(){return Ya},geoLarriveeRaw:function(){return ao},geoLaskowski:function(){return bo},geoLaskowskiRaw:function(){return Da},geoLittrow:function(){return _o},geoLittrowRaw:function(){return Za},geoLoximuthal:function(){return wo},geoLoximuthalRaw:function(){return oo},geoMiller:function(){return $s},geoMillerRaw:function(){return Xa},geoModifiedStereographic:function(){return qo},geoModifiedStereographicAlaska:function(){return wl},geoModifiedStereographicGs48:function(){return Tl},geoModifiedStereographicGs50:function(){return Vo},geoModifiedStereographicLee:function(){return ts},geoModifiedStereographicMiller:function(){return Ka},geoModifiedStereographicRaw:function(){return js},geoMollweide:function(){return oe},geoMollweideRaw:function(){return ue},geoMtFlatPolarParabolic:function(){return Qs},geoMtFlatPolarParabolicRaw:function(){return Ra},geoMtFlatPolarQuartic:function(){return so},geoMtFlatPolarQuarticRaw:function(){return To},geoMtFlatPolarSinusoidal:function(){return ko},geoMtFlatPolarSinusoidalRaw:function(){return lo},geoNaturalEarth:function(){return jr.c},geoNaturalEarth2:function(){return kl},geoNaturalEarth2Raw:function(){return ns},geoNaturalEarthRaw:function(){return jr.g},geoNellHammer:function(){return rs},geoNellHammerRaw:function(){return Us},geoNicolosi:function(){return Ml},geoNicolosiRaw:function(){return Vs},geoPatterson:function(){return hl},geoPattersonRaw:function(){return Hs},geoPeirceQuincuncial:function(){return Ko},geoPierceQuincuncial:function(){return Ko},geoPolyconic:function(){return Wo},geoPolyconicRaw:function(){return as},geoPolyhedral:function(){return Jr},geoPolyhedralButterfly:function(){return ss},geoPolyhedralCollignon:function(){return Ts},geoPolyhedralWaterman:function(){return ks},geoProject:function(){return As},geoQuantize:function(){return co},geoQuincuncial:function(){return Lo},geoRectangularPolyconic:function(){return Ea},geoRectangularPolyconicRaw:function(){return Sa},geoRobinson:function(){return wr},geoRobinsonRaw:function(){return ja},geoSatellite:function(){return el},geoSatelliteRaw:function(){return Ms},geoSinuMollweide:function(){return Wn},geoSinuMollweideRaw:function(){return Kn},geoSinusoidal:function(){return fe},geoSinusoidalRaw:function(){return ze},geoStitch:function(){return qi},geoTimes:function(){return Qa},geoTimesRaw:function(){return oa},geoTwoPointAzimuthal:function(){return la},geoTwoPointAzimuthalRaw:function(){return us},geoTwoPointAzimuthalUsa:function(){return cs},geoTwoPointEquidistant:function(){return $o},geoTwoPointEquidistantRaw:function(){return Ur},geoTwoPointEquidistantUsa:function(){return eo},geoVanDerGrinten:function(){return fs},geoVanDerGrinten2:function(){return qa},geoVanDerGrinten2Raw:function(){return hs},geoVanDerGrinten3:function(){return Qo},geoVanDerGrinten3Raw:function(){return si},geoVanDerGrinten4:function(){return Cr},geoVanDerGrinten4Raw:function(){return kr},geoVanDerGrintenRaw:function(){return Va},geoWagner:function(){return to},geoWagner4:function(){return pl},geoWagner4Raw:function(){return $r},geoWagner6:function(){return ti},geoWagner6Raw:function(){return wa},geoWagner7:function(){return po},geoWagnerRaw:function(){return _a},geoWiechel:function(){return da},geoWiechelRaw:function(){return hi},geoWinkel3:function(){return tl},geoWinkel3Raw:function(){return zo}});var M=e(87952),k=Math.abs,a=Math.atan,T=Math.atan2,b=Math.cos,g=Math.exp,s=Math.floor,t=Math.log,i=Math.max,r=Math.min,n=Math.pow,o=Math.round,l=Math.sign||function(Ze){return Ze>0?1:Ze<0?-1:0},u=Math.sin,d=Math.tan,c=1e-6,m=1e-12,f=Math.PI,p=f/2,v=f/4,y=Math.SQRT1_2,x=P(2),_=P(f),h=2*f,S=180/f,w=f/180;function E(Ze){return Ze>1?p:Ze<-1?-p:Math.asin(Ze)}function C(Ze){return Ze>1?0:Ze<-1?f:Math.acos(Ze)}function P(Ze){return Ze>0?Math.sqrt(Ze):0}function O(Ze){return(g(Ze)-g(-Ze))/2}function R(Ze){return(g(Ze)+g(-Ze))/2}function U(Ze){var Je=d(Ze/2),ot=2*t(b(Ze/2))/(Je*Je);function B(G,H){var L=b(G),q=b(H),$=u(H),ne=q*L,ce=-((1-ne?t((1+ne)/2)/(1-ne):-.5)+ot/(1+ne));return[ce*q*u(G),ce*$]}return B.invert=function(G,H){var L,q=P(G*G+H*H),$=-Ze/2,ne=50;if(!q)return[0,0];do{var ce=$/2,ye=b(ce),Le=u(ce),Ie=Le/ye,je=-t(k(ye));$-=L=(2/Ie*je-ot*Ie-q)/(-je/(Le*Le)+1-ot/(2*ye*ye))*(ye<0?.7:1)}while(k(L)>c&&--ne>0);var qe=u($);return[T(G*qe,q*b($)),E(H*qe/q)]},B}function z(){var Ze=p,Je=(0,M.U)(U),ot=Je(Ze);return ot.radius=function(B){return arguments.length?Je(Ze=B*w):Ze*S},ot.scale(179.976).clipAngle(147)}function N(Ze,Je){var ot=b(Je),B=function(G){return G?G/Math.sin(G):1}(C(ot*b(Ze/=2)));return[2*ot*u(Ze)*B,u(Je)*B]}function W(){return(0,M.c)(N).scale(152.63)}function F(Ze){var Je=u(Ze),ot=b(Ze),B=Ze>=0?1:-1,G=d(B*Ze),H=(1+Je-ot)/2;function L(q,$){var ne=b($),ce=b(q/=2);return[(1+ne)*u(q),(B*$>-T(ce,G)-.001?0:10*-B)+H+u($)*ot-(1+ne)*Je*ce]}return L.invert=function(q,$){var ne=0,ce=0,ye=50;do{var Le=b(ne),Ie=u(ne),je=b(ce),qe=u(ce),Qe=1+je,lt=Qe*Ie-q,ft=H+qe*ot-Qe*Je*Le-$,bt=Qe*Le/2,At=-Ie*qe,Tt=Je*Qe*Ie/2,Dt=ot*je+Je*Le*qe,Ct=At*Tt-Dt*bt,Yt=(ft*At-lt*Dt)/Ct/2,Vt=(lt*Tt-ft*bt)/Ct;k(Vt)>2&&(Vt/=2),ne-=Yt,ce-=Vt}while((k(Yt)>c||k(Vt)>c)&&--ye>0);return B*ce>-T(b(ne),G)-.001?[2*ne,ce]:null},L}function V(){var Ze=20*w,Je=Ze>=0?1:-1,ot=d(Je*Ze),B=(0,M.U)(F),G=B(Ze),H=G.stream;return G.parallel=function(L){return arguments.length?(ot=d((Je=(Ze=L*w)>=0?1:-1)*Ze),B(Ze)):Ze*S},G.stream=function(L){var q=G.rotate(),$=H(L),ne=(G.rotate([0,0]),H(L)),ce=G.precision();return G.rotate(q),$.sphere=function(){ne.polygonStart(),ne.lineStart();for(var ye=-180*Je;Je*ye<180;ye+=90*Je)ne.point(ye,90*Je);if(Ze)for(;Je*(ye-=3*Je*ce)>=-180;)ne.point(ye,Je*-T(b(ye*w/2),ot)*S);ne.lineEnd(),ne.polygonEnd()},$},G.scale(218.695).center([0,28.0974])}function j(Ze,Je){var ot=d(Je/2),B=P(1-ot*ot),G=1+B*b(Ze/=2),H=u(Ze)*B/G,L=ot/G,q=H*H,$=L*L;return[1.3333333333333333*H*(3+q-3*$),1.3333333333333333*L*(3+3*q-$)]}function te(){return(0,M.c)(j).scale(66.1603)}N.invert=function(Ze,Je){if(!(Ze*Ze+4*Je*Je>f*f+c)){var ot=Ze,B=Je,G=25;do{var H,L=u(ot),q=u(ot/2),$=b(ot/2),ne=u(B),ce=b(B),ye=u(2*B),Le=ne*ne,Ie=ce*ce,je=q*q,qe=1-Ie*$*$,Qe=qe?C(ce*$)*P(H=1/qe):H=0,lt=2*Qe*ce*q-Ze,ft=Qe*ne-Je,bt=H*(Ie*je+Qe*ce*$*Le),At=H*(.5*L*ye-2*Qe*ne*q),Tt=.25*H*(ye*q-Qe*ne*Ie*L),Dt=H*(Le*$+Qe*je*ce),Ct=At*Tt-Dt*bt;if(!Ct)break;var Yt=(ft*At-lt*Dt)/Ct,Vt=(lt*Tt-ft*bt)/Ct;ot-=Yt,B-=Vt}while((k(Yt)>c||k(Vt)>c)&&--G>0);return[ot,B]}},j.invert=function(Ze,Je){if(Je*=.375,!(Ze*=.375)&&k(Je)>1)return null;var ot=1+Ze*Ze+Je*Je,B=P((ot-P(ot*ot-4*Je*Je))/2),G=E(B)/3,H=B?function(ne){return t(ne+P(ne*ne-1))}(k(Je/B))/3:function(ne){return t(ne+P(ne*ne+1))}(k(Ze))/3,L=b(G),q=R(H),$=q*q-L*L;return[2*l(Ze)*T(O(H)*L,.25-$),2*l(Je)*T(q*u(G),.25+$)]};var J=P(8),K=t(1+x);function Z(Ze,Je){var ot=k(Je);return ot<v?[Ze,t(d(v+Je/2))]:[Ze*b(ot)*(2*x-1/u(ot)),l(Je)*(2*x*(ot-v)-t(d(ot/2)))]}function X(){return(0,M.c)(Z).scale(112.314)}Z.invert=function(Ze,Je){if((B=k(Je))<K)return[Ze,2*a(g(Je))-p];var ot,B,G=v,H=25;do{var L=b(G/2),q=d(G/2);G-=ot=(J*(G-v)-t(q)-B)/(J-L*L/(2*q))}while(k(ot)>m&&--H>0);return[Ze/(b(G)*(J-1/u(G))),l(Je)*G]};var Q=e(69020);function re(Ze){var Je=2*f/Ze;function ot(B,G){var H=(0,Q.O)(B,G);if(k(B)>p){var L=T(H[1],H[0]),q=P(H[0]*H[0]+H[1]*H[1]),$=Je*o((L-p)/Je)+p,ne=T(u(L-=$),2-b(L));L=$+E(f/q*u(ne))-ne,H[0]=q*b(L),H[1]=q*u(L)}return H}return ot.invert=function(B,G){var H=P(B*B+G*G);if(H>p){var L=T(G,B),q=Je*o((L-p)/Je)+p,$=L>q?-1:1,ne=H*b(q-L),ce=1/d($*C((ne-f)/P(f*(f-2*ne)+H*H)));L=q+2*a((ce+$*P(ce*ce-3))/3),B=H*b(L),G=H*u(L)}return Q.O.invert(B,G)},ot}function ae(){var Ze=5,Je=(0,M.U)(re),ot=Je(Ze),B=ot.stream,G=.01,H=-b(G*w),L=u(G*w);return ot.lobes=function(q){return arguments.length?Je(Ze=+q):Ze},ot.stream=function(q){var $=ot.rotate(),ne=B(q),ce=(ot.rotate([0,0]),B(q));return ot.rotate($),ne.sphere=function(){ce.polygonStart(),ce.lineStart();for(var ye=0,Le=360/Ze,Ie=2*f/Ze,je=90-180/Ze,qe=p;ye<Ze;++ye,je-=Le,qe-=Ie)ce.point(T(L*b(qe),H)*S,E(L*u(qe))*S),je<-90?(ce.point(-90,-180-je-G),ce.point(-90,-180-je+G)):(ce.point(90,je+G),ce.point(90,je-G));ce.lineEnd(),ce.polygonEnd()},ne},ot.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ie=e(54724);function le(Ze,Je){if(arguments.length<2&&(Je=Ze),Je===1)return ie.y;if(Je===1/0)return pe;function ot(B,G){var H=(0,ie.y)(B/Je,G);return H[0]*=Ze,H}return ot.invert=function(B,G){var H=ie.y.invert(B/Ze,G);return H[0]*=Je,H},ot}function pe(Ze,Je){return[Ze*b(Je)/b(Je/=2),2*u(Je)]}function de(){var Ze=2,Je=(0,M.U)(le),ot=Je(Ze);return ot.coefficient=function(B){return arguments.length?Je(Ze=+B):Ze},ot.scale(169.529)}function ve(Ze,Je,ot){var B,G,H,L=100;ot=ot===void 0?0:+ot,Je=+Je;do(G=Ze(ot))===(H=Ze(ot+c))&&(H=G+c),ot-=B=-1*c*(G-Je)/(G-H);while(L-- >0&&k(B)>c);return L<0?NaN:ot}function be(Ze,Je,ot){return Je===void 0&&(Je=40),ot===void 0&&(ot=m),function(B,G,H,L){var q,$,ne;H=H===void 0?0:+H,L=L===void 0?0:+L;for(var ce=0;ce<Je;ce++){var ye=Ze(H,L),Le=ye[0]-B,Ie=ye[1]-G;if(k(Le)<ot&&k(Ie)<ot)break;var je=Le*Le+Ie*Ie;if(je>q)H-=$/=2,L-=ne/=2;else{q=je;var qe=(H>0?-1:1)*ot,Qe=(L>0?-1:1)*ot,lt=Ze(H+qe,L),ft=Ze(H,L+Qe),bt=(lt[0]-ye[0])/qe,At=(lt[1]-ye[1])/qe,Tt=(ft[0]-ye[0])/Qe,Dt=(ft[1]-ye[1])/Qe,Ct=Dt*bt-At*Tt,Yt=(k(Ct)<.5?.5:1)/Ct;if(H+=$=(Ie*Tt-Le*Dt)*Yt,L+=ne=(Le*At-Ie*bt)*Yt,k($)<ot&&k(ne)<ot)break}}return[H,L]}}function me(){var Ze=le(1.68,2);function Je(ot,B){if(ot+B<-1.4){var G=(ot-B+1.6)*(ot+B+1.4)/8;ot+=G,B-=.8*G*u(B+f/2)}var H=Ze(ot,B),L=(1-b(ot*B))/12;return H[1]<0&&(H[0]*=1+L),H[1]>0&&(H[1]*=1+L/1.5*H[0]*H[0]),H}return Je.invert=be(Je),Je}function ge(){return(0,M.c)(me()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function ke(Ze,Je){var ot,B=Ze*u(Je),G=30;do Je-=ot=(Je+u(Je)-B)/(1+b(Je));while(k(ot)>c&&--G>0);return Je/2}function we(Ze,Je,ot){function B(G,H){return[Ze*G*b(H=ke(ot,H)),Je*u(H)]}return B.invert=function(G,H){return H=E(H/Je),[G/(Ze*b(H)),E((2*H+u(2*H))/ot)]},B}pe.invert=function(Ze,Je){var ot=2*E(Je/2);return[Ze*b(ot/2)/b(ot),ot]};var ue=we(x/p,x,f);function oe(){return(0,M.c)(ue).scale(169.529)}var he=2.00276,Ee=1.11072;function Te(Ze,Je){var ot=ke(f,Je);return[he*Ze/(1/b(Je)+Ee/b(ot)),(Je+x*u(ot))/he]}function Me(){return(0,M.c)(Te).scale(160.857)}function Se(Ze){var Je=0,ot=(0,M.U)(Ze),B=ot(Je);return B.parallel=function(G){return arguments.length?ot(Je=G*w):Je*S},B}function ze(Ze,Je){return[Ze*b(Je),Je]}function fe(){return(0,M.c)(ze).scale(152.63)}function xe(Ze){if(!Ze)return ze;var Je=1/d(Ze);function ot(B,G){var H=Je+Ze-G,L=H&&B*b(G)/H;return[H*u(L),Je-H*b(L)]}return ot.invert=function(B,G){var H=P(B*B+(G=Je-G)*G),L=Je+Ze-H;return[H/b(L)*T(B,G),L]},ot}function _e(){return Se(xe).scale(123.082).center([0,26.1441]).parallel(45)}function Oe(Ze){function Je(ot,B){var G=p-B,H=G&&ot*Ze*u(G)/G;return[G*u(H)/Ze,p-G*b(H)]}return Je.invert=function(ot,B){var G=ot*Ze,H=p-B,L=P(G*G+H*H),q=T(G,H);return[(L?L/u(L):1)*q/Ze,p-L]},Je}function De(){var Ze=.5,Je=(0,M.U)(Oe),ot=Je(Ze);return ot.fraction=function(B){return arguments.length?Je(Ze=+B):Ze},ot.scale(158.837)}Te.invert=function(Ze,Je){var ot,B,G=he*Je,H=Je<0?-v:v,L=25;do B=G-x*u(H),H-=ot=(u(2*H)+2*H-f*u(B))/(2*b(2*H)+2+f*b(B)*x*b(H));while(k(ot)>c&&--L>0);return B=G-x*u(H),[Ze*(1/b(B)+Ee/b(H))/he,B]},ze.invert=function(Ze,Je){return[Ze/b(Je),Je]};var Pe=we(1,4/f,f);function Ue(){return(0,M.c)(Pe).scale(152.63)}var Ve=e(24052),Xe=e(92992);function it(Ze,Je,ot,B,G,H){var L,q=b(H);if(k(Ze)>1||k(H)>1)L=C(ot*G+Je*B*q);else{var $=u(Ze/2),ne=u(H/2);L=2*E(P($*$+Je*B*ne*ne))}return k(L)>c?[L,T(B*u(H),Je*G-ot*B*q)]:[0,0]}function tt(Ze,Je,ot){return C((Ze*Ze+Je*Je-ot*ot)/(2*Ze*Je))}function pt(Ze){return Ze-2*f*s((Ze+f)/(2*f))}function mt(Ze,Je,ot){for(var B,G=[[Ze[0],Ze[1],u(Ze[1]),b(Ze[1])],[Je[0],Je[1],u(Je[1]),b(Je[1])],[ot[0],ot[1],u(ot[1]),b(ot[1])]],H=G[2],L=0;L<3;++L,H=B)B=G[L],H.v=it(B[1]-H[1],H[3],H[2],B[3],B[2],B[0]-H[0]),H.point=[0,0];var q=tt(G[0].v[0],G[2].v[0],G[1].v[0]),$=tt(G[0].v[0],G[1].v[0],G[2].v[0]),ne=f-q;G[2].point[1]=0,G[0].point[0]=-(G[1].point[0]=G[0].v[0]/2);var ce=[G[2].point[0]=G[0].point[0]+G[2].v[0]*b(q),2*(G[0].point[1]=G[1].point[1]=G[2].v[0]*u(q))];return function(ye,Le){var Ie,je=u(Le),qe=b(Le),Qe=new Array(3);for(Ie=0;Ie<3;++Ie){var lt=G[Ie];if(Qe[Ie]=it(Le-lt[1],lt[3],lt[2],qe,je,ye-lt[0]),!Qe[Ie][0])return lt.point;Qe[Ie][1]=pt(Qe[Ie][1]-lt.v[1])}var ft=ce.slice();for(Ie=0;Ie<3;++Ie){var bt=Ie==2?0:Ie+1,At=tt(G[Ie].v[0],Qe[Ie][0],Qe[bt][0]);Qe[Ie][1]<0&&(At=-At),Ie?Ie==1?(At=$-At,ft[0]-=Qe[Ie][0]*b(At),ft[1]-=Qe[Ie][0]*u(At)):(At=ne-At,ft[0]+=Qe[Ie][0]*b(At),ft[1]+=Qe[Ie][0]*u(At)):(ft[0]+=Qe[Ie][0]*b(At),ft[1]-=Qe[Ie][0]*u(At))}return ft[0]/=3,ft[1]/=3,ft}}function gt(Ze){return Ze[0]*=w,Ze[1]*=w,Ze}function et(){return $e([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function $e(Ze,Je,ot){var B=(0,Ve.c)({type:"MultiPoint",coordinates:[Ze,Je,ot]}),G=[-B[0],-B[1]],H=(0,Xe.c)(G),L=mt(gt(H(Ze)),gt(H(Je)),gt(H(ot)));L.invert=be(L);var q=(0,M.c)(L).rotate(G),$=q.center;return delete q.rotate,q.center=function(ne){return arguments.length?$(H(ne)):H.invert($())},q.clipAngle(90)}function _t(Ze,Je){var ot=P(1-u(Je));return[2/_*Ze*ot,_*(1-ot)]}function Pt(){return(0,M.c)(_t).scale(95.6464).center([0,30])}function Ot(Ze){var Je=d(Ze);function ot(B,G){return[B,(B?B/u(B):1)*(u(G)*b(B)-Je*b(G))]}return ot.invert=Je?function(B,G){B&&(G*=u(B)/B);var H=b(B);return[B,2*T(P(H*H+Je*Je-G*G)-H,Je-G)]}:function(B,G){return[B,E(B?G*d(B)/B:G)]},ot}function Lt(){return Se(Ot).scale(249.828).clipAngle(90)}_t.invert=function(Ze,Je){var ot=(ot=Je/_-1)*ot;return[ot>0?Ze*P(f/ot)/2:0,E(1-ot)]};var He=P(3);function We(Ze,Je){return[He*Ze*(2*b(2*Je/3)-1)/_,He*_*u(Je/3)]}function Be(){return(0,M.c)(We).scale(156.19)}function Ge(Ze){var Je=b(Ze);function ot(B,G){return[B*Je,u(G)/Je]}return ot.invert=function(B,G){return[B/Je,E(G*Je)]},ot}function at(){return Se(Ge).parallel(38.58).scale(195.044)}function nt(Ze){var Je=b(Ze);function ot(B,G){return[B*Je,(1+Je)*d(G/2)]}return ot.invert=function(B,G){return[B/Je,2*a(G/(1+Je))]},ot}function Re(){return Se(nt).scale(124.75)}function Fe(Ze,Je){var ot=P(8/(3*f));return[ot*Ze*(1-k(Je)/f),ot*Je]}function rt(){return(0,M.c)(Fe).scale(165.664)}function Ye(Ze,Je){var ot=P(4-3*u(k(Je)));return[2/P(6*f)*Ze*ot,l(Je)*P(2*f/3)*(2-ot)]}function ct(){return(0,M.c)(Ye).scale(165.664)}function ht(Ze,Je){var ot=P(f*(4+f));return[2/ot*Ze*(1+P(1-4*Je*Je/(f*f))),4/ot*Je]}function dt(){return(0,M.c)(ht).scale(180.739)}function ut(Ze,Je){var ot=(2+p)*u(Je);Je/=2;for(var B=0,G=1/0;B<10&&k(G)>c;B++){var H=b(Je);Je-=G=(Je+u(Je)*(H+2)-ot)/(2*H*(1+H))}return[2/P(f*(4+f))*Ze*(1+b(Je)),2*P(f/(4+f))*u(Je)]}function kt(){return(0,M.c)(ut).scale(180.739)}function xt(Ze,Je){return[Ze*(1+b(Je))/P(2+f),2*Je/P(2+f)]}function vt(){return(0,M.c)(xt).scale(173.044)}function Mt(Ze,Je){for(var ot=(1+p)*u(Je),B=0,G=1/0;B<10&&k(G)>c;B++)Je-=G=(Je+u(Je)-ot)/(1+b(Je));return ot=P(2+f),[Ze*(1+b(Je))/ot,2*Je/ot]}function St(){return(0,M.c)(Mt).scale(173.044)}We.invert=function(Ze,Je){var ot=3*E(Je/(He*_));return[_*Ze/(He*(2*b(2*ot/3)-1)),ot]},Fe.invert=function(Ze,Je){var ot=P(8/(3*f)),B=Je/ot;return[Ze/(ot*(1-k(B)/f)),B]},Ye.invert=function(Ze,Je){var ot=2-k(Je)/P(2*f/3);return[Ze*P(6*f)/(2*ot),l(Je)*E((4-ot*ot)/3)]},ht.invert=function(Ze,Je){var ot=P(f*(4+f))/2;return[Ze*ot/(1+P(1-Je*Je*(4+f)/(4*f))),Je*ot/2]},ut.invert=function(Ze,Je){var ot=Je*P((4+f)/f)/2,B=E(ot),G=b(B);return[Ze/(2/P(f*(4+f))*(1+G)),E((B+ot*(G+2))/(2+p))]},xt.invert=function(Ze,Je){var ot=P(2+f),B=Je*ot/2;return[ot*Ze/(1+b(B)),B]},Mt.invert=function(Ze,Je){var ot=1+p,B=P(ot/2);return[2*Ze*B/(1+b(Je*=B)),E((Je+u(Je))/ot)]};var It=3+2*x;function Gt(Ze,Je){var ot=u(Ze/=2),B=b(Ze),G=P(b(Je)),H=b(Je/=2),L=u(Je)/(H+x*B*G),q=P(2/(1+L*L)),$=P((x*H+(B+ot)*G)/(x*H+(B-ot)*G));return[It*(q*($-1/$)-2*t($)),It*(q*L*($+1/$)-2*a(L))]}function en(){return(0,M.c)(Gt).scale(62.5271)}Gt.invert=function(Ze,Je){if(!(ot=j.invert(Ze/1.2,1.065*Je)))return null;var ot,B=ot[0],G=ot[1],H=20;Ze/=It,Je/=It;do{var L=B/2,q=G/2,$=u(L),ne=b(L),ce=u(q),ye=b(q),Le=b(G),Ie=P(Le),je=ce/(ye+x*ne*Ie),qe=je*je,Qe=P(2/(1+qe)),lt=(x*ye+(ne+$)*Ie)/(x*ye+(ne-$)*Ie),ft=P(lt),bt=ft-1/ft,At=ft+1/ft,Tt=Qe*bt-2*t(ft)-Ze,Dt=Qe*je*At-2*a(je)-Je,Ct=ce&&y*Ie*$*qe/ce,Yt=(x*ne*ye+Ie)/(2*(ye+x*ne*Ie)*(ye+x*ne*Ie)*Ie),Vt=-.5*je*Qe*Qe*Qe,Ft=Vt*Ct,cn=Vt*Yt,dn=(dn=2*ye+x*Ie*(ne-$))*dn*ft,Mn=(x*ne*ye*Ie+Le)/dn,Ln=-x*$*ce/(Ie*dn),Un=bt*Ft-2*Mn/ft+Qe*(Mn+Mn/lt),Qn=bt*cn-2*Ln/ft+Qe*(Ln+Ln/lt),ur=je*At*Ft-2*Ct/(1+qe)+Qe*At*Ct+Qe*je*(Mn-Mn/lt),Hn=je*At*cn-2*Yt/(1+qe)+Qe*At*Yt+Qe*je*(Ln-Ln/lt),sr=Qn*ur-Hn*Un;if(!sr)break;var vr=(Dt*Qn-Tt*Hn)/sr,Ar=(Tt*ur-Dt*Un)/sr;B-=vr,G=i(-p,r(p,G-Ar))}while((k(vr)>c||k(Ar)>c)&&--H>0);return k(k(G)-p)<c?[0,G]:H&&[B,G]};var Nt=b(35*w);function jt(Ze,Je){var ot=d(Je/2);return[Ze*Nt*P(1-ot*ot),(1+Nt)*ot]}function Jt(){return(0,M.c)(jt).scale(137.152)}function An(Ze,Je){var ot=Je/2,B=b(ot);return[2*Ze/_*b(Je)*B*B,_*d(ot)]}function _n(){return(0,M.c)(An).scale(135.264)}function un(Ze){var Je=1-Ze,ot=G(f,0)[0]-G(-f,0)[0],B=P(2*(G(0,p)[1]-G(0,-p)[1])/ot);function G(q,$){var ne=b($),ce=u($);return[ne/(Je+Ze*ne)*q,Je*$+Ze*ce]}function H(q,$){var ne=G(q,$);return[ne[0]*B,ne[1]/B]}function L(q){return H(0,q)[1]}return H.invert=function(q,$){var ne=ve(L,$);return[q/B*(Ze+Je/b(ne)),ne]},H}function Wt(){var Ze=.5,Je=(0,M.U)(un),ot=Je(Ze);return ot.alpha=function(B){return arguments.length?Je(Ze=+B):Ze},ot.scale(168.725)}jt.invert=function(Ze,Je){var ot=Je/(1+Nt);return[Ze&&Ze/(Nt*P(1-ot*ot)),2*a(ot)]},An.invert=function(Ze,Je){var ot=a(Je/_),B=b(ot),G=2*ot;return[Ze*_/2/(b(G)*B*B),G]};var rn=e(4888),$t=e(69604);function sn(Ze){return[Ze[0]/2,E(d(Ze[1]/2*w))*S]}function xn(Ze){return[2*Ze[0],2*a(u(Ze[1]*w))*S]}function wn(Ze){Ze==null&&(Ze=rn.c);var Je=Ze(),ot=(0,$t.c)().scale(S).precision(0).clipAngle(null).translate([0,0]);function B(H){return Je(sn(H))}function G(H){B[H]=function(){return arguments.length?(Je[H].apply(Je,arguments),B):Je[H]()}}return Je.invert&&(B.invert=function(H){return xn(Je.invert(H))}),B.stream=function(H){var L=Je.stream(H),q=ot.stream({point:function($,ne){L.point($/2,E(d(-ne/2*w))*S)},lineStart:function(){L.lineStart()},lineEnd:function(){L.lineEnd()},polygonStart:function(){L.polygonStart()},polygonEnd:function(){L.polygonEnd()}});return q.sphere=L.sphere,q},B.rotate=function(H){return arguments.length?(ot.rotate(H),B):ot.rotate()},B.center=function(H){return arguments.length?(Je.center(sn(H)),B):xn(Je.center())},G("angle"),G("clipAngle"),G("clipExtent"),G("fitExtent"),G("fitHeight"),G("fitSize"),G("fitWidth"),G("scale"),G("translate"),G("precision"),B.scale(249.5)}function Pn(Ze,Je){var ot=2*f/Je,B=Ze*Ze;function G(H,L){var q=(0,Q.O)(H,L),$=q[0],ne=q[1],ce=$*$+ne*ne;if(ce>B){var ye=P(ce),Le=T(ne,$),Ie=ot*o(Le/ot),je=Le-Ie,qe=Ze*b(je),Qe=(Ze*u(je)-je*u(qe))/(p-qe),lt=Cn(je,Qe),ft=(f-Ze)/Sn(lt,qe,f);$=ye;var bt,At=50;do $-=bt=(Ze+Sn(lt,qe,$)*ft-ye)/(lt($)*ft);while(k(bt)>c&&--At>0);ne=je*u($),$<p&&(ne-=Qe*($-p));var Tt=u(Ie),Dt=b(Ie);q[0]=$*Dt-ne*Tt,q[1]=$*Tt+ne*Dt}return q}return G.invert=function(H,L){var q=H*H+L*L;if(q>B){var $=P(q),ne=T(L,H),ce=ot*o(ne/ot),ye=ne-ce;H=$*b(ye),L=$*u(ye);for(var Le=H-p,Ie=u(H),je=L/Ie,qe=H<p?1/0:0,Qe=10;;){var lt=Ze*u(je),ft=Ze*b(je),bt=u(ft),At=p-ft,Tt=(lt-je*bt)/At,Dt=Cn(je,Tt);if(k(qe)<m||!--Qe)break;je-=qe=(je*Ie-Tt*Le-L)/(Ie-2*Le*(At*(ft+je*lt*b(ft)-bt)-lt*(lt-je*bt))/(At*At))}H=($=Ze+Sn(Dt,ft,H)*(f-Ze)/Sn(Dt,ft,f))*b(ne=ce+je),L=$*u(ne)}return Q.O.invert(H,L)},G}function Cn(Ze,Je){return function(ot){var B=Ze*b(ot);return ot<p&&(B-=Je),P(1+B*B)}}function Sn(Ze,Je,ot){for(var B=(ot-Je)/50,G=Ze(Je)+Ze(ot),H=1,L=Je;H<50;++H)G+=2*Ze(L+=B);return .5*G*B}function Nn(){var Ze=6,Je=30*w,ot=b(Je),B=u(Je),G=(0,M.U)(Pn),H=G(Je,Ze),L=H.stream,q=-b(.01*w),$=u(.01*w);return H.radius=function(ne){return arguments.length?(ot=b(Je=ne*w),B=u(Je),G(Je,Ze)):Je*S},H.lobes=function(ne){return arguments.length?G(Je,Ze=+ne):Ze},H.stream=function(ne){var ce=H.rotate(),ye=L(ne),Le=(H.rotate([0,0]),L(ne));return H.rotate(ce),ye.sphere=function(){Le.polygonStart(),Le.lineStart();for(var Ie=0,je=2*f/Ze,qe=0;Ie<Ze;++Ie,qe-=je)Le.point(T($*b(qe),q)*S,E($*u(qe))*S),Le.point(T(B*b(qe-je/2),ot)*S,E(B*u(qe-je/2))*S);Le.lineEnd(),Le.polygonEnd()},ye},H.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function zn(Ze,Je,ot,B,G,H,L,q){function $(ne,ce){if(!ce)return[Ze*ne/f,0];var ye=ce*ce,Le=Ze+ye*(Je+ye*(ot+ye*B)),Ie=ce*(G-1+ye*(H-q+ye*L)),je=(Le*Le+Ie*Ie)/(2*Ie),qe=ne*E(Le/je)/f;return[je*u(qe),ce*(1+ye*q)+je*(1-b(qe))]}return arguments.length<8&&(q=0),$.invert=function(ne,ce){var ye,Le,Ie=f*ne/Ze,je=ce,qe=50;do{var Qe=je*je,lt=Ze+Qe*(Je+Qe*(ot+Qe*B)),ft=je*(G-1+Qe*(H-q+Qe*L)),bt=lt*lt+ft*ft,At=2*ft,Tt=bt/At,Dt=Tt*Tt,Ct=E(lt/Tt)/f,Yt=Ie*Ct,Vt=lt*lt,Ft=(2*Je+Qe*(4*ot+6*Qe*B))*je,cn=G+Qe*(3*H+5*Qe*L),dn=(2*(lt*Ft+ft*(cn-1))*At-bt*(2*(cn-1)))/(At*At),Mn=b(Yt),Ln=u(Yt),Un=Tt*Mn,Qn=Tt*Ln,ur=Ie/f*(1/P(1-Vt/Dt))*(Ft*Tt-lt*dn)/Dt,Hn=Qn-ne,sr=je*(1+Qe*q)+Tt-Un-ce,vr=dn*Ln+Un*ur,Ar=Un*Ct,Jn=1+dn-(dn*Mn-Qn*ur),or=Qn*Ct,xr=vr*or-Jn*Ar;if(!xr)break;Ie-=ye=(sr*vr-Hn*Jn)/xr,je-=Le=(Hn*or-sr*Ar)/xr}while((k(ye)>c||k(Le)>c)&&--qe>0);return[Ie,je]},$}var er=zn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function nr(){return(0,M.c)(er).scale(149.995)}var ir=zn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Yn(){return(0,M.c)(ir).scale(153.93)}var mr=zn(5/6*f,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Bt(){return(0,M.c)(mr).scale(130.945)}function Qt(Ze,Je){var ot=Ze*Ze,B=Je*Je;return[Ze*(1-.162388*B)*(.87-952426e-9*ot*ot),Je*(1+B/12)]}function vn(){return(0,M.c)(Qt).scale(131.747)}Qt.invert=function(Ze,Je){var ot,B=Ze,G=Je,H=50;do{var L=G*G;G-=ot=(G*(1+L/12)-Je)/(1+L/4)}while(k(ot)>c&&--H>0);H=50,Ze/=1-.162388*L;do{var q=(q=B*B)*q;B-=ot=(B*(.87-952426e-9*q)-Ze)/(.87-.00476213*q)}while(k(ot)>c&&--H>0);return[B,G]};var fn=zn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Tn(){return(0,M.c)(fn).scale(131.087)}function jn(Ze){var Je=Ze(p,0)[0]-Ze(-p,0)[0];function ot(B,G){var H=B>0?-.5:.5,L=Ze(B+H*f,G);return L[0]-=H*Je,L}return Ze.invert&&(ot.invert=function(B,G){var H=B>0?-.5:.5,L=Ze.invert(B+H*Je,G),q=L[0]-H*f;return q<-f?q+=2*f:q>f&&(q-=2*f),L[0]=q,L}),ot}function On(Ze,Je){var ot=l(Ze),B=l(Je),G=b(Je),H=b(Ze)*G,L=u(Ze)*G,q=u(B*Je);Ze=k(T(L,q)),Je=E(H),k(Ze-p)>c&&(Ze%=p);var $=function(ne,ce){if(ce===p)return[0,0];var ye,Le,Ie=u(ce),je=Ie*Ie,qe=je*je,Qe=1+qe,lt=1+3*qe,ft=1-qe,bt=E(1/P(Qe)),At=ft+je*Qe*bt,Tt=(1-Ie)/At,Dt=P(Tt),Ct=Tt*Qe,Yt=P(Ct),Vt=Dt*ft;if(ne===0)return[0,-(Vt+je*Yt)];var Ft,cn=b(ce),dn=1/cn,Mn=2*Ie*cn,Ln=(-At*cn-(1-Ie)*((-3*je+bt*lt)*Mn))/(At*At),Un=-dn*Mn,Qn=-dn*(je*Qe*Ln+Tt*lt*Mn),ur=-2*dn*(ft*(.5*Ln/Dt)-2*je*Dt*Mn),Hn=4*ne/f;if(ne>.222*f||ce<f/4&&ne>.175*f){if(ye=(Vt+je*P(Ct*(1+qe)-Vt*Vt))/(1+qe),ne>f/4)return[ye,ye];var sr=ye,vr=.5*ye;ye=.5*(vr+sr),Le=50;do{var Ar=ye*(ur+Un*P(Ct-ye*ye))+Qn*E(ye/Yt)-Hn;if(!Ar)break;Ar<0?vr=ye:sr=ye,ye=.5*(vr+sr)}while(k(sr-vr)>c&&--Le>0)}else{ye=c,Le=25;do{var Jn=ye*ye,or=P(Ct-Jn),xr=ur+Un*or,cr=ye*xr+Qn*E(ye/Yt)-Hn;ye-=Ft=or?cr/(xr+(Qn-Un*Jn)/or):0}while(k(Ft)>c&&--Le>0)}return[ye,-Vt-je*P(Ct-ye*ye)]}(Ze>f/4?p-Ze:Ze,Je);return Ze>f/4&&(q=$[0],$[0]=-$[1],$[1]=-q),$[0]*=ot,$[1]*=-B,$}function Dn(){return(0,M.c)(jn(On)).scale(239.75)}function $n(Ze,Je){var ot,B,G,H,L,q;if(Je<c)return[(H=u(Ze))-(ot=Je*(Ze-H*(B=b(Ze)))/4)*B,B+ot*H,1-Je*H*H/2,Ze-ot];if(Je>=1-c)return ot=(1-Je)/4,G=1/(B=R(Ze)),[(H=((q=g(2*(q=Ze)))-1)/(q+1))+ot*((L=B*O(Ze))-Ze)/(B*B),G-ot*H*G*(L-Ze),G+ot*H*G*(L+Ze),2*a(g(Ze))-p+ot*(L-Ze)/B];var $=[1,0,0,0,0,0,0,0,0],ne=[P(Je),0,0,0,0,0,0,0,0],ce=0;for(B=P(1-Je),L=1;k(ne[ce]/$[ce])>c&&ce<8;)ot=$[ce++],ne[ce]=(ot-B)/2,$[ce]=(ot+B)/2,B=P(ot*B),L*=2;G=L*$[ce]*Ze;do G=(E(H=ne[ce]*u(B=G)/$[ce])+G)/2;while(--ce);return[u(G),H=b(G),H/b(G-B),G]}function qt(Ze,Je){if(!Je)return Ze;if(Je===1)return t(d(Ze/2+v));for(var ot=1,B=P(1-Je),G=P(Je),H=0;k(G)>c;H++){if(Ze%f){var L=a(B*d(Ze)/ot);L<0&&(L+=f),Ze+=L+~~(Ze/f)*f}else Ze+=Ze;G=(ot+B)/2,B=P(ot*B),G=((ot=G)-B)/2}return Ze/(n(2,H)*ot)}function hn(Ze,Je){var ot=(x-1)/(x+1),B=P(1-ot*ot),G=qt(p,B*B),H=t(d(f/4+k(Je)/2)),L=g(-1*H)/P(ot),q=function(ne,ce){var ye=ne*ne,Le=ce+1,Ie=1-ye-ce*ce;return[.5*((ne>=0?p:-p)-T(Ie,2*ne)),-.25*t(Ie*Ie+4*ye)+.5*t(Le*Le+ye)]}(L*b(-1*Ze),L*u(-1*Ze)),$=function(ne,ce,ye){var Le=k(ne),Ie=O(k(ce));if(Le){var je=1/u(Le),qe=1/(d(Le)*d(Le)),Qe=-(qe+ye*(Ie*Ie*je*je)-1+ye),lt=(-Qe+P(Qe*Qe-(ye-1)*qe*4))/2;return[qt(a(1/P(lt)),ye)*l(ne),qt(a(P((lt/qe-1)/ye)),1-ye)*l(ce)]}return[0,qt(a(Ie),1-ye)*l(ce)]}(q[0],q[1],B*B);return[-$[1],(Je>=0?1:-1)*(.5*G-$[0])]}function Et(){return(0,M.c)(jn(hn)).scale(151.496)}On.invert=function(Ze,Je){k(Ze)>1&&(Ze=2*l(Ze)-Ze),k(Je)>1&&(Je=2*l(Je)-Je);var ot=l(Ze),B=l(Je),G=-ot*Ze,H=-B*Je,L=H/G<1,q=function(ye,Le){for(var Ie=0,je=1,qe=.5,Qe=50;;){var lt=qe*qe,ft=P(qe),bt=E(1/P(1+lt)),At=1-lt+qe*(1+lt)*bt,Tt=(1-ft)/At,Dt=P(Tt),Ct=Tt*(1+lt),Yt=Dt*(1-lt),Vt=P(Ct-ye*ye),Ft=Le+Yt+qe*Vt;if(k(je-Ie)<m||--Qe==0||Ft===0)break;Ft>0?Ie=qe:je=qe,qe=.5*(Ie+je)}if(!Qe)return null;var cn=E(ft),dn=b(cn),Mn=1/dn,Ln=2*ft*dn,Un=(-At*dn-(-3*qe+bt*(1+3*lt))*Ln*(1-ft))/(At*At);return[f/4*(ye*(-2*Mn*((1-lt)*(.5*Un/Dt)-2*qe*Dt*Ln)+-Mn*Ln*Vt)+-Mn*(qe*(1+lt)*Un+Tt*(1+3*lt)*Ln)*E(ye/P(Ct))),cn]}(L?H:G,L?G:H),$=q[0],ne=q[1],ce=b(ne);return L&&($=-p-$),[ot*(T(u($)*ce,-u(ne))+f),B*E(b($)*ce)]},hn.invert=function(Ze,Je){var ot,B,G,H,L,q,$=(x-1)/(x+1),ne=P(1-$*$),ce=(B=-Ze,G=ne*ne,(ot=.5*qt(p,ne*ne)-Je)?(H=$n(ot,G),B?(q=(L=$n(B,1-G))[1]*L[1]+G*H[0]*H[0]*L[0]*L[0],[[H[0]*L[2]/q,H[1]*H[2]*L[0]*L[1]/q],[H[1]*L[1]/q,-H[0]*H[2]*L[0]*L[2]/q],[H[2]*L[1]*L[2]/q,-G*H[0]*H[1]*L[0]/q]]):[[H[0],0],[H[1],0],[H[2],0]]):[[0,(L=$n(B,1-G))[0]/L[1]],[1/L[1],0],[L[2]/L[1],0]]),ye=function(Le,Ie){var je=Ie[0]*Ie[0]+Ie[1]*Ie[1];return[(Le[0]*Ie[0]+Le[1]*Ie[1])/je,(Le[1]*Ie[0]-Le[0]*Ie[1])/je]}(ce[0],ce[1]);return[T(ye[1],ye[0])/-1,2*a(g(-.5*t($*ye[0]*ye[0]+$*ye[1]*ye[1])))-p]};var Ht=e(61780);function Kt(Ze){var Je=u(Ze),ot=b(Ze),B=gn(Ze);function G(H,L){var q=B(H,L);H=q[0],L=q[1];var $=u(L),ne=b(L),ce=b(H),ye=C(Je*$+ot*ne*ce),Le=u(ye),Ie=k(Le)>c?ye/Le:1;return[Ie*ot*u(H),(k(H)>p?Ie:-Ie)*(Je*ne-ot*$*ce)]}return B.invert=gn(-Ze),G.invert=function(H,L){var q=P(H*H+L*L),$=-u(q),ne=b(q),ce=q*ne,ye=-L*$,Le=q*Je,Ie=P(ce*ce+ye*ye-Le*Le),je=T(ce*Le+ye*Ie,ye*Le-ce*Ie),qe=(q>p?-1:1)*T(H*$,q*b(je)*ne+L*u(je)*$);return B.invert(qe,je)},G}function gn(Ze){var Je=u(Ze),ot=b(Ze);return function(B,G){var H=b(G),L=b(B)*H,q=u(B)*H,$=u(G);return[T(q,L*ot-$*Je),E($*ot+L*Je)]}}function pn(){var Ze=0,Je=(0,M.U)(Kt),ot=Je(Ze),B=ot.rotate,G=ot.stream,H=(0,Ht.c)();return ot.parallel=function(L){if(!arguments.length)return Ze*S;var q=ot.rotate();return Je(Ze=L*w).rotate(q)},ot.rotate=function(L){return arguments.length?(B.call(ot,[L[0],L[1]-Ze*S]),H.center([-L[0],-L[1]]),ot):((L=B.call(ot))[1]+=Ze*S,L)},ot.stream=function(L){return(L=G(L)).sphere=function(){L.polygonStart();var q,$=H.radius(89.99)().coordinates[0],ne=$.length-1,ce=-1;for(L.lineStart();++ce<ne;)L.point((q=$[ce])[0],q[1]);for(L.lineEnd(),ne=($=H.radius(90.01)().coordinates[0]).length-1,L.lineStart();--ce>=0;)L.point((q=$[ce])[0],q[1]);L.lineEnd(),L.polygonEnd()},L},ot.scale(79.4187).parallel(45).clipAngle(179.999)}var yn=e(84706),on=e(16016),Zt=E(1-1/3)*S,Xt=Ge(0);function nn(Ze){var Je=Zt*w,ot=_t(f,Je)[0]-_t(-f,Je)[0],B=Xt(0,Je)[1],G=_t(0,Je)[1],H=_-G,L=h/Ze,q=4/h,$=B+H*H*4/h;function ne(ce,ye){var Le,Ie=k(ye);if(Ie>Je){var je=r(Ze-1,i(0,s((ce+f)/L)));(Le=_t(ce+=f*(Ze-1)/Ze-je*L,Ie))[0]=Le[0]*h/ot-h*(Ze-1)/(2*Ze)+je*h/Ze,Le[1]=B+4*(Le[1]-G)*H/h,ye<0&&(Le[1]=-Le[1])}else Le=Xt(ce,ye);return Le[0]*=q,Le[1]/=$,Le}return ne.invert=function(ce,ye){ce/=q;var Le=k(ye*=$);if(Le>B){var Ie=r(Ze-1,i(0,s((ce+f)/L)));ce=(ce+f*(Ze-1)/Ze-Ie*L)*ot/h;var je=_t.invert(ce,.25*(Le-B)*h/H+G);return je[0]-=f*(Ze-1)/Ze-Ie*L,ye<0&&(je[1]=-je[1]),je}return Xt.invert(ce,ye)},ne}function ln(Ze,Je){return[Ze,1&Je?90-c:Zt]}function kn(Ze,Je){return[Ze,1&Je?-90+c:-Zt]}function En(Ze){return[Ze[0]*(1-c),Ze[1]]}function Fn(){var Ze=4,Je=(0,M.U)(nn),ot=Je(Ze),B=ot.stream;return ot.lobes=function(G){return arguments.length?Je(Ze=+G):Ze},ot.stream=function(G){var H=ot.rotate(),L=B(G),q=(ot.rotate([0,0]),B(G));return ot.rotate(H),L.sphere=function(){var $,ne;(0,on.c)(($=180/Ze,ne=[].concat((0,yn.ik)(-180,180+$/2,$).map(ln),(0,yn.ik)(180,-180-$/2,-$).map(kn)),{type:"Polygon",coordinates:[$===180?ne.map(En):ne]}),q)},L},ot.scale(239.75)}function Bn(Ze){var Je,ot=1+Ze,B=E(u(1/ot)),G=2*P(f/(Je=f+4*B*ot)),H=.5*G*(ot+P(Ze*(2+Ze))),L=Ze*Ze,q=ot*ot;function $(ne,ce){var ye,Le,Ie=1-u(ce);if(Ie&&Ie<2){var je,qe=p-ce,Qe=25;do{var lt=u(qe),ft=b(qe),bt=B+T(lt,ot-ft),At=1+q-2*ot*ft;qe-=je=(qe-L*B-ot*lt+At*bt-.5*Ie*Je)/(2*ot*lt*bt)}while(k(je)>m&&--Qe>0);ye=G*P(At),Le=ne*bt/f}else ye=G*(Ze+Ie),Le=ne*B/f;return[ye*u(Le),H-ye*b(Le)]}return $.invert=function(ne,ce){var ye=ne*ne+(ce-=H)*ce,Le=(1+q-ye/(G*G))/(2*ot),Ie=C(Le),je=u(Ie),qe=B+T(je,ot-Le);return[E(ne/P(ye))*f/qe,E(1-2*(Ie-L*B-ot*je+(1+q-2*ot*Le)*qe)/Je)]},$}function Zn(){var Ze=1,Je=(0,M.U)(Bn),ot=Je(Ze);return ot.ratio=function(B){return arguments.length?Je(Ze=+B):Ze},ot.scale(167.774).center([0,18.67])}var Vn=.7109889596207567,Xn=.0528035274542;function Kn(Ze,Je){return Je>-Vn?((Ze=ue(Ze,Je))[1]+=Xn,Ze):ze(Ze,Je)}function Wn(){return(0,M.c)(Kn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function fr(Ze,Je){return k(Je)>Vn?((Ze=ue(Ze,Je))[1]-=Je>0?Xn:-Xn,Ze):ze(Ze,Je)}function ar(){return(0,M.c)(fr).scale(152.63)}function lr(Ze,Je,ot,B){var G=P(4*f/(2*ot+(1+Ze-Je/2)*u(2*ot)+(Ze+Je)/2*u(4*ot)+Je/2*u(6*ot))),H=P(B*u(ot)*P((1+Ze*b(2*ot)+Je*b(4*ot))/(1+Ze+Je))),L=ot*$(1);function q(ye){return P(1+Ze*b(2*ye)+Je*b(4*ye))}function $(ye){var Le=ye*ot;return(2*Le+(1+Ze-Je/2)*u(2*Le)+(Ze+Je)/2*u(4*Le)+Je/2*u(6*Le))/ot}function ne(ye){return q(ye)*u(ye)}var ce=function(ye,Le){var Ie=ot*ve($,L*u(Le)/ot,Le/f);isNaN(Ie)&&(Ie=ot*l(Le));var je=G*q(Ie);return[je*H*ye/f*b(Ie),je/H*u(Ie)]};return ce.invert=function(ye,Le){var Ie=ve(ne,Le*H/G);return[ye*f/(b(Ie)*G*H*q(Ie)),E(ot*$(Ie/ot)/L)]},ot===0&&(G=P(B/f),(ce=function(ye,Le){return[ye*G,u(Le)/G]}).invert=function(ye,Le){return[ye/G,E(Le*G)]}),ce}function tr(){var Ze=1,Je=0,ot=45*w,B=2,G=(0,M.U)(lr),H=G(Ze,Je,ot,B);return H.a=function(L){return arguments.length?G(Ze=+L,Je,ot,B):Ze},H.b=function(L){return arguments.length?G(Ze,Je=+L,ot,B):Je},H.psiMax=function(L){return arguments.length?G(Ze,Je,ot=+L*w,B):ot*S},H.ratio=function(L){return arguments.length?G(Ze,Je,ot,B=+L):B},H.scale(180.739)}function pr(Ze,Je,ot,B,G,H,L,q,$,ne,ce){if(ce.nanEncountered)return NaN;var ye,Le,Ie,je,qe,Qe,lt,ft,bt,At;if(Le=Ze(Je+.25*(ye=ot-Je)),Ie=Ze(ot-.25*ye),isNaN(Le))ce.nanEncountered=!0;else{if(!isNaN(Ie))return At=((Qe=(je=ye*(B+4*Le+G)/12)+(qe=ye*(G+4*Ie+H)/12))-L)/15,ne>$?(ce.maxDepthCount++,Qe+At):Math.abs(At)<q?Qe+At:(ft=pr(Ze,Je,lt=Je+.5*ye,B,Le,G,je,.5*q,$,ne+1,ce),isNaN(ft)?(ce.nanEncountered=!0,NaN):(bt=pr(Ze,lt,ot,G,Ie,H,qe,.5*q,$,ne+1,ce),isNaN(bt)?(ce.nanEncountered=!0,NaN):ft+bt));ce.nanEncountered=!0}}function _r(Ze,Je,ot,B,G){B===void 0&&(B=1e-8),G===void 0&&(G=20);var H=Ze(Je),L=Ze(.5*(Je+ot)),q=Ze(ot);return pr(Ze,Je,ot,H,L,q,(H+4*L+q)*(ot-Je)/6,B,G,1,{maxDepthCount:0,nanEncountered:!1})}function Or(Ze,Je,ot){function B(Ie){return Ze+(1-Ze)*n(1-n(Ie,Je),1/Je)}function G(Ie){return _r(B,0,Ie,1e-4)}for(var H=1/G(1),L=1e3,q=1.00000001*H,$=[],ne=0;ne<=L;ne++)$.push(G(ne/L)*q);function ce(Ie){var je=0,qe=L,Qe=500;do $[Qe]>Ie?qe=Qe:je=Qe,Qe=je+qe>>1;while(Qe>je);var lt=$[Qe+1]-$[Qe];return lt&&(lt=(Ie-$[Qe+1])/lt),(Qe+1+lt)/L}var ye=2*ce(1)/f*H/ot,Le=function(Ie,je){var qe=ce(k(u(je))),Qe=B(qe)*Ie;return qe/=ye,[Qe,je>=0?qe:-qe]};return Le.invert=function(Ie,je){var qe;return k(je*=ye)<1&&(qe=l(je)*E(G(k(je))*H)),[Ie/B(k(je)),qe]},Le}function ri(){var Ze=0,Je=2.5,ot=1.183136,B=(0,M.U)(Or),G=B(Ze,Je,ot);return G.alpha=function(H){return arguments.length?B(Ze=+H,Je,ot):Ze},G.k=function(H){return arguments.length?B(Ze,Je=+H,ot):Je},G.gamma=function(H){return arguments.length?B(Ze,Je,ot=+H):ot},G.scale(152.63)}function ai(Ze,Je){return k(Ze[0]-Je[0])<c&&k(Ze[1]-Je[1])<c}function Pi(Ze,Je){for(var ot,B,G,H=-1,L=Ze.length,q=Ze[0],$=[];++H<L;){B=((ot=Ze[H])[0]-q[0])/Je,G=(ot[1]-q[1])/Je;for(var ne=0;ne<Je;++ne)$.push([q[0]+ne*B,q[1]+ne*G]);q=ot}return $.push(ot),$}function ei(Ze,Je,ot){var B,G;function H($,ne){for(var ce=ne<0?-1:1,ye=Je[+(ne<0)],Le=0,Ie=ye.length-1;Le<Ie&&$>ye[Le][2][0];++Le);var je=Ze($-ye[Le][1][0],ne);return je[0]+=Ze(ye[Le][1][0],ce*ne>ce*ye[Le][0][1]?ye[Le][0][1]:ne)[0],je}ot?H.invert=ot(H):Ze.invert&&(H.invert=function($,ne){for(var ce=G[+(ne<0)],ye=Je[+(ne<0)],Le=0,Ie=ce.length;Le<Ie;++Le){var je=ce[Le];if(je[0][0]<=$&&$<je[1][0]&&je[0][1]<=ne&&ne<je[1][1]){var qe=Ze.invert($-Ze(ye[Le][1][0],0)[0],ne);return qe[0]+=ye[Le][1][0],ai(H(qe[0],qe[1]),[$,ne])?qe:null}}});var L=(0,M.c)(H),q=L.stream;return L.stream=function($){var ne=L.rotate(),ce=q($),ye=(L.rotate([0,0]),q($));return L.rotate(ne),ce.sphere=function(){(0,on.c)(B,ye)},ce},L.lobes=function($){return arguments.length?(B=function(ne){var ce,ye,Le,Ie,je,qe,Qe,lt=[],ft=ne[0].length;for(Qe=0;Qe<ft;++Qe)ye=(ce=ne[0][Qe])[0][0],Le=ce[0][1],Ie=ce[1][1],je=ce[2][0],qe=ce[2][1],lt.push(Pi([[ye+c,Le+c],[ye+c,Ie-c],[je-c,Ie-c],[je-c,qe+c]],30));for(Qe=ne[1].length-1;Qe>=0;--Qe)ye=(ce=ne[1][Qe])[0][0],Le=ce[0][1],Ie=ce[1][1],je=ce[2][0],qe=ce[2][1],lt.push(Pi([[je-c,qe-c],[je-c,Ie+c],[ye+c,Ie+c],[ye+c,Le-c]],30));return{type:"Polygon",coordinates:[(0,yn.Uf)(lt)]}}($),Je=$.map(function(ne){return ne.map(function(ce){return[[ce[0][0]*w,ce[0][1]*w],[ce[1][0]*w,ce[1][1]*w],[ce[2][0]*w,ce[2][1]*w]]})}),G=Je.map(function(ne){return ne.map(function(ce){var ye,Le=Ze(ce[0][0],ce[0][1])[0],Ie=Ze(ce[2][0],ce[2][1])[0],je=Ze(ce[1][0],ce[0][1])[1],qe=Ze(ce[1][0],ce[1][1])[1];return je>qe&&(ye=je,je=qe,qe=ye),[[Le,je],[Ie,qe]]})}),L):Je.map(function(ne){return ne.map(function(ce){return[[ce[0][0]*S,ce[0][1]*S],[ce[1][0]*S,ce[1][1]*S],[ce[2][0]*S,ce[2][1]*S]]})})},Je!=null&&L.lobes(Je),L}Kn.invert=function(Ze,Je){return Je>-Vn?ue.invert(Ze,Je-Xn):ze.invert(Ze,Je)},fr.invert=function(Ze,Je){return k(Je)>Vn?ue.invert(Ze,Je+(Je>0?Xn:-Xn)):ze.invert(Ze,Je)};var Ti=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ra(){return ei(Te,Ti).scale(160.857)}var ia=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Bo(){return ei(fr,ia).scale(152.63)}var _l=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ms(){return ei(ue,_l).scale(169.529)}var ys=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Rs(){return ei(ue,ys).scale(169.529).rotate([20,0])}var za=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Fs(){return ei(Kn,za,be).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Bs=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Ns(){return ei(ze,Bs).scale(152.63).rotate([-20,0])}function io(Ze,Je){return[3/h*Ze*P(f*f/3-Je*Je),Je]}function xo(){return(0,M.c)(io).scale(158.837)}function No(Ze){function Je(ot,B){if(k(k(B)-p)<c)return[0,B<0?-2:2];var G=u(B),H=n((1+G)/(1-G),Ze/2),L=.5*(H+1/H)+b(ot*=Ze);return[2*u(ot)/L,(H-1/H)/L]}return Je.invert=function(ot,B){var G=k(B);if(k(G-2)<c)return ot?null:[0,l(B)*p];if(G>2)return null;var H=(ot/=2)*ot,L=(B/=2)*B,q=2*B/(1+H+L);return q=n((1+q)/(1-q),1/Ze),[T(2*ot,1-H-L)/Ze,E((q-1)/(q+1))]},Je}function fi(){var Ze=.5,Je=(0,M.U)(No),ot=Je(Ze);return ot.spacing=function(B){return arguments.length?Je(Ze=+B):Ze},ot.scale(124.75)}io.invert=function(Ze,Je){return[h/3*Ze/P(f*f/3-Je*Je),Je]};var Di=f/x;function ao(Ze,Je){return[Ze*(1+P(b(Je)))/2,Je/(b(Je/2)*b(Ze/6))]}function Ya(){return(0,M.c)(ao).scale(97.2672)}function Da(Ze,Je){var ot=Ze*Ze,B=Je*Je;return[Ze*(.975534+B*(-.0143059*ot-.119161+-.0547009*B)),Je*(1.00384+ot*(.0802894+-.02855*B+199025e-9*ot)+B*(.0998909+-.0491032*B))]}function bo(){return(0,M.c)(Da).scale(139.98)}function Za(Ze,Je){return[u(Ze)/b(Je),d(Je)*b(Ze)]}function _o(){return(0,M.c)(Za).scale(144.049).clipAngle(89.999)}function oo(Ze){var Je=b(Ze),ot=d(v+Ze/2);function B(G,H){var L=H-Ze,q=k(L)<c?G*Je:k(q=v+H/2)<c||k(k(q)-p)<c?0:G*L/t(d(q)/ot);return[q,L]}return B.invert=function(G,H){var L,q=H+Ze;return[k(H)<c?G/Je:k(L=v+q/2)<c||k(k(L)-p)<c?0:G*t(d(L)/ot)/H,q]},B}function wo(){return Se(oo).parallel(40).scale(158.837)}function Xa(Ze,Je){return[Ze,1.25*t(d(v+.4*Je))]}function $s(){return(0,M.c)(Xa).scale(108.318)}function js(Ze){var Je=Ze.length-1;function ot(B,G){for(var H,L=b(G),q=2/(1+L*b(B)),$=q*L*u(B),ne=q*u(G),ce=Je,ye=Ze[ce],Le=ye[0],Ie=ye[1];--ce>=0;)Le=(ye=Ze[ce])[0]+$*(H=Le)-ne*Ie,Ie=ye[1]+$*Ie+ne*H;return[Le=$*(H=Le)-ne*Ie,Ie=$*Ie+ne*H]}return ot.invert=function(B,G){var H=20,L=B,q=G;do{for(var $,ne=Je,ce=Ze[ne],ye=ce[0],Le=ce[1],Ie=0,je=0;--ne>=0;)Ie=ye+L*($=Ie)-q*je,je=Le+L*je+q*$,ye=(ce=Ze[ne])[0]+L*($=ye)-q*Le,Le=ce[1]+L*Le+q*$;var qe,Qe,lt=(Ie=ye+L*($=Ie)-q*je)*Ie+(je=Le+L*je+q*$)*je;L-=qe=((ye=L*($=ye)-q*Le-B)*Ie+(Le=L*Le+q*$-G)*je)/lt,q-=Qe=(Le*Ie-ye*je)/lt}while(k(qe)+k(Qe)>c*c&&--H>0);if(H){var ft=P(L*L+q*q),bt=2*a(.5*ft),At=u(bt);return[T(L*At,ft*b(bt)),ft?E(q*At/ft):0]}},ot}ao.invert=function(Ze,Je){var ot=k(Ze),B=k(Je),G=c,H=p;B<Di?H*=B/Di:G+=6*C(Di/B);for(var L=0;L<25;L++){var q=u(H),$=P(b(H)),ne=u(H/2),ce=b(H/2),ye=u(G/6),Le=b(G/6),Ie=.5*G*(1+$)-ot,je=H/(ce*Le)-B,qe=$?-.25*G*q/$:0,Qe=.5*(1+$),lt=(1+.5*H*ne/ce)/(ce*Le),ft=H/ce*(ye/6)/(Le*Le),bt=qe*ft-lt*Qe,At=(Ie*ft-je*Qe)/bt,Tt=(je*qe-Ie*lt)/bt;if(H-=At,G-=Tt,k(At)<c&&k(Tt)<c)break}return[Ze<0?-G:G,Je<0?-H:H]},Da.invert=function(Ze,Je){var ot=l(Ze)*f,B=Je/2,G=50;do{var H=ot*ot,L=B*B,q=ot*B,$=ot*(.975534+L*(-.0143059*H-.119161+-.0547009*L))-Ze,ne=B*(1.00384+H*(.0802894+-.02855*L+199025e-9*H)+L*(.0998909+-.0491032*L))-Je,ce=.975534-L*(.119161+3*H*.0143059+.0547009*L),ye=-q*(.238322+.2188036*L+.0286118*H),Le=q*(.1605788+7961e-7*H+-.0571*L),Ie=1.00384+H*(.0802894+199025e-9*H)+L*(3*(.0998909-.02855*H)-.245516*L),je=ye*Le-Ie*ce,qe=(ne*ye-$*Ie)/je,Qe=($*Le-ne*ce)/je;ot-=qe,B-=Qe}while((k(qe)>c||k(Qe)>c)&&--G>0);return G&&[ot,B]},Za.invert=function(Ze,Je){var ot=Ze*Ze,B=Je*Je+1,G=ot+B,H=Ze?y*P((G-P(G*G-4*ot))/ot):1/P(B);return[E(Ze*H),l(Je)*C(H)]},Xa.invert=function(Ze,Je){return[Ze,2.5*a(g(.8*Je))-.625*f]};var jo=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],sl=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ll=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Uo=[[.9245,0],[0,0],[.01943,0]],ul=[[.721316,0],[0,0],[-.00881625,-.00617325]];function wl(){return qo(jo,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Tl(){return qo(sl,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Vo(){return qo(ll,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Ka(){return qo(Uo,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function ts(){return qo(ul,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function qo(Ze,Je){var ot=(0,M.c)(js(Ze)).rotate(Je).clipAngle(90),B=(0,Xe.c)(Je),G=ot.center;return delete ot.rotate,ot.center=function(H){return arguments.length?G(B(H)):B.invert(G())},ot}var xs=P(6),Ho=P(7);function Ra(Ze,Je){var ot=E(7*u(Je)/(3*xs));return[xs*Ze*(2*b(2*ot/3)-1)/Ho,9*u(ot/3)/Ho]}function Qs(){return(0,M.c)(Ra).scale(164.859)}function To(Ze,Je){for(var ot,B=(1+y)*u(Je),G=Je,H=0;H<25&&(G-=ot=(u(G/2)+u(G)-B)/(.5*b(G/2)+b(G)),!(k(ot)<c));H++);return[Ze*(1+2*b(G)/b(G/2))/(3*x),2*P(3)*u(G/2)/P(2+x)]}function so(){return(0,M.c)(To).scale(188.209)}function lo(Ze,Je){for(var ot,B=P(6/(4+f)),G=(1+f/4)*u(Je),H=Je/2,L=0;L<25&&(H-=ot=(H/2+u(H)-G)/(.5+b(H)),!(k(ot)<c));L++);return[B*(.5+b(H))*Ze/1.5,B*H]}function ko(){return(0,M.c)(lo).scale(166.518)}Ra.invert=function(Ze,Je){var ot=3*E(Je*Ho/9);return[Ze*Ho/(xs*(2*b(2*ot/3)-1)),E(3*u(ot)*xs/7)]},To.invert=function(Ze,Je){var ot=Je*P(2+x)/(2*P(3)),B=2*E(ot);return[3*x*Ze/(1+2*b(B)/b(B/2)),E((ot+u(B))/(1+y))]},lo.invert=function(Ze,Je){var ot=P(6/(4+f)),B=Je/ot;return k(k(B)-p)<c&&(B=B<0?-p:p),[1.5*Ze/(ot*(.5+b(B))),E((B/2+u(B))/(1+f/4))]};var jr=e(47984);function ns(Ze,Je){var ot=Je*Je,B=ot*ot,G=ot*B;return[Ze*(.84719-.13063*ot+G*G*(.05494*ot-.04515-.02326*B+.00331*G)),Je*(1.01183+B*B*(.01926*ot-.02625-.00396*B))]}function kl(){return(0,M.c)(ns).scale(175.295)}function Us(Ze,Je){return[Ze*(1+b(Je))/2,2*(Je-d(Je/2))]}function rs(){return(0,M.c)(Us).scale(152.63)}ns.invert=function(Ze,Je){var ot,B,G,H,L=Je,q=25;do L-=ot=(L*(1.01183+(G=(B=L*L)*B)*G*(.01926*B-.02625-.00396*G))-Je)/(1.01183+G*G*(.21186*B-.23625+-.05148*G));while(k(ot)>m&&--q>0);return[Ze/(.84719-.13063*(B=L*L)+(H=B*(G=B*B))*H*(.05494*B-.04515-.02326*G+.00331*H)),L]},Us.invert=function(Ze,Je){for(var ot=Je/2,B=0,G=1/0;B<10&&k(G)>c;++B){var H=b(Je/2);Je-=G=(Je-d(Je/2)-ot)/(1-.5/(H*H))}return[2*Ze/(1+b(Je)),Je]};var cl=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Al(){return ei(le(1/0),cl).rotate([20,0]).scale(152.63)}function Vs(Ze,Je){var ot=u(Je),B=b(Je),G=l(Ze);if(Ze===0||k(Je)===p)return[0,Je];if(Je===0)return[Ze,0];if(k(Ze)===p)return[Ze*B,p*ot];var H=f/(2*Ze)-2*Ze/f,L=2*Je/f,q=(1-L*L)/(ot-L),$=H*H,ne=q*q,ce=1+$/ne,ye=1+ne/$,Le=(H*ot/q-H/2)/ce,Ie=(ne*ot/$+q/2)/ye,je=Ie*Ie-(ne*ot*ot/$+q*ot-1)/ye;return[p*(Le+P(Le*Le+B*B/ce)*G),p*(Ie+P(je<0?0:je)*l(-Je*H)*G)]}function Ml(){return(0,M.c)(Vs).scale(127.267)}Vs.invert=function(Ze,Je){var ot=(Ze/=p)*Ze,B=ot+(Je/=p)*Je,G=f*f;return[Ze?(B-1+P((1-B)*(1-B)+4*ot))/(2*Ze)*p:0,ve(function(H){return B*(f*u(H)-2*H)*f+4*H*H*(Je-u(H))+2*f*H-G*Je},0)]};var Ao=1.0148,Go=.23185,uo=-.14499,Fa=.02406,is=Ao,fl=5*Go,bs=7*uo,qs=9*Fa,xa=1.790857183;function Hs(Ze,Je){var ot=Je*Je;return[Ze,Je*(Ao+ot*ot*(Go+ot*(uo+Fa*ot)))]}function hl(){return(0,M.c)(Hs).scale(139.319)}function as(Ze,Je){if(k(Je)<c)return[Ze,0];var ot=d(Je),B=Ze*u(Je);return[u(B)/ot,Je+(1-b(B))/ot]}function Wo(){return(0,M.c)(as).scale(103.74)}Hs.invert=function(Ze,Je){Je>xa?Je=xa:Je<-1.790857183&&(Je=-1.790857183);var ot,B=Je;do{var G=B*B;B-=ot=(B*(Ao+G*G*(Go+G*(uo+Fa*G)))-Je)/(is+G*G*(fl+G*(bs+qs*G)))}while(k(ot)>c);return[Ze,B]},as.invert=function(Ze,Je){if(k(Je)<c)return[Ze,0];var ot,B=Ze*Ze+Je*Je,G=.5*Je,H=10;do{var L=d(G),q=1/b(G),$=B-2*Je*G+G*G;G-=ot=(L*$+2*(G-Je))/(2+$*q*q+2*(G-Je)*L)}while(k(ot)>c&&--H>0);return L=d(G),[(k(Je)<k(G+1/L)?E(Ze*L):l(Je)*l(Ze)*(C(k(Ze*L))+p))/u(G),G]};var os=e(13696),Yo=e(27284);function Zo(Ze,Je){return[Ze[0]*Je[0]+Ze[1]*Je[3],Ze[0]*Je[1]+Ze[1]*Je[4],Ze[0]*Je[2]+Ze[1]*Je[5]+Ze[2],Ze[3]*Je[0]+Ze[4]*Je[3],Ze[3]*Je[1]+Ze[4]*Je[4],Ze[3]*Je[2]+Ze[4]*Je[5]+Ze[5]]}function _s(Ze,Je){return[Ze[0]-Je[0],Ze[1]-Je[1]]}function Gs(Ze){return P(Ze[0]*Ze[0]+Ze[1]*Ze[1])}function Jr(Ze,Je,ot){function B(q,$){var ne,ce=Je(q,$),ye=ce.project([q*S,$*S]);return(ne=ce.transform)?[ne[0]*ye[0]+ne[1]*ye[1]+ne[2],-(ne[3]*ye[0]+ne[4]*ye[1]+ne[5])]:(ye[1]=-ye[1],ye)}function G(q,$){var ne=q.project.invert,ce=q.transform,ye=$;if(ce&&(ce=function(Qe){var lt=1/(Qe[0]*Qe[4]-Qe[1]*Qe[3]);return[lt*Qe[4],-lt*Qe[1],lt*(Qe[1]*Qe[5]-Qe[2]*Qe[4]),-lt*Qe[3],lt*Qe[0],lt*(Qe[2]*Qe[3]-Qe[0]*Qe[5])]}(ce),ye=[ce[0]*ye[0]+ce[1]*ye[1]+ce[2],ce[3]*ye[0]+ce[4]*ye[1]+ce[5]]),ne&&q===function(Qe){return Je(Qe[0]*w,Qe[1]*w)}(Le=ne(ye)))return Le;for(var Le,Ie=q.children,je=0,qe=Ie&&Ie.length;je<qe;++je)if(Le=G(Ie[je],$))return Le}(function q($,ne){if($.edges=function(Tt){for(var Dt=Tt.length,Ct=[],Yt=Tt[Dt-1],Vt=0;Vt<Dt;++Vt)Ct.push([Yt,Yt=Tt[Vt]]);return Ct}($.face),ne.face){var ce=$.shared=function(Tt,Dt){for(var Ct,Yt,Vt=Tt.length,Ft=null,cn=0;cn<Vt;++cn){Ct=Tt[cn];for(var dn=Dt.length;--dn>=0;)if(Yt=Dt[dn],Ct[0]===Yt[0]&&Ct[1]===Yt[1]){if(Ft)return[Ft,Ct];Ft=Ct}}}($.face,ne.face),ye=(qe=ce.map(ne.project),Qe=ce.map($.project),lt=_s(qe[1],qe[0]),ft=_s(Qe[1],Qe[0]),bt=function(Tt,Dt){return T(Tt[0]*Dt[1]-Tt[1]*Dt[0],Tt[0]*Dt[0]+Tt[1]*Dt[1])}(lt,ft),At=Gs(lt)/Gs(ft),Zo([1,0,qe[0][0],0,1,qe[0][1]],Zo([At,0,0,0,At,0],Zo([b(bt),u(bt),0,-u(bt),b(bt),0],[1,0,-Qe[0][0],0,1,-Qe[0][1]]))));$.transform=ne.transform?Zo(ne.transform,ye):ye;for(var Le=ne.edges,Ie=0,je=Le.length;Ie<je;++Ie)Wi(ce[0],Le[Ie][1])&&Wi(ce[1],Le[Ie][0])&&(Le[Ie]=$),Wi(ce[0],Le[Ie][0])&&Wi(ce[1],Le[Ie][1])&&(Le[Ie]=$);for(Ie=0,je=(Le=$.edges).length;Ie<je;++Ie)Wi(ce[0],Le[Ie][0])&&Wi(ce[1],Le[Ie][1])&&(Le[Ie]=ne),Wi(ce[0],Le[Ie][1])&&Wi(ce[1],Le[Ie][0])&&(Le[Ie]=ne)}else $.transform=ne.transform;var qe,Qe,lt,ft,bt,At;return $.children&&$.children.forEach(function(Tt){q(Tt,$)}),$})(Ze,{transform:null}),Ba(Ze)&&(B.invert=function(q,$){var ne=G(Ze,[q,-$]);return ne&&(ne[0]*=w,ne[1]*=w,ne)});var H=(0,M.c)(B),L=H.stream;return H.stream=function(q){var $=H.rotate(),ne=L(q),ce=(H.rotate([0,0]),L(q));return H.rotate($),ne.sphere=function(){ce.polygonStart(),ce.lineStart(),Mo(ce,Ze),ce.lineEnd(),ce.polygonEnd()},ne},H.angle(ot==null?-30:ot*S)}function Mo(Ze,Je,ot){var B,G,H=Je.edges,L=H.length,q={type:"MultiPoint",coordinates:Je.face},$=Je.face.filter(function(qe){return k(qe[1])!==90}),ne=(0,os.c)({type:"MultiPoint",coordinates:$}),ce=!1,ye=-1,Le=ne[1][0]-ne[0][0],Ie=Le===180||Le===360?[(ne[0][0]+ne[1][0])/2,(ne[0][1]+ne[1][1])/2]:(0,Ve.c)(q);if(ot)for(;++ye<L&&H[ye]!==ot;);++ye;for(var je=0;je<L;++je)G=H[(je+ye)%L],Array.isArray(G)?(ce||(Ze.point((B=(0,Yo.c)(G[0],Ie)(c))[0],B[1]),ce=!0),Ze.point((B=(0,Yo.c)(G[1],Ie)(c))[0],B[1])):(ce=!1,G!==ot&&Mo(Ze,G,Je))}function Wi(Ze,Je){return Ze&&Je&&Ze[0]===Je[0]&&Ze[1]===Je[1]}function Ba(Ze){return Ze.project.invert||Ze.children&&Ze.children.some(Ba)}var Gr=e(53285),Kr=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ba=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ze){return Ze.map(function(Je){return Kr[Je]})});function ss(Ze){Ze=Ze||function(ot){var B=(0,Ve.c)({type:"MultiPoint",coordinates:ot});return(0,Gr.c)().scale(1).translate([0,0]).rotate([-B[0],-B[1]])};var Je=ba.map(function(ot){return{face:ot,project:Ze(ot)}});return[-1,0,0,1,0,1,4,5].forEach(function(ot,B){var G=Je[ot];G&&(G.children||(G.children=[])).push(Je[B])}),Jr(Je[0],function(ot,B){return Je[ot<-f/2?B<0?6:4:ot<0?B<0?2:0:ot<f/2?B<0?3:1:B<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ws=2/P(3);function Ws(Ze,Je){var ot=_t(Ze,Je);return[ot[0]*ws,ot[1]]}function Ts(Ze){Ze=Ze||function(ot){var B=(0,Ve.c)({type:"MultiPoint",coordinates:ot});return(0,M.c)(Ws).translate([0,0]).scale(1).rotate(B[1]>0?[-B[0],0]:[180-B[0],180])};var Je=ba.map(function(ot){return{face:ot,project:Ze(ot)}});return[-1,0,0,1,0,1,4,5].forEach(function(ot,B){var G=Je[ot];G&&(G.children||(G.children=[])).push(Je[B])}),Jr(Je[0],function(ot,B){return Je[ot<-f/2?B<0?6:4:ot<0?B<0?2:0:ot<f/2?B<0?3:1:B<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function ks(Ze){Ze=Ze||function(H){var L=H.length===6?(0,Ve.c)({type:"MultiPoint",coordinates:H}):H[0];return(0,Gr.c)().scale(1).translate([0,0]).rotate([-L[0],-L[1]])};var Je=ba.map(function(H){for(var L,q=H.map(Eo),$=q.length,ne=q[$-1],ce=[],ye=0;ye<$;++ye)L=q[ye],ce.push(So([.9486832980505138*ne[0]+.31622776601683794*L[0],.9486832980505138*ne[1]+.31622776601683794*L[1],.9486832980505138*ne[2]+.31622776601683794*L[2]]),So([.9486832980505138*L[0]+.31622776601683794*ne[0],.9486832980505138*L[1]+.31622776601683794*ne[1],.9486832980505138*L[2]+.31622776601683794*ne[2]])),ne=L;return ce}),ot=[],B=[-1,0,0,1,0,1,4,5];Je.forEach(function(H,L){for(var q,$,ne=ba[L],ce=ne.length,ye=ot[L]=[],Le=0;Le<ce;++Le)Je.push([ne[Le],H[(2*Le+2)%(2*ce)],H[(2*Le+1)%(2*ce)]]),B.push(L),ye.push((q=Eo(H[(2*Le+2)%(2*ce)]),$=Eo(H[(2*Le+1)%(2*ce)]),[q[1]*$[2]-q[2]*$[1],q[2]*$[0]-q[0]*$[2],q[0]*$[1]-q[1]*$[0]]))});var G=Je.map(function(H){return{project:Ze(H),face:H}});return B.forEach(function(H,L){var q=G[H];q&&(q.children||(q.children=[])).push(G[L])}),Jr(G[0],function(H,L){var q=b(L),$=[q*b(H),q*u(H),u(L)],ne=H<-f/2?L<0?6:4:H<0?L<0?2:0:H<f/2?L<0?3:1:L<0?7:5,ce=ot[ne];return G[Aa(ce[0],$)<0?8+3*ne:Aa(ce[1],$)<0?8+3*ne+1:Aa(ce[2],$)<0?8+3*ne+2:ne]}).angle(-30).scale(110.625).center([0,45])}function Aa(Ze,Je){for(var ot=0,B=Ze.length,G=0;ot<B;++ot)G+=Ze[ot]*Je[ot];return G}function So(Ze){return[T(Ze[1],Ze[0])*S,E(i(-1,r(1,Ze[2])))*S]}function Eo(Ze){var Je=Ze[0]*w,ot=Ze[1]*w,B=b(ot);return[B*b(Je),B*u(Je),u(ot)]}function $i(){}function As(Ze,Je){var ot,B=Je.stream;if(!B)throw new Error("invalid projection");switch(Ze&&Ze.type){case"Feature":ot=Ri;break;case"FeatureCollection":ot=Ma;break;default:ot=Ui}return ot(Ze,B)}function Ma(Ze,Je){return{type:"FeatureCollection",features:Ze.features.map(function(ot){return Ri(ot,Je)})}}function Ri(Ze,Je){return{type:"Feature",id:Ze.id,properties:Ze.properties,geometry:Ui(Ze.geometry,Je)}}function Ui(Ze,Je){if(!Ze)return null;if(Ze.type==="GeometryCollection")return function(B,G){return{type:"GeometryCollection",geometries:B.geometries.map(function(H){return Ui(H,G)})}}(Ze,Je);var ot;switch(Ze.type){case"Point":case"MultiPoint":ot=Ja;break;case"LineString":case"MultiLineString":ot=Xo;break;case"Polygon":case"MultiPolygon":case"Sphere":ot=Na;break;default:return null}return(0,on.c)(Ze,Je(ot)),ot.result()}Ws.invert=function(Ze,Je){return _t.invert(Ze/ws,Je)};var ii=[],Vi=[],Ja={point:function(Ze,Je){ii.push([Ze,Je])},result:function(){var Ze=ii.length?ii.length<2?{type:"Point",coordinates:ii[0]}:{type:"MultiPoint",coordinates:ii}:null;return ii=[],Ze}},Xo={lineStart:$i,point:function(Ze,Je){ii.push([Ze,Je])},lineEnd:function(){ii.length&&(Vi.push(ii),ii=[])},result:function(){var Ze=Vi.length?Vi.length<2?{type:"LineString",coordinates:Vi[0]}:{type:"MultiLineString",coordinates:Vi}:null;return Vi=[],Ze}},Na={polygonStart:$i,lineStart:$i,point:function(Ze,Je){ii.push([Ze,Je])},lineEnd:function(){var Ze=ii.length;if(Ze){do ii.push(ii[0].slice());while(++Ze<4);Vi.push(ii),ii=[]}},polygonEnd:$i,result:function(){if(!Vi.length)return null;var Ze=[],Je=[];return Vi.forEach(function(ot){(function(B){if((G=B.length)<4)return!1;for(var G,H=0,L=B[G-1][1]*B[0][0]-B[G-1][0]*B[0][1];++H<G;)L+=B[H-1][1]*B[H][0]-B[H-1][0]*B[H][1];return L<=0})(ot)?Ze.push([ot]):Je.push(ot)}),Je.forEach(function(ot){var B=ot[0];Ze.some(function(G){if(function(H,L){for(var q=L[0],$=L[1],ne=!1,ce=0,ye=H.length,Le=ye-1;ce<ye;Le=ce++){var Ie=H[ce],je=Ie[0],qe=Ie[1],Qe=H[Le],lt=Qe[0],ft=Qe[1];qe>$^ft>$&&q<(lt-je)*($-qe)/(ft-qe)+je&&(ne=!ne)}return ne}(G[0],B))return G.push(ot),!0})||Ze.push([ot])}),Vi=[],Ze.length?Ze.length>1?{type:"MultiPolygon",coordinates:Ze}:{type:"Polygon",coordinates:Ze[0]}:null}};function Lo(Ze){var Je=Ze(p,0)[0]-Ze(-p,0)[0];function ot(B,G){var H=k(B)<p,L=Ze(H?B:B>0?B-f:B+f,G),q=(L[0]-L[1])*y,$=(L[0]+L[1])*y;if(H)return[q,$];var ne=Je*y,ce=q>0^$>0?-1:1;return[ce*q-l($)*ne,ce*$-l(q)*ne]}return Ze.invert&&(ot.invert=function(B,G){var H=(B+G)*y,L=(G-B)*y,q=k(H)<.5*Je&&k(L)<.5*Je;if(!q){var $=Je*y,ne=H>0^L>0?-1:1,ce=-ne*B+(L>0?1:-1)*$,ye=-ne*G+(H>0?1:-1)*$;H=(-ce-ye)*y,L=(ce-ye)*y}var Le=Ze.invert(H,L);return q||(Le[0]+=H>0?f:-f),Le}),(0,M.c)(ot).rotate([-90,-90,45]).clipAngle(179.999)}function aa(){return Lo(On).scale(176.423)}function Ko(){return Lo(hn).scale(111.48)}function co(Ze,Je){if(!(0<=(Je=+Je)&&Je<=20))throw new Error("invalid digits");function ot(ne){var ce=ne.length,ye=2,Le=new Array(ce);for(Le[0]=+ne[0].toFixed(Je),Le[1]=+ne[1].toFixed(Je);ye<ce;)Le[ye]=ne[ye],++ye;return Le}function B(ne){return ne.map(ot)}function G(ne){for(var ce=ot(ne[0]),ye=[ce],Le=1;Le<ne.length;Le++){var Ie=ot(ne[Le]);(Ie.length>2||Ie[0]!=ce[0]||Ie[1]!=ce[1])&&(ye.push(Ie),ce=Ie)}return ye.length===1&&ne.length>1&&ye.push(ot(ne[ne.length-1])),ye}function H(ne){return ne.map(G)}function L(ne){if(ne==null)return ne;var ce;switch(ne.type){case"GeometryCollection":ce={type:"GeometryCollection",geometries:ne.geometries.map(L)};break;case"Point":ce={type:"Point",coordinates:ot(ne.coordinates)};break;case"MultiPoint":ce={type:ne.type,coordinates:B(ne.coordinates)};break;case"LineString":ce={type:ne.type,coordinates:G(ne.coordinates)};break;case"MultiLineString":case"Polygon":ce={type:ne.type,coordinates:H(ne.coordinates)};break;case"MultiPolygon":ce={type:"MultiPolygon",coordinates:ne.coordinates.map(H)};break;default:return ne}return ne.bbox!=null&&(ce.bbox=ne.bbox),ce}function q(ne){var ce={type:"Feature",properties:ne.properties,geometry:L(ne.geometry)};return ne.id!=null&&(ce.id=ne.id),ne.bbox!=null&&(ce.bbox=ne.bbox),ce}if(Ze!=null)switch(Ze.type){case"Feature":return q(Ze);case"FeatureCollection":var $={type:"FeatureCollection",features:Ze.features.map(q)};return Ze.bbox!=null&&($.bbox=Ze.bbox),$;default:return L(Ze)}return Ze}function Sa(Ze){var Je=u(Ze);function ot(B,G){var H=Je?d(B*Je/2)/Je:B/2;if(!G)return[2*H,-Ze];var L=2*a(H*u(G)),q=1/d(G);return[u(L)*q,G+(1-b(L))*q-Ze]}return ot.invert=function(B,G){if(k(G+=Ze)<c)return[Je?2*a(Je*B/2)/Je:B,0];var H,L=B*B+G*G,q=0,$=10;do{var ne=d(q),ce=1/b(q),ye=L-2*G*q+q*q;q-=H=(ne*ye+2*(q-G))/(2+ye*ce*ce+2*(q-G)*ne)}while(k(H)>c&&--$>0);var Le=B*(ne=d(q)),Ie=d(k(G)<k(q+1/ne)?.5*E(Le):.5*C(Le)+f/4)/u(q);return[Je?2*a(Je*Ie)/Je:2*Ie,q]},ot}function Ea(){return Se(Sa).scale(131.215)}var oi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function ja(Ze,Je){var ot,B=r(18,36*k(Je)/f),G=s(B),H=B-G,L=(ot=oi[G])[0],q=ot[1],$=(ot=oi[++G])[0],ne=ot[1],ce=(ot=oi[r(19,++G)])[0],ye=ot[1];return[Ze*($+H*(ce-L)/2+H*H*(ce-2*$+L)/2),(Je>0?p:-p)*(ne+H*(ye-q)/2+H*H*(ye-2*ne+q)/2)]}function wr(){return(0,M.c)(ja).scale(152.63)}function Ms(Ze,Je){var ot=function(L){function q($,ne){var ce=b(ne),ye=(L-1)/(L-ce*b($));return[ye*ce*u($),ye*u(ne)]}return q.invert=function($,ne){var ce=$*$+ne*ne,ye=P(ce),Le=(L-P(1-ce*(L+1)/(L-1)))/((L-1)/ye+ye/(L-1));return[T($*Le,ye*P(1-Le*Le)),ye?E(ne*Le/ye):0]},q}(Ze);if(!Je)return ot;var B=b(Je),G=u(Je);function H(L,q){var $=ot(L,q),ne=$[1],ce=ne*G/(Ze-1)+B;return[$[0]*B/ce,ne/ce]}return H.invert=function(L,q){var $=(Ze-1)/(Ze-1-q*G);return ot.invert($*L,$*q*B)},H}function el(){var Ze=2,Je=0,ot=(0,M.U)(Ms),B=ot(Ze,Je);return B.distance=function(G){return arguments.length?ot(Ze=+G,Je):Ze},B.tilt=function(G){return arguments.length?ot(Ze,Je=G*w):Je*S},B.scale(432.147).clipAngle(C(1/Ze)*S-1e-6)}oi.forEach(function(Ze){Ze[1]*=1.0144}),ja.invert=function(Ze,Je){var ot=Je/p,B=90*ot,G=r(18,k(B/5)),H=i(0,s(G));do{var L=oi[H][1],q=oi[H+1][1],$=oi[r(19,H+2)][1],ne=$-L,ce=$-2*q+L,ye=2*(k(ot)-q)/ne,Le=ce/ne,Ie=ye*(1-Le*ye*(1-2*Le*ye));if(Ie>=0||H===1){B=(Je>=0?5:-5)*(Ie+G);var je,qe=50;do Ie=(G=r(18,k(B)/5))-(H=s(G)),L=oi[H][1],q=oi[H+1][1],$=oi[r(19,H+2)][1],B-=(je=(Je>=0?p:-p)*(q+Ie*($-L)/2+Ie*Ie*($-2*q+L)/2)-Je)*S;while(k(je)>m&&--qe>0);break}}while(--H>=0);var Qe=oi[H][0],lt=oi[H+1][0],ft=oi[r(19,H+2)][0];return[Ze/(lt+Ie*(ft-Qe)/2+Ie*Ie*(ft-2*lt+Qe)/2),B*w]};var Co=1e-4,Po=1e4,Jo=-180,ls=Jo+Co,gr=180,Ss=gr-Co,fo=-90,Fi=fo+Co,Oo=90,Ua=Oo-Co;function La(Ze){return Ze.length>0}function Qi(Ze){return Ze===fo||Ze===Oo?[0,Ze]:[Jo,(Je=Ze,Math.floor(Je*Po)/Po)];var Je}function $a(Ze){var Je=Ze[0],ot=Ze[1],B=!1;return Je<=ls?(Je=Jo,B=!0):Je>=Ss&&(Je=gr,B=!0),ot<=Fi?(ot=fo,B=!0):ot>=Ua&&(ot=Oo,B=!0),B?[Je,ot]:Ze}function Ca(Ze){return Ze.map($a)}function ho(Ze,Je,ot){for(var B=0,G=Ze.length;B<G;++B){var H=Ze[B].slice();ot.push({index:-1,polygon:Je,ring:H});for(var L=0,q=H.length;L<q;++L){var $=H[L],ne=$[0],ce=$[1];if(ne<=ls||ne>=Ss||ce<=Fi||ce>=Ua){H[L]=$a($);for(var ye=L+1;ye<q;++ye){var Le=H[ye],Ie=Le[0],je=Le[1];if(Ie>ls&&Ie<Ss&&je>Fi&&je<Ua)break}if(ye===L+1)continue;if(L){var qe={index:-1,polygon:Je,ring:H.slice(0,L+1)};qe.ring[qe.ring.length-1]=Qi(ce),ot[ot.length-1]=qe}else ot.pop();if(ye>=q)break;ot.push({index:-1,polygon:Je,ring:H=H.slice(ye-1)}),H[0]=Qi(H[0][1]),L=-1,q=H.length}}}}function Es(Ze){var Je,ot,B,G,H,L,q=Ze.length,$={},ne={};for(Je=0;Je<q;++Je)B=(ot=Ze[Je]).ring[0],H=ot.ring[ot.ring.length-1],B[0]!==H[0]||B[1]!==H[1]?(ot.index=Je,$[B]=ne[H]=ot):(ot.polygon.push(ot.ring),Ze[Je]=null);for(Je=0;Je<q;++Je)if(ot=Ze[Je]){if(B=ot.ring[0],H=ot.ring[ot.ring.length-1],G=ne[B],L=$[H],delete $[B],delete ne[H],B[0]===H[0]&&B[1]===H[1]){ot.polygon.push(ot.ring);continue}G?(delete ne[B],delete $[G.ring[0]],G.ring.pop(),Ze[G.index]=null,ot={index:-1,polygon:G.polygon,ring:G.ring.concat(ot.ring)},G===L?ot.polygon.push(ot.ring):(ot.index=q++,Ze.push($[ot.ring[0]]=ne[ot.ring[ot.ring.length-1]]=ot))):L?(delete $[H],delete ne[L.ring[L.ring.length-1]],ot.ring.pop(),ot={index:q++,polygon:L.polygon,ring:ot.ring.concat(L.ring)},Ze[L.index]=null,Ze.push($[ot.ring[0]]=ne[ot.ring[ot.ring.length-1]]=ot)):(ot.ring.push(ot.ring[0]),ot.polygon.push(ot.ring))}}function Io(Ze){var Je={type:"Feature",geometry:qr(Ze.geometry)};return Ze.id!=null&&(Je.id=Ze.id),Ze.bbox!=null&&(Je.bbox=Ze.bbox),Ze.properties!=null&&(Je.properties=Ze.properties),Je}function qr(Ze){if(Ze==null)return Ze;var Je,ot,B,G;switch(Ze.type){case"GeometryCollection":Je={type:"GeometryCollection",geometries:Ze.geometries.map(qr)};break;case"Point":Je={type:"Point",coordinates:$a(Ze.coordinates)};break;case"MultiPoint":case"LineString":Je={type:Ze.type,coordinates:Ca(Ze.coordinates)};break;case"MultiLineString":Je={type:"MultiLineString",coordinates:Ze.coordinates.map(Ca)};break;case"Polygon":var H=[];ho(Ze.coordinates,H,ot=[]),Es(ot),Je={type:"Polygon",coordinates:H};break;case"MultiPolygon":ot=[],B=-1,G=Ze.coordinates.length;for(var L=new Array(G);++B<G;)ho(Ze.coordinates[B],L[B]=[],ot);Es(ot),Je={type:"MultiPolygon",coordinates:L.filter(La)};break;default:return Ze}return Ze.bbox!=null&&(Je.bbox=Ze.bbox),Je}function qi(Ze){if(Ze==null)return Ze;switch(Ze.type){case"Feature":return Io(Ze);case"FeatureCollection":var Je={type:"FeatureCollection",features:Ze.features.map(Io)};return Ze.bbox!=null&&(Je.bbox=Ze.bbox),Je;default:return qr(Ze)}}function oa(Ze,Je){var ot=d(Je/2),B=u(v*ot);return[Ze*(.74482-.34588*B*B),1.70711*ot]}function Qa(){return(0,M.c)(oa).scale(146.153)}function sa(Ze,Je,ot){var B=(0,Yo.c)(Je,ot),G=B(.5),H=(0,Xe.c)([-G[0],-G[1]])(Je),L=B.distance/2,q=-E(u(H[1]*w)/u(L)),$=[-G[0],-G[1],-(H[0]>0?f-q:q)*S],ne=(0,M.c)(Ze(L)).rotate($),ce=(0,Xe.c)($),ye=ne.center;return delete ne.rotate,ne.center=function(Le){return arguments.length?ye(ce(Le)):ce.invert(ye())},ne.clipAngle(90)}function us(Ze){var Je=b(Ze);function ot(B,G){var H=(0,Gr.Y)(B,G);return H[0]*=Je,H}return ot.invert=function(B,G){return Gr.Y.invert(B/Je,G)},ot}function cs(){return la([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function la(Ze,Je){return sa(us,Ze,Je)}function Ur(Ze){if(!(Ze*=2))return Q.O;var Je=-Ze/2,ot=-Je,B=Ze*Ze,G=d(ot),H=.5/u(ot);function L(q,$){var ne=C(b($)*b(q-Je)),ce=C(b($)*b(q-ot));return[((ne*=ne)-(ce*=ce))/(2*Ze),($<0?-1:1)*P(4*B*ce-(B-ne+ce)*(B-ne+ce))/(2*Ze)]}return L.invert=function(q,$){var ne,ce,ye=$*$,Le=b(P(ye+(ne=q+Je)*ne)),Ie=b(P(ye+(ne=q+ot)*ne));return[T(ce=Le-Ie,ne=(Le+Ie)*G),($<0?-1:1)*C(P(ne*ne+ce*ce)*H)]},L}function eo(){return $o([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function $o(Ze,Je){return sa(Ur,Ze,Je)}function Va(Ze,Je){if(k(Je)<c)return[Ze,0];var ot=k(Je/p),B=E(ot);if(k(Ze)<c||k(k(Je)-p)<c)return[0,l(Je)*f*d(B/2)];var G=b(B),H=k(f/Ze-Ze/f)/2,L=H*H,q=G/(ot+G-1),$=q*(2/ot-1),ne=$*$,ce=ne+L,ye=q-ne,Le=L+q;return[l(Ze)*f*(H*ye+P(L*ye*ye-ce*(q*q-ne)))/ce,l(Je)*f*($*Le-H*P((L+1)*ce-Le*Le))/ce]}function fs(){return(0,M.c)(Va).scale(79.4183)}function hs(Ze,Je){if(k(Je)<c)return[Ze,0];var ot=k(Je/p),B=E(ot);if(k(Ze)<c||k(k(Je)-p)<c)return[0,l(Je)*f*d(B/2)];var G=b(B),H=k(f/Ze-Ze/f)/2,L=H*H,q=G*(P(1+L)-H*G)/(1+L*ot*ot);return[l(Ze)*f*q,l(Je)*f*P(1-q*(2*H+q))]}function qa(){return(0,M.c)(hs).scale(79.4183)}function si(Ze,Je){if(k(Je)<c)return[Ze,0];var ot=Je/p,B=E(ot);if(k(Ze)<c||k(k(Je)-p)<c)return[0,f*d(B/2)];var G=(f/Ze-Ze/f)/2,H=ot/(1+b(B));return[f*(l(Ze)*P(G*G+1-H*H)-G),f*H]}function Qo(){return(0,M.c)(si).scale(79.4183)}function kr(Ze,Je){if(!Je)return[Ze,0];var ot=k(Je);if(!Ze||ot===p)return[0,Je];var B=ot/p,G=B*B,H=(8*B-G*(G+2)-5)/(2*G*(B-1)),L=H*H,q=B*H,$=G+L+2*q,ne=B+3*H,ce=Ze/p,ye=ce+1/ce,Le=l(k(Ze)-p)*P(ye*ye-4),Ie=Le*Le,je=(Le*($+L-1)+2*P($*(G+L*Ie-1)+(1-G)*(G*(ne*ne+4*L)+12*q*L+4*L*L)))/(4*$+Ie);return[l(Ze)*p*je,l(Je)*p*P(1+Le*k(je)-je*je)]}function Cr(){return(0,M.c)(kr).scale(127.16)}function _a(Ze,Je,ot,B){var G=f/3;Ze=i(Ze,c),Je=i(Je,c),Ze=r(Ze,p),Je=r(Je,f-c),ot=i(ot,0),ot=r(ot,100-c);var H=(B=i(B,c))/100,L=C((ot/100+1)*b(G))/G,q=u(Ze)/u(L*p),$=Je/f,ne=P(H*u(Ze/2)/u(Je/2));return function(ce,ye,Le,Ie,je){function qe(Qe,lt){var ft=Le*u(Ie*lt),bt=P(1-ft*ft),At=P(2/(1+bt*b(Qe*=je)));return[ce*bt*At*u(Qe),ye*ft*At]}return qe.invert=function(Qe,lt){var ft=Qe/ce,bt=lt/ye,At=P(ft*ft+bt*bt),Tt=2*E(At/2);return[T(Qe*d(Tt),ce*At)/je,At&&E(lt*u(Tt)/(ye*Le*At))/Ie]},qe}(ne/P($*q*L),1/(ne*P($*q*L)),q,L,$)}function to(){var Ze=65*w,Je=60*w,ot=20,B=200,G=(0,M.U)(_a),H=G(Ze,Je,ot,B);return H.poleline=function(L){return arguments.length?G(Ze=+L*w,Je,ot,B):Ze*S},H.parallels=function(L){return arguments.length?G(Ze,Je=+L*w,ot,B):Je*S},H.inflation=function(L){return arguments.length?G(Ze,Je,ot=+L,B):ot},H.ratio=function(L){return arguments.length?G(Ze,Je,ot,B=+L):B},H.scale(163.775)}function po(){return to().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}oa.invert=function(Ze,Je){var ot=Je/1.70711,B=u(v*ot);return[Ze/(.74482-.34588*B*B),2*a(ot)]},Va.invert=function(Ze,Je){if(k(Je)<c)return[Ze,0];if(k(Ze)<c)return[0,p*u(2*a(Je/f))];var ot=(Ze/=f)*Ze,B=(Je/=f)*Je,G=ot+B,H=G*G,L=-k(Je)*(1+G),q=L-2*B+ot,$=-2*L+1+2*B+H,ne=B/$+(2*q*q*q/($*$*$)-9*L*q/($*$))/27,ce=(L-q*q/(3*$))/$,ye=2*P(-ce/3),Le=C(3*ne/(ce*ye))/3;return[f*(G-1+P(1+2*(ot-B)+H))/(2*Ze),l(Je)*f*(-ye*b(Le+f/3)-q/(3*$))]},hs.invert=function(Ze,Je){if(!Ze)return[0,p*u(2*a(Je/f))];var ot=k(Ze/f),B=(1-ot*ot-(Je/=f)*Je)/(2*ot),G=P(B*B+1);return[l(Ze)*f*(G-B),l(Je)*p*u(2*T(P((1-2*B*ot)*(B+G)-ot),P(G+B+ot)))]},si.invert=function(Ze,Je){if(!Je)return[Ze,0];var ot=Je/f,B=(f*f*(1-ot*ot)-Ze*Ze)/(2*f*Ze);return[Ze?f*(l(Ze)*P(B*B+1)-B):0,p*u(2*a(ot))]},kr.invert=function(Ze,Je){var ot;if(!Ze||!Je)return[Ze,Je];Je/=f;var B=l(Ze)*Ze/p,G=(B*B-1+4*Je*Je)/k(B),H=G*G,L=2*Je,q=50;do{var $=L*L,ne=(8*L-$*($+2)-5)/(2*$*(L-1)),ce=(3*L-$*L-10)/(2*$*L),ye=ne*ne,Le=L*ne,Ie=L+ne,je=Ie*Ie,qe=L+3*ne,Qe=-2*Ie*(4*Le*ye+(1-4*$+3*$*$)*(1+ce)+ye*(14*$-6-H+(8*$-8-2*H)*ce)+Le*(12*$-8+(10*$-10-H)*ce)),lt=P(je*($+ye*H-1)+(1-$)*($*(qe*qe+4*ye)+ye*(12*Le+4*ye)));L-=ot=(G*(je+ye-1)+2*lt-B*(4*je+H))/(G*(2*ne*ce+2*Ie*(1+ce))+Qe/lt-8*Ie*(G*(-1+ye+je)+2*lt)*(1+ce)/(H+4*je))}while(ot>c&&--q>0);return[l(Ze)*(P(G*G+4)+G)*f/4,p*L]};var Ei=4*f+3*P(3),no=2*P(2*f*P(3)/Ei),$r=we(no*P(3)/f,no,Ei/6);function pl(){return(0,M.c)($r).scale(176.84)}function wa(Ze,Je){return[Ze*P(1-3*Je*Je/(f*f)),Je]}function ti(){return(0,M.c)(wa).scale(152.63)}function hi(Ze,Je){var ot=b(Je),B=b(Ze)*ot,G=1-B,H=b(Ze=T(u(Ze)*ot,-u(Je))),L=u(Ze);return[L*(ot=P(1-B*B))-H*G,-H*ot-L*G]}function da(){return(0,M.c)(hi).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function zo(Ze,Je){var ot=N(Ze,Je);return[(ot[0]+Ze/p)/2,(ot[1]+Je)/2]}function tl(){return(0,M.c)(zo).scale(158.837)}wa.invert=function(Ze,Je){return[Ze/P(1-3*Je*Je/(f*f)),Je]},hi.invert=function(Ze,Je){var ot=(Ze*Ze+Je*Je)/-2,B=P(-ot*(2+ot)),G=Je*ot+Ze*B,H=Ze*ot-Je*B,L=P(H*H+G*G);return[T(B*G,L*(1+ot)),L?-E(B*H/L):0]},zo.invert=function(Ze,Je){var ot=Ze,B=Je,G=25;do{var H,L=b(B),q=u(B),$=u(2*B),ne=q*q,ce=L*L,ye=u(ot),Le=b(ot/2),Ie=u(ot/2),je=Ie*Ie,qe=1-ce*Le*Le,Qe=qe?C(L*Le)*P(H=1/qe):H=0,lt=.5*(2*Qe*L*Ie+ot/p)-Ze,ft=.5*(Qe*q+B)-Je,bt=.5*H*(ce*je+Qe*L*Le*ne)+.5/p,At=H*(ye*$/4-Qe*q*Ie),Tt=.125*H*($*Ie-Qe*q*ce*ye),Dt=.5*H*(ne*Le+Qe*je*L)+.5,Ct=At*Tt-Dt*bt,Yt=(ft*At-lt*Dt)/Ct,Vt=(lt*Tt-ft*bt)/Ct;ot-=Yt,B-=Vt}while((k(Yt)>c||k(Vt)>c)&&--G>0);return[ot,B]}},88728:function(ee,D,e){function M(){return new k}function k(){this.reset()}e.d(D,{c:function(){return M}}),k.prototype={constructor:k,reset:function(){this.s=this.t=0},add:function(b){T(a,b,this.t),T(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new k;function T(b,g,s){var t=b.s=g+s,i=t-g,r=t-i;b.t=g-r+(s-i)}},95384:function(ee,D,e){e.d(D,{cp:function(){return m},mQ:function(){return r},oB:function(){return o}});var M,k,a,T,b,g=e(88728),s=e(64528),t=e(70932),i=e(16016),r=(0,g.c)(),n=(0,g.c)(),o={point:t.c,lineStart:t.c,lineEnd:t.c,polygonStart:function(){r.reset(),o.lineStart=l,o.lineEnd=u},polygonEnd:function(){var f=+r;n.add(f<0?s.kD+f:f),this.lineStart=this.lineEnd=this.point=t.c},sphere:function(){n.add(s.kD)}};function l(){o.point=d}function u(){c(M,k)}function d(f,p){o.point=c,M=f,k=p,f*=s.qw,p*=s.qw,a=f,T=(0,s.W8)(p=p/2+s.wL),b=(0,s.g$)(p)}function c(f,p){f*=s.qw,p=(p*=s.qw)/2+s.wL;var v=f-a,y=v>=0?1:-1,x=y*v,_=(0,s.W8)(p),h=(0,s.g$)(p),S=b*h,w=T*_+S*(0,s.W8)(x),E=S*y*(0,s.g$)(x);r.add((0,s.WE)(E,w)),a=f,T=_,b=h}function m(f){return n.reset(),(0,i.c)(f,o),2*n}},13696:function(ee,D,e){e.d(D,{c:function(){return C}});var M,k,a,T,b,g,s,t,i,r,n=e(88728),o=e(95384),l=e(84220),u=e(64528),d=e(16016),c=(0,n.c)(),m={point:f,lineStart:v,lineEnd:y,polygonStart:function(){m.point=x,m.lineStart=_,m.lineEnd=h,c.reset(),o.oB.polygonStart()},polygonEnd:function(){o.oB.polygonEnd(),m.point=f,m.lineStart=v,m.lineEnd=y,o.mQ<0?(M=-(a=180),k=-(T=90)):c>u.Gg?T=90:c<-u.Gg&&(k=-90),r[0]=M,r[1]=a},sphere:function(){M=-(a=180),k=-(T=90)}};function f(P,O){i.push(r=[M=P,a=P]),O<k&&(k=O),O>T&&(T=O)}function p(P,O){var R=(0,l.ux)([P*u.qw,O*u.qw]);if(t){var U=(0,l.CW)(t,R),z=[U[1],-U[0],0],N=(0,l.CW)(z,U);(0,l.cJ)(N),N=(0,l.G)(N);var W,F=P-b,V=F>0?1:-1,j=N[0]*u.oh*V,te=(0,u.a2)(F)>180;te^(V*b<j&&j<V*P)?(W=N[1]*u.oh)>T&&(T=W):te^(V*b<(j=(j+360)%360-180)&&j<V*P)?(W=-N[1]*u.oh)<k&&(k=W):(O<k&&(k=O),O>T&&(T=O)),te?P<b?S(M,P)>S(M,a)&&(a=P):S(P,a)>S(M,a)&&(M=P):a>=M?(P<M&&(M=P),P>a&&(a=P)):P>b?S(M,P)>S(M,a)&&(a=P):S(P,a)>S(M,a)&&(M=P)}else i.push(r=[M=P,a=P]);O<k&&(k=O),O>T&&(T=O),t=R,b=P}function v(){m.point=p}function y(){r[0]=M,r[1]=a,m.point=f,t=null}function x(P,O){if(t){var R=P-b;c.add((0,u.a2)(R)>180?R+(R>0?360:-360):R)}else g=P,s=O;o.oB.point(P,O),p(P,O)}function _(){o.oB.lineStart()}function h(){x(g,s),o.oB.lineEnd(),(0,u.a2)(c)>u.Gg&&(M=-(a=180)),r[0]=M,r[1]=a,t=null}function S(P,O){return(O-=P)<0?O+360:O}function w(P,O){return P[0]-O[0]}function E(P,O){return P[0]<=P[1]?P[0]<=O&&O<=P[1]:O<P[0]||P[1]<O}function C(P){var O,R,U,z,N,W,F;if(T=a=-(M=k=1/0),i=[],(0,d.c)(P,m),R=i.length){for(i.sort(w),O=1,N=[U=i[0]];O<R;++O)E(U,(z=i[O])[0])||E(U,z[1])?(S(U[0],z[1])>S(U[0],U[1])&&(U[1]=z[1]),S(z[0],U[1])>S(U[0],U[1])&&(U[0]=z[0])):N.push(U=z);for(W=-1/0,O=0,U=N[R=N.length-1];O<=R;U=z,++O)z=N[O],(F=S(U[1],z[0]))>W&&(W=F,M=z[0],a=U[1])}return i=r=null,M===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[M,k],[a,T]]}},84220:function(ee,D,e){e.d(D,{CW:function(){return b},Ez:function(){return T},G:function(){return k},cJ:function(){return t},mg:function(){return g},ux:function(){return a},wx:function(){return s}});var M=e(64528);function k(i){return[(0,M.WE)(i[1],i[0]),(0,M.qR)(i[2])]}function a(i){var r=i[0],n=i[1],o=(0,M.W8)(n);return[o*(0,M.W8)(r),o*(0,M.g$)(r),(0,M.g$)(n)]}function T(i,r){return i[0]*r[0]+i[1]*r[1]+i[2]*r[2]}function b(i,r){return[i[1]*r[2]-i[2]*r[1],i[2]*r[0]-i[0]*r[2],i[0]*r[1]-i[1]*r[0]]}function g(i,r){i[0]+=r[0],i[1]+=r[1],i[2]+=r[2]}function s(i,r){return[i[0]*r,i[1]*r,i[2]*r]}function t(i){var r=(0,M._I)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=r,i[1]/=r,i[2]/=r}},24052:function(ee,D,e){e.d(D,{c:function(){return R}});var M,k,a,T,b,g,s,t,i,r,n,o,l,u,d,c,m=e(64528),f=e(70932),p=e(16016),v={sphere:f.c,point:y,lineStart:_,lineEnd:w,polygonStart:function(){v.lineStart=E,v.lineEnd=C},polygonEnd:function(){v.lineStart=_,v.lineEnd=w}};function y(U,z){U*=m.qw,z*=m.qw;var N=(0,m.W8)(z);x(N*(0,m.W8)(U),N*(0,m.g$)(U),(0,m.g$)(z))}function x(U,z,N){++M,a+=(U-a)/M,T+=(z-T)/M,b+=(N-b)/M}function _(){v.point=h}function h(U,z){U*=m.qw,z*=m.qw;var N=(0,m.W8)(z);u=N*(0,m.W8)(U),d=N*(0,m.g$)(U),c=(0,m.g$)(z),v.point=S,x(u,d,c)}function S(U,z){U*=m.qw,z*=m.qw;var N=(0,m.W8)(z),W=N*(0,m.W8)(U),F=N*(0,m.g$)(U),V=(0,m.g$)(z),j=(0,m.WE)((0,m._I)((j=d*V-c*F)*j+(j=c*W-u*V)*j+(j=u*F-d*W)*j),u*W+d*F+c*V);k+=j,g+=j*(u+(u=W)),s+=j*(d+(d=F)),t+=j*(c+(c=V)),x(u,d,c)}function w(){v.point=y}function E(){v.point=P}function C(){O(o,l),v.point=y}function P(U,z){o=U,l=z,U*=m.qw,z*=m.qw,v.point=O;var N=(0,m.W8)(z);u=N*(0,m.W8)(U),d=N*(0,m.g$)(U),c=(0,m.g$)(z),x(u,d,c)}function O(U,z){U*=m.qw,z*=m.qw;var N=(0,m.W8)(z),W=N*(0,m.W8)(U),F=N*(0,m.g$)(U),V=(0,m.g$)(z),j=d*V-c*F,te=c*W-u*V,J=u*F-d*W,K=(0,m._I)(j*j+te*te+J*J),Z=(0,m.qR)(K),X=K&&-Z/K;i+=X*j,r+=X*te,n+=X*J,k+=Z,g+=Z*(u+(u=W)),s+=Z*(d+(d=F)),t+=Z*(c+(c=V)),x(u,d,c)}function R(U){M=k=a=T=b=g=s=t=i=r=n=0,(0,p.c)(U,v);var z=i,N=r,W=n,F=z*z+N*N+W*W;return F<m.a8&&(z=g,N=s,W=t,k<m.Gg&&(z=a,N=T,W=b),(F=z*z+N*N+W*W)<m.a8)?[NaN,NaN]:[(0,m.WE)(N,z)*m.oh,(0,m.qR)(W/(0,m._I)(F))*m.oh]}},61780:function(ee,D,e){e.d(D,{Q:function(){return b},c:function(){return s}});var M=e(84220);function k(t){return function(){return t}}var a=e(64528),T=e(92992);function b(t,i,r,n,o,l){if(r){var u=(0,a.W8)(i),d=(0,a.g$)(i),c=n*r;o==null?(o=i+n*a.kD,l=i-c/2):(o=g(u,o),l=g(u,l),(n>0?o<l:o>l)&&(o+=n*a.kD));for(var m,f=o;n>0?f>l:f<l;f-=c)m=(0,M.G)([u,-d*(0,a.W8)(f),-d*(0,a.g$)(f)]),t.point(m[0],m[1])}}function g(t,i){(i=(0,M.ux)(i))[0]-=t,(0,M.cJ)(i);var r=(0,a.mE)(-i[1]);return((-i[2]<0?-r:r)+a.kD-a.Gg)%a.kD}function s(){var t,i,r=k([0,0]),n=k(90),o=k(6),l={point:function(d,c){t.push(d=i(d,c)),d[0]*=a.oh,d[1]*=a.oh}};function u(){var d=r.apply(this,arguments),c=n.apply(this,arguments)*a.qw,m=o.apply(this,arguments)*a.qw;return t=[],i=(0,T.O)(-d[0]*a.qw,-d[1]*a.qw,0).invert,b(l,c,m,1),d={type:"Polygon",coordinates:[t]},t=i=null,d}return u.center=function(d){return arguments.length?(r=typeof d=="function"?d:k([+d[0],+d[1]]),u):r},u.radius=function(d){return arguments.length?(n=typeof d=="function"?d:k(+d),u):n},u.precision=function(d){return arguments.length?(o=typeof d=="function"?d:k(+d),u):o},u}},78284:function(ee,D,e){var M=e(14229),k=e(64528);D.c=(0,M.c)(function(){return!0},function(a){var T,b=NaN,g=NaN,s=NaN;return{lineStart:function(){a.lineStart(),T=1},point:function(t,i){var r=t>0?k.pi:-k.pi,n=(0,k.a2)(t-b);(0,k.a2)(n-k.pi)<k.Gg?(a.point(b,g=(g+i)/2>0?k.or:-k.or),a.point(s,g),a.lineEnd(),a.lineStart(),a.point(r,g),a.point(t,g),T=0):s!==r&&n>=k.pi&&((0,k.a2)(b-s)<k.Gg&&(b-=s*k.Gg),(0,k.a2)(t-r)<k.Gg&&(t-=r*k.Gg),g=function(o,l,u,d){var c,m,f=(0,k.g$)(o-u);return(0,k.a2)(f)>k.Gg?(0,k.MQ)(((0,k.g$)(l)*(m=(0,k.W8)(d))*(0,k.g$)(u)-(0,k.g$)(d)*(c=(0,k.W8)(l))*(0,k.g$)(o))/(c*m*f)):(l+d)/2}(b,g,t,i),a.point(s,g),a.lineEnd(),a.lineStart(),a.point(r,g),T=0),a.point(b=t,g=i),s=r},lineEnd:function(){a.lineEnd(),b=g=NaN},clean:function(){return 2-T}}},function(a,T,b,g){var s;if(a==null)s=b*k.or,g.point(-k.pi,s),g.point(0,s),g.point(k.pi,s),g.point(k.pi,0),g.point(k.pi,-s),g.point(0,-s),g.point(-k.pi,-s),g.point(-k.pi,0),g.point(-k.pi,s);else if((0,k.a2)(a[0]-T[0])>k.Gg){var t=a[0]<T[0]?k.pi:-k.pi;s=b*t/2,g.point(-t,s),g.point(0,s),g.point(t,s)}else g.point(T[0],T[1])},[-k.pi,-k.or])},97208:function(ee,D,e){e.d(D,{c:function(){return k}});var M=e(70932);function k(){var a,T=[];return{point:function(b,g,s){a.push([b,g,s])},lineStart:function(){T.push(a=[])},lineEnd:M.c,rejoin:function(){T.length>1&&T.push(T.pop().concat(T.shift()))},result:function(){var b=T;return T=[],a=null,b}}}},2728:function(ee,D,e){e.d(D,{c:function(){return g}});var M=e(84220),k=e(61780),a=e(64528),T=e(41860),b=e(14229);function g(s){var t=(0,a.W8)(s),i=6*a.qw,r=t>0,n=(0,a.a2)(t)>a.Gg;function o(d,c){return(0,a.W8)(d)*(0,a.W8)(c)>t}function l(d,c,m){var f=(0,M.ux)(d),p=(0,M.ux)(c),v=[1,0,0],y=(0,M.CW)(f,p),x=(0,M.Ez)(y,y),_=y[0],h=x-_*_;if(!h)return!m&&d;var S=t*x/h,w=-t*_/h,E=(0,M.CW)(v,y),C=(0,M.wx)(v,S),P=(0,M.wx)(y,w);(0,M.mg)(C,P);var O=E,R=(0,M.Ez)(C,O),U=(0,M.Ez)(O,O),z=R*R-U*((0,M.Ez)(C,C)-1);if(!(z<0)){var N=(0,a._I)(z),W=(0,M.wx)(O,(-R-N)/U);if((0,M.mg)(W,C),W=(0,M.G)(W),!m)return W;var F,V=d[0],j=c[0],te=d[1],J=c[1];j<V&&(F=V,V=j,j=F);var K=j-V,Z=(0,a.a2)(K-a.pi)<a.Gg;if(!Z&&J<te&&(F=te,te=J,J=F),Z||K<a.Gg?Z?te+J>0^W[1]<((0,a.a2)(W[0]-V)<a.Gg?te:J):te<=W[1]&&W[1]<=J:K>a.pi^(V<=W[0]&&W[0]<=j)){var X=(0,M.wx)(O,(-R+N)/U);return(0,M.mg)(X,C),[W,(0,M.G)(X)]}}}function u(d,c){var m=r?s:a.pi-s,f=0;return d<-m?f|=1:d>m&&(f|=2),c<-m?f|=4:c>m&&(f|=8),f}return(0,b.c)(o,function(d){var c,m,f,p,v;return{lineStart:function(){p=f=!1,v=1},point:function(y,x){var _,h=[y,x],S=o(y,x),w=r?S?0:u(y,x):S?u(y+(y<0?a.pi:-a.pi),x):0;if(!c&&(p=f=S)&&d.lineStart(),S!==f&&(!(_=l(c,h))||(0,T.c)(c,_)||(0,T.c)(h,_))&&(h[2]=1),S!==f)v=0,S?(d.lineStart(),_=l(h,c),d.point(_[0],_[1])):(_=l(c,h),d.point(_[0],_[1],2),d.lineEnd()),c=_;else if(n&&c&&r^S){var E;w&m||!(E=l(h,c,!0))||(v=0,r?(d.lineStart(),d.point(E[0][0],E[0][1]),d.point(E[1][0],E[1][1]),d.lineEnd()):(d.point(E[1][0],E[1][1]),d.lineEnd(),d.lineStart(),d.point(E[0][0],E[0][1],3)))}!S||c&&(0,T.c)(c,h)||d.point(h[0],h[1]),c=h,f=S,m=w},lineEnd:function(){f&&d.lineEnd(),c=null},clean:function(){return v|(p&&f)<<1}}},function(d,c,m,f){(0,k.Q)(f,s,i,m,d,c)},r?[0,-s]:[-a.pi,s-a.pi])}},14229:function(ee,D,e){e.d(D,{c:function(){return g}});var M=e(97208),k=e(32232),a=e(64528),T=e(58196),b=e(84706);function g(i,r,n,o){return function(l){var u,d,c,m=r(l),f=(0,M.c)(),p=r(f),v=!1,y={point:x,lineStart:h,lineEnd:S,polygonStart:function(){y.point=w,y.lineStart=E,y.lineEnd=C,d=[],u=[]},polygonEnd:function(){y.point=x,y.lineStart=h,y.lineEnd=S,d=(0,b.Uf)(d);var P=(0,T.c)(u,o);d.length?(v||(l.polygonStart(),v=!0),(0,k.c)(d,t,P,n,l)):P&&(v||(l.polygonStart(),v=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),v&&(l.polygonEnd(),v=!1),d=u=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function x(P,O){i(P,O)&&l.point(P,O)}function _(P,O){m.point(P,O)}function h(){y.point=_,m.lineStart()}function S(){y.point=x,m.lineEnd()}function w(P,O){c.push([P,O]),p.point(P,O)}function E(){p.lineStart(),c=[]}function C(){w(c[0][0],c[0][1]),p.lineEnd();var P,O,R,U,z=p.clean(),N=f.result(),W=N.length;if(c.pop(),u.push(c),c=null,W)if(1&z){if((O=(R=N[0]).length-1)>0){for(v||(l.polygonStart(),v=!0),l.lineStart(),P=0;P<O;++P)l.point((U=R[P])[0],U[1]);l.lineEnd()}}else W>1&&2&z&&N.push(N.pop().concat(N.shift())),d.push(N.filter(s))}return y}}function s(i){return i.length>1}function t(i,r){return((i=i.x)[0]<0?i[1]-a.or-a.Gg:a.or-i[1])-((r=r.x)[0]<0?r[1]-a.or-a.Gg:a.or-r[1])}},21676:function(ee,D,e){e.d(D,{c:function(){return s}});var M=e(64528),k=e(97208),a=e(32232),T=e(84706),b=1e9,g=-b;function s(t,i,r,n){function o(m,f){return t<=m&&m<=r&&i<=f&&f<=n}function l(m,f,p,v){var y=0,x=0;if(m==null||(y=u(m,p))!==(x=u(f,p))||c(m,f)<0^p>0)do v.point(y===0||y===3?t:r,y>1?n:i);while((y=(y+p+4)%4)!==x);else v.point(f[0],f[1])}function u(m,f){return(0,M.a2)(m[0]-t)<M.Gg?f>0?0:3:(0,M.a2)(m[0]-r)<M.Gg?f>0?2:1:(0,M.a2)(m[1]-i)<M.Gg?f>0?1:0:f>0?3:2}function d(m,f){return c(m.x,f.x)}function c(m,f){var p=u(m,1),v=u(f,1);return p!==v?p-v:p===0?f[1]-m[1]:p===1?m[0]-f[0]:p===2?m[1]-f[1]:f[0]-m[0]}return function(m){var f,p,v,y,x,_,h,S,w,E,C,P=m,O=(0,k.c)(),R={point:U,lineStart:function(){R.point=z,p&&p.push(v=[]),E=!0,w=!1,h=S=NaN},lineEnd:function(){f&&(z(y,x),_&&w&&O.rejoin(),f.push(O.result())),R.point=U,w&&P.lineEnd()},polygonStart:function(){P=O,f=[],p=[],C=!0},polygonEnd:function(){var N=function(){for(var V=0,j=0,te=p.length;j<te;++j)for(var J,K,Z=p[j],X=1,Q=Z.length,re=Z[0],ae=re[0],ie=re[1];X<Q;++X)J=ae,K=ie,ae=(re=Z[X])[0],ie=re[1],K<=n?ie>n&&(ae-J)*(n-K)>(ie-K)*(t-J)&&++V:ie<=n&&(ae-J)*(n-K)<(ie-K)*(t-J)&&--V;return V}(),W=C&&N,F=(f=(0,T.Uf)(f)).length;(W||F)&&(m.polygonStart(),W&&(m.lineStart(),l(null,null,1,m),m.lineEnd()),F&&(0,a.c)(f,d,N,l,m),m.polygonEnd()),P=m,f=p=v=null}};function U(N,W){o(N,W)&&P.point(N,W)}function z(N,W){var F=o(N,W);if(p&&v.push([N,W]),E)y=N,x=W,_=F,E=!1,F&&(P.lineStart(),P.point(N,W));else if(F&&w)P.point(N,W);else{var V=[h=Math.max(g,Math.min(b,h)),S=Math.max(g,Math.min(b,S))],j=[N=Math.max(g,Math.min(b,N)),W=Math.max(g,Math.min(b,W))];(function(te,J,K,Z,X,Q){var re,ae=te[0],ie=te[1],le=0,pe=1,de=J[0]-ae,ve=J[1]-ie;if(re=K-ae,de||!(re>0)){if(re/=de,de<0){if(re<le)return;re<pe&&(pe=re)}else if(de>0){if(re>pe)return;re>le&&(le=re)}if(re=X-ae,de||!(re<0)){if(re/=de,de<0){if(re>pe)return;re>le&&(le=re)}else if(de>0){if(re<le)return;re<pe&&(pe=re)}if(re=Z-ie,ve||!(re>0)){if(re/=ve,ve<0){if(re<le)return;re<pe&&(pe=re)}else if(ve>0){if(re>pe)return;re>le&&(le=re)}if(re=Q-ie,ve||!(re<0)){if(re/=ve,ve<0){if(re>pe)return;re>le&&(le=re)}else if(ve>0){if(re<le)return;re<pe&&(pe=re)}return le>0&&(te[0]=ae+le*de,te[1]=ie+le*ve),pe<1&&(J[0]=ae+pe*de,J[1]=ie+pe*ve),!0}}}}})(V,j,t,i,r,n)?(w||(P.lineStart(),P.point(V[0],V[1])),P.point(j[0],j[1]),F||P.lineEnd(),C=!1):F&&(P.lineStart(),P.point(N,W),C=!1)}h=N,S=W,w=F}return R}}},32232:function(ee,D,e){e.d(D,{c:function(){return T}});var M=e(41860),k=e(64528);function a(g,s,t,i){this.x=g,this.z=s,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function T(g,s,t,i,r){var n,o,l=[],u=[];if(g.forEach(function(v){if(!((y=v.length-1)<=0)){var y,x,_=v[0],h=v[y];if((0,M.c)(_,h)){if(!_[2]&&!h[2]){for(r.lineStart(),n=0;n<y;++n)r.point((_=v[n])[0],_[1]);return void r.lineEnd()}h[0]+=2*k.Gg}l.push(x=new a(_,v,null,!0)),u.push(x.o=new a(_,null,x,!1)),l.push(x=new a(h,v,null,!1)),u.push(x.o=new a(h,null,x,!0))}}),l.length){for(u.sort(s),b(l),b(u),n=0,o=u.length;n<o;++n)u[n].e=t=!t;for(var d,c,m=l[0];;){for(var f=m,p=!0;f.v;)if((f=f.n)===m)return;d=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(n=0,o=d.length;n<o;++n)r.point((c=d[n])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(d=f.p.z,n=d.length-1;n>=0;--n)r.point((c=d[n])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}d=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}}function b(g){if(s=g.length){for(var s,t,i=0,r=g[0];++i<s;)r.n=t=g[i],t.p=r,r=t;r.n=t=g[0],t.p=r}}},68120:function(ee,D,e){function M(k,a){function T(b,g){return b=k(b,g),a(b[0],b[1])}return k.invert&&a.invert&&(T.invert=function(b,g){return(b=a.invert(b,g))&&k.invert(b[0],b[1])}),T}e.d(D,{c:function(){return M}})},7376:function(ee,D,e){function M(k){return k}e.d(D,{c:function(){return M}})},83356:function(ee,D,e){e.r(D),e.d(D,{geoAlbers:function(){return dt},geoAlbersUsa:function(){return kt},geoArea:function(){return M.cp},geoAzimuthalEqualArea:function(){return xt.c},geoAzimuthalEqualAreaRaw:function(){return xt.y},geoAzimuthalEquidistant:function(){return vt.c},geoAzimuthalEquidistantRaw:function(){return vt.O},geoBounds:function(){return k.c},geoCentroid:function(){return a.c},geoCircle:function(){return T.c},geoClipAntimeridian:function(){return b.c},geoClipCircle:function(){return g.c},geoClipExtent:function(){return t},geoClipRectangle:function(){return s.c},geoConicConformal:function(){return jt},geoConicConformalRaw:function(){return Nt},geoConicEqualArea:function(){return ht},geoConicEqualAreaRaw:function(){return ct},geoConicEquidistant:function(){return _n},geoConicEquidistantRaw:function(){return An},geoContains:function(){return N},geoDistance:function(){return S},geoEqualEarth:function(){return wn},geoEqualEarthRaw:function(){return xn},geoEquirectangular:function(){return Jt.c},geoEquirectangularRaw:function(){return Jt.u},geoGnomonic:function(){return Pn.c},geoGnomonicRaw:function(){return Pn.Y},geoGraticule:function(){return j},geoGraticule10:function(){return te},geoIdentity:function(){return Sn},geoInterpolate:function(){return Q.c},geoLength:function(){return x},geoMercator:function(){return It},geoMercatorRaw:function(){return St},geoNaturalEarth1:function(){return Nn.c},geoNaturalEarth1Raw:function(){return Nn.g},geoOrthographic:function(){return zn.c},geoOrthographicRaw:function(){return zn.t},geoPath:function(){return Fe},geoProjection:function(){return rt.c},geoProjectionMutator:function(){return rt.U},geoRotation:function(){return Mt.c},geoStereographic:function(){return ir},geoStereographicRaw:function(){return nr},geoStream:function(){return c.c},geoTransform:function(){return Cn.c},geoTransverseMercator:function(){return mr},geoTransverseMercatorRaw:function(){return Yn}});var M=e(95384),k=e(13696),a=e(24052),T=e(61780),b=e(78284),g=e(2728),s=e(21676);function t(){var Bt,Qt,vn,fn=0,Tn=0,jn=960,On=500;return vn={stream:function(Dn){return Bt&&Qt===Dn?Bt:Bt=(0,s.c)(fn,Tn,jn,On)(Qt=Dn)},extent:function(Dn){return arguments.length?(fn=+Dn[0][0],Tn=+Dn[0][1],jn=+Dn[1][0],On=+Dn[1][1],Bt=Qt=null,vn):[[fn,Tn],[jn,On]]}}}var i,r,n,o=e(58196),l=e(88728),u=e(64528),d=e(70932),c=e(16016),m=(0,l.c)(),f={sphere:d.c,point:d.c,lineStart:function(){f.point=v,f.lineEnd=p},lineEnd:d.c,polygonStart:d.c,polygonEnd:d.c};function p(){f.point=f.lineEnd=d.c}function v(Bt,Qt){Bt*=u.qw,Qt*=u.qw,i=Bt,r=(0,u.g$)(Qt),n=(0,u.W8)(Qt),f.point=y}function y(Bt,Qt){Bt*=u.qw,Qt*=u.qw;var vn=(0,u.g$)(Qt),fn=(0,u.W8)(Qt),Tn=(0,u.a2)(Bt-i),jn=(0,u.W8)(Tn),On=fn*(0,u.g$)(Tn),Dn=n*vn-r*fn*jn,$n=r*vn+n*fn*jn;m.add((0,u.WE)((0,u._I)(On*On+Dn*Dn),$n)),i=Bt,r=vn,n=fn}function x(Bt){return m.reset(),(0,c.c)(Bt,f),+m}var _=[null,null],h={type:"LineString",coordinates:_};function S(Bt,Qt){return _[0]=Bt,_[1]=Qt,x(h)}var w={Feature:function(Bt,Qt){return C(Bt.geometry,Qt)},FeatureCollection:function(Bt,Qt){for(var vn=Bt.features,fn=-1,Tn=vn.length;++fn<Tn;)if(C(vn[fn].geometry,Qt))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Bt,Qt){return P(Bt.coordinates,Qt)},MultiPoint:function(Bt,Qt){for(var vn=Bt.coordinates,fn=-1,Tn=vn.length;++fn<Tn;)if(P(vn[fn],Qt))return!0;return!1},LineString:function(Bt,Qt){return O(Bt.coordinates,Qt)},MultiLineString:function(Bt,Qt){for(var vn=Bt.coordinates,fn=-1,Tn=vn.length;++fn<Tn;)if(O(vn[fn],Qt))return!0;return!1},Polygon:function(Bt,Qt){return R(Bt.coordinates,Qt)},MultiPolygon:function(Bt,Qt){for(var vn=Bt.coordinates,fn=-1,Tn=vn.length;++fn<Tn;)if(R(vn[fn],Qt))return!0;return!1},GeometryCollection:function(Bt,Qt){for(var vn=Bt.geometries,fn=-1,Tn=vn.length;++fn<Tn;)if(C(vn[fn],Qt))return!0;return!1}};function C(Bt,Qt){return!(!Bt||!E.hasOwnProperty(Bt.type))&&E[Bt.type](Bt,Qt)}function P(Bt,Qt){return S(Bt,Qt)===0}function O(Bt,Qt){for(var vn,fn,Tn,jn=0,On=Bt.length;jn<On;jn++){if((fn=S(Bt[jn],Qt))===0||jn>0&&(Tn=S(Bt[jn],Bt[jn-1]))>0&&vn<=Tn&&fn<=Tn&&(vn+fn-Tn)*(1-Math.pow((vn-fn)/Tn,2))<u.a8*Tn)return!0;vn=fn}return!1}function R(Bt,Qt){return!!(0,o.c)(Bt.map(U),z(Qt))}function U(Bt){return(Bt=Bt.map(z)).pop(),Bt}function z(Bt){return[Bt[0]*u.qw,Bt[1]*u.qw]}function N(Bt,Qt){return(Bt&&w.hasOwnProperty(Bt.type)?w[Bt.type]:C)(Bt,Qt)}var W=e(84706);function F(Bt,Qt,vn){var fn=(0,W.ik)(Bt,Qt-u.Gg,vn).concat(Qt);return function(Tn){return fn.map(function(jn){return[Tn,jn]})}}function V(Bt,Qt,vn){var fn=(0,W.ik)(Bt,Qt-u.Gg,vn).concat(Qt);return function(Tn){return fn.map(function(jn){return[jn,Tn]})}}function j(){var Bt,Qt,vn,fn,Tn,jn,On,Dn,$n,qt,hn,Et,Ht=10,Kt=Ht,gn=90,pn=360,yn=2.5;function on(){return{type:"MultiLineString",coordinates:Zt()}}function Zt(){return(0,W.ik)((0,u.Km)(fn/gn)*gn,vn,gn).map(hn).concat((0,W.ik)((0,u.Km)(Dn/pn)*pn,On,pn).map(Et)).concat((0,W.ik)((0,u.Km)(Qt/Ht)*Ht,Bt,Ht).filter(function(Xt){return(0,u.a2)(Xt%gn)>u.Gg}).map($n)).concat((0,W.ik)((0,u.Km)(jn/Kt)*Kt,Tn,Kt).filter(function(Xt){return(0,u.a2)(Xt%pn)>u.Gg}).map(qt))}return on.lines=function(){return Zt().map(function(Xt){return{type:"LineString",coordinates:Xt}})},on.outline=function(){return{type:"Polygon",coordinates:[hn(fn).concat(Et(On).slice(1),hn(vn).reverse().slice(1),Et(Dn).reverse().slice(1))]}},on.extent=function(Xt){return arguments.length?on.extentMajor(Xt).extentMinor(Xt):on.extentMinor()},on.extentMajor=function(Xt){return arguments.length?(fn=+Xt[0][0],vn=+Xt[1][0],Dn=+Xt[0][1],On=+Xt[1][1],fn>vn&&(Xt=fn,fn=vn,vn=Xt),Dn>On&&(Xt=Dn,Dn=On,On=Xt),on.precision(yn)):[[fn,Dn],[vn,On]]},on.extentMinor=function(Xt){return arguments.length?(Qt=+Xt[0][0],Bt=+Xt[1][0],jn=+Xt[0][1],Tn=+Xt[1][1],Qt>Bt&&(Xt=Qt,Qt=Bt,Bt=Xt),jn>Tn&&(Xt=jn,jn=Tn,Tn=Xt),on.precision(yn)):[[Qt,jn],[Bt,Tn]]},on.step=function(Xt){return arguments.length?on.stepMajor(Xt).stepMinor(Xt):on.stepMinor()},on.stepMajor=function(Xt){return arguments.length?(gn=+Xt[0],pn=+Xt[1],on):[gn,pn]},on.stepMinor=function(Xt){return arguments.length?(Ht=+Xt[0],Kt=+Xt[1],on):[Ht,Kt]},on.precision=function(Xt){return arguments.length?(yn=+Xt,$n=F(jn,Tn,90),qt=V(Qt,Bt,yn),hn=F(Dn,On,90),Et=V(fn,vn,yn),on):yn},on.extentMajor([[-180,-90+u.Gg],[180,90-u.Gg]]).extentMinor([[-180,-80-u.Gg],[180,80+u.Gg]])}function te(){return j()()}var J,K,Z,X,Q=e(27284),re=e(7376),ae=(0,l.c)(),ie=(0,l.c)(),le={point:d.c,lineStart:d.c,lineEnd:d.c,polygonStart:function(){le.lineStart=pe,le.lineEnd=be},polygonEnd:function(){le.lineStart=le.lineEnd=le.point=d.c,ae.add((0,u.a2)(ie)),ie.reset()},result:function(){var Bt=ae/2;return ae.reset(),Bt}};function pe(){le.point=de}function de(Bt,Qt){le.point=ve,J=Z=Bt,K=X=Qt}function ve(Bt,Qt){ie.add(X*Bt-Z*Qt),Z=Bt,X=Qt}function be(){ve(J,K)}var me,ge,ke,we,ue=le,oe=e(73784),he=0,Ee=0,Te=0,Me=0,Se=0,ze=0,fe=0,xe=0,_e=0,Oe={point:De,lineStart:Pe,lineEnd:Xe,polygonStart:function(){Oe.lineStart=it,Oe.lineEnd=tt},polygonEnd:function(){Oe.point=De,Oe.lineStart=Pe,Oe.lineEnd=Xe},result:function(){var Bt=_e?[fe/_e,xe/_e]:ze?[Me/ze,Se/ze]:Te?[he/Te,Ee/Te]:[NaN,NaN];return he=Ee=Te=Me=Se=ze=fe=xe=_e=0,Bt}};function De(Bt,Qt){he+=Bt,Ee+=Qt,++Te}function Pe(){Oe.point=Ue}function Ue(Bt,Qt){Oe.point=Ve,De(ke=Bt,we=Qt)}function Ve(Bt,Qt){var vn=Bt-ke,fn=Qt-we,Tn=(0,u._I)(vn*vn+fn*fn);Me+=Tn*(ke+Bt)/2,Se+=Tn*(we+Qt)/2,ze+=Tn,De(ke=Bt,we=Qt)}function Xe(){Oe.point=De}function it(){Oe.point=pt}function tt(){mt(me,ge)}function pt(Bt,Qt){Oe.point=mt,De(me=ke=Bt,ge=we=Qt)}function mt(Bt,Qt){var vn=Bt-ke,fn=Qt-we,Tn=(0,u._I)(vn*vn+fn*fn);Me+=Tn*(ke+Bt)/2,Se+=Tn*(we+Qt)/2,ze+=Tn,fe+=(Tn=we*Bt-ke*Qt)*(ke+Bt),xe+=Tn*(we+Qt),_e+=3*Tn,De(ke=Bt,we=Qt)}var gt=Oe;function et(Bt){this._context=Bt}et.prototype={_radius:4.5,pointRadius:function(Bt){return this._radius=Bt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Bt,Qt){switch(this._point){case 0:this._context.moveTo(Bt,Qt),this._point=1;break;case 1:this._context.lineTo(Bt,Qt);break;default:this._context.moveTo(Bt+this._radius,Qt),this._context.arc(Bt,Qt,this._radius,0,u.kD)}},result:d.c};var $e,_t,Pt,Ot,Lt,He=(0,l.c)(),We={point:d.c,lineStart:function(){We.point=Be},lineEnd:function(){$e&&Ge(_t,Pt),We.point=d.c},polygonStart:function(){$e=!0},polygonEnd:function(){$e=null},result:function(){var Bt=+He;return He.reset(),Bt}};function Be(Bt,Qt){We.point=Ge,_t=Ot=Bt,Pt=Lt=Qt}function Ge(Bt,Qt){Ot-=Bt,Lt-=Qt,He.add((0,u._I)(Ot*Ot+Lt*Lt)),Ot=Bt,Lt=Qt}var at=We;function nt(){this._string=[]}function Re(Bt){return"m0,"+Bt+"a"+Bt+","+Bt+" 0 1,1 0,"+-2*Bt+"a"+Bt+","+Bt+" 0 1,1 0,"+2*Bt+"z"}function Fe(Bt,Qt){var vn,fn,Tn=4.5;function jn(On){return On&&(typeof Tn=="function"&&fn.pointRadius(+Tn.apply(this,arguments)),(0,c.c)(On,vn(fn))),fn.result()}return jn.area=function(On){return(0,c.c)(On,vn(ue)),ue.result()},jn.measure=function(On){return(0,c.c)(On,vn(at)),at.result()},jn.bounds=function(On){return(0,c.c)(On,vn(oe.c)),oe.c.result()},jn.centroid=function(On){return(0,c.c)(On,vn(gt)),gt.result()},jn.projection=function(On){return arguments.length?(vn=On==null?(Bt=null,re.c):(Bt=On).stream,jn):Bt},jn.context=function(On){return arguments.length?(fn=On==null?(Qt=null,new nt):new et(Qt=On),typeof Tn!="function"&&fn.pointRadius(Tn),jn):Qt},jn.pointRadius=function(On){return arguments.length?(Tn=typeof On=="function"?On:(fn.pointRadius(+On),+On),jn):Tn},jn.projection(Bt).context(Qt)}nt.prototype={_radius:4.5,_circle:Re(4.5),pointRadius:function(Bt){return(Bt=+Bt)!==this._radius&&(this._radius=Bt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Bt,Qt){switch(this._point){case 0:this._string.push("M",Bt,",",Qt),this._point=1;break;case 1:this._string.push("L",Bt,",",Qt);break;default:this._circle==null&&(this._circle=Re(this._radius)),this._string.push("M",Bt,",",Qt,this._circle)}},result:function(){if(this._string.length){var Bt=this._string.join("");return this._string=[],Bt}return null}};var rt=e(87952);function Ye(Bt){var Qt=0,vn=u.pi/3,fn=(0,rt.U)(Bt),Tn=fn(Qt,vn);return Tn.parallels=function(jn){return arguments.length?fn(Qt=jn[0]*u.qw,vn=jn[1]*u.qw):[Qt*u.oh,vn*u.oh]},Tn}function ct(Bt,Qt){var vn=(0,u.g$)(Bt),fn=(vn+(0,u.g$)(Qt))/2;if((0,u.a2)(fn)<u.Gg)return function(Dn){var $n=(0,u.W8)(Dn);function qt(hn,Et){return[hn*$n,(0,u.g$)(Et)/$n]}return qt.invert=function(hn,Et){return[hn/$n,(0,u.qR)(Et*$n)]},qt}(Bt);var Tn=1+vn*(2*fn-vn),jn=(0,u._I)(Tn)/fn;function On(Dn,$n){var qt=(0,u._I)(Tn-2*fn*(0,u.g$)($n))/fn;return[qt*(0,u.g$)(Dn*=fn),jn-qt*(0,u.W8)(Dn)]}return On.invert=function(Dn,$n){var qt=jn-$n,hn=(0,u.WE)(Dn,(0,u.a2)(qt))*(0,u.kq)(qt);return qt*fn<0&&(hn-=u.pi*(0,u.kq)(Dn)*(0,u.kq)(qt)),[hn/fn,(0,u.qR)((Tn-(Dn*Dn+qt*qt)*fn*fn)/(2*fn))]},On}function ht(){return Ye(ct).scale(155.424).center([0,33.6442])}function dt(){return ht().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ut=e(86420);function kt(){var Bt,Qt,vn,fn,Tn,jn,On=dt(),Dn=ht().rotate([154,0]).center([-2,58.5]).parallels([55,65]),$n=ht().rotate([157,0]).center([-3,19.9]).parallels([8,18]),qt={point:function(Ht,Kt){jn=[Ht,Kt]}};function hn(Ht){var Kt=Ht[0],gn=Ht[1];return jn=null,vn.point(Kt,gn),jn||(fn.point(Kt,gn),jn)||(Tn.point(Kt,gn),jn)}function Et(){return Bt=Qt=null,hn}return hn.invert=function(Ht){var Kt=On.scale(),gn=On.translate(),pn=(Ht[0]-gn[0])/Kt,yn=(Ht[1]-gn[1])/Kt;return(yn>=.12&&yn<.234&&pn>=-.425&&pn<-.214?Dn:yn>=.166&&yn<.234&&pn>=-.214&&pn<-.115?$n:On).invert(Ht)},hn.stream=function(Ht){return Bt&&Qt===Ht?Bt:(Kt=[On.stream(Qt=Ht),Dn.stream(Ht),$n.stream(Ht)],gn=Kt.length,Bt={point:function(pn,yn){for(var on=-1;++on<gn;)Kt[on].point(pn,yn)},sphere:function(){for(var pn=-1;++pn<gn;)Kt[pn].sphere()},lineStart:function(){for(var pn=-1;++pn<gn;)Kt[pn].lineStart()},lineEnd:function(){for(var pn=-1;++pn<gn;)Kt[pn].lineEnd()},polygonStart:function(){for(var pn=-1;++pn<gn;)Kt[pn].polygonStart()},polygonEnd:function(){for(var pn=-1;++pn<gn;)Kt[pn].polygonEnd()}});var Kt,gn},hn.precision=function(Ht){return arguments.length?(On.precision(Ht),Dn.precision(Ht),$n.precision(Ht),Et()):On.precision()},hn.scale=function(Ht){return arguments.length?(On.scale(Ht),Dn.scale(.35*Ht),$n.scale(Ht),hn.translate(On.translate())):On.scale()},hn.translate=function(Ht){if(!arguments.length)return On.translate();var Kt=On.scale(),gn=+Ht[0],pn=+Ht[1];return vn=On.translate(Ht).clipExtent([[gn-.455*Kt,pn-.238*Kt],[gn+.455*Kt,pn+.238*Kt]]).stream(qt),fn=Dn.translate([gn-.307*Kt,pn+.201*Kt]).clipExtent([[gn-.425*Kt+u.Gg,pn+.12*Kt+u.Gg],[gn-.214*Kt-u.Gg,pn+.234*Kt-u.Gg]]).stream(qt),Tn=$n.translate([gn-.205*Kt,pn+.212*Kt]).clipExtent([[gn-.214*Kt+u.Gg,pn+.166*Kt+u.Gg],[gn-.115*Kt-u.Gg,pn+.234*Kt-u.Gg]]).stream(qt),Et()},hn.fitExtent=function(Ht,Kt){return(0,ut.QX)(hn,Ht,Kt)},hn.fitSize=function(Ht,Kt){return(0,ut.UV)(hn,Ht,Kt)},hn.fitWidth=function(Ht,Kt){return(0,ut.Qx)(hn,Ht,Kt)},hn.fitHeight=function(Ht,Kt){return(0,ut.OW)(hn,Ht,Kt)},hn.scale(1070)}var xt=e(54724),vt=e(69020),Mt=e(92992);function St(Bt,Qt){return[Bt,(0,u.Yz)((0,u.a6)((u.or+Qt)/2))]}function It(){return Gt(St).scale(961/u.kD)}function Gt(Bt){var Qt,vn,fn,Tn=(0,rt.c)(Bt),jn=Tn.center,On=Tn.scale,Dn=Tn.translate,$n=Tn.clipExtent,qt=null;function hn(){var Et=u.pi*On(),Ht=Tn((0,Mt.c)(Tn.rotate()).invert([0,0]));return $n(qt==null?[[Ht[0]-Et,Ht[1]-Et],[Ht[0]+Et,Ht[1]+Et]]:Bt===St?[[Math.max(Ht[0]-Et,qt),Qt],[Math.min(Ht[0]+Et,vn),fn]]:[[qt,Math.max(Ht[1]-Et,Qt)],[vn,Math.min(Ht[1]+Et,fn)]])}return Tn.scale=function(Et){return arguments.length?(On(Et),hn()):On()},Tn.translate=function(Et){return arguments.length?(Dn(Et),hn()):Dn()},Tn.center=function(Et){return arguments.length?(jn(Et),hn()):jn()},Tn.clipExtent=function(Et){return arguments.length?(Et==null?qt=Qt=vn=fn=null:(qt=+Et[0][0],Qt=+Et[0][1],vn=+Et[1][0],fn=+Et[1][1]),hn()):qt==null?null:[[qt,Qt],[vn,fn]]},hn()}function en(Bt){return(0,u.a6)((u.or+Bt)/2)}function Nt(Bt,Qt){var vn=(0,u.W8)(Bt),fn=Bt===Qt?(0,u.g$)(Bt):(0,u.Yz)(vn/(0,u.W8)(Qt))/(0,u.Yz)(en(Qt)/en(Bt)),Tn=vn*(0,u.g3)(en(Bt),fn)/fn;if(!fn)return St;function jn(On,Dn){Tn>0?Dn<-u.or+u.Gg&&(Dn=-u.or+u.Gg):Dn>u.or-u.Gg&&(Dn=u.or-u.Gg);var $n=Tn/(0,u.g3)(en(Dn),fn);return[$n*(0,u.g$)(fn*On),Tn-$n*(0,u.W8)(fn*On)]}return jn.invert=function(On,Dn){var $n=Tn-Dn,qt=(0,u.kq)(fn)*(0,u._I)(On*On+$n*$n),hn=(0,u.WE)(On,(0,u.a2)($n))*(0,u.kq)($n);return $n*fn<0&&(hn-=u.pi*(0,u.kq)(On)*(0,u.kq)($n)),[hn/fn,2*(0,u.MQ)((0,u.g3)(Tn/qt,1/fn))-u.or]},jn}function jt(){return Ye(Nt).scale(109.5).parallels([30,30])}St.invert=function(Bt,Qt){return[Bt,2*(0,u.MQ)((0,u.oN)(Qt))-u.or]};var Jt=e(69604);function An(Bt,Qt){var vn=(0,u.W8)(Bt),fn=Bt===Qt?(0,u.g$)(Bt):(vn-(0,u.W8)(Qt))/(Qt-Bt),Tn=vn/fn+Bt;if((0,u.a2)(fn)<u.Gg)return Jt.u;function jn(On,Dn){var $n=Tn-Dn,qt=fn*On;return[$n*(0,u.g$)(qt),Tn-$n*(0,u.W8)(qt)]}return jn.invert=function(On,Dn){var $n=Tn-Dn,qt=(0,u.WE)(On,(0,u.a2)($n))*(0,u.kq)($n);return $n*fn<0&&(qt-=u.pi*(0,u.kq)(On)*(0,u.kq)($n)),[qt/fn,Tn-(0,u.kq)(fn)*(0,u._I)(On*On+$n*$n)]},jn}function _n(){return Ye(An).scale(131.154).center([0,13.9389])}var un=1.340264,Wt=-.081106,rn=893e-6,$t=.003796,sn=(0,u._I)(3)/2;function xn(Bt,Qt){var vn=(0,u.qR)(sn*(0,u.g$)(Qt)),fn=vn*vn,Tn=fn*fn*fn;return[Bt*(0,u.W8)(vn)/(sn*(un+3*Wt*fn+Tn*(7*rn+9*$t*fn))),vn*(un+Wt*fn+Tn*(rn+$t*fn))]}function wn(){return(0,rt.c)(xn).scale(177.158)}xn.invert=function(Bt,Qt){for(var vn,fn=Qt,Tn=fn*fn,jn=Tn*Tn*Tn,On=0;On<12&&(jn=(Tn=(fn-=vn=(fn*(un+Wt*Tn+jn*(rn+$t*Tn))-Qt)/(un+3*Wt*Tn+jn*(7*rn+9*$t*Tn)))*fn)*Tn*Tn,!((0,u.a2)(vn)<u.a8));++On);return[sn*Bt*(un+3*Wt*Tn+jn*(7*rn+9*$t*Tn))/(0,u.W8)(fn),(0,u.qR)((0,u.g$)(fn)/sn)]};var Pn=e(53285),Cn=e(15196);function Sn(){var Bt,Qt,vn,fn,Tn,jn,On,Dn=1,$n=0,qt=0,hn=1,Et=1,Ht=0,Kt=null,gn=1,pn=1,yn=(0,Cn.s)({point:function(nn,ln){var kn=Xt([nn,ln]);this.stream.point(kn[0],kn[1])}}),on=re.c;function Zt(){return gn=Dn*hn,pn=Dn*Et,jn=On=null,Xt}function Xt(nn){var ln=nn[0]*gn,kn=nn[1]*pn;if(Ht){var En=kn*Bt-ln*Qt;ln=ln*Bt+kn*Qt,kn=En}return[ln+$n,kn+qt]}return Xt.invert=function(nn){var ln=nn[0]-$n,kn=nn[1]-qt;if(Ht){var En=kn*Bt+ln*Qt;ln=ln*Bt-kn*Qt,kn=En}return[ln/gn,kn/pn]},Xt.stream=function(nn){return jn&&On===nn?jn:jn=yn(on(On=nn))},Xt.postclip=function(nn){return arguments.length?(on=nn,Kt=vn=fn=Tn=null,Zt()):on},Xt.clipExtent=function(nn){return arguments.length?(on=nn==null?(Kt=vn=fn=Tn=null,re.c):(0,s.c)(Kt=+nn[0][0],vn=+nn[0][1],fn=+nn[1][0],Tn=+nn[1][1]),Zt()):Kt==null?null:[[Kt,vn],[fn,Tn]]},Xt.scale=function(nn){return arguments.length?(Dn=+nn,Zt()):Dn},Xt.translate=function(nn){return arguments.length?($n=+nn[0],qt=+nn[1],Zt()):[$n,qt]},Xt.angle=function(nn){return arguments.length?(Ht=nn%360*u.qw,Qt=(0,u.g$)(Ht),Bt=(0,u.W8)(Ht),Zt()):Ht*u.oh},Xt.reflectX=function(nn){return arguments.length?(hn=nn?-1:1,Zt()):hn<0},Xt.reflectY=function(nn){return arguments.length?(Et=nn?-1:1,Zt()):Et<0},Xt.fitExtent=function(nn,ln){return(0,ut.QX)(Xt,nn,ln)},Xt.fitSize=function(nn,ln){return(0,ut.UV)(Xt,nn,ln)},Xt.fitWidth=function(nn,ln){return(0,ut.Qx)(Xt,nn,ln)},Xt.fitHeight=function(nn,ln){return(0,ut.OW)(Xt,nn,ln)},Xt}var Nn=e(47984),zn=e(4888),er=e(62280);function nr(Bt,Qt){var vn=(0,u.W8)(Qt),fn=1+(0,u.W8)(Bt)*vn;return[vn*(0,u.g$)(Bt)/fn,(0,u.g$)(Qt)/fn]}function ir(){return(0,rt.c)(nr).scale(250).clipAngle(142)}function Yn(Bt,Qt){return[(0,u.Yz)((0,u.a6)((u.or+Qt)/2)),-Bt]}function mr(){var Bt=Gt(Yn),Qt=Bt.center,vn=Bt.rotate;return Bt.center=function(fn){return arguments.length?Qt([-fn[1],fn[0]]):[(fn=Qt())[1],-fn[0]]},Bt.rotate=function(fn){return arguments.length?vn([fn[0],fn[1],fn.length>2?fn[2]+90:90]):[(fn=vn())[0],fn[1],fn[2]-90]},vn([0,0,90]).scale(159.155)}nr.invert=(0,er.g)(function(Bt){return 2*(0,u.MQ)(Bt)}),Yn.invert=function(Bt,Qt){return[-Qt,2*(0,u.MQ)((0,u.oN)(Bt))-u.or]}},27284:function(ee,D,e){e.d(D,{c:function(){return k}});var M=e(64528);function k(a,T){var b=a[0]*M.qw,g=a[1]*M.qw,s=T[0]*M.qw,t=T[1]*M.qw,i=(0,M.W8)(g),r=(0,M.g$)(g),n=(0,M.W8)(t),o=(0,M.g$)(t),l=i*(0,M.W8)(b),u=i*(0,M.g$)(b),d=n*(0,M.W8)(s),c=n*(0,M.g$)(s),m=2*(0,M.qR)((0,M._I)((0,M.SD)(t-g)+i*n*(0,M.SD)(s-b))),f=(0,M.g$)(m),p=m?function(v){var y=(0,M.g$)(v*=m)/f,x=(0,M.g$)(m-v)/f,_=x*l+y*d,h=x*u+y*c,S=x*r+y*o;return[(0,M.WE)(h,_)*M.oh,(0,M.WE)(S,(0,M._I)(_*_+h*h))*M.oh]}:function(){return[b*M.oh,g*M.oh]};return p.distance=m,p}},64528:function(ee,D,e){e.d(D,{Gg:function(){return M},Km:function(){return l},MQ:function(){return r},SD:function(){return _},W8:function(){return o},WE:function(){return n},Yz:function(){return d},_I:function(){return p},a2:function(){return i},a6:function(){return v},a8:function(){return k},g$:function(){return m},g3:function(){return c},kD:function(){return g},kq:function(){return f},mE:function(){return y},oN:function(){return u},oh:function(){return s},or:function(){return T},pi:function(){return a},qR:function(){return x},qw:function(){return t},wL:function(){return b}});var M=1e-6,k=1e-12,a=Math.PI,T=a/2,b=a/4,g=2*a,s=180/a,t=a/180,i=Math.abs,r=Math.atan,n=Math.atan2,o=Math.cos,l=Math.ceil,u=Math.exp,d=Math.log,c=Math.pow,m=Math.sin,f=Math.sign||function(h){return h>0?1:h<0?-1:0},p=Math.sqrt,v=Math.tan;function y(h){return h>1?0:h<-1?a:Math.acos(h)}function x(h){return h>1?T:h<-1?-T:Math.asin(h)}function _(h){return(h=m(h/2))*h}},70932:function(ee,D,e){function M(){}e.d(D,{c:function(){return M}})},73784:function(ee,D,e){var M=e(70932),k=1/0,a=k,T=-k,b=T,g={point:function(s,t){s<k&&(k=s),s>T&&(T=s),t<a&&(a=t),t>b&&(b=t)},lineStart:M.c,lineEnd:M.c,polygonStart:M.c,polygonEnd:M.c,result:function(){var s=[[k,a],[T,b]];return T=b=-(a=k=1/0),s}};D.c=g},41860:function(ee,D,e){e.d(D,{c:function(){return k}});var M=e(64528);function k(a,T){return(0,M.a2)(a[0]-T[0])<M.Gg&&(0,M.a2)(a[1]-T[1])<M.Gg}},58196:function(ee,D,e){e.d(D,{c:function(){return g}});var M=e(88728),k=e(84220),a=e(64528),T=(0,M.c)();function b(s){return(0,a.a2)(s[0])<=a.pi?s[0]:(0,a.kq)(s[0])*(((0,a.a2)(s[0])+a.pi)%a.kD-a.pi)}function g(s,t){var i=b(t),r=t[1],n=(0,a.g$)(r),o=[(0,a.g$)(i),-(0,a.W8)(i),0],l=0,u=0;T.reset(),n===1?r=a.or+a.Gg:n===-1&&(r=-a.or-a.Gg);for(var d=0,c=s.length;d<c;++d)if(f=(m=s[d]).length)for(var m,f,p=m[f-1],v=b(p),y=p[1]/2+a.wL,x=(0,a.g$)(y),_=(0,a.W8)(y),h=0;h<f;++h,v=w,x=C,_=P,p=S){var S=m[h],w=b(S),E=S[1]/2+a.wL,C=(0,a.g$)(E),P=(0,a.W8)(E),O=w-v,R=O>=0?1:-1,U=R*O,z=U>a.pi,N=x*C;if(T.add((0,a.WE)(N*R*(0,a.g$)(U),_*P+N*(0,a.W8)(U))),l+=z?O+R*a.kD:O,z^v>=i^w>=i){var W=(0,k.CW)((0,k.ux)(p),(0,k.ux)(S));(0,k.cJ)(W);var F=(0,k.CW)(o,W);(0,k.cJ)(F);var V=(z^O>=0?-1:1)*(0,a.qR)(F[2]);(r>V||r===V&&(W[0]||W[1]))&&(u+=z^O>=0?1:-1)}}return(l<-a.Gg||l<a.Gg&&T<-a.Gg)^1&u}},62280:function(ee,D,e){e.d(D,{a:function(){return k},g:function(){return a}});var M=e(64528);function k(T){return function(b,g){var s=(0,M.W8)(b),t=(0,M.W8)(g),i=T(s*t);return[i*t*(0,M.g$)(b),i*(0,M.g$)(g)]}}function a(T){return function(b,g){var s=(0,M._I)(b*b+g*g),t=T(s),i=(0,M.g$)(t),r=(0,M.W8)(t);return[(0,M.WE)(b*i,s*r),(0,M.qR)(s&&g*i/s)]}}},54724:function(ee,D,e){e.d(D,{c:function(){return b},y:function(){return T}});var M=e(64528),k=e(62280),a=e(87952),T=(0,k.a)(function(g){return(0,M._I)(2/(1+g))});function b(){return(0,a.c)(T).scale(124.75).clipAngle(179.999)}T.invert=(0,k.g)(function(g){return 2*(0,M.qR)(g/2)})},69020:function(ee,D,e){e.d(D,{O:function(){return T},c:function(){return b}});var M=e(64528),k=e(62280),a=e(87952),T=(0,k.a)(function(g){return(g=(0,M.mE)(g))&&g/(0,M.g$)(g)});function b(){return(0,a.c)(T).scale(79.4188).clipAngle(179.999)}T.invert=(0,k.g)(function(g){return g})},69604:function(ee,D,e){e.d(D,{c:function(){return a},u:function(){return k}});var M=e(87952);function k(T,b){return[T,b]}function a(){return(0,M.c)(k).scale(152.63)}k.invert=k},86420:function(ee,D,e){e.d(D,{OW:function(){return s},QX:function(){return T},Qx:function(){return g},UV:function(){return b}});var M=e(16016),k=e(73784);function a(t,i,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,M.c)(r,t.stream(k.c)),i(k.c.result()),n!=null&&t.clipExtent(n),t}function T(t,i,r){return a(t,function(n){var o=i[1][0]-i[0][0],l=i[1][1]-i[0][1],u=Math.min(o/(n[1][0]-n[0][0]),l/(n[1][1]-n[0][1])),d=+i[0][0]+(o-u*(n[1][0]+n[0][0]))/2,c=+i[0][1]+(l-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([d,c])},r)}function b(t,i,r){return T(t,[[0,0],i],r)}function g(t,i,r){return a(t,function(n){var o=+i,l=o/(n[1][0]-n[0][0]),u=(o-l*(n[1][0]+n[0][0]))/2,d=-l*n[0][1];t.scale(150*l).translate([u,d])},r)}function s(t,i,r){return a(t,function(n){var o=+i,l=o/(n[1][1]-n[0][1]),u=-l*n[0][0],d=(o-l*(n[1][1]+n[0][1]))/2;t.scale(150*l).translate([u,d])},r)}},53285:function(ee,D,e){e.d(D,{Y:function(){return T},c:function(){return b}});var M=e(64528),k=e(62280),a=e(87952);function T(g,s){var t=(0,M.W8)(s),i=(0,M.W8)(g)*t;return[t*(0,M.g$)(g)/i,(0,M.g$)(s)/i]}function b(){return(0,a.c)(T).scale(144.049).clipAngle(60)}T.invert=(0,k.g)(M.MQ)},87952:function(ee,D,e){e.d(D,{c:function(){return m},U:function(){return f}});var M=e(78284),k=e(2728),a=e(21676),T=e(68120),b=e(7376),g=e(64528),s=e(92992),t=e(15196),i=e(86420),r=e(84220),n=16,o=(0,g.W8)(30*g.qw);function l(p,v){return+v?function(y,x){function _(h,S,w,E,C,P,O,R,U,z,N,W,F,V){var j=O-h,te=R-S,J=j*j+te*te;if(J>4*x&&F--){var K=E+z,Z=C+N,X=P+W,Q=(0,g._I)(K*K+Z*Z+X*X),re=(0,g.qR)(X/=Q),ae=(0,g.a2)((0,g.a2)(X)-1)<g.Gg||(0,g.a2)(w-U)<g.Gg?(w+U)/2:(0,g.WE)(Z,K),ie=y(ae,re),le=ie[0],pe=ie[1],de=le-h,ve=pe-S,be=te*de-j*ve;(be*be/J>x||(0,g.a2)((j*de+te*ve)/J-.5)>.3||E*z+C*N+P*W<o)&&(_(h,S,w,E,C,P,le,pe,ae,K/=Q,Z/=Q,X,F,V),V.point(le,pe),_(le,pe,ae,K,Z,X,O,R,U,z,N,W,F,V))}}return function(h){var S,w,E,C,P,O,R,U,z,N,W,F,V={point:j,lineStart:te,lineEnd:K,polygonStart:function(){h.polygonStart(),V.lineStart=Z},polygonEnd:function(){h.polygonEnd(),V.lineStart=te}};function j(re,ae){re=y(re,ae),h.point(re[0],re[1])}function te(){U=NaN,V.point=J,h.lineStart()}function J(re,ae){var ie=(0,r.ux)([re,ae]),le=y(re,ae);_(U,z,R,N,W,F,U=le[0],z=le[1],R=re,N=ie[0],W=ie[1],F=ie[2],n,h),h.point(U,z)}function K(){V.point=j,h.lineEnd()}function Z(){te(),V.point=X,V.lineEnd=Q}function X(re,ae){J(S=re,ae),w=U,E=z,C=N,P=W,O=F,V.point=J}function Q(){_(U,z,R,N,W,F,w,E,S,C,P,O,n,h),V.lineEnd=K,K()}return V}}(p,v):function(y){return(0,t.s)({point:function(x,_){x=y(x,_),this.stream.point(x[0],x[1])}})}(p)}var u=(0,t.s)({point:function(p,v){this.stream.point(p*g.qw,v*g.qw)}});function d(p,v,y,x,_){function h(S,w){return[v+p*(S*=x),y-p*(w*=_)]}return h.invert=function(S,w){return[(S-v)/p*x,(y-w)/p*_]},h}function c(p,v,y,x,_,h){var S=(0,g.W8)(h),w=(0,g.g$)(h),E=S*p,C=w*p,P=S/p,O=w/p,R=(w*y-S*v)/p,U=(w*v+S*y)/p;function z(N,W){return[E*(N*=x)-C*(W*=_)+v,y-C*N-E*W]}return z.invert=function(N,W){return[x*(P*N-O*W+R),_*(U-O*N-P*W)]},z}function m(p){return f(function(){return p})()}function f(p){var v,y,x,_,h,S,w,E,C,P,O=150,R=480,U=250,z=0,N=0,W=0,F=0,V=0,j=0,te=1,J=1,K=null,Z=M.c,X=null,Q=b.c,re=.5;function ae(de){return E(de[0]*g.qw,de[1]*g.qw)}function ie(de){return(de=E.invert(de[0],de[1]))&&[de[0]*g.oh,de[1]*g.oh]}function le(){var de=c(O,0,0,te,J,j).apply(null,v(z,N)),ve=(j?c:d)(O,R-de[0],U-de[1],te,J,j);return y=(0,s.O)(W,F,V),w=(0,T.c)(v,ve),E=(0,T.c)(y,w),S=l(w,re),pe()}function pe(){return C=P=null,ae}return ae.stream=function(de){return C&&P===de?C:C=u(function(ve){return(0,t.s)({point:function(be,me){var ge=ve(be,me);return this.stream.point(ge[0],ge[1])}})}(y)(Z(S(Q(P=de)))))},ae.preclip=function(de){return arguments.length?(Z=de,K=void 0,pe()):Z},ae.postclip=function(de){return arguments.length?(Q=de,X=x=_=h=null,pe()):Q},ae.clipAngle=function(de){return arguments.length?(Z=+de?(0,k.c)(K=de*g.qw):(K=null,M.c),pe()):K*g.oh},ae.clipExtent=function(de){return arguments.length?(Q=de==null?(X=x=_=h=null,b.c):(0,a.c)(X=+de[0][0],x=+de[0][1],_=+de[1][0],h=+de[1][1]),pe()):X==null?null:[[X,x],[_,h]]},ae.scale=function(de){return arguments.length?(O=+de,le()):O},ae.translate=function(de){return arguments.length?(R=+de[0],U=+de[1],le()):[R,U]},ae.center=function(de){return arguments.length?(z=de[0]%360*g.qw,N=de[1]%360*g.qw,le()):[z*g.oh,N*g.oh]},ae.rotate=function(de){return arguments.length?(W=de[0]%360*g.qw,F=de[1]%360*g.qw,V=de.length>2?de[2]%360*g.qw:0,le()):[W*g.oh,F*g.oh,V*g.oh]},ae.angle=function(de){return arguments.length?(j=de%360*g.qw,le()):j*g.oh},ae.reflectX=function(de){return arguments.length?(te=de?-1:1,le()):te<0},ae.reflectY=function(de){return arguments.length?(J=de?-1:1,le()):J<0},ae.precision=function(de){return arguments.length?(S=l(w,re=de*de),pe()):(0,g._I)(re)},ae.fitExtent=function(de,ve){return(0,i.QX)(ae,de,ve)},ae.fitSize=function(de,ve){return(0,i.UV)(ae,de,ve)},ae.fitWidth=function(de,ve){return(0,i.Qx)(ae,de,ve)},ae.fitHeight=function(de,ve){return(0,i.OW)(ae,de,ve)},function(){return v=p.apply(this,arguments),ae.invert=v.invert&&ie,le()}}},47984:function(ee,D,e){e.d(D,{c:function(){return T},g:function(){return a}});var M=e(87952),k=e(64528);function a(b,g){var s=g*g,t=s*s;return[b*(.8707-.131979*s+t*(t*(.003971*s-.001529*t)-.013791)),g*(1.007226+s*(.015085+t*(.028874*s-.044475-.005916*t)))]}function T(){return(0,M.c)(a).scale(175.295)}a.invert=function(b,g){var s,t=g,i=25;do{var r=t*t,n=r*r;t-=s=(t*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))-g)/(1.007226+r*(.045255+n*(.259866*r-.311325-.06507600000000001*n)))}while((0,k.a2)(s)>k.Gg&&--i>0);return[b/(.8707+(r=t*t)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),t]}},4888:function(ee,D,e){e.d(D,{c:function(){return b},t:function(){return T}});var M=e(64528),k=e(62280),a=e(87952);function T(g,s){return[(0,M.W8)(s)*(0,M.g$)(g),(0,M.g$)(s)]}function b(){return(0,a.c)(T).scale(249.5).clipAngle(90+M.Gg)}T.invert=(0,k.g)(M.qR)},92992:function(ee,D,e){e.d(D,{O:function(){return T},c:function(){return t}});var M=e(68120),k=e(64528);function a(i,r){return[(0,k.a2)(i)>k.pi?i+Math.round(-i/k.kD)*k.kD:i,r]}function T(i,r,n){return(i%=k.kD)?r||n?(0,M.c)(g(i),s(r,n)):g(i):r||n?s(r,n):a}function b(i){return function(r,n){return[(r+=i)>k.pi?r-k.kD:r<-k.pi?r+k.kD:r,n]}}function g(i){var r=b(i);return r.invert=b(-i),r}function s(i,r){var n=(0,k.W8)(i),o=(0,k.g$)(i),l=(0,k.W8)(r),u=(0,k.g$)(r);function d(c,m){var f=(0,k.W8)(m),p=(0,k.W8)(c)*f,v=(0,k.g$)(c)*f,y=(0,k.g$)(m),x=y*n+p*o;return[(0,k.WE)(v*l-x*u,p*n-y*o),(0,k.qR)(x*l+v*u)]}return d.invert=function(c,m){var f=(0,k.W8)(m),p=(0,k.W8)(c)*f,v=(0,k.g$)(c)*f,y=(0,k.g$)(m),x=y*l-v*u;return[(0,k.WE)(v*l+y*u,p*n+x*o),(0,k.qR)(x*n-p*o)]},d}function t(i){function r(n){return(n=i(n[0]*k.qw,n[1]*k.qw))[0]*=k.oh,n[1]*=k.oh,n}return i=T(i[0]*k.qw,i[1]*k.qw,i.length>2?i[2]*k.qw:0),r.invert=function(n){return(n=i.invert(n[0]*k.qw,n[1]*k.qw))[0]*=k.oh,n[1]*=k.oh,n},r}a.invert=a},16016:function(ee,D,e){function M(s,t){s&&a.hasOwnProperty(s.type)&&a[s.type](s,t)}e.d(D,{c:function(){return g}});var k={Feature:function(s,t){M(s.geometry,t)},FeatureCollection:function(s,t){for(var i=s.features,r=-1,n=i.length;++r<n;)M(i[r].geometry,t)}},a={Sphere:function(s,t){t.sphere()},Point:function(s,t){s=s.coordinates,t.point(s[0],s[1],s[2])},MultiPoint:function(s,t){for(var i=s.coordinates,r=-1,n=i.length;++r<n;)s=i[r],t.point(s[0],s[1],s[2])},LineString:function(s,t){T(s.coordinates,t,0)},MultiLineString:function(s,t){for(var i=s.coordinates,r=-1,n=i.length;++r<n;)T(i[r],t,0)},Polygon:function(s,t){b(s.coordinates,t)},MultiPolygon:function(s,t){for(var i=s.coordinates,r=-1,n=i.length;++r<n;)b(i[r],t)},GeometryCollection:function(s,t){for(var i=s.geometries,r=-1,n=i.length;++r<n;)M(i[r],t)}};function T(s,t,i){var r,n=-1,o=s.length-i;for(t.lineStart();++n<o;)r=s[n],t.point(r[0],r[1],r[2]);t.lineEnd()}function b(s,t){var i=-1,r=s.length;for(t.polygonStart();++i<r;)T(s[i],t,1);t.polygonEnd()}function g(s,t){s&&k.hasOwnProperty(s.type)?k[s.type](s,t):M(s,t)}},15196:function(ee,D,e){function M(T){return{stream:k(T)}}function k(T){return function(b){var g=new a;for(var s in T)g[s]=T[s];return g.stream=b,g}}function a(){}e.d(D,{c:function(){return M},s:function(){return k}}),a.prototype={constructor:a,point:function(T,b){this.stream.point(T,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(ee,D,e){function M(oe,he){return oe.parent===he.parent?1:2}function k(oe,he){return oe+he.x}function a(oe,he){return Math.max(oe,he.y)}function T(){var oe=M,he=1,Ee=1,Te=!1;function Me(Se){var ze,fe=0;Se.eachAfter(function(Pe){var Ue=Pe.children;Ue?(Pe.x=function(Ve){return Ve.reduce(k,0)/Ve.length}(Ue),Pe.y=function(Ve){return 1+Ve.reduce(a,0)}(Ue)):(Pe.x=ze?fe+=oe(Pe,ze):0,Pe.y=0,ze=Pe)});var xe=function(Pe){for(var Ue;Ue=Pe.children;)Pe=Ue[0];return Pe}(Se),_e=function(Pe){for(var Ue;Ue=Pe.children;)Pe=Ue[Ue.length-1];return Pe}(Se),Oe=xe.x-oe(xe,_e)/2,De=_e.x+oe(_e,xe)/2;return Se.eachAfter(Te?function(Pe){Pe.x=(Pe.x-Se.x)*he,Pe.y=(Se.y-Pe.y)*Ee}:function(Pe){Pe.x=(Pe.x-Oe)/(De-Oe)*he,Pe.y=(1-(Se.y?Pe.y/Se.y:1))*Ee})}return Me.separation=function(Se){return arguments.length?(oe=Se,Me):oe},Me.size=function(Se){return arguments.length?(Te=!1,he=+Se[0],Ee=+Se[1],Me):Te?null:[he,Ee]},Me.nodeSize=function(Se){return arguments.length?(Te=!0,he=+Se[0],Ee=+Se[1],Me):Te?[he,Ee]:null},Me}function b(oe){var he=0,Ee=oe.children,Te=Ee&&Ee.length;if(Te)for(;--Te>=0;)he+=Ee[Te].value;else he=1;oe.value=he}function g(oe,he){var Ee,Te,Me,Se,ze,fe=new r(oe),xe=+oe.value&&(fe.value=oe.value),_e=[fe];for(he==null&&(he=s);Ee=_e.pop();)if(xe&&(Ee.value=+Ee.data.value),(Me=he(Ee.data))&&(ze=Me.length))for(Ee.children=new Array(ze),Se=ze-1;Se>=0;--Se)_e.push(Te=Ee.children[Se]=new r(Me[Se])),Te.parent=Ee,Te.depth=Ee.depth+1;return fe.eachBefore(i)}function s(oe){return oe.children}function t(oe){oe.data=oe.data.data}function i(oe){var he=0;do oe.height=he;while((oe=oe.parent)&&oe.height<++he)}function r(oe){this.data=oe,this.depth=this.height=0,this.parent=null}e.r(D),e.d(D,{cluster:function(){return T},hierarchy:function(){return g},pack:function(){return O},packEnclose:function(){return o},packSiblings:function(){return S},partition:function(){return F},stratify:function(){return Z},tree:function(){return pe},treemap:function(){return ge},treemapBinary:function(){return ke},treemapDice:function(){return W},treemapResquarify:function(){return ue},treemapSlice:function(){return de},treemapSliceDice:function(){return we},treemapSquarify:function(){return me}}),r.prototype=g.prototype={constructor:r,count:function(){return this.eachAfter(b)},each:function(oe){var he,Ee,Te,Me,Se=this,ze=[Se];do for(he=ze.reverse(),ze=[];Se=he.pop();)if(oe(Se),Ee=Se.children)for(Te=0,Me=Ee.length;Te<Me;++Te)ze.push(Ee[Te]);while(ze.length);return this},eachAfter:function(oe){for(var he,Ee,Te,Me=this,Se=[Me],ze=[];Me=Se.pop();)if(ze.push(Me),he=Me.children)for(Ee=0,Te=he.length;Ee<Te;++Ee)Se.push(he[Ee]);for(;Me=ze.pop();)oe(Me);return this},eachBefore:function(oe){for(var he,Ee,Te=this,Me=[Te];Te=Me.pop();)if(oe(Te),he=Te.children)for(Ee=he.length-1;Ee>=0;--Ee)Me.push(he[Ee]);return this},sum:function(oe){return this.eachAfter(function(he){for(var Ee=+oe(he.data)||0,Te=he.children,Me=Te&&Te.length;--Me>=0;)Ee+=Te[Me].value;he.value=Ee})},sort:function(oe){return this.eachBefore(function(he){he.children&&he.children.sort(oe)})},path:function(oe){for(var he=this,Ee=function(Se,ze){if(Se===ze)return Se;var fe=Se.ancestors(),xe=ze.ancestors(),_e=null;for(Se=fe.pop(),ze=xe.pop();Se===ze;)_e=Se,Se=fe.pop(),ze=xe.pop();return _e}(he,oe),Te=[he];he!==Ee;)he=he.parent,Te.push(he);for(var Me=Te.length;oe!==Ee;)Te.splice(Me,0,oe),oe=oe.parent;return Te},ancestors:function(){for(var oe=this,he=[oe];oe=oe.parent;)he.push(oe);return he},descendants:function(){var oe=[];return this.each(function(he){oe.push(he)}),oe},leaves:function(){var oe=[];return this.eachBefore(function(he){he.children||oe.push(he)}),oe},links:function(){var oe=this,he=[];return oe.each(function(Ee){Ee!==oe&&he.push({source:Ee.parent,target:Ee})}),he},copy:function(){return g(this).eachBefore(t)}};var n=Array.prototype.slice;function o(oe){for(var he,Ee,Te=0,Me=(oe=function(ze){for(var fe,xe,_e=ze.length;_e;)xe=Math.random()*_e--|0,fe=ze[_e],ze[_e]=ze[xe],ze[xe]=fe;return ze}(n.call(oe))).length,Se=[];Te<Me;)he=oe[Te],Ee&&d(Ee,he)?++Te:(Ee=m(Se=l(Se,he)),Te=0);return Ee}function l(oe,he){var Ee,Te;if(c(he,oe))return[he];for(Ee=0;Ee<oe.length;++Ee)if(u(he,oe[Ee])&&c(f(oe[Ee],he),oe))return[oe[Ee],he];for(Ee=0;Ee<oe.length-1;++Ee)for(Te=Ee+1;Te<oe.length;++Te)if(u(f(oe[Ee],oe[Te]),he)&&u(f(oe[Ee],he),oe[Te])&&u(f(oe[Te],he),oe[Ee])&&c(p(oe[Ee],oe[Te],he),oe))return[oe[Ee],oe[Te],he];throw new Error}function u(oe,he){var Ee=oe.r-he.r,Te=he.x-oe.x,Me=he.y-oe.y;return Ee<0||Ee*Ee<Te*Te+Me*Me}function d(oe,he){var Ee=oe.r-he.r+1e-6,Te=he.x-oe.x,Me=he.y-oe.y;return Ee>0&&Ee*Ee>Te*Te+Me*Me}function c(oe,he){for(var Ee=0;Ee<he.length;++Ee)if(!d(oe,he[Ee]))return!1;return!0}function m(oe){switch(oe.length){case 1:return{x:(he=oe[0]).x,y:he.y,r:he.r};case 2:return f(oe[0],oe[1]);case 3:return p(oe[0],oe[1],oe[2])}var he}function f(oe,he){var Ee=oe.x,Te=oe.y,Me=oe.r,Se=he.x,ze=he.y,fe=he.r,xe=Se-Ee,_e=ze-Te,Oe=fe-Me,De=Math.sqrt(xe*xe+_e*_e);return{x:(Ee+Se+xe/De*Oe)/2,y:(Te+ze+_e/De*Oe)/2,r:(De+Me+fe)/2}}function p(oe,he,Ee){var Te=oe.x,Me=oe.y,Se=oe.r,ze=he.x,fe=he.y,xe=he.r,_e=Ee.x,Oe=Ee.y,De=Ee.r,Pe=Te-ze,Ue=Te-_e,Ve=Me-fe,Xe=Me-Oe,it=xe-Se,tt=De-Se,pt=Te*Te+Me*Me-Se*Se,mt=pt-ze*ze-fe*fe+xe*xe,gt=pt-_e*_e-Oe*Oe+De*De,et=Ue*Ve-Pe*Xe,$e=(Ve*gt-Xe*mt)/(2*et)-Te,_t=(Xe*it-Ve*tt)/et,Pt=(Ue*mt-Pe*gt)/(2*et)-Me,Ot=(Pe*tt-Ue*it)/et,Lt=_t*_t+Ot*Ot-1,He=2*(Se+$e*_t+Pt*Ot),We=$e*$e+Pt*Pt-Se*Se,Be=-(Lt?(He+Math.sqrt(He*He-4*Lt*We))/(2*Lt):We/He);return{x:Te+$e+_t*Be,y:Me+Pt+Ot*Be,r:Be}}function v(oe,he,Ee){var Te,Me,Se,ze,fe=oe.x-he.x,xe=oe.y-he.y,_e=fe*fe+xe*xe;_e?(Me=he.r+Ee.r,Me*=Me,ze=oe.r+Ee.r,Me>(ze*=ze)?(Te=(_e+ze-Me)/(2*_e),Se=Math.sqrt(Math.max(0,ze/_e-Te*Te)),Ee.x=oe.x-Te*fe-Se*xe,Ee.y=oe.y-Te*xe+Se*fe):(Te=(_e+Me-ze)/(2*_e),Se=Math.sqrt(Math.max(0,Me/_e-Te*Te)),Ee.x=he.x+Te*fe-Se*xe,Ee.y=he.y+Te*xe+Se*fe)):(Ee.x=he.x+Ee.r,Ee.y=he.y)}function y(oe,he){var Ee=oe.r+he.r-1e-6,Te=he.x-oe.x,Me=he.y-oe.y;return Ee>0&&Ee*Ee>Te*Te+Me*Me}function x(oe){var he=oe._,Ee=oe.next._,Te=he.r+Ee.r,Me=(he.x*Ee.r+Ee.x*he.r)/Te,Se=(he.y*Ee.r+Ee.y*he.r)/Te;return Me*Me+Se*Se}function _(oe){this._=oe,this.next=null,this.previous=null}function h(oe){if(!(Me=oe.length))return 0;var he,Ee,Te,Me,Se,ze,fe,xe,_e,Oe,De;if((he=oe[0]).x=0,he.y=0,!(Me>1))return he.r;if(Ee=oe[1],he.x=-Ee.r,Ee.x=he.r,Ee.y=0,!(Me>2))return he.r+Ee.r;v(Ee,he,Te=oe[2]),he=new _(he),Ee=new _(Ee),Te=new _(Te),he.next=Te.previous=Ee,Ee.next=he.previous=Te,Te.next=Ee.previous=he;e:for(fe=3;fe<Me;++fe){v(he._,Ee._,Te=oe[fe]),Te=new _(Te),xe=Ee.next,_e=he.previous,Oe=Ee._.r,De=he._.r;do if(Oe<=De){if(y(xe._,Te._)){Ee=xe,he.next=Ee,Ee.previous=he,--fe;continue e}Oe+=xe._.r,xe=xe.next}else{if(y(_e._,Te._)){(he=_e).next=Ee,Ee.previous=he,--fe;continue e}De+=_e._.r,_e=_e.previous}while(xe!==_e.next);for(Te.previous=he,Te.next=Ee,he.next=Ee.previous=Ee=Te,Se=x(he);(Te=Te.next)!==Ee;)(ze=x(Te))<Se&&(he=Te,Se=ze);Ee=he.next}for(he=[Ee._],Te=Ee;(Te=Te.next)!==Ee;)he.push(Te._);for(Te=o(he),fe=0;fe<Me;++fe)(he=oe[fe]).x-=Te.x,he.y-=Te.y;return Te.r}function S(oe){return h(oe),oe}function w(oe){if(typeof oe!="function")throw new Error;return oe}function E(){return 0}function C(oe){return function(){return oe}}function P(oe){return Math.sqrt(oe.value)}function O(){var oe=null,he=1,Ee=1,Te=E;function Me(Se){return Se.x=he/2,Se.y=Ee/2,oe?Se.eachBefore(R(oe)).eachAfter(U(Te,.5)).eachBefore(z(1)):Se.eachBefore(R(P)).eachAfter(U(E,1)).eachAfter(U(Te,Se.r/Math.min(he,Ee))).eachBefore(z(Math.min(he,Ee)/(2*Se.r))),Se}return Me.radius=function(Se){return arguments.length?(oe=(ze=Se)==null?null:w(ze),Me):oe;var ze},Me.size=function(Se){return arguments.length?(he=+Se[0],Ee=+Se[1],Me):[he,Ee]},Me.padding=function(Se){return arguments.length?(Te=typeof Se=="function"?Se:C(+Se),Me):Te},Me}function R(oe){return function(he){he.children||(he.r=Math.max(0,+oe(he)||0))}}function U(oe,he){return function(Ee){if(Te=Ee.children){var Te,Me,Se,ze=Te.length,fe=oe(Ee)*he||0;if(fe)for(Me=0;Me<ze;++Me)Te[Me].r+=fe;if(Se=h(Te),fe)for(Me=0;Me<ze;++Me)Te[Me].r-=fe;Ee.r=Se+fe}}}function z(oe){return function(he){var Ee=he.parent;he.r*=oe,Ee&&(he.x=Ee.x+oe*he.x,he.y=Ee.y+oe*he.y)}}function N(oe){oe.x0=Math.round(oe.x0),oe.y0=Math.round(oe.y0),oe.x1=Math.round(oe.x1),oe.y1=Math.round(oe.y1)}function W(oe,he,Ee,Te,Me){for(var Se,ze=oe.children,fe=-1,xe=ze.length,_e=oe.value&&(Te-he)/oe.value;++fe<xe;)(Se=ze[fe]).y0=Ee,Se.y1=Me,Se.x0=he,Se.x1=he+=Se.value*_e}function F(){var oe=1,he=1,Ee=0,Te=!1;function Me(Se){var ze=Se.height+1;return Se.x0=Se.y0=Ee,Se.x1=oe,Se.y1=he/ze,Se.eachBefore(function(fe,xe){return function(_e){_e.children&&W(_e,_e.x0,fe*(_e.depth+1)/xe,_e.x1,fe*(_e.depth+2)/xe);var Oe=_e.x0,De=_e.y0,Pe=_e.x1-Ee,Ue=_e.y1-Ee;Pe<Oe&&(Oe=Pe=(Oe+Pe)/2),Ue<De&&(De=Ue=(De+Ue)/2),_e.x0=Oe,_e.y0=De,_e.x1=Pe,_e.y1=Ue}}(he,ze)),Te&&Se.eachBefore(N),Se}return Me.round=function(Se){return arguments.length?(Te=!!Se,Me):Te},Me.size=function(Se){return arguments.length?(oe=+Se[0],he=+Se[1],Me):[oe,he]},Me.padding=function(Se){return arguments.length?(Ee=+Se,Me):Ee},Me}var V="$",j={depth:-1},te={};function J(oe){return oe.id}function K(oe){return oe.parentId}function Z(){var oe=J,he=K;function Ee(Te){var Me,Se,ze,fe,xe,_e,Oe,De=Te.length,Pe=new Array(De),Ue={};for(Se=0;Se<De;++Se)Me=Te[Se],xe=Pe[Se]=new r(Me),(_e=oe(Me,Se,Te))!=null&&(_e+="")&&(Ue[Oe=V+(xe.id=_e)]=Oe in Ue?te:xe);for(Se=0;Se<De;++Se)if(xe=Pe[Se],(_e=he(Te[Se],Se,Te))!=null&&(_e+="")){if(!(fe=Ue[V+_e]))throw new Error("missing: "+_e);if(fe===te)throw new Error("ambiguous: "+_e);fe.children?fe.children.push(xe):fe.children=[xe],xe.parent=fe}else{if(ze)throw new Error("multiple roots");ze=xe}if(!ze)throw new Error("no root");if(ze.parent=j,ze.eachBefore(function(Ve){Ve.depth=Ve.parent.depth+1,--De}).eachBefore(i),ze.parent=null,De>0)throw new Error("cycle");return ze}return Ee.id=function(Te){return arguments.length?(oe=w(Te),Ee):oe},Ee.parentId=function(Te){return arguments.length?(he=w(Te),Ee):he},Ee}function X(oe,he){return oe.parent===he.parent?1:2}function Q(oe){var he=oe.children;return he?he[0]:oe.t}function re(oe){var he=oe.children;return he?he[he.length-1]:oe.t}function ae(oe,he,Ee){var Te=Ee/(he.i-oe.i);he.c-=Te,he.s+=Ee,oe.c+=Te,he.z+=Ee,he.m+=Ee}function ie(oe,he,Ee){return oe.a.parent===he.parent?oe.a:Ee}function le(oe,he){this._=oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=he}function pe(){var oe=X,he=1,Ee=1,Te=null;function Me(xe){var _e=function(tt){for(var pt,mt,gt,et,$e,_t=new le(tt,0),Pt=[_t];pt=Pt.pop();)if(gt=pt._.children)for(pt.children=new Array($e=gt.length),et=$e-1;et>=0;--et)Pt.push(mt=pt.children[et]=new le(gt[et],et)),mt.parent=pt;return(_t.parent=new le(null,0)).children=[_t],_t}(xe);if(_e.eachAfter(Se),_e.parent.m=-_e.z,_e.eachBefore(ze),Te)xe.eachBefore(fe);else{var Oe=xe,De=xe,Pe=xe;xe.eachBefore(function(tt){tt.x<Oe.x&&(Oe=tt),tt.x>De.x&&(De=tt),tt.depth>Pe.depth&&(Pe=tt)});var Ue=Oe===De?1:oe(Oe,De)/2,Ve=Ue-Oe.x,Xe=he/(De.x+Ue+Ve),it=Ee/(Pe.depth||1);xe.eachBefore(function(tt){tt.x=(tt.x+Ve)*Xe,tt.y=tt.depth*it})}return xe}function Se(xe){var _e=xe.children,Oe=xe.parent.children,De=xe.i?Oe[xe.i-1]:null;if(_e){(function(Ue){for(var Ve,Xe=0,it=0,tt=Ue.children,pt=tt.length;--pt>=0;)(Ve=tt[pt]).z+=Xe,Ve.m+=Xe,Xe+=Ve.s+(it+=Ve.c)})(xe);var Pe=(_e[0].z+_e[_e.length-1].z)/2;De?(xe.z=De.z+oe(xe._,De._),xe.m=xe.z-Pe):xe.z=Pe}else De&&(xe.z=De.z+oe(xe._,De._));xe.parent.A=function(Ue,Ve,Xe){if(Ve){for(var it,tt=Ue,pt=Ue,mt=Ve,gt=tt.parent.children[0],et=tt.m,$e=pt.m,_t=mt.m,Pt=gt.m;mt=re(mt),tt=Q(tt),mt&&tt;)gt=Q(gt),(pt=re(pt)).a=Ue,(it=mt.z+_t-tt.z-et+oe(mt._,tt._))>0&&(ae(ie(mt,Ue,Xe),Ue,it),et+=it,$e+=it),_t+=mt.m,et+=tt.m,Pt+=gt.m,$e+=pt.m;mt&&!re(pt)&&(pt.t=mt,pt.m+=_t-$e),tt&&!Q(gt)&&(gt.t=tt,gt.m+=et-Pt,Xe=Ue)}return Xe}(xe,De,xe.parent.A||Oe[0])}function ze(xe){xe._.x=xe.z+xe.parent.m,xe.m+=xe.parent.m}function fe(xe){xe.x*=he,xe.y=xe.depth*Ee}return Me.separation=function(xe){return arguments.length?(oe=xe,Me):oe},Me.size=function(xe){return arguments.length?(Te=!1,he=+xe[0],Ee=+xe[1],Me):Te?null:[he,Ee]},Me.nodeSize=function(xe){return arguments.length?(Te=!0,he=+xe[0],Ee=+xe[1],Me):Te?[he,Ee]:null},Me}function de(oe,he,Ee,Te,Me){for(var Se,ze=oe.children,fe=-1,xe=ze.length,_e=oe.value&&(Me-Ee)/oe.value;++fe<xe;)(Se=ze[fe]).x0=he,Se.x1=Te,Se.y0=Ee,Se.y1=Ee+=Se.value*_e}le.prototype=Object.create(r.prototype);var ve=(1+Math.sqrt(5))/2;function be(oe,he,Ee,Te,Me,Se){for(var ze,fe,xe,_e,Oe,De,Pe,Ue,Ve,Xe,it,tt=[],pt=he.children,mt=0,gt=0,et=pt.length,$e=he.value;mt<et;){xe=Me-Ee,_e=Se-Te;do Oe=pt[gt++].value;while(!Oe&&gt<et);for(De=Pe=Oe,it=Oe*Oe*(Xe=Math.max(_e/xe,xe/_e)/($e*oe)),Ve=Math.max(Pe/it,it/De);gt<et;++gt){if(Oe+=fe=pt[gt].value,fe<De&&(De=fe),fe>Pe&&(Pe=fe),it=Oe*Oe*Xe,(Ue=Math.max(Pe/it,it/De))>Ve){Oe-=fe;break}Ve=Ue}tt.push(ze={value:Oe,dice:xe<_e,children:pt.slice(mt,gt)}),ze.dice?W(ze,Ee,Te,Me,$e?Te+=_e*Oe/$e:Se):de(ze,Ee,Te,$e?Ee+=xe*Oe/$e:Me,Se),$e-=Oe,mt=gt}return tt}var me=function oe(he){function Ee(Te,Me,Se,ze,fe){be(he,Te,Me,Se,ze,fe)}return Ee.ratio=function(Te){return oe((Te=+Te)>1?Te:1)},Ee}(ve);function ge(){var oe=me,he=!1,Ee=1,Te=1,Me=[0],Se=E,ze=E,fe=E,xe=E,_e=E;function Oe(Pe){return Pe.x0=Pe.y0=0,Pe.x1=Ee,Pe.y1=Te,Pe.eachBefore(De),Me=[0],he&&Pe.eachBefore(N),Pe}function De(Pe){var Ue=Me[Pe.depth],Ve=Pe.x0+Ue,Xe=Pe.y0+Ue,it=Pe.x1-Ue,tt=Pe.y1-Ue;it<Ve&&(Ve=it=(Ve+it)/2),tt<Xe&&(Xe=tt=(Xe+tt)/2),Pe.x0=Ve,Pe.y0=Xe,Pe.x1=it,Pe.y1=tt,Pe.children&&(Ue=Me[Pe.depth+1]=Se(Pe)/2,Ve+=_e(Pe)-Ue,Xe+=ze(Pe)-Ue,(it-=fe(Pe)-Ue)<Ve&&(Ve=it=(Ve+it)/2),(tt-=xe(Pe)-Ue)<Xe&&(Xe=tt=(Xe+tt)/2),oe(Pe,Ve,Xe,it,tt))}return Oe.round=function(Pe){return arguments.length?(he=!!Pe,Oe):he},Oe.size=function(Pe){return arguments.length?(Ee=+Pe[0],Te=+Pe[1],Oe):[Ee,Te]},Oe.tile=function(Pe){return arguments.length?(oe=w(Pe),Oe):oe},Oe.padding=function(Pe){return arguments.length?Oe.paddingInner(Pe).paddingOuter(Pe):Oe.paddingInner()},Oe.paddingInner=function(Pe){return arguments.length?(Se=typeof Pe=="function"?Pe:C(+Pe),Oe):Se},Oe.paddingOuter=function(Pe){return arguments.length?Oe.paddingTop(Pe).paddingRight(Pe).paddingBottom(Pe).paddingLeft(Pe):Oe.paddingTop()},Oe.paddingTop=function(Pe){return arguments.length?(ze=typeof Pe=="function"?Pe:C(+Pe),Oe):ze},Oe.paddingRight=function(Pe){return arguments.length?(fe=typeof Pe=="function"?Pe:C(+Pe),Oe):fe},Oe.paddingBottom=function(Pe){return arguments.length?(xe=typeof Pe=="function"?Pe:C(+Pe),Oe):xe},Oe.paddingLeft=function(Pe){return arguments.length?(_e=typeof Pe=="function"?Pe:C(+Pe),Oe):_e},Oe}function ke(oe,he,Ee,Te,Me){var Se,ze,fe=oe.children,xe=fe.length,_e=new Array(xe+1);for(_e[0]=ze=Se=0;Se<xe;++Se)_e[Se+1]=ze+=fe[Se].value;(function Oe(De,Pe,Ue,Ve,Xe,it,tt){if(De>=Pe-1){var pt=fe[De];return pt.x0=Ve,pt.y0=Xe,pt.x1=it,void(pt.y1=tt)}for(var mt=_e[De],gt=Ue/2+mt,et=De+1,$e=Pe-1;et<$e;){var _t=et+$e>>>1;_e[_t]<gt?et=_t+1:$e=_t}gt-_e[et-1]<_e[et]-gt&&De+1<et&&--et;var Pt=_e[et]-mt,Ot=Ue-Pt;if(it-Ve>tt-Xe){var Lt=(Ve*Ot+it*Pt)/Ue;Oe(De,et,Pt,Ve,Xe,Lt,tt),Oe(et,Pe,Ot,Lt,Xe,it,tt)}else{var He=(Xe*Ot+tt*Pt)/Ue;Oe(De,et,Pt,Ve,Xe,it,He),Oe(et,Pe,Ot,Ve,He,it,tt)}})(0,xe,oe.value,he,Ee,Te,Me)}function we(oe,he,Ee,Te,Me){(1&oe.depth?de:W)(oe,he,Ee,Te,Me)}var ue=function oe(he){function Ee(Te,Me,Se,ze,fe){if((xe=Te._squarify)&&xe.ratio===he)for(var xe,_e,Oe,De,Pe,Ue=-1,Ve=xe.length,Xe=Te.value;++Ue<Ve;){for(Oe=(_e=xe[Ue]).children,De=_e.value=0,Pe=Oe.length;De<Pe;++De)_e.value+=Oe[De].value;_e.dice?W(_e,Me,Se,ze,Se+=(fe-Se)*_e.value/Xe):de(_e,Me,Se,Me+=(ze-Me)*_e.value/Xe,fe),Xe-=_e.value}else Te._squarify=xe=be(he,Te,Me,Se,ze,fe),xe.ratio=he}return Ee.ratio=function(Te){return oe((Te=+Te)>1?Te:1)},Ee}(ve)},10132:function(ee,D,e){e.d(D,{ak:function(){return d}});var M=Math.PI,k=2*M,a=1e-6,T=k-a;function b(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function g(){return new b}b.prototype=g.prototype={constructor:b,moveTo:function(c,m){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+m)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,m){this._+="L"+(this._x1=+c)+","+(this._y1=+m)},quadraticCurveTo:function(c,m,f,p){this._+="Q"+ +c+","+ +m+","+(this._x1=+f)+","+(this._y1=+p)},bezierCurveTo:function(c,m,f,p,v,y){this._+="C"+ +c+","+ +m+","+ +f+","+ +p+","+(this._x1=+v)+","+(this._y1=+y)},arcTo:function(c,m,f,p,v){c=+c,m=+m,f=+f,p=+p,v=+v;var y=this._x1,x=this._y1,_=f-c,h=p-m,S=y-c,w=x-m,E=S*S+w*w;if(v<0)throw new Error("negative radius: "+v);if(this._x1===null)this._+="M"+(this._x1=c)+","+(this._y1=m);else if(E>a)if(Math.abs(w*_-h*S)>a&&v){var C=f-y,P=p-x,O=_*_+h*h,R=C*C+P*P,U=Math.sqrt(O),z=Math.sqrt(E),N=v*Math.tan((M-Math.acos((O+E-R)/(2*U*z)))/2),W=N/z,F=N/U;Math.abs(W-1)>a&&(this._+="L"+(c+W*S)+","+(m+W*w)),this._+="A"+v+","+v+",0,0,"+ +(w*C>S*P)+","+(this._x1=c+F*_)+","+(this._y1=m+F*h)}else this._+="L"+(this._x1=c)+","+(this._y1=m)},arc:function(c,m,f,p,v,y){c=+c,m=+m,y=!!y;var x=(f=+f)*Math.cos(p),_=f*Math.sin(p),h=c+x,S=m+_,w=1^y,E=y?p-v:v-p;if(f<0)throw new Error("negative radius: "+f);this._x1===null?this._+="M"+h+","+S:(Math.abs(this._x1-h)>a||Math.abs(this._y1-S)>a)&&(this._+="L"+h+","+S),f&&(E<0&&(E=E%k+k),E>T?this._+="A"+f+","+f+",0,1,"+w+","+(c-x)+","+(m-_)+"A"+f+","+f+",0,1,"+w+","+(this._x1=h)+","+(this._y1=S):E>a&&(this._+="A"+f+","+f+",0,"+ +(E>=M)+","+w+","+(this._x1=c+f*Math.cos(v))+","+(this._y1=m+f*Math.sin(v))))},rect:function(c,m,f,p){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+m)+"h"+ +f+"v"+ +p+"h"+-f+"Z"},toString:function(){return this._}};var s=g,t=Array.prototype.slice;function i(c){return function(){return c}}function r(c){return c[0]}function n(c){return c[1]}function o(c){return c.source}function l(c){return c.target}function u(c,m,f,p,v){c.moveTo(m,f),c.bezierCurveTo(m=(m+p)/2,f,m,v,p,v)}function d(){return function(c){var m=o,f=l,p=r,v=n,y=null;function x(){var _,h=t.call(arguments),S=m.apply(this,h),w=f.apply(this,h);if(y||(y=_=s()),c(y,+p.apply(this,(h[0]=S,h)),+v.apply(this,h),+p.apply(this,(h[0]=w,h)),+v.apply(this,h)),_)return y=null,_+""||null}return x.source=function(_){return arguments.length?(m=_,x):m},x.target=function(_){return arguments.length?(f=_,x):f},x.x=function(_){return arguments.length?(p=typeof _=="function"?_:i(+_),x):p},x.y=function(_){return arguments.length?(v=typeof _=="function"?_:i(+_),x):v},x.context=function(_){return arguments.length?(y=_??null,x):y},x}(u)}},94336:function(ee,D,e){e.d(D,{Yn:function(){return o},m_:function(){return r},E9:function(){return l}});var M=e(8208),k=e(58931),a=e(46192),T=e(68936),b=e(32171),g=e(53528);function s(et){if(0<=et.y&&et.y<100){var $e=new Date(-1,et.m,et.d,et.H,et.M,et.S,et.L);return $e.setFullYear(et.y),$e}return new Date(et.y,et.m,et.d,et.H,et.M,et.S,et.L)}function t(et){if(0<=et.y&&et.y<100){var $e=new Date(Date.UTC(-1,et.m,et.d,et.H,et.M,et.S,et.L));return $e.setUTCFullYear(et.y),$e}return new Date(Date.UTC(et.y,et.m,et.d,et.H,et.M,et.S,et.L))}function i(et,$e,_t){return{y:et,m:$e,d:_t,H:0,M:0,S:0,L:0}}function r(et){var $e=et.dateTime,_t=et.date,Pt=et.time,Ot=et.periods,Lt=et.days,He=et.shortDays,We=et.months,Be=et.shortMonths,Ge=v(Ot),at=y(Ot),nt=v(Lt),Re=y(Lt),Fe=v(He),rt=y(He),Ye=v(We),ct=y(We),ht=v(Be),dt=y(Be),ut={a:function(It){return He[It.getDay()]},A:function(It){return Lt[It.getDay()]},b:function(It){return Be[It.getMonth()]},B:function(It){return We[It.getMonth()]},c:null,d:Z,e:Z,f:ie,H:X,I:Q,j:re,L:ae,m:le,M:pe,p:function(It){return Ot[+(It.getHours()>=12)]},q:function(It){return 1+~~(It.getMonth()/3)},Q:mt,s:gt,S:de,u:ve,U:be,V:me,w:ge,W:ke,x:null,X:null,y:we,Y:ue,Z:oe,"%":pt},kt={a:function(It){return He[It.getUTCDay()]},A:function(It){return Lt[It.getUTCDay()]},b:function(It){return Be[It.getUTCMonth()]},B:function(It){return We[It.getUTCMonth()]},c:null,d:he,e:he,f:ze,H:Ee,I:Te,j:Me,L:Se,m:fe,M:xe,p:function(It){return Ot[+(It.getUTCHours()>=12)]},q:function(It){return 1+~~(It.getUTCMonth()/3)},Q:mt,s:gt,S:_e,u:Oe,U:De,V:Pe,w:Ue,W:Ve,x:null,X:null,y:Xe,Y:it,Z:tt,"%":pt},xt={a:function(It,Gt,en){var Nt=Fe.exec(Gt.slice(en));return Nt?(It.w=rt[Nt[0].toLowerCase()],en+Nt[0].length):-1},A:function(It,Gt,en){var Nt=nt.exec(Gt.slice(en));return Nt?(It.w=Re[Nt[0].toLowerCase()],en+Nt[0].length):-1},b:function(It,Gt,en){var Nt=ht.exec(Gt.slice(en));return Nt?(It.m=dt[Nt[0].toLowerCase()],en+Nt[0].length):-1},B:function(It,Gt,en){var Nt=Ye.exec(Gt.slice(en));return Nt?(It.m=ct[Nt[0].toLowerCase()],en+Nt[0].length):-1},c:function(It,Gt,en){return St(It,$e,Gt,en)},d:U,e:U,f:j,H:N,I:N,j:z,L:V,m:R,M:W,p:function(It,Gt,en){var Nt=Ge.exec(Gt.slice(en));return Nt?(It.p=at[Nt[0].toLowerCase()],en+Nt[0].length):-1},q:O,Q:J,s:K,S:F,u:_,U:h,V:S,w:x,W:w,x:function(It,Gt,en){return St(It,_t,Gt,en)},X:function(It,Gt,en){return St(It,Pt,Gt,en)},y:C,Y:E,Z:P,"%":te};function vt(It,Gt){return function(en){var Nt,jt,Jt,An=[],_n=-1,un=0,Wt=It.length;for(en instanceof Date||(en=new Date(+en));++_n<Wt;)It.charCodeAt(_n)===37&&(An.push(It.slice(un,_n)),(jt=u[Nt=It.charAt(++_n)])!=null?Nt=It.charAt(++_n):jt=Nt==="e"?" ":"0",(Jt=Gt[Nt])&&(Nt=Jt(en,jt)),An.push(Nt),un=_n+1);return An.push(It.slice(un,_n)),An.join("")}}function Mt(It,Gt){return function(en){var Nt,jt,Jt=i(1900,void 0,1);if(St(Jt,It,en+="",0)!=en.length)return null;if("Q"in Jt)return new Date(Jt.Q);if("s"in Jt)return new Date(1e3*Jt.s+("L"in Jt?Jt.L:0));if(Gt&&!("Z"in Jt)&&(Jt.Z=0),"p"in Jt&&(Jt.H=Jt.H%12+12*Jt.p),Jt.m===void 0&&(Jt.m="q"in Jt?Jt.q:0),"V"in Jt){if(Jt.V<1||Jt.V>53)return null;"w"in Jt||(Jt.w=1),"Z"in Jt?(jt=(Nt=t(i(Jt.y,0,1))).getUTCDay(),Nt=jt>4||jt===0?M.ot.ceil(Nt):(0,M.ot)(Nt),Nt=k.c.offset(Nt,7*(Jt.V-1)),Jt.y=Nt.getUTCFullYear(),Jt.m=Nt.getUTCMonth(),Jt.d=Nt.getUTCDate()+(Jt.w+6)%7):(jt=(Nt=s(i(Jt.y,0,1))).getDay(),Nt=jt>4||jt===0?a.qT.ceil(Nt):(0,a.qT)(Nt),Nt=T.c.offset(Nt,7*(Jt.V-1)),Jt.y=Nt.getFullYear(),Jt.m=Nt.getMonth(),Jt.d=Nt.getDate()+(Jt.w+6)%7)}else("W"in Jt||"U"in Jt)&&("w"in Jt||(Jt.w="u"in Jt?Jt.u%7:"W"in Jt?1:0),jt="Z"in Jt?t(i(Jt.y,0,1)).getUTCDay():s(i(Jt.y,0,1)).getDay(),Jt.m=0,Jt.d="W"in Jt?(Jt.w+6)%7+7*Jt.W-(jt+5)%7:Jt.w+7*Jt.U-(jt+6)%7);return"Z"in Jt?(Jt.H+=Jt.Z/100|0,Jt.M+=Jt.Z%100,t(Jt)):s(Jt)}}function St(It,Gt,en,Nt){for(var jt,Jt,An=0,_n=Gt.length,un=en.length;An<_n;){if(Nt>=un)return-1;if((jt=Gt.charCodeAt(An++))===37){if(jt=Gt.charAt(An++),!(Jt=xt[jt in u?Gt.charAt(An++):jt])||(Nt=Jt(It,en,Nt))<0)return-1}else if(jt!=en.charCodeAt(Nt++))return-1}return Nt}return ut.x=vt(_t,ut),ut.X=vt(Pt,ut),ut.c=vt($e,ut),kt.x=vt(_t,kt),kt.X=vt(Pt,kt),kt.c=vt($e,kt),{format:function(It){var Gt=vt(It+="",ut);return Gt.toString=function(){return It},Gt},parse:function(It){var Gt=Mt(It+="",!1);return Gt.toString=function(){return It},Gt},utcFormat:function(It){var Gt=vt(It+="",kt);return Gt.toString=function(){return It},Gt},utcParse:function(It){var Gt=Mt(It+="",!0);return Gt.toString=function(){return It},Gt}}}var n,o,l,u={"-":"",_:" ",0:"0"},d=/^\s*\d+/,c=/^%/,m=/[\\^$*+?|[\]().{}]/g;function f(et,$e,_t){var Pt=et<0?"-":"",Ot=(Pt?-et:et)+"",Lt=Ot.length;return Pt+(Lt<_t?new Array(_t-Lt+1).join($e)+Ot:Ot)}function p(et){return et.replace(m,"\\$&")}function v(et){return new RegExp("^(?:"+et.map(p).join("|")+")","i")}function y(et){for(var $e={},_t=-1,Pt=et.length;++_t<Pt;)$e[et[_t].toLowerCase()]=_t;return $e}function x(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+1));return Pt?(et.w=+Pt[0],_t+Pt[0].length):-1}function _(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+1));return Pt?(et.u=+Pt[0],_t+Pt[0].length):-1}function h(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+2));return Pt?(et.U=+Pt[0],_t+Pt[0].length):-1}function S(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+2));return Pt?(et.V=+Pt[0],_t+Pt[0].length):-1}function w(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+2));return Pt?(et.W=+Pt[0],_t+Pt[0].length):-1}function E(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+4));return Pt?(et.y=+Pt[0],_t+Pt[0].length):-1}function C(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+2));return Pt?(et.y=+Pt[0]+(+Pt[0]>68?1900:2e3),_t+Pt[0].length):-1}function P(et,$e,_t){var Pt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec($e.slice(_t,_t+6));return Pt?(et.Z=Pt[1]?0:-(Pt[2]+(Pt[3]||"00")),_t+Pt[0].length):-1}function O(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+1));return Pt?(et.q=3*Pt[0]-3,_t+Pt[0].length):-1}function R(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+2));return Pt?(et.m=Pt[0]-1,_t+Pt[0].length):-1}function U(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+2));return Pt?(et.d=+Pt[0],_t+Pt[0].length):-1}function z(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+3));return Pt?(et.m=0,et.d=+Pt[0],_t+Pt[0].length):-1}function N(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+2));return Pt?(et.H=+Pt[0],_t+Pt[0].length):-1}function W(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+2));return Pt?(et.M=+Pt[0],_t+Pt[0].length):-1}function F(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+2));return Pt?(et.S=+Pt[0],_t+Pt[0].length):-1}function V(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+3));return Pt?(et.L=+Pt[0],_t+Pt[0].length):-1}function j(et,$e,_t){var Pt=d.exec($e.slice(_t,_t+6));return Pt?(et.L=Math.floor(Pt[0]/1e3),_t+Pt[0].length):-1}function te(et,$e,_t){var Pt=c.exec($e.slice(_t,_t+1));return Pt?_t+Pt[0].length:-1}function J(et,$e,_t){var Pt=d.exec($e.slice(_t));return Pt?(et.Q=+Pt[0],_t+Pt[0].length):-1}function K(et,$e,_t){var Pt=d.exec($e.slice(_t));return Pt?(et.s=+Pt[0],_t+Pt[0].length):-1}function Z(et,$e){return f(et.getDate(),$e,2)}function X(et,$e){return f(et.getHours(),$e,2)}function Q(et,$e){return f(et.getHours()%12||12,$e,2)}function re(et,$e){return f(1+T.c.count((0,b.c)(et),et),$e,3)}function ae(et,$e){return f(et.getMilliseconds(),$e,3)}function ie(et,$e){return ae(et,$e)+"000"}function le(et,$e){return f(et.getMonth()+1,$e,2)}function pe(et,$e){return f(et.getMinutes(),$e,2)}function de(et,$e){return f(et.getSeconds(),$e,2)}function ve(et){var $e=et.getDay();return $e===0?7:$e}function be(et,$e){return f(a.uU.count((0,b.c)(et)-1,et),$e,2)}function me(et,$e){var _t=et.getDay();return et=_t>=4||_t===0?(0,a.kD)(et):a.kD.ceil(et),f(a.kD.count((0,b.c)(et),et)+((0,b.c)(et).getDay()===4),$e,2)}function ge(et){return et.getDay()}function ke(et,$e){return f(a.qT.count((0,b.c)(et)-1,et),$e,2)}function we(et,$e){return f(et.getFullYear()%100,$e,2)}function ue(et,$e){return f(et.getFullYear()%1e4,$e,4)}function oe(et){var $e=et.getTimezoneOffset();return($e>0?"-":($e*=-1,"+"))+f($e/60|0,"0",2)+f($e%60,"0",2)}function he(et,$e){return f(et.getUTCDate(),$e,2)}function Ee(et,$e){return f(et.getUTCHours(),$e,2)}function Te(et,$e){return f(et.getUTCHours()%12||12,$e,2)}function Me(et,$e){return f(1+k.c.count((0,g.c)(et),et),$e,3)}function Se(et,$e){return f(et.getUTCMilliseconds(),$e,3)}function ze(et,$e){return Se(et,$e)+"000"}function fe(et,$e){return f(et.getUTCMonth()+1,$e,2)}function xe(et,$e){return f(et.getUTCMinutes(),$e,2)}function _e(et,$e){return f(et.getUTCSeconds(),$e,2)}function Oe(et){var $e=et.getUTCDay();return $e===0?7:$e}function De(et,$e){return f(M.EV.count((0,g.c)(et)-1,et),$e,2)}function Pe(et,$e){var _t=et.getUTCDay();return et=_t>=4||_t===0?(0,M.yA)(et):M.yA.ceil(et),f(M.yA.count((0,g.c)(et),et)+((0,g.c)(et).getUTCDay()===4),$e,2)}function Ue(et){return et.getUTCDay()}function Ve(et,$e){return f(M.ot.count((0,g.c)(et)-1,et),$e,2)}function Xe(et,$e){return f(et.getUTCFullYear()%100,$e,2)}function it(et,$e){return f(et.getUTCFullYear()%1e4,$e,4)}function tt(){return"+0000"}function pt(){return"%"}function mt(et){return+et}function gt(et){return Math.floor(+et/1e3)}n=r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o=n.format,n.parse,l=n.utcFormat,n.utcParse},68936:function(ee,D,e){e.d(D,{m:function(){return T}});var M=e(81628),k=e(69792),a=(0,M.c)(function(b){b.setHours(0,0,0,0)},function(b,g){b.setDate(b.getDate()+g)},function(b,g){return(g-b-(g.getTimezoneOffset()-b.getTimezoneOffset())*k.iy)/k.SK},function(b){return b.getDate()-1});D.c=a;var T=a.range},69792:function(ee,D,e){e.d(D,{KK:function(){return b},SK:function(){return T},cg:function(){return a},iy:function(){return k},yc:function(){return M}});var M=1e3,k=6e4,a=36e5,T=864e5,b=6048e5},73220:function(ee,D,e){e.r(D),e.d(D,{timeDay:function(){return d.c},timeDays:function(){return d.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return l},timeHours:function(){return u},timeInterval:function(){return M.c},timeMillisecond:function(){return a},timeMilliseconds:function(){return T},timeMinute:function(){return r},timeMinutes:function(){return n},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return f},timeMonths:function(){return p},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return s},timeSeconds:function(){return t},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return v.c},timeYears:function(){return v.Q},utcDay:function(){return E.c},utcDays:function(){return E.o},utcFriday:function(){return C.od},utcFridays:function(){return C.iG},utcHour:function(){return S},utcHours:function(){return w},utcMillisecond:function(){return a},utcMilliseconds:function(){return T},utcMinute:function(){return x},utcMinutes:function(){return _},utcMonday:function(){return C.ot},utcMondays:function(){return C.iO},utcMonth:function(){return O},utcMonths:function(){return R},utcSaturday:function(){return C.Ad},utcSaturdays:function(){return C.K8},utcSecond:function(){return s},utcSeconds:function(){return t},utcSunday:function(){return C.EV},utcSundays:function(){return C.Wq},utcThursday:function(){return C.yA},utcThursdays:function(){return C.ob},utcTuesday:function(){return C.sG},utcTuesdays:function(){return C.kl},utcWednesday:function(){return C._6},utcWednesdays:function(){return C.W_},utcWeek:function(){return C.EV},utcWeeks:function(){return C.Wq},utcYear:function(){return U.c},utcYears:function(){return U.i}});var M=e(81628),k=(0,M.c)(function(){},function(z,N){z.setTime(+z+N)},function(z,N){return N-z});k.every=function(z){return z=Math.floor(z),isFinite(z)&&z>0?z>1?(0,M.c)(function(N){N.setTime(Math.floor(N/z)*z)},function(N,W){N.setTime(+N+W*z)},function(N,W){return(W-N)/z}):k:null};var a=k,T=k.range,b=e(69792),g=(0,M.c)(function(z){z.setTime(z-z.getMilliseconds())},function(z,N){z.setTime(+z+N*b.yc)},function(z,N){return(N-z)/b.yc},function(z){return z.getUTCSeconds()}),s=g,t=g.range,i=(0,M.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*b.yc)},function(z,N){z.setTime(+z+N*b.iy)},function(z,N){return(N-z)/b.iy},function(z){return z.getMinutes()}),r=i,n=i.range,o=(0,M.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*b.yc-z.getMinutes()*b.iy)},function(z,N){z.setTime(+z+N*b.cg)},function(z,N){return(N-z)/b.cg},function(z){return z.getHours()}),l=o,u=o.range,d=e(68936),c=e(46192),m=(0,M.c)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,N){z.setMonth(z.getMonth()+N)},function(z,N){return N.getMonth()-z.getMonth()+12*(N.getFullYear()-z.getFullYear())},function(z){return z.getMonth()}),f=m,p=m.range,v=e(32171),y=(0,M.c)(function(z){z.setUTCSeconds(0,0)},function(z,N){z.setTime(+z+N*b.iy)},function(z,N){return(N-z)/b.iy},function(z){return z.getUTCMinutes()}),x=y,_=y.range,h=(0,M.c)(function(z){z.setUTCMinutes(0,0,0)},function(z,N){z.setTime(+z+N*b.cg)},function(z,N){return(N-z)/b.cg},function(z){return z.getUTCHours()}),S=h,w=h.range,E=e(58931),C=e(8208),P=(0,M.c)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,N){z.setUTCMonth(z.getUTCMonth()+N)},function(z,N){return N.getUTCMonth()-z.getUTCMonth()+12*(N.getUTCFullYear()-z.getUTCFullYear())},function(z){return z.getUTCMonth()}),O=P,R=P.range,U=e(53528)},81628:function(ee,D,e){e.d(D,{c:function(){return a}});var M=new Date,k=new Date;function a(T,b,g,s){function t(i){return T(i=arguments.length===0?new Date:new Date(+i)),i}return t.floor=function(i){return T(i=new Date(+i)),i},t.ceil=function(i){return T(i=new Date(i-1)),b(i,1),T(i),i},t.round=function(i){var r=t(i),n=t.ceil(i);return i-r<n-i?r:n},t.offset=function(i,r){return b(i=new Date(+i),r==null?1:Math.floor(r)),i},t.range=function(i,r,n){var o,l=[];if(i=t.ceil(i),n=n==null?1:Math.floor(n),!(i<r&&n>0))return l;do l.push(o=new Date(+i)),b(i,n),T(i);while(o<i&&i<r);return l},t.filter=function(i){return a(function(r){if(r>=r)for(;T(r),!i(r);)r.setTime(r-1)},function(r,n){if(r>=r)if(n<0)for(;++n<=0;)for(;b(r,-1),!i(r););else for(;--n>=0;)for(;b(r,1),!i(r););})},g&&(t.count=function(i,r){return M.setTime(+i),k.setTime(+r),T(M),T(k),Math.floor(g(M,k))},t.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?t.filter(s?function(r){return s(r)%i==0}:function(r){return t.count(0,r)%i==0}):t:null}),t}},58931:function(ee,D,e){e.d(D,{o:function(){return T}});var M=e(81628),k=e(69792),a=(0,M.c)(function(b){b.setUTCHours(0,0,0,0)},function(b,g){b.setUTCDate(b.getUTCDate()+g)},function(b,g){return(g-b)/k.SK},function(b){return b.getUTCDate()-1});D.c=a;var T=a.range},8208:function(ee,D,e){e.d(D,{Ad:function(){return r},EV:function(){return T},K8:function(){return m},W_:function(){return u},Wq:function(){return n},_6:function(){return s},iG:function(){return c},iO:function(){return o},kl:function(){return l},ob:function(){return d},od:function(){return i},ot:function(){return b},sG:function(){return g},yA:function(){return t}});var M=e(81628),k=e(69792);function a(f){return(0,M.c)(function(p){p.setUTCDate(p.getUTCDate()-(p.getUTCDay()+7-f)%7),p.setUTCHours(0,0,0,0)},function(p,v){p.setUTCDate(p.getUTCDate()+7*v)},function(p,v){return(v-p)/k.KK})}var T=a(0),b=a(1),g=a(2),s=a(3),t=a(4),i=a(5),r=a(6),n=T.range,o=b.range,l=g.range,u=s.range,d=t.range,c=i.range,m=r.range},53528:function(ee,D,e){e.d(D,{i:function(){return a}});var M=e(81628),k=(0,M.c)(function(T){T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,b){T.setUTCFullYear(T.getUTCFullYear()+b)},function(T,b){return b.getUTCFullYear()-T.getUTCFullYear()},function(T){return T.getUTCFullYear()});k.every=function(T){return isFinite(T=Math.floor(T))&&T>0?(0,M.c)(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/T)*T),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,g){b.setUTCFullYear(b.getUTCFullYear()+g*T)}):null},D.c=k;var a=k.range},46192:function(ee,D,e){e.d(D,{Ab:function(){return n},Mf:function(){return g},Oc:function(){return l},QP:function(){return o},Wc:function(){return r},aI:function(){return m},eC:function(){return d},eg:function(){return s},iB:function(){return i},kD:function(){return t},qT:function(){return b},sJ:function(){return c},sn:function(){return u},uU:function(){return T}});var M=e(81628),k=e(69792);function a(f){return(0,M.c)(function(p){p.setDate(p.getDate()-(p.getDay()+7-f)%7),p.setHours(0,0,0,0)},function(p,v){p.setDate(p.getDate()+7*v)},function(p,v){return(v-p-(v.getTimezoneOffset()-p.getTimezoneOffset())*k.iy)/k.KK})}var T=a(0),b=a(1),g=a(2),s=a(3),t=a(4),i=a(5),r=a(6),n=T.range,o=b.range,l=g.range,u=s.range,d=t.range,c=i.range,m=r.range},32171:function(ee,D,e){e.d(D,{Q:function(){return a}});var M=e(81628),k=(0,M.c)(function(T){T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,b){T.setFullYear(T.getFullYear()+b)},function(T,b){return b.getFullYear()-T.getFullYear()},function(T){return T.getFullYear()});k.every=function(T){return isFinite(T=Math.floor(T))&&T>0?(0,M.c)(function(b){b.setFullYear(Math.floor(b.getFullYear()/T)*T),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,g){b.setFullYear(b.getFullYear()+g*T)}):null},D.c=k;var a=k.range},64348:function(ee,D,e){var M=e(39640)(),k=e(53664),a=M&&k("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch{a=!1}var T=k("%SyntaxError%"),b=k("%TypeError%"),g=e(2304);ee.exports=function(s,t,i){if(!s||typeof s!="object"&&typeof s!="function")throw new b("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new b("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new b("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new b("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new b("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new b("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],u=!!g&&g(s,t);if(a)a(s,t,{configurable:o===null&&u?u.configurable:!o,enumerable:r===null&&u?u.enumerable:!r,value:i,writable:n===null&&u?u.writable:!n});else{if(!l&&(r||n||o))throw new T("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");s[t]=i}}},81288:function(ee,D,e){var M=e(41820),k=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,T=Array.prototype.concat,b=Object.defineProperty,g=e(39640)(),s=b&&g,t=function(r,n,o,l){if(n in r){if(l===!0){if(r[n]===o)return}else if(typeof(u=l)!="function"||a.call(u)!=="[object Function]"||!l())return}var u;s?b(r,n,{configurable:!0,enumerable:!1,value:o,writable:!0}):r[n]=o},i=function(r,n){var o=arguments.length>2?arguments[2]:{},l=M(n);k&&(l=T.call(l,Object.getOwnPropertySymbols(n)));for(var u=0;u<l.length;u+=1)t(r,l[u],n[l[u]],o[l[u]])};i.supportsDescriptors=!!s,ee.exports=i},31264:function(ee){ee.exports=function(){for(var D=0;D<arguments.length;D++)if(arguments[D]!==void 0)return arguments[D]}},63768:function(ee){ee.exports=M;var D=(M.canvas=document.createElement("canvas")).getContext("2d"),e=k([32,126]);function M(a,T){Array.isArray(a)&&(a=a.join(", "));var b,g={},s=16,t=.05;T&&(T.length===2&&typeof T[0]=="number"?b=k(T):Array.isArray(T)?b=T:(T.o?b=k(T.o):T.pairs&&(b=T.pairs),T.fontSize&&(s=T.fontSize),T.threshold!=null&&(t=T.threshold))),b||(b=e),D.font=s+"px "+a;for(var i=0;i<b.length;i++){var r=b[i],n=D.measureText(r[0]).width+D.measureText(r[1]).width,o=D.measureText(r).width;if(Math.abs(n-o)>s*t){var l=(o-n)/s;g[r]=1e3*l}}return g}function k(a){for(var T=[],b=a[0];b<=a[1];b++)for(var g=String.fromCharCode(b),s=a[0];s<a[1];s++){var t=g+String.fromCharCode(s);T.push(t)}return T}M.createPairs=k,M.ascii=e},22235:function(ee,D,e){var M=e(49972),k=e(48816),a={M:"moveTo",C:"bezierCurveTo"};ee.exports=function(T,b){T.beginPath(),k(M(b)).forEach(function(g){var s=g[0],t=g.slice(1);T[a[s]].apply(T,t)}),T.closePath()}},72512:function(ee){ee.exports=function(D){switch(D){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(ee){function D(e,M,k){var a=0|e[k];if(a<=0)return[];var T,b=new Array(a);if(k===e.length-1)for(T=0;T<a;++T)b[T]=M;else for(T=0;T<a;++T)b[T]=D(e,M,k+1);return b}ee.exports=function(e,M){switch(M===void 0&&(M=0),typeof e){case"number":if(e>0)return function(k,a){var T,b;for(T=new Array(k),b=0;b<k;++b)T[b]=a;return T}(0|e,M);break;case"object":if(typeof e.length=="number")return D(e,M,0)}return[]}},28912:function(ee){function D(S,w,E){E=E||2;var C,P,O,R,U,z,N,W=w&&w.length,F=W?w[0]*E:S.length,V=e(S,0,F,E,!0),j=[];if(!V||V.next===V.prev)return j;if(W&&(V=function(J,K,Z,X){var Q,re,ae,ie=[];for(Q=0,re=K.length;Q<re;Q++)(ae=e(J,K[Q]*X,Q<re-1?K[Q+1]*X:J.length,X,!1))===ae.next&&(ae.steiner=!0),ie.push(n(ae));for(ie.sort(s),Q=0;Q<ie.length;Q++)t(ie[Q],Z),Z=M(Z,Z.next);return Z}(S,w,V,E)),S.length>80*E){C=O=S[0],P=R=S[1];for(var te=E;te<F;te+=E)(U=S[te])<C&&(C=U),(z=S[te+1])<P&&(P=z),U>O&&(O=U),z>R&&(R=z);N=(N=Math.max(O-C,R-P))!==0?1/N:0}return k(V,j,E,C,P,N),j}function e(S,w,E,C,P){var O,R;if(P===h(S,w,E,C)>0)for(O=w;O<E;O+=C)R=y(O,S[O],S[O+1],R);else for(O=E-C;O>=w;O-=C)R=y(O,S[O],S[O+1],R);return R&&d(R,R.next)&&(x(R),R=R.next),R}function M(S,w){if(!S)return S;w||(w=S);var E,C=S;do if(E=!1,C.steiner||!d(C,C.next)&&u(C.prev,C,C.next)!==0)C=C.next;else{if(x(C),(C=w=C.prev)===C.next)break;E=!0}while(E||C!==w);return w}function k(S,w,E,C,P,O,R){if(S){!R&&O&&function(W,F,V,j){var te=W;do te.z===null&&(te.z=r(te.x,te.y,F,V,j)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next;while(te!==W);te.prevZ.nextZ=null,te.prevZ=null,function(J){var K,Z,X,Q,re,ae,ie,le,pe=1;do{for(Z=J,J=null,re=null,ae=0;Z;){for(ae++,X=Z,ie=0,K=0;K<pe&&(ie++,X=X.nextZ);K++);for(le=pe;ie>0||le>0&&X;)ie!==0&&(le===0||!X||Z.z<=X.z)?(Q=Z,Z=Z.nextZ,ie--):(Q=X,X=X.nextZ,le--),re?re.nextZ=Q:J=Q,Q.prevZ=re,re=Q;Z=X}re.nextZ=null,pe*=2}while(ae>1)}(te)}(S,C,P,O);for(var U,z,N=S;S.prev!==S.next;)if(U=S.prev,z=S.next,O?T(S,C,P,O):a(S))w.push(U.i/E),w.push(S.i/E),w.push(z.i/E),x(S),S=z.next,N=z.next;else if((S=z)===N){R?R===1?k(S=b(M(S),w,E),w,E,C,P,O,2):R===2&&g(S,w,E,C,P,O):k(M(S),w,E,C,P,O,1);break}}}function a(S){var w=S.prev,E=S,C=S.next;if(u(w,E,C)>=0)return!1;for(var P=S.next.next;P!==S.prev;){if(o(w.x,w.y,E.x,E.y,C.x,C.y,P.x,P.y)&&u(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function T(S,w,E,C){var P=S.prev,O=S,R=S.next;if(u(P,O,R)>=0)return!1;for(var U=P.x<O.x?P.x<R.x?P.x:R.x:O.x<R.x?O.x:R.x,z=P.y<O.y?P.y<R.y?P.y:R.y:O.y<R.y?O.y:R.y,N=P.x>O.x?P.x>R.x?P.x:R.x:O.x>R.x?O.x:R.x,W=P.y>O.y?P.y>R.y?P.y:R.y:O.y>R.y?O.y:R.y,F=r(U,z,w,E,C),V=r(N,W,w,E,C),j=S.prevZ,te=S.nextZ;j&&j.z>=F&&te&&te.z<=V;){if(j!==S.prev&&j!==S.next&&o(P.x,P.y,O.x,O.y,R.x,R.y,j.x,j.y)&&u(j.prev,j,j.next)>=0||(j=j.prevZ,te!==S.prev&&te!==S.next&&o(P.x,P.y,O.x,O.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;j&&j.z>=F;){if(j!==S.prev&&j!==S.next&&o(P.x,P.y,O.x,O.y,R.x,R.y,j.x,j.y)&&u(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;te&&te.z<=V;){if(te!==S.prev&&te!==S.next&&o(P.x,P.y,O.x,O.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function b(S,w,E){var C=S;do{var P=C.prev,O=C.next.next;!d(P,O)&&c(P,C,C.next,O)&&p(P,O)&&p(O,P)&&(w.push(P.i/E),w.push(C.i/E),w.push(O.i/E),x(C),x(C.next),C=S=O),C=C.next}while(C!==S);return M(C)}function g(S,w,E,C,P,O){var R=S;do{for(var U=R.next.next;U!==R.prev;){if(R.i!==U.i&&l(R,U)){var z=v(R,U);return R=M(R,R.next),z=M(z,z.next),k(R,w,E,C,P,O),void k(z,w,E,C,P,O)}U=U.next}R=R.next}while(R!==S)}function s(S,w){return S.x-w.x}function t(S,w){if(w=function(C,P){var O,R=P,U=C.x,z=C.y,N=-1/0;do{if(z<=R.y&&z>=R.next.y&&R.next.y!==R.y){var W=R.x+(z-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(W<=U&&W>N){if(N=W,W===U){if(z===R.y)return R;if(z===R.next.y)return R.next}O=R.x<R.next.x?R:R.next}}R=R.next}while(R!==P);if(!O)return null;if(U===N)return O;var F,V=O,j=O.x,te=O.y,J=1/0;R=O;do U>=R.x&&R.x>=j&&U!==R.x&&o(z<te?U:N,z,j,te,z<te?N:U,z,R.x,R.y)&&(F=Math.abs(z-R.y)/(U-R.x),p(R,C)&&(F<J||F===J&&(R.x>O.x||R.x===O.x&&i(O,R)))&&(O=R,J=F)),R=R.next;while(R!==V);return O}(S,w),w){var E=v(w,S);M(w,w.next),M(E,E.next)}}function i(S,w){return u(S.prev,S,w.prev)<0&&u(w.next,S,S.next)<0}function r(S,w,E,C,P){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-E)*P)|S<<8))|S<<4))|S<<2))|S<<1))|(w=1431655765&((w=858993459&((w=252645135&((w=16711935&((w=32767*(w-C)*P)|w<<8))|w<<4))|w<<2))|w<<1))<<1}function n(S){var w=S,E=S;do(w.x<E.x||w.x===E.x&&w.y<E.y)&&(E=w),w=w.next;while(w!==S);return E}function o(S,w,E,C,P,O,R,U){return(P-R)*(w-U)-(S-R)*(O-U)>=0&&(S-R)*(C-U)-(E-R)*(w-U)>=0&&(E-R)*(O-U)-(P-R)*(C-U)>=0}function l(S,w){return S.next.i!==w.i&&S.prev.i!==w.i&&!function(E,C){var P=E;do{if(P.i!==E.i&&P.next.i!==E.i&&P.i!==C.i&&P.next.i!==C.i&&c(P,P.next,E,C))return!0;P=P.next}while(P!==E);return!1}(S,w)&&(p(S,w)&&p(w,S)&&function(E,C){var P=E,O=!1,R=(E.x+C.x)/2,U=(E.y+C.y)/2;do P.y>U!=P.next.y>U&&P.next.y!==P.y&&R<(P.next.x-P.x)*(U-P.y)/(P.next.y-P.y)+P.x&&(O=!O),P=P.next;while(P!==E);return O}(S,w)&&(u(S.prev,S,w.prev)||u(S,w.prev,w))||d(S,w)&&u(S.prev,S,S.next)>0&&u(w.prev,w,w.next)>0)}function u(S,w,E){return(w.y-S.y)*(E.x-w.x)-(w.x-S.x)*(E.y-w.y)}function d(S,w){return S.x===w.x&&S.y===w.y}function c(S,w,E,C){var P=f(u(S,w,E)),O=f(u(S,w,C)),R=f(u(E,C,S)),U=f(u(E,C,w));return P!==O&&R!==U||!(P!==0||!m(S,E,w))||!(O!==0||!m(S,C,w))||!(R!==0||!m(E,S,C))||!(U!==0||!m(E,w,C))}function m(S,w,E){return w.x<=Math.max(S.x,E.x)&&w.x>=Math.min(S.x,E.x)&&w.y<=Math.max(S.y,E.y)&&w.y>=Math.min(S.y,E.y)}function f(S){return S>0?1:S<0?-1:0}function p(S,w){return u(S.prev,S,S.next)<0?u(S,w,S.next)>=0&&u(S,S.prev,w)>=0:u(S,w,S.prev)<0||u(S,S.next,w)<0}function v(S,w){var E=new _(S.i,S.x,S.y),C=new _(w.i,w.x,w.y),P=S.next,O=w.prev;return S.next=w,w.prev=S,E.next=P,P.prev=E,C.next=E,E.prev=C,O.next=C,C.prev=O,C}function y(S,w,E,C){var P=new _(S,w,E);return C?(P.next=C.next,P.prev=C,C.next.prev=P,C.next=P):(P.prev=P,P.next=P),P}function x(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function _(S,w,E){this.i=S,this.x=w,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function h(S,w,E,C){for(var P=0,O=w,R=E-C;O<E;O+=C)P+=(S[R]-S[O])*(S[O+1]+S[R+1]),R=O;return P}ee.exports=D,ee.exports.default=D,D.deviation=function(S,w,E,C){var P=w&&w.length,O=P?w[0]*E:S.length,R=Math.abs(h(S,0,O,E));if(P)for(var U=0,z=w.length;U<z;U++){var N=w[U]*E,W=U<z-1?w[U+1]*E:S.length;R-=Math.abs(h(S,N,W,E))}var F=0;for(U=0;U<C.length;U+=3){var V=C[U]*E,j=C[U+1]*E,te=C[U+2]*E;F+=Math.abs((S[V]-S[te])*(S[j+1]-S[V+1])-(S[V]-S[j])*(S[te+1]-S[V+1]))}return R===0&&F===0?0:Math.abs((F-R)/R)},D.flatten=function(S){for(var w=S[0][0].length,E={vertices:[],holes:[],dimensions:w},C=0,P=0;P<S.length;P++){for(var O=0;O<S[P].length;O++)for(var R=0;R<w;R++)E.vertices.push(S[P][O][R]);P>0&&(C+=S[P-1].length,E.holes.push(C))}return E}},6688:function(ee,D,e){var M=e(78484);ee.exports=function(k,a){var T,b=[],g=[],s=[],t={},i=[];function r(p){s[p]=!1,t.hasOwnProperty(p)&&Object.keys(t[p]).forEach(function(v){delete t[p][v],s[v]&&r(v)})}function n(p){var v,y,x=!1;for(g.push(p),s[p]=!0,v=0;v<i[p].length;v++)(y=i[p][v])===T?(o(T,g),x=!0):s[y]||(x=n(y));if(x)r(p);else for(v=0;v<i[p].length;v++){y=i[p][v];var _=t[y];_||(_={},t[y]=_),_[y]=!0}return g.pop(),x}function o(p,v){var y=[].concat(v).concat(p);a?a(n):b.push(y)}function l(p){(function(E){for(var C=0;C<k.length;C++)C<E&&(k[C]=[]),k[C]=k[C].filter(function(P){return P>=E})})(p);for(var v,y=M(k).components.filter(function(E){return E.length>1}),x=1/0,_=0;_<y.length;_++)for(var h=0;h<y[_].length;h++)y[_][h]<x&&(x=y[_][h],v=_);var S=y[v];if(!S)return!1;var w=k.map(function(E,C){return S.indexOf(C)===-1?[]:E.filter(function(P){return S.indexOf(P)!==-1})});return{leastVertex:x,adjList:w}}T=0;for(var u=k.length;T<u;){var d=l(T);if(T=d.leastVertex,i=d.adjList){for(var c=0;c<i.length;c++)for(var m=0;m<i[c].length;m++){var f=i[c][m];s[+f]=!1,t[f]={}}n(T),T+=1}else T=u}return a?void 0:b}},41476:function(ee,D,e){var M=e(9252);ee.exports=function(){return M(this).length=0,this}},74772:function(ee,D,e){ee.exports=e(44716)()?Array.from:e(80816)},44716:function(ee){ee.exports=function(){var D,e,M=Array.from;return typeof M=="function"&&(e=M(D=["raz","dwa"]),!!(e&&e!==D&&e[1]==="dwa"))}},80816:function(ee,D,e){var M=e(92664).iterator,k=e(60948),a=e(17024),T=e(81304),b=e(34044),g=e(9252),s=e(42584),t=e(29768),i=Array.isArray,r=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},o=Object.defineProperty;ee.exports=function(l){var u,d,c,m,f,p,v,y,x,_,h=arguments[1],S=arguments[2];if(l=Object(g(l)),s(h)&&b(h),this&&this!==Array&&a(this))u=this;else{if(!h){if(k(l))return(f=l.length)!==1?Array.apply(null,l):((m=new Array(1))[0]=l[0],m);if(i(l)){for(m=new Array(f=l.length),d=0;d<f;++d)m[d]=l[d];return m}}m=[]}if(!i(l)){if((x=l[M])!==void 0){for(v=b(x).call(l),u&&(m=new u),y=v.next(),d=0;!y.done;)_=h?r.call(h,S,y.value,d):y.value,u?(n.value=_,o(m,d,n)):m[d]=_,y=v.next(),++d;f=d}else if(t(l)){for(f=l.length,u&&(m=new u),d=0,c=0;d<f;++d)_=l[d],d+1<f&&(p=_.charCodeAt(0))>=55296&&p<=56319&&(_+=l[++d]),_=h?r.call(h,S,_,c):_,u?(n.value=_,o(m,c,n)):m[c]=_,++c;f=c}}if(f===void 0)for(f=T(l.length),u&&(m=new u(f)),d=0;d<f;++d)_=h?r.call(h,S,l[d],d):l[d],u?(n.value=_,o(m,d,n)):m[d]=_;return u&&(n.value=null,m.length=f),m}},60948:function(ee){var D=Object.prototype.toString,e=D.call(function(){return arguments}());ee.exports=function(M){return D.call(M)===e}},17024:function(ee){var D=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ee.exports=function(M){return typeof M=="function"&&e(D.call(M))}},33208:function(ee){ee.exports=function(){}},85608:function(ee,D,e){ee.exports=e(37328)()?Math.sign:e(92928)},37328:function(ee){ee.exports=function(){var D=Math.sign;return typeof D=="function"&&D(10)===1&&D(-20)===-1}},92928:function(ee){ee.exports=function(D){return D=Number(D),isNaN(D)||D===0?D:D>0?1:-1}},96936:function(ee,D,e){var M=e(85608),k=Math.abs,a=Math.floor;ee.exports=function(T){return isNaN(T)?0:(T=Number(T))!==0&&isFinite(T)?M(T)*a(k(T)):T}},81304:function(ee,D,e){var M=e(96936),k=Math.max;ee.exports=function(a){return k(0,M(a))}},14428:function(ee,D,e){var M=e(34044),k=e(9252),a=Function.prototype.bind,T=Function.prototype.call,b=Object.keys,g=Object.prototype.propertyIsEnumerable;ee.exports=function(s,t){return function(i,r){var n,o=arguments[2],l=arguments[3];return i=Object(k(i)),M(r),n=b(i),l&&n.sort(typeof l=="function"?a.call(l,i):void 0),typeof s!="function"&&(s=n[s]),T.call(s,n,function(u,d){return g.call(i,u)?T.call(r,o,i[u],u,i,d):t})}}},38452:function(ee,D,e){ee.exports=e(96276)()?Object.assign:e(81892)},96276:function(ee){ee.exports=function(){var D,e=Object.assign;return typeof e=="function"&&(e(D={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),D.foo+D.bar+D.trzy==="razdwatrzy")}},81892:function(ee,D,e){var M=e(54768),k=e(9252),a=Math.max;ee.exports=function(T,b){var g,s,t,i=a(arguments.length,2);for(T=Object(k(T)),t=function(r){try{T[r]=b[r]}catch(n){g||(g=n)}},s=1;s<i;++s)M(b=arguments[s]).forEach(t);if(g!==void 0)throw g;return T}},95920:function(ee,D,e){var M=e(74772),k=e(38452),a=e(9252);ee.exports=function(T){var b=Object(a(T)),g=arguments[1],s=Object(arguments[2]);if(b!==T&&!g)return b;var t={};return g?M(g,function(i){(s.ensure||i in T)&&(t[i]=T[i])}):k(t,T),t}},14452:function(ee,D,e){var M,k,a,T,b=Object.create;e(63092)()||(M=e(8672)),ee.exports=M?M.level!==1?b:(k={},a={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(g){a[g]=g!=="__proto__"?T:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(k,a),Object.defineProperty(M,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:k}),function(g,s){return b(g===null?k:g,s)}):b},42748:function(ee,D,e){ee.exports=e(14428)("forEach")},69127:function(ee,D,e){var M=e(42584),k={function:!0,object:!0};ee.exports=function(a){return M(a)&&k[typeof a]||!1}},42584:function(ee,D,e){var M=e(33208)();ee.exports=function(k){return k!==M&&k!==null}},54768:function(ee,D,e){ee.exports=e(87888)()?Object.keys:e(89592)},87888:function(ee){ee.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(ee,D,e){var M=e(42584),k=Object.keys;ee.exports=function(a){return k(M(a)?Object(a):a)}},84323:function(ee,D,e){var M=e(34044),k=e(42748),a=Function.prototype.call;ee.exports=function(T,b){var g={},s=arguments[2];return M(b),k(T,function(t,i,r,n){g[i]=a.call(b,s,t,i,r,n)}),g}},50868:function(ee,D,e){var M=e(42584),k=Array.prototype.forEach,a=Object.create;ee.exports=function(T){var b=a(null);return k.call(arguments,function(g){M(g)&&function(s,t){var i;for(i in s)t[i]=s[i]}(Object(g),b)}),b}},69932:function(ee,D,e){ee.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(ee){var D=Object.create,e=Object.getPrototypeOf,M={};ee.exports=function(){var k=Object.setPrototypeOf;return typeof k=="function"&&e(k((arguments[0]||D)(null),M))===M}},8672:function(ee,D,e){var M,k,a,T,b=e(69127),g=e(9252),s=Object.prototype.isPrototypeOf,t=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};M=function(r,n){if(g(r),n===null||b(n))return r;throw new TypeError("Prototype must be null or an object")},ee.exports=(k=function(){var r,n=Object.create(null),o={},l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{(r=l.set).call(n,o)}catch{}if(Object.getPrototypeOf(n)===o)return{set:r,level:2}}return n.__proto__=o,Object.getPrototypeOf(n)===o?{level:2}:((n={}).__proto__=o,Object.getPrototypeOf(n)===o&&{level:1})}(),k?(k.level===2?k.set?(T=k.set,a=function(r,n){return T.call(M(r,n),n),r}):a=function(r,n){return M(r,n).__proto__=n,r}:a=function r(n,o){var l;return M(n,o),(l=s.call(r.nullPolyfill,n))&&delete r.nullPolyfill.__proto__,o===null&&(o=r.nullPolyfill),n.__proto__=o,l&&t(r.nullPolyfill,"__proto__",i),n},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:k.level})):null),e(14452)},34044:function(ee){ee.exports=function(D){if(typeof D!="function")throw new TypeError(D+" is not a function");return D}},92584:function(ee,D,e){var M=e(69127);ee.exports=function(k){if(!M(k))throw new TypeError(k+" is not an Object");return k}},9252:function(ee,D,e){var M=e(42584);ee.exports=function(k){if(!M(k))throw new TypeError("Cannot use null or undefined");return k}},71056:function(ee,D,e){ee.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(ee){var D="razdwatrzy";ee.exports=function(){return typeof D.contains=="function"&&D.contains("dwa")===!0&&D.contains("foo")===!1}},93040:function(ee){var D=String.prototype.indexOf;ee.exports=function(e){return D.call(this,e,arguments[1])>-1}},29768:function(ee){var D=Object.prototype.toString,e=D.call("");ee.exports=function(M){return typeof M=="string"||M&&typeof M=="object"&&(M instanceof String||D.call(M)===e)||!1}},82252:function(ee){var D=Object.create(null),e=Math.random;ee.exports=function(){var M;do M=e().toString(36).slice(2);while(D[M]);return M}},52104:function(ee,D,e){var M,k=e(69932),a=e(71056),T=e(21092),b=e(92664),g=e(85512),s=Object.defineProperty;M=ee.exports=function(t,i){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");g.call(this,t),i=i?a.call(i,"key+value")?"key+value":a.call(i,"key")?"key":"value":"value",s(this,"__kind__",T("",i))},k&&k(M,g),delete M.prototype.constructor,M.prototype=Object.create(g.prototype,{_resolve:T(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),s(M.prototype,b.toStringTag,T("c","Array Iterator"))},76024:function(ee,D,e){var M=e(60948),k=e(34044),a=e(29768),T=e(76252),b=Array.isArray,g=Function.prototype.call,s=Array.prototype.some;ee.exports=function(t,i){var r,n,o,l,u,d,c,m,f=arguments[2];if(b(t)||M(t)?r="array":a(t)?r="string":t=T(t),k(i),o=function(){l=!0},r!=="array")if(r!=="string")for(n=t.next();!n.done;){if(g.call(i,f,n.value,o),l)return;n=t.next()}else for(d=t.length,u=0;u<d&&(c=t[u],u+1<d&&(m=c.charCodeAt(0))>=55296&&m<=56319&&(c+=t[++u]),g.call(i,f,c,o),!l);++u);else s.call(t,function(p){return g.call(i,f,p,o),l})}},76252:function(ee,D,e){var M=e(60948),k=e(29768),a=e(52104),T=e(80940),b=e(52891),g=e(92664).iterator;ee.exports=function(s){return typeof b(s)[g]=="function"?s[g]():M(s)?new a(s):k(s)?new T(s):new a(s)}},85512:function(ee,D,e){var M,k=e(41476),a=e(38452),T=e(34044),b=e(9252),g=e(21092),s=e(27940),t=e(92664),i=Object.defineProperty,r=Object.defineProperties;ee.exports=M=function(n,o){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");r(this,{__list__:g("w",b(n)),__context__:g("w",o),__nextIndex__:g("w",0)}),o&&(T(o.on),o.on("_add",this._onAdd),o.on("_delete",this._onDelete),o.on("_clear",this._onClear))},delete M.prototype.constructor,r(M.prototype,a({_next:g(function(){var n;if(this.__list__)return this.__redo__&&(n=this.__redo__.shift())!==void 0?n:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:g(function(){return this._createResult(this._next())}),_createResult:g(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:g(function(n){return this.__list__[n]}),_unBind:g(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:g(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},s({_onAdd:g(function(n){n>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(o,l){o>=n&&(this.__redo__[l]=++o)},this),this.__redo__.push(n)):i(this,"__redo__",g("c",[n])))}),_onDelete:g(function(n){var o;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((o=this.__redo__.indexOf(n))!==-1&&this.__redo__.splice(o,1),this.__redo__.forEach(function(l,u){l>n&&(this.__redo__[u]=--l)},this)))}),_onClear:g(function(){this.__redo__&&k.call(this.__redo__),this.__nextIndex__=0})}))),i(M.prototype,t.iterator,g(function(){return this}))},76368:function(ee,D,e){var M=e(60948),k=e(42584),a=e(29768),T=e(92664).iterator,b=Array.isArray;ee.exports=function(g){return!(!k(g)||!b(g)&&!a(g)&&!M(g)&&typeof g[T]!="function")}},80940:function(ee,D,e){var M,k=e(69932),a=e(21092),T=e(92664),b=e(85512),g=Object.defineProperty;M=ee.exports=function(s){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");s=String(s),b.call(this,s),g(this,"__length__",a("",s.length))},k&&k(M,b),delete M.prototype.constructor,M.prototype=Object.create(b.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(s){var t,i=this.__list__[s];return this.__nextIndex__===this.__length__?i:(t=i.charCodeAt(0))>=55296&&t<=56319?i+this.__list__[this.__nextIndex__++]:i})}),g(M.prototype,T.toStringTag,a("c","String Iterator"))},52891:function(ee,D,e){var M=e(76368);ee.exports=function(k){if(!M(k))throw new TypeError(k+" is not iterable");return k}},60964:function(ee){function D(e,M){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var k=Object(e),a=1;a<arguments.length;a++){var T=arguments[a];if(T!=null)for(var b=Object.keys(Object(T)),g=0,s=b.length;g<s;g++){var t=b[g],i=Object.getOwnPropertyDescriptor(T,t);i!==void 0&&i.enumerable&&(k[t]=T[t])}}return k}ee.exports={assign:D,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:D})}}},92664:function(ee,D,e){ee.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(ee,D,e){var M=e(12296),k={object:!0,symbol:!0};ee.exports=function(){var a,T=M.Symbol;if(typeof T!="function")return!1;a=T("test symbol");try{String(a)}catch{return!1}return!!k[typeof T.iterator]&&!!k[typeof T.toPrimitive]&&!!k[typeof T.toStringTag]}},53908:function(ee){ee.exports=function(D){return!!D&&(typeof D=="symbol"||!!D.constructor&&D.constructor.name==="Symbol"&&D[D.constructor.toStringTag]==="Symbol")}},96863:function(ee,D,e){var M=e(21092),k=Object.create,a=Object.defineProperty,T=Object.prototype,b=k(null);ee.exports=function(g){for(var s,t,i=0;b[g+(i||"")];)++i;return b[g+=i||""]=!0,a(T,s="@@"+g,M.gs(null,function(r){t||(t=!0,a(this,s,M(r)),t=!1)})),s}},53540:function(ee,D,e){var M=e(21092),k=e(12296).Symbol;ee.exports=function(a){return Object.defineProperties(a,{hasInstance:M("",k&&k.hasInstance||a("hasInstance")),isConcatSpreadable:M("",k&&k.isConcatSpreadable||a("isConcatSpreadable")),iterator:M("",k&&k.iterator||a("iterator")),match:M("",k&&k.match||a("match")),replace:M("",k&&k.replace||a("replace")),search:M("",k&&k.search||a("search")),species:M("",k&&k.species||a("species")),split:M("",k&&k.split||a("split")),toPrimitive:M("",k&&k.toPrimitive||a("toPrimitive")),toStringTag:M("",k&&k.toStringTag||a("toStringTag")),unscopables:M("",k&&k.unscopables||a("unscopables"))})}},73852:function(ee,D,e){var M=e(21092),k=e(63948),a=Object.create(null);ee.exports=function(T){return Object.defineProperties(T,{for:M(function(b){return a[b]?a[b]:a[b]=T(String(b))}),keyFor:M(function(b){var g;for(g in k(b),a)if(a[g]===b)return g})})}},18376:function(ee,D,e){var M,k,a,T=e(21092),b=e(63948),g=e(12296).Symbol,s=e(96863),t=e(53540),i=e(73852),r=Object.create,n=Object.defineProperties,o=Object.defineProperty;if(typeof g=="function")try{String(g()),a=!0}catch{}else g=null;k=function(l){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return M(l)},ee.exports=M=function l(u){var d;if(this instanceof l)throw new TypeError("Symbol is not a constructor");return a?g(u):(d=r(k.prototype),u=u===void 0?"":String(u),n(d,{__description__:T("",u),__name__:T("",s(u))}))},t(M),i(M),n(k.prototype,{constructor:T(M),toString:T("",function(){return this.__name__})}),n(M.prototype,{toString:T(function(){return"Symbol ("+b(this).__description__+")"}),valueOf:T(function(){return b(this)})}),o(M.prototype,M.toPrimitive,T("",function(){var l=b(this);return typeof l=="symbol"?l:l.toString()})),o(M.prototype,M.toStringTag,T("c","Symbol")),o(k.prototype,M.toStringTag,T("c",M.prototype[M.toStringTag])),o(k.prototype,M.toPrimitive,T("c",M.prototype[M.toPrimitive]))},63948:function(ee,D,e){var M=e(53908);ee.exports=function(k){if(!M(k))throw new TypeError(k+" is not a symbol");return k}},60463:function(ee,D,e){ee.exports=e(96979)()?WeakMap:e(64864)},96979:function(ee){ee.exports=function(){var D,e;if(typeof WeakMap!="function")return!1;try{D=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(D)==="[object WeakMap]"&&typeof D.set=="function"&&D.set({},1)===D&&typeof D.delete=="function"&&typeof D.has=="function"&&D.get(e)==="one"}},69876:function(ee){ee.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},64864:function(ee,D,e){var M,k=e(42584),a=e(69932),T=e(92584),b=e(9252),g=e(82252),s=e(21092),t=e(76252),i=e(76024),r=e(92664).toStringTag,n=e(69876),o=Array.isArray,l=Object.defineProperty,u=Object.prototype.hasOwnProperty,d=Object.getPrototypeOf;ee.exports=M=function(){var c,m=arguments[0];if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");return c=n&&a&&WeakMap!==M?a(new WeakMap,d(this)):this,k(m)&&(o(m)||(m=t(m))),l(c,"__weakMapData__",s("c","$weakMap$"+g())),m&&i(m,function(f){b(f),c.set(f[0],f[1])}),c},n&&(a&&a(M,WeakMap),M.prototype=Object.create(WeakMap.prototype,{constructor:s(M)})),Object.defineProperties(M.prototype,{delete:s(function(c){return!!u.call(T(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:s(function(c){if(u.call(T(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:s(function(c){return u.call(T(c),this.__weakMapData__)}),set:s(function(c,m){return l(T(c),this.__weakMapData__,s("c",m)),this}),toString:s(function(){return"[object WeakMap]"})}),l(M.prototype,r,s("c","WeakMap"))},61252:function(ee){var D,e=typeof Reflect=="object"?Reflect:null,M=e&&typeof e.apply=="function"?e.apply:function(u,d,c){return Function.prototype.apply.call(u,d,c)};D=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var k=Number.isNaN||function(u){return u!=u};function a(){a.init.call(this)}ee.exports=a,ee.exports.once=function(u,d){return new Promise(function(c,m){function f(v){u.removeListener(d,p),m(v)}function p(){typeof u.removeListener=="function"&&u.removeListener("error",f),c([].slice.call(arguments))}l(u,d,p,{once:!0}),d!=="error"&&function(v,y,x){typeof v.on=="function"&&l(v,"error",y,{once:!0})}(u,f)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var T=10;function b(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function g(u){return u._maxListeners===void 0?a.defaultMaxListeners:u._maxListeners}function s(u,d,c,m){var f,p,v,y;if(b(c),(p=u._events)===void 0?(p=u._events=Object.create(null),u._eventsCount=0):(p.newListener!==void 0&&(u.emit("newListener",d,c.listener?c.listener:c),p=u._events),v=p[d]),v===void 0)v=p[d]=c,++u._eventsCount;else if(typeof v=="function"?v=p[d]=m?[c,v]:[v,c]:m?v.unshift(c):v.push(c),(f=g(u))>0&&v.length>f&&!v.warned){v.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=u,x.type=d,x.count=v.length,y=x,console&&console.warn&&console.warn(y)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,d,c){var m={fired:!1,wrapFn:void 0,target:u,type:d,listener:c},f=t.bind(m);return f.listener=c,m.wrapFn=f,f}function r(u,d,c){var m=u._events;if(m===void 0)return[];var f=m[d];return f===void 0?[]:typeof f=="function"?c?[f.listener||f]:[f]:c?function(p){for(var v=new Array(p.length),y=0;y<v.length;++y)v[y]=p[y].listener||p[y];return v}(f):o(f,f.length)}function n(u){var d=this._events;if(d!==void 0){var c=d[u];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}function o(u,d){for(var c=new Array(d),m=0;m<d;++m)c[m]=u[m];return c}function l(u,d,c,m){if(typeof u.on=="function")m.once?u.once(d,c):u.on(d,c);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(d,function f(p){m.once&&u.removeEventListener(d,f),c(p)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");T=u}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},a.prototype.getMaxListeners=function(){return g(this)},a.prototype.emit=function(u){for(var d=[],c=1;c<arguments.length;c++)d.push(arguments[c]);var m=u==="error",f=this._events;if(f!==void 0)m=m&&f.error===void 0;else if(!m)return!1;if(m){var p;if(d.length>0&&(p=d[0]),p instanceof Error)throw p;var v=new Error("Unhandled error."+(p?" ("+p.message+")":""));throw v.context=p,v}var y=f[u];if(y===void 0)return!1;if(typeof y=="function")M(y,this,d);else{var x=y.length,_=o(y,x);for(c=0;c<x;++c)M(_[c],this,d)}return!0},a.prototype.addListener=function(u,d){return s(this,u,d,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(u,d){return s(this,u,d,!0)},a.prototype.once=function(u,d){return b(d),this.on(u,i(this,u,d)),this},a.prototype.prependOnceListener=function(u,d){return b(d),this.prependListener(u,i(this,u,d)),this},a.prototype.removeListener=function(u,d){var c,m,f,p,v;if(b(d),(m=this._events)===void 0)return this;if((c=m[u])===void 0)return this;if(c===d||c.listener===d)--this._eventsCount==0?this._events=Object.create(null):(delete m[u],m.removeListener&&this.emit("removeListener",u,c.listener||d));else if(typeof c!="function"){for(f=-1,p=c.length-1;p>=0;p--)if(c[p]===d||c[p].listener===d){v=c[p].listener,f=p;break}if(f<0)return this;f===0?c.shift():function(y,x){for(;x+1<y.length;x++)y[x]=y[x+1];y.pop()}(c,f),c.length===1&&(m[u]=c[0]),m.removeListener!==void 0&&this.emit("removeListener",u,v||d)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(u){var d,c,m;if((c=this._events)===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete c[u]),this;if(arguments.length===0){var f,p=Object.keys(c);for(m=0;m<p.length;++m)(f=p[m])!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(d=c[u])=="function")this.removeListener(u,d);else if(d!==void 0)for(m=d.length-1;m>=0;m--)this.removeListener(u,d[m]);return this},a.prototype.listeners=function(u){return r(this,u,!0)},a.prototype.rawListeners=function(u){return r(this,u,!1)},a.listenerCount=function(u,d){return typeof u.listenerCount=="function"?u.listenerCount(d):n.call(u,d)},a.prototype.listenerCount=n,a.prototype.eventNames=function(){return this._eventsCount>0?D(this._events):[]}},39072:function(ee){var D=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};ee.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return D()}try{return __global__||D()}finally{delete Object.prototype.__global__}}()},12296:function(ee,D,e){ee.exports=e(45072)()?globalThis:e(39072)},45072:function(ee){ee.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},38248:function(ee,D,e){var M=e(94576);ee.exports=function(k){var a=typeof k;if(a==="string"){var T=k;if((k=+k)==0&&M(T))return!1}else if(a!=="number")return!1;return k-k<1}},47520:function(ee,D,e){var M=e(72512);ee.exports=function(k,a,T){if(!k)throw new TypeError("must specify data as first parameter");if(T=0|+(T||0),Array.isArray(k)&&k[0]&&typeof k[0][0]=="number"){var b,g,s,t,i=k[0].length,r=k.length*i;a&&typeof a!="string"||(a=new(M(a||"float32"))(r+T));var n=a.length-T;if(r!==n)throw new Error("source length "+r+" ("+i+"x"+k.length+") does not match destination length "+n);for(b=0,s=T;b<k.length;b++)for(g=0;g<i;g++)a[s++]=k[b][g]===null?NaN:k[b][g]}else if(a&&typeof a!="string")a.set(k,T);else{var o=M(a||"float32");if(Array.isArray(k)||a==="array")for(b=0,s=T,t=(a=new o(k.length+T)).length;s<t;s++,b++)a[s]=k[b]===null?NaN:k[b];else T===0?a=new o(k):(a=new o(k.length+T)).set(k,T)}return a}},33888:function(ee,D,e){var M=e(49395),k=[32,126];ee.exports=function(a){var T=(a=a||{}).shape?a.shape:a.canvas?[a.canvas.width,a.canvas.height]:[512,512],b=a.canvas||document.createElement("canvas"),g=a.font,s=typeof a.step=="number"?[a.step,a.step]:a.step||[32,32],t=a.chars||k;if(g&&typeof g!="string"&&(g=M(g)),Array.isArray(t)){if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],r=t[0],n=0;r<=t[1];r++)i[n++]=String.fromCharCode(r);t=i}}else t=String(t).split("");T=T.slice(),b.width=T[0],b.height=T[1];var o=b.getContext("2d");o.fillStyle="#000",o.fillRect(0,0,b.width,b.height),o.font=g,o.textAlign="center",o.textBaseline="middle",o.fillStyle="#fff";var l=s[0]/2,u=s[1]/2;for(r=0;r<t.length;r++)o.fillText(t[r],l,u),(l+=s[0])>T[0]-s[0]/2&&(l=s[0]/2,u+=s[1]);return b}},71920:function(ee){function D(a,T){T||(T={}),(typeof a=="string"||Array.isArray(a))&&(T.family=a);var b=Array.isArray(T.family)?T.family.join(", "):T.family;if(!b)throw Error("`family` must be defined");var g=T.size||T.fontSize||T.em||48,s=T.weight||T.fontWeight||"",t=(a=[T.style||T.fontStyle||"",s,g].join(" ")+"px "+b,T.origin||"top");if(D.cache[b]&&g<=D.cache[b].em)return e(D.cache[b],t);var i=T.canvas||D.canvas,r=i.getContext("2d"),n={upper:T.upper!==void 0?T.upper:"H",lower:T.lower!==void 0?T.lower:"x",descent:T.descent!==void 0?T.descent:"p",ascent:T.ascent!==void 0?T.ascent:"h",tittle:T.tittle!==void 0?T.tittle:"i",overshoot:T.overshoot!==void 0?T.overshoot:"O"},o=Math.ceil(1.5*g);i.height=o,i.width=.5*o,r.font=a;var l="H",u={top:0};r.clearRect(0,0,o,o),r.textBaseline="top",r.fillStyle="black",r.fillText(l,0,0);var d=M(r.getImageData(0,0,o,o));r.clearRect(0,0,o,o),r.textBaseline="bottom",r.fillText(l,0,o);var c=M(r.getImageData(0,0,o,o));u.lineHeight=u.bottom=o-c+d,r.clearRect(0,0,o,o),r.textBaseline="alphabetic",r.fillText(l,0,o);var m=o-M(r.getImageData(0,0,o,o))-1+d;u.baseline=u.alphabetic=m,r.clearRect(0,0,o,o),r.textBaseline="middle",r.fillText(l,0,.5*o);var f=M(r.getImageData(0,0,o,o));u.median=u.middle=o-f-1+d-.5*o,r.clearRect(0,0,o,o),r.textBaseline="hanging",r.fillText(l,0,.5*o);var p=M(r.getImageData(0,0,o,o));u.hanging=o-p-1+d-.5*o,r.clearRect(0,0,o,o),r.textBaseline="ideographic",r.fillText(l,0,o);var v=M(r.getImageData(0,0,o,o));if(u.ideographic=o-v-1+d,n.upper&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.upper,0,0),u.upper=M(r.getImageData(0,0,o,o)),u.capHeight=u.baseline-u.upper),n.lower&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.lower,0,0),u.lower=M(r.getImageData(0,0,o,o)),u.xHeight=u.baseline-u.lower),n.tittle&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.tittle,0,0),u.tittle=M(r.getImageData(0,0,o,o))),n.ascent&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.ascent,0,0),u.ascent=M(r.getImageData(0,0,o,o))),n.descent&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.descent,0,0),u.descent=k(r.getImageData(0,0,o,o))),n.overshoot){r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.overshoot,0,0);var y=k(r.getImageData(0,0,o,o));u.overshoot=y-m}for(var x in u)u[x]/=g;return u.em=g,D.cache[b]=u,e(u,t)}function e(a,T){var b={};for(var g in typeof T=="string"&&(T=a[T]),a)g!=="em"&&(b[g]=a[g]-T);return b}function M(a){for(var T=a.height,b=a.data,g=3;g<b.length;g+=4)if(b[g]!==0)return Math.floor(.25*(g-3)/T)}function k(a){for(var T=a.height,b=a.data,g=b.length-1;g>0;g-=4)if(b[g]!==0)return Math.floor(.25*(g-3)/T)}ee.exports=D,D.canvas=document.createElement("canvas"),D.cache={}},46492:function(ee,D,e){var M=e(90720),k=Object.prototype.toString,a=Object.prototype.hasOwnProperty;ee.exports=function(T,b,g){if(!M(b))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=g),k.call(T)==="[object Array]"?function(t,i,r){for(var n=0,o=t.length;n<o;n++)a.call(t,n)&&(r==null?i(t[n],n,t):i.call(r,t[n],n,t))}(T,b,s):typeof T=="string"?function(t,i,r){for(var n=0,o=t.length;n<o;n++)r==null?i(t.charAt(n),n,t):i.call(r,t.charAt(n),n,t)}(T,b,s):function(t,i,r){for(var n in t)a.call(t,n)&&(r==null?i(t[n],n,t):i.call(r,t[n],n,t))}(T,b,s)}},74336:function(ee){var D=Object.prototype.toString,e=Math.max,M=function(k,a){for(var T=[],b=0;b<k.length;b+=1)T[b]=k[b];for(var g=0;g<a.length;g+=1)T[g+k.length]=a[g];return T};ee.exports=function(k){var a=this;if(typeof a!="function"||D.apply(a)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+a);for(var T,b=function(r,n){for(var o=[],l=1,u=0;l<r.length;l+=1,u+=1)o[u]=r[l];return o}(arguments),g=e(0,a.length-b.length),s=[],t=0;t<g;t++)s[t]="$"+t;if(T=Function("binder","return function ("+function(r,n){for(var o="",l=0;l<r.length;l+=1)o+=r[l],l+1<r.length&&(o+=",");return o}(s)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof T){var r=a.apply(this,M(b,arguments));return Object(r)===r?r:this}return a.apply(k,M(b,arguments))}),a.prototype){var i=function(){};i.prototype=a.prototype,T.prototype=new i,i.prototype=null}return T}},8844:function(ee,D,e){var M=e(74336);ee.exports=Function.prototype.bind||M},13380:function(ee){ee.exports=function(D,e){if(typeof D!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var M=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(M.width=e.width),typeof e.height=="number"&&(M.height=e.height);var k,a=e;try{var T=[D];D.indexOf("webgl")===0&&T.push("experimental-"+D);for(var b=0;b<T.length;b++)if(k=M.getContext(T[b],a))return k}catch{k=null}return k||null}},53664:function(ee,D,e){var M,k=SyntaxError,a=Function,T=TypeError,b=function(C){try{return a('"use strict"; return ('+C+").constructor;")()}catch{}},g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch{g=null}var s=function(){throw new T},t=g?function(){try{return s}catch{try{return g(arguments,"callee").get}catch{return s}}}():s,i=e(71080)(),r=e(69572)(),n=Object.getPrototypeOf||(r?function(C){return C.__proto__}:null),o={},l=typeof Uint8Array<"u"&&n?n(Uint8Array):M,u={"%AggregateError%":typeof AggregateError>"u"?M:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M:ArrayBuffer,"%ArrayIteratorPrototype%":i&&n?n([][Symbol.iterator]()):M,"%AsyncFromSyncIteratorPrototype%":M,"%AsyncFunction%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?M:Atomics,"%BigInt%":typeof BigInt>"u"?M:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?M:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?M:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?M:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":o,"%Int8Array%":typeof Int8Array>"u"?M:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i&&n?n(n([][Symbol.iterator]())):M,"%JSON%":typeof JSON=="object"?JSON:M,"%Map%":typeof Map>"u"?M:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i&&n?n(new Map()[Symbol.iterator]()):M,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M:Promise,"%Proxy%":typeof Proxy>"u"?M:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?M:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i&&n?n(new Set()[Symbol.iterator]()):M,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i&&n?n(""[Symbol.iterator]()):M,"%Symbol%":i?Symbol:M,"%SyntaxError%":k,"%ThrowTypeError%":t,"%TypedArray%":l,"%TypeError%":T,"%Uint8Array%":typeof Uint8Array>"u"?M:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?M:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M:WeakSet};if(n)try{null.error}catch(C){var d=n(n(C));u["%Error.prototype%"]=d}var c=function C(P){var O;if(P==="%AsyncFunction%")O=b("async function () {}");else if(P==="%GeneratorFunction%")O=b("function* () {}");else if(P==="%AsyncGeneratorFunction%")O=b("async function* () {}");else if(P==="%AsyncGenerator%"){var R=C("%AsyncGeneratorFunction%");R&&(O=R.prototype)}else if(P==="%AsyncIteratorPrototype%"){var U=C("%AsyncGenerator%");U&&n&&(O=n(U.prototype))}return u[P]=O,O},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},f=e(8844),p=e(92064),v=f.call(Function.call,Array.prototype.concat),y=f.call(Function.apply,Array.prototype.splice),x=f.call(Function.call,String.prototype.replace),_=f.call(Function.call,String.prototype.slice),h=f.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,E=function(C,P){var O,R=C;if(p(m,R)&&(R="%"+(O=m[R])[0]+"%"),p(u,R)){var U=u[R];if(U===o&&(U=c(R)),U===void 0&&!P)throw new T("intrinsic "+C+" exists, but is not available. Please file an issue!");return{alias:O,name:R,value:U}}throw new k("intrinsic "+C+" does not exist!")};ee.exports=function(C,P){if(typeof C!="string"||C.length===0)throw new T("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof P!="boolean")throw new T('"allowMissing" argument must be a boolean');if(h(/^%?[^%]*%?$/,C)===null)throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var O=function(X){var Q=_(X,0,1),re=_(X,-1);if(Q==="%"&&re!=="%")throw new k("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&Q!=="%")throw new k("invalid intrinsic syntax, expected opening `%`");var ae=[];return x(X,S,function(ie,le,pe,de){ae[ae.length]=pe?x(de,w,"$1"):le||ie}),ae}(C),R=O.length>0?O[0]:"",U=E("%"+R+"%",P),z=U.name,N=U.value,W=!1,F=U.alias;F&&(R=F[0],y(O,v([0,1],F)));for(var V=1,j=!0;V<O.length;V+=1){var te=O[V],J=_(te,0,1),K=_(te,-1);if((J==='"'||J==="'"||J==="`"||K==='"'||K==="'"||K==="`")&&J!==K)throw new k("property names with quotes must have matching quotes");if(te!=="constructor"&&j||(W=!0),p(u,z="%"+(R+="."+te)+"%"))N=u[z];else if(N!=null){if(!(te in N)){if(!P)throw new T("base intrinsic for "+C+" exists, but the property is not available.");return}if(g&&V+1>=O.length){var Z=g(N,te);N=(j=!!Z)&&"get"in Z&&!("originalValue"in Z.get)?Z.get:N[te]}else j=p(N,te),N=N[te];j&&!W&&(u[z]=N)}}return N}},12408:function(ee){ee.exports=function(D,e){var M=e[0],k=e[1],a=e[2],T=e[3],b=e[4],g=e[5],s=e[6],t=e[7],i=e[8],r=e[9],n=e[10],o=e[11],l=e[12],u=e[13],d=e[14],c=e[15];return D[0]=g*(n*c-o*d)-r*(s*c-t*d)+u*(s*o-t*n),D[1]=-(k*(n*c-o*d)-r*(a*c-T*d)+u*(a*o-T*n)),D[2]=k*(s*c-t*d)-g*(a*c-T*d)+u*(a*t-T*s),D[3]=-(k*(s*o-t*n)-g*(a*o-T*n)+r*(a*t-T*s)),D[4]=-(b*(n*c-o*d)-i*(s*c-t*d)+l*(s*o-t*n)),D[5]=M*(n*c-o*d)-i*(a*c-T*d)+l*(a*o-T*n),D[6]=-(M*(s*c-t*d)-b*(a*c-T*d)+l*(a*t-T*s)),D[7]=M*(s*o-t*n)-b*(a*o-T*n)+i*(a*t-T*s),D[8]=b*(r*c-o*u)-i*(g*c-t*u)+l*(g*o-t*r),D[9]=-(M*(r*c-o*u)-i*(k*c-T*u)+l*(k*o-T*r)),D[10]=M*(g*c-t*u)-b*(k*c-T*u)+l*(k*t-T*g),D[11]=-(M*(g*o-t*r)-b*(k*o-T*r)+i*(k*t-T*g)),D[12]=-(b*(r*d-n*u)-i*(g*d-s*u)+l*(g*n-s*r)),D[13]=M*(r*d-n*u)-i*(k*d-a*u)+l*(k*n-a*r),D[14]=-(M*(g*d-s*u)-b*(k*d-a*u)+l*(k*s-a*g)),D[15]=M*(g*n-s*r)-b*(k*n-a*r)+i*(k*s-a*g),D}},76860:function(ee){ee.exports=function(D){var e=new Float32Array(16);return e[0]=D[0],e[1]=D[1],e[2]=D[2],e[3]=D[3],e[4]=D[4],e[5]=D[5],e[6]=D[6],e[7]=D[7],e[8]=D[8],e[9]=D[9],e[10]=D[10],e[11]=D[11],e[12]=D[12],e[13]=D[13],e[14]=D[14],e[15]=D[15],e}},64492:function(ee){ee.exports=function(D,e){return D[0]=e[0],D[1]=e[1],D[2]=e[2],D[3]=e[3],D[4]=e[4],D[5]=e[5],D[6]=e[6],D[7]=e[7],D[8]=e[8],D[9]=e[9],D[10]=e[10],D[11]=e[11],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15],D}},54212:function(ee){ee.exports=function(){var D=new Float32Array(16);return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},70800:function(ee){ee.exports=function(D){var e=D[0],M=D[1],k=D[2],a=D[3],T=D[4],b=D[5],g=D[6],s=D[7],t=D[8],i=D[9],r=D[10],n=D[11],o=D[12],l=D[13],u=D[14],d=D[15];return(e*b-M*T)*(r*d-n*u)-(e*g-k*T)*(i*d-n*l)+(e*s-a*T)*(i*u-r*l)+(M*g-k*b)*(t*d-n*o)-(M*s-a*b)*(t*u-r*o)+(k*s-a*g)*(t*l-i*o)}},61784:function(ee){ee.exports=function(D,e){var M=e[0],k=e[1],a=e[2],T=e[3],b=M+M,g=k+k,s=a+a,t=M*b,i=k*b,r=k*g,n=a*b,o=a*g,l=a*s,u=T*b,d=T*g,c=T*s;return D[0]=1-r-l,D[1]=i+c,D[2]=n-d,D[3]=0,D[4]=i-c,D[5]=1-t-l,D[6]=o+u,D[7]=0,D[8]=n+d,D[9]=o-u,D[10]=1-t-r,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},91616:function(ee){ee.exports=function(D,e,M){var k,a,T,b=M[0],g=M[1],s=M[2],t=Math.sqrt(b*b+g*g+s*s);return Math.abs(t)<1e-6?null:(b*=t=1/t,g*=t,s*=t,k=Math.sin(e),T=1-(a=Math.cos(e)),D[0]=b*b*T+a,D[1]=g*b*T+s*k,D[2]=s*b*T-g*k,D[3]=0,D[4]=b*g*T-s*k,D[5]=g*g*T+a,D[6]=s*g*T+b*k,D[7]=0,D[8]=b*s*T+g*k,D[9]=g*s*T-b*k,D[10]=s*s*T+a,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D)}},51944:function(ee){ee.exports=function(D,e,M){var k=e[0],a=e[1],T=e[2],b=e[3],g=k+k,s=a+a,t=T+T,i=k*g,r=k*s,n=k*t,o=a*s,l=a*t,u=T*t,d=b*g,c=b*s,m=b*t;return D[0]=1-(o+u),D[1]=r+m,D[2]=n-c,D[3]=0,D[4]=r-m,D[5]=1-(i+u),D[6]=l+d,D[7]=0,D[8]=n+c,D[9]=l-d,D[10]=1-(i+o),D[11]=0,D[12]=M[0],D[13]=M[1],D[14]=M[2],D[15]=1,D}},69444:function(ee){ee.exports=function(D,e){return D[0]=e[0],D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=e[1],D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=e[2],D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},48268:function(ee){ee.exports=function(D,e){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=e[0],D[13]=e[1],D[14]=e[2],D[15]=1,D}},21856:function(ee){ee.exports=function(D,e){var M=Math.sin(e),k=Math.cos(e);return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=k,D[6]=M,D[7]=0,D[8]=0,D[9]=-M,D[10]=k,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},79216:function(ee){ee.exports=function(D,e){var M=Math.sin(e),k=Math.cos(e);return D[0]=k,D[1]=0,D[2]=-M,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=M,D[9]=0,D[10]=k,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},57736:function(ee){ee.exports=function(D,e){var M=Math.sin(e),k=Math.cos(e);return D[0]=k,D[1]=M,D[2]=0,D[3]=0,D[4]=-M,D[5]=k,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},38848:function(ee){ee.exports=function(D,e,M,k,a,T,b){var g=1/(M-e),s=1/(a-k),t=1/(T-b);return D[0]=2*T*g,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=2*T*s,D[6]=0,D[7]=0,D[8]=(M+e)*g,D[9]=(a+k)*s,D[10]=(b+T)*t,D[11]=-1,D[12]=0,D[13]=0,D[14]=b*T*2*t,D[15]=0,D}},36635:function(ee){ee.exports=function(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},36524:function(ee,D,e){ee.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(ee){ee.exports=function(D,e){var M=e[0],k=e[1],a=e[2],T=e[3],b=e[4],g=e[5],s=e[6],t=e[7],i=e[8],r=e[9],n=e[10],o=e[11],l=e[12],u=e[13],d=e[14],c=e[15],m=M*g-k*b,f=M*s-a*b,p=M*t-T*b,v=k*s-a*g,y=k*t-T*g,x=a*t-T*s,_=i*u-r*l,h=i*d-n*l,S=i*c-o*l,w=r*d-n*u,E=r*c-o*u,C=n*c-o*d,P=m*C-f*E+p*w+v*S-y*h+x*_;return P?(P=1/P,D[0]=(g*C-s*E+t*w)*P,D[1]=(a*E-k*C-T*w)*P,D[2]=(u*x-d*y+c*v)*P,D[3]=(n*y-r*x-o*v)*P,D[4]=(s*S-b*C-t*h)*P,D[5]=(M*C-a*S+T*h)*P,D[6]=(d*p-l*x-c*f)*P,D[7]=(i*x-n*p+o*f)*P,D[8]=(b*E-g*S+t*_)*P,D[9]=(k*S-M*E-T*_)*P,D[10]=(l*y-u*p+c*m)*P,D[11]=(r*p-i*y-o*m)*P,D[12]=(g*h-b*w-s*_)*P,D[13]=(M*w-k*h+a*_)*P,D[14]=(u*f-l*v-d*m)*P,D[15]=(i*v-r*f+n*m)*P,D):null}},56508:function(ee,D,e){var M=e(36635);ee.exports=function(k,a,T,b){var g,s,t,i,r,n,o,l,u,d,c=a[0],m=a[1],f=a[2],p=b[0],v=b[1],y=b[2],x=T[0],_=T[1],h=T[2];return Math.abs(c-x)<1e-6&&Math.abs(m-_)<1e-6&&Math.abs(f-h)<1e-6?M(k):(o=c-x,l=m-_,u=f-h,g=v*(u*=d=1/Math.sqrt(o*o+l*l+u*u))-y*(l*=d),s=y*(o*=d)-p*u,t=p*l-v*o,(d=Math.sqrt(g*g+s*s+t*t))?(g*=d=1/d,s*=d,t*=d):(g=0,s=0,t=0),i=l*t-u*s,r=u*g-o*t,n=o*s-l*g,(d=Math.sqrt(i*i+r*r+n*n))?(i*=d=1/d,r*=d,n*=d):(i=0,r=0,n=0),k[0]=g,k[1]=i,k[2]=o,k[3]=0,k[4]=s,k[5]=r,k[6]=l,k[7]=0,k[8]=t,k[9]=n,k[10]=u,k[11]=0,k[12]=-(g*c+s*m+t*f),k[13]=-(i*c+r*m+n*f),k[14]=-(o*c+l*m+u*f),k[15]=1,k)}},80944:function(ee){ee.exports=function(D,e,M){var k=e[0],a=e[1],T=e[2],b=e[3],g=e[4],s=e[5],t=e[6],i=e[7],r=e[8],n=e[9],o=e[10],l=e[11],u=e[12],d=e[13],c=e[14],m=e[15],f=M[0],p=M[1],v=M[2],y=M[3];return D[0]=f*k+p*g+v*r+y*u,D[1]=f*a+p*s+v*n+y*d,D[2]=f*T+p*t+v*o+y*c,D[3]=f*b+p*i+v*l+y*m,f=M[4],p=M[5],v=M[6],y=M[7],D[4]=f*k+p*g+v*r+y*u,D[5]=f*a+p*s+v*n+y*d,D[6]=f*T+p*t+v*o+y*c,D[7]=f*b+p*i+v*l+y*m,f=M[8],p=M[9],v=M[10],y=M[11],D[8]=f*k+p*g+v*r+y*u,D[9]=f*a+p*s+v*n+y*d,D[10]=f*T+p*t+v*o+y*c,D[11]=f*b+p*i+v*l+y*m,f=M[12],p=M[13],v=M[14],y=M[15],D[12]=f*k+p*g+v*r+y*u,D[13]=f*a+p*s+v*n+y*d,D[14]=f*T+p*t+v*o+y*c,D[15]=f*b+p*i+v*l+y*m,D}},97688:function(ee){ee.exports=function(D,e,M,k,a,T,b){var g=1/(e-M),s=1/(k-a),t=1/(T-b);return D[0]=-2*g,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*s,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*t,D[11]=0,D[12]=(e+M)*g,D[13]=(a+k)*s,D[14]=(b+T)*t,D[15]=1,D}},51296:function(ee){ee.exports=function(D,e,M,k,a){var T=1/Math.tan(e/2),b=1/(k-a);return D[0]=T/M,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=T,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=(a+k)*b,D[11]=-1,D[12]=0,D[13]=0,D[14]=2*a*k*b,D[15]=0,D}},63688:function(ee){ee.exports=function(D,e,M,k){var a=Math.tan(e.upDegrees*Math.PI/180),T=Math.tan(e.downDegrees*Math.PI/180),b=Math.tan(e.leftDegrees*Math.PI/180),g=Math.tan(e.rightDegrees*Math.PI/180),s=2/(b+g),t=2/(a+T);return D[0]=s,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=t,D[6]=0,D[7]=0,D[8]=-(b-g)*s*.5,D[9]=(a-T)*t*.5,D[10]=k/(M-k),D[11]=-1,D[12]=0,D[13]=0,D[14]=k*M/(M-k),D[15]=0,D}},30016:function(ee){ee.exports=function(D,e,M,k){var a,T,b,g,s,t,i,r,n,o,l,u,d,c,m,f,p,v,y,x,_,h,S,w,E=k[0],C=k[1],P=k[2],O=Math.sqrt(E*E+C*C+P*P);return Math.abs(O)<1e-6?null:(E*=O=1/O,C*=O,P*=O,a=Math.sin(M),b=1-(T=Math.cos(M)),g=e[0],s=e[1],t=e[2],i=e[3],r=e[4],n=e[5],o=e[6],l=e[7],u=e[8],d=e[9],c=e[10],m=e[11],f=E*E*b+T,p=C*E*b+P*a,v=P*E*b-C*a,y=E*C*b-P*a,x=C*C*b+T,_=P*C*b+E*a,h=E*P*b+C*a,S=C*P*b-E*a,w=P*P*b+T,D[0]=g*f+r*p+u*v,D[1]=s*f+n*p+d*v,D[2]=t*f+o*p+c*v,D[3]=i*f+l*p+m*v,D[4]=g*y+r*x+u*_,D[5]=s*y+n*x+d*_,D[6]=t*y+o*x+c*_,D[7]=i*y+l*x+m*_,D[8]=g*h+r*S+u*w,D[9]=s*h+n*S+d*w,D[10]=t*h+o*S+c*w,D[11]=i*h+l*S+m*w,e!==D&&(D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D)}},15456:function(ee){ee.exports=function(D,e,M){var k=Math.sin(M),a=Math.cos(M),T=e[4],b=e[5],g=e[6],s=e[7],t=e[8],i=e[9],r=e[10],n=e[11];return e!==D&&(D[0]=e[0],D[1]=e[1],D[2]=e[2],D[3]=e[3],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D[4]=T*a+t*k,D[5]=b*a+i*k,D[6]=g*a+r*k,D[7]=s*a+n*k,D[8]=t*a-T*k,D[9]=i*a-b*k,D[10]=r*a-g*k,D[11]=n*a-s*k,D}},64840:function(ee){ee.exports=function(D,e,M){var k=Math.sin(M),a=Math.cos(M),T=e[0],b=e[1],g=e[2],s=e[3],t=e[8],i=e[9],r=e[10],n=e[11];return e!==D&&(D[4]=e[4],D[5]=e[5],D[6]=e[6],D[7]=e[7],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D[0]=T*a-t*k,D[1]=b*a-i*k,D[2]=g*a-r*k,D[3]=s*a-n*k,D[8]=T*k+t*a,D[9]=b*k+i*a,D[10]=g*k+r*a,D[11]=s*k+n*a,D}},4192:function(ee){ee.exports=function(D,e,M){var k=Math.sin(M),a=Math.cos(M),T=e[0],b=e[1],g=e[2],s=e[3],t=e[4],i=e[5],r=e[6],n=e[7];return e!==D&&(D[8]=e[8],D[9]=e[9],D[10]=e[10],D[11]=e[11],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D[0]=T*a+t*k,D[1]=b*a+i*k,D[2]=g*a+r*k,D[3]=s*a+n*k,D[4]=t*a-T*k,D[5]=i*a-b*k,D[6]=r*a-g*k,D[7]=n*a-s*k,D}},68152:function(ee){ee.exports=function(D,e,M){var k=M[0],a=M[1],T=M[2];return D[0]=e[0]*k,D[1]=e[1]*k,D[2]=e[2]*k,D[3]=e[3]*k,D[4]=e[4]*a,D[5]=e[5]*a,D[6]=e[6]*a,D[7]=e[7]*a,D[8]=e[8]*T,D[9]=e[9]*T,D[10]=e[10]*T,D[11]=e[11]*T,D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15],D}},89412:function(ee){ee.exports=function(D){return"mat4("+D[0]+", "+D[1]+", "+D[2]+", "+D[3]+", "+D[4]+", "+D[5]+", "+D[6]+", "+D[7]+", "+D[8]+", "+D[9]+", "+D[10]+", "+D[11]+", "+D[12]+", "+D[13]+", "+D[14]+", "+D[15]+")"}},35176:function(ee){ee.exports=function(D,e,M){var k,a,T,b,g,s,t,i,r,n,o,l,u=M[0],d=M[1],c=M[2];return e===D?(D[12]=e[0]*u+e[4]*d+e[8]*c+e[12],D[13]=e[1]*u+e[5]*d+e[9]*c+e[13],D[14]=e[2]*u+e[6]*d+e[10]*c+e[14],D[15]=e[3]*u+e[7]*d+e[11]*c+e[15]):(k=e[0],a=e[1],T=e[2],b=e[3],g=e[4],s=e[5],t=e[6],i=e[7],r=e[8],n=e[9],o=e[10],l=e[11],D[0]=k,D[1]=a,D[2]=T,D[3]=b,D[4]=g,D[5]=s,D[6]=t,D[7]=i,D[8]=r,D[9]=n,D[10]=o,D[11]=l,D[12]=k*u+g*d+r*c+e[12],D[13]=a*u+s*d+n*c+e[13],D[14]=T*u+t*d+o*c+e[14],D[15]=b*u+i*d+l*c+e[15]),D}},86520:function(ee){ee.exports=function(D,e){if(D===e){var M=e[1],k=e[2],a=e[3],T=e[6],b=e[7],g=e[11];D[1]=e[4],D[2]=e[8],D[3]=e[12],D[4]=M,D[6]=e[9],D[7]=e[13],D[8]=k,D[9]=T,D[11]=e[14],D[12]=a,D[13]=b,D[14]=g}else D[0]=e[0],D[1]=e[4],D[2]=e[8],D[3]=e[12],D[4]=e[1],D[5]=e[5],D[6]=e[9],D[7]=e[13],D[8]=e[2],D[9]=e[6],D[10]=e[10],D[11]=e[14],D[12]=e[3],D[13]=e[7],D[14]=e[11],D[15]=e[15];return D}},23352:function(ee,D,e){var M=e(42771),k=e(55616),a=e(28624),T=e(55212),b=e(60463),g=e(72160),s=e(33888),t=e(14144),i=e(51160),r=e(58908),n=e(65819),o=e(23464),l=e(63768),u=e(50896),d=e(71920),c=e(47520),m=e(308).nextPow2,f=new b,p=!1;if(document.body){var v=document.body.appendChild(document.createElement("div"));v.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(v).fontStretch&&(p=!0),document.body.removeChild(v)}var y=function(x){(function(_){return typeof _=="function"&&_._gl&&_.prop&&_.texture&&_.buffer})(x)?(x={regl:x},this.gl=x.regl._gl):this.gl=T(x),this.shader=f.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=x.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),f.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(r(x)?x:{})};y.prototype.createShader=function(){var x=this.regl,_=x({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:x.prop("count"),offset:x.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:x.this("sizeBuffer")},width:{offset:0,stride:8,buffer:x.this("sizeBuffer")},char:x.this("charBuffer"),position:x.this("position")},uniforms:{atlasSize:function(h,S){return[S.atlas.width,S.atlas.height]},atlasDim:function(h,S){return[S.atlas.cols,S.atlas.rows]},atlas:function(h,S){return S.atlas.texture},charStep:function(h,S){return S.atlas.step},em:function(h,S){return S.atlas.em},color:x.prop("color"),opacity:x.prop("opacity"),viewport:x.this("viewportArray"),scale:x.this("scale"),align:x.prop("align"),baseline:x.prop("baseline"),translate:x.this("translate"),positionOffset:x.prop("positionOffset")},primitive:"points",viewport:x.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:x,draw:_,atlas:{}}},y.prototype.update=function(x){var _=this;if(typeof x=="string")x={text:x};else if(!x)return;(x=k(x,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(x.opacity)?this.opacity=x.opacity.map(function(he){return parseFloat(he)}):this.opacity=parseFloat(x.opacity)),x.viewport!=null&&(this.viewport=i(x.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),x.kerning!=null&&(this.kerning=x.kerning),x.offset!=null&&(typeof x.offset=="number"&&(x.offset=[x.offset,0]),this.positionOffset=c(x.offset)),x.direction&&(this.direction=x.direction),x.range&&(this.range=x.range,this.scale=[1/(x.range[2]-x.range[0]),1/(x.range[3]-x.range[1])],this.translate=[-x.range[0],-x.range[1]]),x.scale&&(this.scale=x.scale),x.translate&&(this.translate=x.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||x.font||(x.font=y.baseFontSize+"px sans-serif");var h,S=!1,w=!1;if(x.font&&(Array.isArray(x.font)?x.font:[x.font]).forEach(function(he,Ee){if(typeof he=="string")try{he=M.parse(he)}catch{he=M.parse(y.baseFontSize+"px "+he)}else he=M.parse(M.stringify(he));var Te=M.stringify({size:y.baseFontSize,family:he.family,stretch:p?he.stretch:void 0,variant:he.variant,weight:he.weight,style:he.style}),Me=n(he.size),Se=Math.round(Me[0]*o(Me[1]));if(Se!==_.fontSize[Ee]&&(w=!0,_.fontSize[Ee]=Se),!(_.font[Ee]&&Te==_.font[Ee].baseString||(S=!0,_.font[Ee]=y.fonts[Te],_.font[Ee]))){var ze=he.family.join(", "),fe=[he.style];he.style!=he.variant&&fe.push(he.variant),he.variant!=he.weight&&fe.push(he.weight),p&&he.weight!=he.stretch&&fe.push(he.stretch),_.font[Ee]={baseString:Te,family:ze,weight:he.weight,stretch:he.stretch,style:he.style,variant:he.variant,width:{},kerning:{},metrics:d(ze,{origin:"top",fontSize:y.baseFontSize,fontStyle:fe.join(" ")})},y.fonts[Te]=_.font[Ee]}}),(S||w)&&this.font.forEach(function(he,Ee){var Te=M.stringify({size:_.fontSize[Ee],family:he.family,stretch:p?he.stretch:void 0,variant:he.variant,weight:he.weight,style:he.style});if(_.fontAtlas[Ee]=_.shader.atlas[Te],!_.fontAtlas[Ee]){var Me=he.metrics;_.shader.atlas[Te]=_.fontAtlas[Ee]={fontString:Te,step:2*Math.ceil(_.fontSize[Ee]*Me.bottom*.5),em:_.fontSize[Ee],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:_.regl.texture()}}x.text==null&&(x.text=_.text)}),typeof x.text=="string"&&x.position&&x.position.length>2){for(var E=Array(.5*x.position.length),C=0;C<E.length;C++)E[C]=x.text;x.text=E}if(x.text!=null||S){if(this.textOffsets=[0],Array.isArray(x.text)){this.count=x.text[0].length,this.counts=[this.count];for(var P=1;P<x.text.length;P++)this.textOffsets[P]=this.textOffsets[P-1]+x.text[P-1].length,this.count+=x.text[P].length,this.counts.push(x.text[P].length);this.text=x.text.join("")}else this.text=x.text,this.count=this.text.length,this.counts=[this.count];h=[],this.font.forEach(function(he,Ee){y.atlasContext.font=he.baseString;for(var Te=_.fontAtlas[Ee],Me=0;Me<_.text.length;Me++){var Se=_.text.charAt(Me);if(Te.ids[Se]==null&&(Te.ids[Se]=Te.chars.length,Te.chars.push(Se),h.push(Se)),he.width[Se]==null&&(he.width[Se]=y.atlasContext.measureText(Se).width/y.baseFontSize,_.kerning)){var ze=[];for(var fe in he.width)ze.push(fe+Se,Se+fe);u(he.kerning,l(he.family,{pairs:ze}))}}})}if(x.position)if(x.position.length>2){for(var O=!x.position[0].length,R=t.mallocFloat(2*this.count),U=0,z=0;U<this.counts.length;U++){var N=this.counts[U];if(O)for(var W=0;W<N;W++)R[z++]=x.position[2*U],R[z++]=x.position[2*U+1];else for(var F=0;F<N;F++)R[z++]=x.position[U][0],R[z++]=x.position[U][1]}this.position.call?this.position({type:"float",data:R}):this.position=this.regl.buffer({type:"float",data:R}),t.freeFloat(R)}else this.position.destroy&&this.position.destroy(),this.position={constant:x.position};if(x.text||S){var V=t.mallocUint8(this.count),j=t.mallocFloat(2*this.count);this.textWidth=[];for(var te=0,J=0;te<this.counts.length;te++){for(var K=this.counts[te],Z=this.font[te]||this.font[0],X=this.fontAtlas[te]||this.fontAtlas[0],Q=0;Q<K;Q++){var re=this.text.charAt(J),ae=this.text.charAt(J-1);if(V[J]=X.ids[re],j[2*J]=Z.width[re],Q){var ie=j[2*J-2],le=j[2*J],pe=j[2*J-1]+.5*ie+.5*le;if(this.kerning){var de=Z.kerning[ae+re];de&&(pe+=.001*de)}j[2*J+1]=pe}else j[2*J+1]=.5*j[2*J];J++}this.textWidth.push(j.length?.5*j[2*J-2]+j[2*J-1]:0)}x.align||(x.align=this.align),this.charBuffer({data:V,type:"uint8",usage:"stream"}),this.sizeBuffer({data:j,type:"float",usage:"stream"}),t.freeUint8(V),t.freeFloat(j),h.length&&this.font.forEach(function(he,Ee){var Te=_.fontAtlas[Ee],Me=Te.step,Se=Math.floor(y.maxAtlasSize/Me),ze=Math.min(Se,Te.chars.length),fe=Math.ceil(Te.chars.length/ze),xe=m(ze*Me),_e=m(fe*Me);Te.width=xe,Te.height=_e,Te.rows=fe,Te.cols=ze,Te.em&&Te.texture({data:s({canvas:y.atlasCanvas,font:Te.fontString,chars:Te.chars,shape:[xe,_e],step:[Me,Me]})})})}if(x.align&&(this.align=x.align,this.alignOffset=this.textWidth.map(function(he,Ee){var Te=Array.isArray(_.align)?_.align.length>1?_.align[Ee]:_.align[0]:_.align;if(typeof Te=="number")return Te;switch(Te){case"right":case"end":return-he;case"center":case"centre":case"middle":return .5*-he}return 0})),this.baseline==null&&x.baseline==null&&(x.baseline=0),x.baseline!=null&&(this.baseline=x.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(he,Ee){var Te=(_.font[Ee]||_.font[0]).metrics,Me=0;return Me+=.5*Te.bottom,-1*(Me+=typeof he=="number"?he-Te.baseline:-Te[he])})),x.color!=null)if(x.color||(x.color="transparent"),typeof x.color!="string"&&isNaN(x.color)){var ve;if(typeof x.color[0]=="number"&&x.color.length>this.counts.length){var be=x.color.length;ve=t.mallocUint8(be);for(var me=(x.color.subarray||x.color.slice).bind(x.color),ge=0;ge<be;ge+=4)ve.set(g(me(ge,ge+4),"uint8"),ge)}else{var ke=x.color.length;ve=t.mallocUint8(4*ke);for(var we=0;we<ke;we++)ve.set(g(x.color[we]||0,"uint8"),4*we)}this.color=ve}else this.color=g(x.color,"uint8");if(x.position||x.text||x.color||x.baseline||x.align||x.font||x.offset||x.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var ue=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(ue);for(var oe=0;oe<this.batch.length;oe++)this.batch[oe]={count:this.counts.length>1?this.counts[oe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[oe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*oe,4*oe+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[oe]:this.opacity,baseline:this.baselineOffset[oe]!=null?this.baselineOffset[oe]:this.baselineOffset[0],align:this.align?this.alignOffset[oe]!=null?this.alignOffset[oe]:this.alignOffset[0]:0,atlas:this.fontAtlas[oe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*oe,2*oe+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},y.prototype.destroy=function(){},y.prototype.kerning=!0,y.prototype.position={constant:new Float32Array(2)},y.prototype.translate=null,y.prototype.scale=null,y.prototype.font=null,y.prototype.text="",y.prototype.positionOffset=[0,0],y.prototype.opacity=1,y.prototype.color=new Uint8Array([0,0,0,255]),y.prototype.alignOffset=[0,0],y.maxAtlasSize=1024,y.atlasCanvas=document.createElement("canvas"),y.atlasContext=y.atlasCanvas.getContext("2d",{alpha:!1}),y.baseFontSize=64,y.fonts={},ee.exports=y},55212:function(ee,D,e){var M=e(55616);function k(b){if(b.container)if(b.container==document.body)document.body.style.width||(b.canvas.width=b.width||b.pixelRatio*e.g.innerWidth),document.body.style.height||(b.canvas.height=b.height||b.pixelRatio*e.g.innerHeight);else{var g=b.container.getBoundingClientRect();b.canvas.width=b.width||g.right-g.left,b.canvas.height=b.height||g.bottom-g.top}}function a(b){return typeof b.getContext=="function"&&"width"in b&&"height"in b}function T(){var b=document.createElement("canvas");return b.style.position="absolute",b.style.top=0,b.style.left=0,b}ee.exports=function(b){var g;if(b?typeof b=="string"&&(b={container:b}):b={},(b=a(b)||typeof(g=b).nodeName=="string"&&typeof g.appendChild=="function"&&typeof g.getBoundingClientRect=="function"?{container:b}:function(t){return typeof t.drawArrays=="function"||typeof t.drawElements=="function"}(b)?{gl:b}:M(b,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(b.pixelRatio=e.g.pixelRatio||1),b.gl)return b.gl;if(b.canvas&&(b.container=b.canvas.parentNode),b.container){if(typeof b.container=="string"){var s=document.querySelector(b.container);if(!s)throw Error("Element "+b.container+" is not found");b.container=s}a(b.container)?(b.canvas=b.container,b.container=b.canvas.parentNode):b.canvas||(b.canvas=T(),b.container.appendChild(b.canvas),k(b))}else if(!b.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");b.container=document.body||document.documentElement,b.canvas=T(),b.container.appendChild(b.canvas),k(b)}return b.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{b.gl=b.canvas.getContext(t,b.attrs)}catch{}return b.gl}),b.gl}},26444:function(ee){ee.exports=function(D){typeof D=="string"&&(D=[D]);for(var e=[].slice.call(arguments,1),M=[],k=0;k<D.length-1;k++)M.push(D[k],e[k]||"");return M.push(D[k]),M.join("")}},2304:function(ee,D,e){var M=e(53664)("%Object.getOwnPropertyDescriptor%",!0);if(M)try{M([],"length")}catch{M=null}ee.exports=M},52264:function(ee,D,e){var M,k=e(24200);M=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:k,ee.exports=M},89184:function(ee,D,e){var M=e(24200);ee.exports=M&&function(){var k=!1;try{var a=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{k=!1}return k}()},39640:function(ee,D,e){var M=e(53664)("%Object.defineProperty%",!0),k=function(){if(M)try{return M({},"a",{value:1}),!0}catch{return!1}return!1};k.hasArrayLengthDefineBug=function(){if(!k())return null;try{return M([],"length",{value:1}).length!==1}catch{return!0}},ee.exports=k},69572:function(ee){var D={foo:{}},e=Object;ee.exports=function(){return{__proto__:D}.foo===D.foo&&!({__proto__:null}instanceof e)}},71080:function(ee,D,e){var M=typeof Symbol<"u"&&Symbol,k=e(89320);ee.exports=function(){return typeof M=="function"&&typeof Symbol=="function"&&typeof M("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&k()}},89320:function(ee){ee.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var D={},e=Symbol("test"),M=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(M)!=="[object Symbol]")return!1;for(e in D[e]=42,D)return!1;if(typeof Object.keys=="function"&&Object.keys(D).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(D).length!==0)return!1;var k=Object.getOwnPropertySymbols(D);if(k.length!==1||k[0]!==e||!Object.prototype.propertyIsEnumerable.call(D,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(D,e);if(a.value!==42||a.enumerable!==!0)return!1}return!0}},46672:function(ee,D,e){var M=e(89320);ee.exports=function(){return M()&&!!Symbol.toStringTag}},92064:function(ee,D,e){var M=Function.prototype.call,k=Object.prototype.hasOwnProperty,a=e(8844);ee.exports=a.call(M,k)},35984:function(ee,D){D.read=function(e,M,k,a,T){var b,g,s=8*T-a-1,t=(1<<s)-1,i=t>>1,r=-7,n=k?T-1:0,o=k?-1:1,l=e[M+n];for(n+=o,b=l&(1<<-r)-1,l>>=-r,r+=s;r>0;b=256*b+e[M+n],n+=o,r-=8);for(g=b&(1<<-r)-1,b>>=-r,r+=a;r>0;g=256*g+e[M+n],n+=o,r-=8);if(b===0)b=1-i;else{if(b===t)return g?NaN:1/0*(l?-1:1);g+=Math.pow(2,a),b-=i}return(l?-1:1)*g*Math.pow(2,b-a)},D.write=function(e,M,k,a,T,b){var g,s,t,i=8*b-T-1,r=(1<<i)-1,n=r>>1,o=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=a?0:b-1,u=a?1:-1,d=M<0||M===0&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(s=isNaN(M)?1:0,g=r):(g=Math.floor(Math.log(M)/Math.LN2),M*(t=Math.pow(2,-g))<1&&(g--,t*=2),(M+=g+n>=1?o/t:o*Math.pow(2,1-n))*t>=2&&(g++,t/=2),g+n>=r?(s=0,g=r):g+n>=1?(s=(M*t-1)*Math.pow(2,T),g+=n):(s=M*Math.pow(2,n-1)*Math.pow(2,T),g=0));T>=8;e[k+l]=255&s,l+=u,s/=256,T-=8);for(g=g<<T|s,i+=T;i>0;e[k+l]=255&g,l+=u,g/=256,i-=8);e[k+l-u]|=128*d}},6768:function(ee){typeof Object.create=="function"?ee.exports=function(D,e){e&&(D.super_=e,D.prototype=Object.create(e.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}))}:ee.exports=function(D,e){if(e){D.super_=e;var M=function(){};M.prototype=e.prototype,D.prototype=new M,D.prototype.constructor=D}}},91148:function(ee,D,e){var M=e(46672)(),k=e(99676)("Object.prototype.toString"),a=function(g){return!(M&&g&&typeof g=="object"&&Symbol.toStringTag in g)&&k(g)==="[object Arguments]"},T=function(g){return!!a(g)||g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&k(g)!=="[object Array]"&&k(g.callee)==="[object Function]"},b=function(){return a(arguments)}();a.isLegacyArguments=T,ee.exports=b?a:T},24200:function(ee){ee.exports=!0},90720:function(ee){var D,e,M=Function.prototype.toString,k=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof k=="function"&&typeof Object.defineProperty=="function")try{D=Object.defineProperty({},"length",{get:function(){throw e}}),e={},k(function(){throw 42},null,D)}catch(n){n!==e&&(k=null)}else k=null;var a=/^\s*class\b/,T=function(n){try{var o=M.call(n);return a.test(o)}catch{return!1}},b=function(n){try{return!T(n)&&(M.call(n),!0)}catch{return!1}},g=Object.prototype.toString,s=typeof Symbol=="function"&&!!Symbol.toStringTag,t=!(0 in[,]),i=function(){return!1};if(typeof document=="object"){var r=document.all;g.call(r)===g.call(document.all)&&(i=function(n){if((t||!n)&&(n===void 0||typeof n=="object"))try{var o=g.call(n);return(o==="[object HTMLAllCollection]"||o==="[object HTML document.all class]"||o==="[object HTMLCollection]"||o==="[object Object]")&&n("")==null}catch{}return!1})}ee.exports=k?function(n){if(i(n))return!0;if(!n||typeof n!="function"&&typeof n!="object")return!1;try{k(n,null,D)}catch(o){if(o!==e)return!1}return!T(n)&&b(n)}:function(n){if(i(n))return!0;if(!n||typeof n!="function"&&typeof n!="object")return!1;if(s)return b(n);if(T(n))return!1;var o=g.call(n);return!(o!=="[object Function]"&&o!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(o))&&b(n)}},84420:function(ee,D,e){var M,k=Object.prototype.toString,a=Function.prototype.toString,T=/^\s*(?:function)?\*/,b=e(46672)(),g=Object.getPrototypeOf;ee.exports=function(s){if(typeof s!="function")return!1;if(T.test(a.call(s)))return!0;if(!b)return k.call(s)==="[object GeneratorFunction]";if(!g)return!1;if(M===void 0){var t=function(){if(!b)return!1;try{return Function("return function*() {}")()}catch{}}();M=!!t&&g(t)}return g(s)===M}},96604:function(ee){ee.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(ee){ee.exports=function(D){return D!=D}},1560:function(ee,D,e){var M=e(57916),k=e(81288),a=e(85992),T=e(57740),b=e(59736),g=M(T(),Number);k(g,{getPolyfill:T,implementation:a,shim:b}),ee.exports=g},57740:function(ee,D,e){var M=e(85992);ee.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:M}},59736:function(ee,D,e){var M=e(81288),k=e(57740);ee.exports=function(){var a=k();return M(Number,{isNaN:a},{isNaN:function(){return Number.isNaN!==a}}),a}},18400:function(ee){ee.exports=function(D){var e=typeof D;return D!==null&&(e==="object"||e==="function")}},58908:function(ee){var D=Object.prototype.toString;ee.exports=function(e){var M;return D.call(e)==="[object Object]"&&((M=Object.getPrototypeOf(e))===null||M===Object.getPrototypeOf({}))}},94576:function(ee){ee.exports=function(D){for(var e,M=D.length,k=0;k<M;k++)if(((e=D.charCodeAt(k))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},53520:function(ee){ee.exports=function(D){return typeof D=="string"&&(D=D.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(D)&&/[\dz]$/i.test(D)&&D.length>4))}},7728:function(ee,D,e){var M=e(46492),k=e(63436),a=e(99676),T=a("Object.prototype.toString"),b=e(46672)(),g=e(2304),s=typeof globalThis>"u"?e.g:globalThis,t=k(),i=a("Array.prototype.indexOf",!0)||function(l,u){for(var d=0;d<l.length;d+=1)if(l[d]===u)return d;return-1},r=a("String.prototype.slice"),n={},o=Object.getPrototypeOf;b&&g&&o&&M(t,function(l){var u=new s[l];if(Symbol.toStringTag in u){var d=o(u),c=g(d,Symbol.toStringTag);if(!c){var m=o(d);c=g(m,Symbol.toStringTag)}n[l]=c.get}}),ee.exports=function(l){if(!l||typeof l!="object")return!1;if(!b||!(Symbol.toStringTag in l)){var u=r(T(l),8,-1);return i(t,u)>-1}return!!g&&function(d){var c=!1;return M(n,function(m,f){if(!c)try{c=m.call(d)===f}catch{}}),c}(l)}},76244:function(ee){ee.exports=Math.log2||function(D){return Math.log(D)*Math.LOG2E}},62644:function(ee,D,e){ee.exports=function(k,a){a||(a=k,k=window);var T=0,b=0,g=0,s={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(p){var v=!1;return"altKey"in p&&(v=v||p.altKey!==s.alt,s.alt=!!p.altKey),"shiftKey"in p&&(v=v||p.shiftKey!==s.shift,s.shift=!!p.shiftKey),"ctrlKey"in p&&(v=v||p.ctrlKey!==s.control,s.control=!!p.ctrlKey),"metaKey"in p&&(v=v||p.metaKey!==s.meta,s.meta=!!p.metaKey),v}function r(p,v){var y=M.x(v),x=M.y(v);"buttons"in v&&(p=0|v.buttons),(p!==T||y!==b||x!==g||i(v))&&(T=0|p,b=y||0,g=x||0,a&&a(T,b,g,s))}function n(p){r(0,p)}function o(){(T||b||g||s.shift||s.alt||s.meta||s.control)&&(b=g=0,T=0,s.shift=s.alt=s.control=s.meta=!1,a&&a(0,0,0,s))}function l(p){i(p)&&a&&a(T,b,g,s)}function u(p){M.buttons(p)===0?r(0,p):r(T,p)}function d(p){r(T|M.buttons(p),p)}function c(p){r(T&~M.buttons(p),p)}function m(){t||(t=!0,k.addEventListener("mousemove",u),k.addEventListener("mousedown",d),k.addEventListener("mouseup",c),k.addEventListener("mouseleave",n),k.addEventListener("mouseenter",n),k.addEventListener("mouseout",n),k.addEventListener("mouseover",n),k.addEventListener("blur",o),k.addEventListener("keyup",l),k.addEventListener("keydown",l),k.addEventListener("keypress",l),k!==window&&(window.addEventListener("blur",o),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}m();var f={element:k};return Object.defineProperties(f,{enabled:{get:function(){return t},set:function(p){p?m():t&&(t=!1,k.removeEventListener("mousemove",u),k.removeEventListener("mousedown",d),k.removeEventListener("mouseup",c),k.removeEventListener("mouseleave",n),k.removeEventListener("mouseenter",n),k.removeEventListener("mouseout",n),k.removeEventListener("mouseover",n),k.removeEventListener("blur",o),k.removeEventListener("keyup",l),k.removeEventListener("keydown",l),k.removeEventListener("keypress",l),k!==window&&(window.removeEventListener("blur",o),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return b},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),f};var M=e(93784)},29128:function(ee){var D={left:0,top:0};ee.exports=function(e,M,k){M=M||e.currentTarget||e.srcElement,Array.isArray(k)||(k=[0,0]);var a,T=e.clientX||0,b=e.clientY||0,g=(a=M)===window||a===document||a===document.body?D:a.getBoundingClientRect();return k[0]=T-g.left,k[1]=b-g.top,k}},93784:function(ee,D){function e(M){return M.target||M.srcElement||window}D.buttons=function(M){if(typeof M=="object"){if("buttons"in M)return M.buttons;if("which"in M){if((k=M.which)===2)return 4;if(k===3)return 2;if(k>0)return 1<<k-1}else if("button"in M){var k;if((k=M.button)===1)return 4;if(k===2)return 2;if(k>=0)return 1<<k}}return 0},D.element=e,D.x=function(M){if(typeof M=="object"){if("offsetX"in M)return M.offsetX;var k=e(M).getBoundingClientRect();return M.clientX-k.left}return 0},D.y=function(M){if(typeof M=="object"){if("offsetY"in M)return M.offsetY;var k=e(M).getBoundingClientRect();return M.clientY-k.top}return 0}},97264:function(ee,D,e){var M=e(23464);ee.exports=function(k,a,T){typeof k=="function"&&(T=!!a,a=k,k=window);var b=M("ex",k),g=function(s){T&&s.preventDefault();var t=s.deltaX||0,i=s.deltaY||0,r=s.deltaZ||0,n=1;switch(s.deltaMode){case 1:n=b;break;case 2:n=window.innerHeight}if(i*=n,r*=n,(t*=n)||i||r)return a(t,i,r,s)};return k.addEventListener("wheel",g),g}},88324:function(ee,D,e){var M;(function(k,a,T){a[k]=a[k]||function(){var b,g,s,t=Object.prototype.toString,i=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),b=function(y,x,_,h){return Object.defineProperty(y,x,{value:_,writable:!0,configurable:h!==!1})}}catch{b=function(x,_,h){return x[_]=h,x}}function r(y,x){s.add(y,x),g||(g=i(s.drain))}function n(y){var x,_=typeof y;return y==null||_!="object"&&_!="function"||(x=y.then),typeof x=="function"&&x}function o(){for(var y=0;y<this.chain.length;y++)l(this,this.state===1?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function l(y,x,_){var h,S;try{x===!1?_.reject(y.msg):(h=x===!0?y.msg:x.call(void 0,y.msg))===_.promise?_.reject(TypeError("Promise-chain cycle")):(S=n(h))?S.call(h,_.resolve,_.reject):_.resolve(h)}catch(w){_.reject(w)}}function u(y){var x,_=this;if(!_.triggered){_.triggered=!0,_.def&&(_=_.def);try{(x=n(y))?r(function(){var h=new m(_);try{x.call(y,function(){u.apply(h,arguments)},function(){d.apply(h,arguments)})}catch(S){d.call(h,S)}}):(_.msg=y,_.state=1,_.chain.length>0&&r(o,_))}catch(h){d.call(new m(_),h)}}}function d(y){var x=this;x.triggered||(x.triggered=!0,x.def&&(x=x.def),x.msg=y,x.state=2,x.chain.length>0&&r(o,x))}function c(y,x,_,h){for(var S=0;S<x.length;S++)(function(w){y.resolve(x[w]).then(function(E){_(w,E)},h)})(S)}function m(y){this.def=y,this.triggered=!1}function f(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(y){if(typeof y!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var x=new f(this);this.then=function(_,h){var S={success:typeof _!="function"||_,failure:typeof h=="function"&&h};return S.promise=new this.constructor(function(w,E){if(typeof w!="function"||typeof E!="function")throw TypeError("Not a function");S.resolve=w,S.reject=E}),x.chain.push(S),x.state!==0&&r(o,x),S.promise},this.catch=function(_){return this.then(void 0,_)};try{y.call(void 0,function(_){u.call(x,_)},function(_){d.call(x,_)})}catch(_){d.call(x,_)}}s=function(){var y,x,_;function h(S,w){this.fn=S,this.self=w,this.next=void 0}return{add:function(S,w){_=new h(S,w),x?x.next=_:y=_,x=_,_=void 0},drain:function(){var S=y;for(y=x=g=void 0;S;)S.fn.call(S.self),S=S.next}}}();var v=b({},"constructor",p,!1);return p.prototype=v,b(v,"__NPO__",0,!1),b(p,"resolve",function(y){return y&&typeof y=="object"&&y.__NPO__===1?y:new this(function(x,_){if(typeof x!="function"||typeof _!="function")throw TypeError("Not a function");x(y)})}),b(p,"reject",function(y){return new this(function(x,_){if(typeof x!="function"||typeof _!="function")throw TypeError("Not a function");_(y)})}),b(p,"all",function(y){var x=this;return t.call(y)!="[object Array]"?x.reject(TypeError("Not an array")):y.length===0?x.resolve([]):new x(function(_,h){if(typeof _!="function"||typeof h!="function")throw TypeError("Not a function");var S=y.length,w=Array(S),E=0;c(x,y,function(C,P){w[C]=P,++E===S&&_(w)},h)})}),b(p,"race",function(y){var x=this;return t.call(y)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(_,h){if(typeof _!="function"||typeof h!="function")throw TypeError("Not a function");c(x,y,function(S,w){_(w)},h)})}),p}(),ee.exports?ee.exports=a[k]:(M=(function(){return a[k]}).call(D,e,D,ee))===void 0||(ee.exports=M)})("Promise",e.g!==void 0?e.g:this)},48816:function(ee){var D=Math.PI,e=b(120);function M(g,s,t,i){return["C",g,s,t,i,t,i]}function k(g,s,t,i,r,n){return["C",g/3+.6666666666666666*t,s/3+.6666666666666666*i,r/3+.6666666666666666*t,n/3+.6666666666666666*i,r,n]}function a(g,s,t,i,r,n,o,l,u,d){if(d)S=d[0],w=d[1],_=d[2],h=d[3];else{var c=T(g,s,-r);g=c.x,s=c.y;var m=(g-(l=(c=T(l,u,-r)).x))/2,f=(s-(u=c.y))/2,p=m*m/(t*t)+f*f/(i*i);p>1&&(t*=p=Math.sqrt(p),i*=p);var v=t*t,y=i*i,x=(n==o?-1:1)*Math.sqrt(Math.abs((v*y-v*f*f-y*m*m)/(v*f*f+y*m*m)));x==1/0&&(x=1);var _=x*t*f/i+(g+l)/2,h=x*-i*m/t+(s+u)/2,S=Math.asin(((s-h)/i).toFixed(9)),w=Math.asin(((u-h)/i).toFixed(9));(S=g<_?D-S:S)<0&&(S=2*D+S),(w=l<_?D-w:w)<0&&(w=2*D+w),o&&S>w&&(S-=2*D),!o&&w>S&&(w-=2*D)}if(Math.abs(w-S)>e){var E=w,C=l,P=u;w=S+e*(o&&w>S?1:-1);var O=a(l=_+t*Math.cos(w),u=h+i*Math.sin(w),t,i,r,0,o,C,P,[w,E,_,h])}var R=Math.tan((w-S)/4),U=4/3*t*R,z=4/3*i*R,N=[2*g-(g+U*Math.sin(S)),2*s-(s-z*Math.cos(S)),l+U*Math.sin(w),u-z*Math.cos(w),l,u];if(d)return N;O&&(N=N.concat(O));for(var W=0;W<N.length;){var F=T(N[W],N[W+1],r);N[W++]=F.x,N[W++]=F.y}return N}function T(g,s,t){return{x:g*Math.cos(t)-s*Math.sin(t),y:g*Math.sin(t)+s*Math.cos(t)}}function b(g){return g*(D/180)}ee.exports=function(g){for(var s,t=[],i=0,r=0,n=0,o=0,l=null,u=null,d=0,c=0,m=0,f=g.length;m<f;m++){var p=g[m],v=p[0];switch(v){case"M":n=p[1],o=p[2];break;case"A":(p=a(d,c,p[1],p[2],b(p[3]),p[4],p[5],p[6],p[7])).unshift("C"),p.length>7&&(t.push(p.splice(0,7)),p.unshift("C"));break;case"S":var y=d,x=c;s!="C"&&s!="S"||(y+=y-i,x+=x-r),p=["C",y,x,p[1],p[2],p[3],p[4]];break;case"T":s=="Q"||s=="T"?(l=2*d-l,u=2*c-u):(l=d,u=c),p=k(d,c,l,u,p[1],p[2]);break;case"Q":l=p[1],u=p[2],p=k(d,c,p[1],p[2],p[3],p[4]);break;case"L":p=M(d,c,p[1],p[2]);break;case"H":p=M(d,c,p[1],c);break;case"V":p=M(d,c,d,p[1]);break;case"Z":p=M(d,c,n,o)}s=v,d=p[p.length-2],c=p[p.length-1],p.length>4?(i=p[p.length-4],r=p[p.length-3]):(i=d,r=c),t.push(p)}return t}},50896:function(ee){var D=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;ee.exports=function(){try{if(!Object.assign)return!1;var k=new String("abc");if(k[5]="de",Object.getOwnPropertyNames(k)[0]==="5")return!1;for(var a={},T=0;T<10;T++)a["_"+String.fromCharCode(T)]=T;if(Object.getOwnPropertyNames(a).map(function(g){return a[g]}).join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(g){b[g]=g}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(k,a){for(var T,b,g=function(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}(k),s=1;s<arguments.length;s++){for(var t in T=Object(arguments[s]))e.call(T,t)&&(g[t]=T[t]);if(D){b=D(T);for(var i=0;i<b.length;i++)M.call(T,b[i])&&(g[b[i]]=T[b[i]])}}return g}},76835:function(ee){var D=function(e){return e!=e};ee.exports=function(e,M){return e===0&&M===0?1/e==1/M:e===M||!(!D(e)||!D(M))}},39896:function(ee,D,e){var M=e(81288),k=e(57916),a=e(76835),T=e(66148),b=e(16408),g=k(T(),Object);M(g,{getPolyfill:T,implementation:a,shim:b}),ee.exports=g},66148:function(ee,D,e){var M=e(76835);ee.exports=function(){return typeof Object.is=="function"?Object.is:M}},16408:function(ee,D,e){var M=e(66148),k=e(81288);ee.exports=function(){var a=M();return k(Object,{is:a},{is:function(){return Object.is!==a}}),a}},32764:function(ee,D,e){var M;if(!Object.keys){var k=Object.prototype.hasOwnProperty,a=Object.prototype.toString,T=e(97344),b=Object.prototype.propertyIsEnumerable,g=!b.call({toString:null},"toString"),s=b.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(o){var l=o.constructor;return l&&l.prototype===o},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var o in window)try{if(!r["$"+o]&&k.call(window,o)&&window[o]!==null&&typeof window[o]=="object")try{i(window[o])}catch{return!0}}catch{return!0}return!1}();M=function(o){var l=o!==null&&typeof o=="object",u=a.call(o)==="[object Function]",d=T(o),c=l&&a.call(o)==="[object String]",m=[];if(!l&&!u&&!d)throw new TypeError("Object.keys called on a non-object");var f=s&&u;if(c&&o.length>0&&!k.call(o,0))for(var p=0;p<o.length;++p)m.push(String(p));if(d&&o.length>0)for(var v=0;v<o.length;++v)m.push(String(v));else for(var y in o)f&&y==="prototype"||!k.call(o,y)||m.push(String(y));if(g)for(var x=function(h){if(typeof window>"u"||!n)return i(h);try{return i(h)}catch{return!1}}(o),_=0;_<t.length;++_)x&&t[_]==="constructor"||!k.call(o,t[_])||m.push(t[_]);return m}}ee.exports=M},41820:function(ee,D,e){var M=Array.prototype.slice,k=e(97344),a=Object.keys,T=a?function(g){return a(g)}:e(32764),b=Object.keys;T.shim=function(){if(Object.keys){var g=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);g||(Object.keys=function(s){return k(s)?b(M.call(s)):b(s)})}else Object.keys=T;return Object.keys||T},ee.exports=T},97344:function(ee){var D=Object.prototype.toString;ee.exports=function(e){var M=D.call(e),k=M==="[object Arguments]";return k||(k=M!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&D.call(e.callee)==="[object Function]"),k}},32868:function(ee){function D(k,a){if(typeof k!="string")return[k];var T=[k];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var b=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],g=a.escape||"___",s=!!a.flat;b.forEach(function(i){var r=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),n=[];function o(l,u,d){var c=T.push(l.slice(i[0].length,-i[1].length))-1;return n.push(c),g+c+g}T.forEach(function(l,u){for(var d,c=0;l!=d;)if(d=l,l=l.replace(r,o),c++>1e4)throw Error("References have circular dependency. Please, check them.");T[u]=l}),n=n.reverse(),T=T.map(function(l){return n.forEach(function(u){l=l.replace(new RegExp("(\\"+g+u+"\\"+g+")","g"),i[0]+"$1"+i[1])}),l})});var t=new RegExp("\\"+g+"([0-9]+)\\"+g);return s?T:function i(r,n,o){for(var l,u=[],d=0;l=t.exec(r);){if(d++>1e4)throw Error("Circular references in parenthesis");u.push(r.slice(0,l.index)),u.push(i(n[l[1]],n)),r=r.slice(l.index+l[0].length)}return u.push(r),u}(T[0],T)}function e(k,a){if(a&&a.flat){var T,b=a&&a.escape||"___",g=k[0];if(!g)return"";for(var s=new RegExp("\\"+b+"([0-9]+)\\"+b),t=0;g!=T;){if(t++>1e4)throw Error("Circular references in "+k);T=g,g=g.replace(s,i)}return g}return k.reduce(function r(n,o){return Array.isArray(o)&&(o=o.reduce(r,"")),n+o},"");function i(r,n){if(k[n]==null)throw Error("Reference "+n+"is undefined");return k[n]}}function M(k,a){return Array.isArray(k)?e(k,a):D(k,a)}M.parse=D,M.stringify=e,ee.exports=M},51160:function(ee,D,e){var M=e(55616);ee.exports=function(k){var a;return arguments.length>1&&(k=arguments),typeof k=="string"?k=k.split(/\s/).map(parseFloat):typeof k=="number"&&(k=[k]),k.length&&typeof k[0]=="number"?a=k.length===1?{width:k[0],height:k[0],x:0,y:0}:k.length===2?{width:k[0],height:k[1],x:0,y:0}:{x:k[0],y:k[1],width:k[2]-k[0]||0,height:k[3]-k[1]||0}:k&&(a={x:(k=M(k,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:k.top||0},k.width==null?k.right?a.width=k.right-a.x:a.width=0:a.width=k.width,k.height==null?k.bottom?a.height=k.bottom-a.y:a.height=0:a.height=k.height),a}},21984:function(ee){ee.exports=function(k){var a=[];return k.replace(e,function(T,b,g){var s=b.toLowerCase();for(g=function(t){var i=t.match(M);return i?i.map(Number):[]}(g),s=="m"&&g.length>2&&(a.push([b].concat(g.splice(0,2))),s="l",b=b=="m"?"l":"L");;){if(g.length==D[s])return g.unshift(b),a.push(g);if(g.length<D[s])throw new Error("malformed path data");a.push([b].concat(g.splice(0,D[s])))}}),a};var D={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,M=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},65819:function(ee){ee.exports=function(D,e){e||(e=[0,""]),D=String(D);var M=parseFloat(D,10);return e[0]=M,e[1]=D.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},41984:function(ee,D,e){var M=e(4168);(function(){var k,a,T,b,g,s;typeof performance<"u"&&performance!==null&&performance.now?ee.exports=function(){return performance.now()}:M!=null&&M.hrtime?(ee.exports=function(){return(k()-g)/1e6},a=M.hrtime,b=(k=function(){var t;return 1e9*(t=a())[0]+t[1]})(),s=1e9*M.uptime(),g=b-s):Date.now?(ee.exports=function(){return Date.now()-T},T=Date.now()):(ee.exports=function(){return new Date().getTime()-T},T=new Date().getTime())}).call(this)},55616:function(ee){ee.exports=function(M,k,a){var T,b,g={};if(typeof k=="string"&&(k=e(k)),Array.isArray(k)){var s={};for(b=0;b<k.length;b++)s[k[b]]=!0;k=s}for(T in k)k[T]=e(k[T]);var t={};for(T in k){var i=k[T];if(Array.isArray(i))for(b=0;b<i.length;b++){var r=i[b];if(a&&(t[r]=!0),r in M){if(g[T]=M[r],a)for(var n=b;n<i.length;n++)t[i[n]]=!0;break}}else T in M&&(k[T]&&(g[T]=M[T]),a&&(t[T]=!0))}if(a)for(T in M)t[T]||(g[T]=M[T]);return g};var D={};function e(M){return D[M]?D[M]:(typeof M=="string"&&(M=D[M]=M.split(/\s*,\s*|\s+/)),M)}},61456:function(ee){ee.exports=function(D,e,M,k){var a=D[0],T=D[1],b=!1;M===void 0&&(M=0),k===void 0&&(k=e.length);for(var g=k-M,s=0,t=g-1;s<g;t=s++){var i=e[s+M][0],r=e[s+M][1],n=e[t+M][0],o=e[t+M][1];r>T!=o>T&&a<(n-i)*(T-r)/(o-r)+i&&(b=!b)}return b}},14756:function(ee,D,e){var M,k=e(7688),a=e(28648),T=e(72200),b=e(11403),g=e(82368),s=e(17792),t=!1,i=a();function r(n,o,l){var u=M.segments(n),d=M.segments(o),c=l(M.combine(u,d));return M.polygon(c)}M={buildLog:function(n){return n===!0?t=k():n===!1&&(t=!1),t!==!1&&t.list},epsilon:function(n){return i.epsilon(n)},segments:function(n){var o=T(!0,i,t);return n.regions.forEach(o.addRegion),{segments:o.calculate(n.inverted),inverted:n.inverted}},combine:function(n,o){return{combined:T(!1,i,t).calculate(n.segments,n.inverted,o.segments,o.inverted),inverted1:n.inverted,inverted2:o.inverted}},selectUnion:function(n){return{segments:g.union(n.combined,t),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:g.intersect(n.combined,t),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:g.difference(n.combined,t),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:g.differenceRev(n.combined,t),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:g.xor(n.combined,t),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:b(n.segments,i,t),inverted:n.inverted}},polygonFromGeoJSON:function(n){return s.toPolygon(M,n)},polygonToGeoJSON:function(n){return s.fromPolygon(M,i,n)},union:function(n,o){return r(n,o,M.selectUnion)},intersect:function(n,o){return r(n,o,M.selectIntersect)},difference:function(n,o){return r(n,o,M.selectDifference)},differenceRev:function(n,o){return r(n,o,M.selectDifferenceRev)},xor:function(n,o){return r(n,o,M.selectXor)}},typeof window=="object"&&(window.PolyBool=M),ee.exports=M},7688:function(ee){ee.exports=function(){var D,e=0,M=!1;function k(a,T){return D.list.push({type:a,data:T?JSON.parse(JSON.stringify(T)):void 0}),D}return D={list:[],segmentId:function(){return e++},checkIntersection:function(a,T){return k("check",{seg1:a,seg2:T})},segmentChop:function(a,T){return k("div_seg",{seg:a,pt:T}),k("chop",{seg:a,pt:T})},statusRemove:function(a){return k("pop_seg",{seg:a})},segmentUpdate:function(a){return k("seg_update",{seg:a})},segmentNew:function(a,T){return k("new_seg",{seg:a,primary:T})},segmentRemove:function(a){return k("rem_seg",{seg:a})},tempStatus:function(a,T,b){return k("temp_status",{seg:a,above:T,below:b})},rewind:function(a){return k("rewind",{seg:a})},status:function(a,T,b){return k("status",{seg:a,above:T,below:b})},vert:function(a){return a===M?D:(M=a,k("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),k("log",{txt:a})},reset:function(){return k("reset")},selected:function(a){return k("selected",{segs:a})},chainStart:function(a){return k("chain_start",{seg:a})},chainRemoveHead:function(a,T){return k("chain_rem_head",{index:a,pt:T})},chainRemoveTail:function(a,T){return k("chain_rem_tail",{index:a,pt:T})},chainNew:function(a,T){return k("chain_new",{pt1:a,pt2:T})},chainMatch:function(a){return k("chain_match",{index:a})},chainClose:function(a){return k("chain_close",{index:a})},chainAddHead:function(a,T){return k("chain_add_head",{index:a,pt:T})},chainAddTail:function(a,T){return k("chain_add_tail",{index:a,pt:T})},chainConnect:function(a,T){return k("chain_con",{index1:a,index2:T})},chainReverse:function(a){return k("chain_rev",{index:a})},chainJoin:function(a,T){return k("chain_join",{index1:a,index2:T})},done:function(){return k("done")}}}},28648:function(ee){ee.exports=function(D){typeof D!="number"&&(D=1e-10);var e={epsilon:function(M){return typeof M=="number"&&(D=M),D},pointAboveOrOnLine:function(M,k,a){var T=k[0],b=k[1],g=a[0],s=a[1],t=M[0];return(g-T)*(M[1]-b)-(s-b)*(t-T)>=-D},pointBetween:function(M,k,a){var T=M[1]-k[1],b=a[0]-k[0],g=M[0]-k[0],s=a[1]-k[1],t=g*b+T*s;return!(t<D||t-(b*b+s*s)>-D)},pointsSameX:function(M,k){return Math.abs(M[0]-k[0])<D},pointsSameY:function(M,k){return Math.abs(M[1]-k[1])<D},pointsSame:function(M,k){return e.pointsSameX(M,k)&&e.pointsSameY(M,k)},pointsCompare:function(M,k){return e.pointsSameX(M,k)?e.pointsSameY(M,k)?0:M[1]<k[1]?-1:1:M[0]<k[0]?-1:1},pointsCollinear:function(M,k,a){var T=M[0]-k[0],b=M[1]-k[1],g=k[0]-a[0],s=k[1]-a[1];return Math.abs(T*s-g*b)<D},linesIntersect:function(M,k,a,T){var b=k[0]-M[0],g=k[1]-M[1],s=T[0]-a[0],t=T[1]-a[1],i=b*t-g*s;if(Math.abs(i)<D)return!1;var r=M[0]-a[0],n=M[1]-a[1],o=(s*n-t*r)/i,l=(b*n-g*r)/i,u={alongA:0,alongB:0,pt:[M[0]+o*b,M[1]+o*g]};return u.alongA=o<=-D?-2:o<D?-1:o-1<=-D?0:o-1<D?1:2,u.alongB=l<=-D?-2:l<D?-1:l-1<=-D?0:l-1<D?1:2,u},pointInsideRegion:function(M,k){for(var a=M[0],T=M[1],b=k[k.length-1][0],g=k[k.length-1][1],s=!1,t=0;t<k.length;t++){var i=k[t][0],r=k[t][1];r-T>D!=g-T>D&&(b-i)*(T-r)/(g-r)+i-a>D&&(s=!s),b=i,g=r}return s}};return e}},17792:function(ee){var D={toPolygon:function(e,M){function k(b){if(b.length<=0)return e.segments({inverted:!1,regions:[]});function g(i){var r=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[r]})}for(var s=g(b[0]),t=1;t<b.length;t++)s=e.selectDifference(e.combine(s,g(b[t])));return s}if(M.type==="Polygon")return e.polygon(k(M.coordinates));if(M.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),T=0;T<M.coordinates.length;T++)a=e.selectUnion(e.combine(a,k(M.coordinates[T])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,M,k){function a(l,u){return M.pointInsideRegion([.5*(l[0][0]+l[1][0]),.5*(l[0][1]+l[1][1])],u)}function T(l){return{region:l,children:[]}}k=e.polygon(e.segments(k));var b=T(null);function g(l,u){for(var d=0;d<l.children.length;d++)if(a(u,(m=l.children[d]).region))return void g(m,u);var c=T(u);for(d=0;d<l.children.length;d++){var m;a((m=l.children[d]).region,u)&&(c.children.push(m),l.children.splice(d,1),d--)}l.children.push(c)}for(var s=0;s<k.regions.length;s++){var t=k.regions[s];t.length<3||g(b,t)}function i(l,u){for(var d=0,c=l[l.length-1][0],m=l[l.length-1][1],f=[],p=0;p<l.length;p++){var v=l[p][0],y=l[p][1];f.push([v,y]),d+=y*c-v*m,c=v,m=y}return d<0!==u&&f.reverse(),f.push([f[0][0],f[0][1]]),f}var r=[];function n(l){var u=[i(l.region,!1)];r.push(u);for(var d=0;d<l.children.length;d++)u.push(o(l.children[d]))}function o(l){for(var u=0;u<l.children.length;u++)n(l.children[u]);return i(l.region,!0)}for(s=0;s<b.children.length;s++)n(b.children[s]);return r.length<=0?{type:"Polygon",coordinates:[]}:r.length==1?{type:"Polygon",coordinates:r[0]}:{type:"MultiPolygon",coordinates:r}}};ee.exports=D},72200:function(ee,D,e){var M=e(48088);ee.exports=function(k,a,T){function b(n,o,l){return{id:T?T.segmentId():-1,start:n,end:o,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var g=M.create();function s(n,o){g.insertBefore(n,function(l){return u=n.isStart,d=n.pt,c=o,m=l.isStart,f=l.pt,p=l.other.pt,((v=a.pointsCompare(d,f))!==0?v:a.pointsSame(c,p)?0:u!==m?u?1:-1:a.pointAboveOrOnLine(c,m?f:p,m?p:f)?1:-1)<0;var u,d,c,m,f,p,v})}function t(n,o){var l=function(u,d){var c=M.node({isStart:!0,pt:u.start,seg:u,primary:d,other:null,status:null});return s(c,u.end),c}(n,o);return function(u,d,c){var m=M.node({isStart:!1,pt:d.end,seg:d,primary:c,other:u,status:null});u.other=m,s(m,u.pt)}(l,n,o),l}function i(n,o){var l=b(o,n.seg.end,n.seg);return function(u,d){T&&T.segmentChop(u.seg,d),u.other.remove(),u.seg.end=d,u.other.pt=d,s(u.other,u.pt)}(n,o),t(l,n.primary)}function r(n,o){var l=M.create();function u(w){return l.findTransition(function(E){var C,P,O,R,U,z;return C=w,P=E.ev,O=C.seg.start,R=C.seg.end,U=P.seg.start,z=P.seg.end,(a.pointsCollinear(O,U,z)?a.pointsCollinear(R,U,z)||a.pointAboveOrOnLine(R,U,z)?1:-1:a.pointAboveOrOnLine(O,U,z)?1:-1)>0})}function d(w,E){var C=w.seg,P=E.seg,O=C.start,R=C.end,U=P.start,z=P.end;T&&T.checkIntersection(C,P);var N=a.linesIntersect(O,R,U,z);if(N===!1){if(!a.pointsCollinear(O,R,U)||a.pointsSame(O,z)||a.pointsSame(R,U))return!1;var W=a.pointsSame(O,U),F=a.pointsSame(R,z);if(W&&F)return E;var V=!W&&a.pointBetween(O,U,z),j=!F&&a.pointBetween(R,U,z);if(W)return j?i(E,R):i(w,z),E;V&&(F||(j?i(E,R):i(w,z)),i(E,O))}else N.alongA===0&&(N.alongB===-1?i(w,U):N.alongB===0?i(w,N.pt):N.alongB===1&&i(w,z)),N.alongB===0&&(N.alongA===-1?i(E,O):N.alongA===0?i(E,N.pt):N.alongA===1&&i(E,R));return!1}for(var c=[];!g.isEmpty();){var m=g.getHead();if(T&&T.vert(m.pt[0]),m.isStart){let w=function(){if(p){var E=d(m,p);if(E)return E}return!!v&&d(m,v)};T&&T.segmentNew(m.seg,m.primary);var f=u(m),p=f.before?f.before.ev:null,v=f.after?f.after.ev:null;T&&T.tempStatus(m.seg,!!p&&p.seg,!!v&&v.seg);var y,x,_=w();if(_&&(k?(x=m.seg.myFill.below===null||m.seg.myFill.above!==m.seg.myFill.below)&&(_.seg.myFill.above=!_.seg.myFill.above):_.seg.otherFill=m.seg.myFill,T&&T.segmentUpdate(_.seg),m.other.remove(),m.remove()),g.getHead()!==m){T&&T.rewind(m.seg);continue}k?(x=m.seg.myFill.below===null||m.seg.myFill.above!==m.seg.myFill.below,m.seg.myFill.below=v?v.seg.myFill.above:n,m.seg.myFill.above=x?!m.seg.myFill.below:m.seg.myFill.below):m.seg.otherFill===null&&(y=v?m.primary===v.primary?v.seg.otherFill.above:v.seg.myFill.above:m.primary?o:n,m.seg.otherFill={above:y,below:y}),T&&T.status(m.seg,!!p&&p.seg,!!v&&v.seg),m.other.status=f.insert(M.node({ev:m}))}else{var h=m.status;if(h===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(h.prev)&&l.exists(h.next)&&d(h.prev.ev,h.next.ev),T&&T.statusRemove(h.ev.seg),h.remove(),!m.primary){var S=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=S}c.push(m.seg)}g.getHead().remove()}return T&&T.done(),c}return k?{addRegion:function(n){for(var o,l,u,d=n[n.length-1],c=0;c<n.length;c++){o=d,d=n[c];var m=a.pointsCompare(o,d);m!==0&&t((l=m<0?o:d,u=m<0?d:o,{id:T?T.segmentId():-1,start:l,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(n){return r(n,!1)}}:{calculate:function(n,o,l,u){return n.forEach(function(d){t(b(d.start,d.end,d),!0)}),l.forEach(function(d){t(b(d.start,d.end,d),!1)}),r(o,u)}}}},48088:function(ee){ee.exports={create:function(){var D={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==D.root},isEmpty:function(){return D.root.next===null},getHead:function(){return D.root.next},insertBefore:function(e,M){for(var k=D.root,a=D.root.next;a!==null;){if(M(a))return e.prev=a.prev,e.next=a,a.prev.next=e,void(a.prev=e);k=a,a=a.next}k.next=e,e.prev=k,e.next=null},findTransition:function(e){for(var M=D.root,k=D.root.next;k!==null&&!e(k);)M=k,k=k.next;return{before:M===D.root?null:M,after:k,insert:function(a){return a.prev=M,a.next=k,M.next=a,k!==null&&(k.prev=a),a}}}};return D},node:function(D){return D.prev=null,D.next=null,D.remove=function(){D.prev.next=D.next,D.next&&(D.next.prev=D.prev),D.prev=null,D.next=null},D}}},11403:function(ee){ee.exports=function(D,e,M){var k=[],a=[];return D.forEach(function(T){var b=T.start,g=T.end;if(e.pointsSame(b,g))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{M&&M.chainStart(T);for(var s={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=s,r=0;r<k.length;r++){var n=(c=k[r])[0],o=(c[1],c[c.length-1]);if(c[c.length-2],e.pointsSame(n,b)){if(h(r,!0,!0))break}else if(e.pointsSame(n,g)){if(h(r,!0,!1))break}else if(e.pointsSame(o,b)){if(h(r,!1,!0))break}else if(e.pointsSame(o,g)&&h(r,!1,!1))break}if(i===s)return k.push([b,g]),void(M&&M.chainNew(b,g));if(i===t){M&&M.chainMatch(s.index);var l=s.index,u=s.matches_pt1?g:b,d=s.matches_head,c=k[l],m=d?c[0]:c[c.length-1],f=d?c[1]:c[c.length-2],p=d?c[c.length-1]:c[0],v=d?c[c.length-2]:c[1];return e.pointsCollinear(f,m,u)&&(d?(M&&M.chainRemoveHead(s.index,u),c.shift()):(M&&M.chainRemoveTail(s.index,u),c.pop()),m=f),e.pointsSame(p,u)?(k.splice(l,1),e.pointsCollinear(v,p,m)&&(d?(M&&M.chainRemoveTail(s.index,m),c.pop()):(M&&M.chainRemoveHead(s.index,m),c.shift())),M&&M.chainClose(s.index),void a.push(c)):void(d?(M&&M.chainAddHead(s.index,u),c.unshift(u)):(M&&M.chainAddTail(s.index,u),c.push(u)))}var y=s.index,x=t.index;M&&M.chainConnect(y,x);var _=k[y].length<k[x].length;s.matches_head?t.matches_head?_?(S(y),w(y,x)):(S(x),w(x,y)):w(x,y):t.matches_head?w(y,x):_?(S(y),w(x,y)):(S(x),w(y,x))}function h(E,C,P){return i.index=E,i.matches_head=C,i.matches_pt1=P,i===s?(i=t,!1):(i=null,!0)}function S(E){M&&M.chainReverse(E),k[E].reverse()}function w(E,C){var P=k[E],O=k[C],R=P[P.length-1],U=P[P.length-2],z=O[0],N=O[1];e.pointsCollinear(U,R,z)&&(M&&M.chainRemoveTail(E,R),P.pop(),R=U),e.pointsCollinear(R,z,N)&&(M&&M.chainRemoveHead(C,z),O.shift()),M&&M.chainJoin(E,C),k[E]=P.concat(O),k.splice(C,1)}}),a}},82368:function(ee){function D(M,k,a){var T=[];return M.forEach(function(b){var g=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);k[g]!==0&&T.push({id:a?a.segmentId():-1,start:b.start,end:b.end,myFill:{above:k[g]===1,below:k[g]===2},otherFill:null})}),a&&a.selected(T),T}var e={union:function(M,k){return D(M,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],k)},intersect:function(M,k){return D(M,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],k)},difference:function(M,k){return D(M,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],k)},differenceRev:function(M,k){return D(M,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],k)},xor:function(M,k){return D(M,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],k)}};ee.exports=e},9696:function(ee,D,e){var M=e(29936).Transform,k=e(55619);function a(){M.call(this,{readableObjectMode:!0})}function T(b,g,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=b,g&&(this.code=g),s&&(this.statusCode=s)}a.prototype=Object.create(M.prototype),a.prototype.constructor=a,k(a.prototype),D.gS=function(b,g,s){for(var t=g,i=0;i<s.length;)if(b[t++]!==s[i++])return!1;return!0},D.wR=function(b,g){var s=[],t=0;if(g&&g==="hex")for(;t<b.length;)s.push(parseInt(b.slice(t,t+2),16)),t+=2;else for(;t<b.length;t++)s.push(255&b.charCodeAt(t));return s},D.Bz=function(b,g){return b[g]|b[g+1]<<8},D.eW=function(b,g){return b[g+1]|b[g]<<8},D.st=function(b,g){return b[g]|b[g+1]<<8|b[g+2]<<16|16777216*b[g+3]},D.eI=function(b,g){return b[g+3]|b[g+2]<<8|b[g+1]<<16|16777216*b[g]},T.prototype=Object.create(Error.prototype),T.prototype.constructor=T},11688:function(ee){function D(k,a){var T=new Error(k);return T.code=a,T}function e(k){try{return decodeURIComponent(escape(k))}catch{return k}}function M(k,a,T){this.input=k.subarray(a,T),this.start=a;var b=String.fromCharCode.apply(null,this.input.subarray(0,4));if(b!=="II*\0"&&b!=="MM\0*")throw D("invalid TIFF signature","EBADDATA");this.big_endian=b[0]==="M"}M.prototype.each=function(k){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var T=this.ifds_to_read.shift();T.offset&&this.scan_ifd(T.id,T.offset,k)}},M.prototype.read_uint16=function(k){var a=this.input;if(k+2>a.length)throw D("unexpected EOF","EBADDATA");return this.big_endian?256*a[k]+a[k+1]:a[k]+256*a[k+1]},M.prototype.read_uint32=function(k){var a=this.input;if(k+4>a.length)throw D("unexpected EOF","EBADDATA");return this.big_endian?16777216*a[k]+65536*a[k+1]+256*a[k+2]+a[k+3]:a[k]+256*a[k+1]+65536*a[k+2]+16777216*a[k+3]},M.prototype.is_subifd_link=function(k,a){return k===0&&a===34665||k===0&&a===34853||k===34665&&a===40965},M.prototype.exif_format_length=function(k){switch(k){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},M.prototype.exif_format_read=function(k,a){var T;switch(k){case 1:case 2:return this.input[a];case 6:return(T=this.input[a])|33554430*(128&T);case 3:return this.read_uint16(a);case 8:return(T=this.read_uint16(a))|131070*(32768&T);case 4:return this.read_uint32(a);case 9:return 0|this.read_uint32(a);default:return null}},M.prototype.scan_ifd=function(k,a,T){var b=this.read_uint16(a);a+=2;for(var g=0;g<b;g++){var s=this.read_uint16(a),t=this.read_uint16(a+2),i=this.read_uint32(a+4),r=this.exif_format_length(t),n=i*r,o=n<=4?a+8:this.read_uint32(a+8),l=!1;if(o+n>this.input.length)throw D("unexpected EOF","EBADDATA");for(var u=[],d=o,c=0;c<i;c++,d+=r){var m=this.exif_format_read(t,d);if(m===null){u=null;break}u.push(m)}if(Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(k,s)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:s,offset:u[0]}),l=!0),T({is_big_endian:this.big_endian,ifd:k,tag:s,format:t,count:i,entry_offset:a+this.start,data_length:n,data_offset:o+this.start,value:u,is_subifd_link:l})===!1)return void(this.aborted=!0);a+=12}k===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},ee.exports.ExifParser=M,ee.exports.get_orientation=function(k){var a=0;try{return new M(k,0,k.length).each(function(T){if(T.ifd===0&&T.tag===274&&Array.isArray(T.value))return a=T.value[0],!1}),a}catch{return-1}}},44600:function(ee,D,e){var M=e(9696).eW,k=e(9696).eI;function a(i,r){if(i.length<4+r)return null;var n=k(i,r);return i.length<n+r||n<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(r+4,r+8)),data:i.slice(r+8,r+n),end:r+n}}function T(i,r){for(var n=0;;){var o=a(i,n);if(!o)break;switch(o.boxtype){case"ispe":r.sizes.push({width:k(o.data,4),height:k(o.data,8)});break;case"irot":r.transforms.push({type:"irot",value:3&o.data[0]});break;case"imir":r.transforms.push({type:"imir",value:1&o.data[0]})}n=o.end}}function b(i,r,n){for(var o=0,l=0;l<n;l++)o=256*o+(i[r+l]||0);return o}function g(i,r){for(var n=i[4]>>4&15,o=15&i[4],l=i[5]>>4&15,u=M(i,6),d=8,c=0;c<u;c++){var m=M(i,d),f=M(i,d+=2),p=b(i,d+=2,l),v=M(i,d+=l);if(d+=2,f===0&&v===1){var y=b(i,d,n),x=b(i,d+n,o);r.item_loc[m]={length:x,offset:y+p}}d+=v*(n+o)}}function s(i,r){for(var n=M(i,4),o=6,l=0;l<n;l++){var u=a(i,o);if(!u)break;if(u.boxtype==="infe"){for(var d=M(u.data,4),c="",m=8;m<u.data.length&&u.data[m];m++)c+=String.fromCharCode(u.data[m]);r.item_inf[c]=d}o=u.end}}function t(i,r){for(var n=0;;){var o=a(i,n);if(!o)break;o.boxtype==="ipco"&&T(o.data,r),n=o.end}}ee.exports.unbox=a,ee.exports.readSizeFromMeta=function(i){var r={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(m,f){for(var p=4;;){var v=a(m,p);if(!v)break;v.boxtype==="iprp"&&t(v.data,f),v.boxtype==="iloc"&&g(v.data,f),v.boxtype==="iinf"&&s(v.data,f),p=v.end}}(i,r),r.sizes.length){var n,o,l,u=(o=(n=r.sizes).reduce(function(m,f){return m.width>f.width||m.width===f.width&&m.height>f.height?m:f}),l=n.reduce(function(m,f){return m.height>f.height||m.height===f.height&&m.width>f.width?m:f}),o.width>l.height||o.width===l.height&&o.height>l.width?o:l),d=1;r.transforms.forEach(function(m){var f={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},p={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(m.type==="imir"&&(d=m.value===0?p[d]:f[d=f[d=p[d]]]),m.type==="irot")for(var v=0;v<m.value;v++)d=f[d]});var c=null;return r.item_inf.Exif&&(c=r.item_loc[r.item_inf.Exif]),{width:u.width,height:u.height,orientation:r.transforms.length?d:null,variants:r.sizes,exif_location:c}}},ee.exports.getMimeType=function(i){var r=String.fromCharCode.apply(null,i.slice(0,4)),n={};n[r]=!0;for(var o=8;o<i.length;o+=4)n[String.fromCharCode.apply(null,i.slice(o,o+4))]=!0;if(n.mif1||n.msf1||n.miaf)return r==="avif"||r==="avis"||r==="avio"?{type:"avif",mime:"image/avif"}:r==="heic"||r==="heix"?{type:"heic",mime:"image/heic"}:r==="hevc"||r==="hevx"?{type:"heic",mime:"image/heic-sequence"}:n.avif||n.avis?{type:"avif",mime:"image/avif"}:n.heic||n.heix||n.hevc||n.hevx||n.heis?n.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(ee,D,e){var M=e(9696).wR,k=e(9696).gS,a=e(9696).eI,T=e(44600),b=e(11688),g=M("ftyp");ee.exports=function(s){if(k(s,4,g)){var t=T.unbox(s,0);if(t){var i=T.getMimeType(t.data);if(i){for(var r,n=t.end;;){var o=T.unbox(s,n);if(!o)break;if(n=o.end,o.boxtype==="mdat")return;if(o.boxtype==="meta"){r=o.data;break}}if(r){var l=T.readSizeFromMeta(r);if(l){var u={width:l.width,height:l.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(l.variants.length>1&&(u.variants=l.variants),l.orientation&&(u.orientation=l.orientation),l.exif_location&&l.exif_location.offset+l.exif_location.length<=s.length){var d=a(s,l.exif_location.offset),c=s.slice(l.exif_location.offset+d+4,l.exif_location.offset+l.exif_location.length),m=b.get_orientation(c);m>0&&(u.orientation=m)}return u}}}}}}},38728:function(ee,D,e){var M=e(9696).wR,k=e(9696).gS,a=e(9696).Bz,T=M("BM");ee.exports=function(b){if(!(b.length<26)&&k(b,0,T))return{width:a(b,18),height:a(b,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(ee,D,e){var M=e(9696).wR,k=e(9696).gS,a=e(9696).Bz,T=M("GIF87a"),b=M("GIF89a");ee.exports=function(g){if(!(g.length<10)&&(k(g,0,T)||k(g,0,b)))return{width:a(g,6),height:a(g,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(ee,D,e){var M=e(9696).Bz;ee.exports=function(k){var a=M(k,0),T=M(k,2),b=M(k,4);if(a===0&&T===1&&b){for(var g=[],s={width:0,height:0},t=0;t<b;t++){var i=k[6+16*t]||256,r=k[6+16*t+1]||256,n={width:i,height:r};g.push(n),(i>s.width||r>s.height)&&(s=n)}return{width:s.width,height:s.height,variants:g,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(ee,D,e){var M=e(9696).eW,k=e(9696).wR,a=e(9696).gS,T=e(11688),b=k("Exif\0\0");ee.exports=function(g){if(!(g.length<2)&&g[0]===255&&g[1]===216&&g[2]===255)for(var s=2;;){for(;;){if(g.length-s<2)return;if(g[s++]===255)break}for(var t,i,r=g[s++];r===255;)r=g[s++];if(208<=r&&r<=217||r===1)t=0;else{if(!(192<=r&&r<=254)||g.length-s<2)return;t=M(g,s)-2,s+=2}if(r===217||r===218)return;if(r===225&&t>=10&&a(g,s,b)&&(i=T.get_orientation(g.slice(s+6,s+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(g.length-s<t)return;var n={width:M(g,s+3),height:M(g,s+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(n.orientation=i),n}s+=t}}},37276:function(ee,D,e){var M=e(9696).wR,k=e(9696).gS,a=e(9696).eI,T=M(`PNG\r

`),b=M("IHDR");ee.exports=function(g){if(!(g.length<24)&&k(g,0,T)&&k(g,12,b))return{width:a(g,16),height:a(g,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(ee,D,e){var M=e(9696).wR,k=e(9696).gS,a=e(9696).eI,T=M("8BPS\0");ee.exports=function(b){if(!(b.length<22)&&k(b,0,T))return{width:a(b,18),height:a(b,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(ee){function D(s){return typeof s=="number"&&isFinite(s)&&s>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,M=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,k=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,a=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,T=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,b=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function g(s){return b.test(s)?s.match(b)[0]:"px"}ee.exports=function(s){if(function(p){var v,y=0,x=p.length;for(p[0]===239&&p[1]===187&&p[2]===191&&(y=3);y<x&&((v=p[y])===32||v===9||v===13||v===10);)y++;return y!==x&&p[y]===60}(s)){for(var t="",i=0;i<s.length;i++)t+=String.fromCharCode(s[i]);var r=(t.match(e)||[""])[0];if(M.test(r)){var n=function(p){var v=p.match(k),y=p.match(a),x=p.match(T);return{width:v&&(v[1]||v[2]),height:y&&(y[1]||y[2]),viewbox:x&&(x[1]||x[2])}}(r),o=parseFloat(n.width),l=parseFloat(n.height);if(n.width&&n.height)return!D(o)||!D(l)?void 0:{width:o,height:l,type:"svg",mime:"image/svg+xml",wUnits:g(n.width),hUnits:g(n.height)};var u=(n.viewbox||"").split(" "),d={width:u[2],height:u[3]},c=parseFloat(d.width),m=parseFloat(d.height);if(D(c)&&D(m)&&g(d.width)===g(d.height)){var f=c/m;return n.width?D(o)?{width:o,height:o/f,type:"svg",mime:"image/svg+xml",wUnits:g(n.width),hUnits:g(n.width)}:void 0:n.height?D(l)?{width:l*f,height:l,type:"svg",mime:"image/svg+xml",wUnits:g(n.height),hUnits:g(n.height)}:void 0:{width:c,height:m,type:"svg",mime:"image/svg+xml",wUnits:g(d.width),hUnits:g(d.height)}}}}}},98792:function(ee,D,e){var M=e(9696).wR,k=e(9696).gS,a=e(9696).Bz,T=e(9696).eW,b=e(9696).st,g=e(9696).eI,s=M("II*\0"),t=M("MM\0*");function i(o,l,u){return u?T(o,l):a(o,l)}function r(o,l,u){return u?g(o,l):b(o,l)}function n(o,l,u){var d=i(o,l+2,u);return r(o,l+4,u)!==1||d!==3&&d!==4?null:d===3?i(o,l+8,u):r(o,l+8,u)}ee.exports=function(o){if(!(o.length<8)&&(k(o,0,s)||k(o,0,t))){var l=o[0]===77,u=r(o,4,l)-8;if(!(u<0)){var d=u+8;if(!(o.length-d<2)){var c=12*i(o,d+0,l);if(!(c<=0||(d+=2,o.length-d<c))){var m,f,p,v;for(m=0;m<c;m+=12)(v=i(o,d+m,l))===256?f=n(o,d+m,l):v===257&&(p=n(o,d+m,l));return f&&p?{width:f,height:p,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},20704:function(ee,D,e){var M=e(9696).wR,k=e(9696).gS,a=e(9696).Bz,T=e(9696).st,b=e(11688),g=M("RIFF"),s=M("WEBP");function t(n,o){if(n[o+3]===157&&n[o+4]===1&&n[o+5]===42)return{width:16383&a(n,o+6),height:16383&a(n,o+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(n,o){if(n[o]===47){var l=T(n,o+1);return{width:1+(16383&l),height:1+(l>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function r(n,o){return{width:1+(n[o+6]<<16|n[o+5]<<8|n[o+4]),height:1+(n[o+9]<<o|n[o+8]<<8|n[o+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}ee.exports=function(n){if(!(n.length<16)&&(k(n,0,g)||k(n,8,s))){var o=12,l=null,u=0,d=T(n,4)+8;if(!(d>n.length)){for(;o+8<d;)if(n[o]!==0){var c=String.fromCharCode.apply(null,n.slice(o,o+4)),m=T(n,o+4);c==="VP8 "&&m>=10?l=l||t(n,o+8):c==="VP8L"&&m>=9?l=l||i(n,o+8):c==="VP8X"&&m>=10?l=l||r(n,o+8):c==="EXIF"&&(u=b.get_orientation(n.slice(o+8,o+8+m)),o=1/0),o+=8+m}else o++;if(l)return u>0&&(l.orientation=u),l}}}},87480:function(ee,D,e){ee.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(ee,D,e){var M=e(87480);ee.exports=function(k){return function(a){for(var T=Object.keys(M),b=0;b<T.length;b++){var g=M[T[b]](a);if(g)return g}return null}(k)},ee.exports.parsers=M},4168:function(ee){var D,e,M=ee.exports={};function k(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function T(l){if(D===setTimeout)return setTimeout(l,0);if((D===k||!D)&&setTimeout)return D=setTimeout,setTimeout(l,0);try{return D(l,0)}catch{try{return D.call(null,l,0)}catch{return D.call(this,l,0)}}}(function(){try{D=typeof setTimeout=="function"?setTimeout:k}catch{D=k}try{e=typeof clearTimeout=="function"?clearTimeout:a}catch{e=a}})();var b,g=[],s=!1,t=-1;function i(){s&&b&&(s=!1,b.length?g=b.concat(g):t=-1,g.length&&r())}function r(){if(!s){var l=T(i);s=!0;for(var u=g.length;u;){for(b=g,g=[];++t<u;)b&&b[t].run();t=-1,u=g.length}b=null,s=!1,function(d){if(e===clearTimeout)return clearTimeout(d);if((e===a||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(d);try{return e(d)}catch{try{return e.call(null,d)}catch{return e.call(this,d)}}}(l)}}function n(l,u){this.fun=l,this.array=u}function o(){}M.nextTick=function(l){var u=new Array(arguments.length-1);if(arguments.length>1)for(var d=1;d<arguments.length;d++)u[d-1]=arguments[d];g.push(new n(l,u)),g.length!==1||s||T(r)},n.prototype.run=function(){this.fun.apply(null,this.array)},M.title="browser",M.browser=!0,M.env={},M.argv=[],M.version="",M.versions={},M.on=o,M.addListener=o,M.once=o,M.off=o,M.removeListener=o,M.removeAllListeners=o,M.emit=o,M.prependListener=o,M.prependOnceListener=o,M.listeners=function(l){return[]},M.binding=function(l){throw new Error("process.binding is not supported")},M.cwd=function(){return"/"},M.chdir=function(l){throw new Error("process.chdir is not supported")},M.umask=function(){return 0}},3951:function(ee,D,e){for(var M=e(41984),k=typeof window>"u"?e.g:window,a=["moz","webkit"],T="AnimationFrame",b=k["request"+T],g=k["cancel"+T]||k["cancelRequest"+T],s=0;!b&&s<a.length;s++)b=k[a[s]+"Request"+T],g=k[a[s]+"Cancel"+T]||k[a[s]+"CancelRequest"+T];if(!b||!g){var t=0,i=0,r=[];b=function(n){if(r.length===0){var o=M(),l=Math.max(0,16.666666666666668-(o-t));t=l+o,setTimeout(function(){var u=r.slice(0);r.length=0;for(var d=0;d<u.length;d++)if(!u[d].cancelled)try{u[d].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(l))}return r.push({handle:++i,callback:n,cancelled:!1}),i},g=function(n){for(var o=0;o<r.length;o++)r[o].handle===n&&(r[o].cancelled=!0)}}ee.exports=function(n){return b.call(k,n)},ee.exports.cancel=function(){g.apply(k,arguments)},ee.exports.polyfill=function(n){n||(n=k),n.requestAnimationFrame=b,n.cancelAnimationFrame=g}},24544:function(ee,D,e){var M=e(76752),k=e(72160),a=e(45223),T=e(55616),b=e(50896),g=e(47520),s=e(37816),t=s.float32,i=s.fract32;ee.exports=function(n,o){if(typeof n=="function"?(o||(o={}),o.regl=n):o=n,o.length&&(o.positions=o),!(n=o.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l,u,d,c,m,f,p=n._gl,v={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},y=[];return c=n.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),m=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),f=n.buffer({usage:"static",type:"float",data:r}),S(o),l=n({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:n.prop("range"),lineWidth:n.prop("lineWidth"),capSize:n.prop("capSize"),opacity:n.prop("opacity"),scale:n.prop("scale"),translate:n.prop("translate"),scaleFract:n.prop("scaleFract"),translateFract:n.prop("translateFract"),viewport:function(E,C){return[C.viewport.x,C.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,C){return 4*C.offset},divisor:1},position:{buffer:u,offset:function(E,C){return 8*C.offset},divisor:1},positionFract:{buffer:d,offset:function(E,C){return 8*C.offset},divisor:1},error:{buffer:m,offset:function(E,C){return 16*C.offset},divisor:1},direction:{buffer:f,stride:24,offset:0},lineOffset:{buffer:f,stride:24,offset:8},capOffset:{buffer:f,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:n.prop("viewport")},viewport:n.prop("viewport"),stencil:!1,instances:n.prop("count"),count:r.length}),b(x,{update:S,draw:_,destroy:w,regl:n,gl:p,canvas:p.canvas,groups:y}),x;function x(E){E?S(E):E===null&&w(),_()}function _(E){if(typeof E=="number")return h(E);E&&!Array.isArray(E)&&(E=[E]),n._refresh(),y.forEach(function(C,P){C&&(E&&(E[P]?C.draw=!0:C.draw=!1),C.draw?h(P):C.draw=!0)})}function h(E){typeof E=="number"&&(E=y[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],l(E),E.after&&E.after(E))}function S(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var C=0,P=0;if(x.groups=y=E.map(function(F,V){var j=y[V];return F&&(typeof F=="function"?F={after:F}:typeof F[0]=="number"&&(F={positions:F}),F=T(F,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),j||(y[V]=j={id:V,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},F=b({},v,F)),a(j,F,[{lineWidth:function(te){return .5*+te},capSize:function(te){return .5*+te},opacity:parseFloat,errors:function(te){return te=g(te),P+=te.length,te},positions:function(te,J){return te=g(te,"float64"),J.count=Math.floor(te.length/2),J.bounds=M(te,2),J.offset=C,C+=J.count,te}},{color:function(te,J){var K=J.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var Z=te;te=Array(K);for(var X=0;X<K;X++)te[X]=Z}if(te.length<K)throw Error("Not enough colors");for(var Q=new Uint8Array(4*K),re=0;re<K;re++){var ae=k(te[re],"uint8");Q.set(ae,4*re)}return Q},range:function(te,J,K){var Z=J.bounds;return te||(te=Z),J.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],J.translate=[-te[0],-te[1]],J.scaleFract=i(J.scale),J.translateFract=i(J.translate),te},viewport:function(te){var J;return Array.isArray(te)?J={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(J={x:te.x||te.left||0,y:te.y||te.top||0},te.right?J.width=te.right-J.x:J.width=te.w||te.width||0,te.bottom?J.height=te.bottom-J.y:J.height=te.h||te.height||0):J={x:0,y:0,width:p.drawingBufferWidth,height:p.drawingBufferHeight},J}}])),j}),C||P){var O=y.reduce(function(F,V,j){return F+(V?V.count:0)},0),R=new Float64Array(2*O),U=new Uint8Array(4*O),z=new Float32Array(4*O);y.forEach(function(F,V){if(F){var j=F.positions,te=F.count,J=F.offset,K=F.color,Z=F.errors;te&&(U.set(K,4*J),z.set(Z,4*J),R.set(j,2*J))}});var N=t(R);u(N);var W=i(R,N);d(W),c(U),m(z)}}}function w(){u.destroy(),d.destroy(),c.destroy(),m.destroy(),f.destroy()}};var r=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},13472:function(ee,D,e){var M=e(72160),k=e(76752),a=e(50896),T=e(55616),b=e(47520),g=e(28912),s=e(71152),t=e(37816),i=t.float32,r=t.fract32,n=e(60463),o=e(51160),l=e(10272);function u(d,c){if(!(this instanceof u))return new u(d,c);if(typeof d=="function"?(c||(c={}),c.regl=d):c=d,c.length&&(c.positions=c),!(d=c.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=d._gl,this.regl=d,this.passes=[],this.shaders=u.shaders.has(d)?u.shaders.get(d):u.shaders.set(d,u.createShaders(d)).get(d),this.update(c)}ee.exports=u,u.dashMult=2,u.maxPatternLength=256,u.precisionThreshold=3e6,u.maxPoints=1e4,u.maxLines=2048,u.shaders=new n,u.createShaders=function(d){var c,m=d.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),f={primitive:"triangle strip",instances:d.prop("count"),count:4,offset:0,uniforms:{miterMode:function(v,y){return y.join==="round"?2:1},miterLimit:d.prop("miterLimit"),scale:d.prop("scale"),scaleFract:d.prop("scaleFract"),translateFract:d.prop("translateFract"),translate:d.prop("translate"),thickness:d.prop("thickness"),dashTexture:d.prop("dashTexture"),opacity:d.prop("opacity"),pixelRatio:d.context("pixelRatio"),id:d.prop("id"),dashLength:d.prop("dashLength"),viewport:function(v,y){return[y.viewport.x,y.viewport.y,v.viewportWidth,v.viewportHeight]},depth:d.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(v,y){return!y.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:d.prop("viewport")},viewport:d.prop("viewport")},p=d(a({vert:`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:m,divisor:0,stride:8,offset:0},lineTop:{buffer:m,divisor:0,stride:8,offset:4},aCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:d.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:d.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:d.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},f));try{c=d(a({cull:{enable:!0,face:"back"},vert:`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:m,divisor:0,stride:8,offset:0},lineTop:{buffer:m,divisor:0,stride:8,offset:4},aColor:{buffer:d.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:d.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},f))}catch{c=p}return{fill:d({primitive:"triangle",elements:function(v,y){return y.triangles},offset:0,vert:`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,frag:`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,uniforms:{scale:d.prop("scale"),color:d.prop("fill"),scaleFract:d.prop("scaleFract"),translateFract:d.prop("translateFract"),translate:d.prop("translate"),opacity:d.prop("opacity"),pixelRatio:d.context("pixelRatio"),id:d.prop("id"),viewport:function(v,y){return[y.viewport.x,y.viewport.y,v.viewportWidth,v.viewportHeight]}},attributes:{position:{buffer:d.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:d.prop("positionFractBuffer"),stride:8,offset:8}},blend:f.blend,depth:{enable:!1},scissor:f.scissor,stencil:f.stencil,viewport:f.viewport}),rect:p,miter:c}},u.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},u.prototype.render=function(){for(var d,c=[],m=arguments.length;m--;)c[m]=arguments[m];c.length&&(d=this).update.apply(d,c),this.draw()},u.prototype.draw=function(){for(var d=this,c=[],m=arguments.length;m--;)c[m]=arguments[m];return(c.length?c:this.passes).forEach(function(f,p){var v;if(f&&Array.isArray(f))return(v=d).draw.apply(v,f);typeof f=="number"&&(f=d.passes[f]),f&&f.count>1&&f.opacity&&(d.regl._refresh(),f.fill&&f.triangles&&f.triangles.length>2&&d.shaders.fill(f),f.thickness&&(f.scale[0]*f.viewport.width>u.precisionThreshold||f.scale[1]*f.viewport.height>u.precisionThreshold||f.join==="rect"||!f.join&&(f.thickness<=2||f.count>=u.maxPoints)?d.shaders.rect(f):d.shaders.miter(f)))}),this},u.prototype.update=function(d){var c=this;if(d){d.length!=null?typeof d[0]=="number"&&(d=[{positions:d}]):Array.isArray(d)||(d=[d]);var m=this.regl,f=this.gl;if(d.forEach(function(_,h){var S=c.passes[h];if(_!==void 0)if(_!==null){if(typeof _[0]=="number"&&(_={positions:_}),_=T(_,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),S||(c.passes[h]=S={id:h,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:m.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:m.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},_=a({},u.defaults,_)),_.thickness!=null&&(S.thickness=parseFloat(_.thickness)),_.opacity!=null&&(S.opacity=parseFloat(_.opacity)),_.miterLimit!=null&&(S.miterLimit=parseFloat(_.miterLimit)),_.overlay!=null&&(S.overlay=!!_.overlay,h<u.maxLines&&(S.depth=2*(u.maxLines-1-h%u.maxLines)/u.maxLines-1)),_.join!=null&&(S.join=_.join),_.hole!=null&&(S.hole=_.hole),_.fill!=null&&(S.fill=_.fill?M(_.fill,"uint8"):null),_.viewport!=null&&(S.viewport=o(_.viewport)),S.viewport||(S.viewport=o([f.drawingBufferWidth,f.drawingBufferHeight])),_.close!=null&&(S.close=_.close),_.positions===null&&(_.positions=[]),_.positions){var w,E;if(_.positions.x&&_.positions.y){var C=_.positions.x,P=_.positions.y;E=S.count=Math.max(C.length,P.length),w=new Float64Array(2*E);for(var O=0;O<E;O++)w[2*O]=C[O],w[2*O+1]=P[O]}else w=b(_.positions,"float64"),E=S.count=Math.floor(w.length/2);var R=S.bounds=k(w,2);if(S.fill){for(var U=[],z={},N=0,W=0,F=0,V=S.count;W<V;W++){var j=w[2*W],te=w[2*W+1];isNaN(j)||isNaN(te)||j==null||te==null?(j=w[2*N],te=w[2*N+1],z[W]=N):N=W,U[F++]=j,U[F++]=te}if(_.splitNull){S.count-1 in z||(z[S.count]=S.count-1);var J=Object.keys(z).map(Number).sort(function(mt,gt){return mt-gt}),K=[],Z=0,X=S.hole!=null?S.hole[0]:null;if(X!=null){var Q=l(J,function(mt){return mt>=X});(J=J.slice(0,Q)).push(X)}for(var re=function(mt){var gt=U.slice(2*Z,2*J[mt]).concat(X?U.slice(2*X):[]),et=(S.hole||[]).map(function(_t){return _t-X+(J[mt]-Z)}),$e=g(gt,et);$e=$e.map(function(_t){return _t+Z+(_t+Z<J[mt]?0:X-J[mt])}),K.push.apply(K,$e),Z=J[mt]+1},ae=0;ae<J.length;ae++)re(ae);for(var ie=0,le=K.length;ie<le;ie++)z[K[ie]]!=null&&(K[ie]=z[K[ie]]);S.triangles=K}else{for(var pe=g(U,S.hole||[]),de=0,ve=pe.length;de<ve;de++)z[pe[de]]!=null&&(pe[de]=z[pe[de]]);S.triangles=pe}}var be=new Float64Array(w);s(be,2,R);var me=new Float64Array(2*E+6);S.close?w[0]===w[2*E-2]&&w[1]===w[2*E-1]?(me[0]=be[2*E-4],me[1]=be[2*E-3]):(me[0]=be[2*E-2],me[1]=be[2*E-1]):(me[0]=be[0],me[1]=be[1]),me.set(be,2),S.close?w[0]===w[2*E-2]&&w[1]===w[2*E-1]?(me[2*E+2]=be[2],me[2*E+3]=be[3],S.count-=1):(me[2*E+2]=be[0],me[2*E+3]=be[1],me[2*E+4]=be[2],me[2*E+5]=be[3]):(me[2*E+2]=be[2*E-2],me[2*E+3]=be[2*E-1],me[2*E+4]=be[2*E-2],me[2*E+5]=be[2*E-1]);var ge=i(me);S.positionBuffer(ge);var ke=r(me,ge);S.positionFractBuffer(ke)}if(_.range?S.range=_.range:S.range||(S.range=S.bounds),(_.range||_.positions)&&S.count){var we=S.bounds,ue=we[2]-we[0],oe=we[3]-we[1],he=S.range[2]-S.range[0],Ee=S.range[3]-S.range[1];S.scale=[ue/he,oe/Ee],S.translate=[-S.range[0]/he+we[0]/he||0,-S.range[1]/Ee+we[1]/Ee||0],S.scaleFract=r(S.scale),S.translateFract=r(S.translate)}if(_.dashes){var Te,Me=0;if(!_.dashes||_.dashes.length<2)Me=1,Te=new Uint8Array([255,255,255,255,255,255,255,255]);else{Me=0;for(var Se=0;Se<_.dashes.length;++Se)Me+=_.dashes[Se];Te=new Uint8Array(Me*u.dashMult);for(var ze=0,fe=255,xe=0;xe<2;xe++)for(var _e=0;_e<_.dashes.length;++_e){for(var Oe=0,De=_.dashes[_e]*u.dashMult*.5;Oe<De;++Oe)Te[ze++]=fe;fe^=255}}S.dashLength=Me,S.dashTexture({channels:1,data:Te,width:Te.length,height:1,mag:"linear",min:"linear"},0,0)}if(_.color){var Pe=S.count,Ue=_.color;Ue||(Ue="transparent");var Ve=new Uint8Array(4*Pe+4);if(Array.isArray(Ue)&&typeof Ue[0]!="number"){for(var Xe=0;Xe<Pe;Xe++){var it=M(Ue[Xe],"uint8");Ve.set(it,4*Xe)}Ve.set(M(Ue[0],"uint8"),4*Pe)}else for(var tt=M(Ue,"uint8"),pt=0;pt<Pe+1;pt++)Ve.set(tt,4*pt);S.colorBuffer({usage:"dynamic",type:"uint8",data:Ve})}}else c.passes[h]=null}),d.length<this.passes.length){for(var p=d.length;p<this.passes.length;p++){var v=this.passes[p];v&&(v.colorBuffer.destroy(),v.positionBuffer.destroy(),v.dashTexture.destroy())}this.passes.length=d.length}for(var y=[],x=0;x<this.passes.length;x++)this.passes[x]!==null&&y.push(this.passes[x]);return this.passes=y,this}},u.prototype.destroy=function(){return this.passes.forEach(function(d){d.colorBuffer.destroy(),d.positionBuffer.destroy(),d.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(ee,D,e){function M(p,v){return function(y){if(Array.isArray(y))return y}(p)||function(y,x){var _=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(_!=null){var h,S,w,E,C=[],P=!0,O=!1;try{if(w=(_=_.call(y)).next,x===0){if(Object(_)!==_)return;P=!1}else for(;!(P=(h=w.call(_)).done)&&(C.push(h.value),C.length!==x);P=!0);}catch(R){O=!0,S=R}finally{try{if(!P&&_.return!=null&&(E=_.return(),Object(E)!==E))return}finally{if(O)throw S}}return C}}(p,v)||k(p,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(p,v){if(p){if(typeof p=="string")return a(p,v);var y=Object.prototype.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?a(p,v):void 0}}function a(p,v){(v==null||v>p.length)&&(v=p.length);for(var y=0,x=new Array(v);y<v;y++)x[y]=p[y];return x}var T=e(72160),b=e(76752),g=e(3808),s=e(3108),t=e(50896),i=e(26444),r=e(55616),n=e(45223),o=e(47520),l=e(96604),u=e(37816),d=e(51160),c=m;function m(p,v){var y=this;if(!(this instanceof m))return new m(p,v);typeof p=="function"?(v||(v={}),v.regl=p):(v=p,p=null),v&&v.length&&(v.positions=v);var x,_=(p=v.regl)._gl,h=[];this.tooManyColors=l,x=p.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:p,gl:_,groups:[],markerCache:[null],markerTextures:[null],palette:h,paletteIds:{},paletteTexture:x,maxColors:255,maxSize:100,canvas:_.canvas}),this.update(v);var S={uniforms:{constPointSize:!!v.constPointSize,opacity:p.prop("opacity"),paletteSize:function(C,P){return[y.tooManyColors?0:255,x.height]},pixelRatio:p.context("pixelRatio"),scale:p.prop("scale"),scaleFract:p.prop("scaleFract"),translate:p.prop("translate"),translateFract:p.prop("translateFract"),markerTexture:p.prop("markerTexture"),paletteTexture:x},attributes:{x:function(C,P){return P.xAttr||{buffer:P.positionBuffer,stride:8,offset:0}},y:function(C,P){return P.yAttr||{buffer:P.positionBuffer,stride:8,offset:4}},xFract:function(C,P){return P.xAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:0}},yFract:function(C,P){return P.yAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:4}},size:function(C,P){return P.size.length?{buffer:P.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*P.size/y.maxSize)]}},borderSize:function(C,P){return P.borderSize.length?{buffer:P.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*P.borderSize/y.maxSize)]}},colorId:function(C,P){return P.color.length?{buffer:P.colorBuffer,stride:y.tooManyColors?8:4,offset:0}:{constant:y.tooManyColors?h.slice(4*P.color,4*P.color+4):[P.color]}},borderColorId:function(C,P){return P.borderColor.length?{buffer:P.colorBuffer,stride:y.tooManyColors?8:4,offset:y.tooManyColors?4:2}:{constant:y.tooManyColors?h.slice(4*P.borderColor,4*P.borderColor+4):[P.borderColor]}},isActive:function(C,P){return P.activation===!0?{constant:[1]}:P.activation?P.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:p.prop("viewport")},viewport:p.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:p.prop("elements"),count:p.prop("count"),offset:p.prop("offset"),primitive:"points"},w=t({},S);w.frag=i([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),w.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=p(w);var E=t({},S);E.frag=i([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),E.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),l&&(E.frag=E.frag.replace("smoothstep","smoothStep"),w.frag=w.frag.replace("smoothstep","smoothStep")),this.drawCircle=p(E)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var p=this,v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];var _=this.groups;if(y.length===1&&Array.isArray(y[0])&&(y[0][0]===null||Array.isArray(y[0][0]))&&(y=y[0]),this.regl._refresh(),y.length)for(var h=0;h<y.length;h++)this.drawItem(h,y[h]);else _.forEach(function(S,w){p.drawItem(w)});return this},m.prototype.drawItem=function(p,v){var y,x=this.groups,_=x[p];if(typeof v=="number"&&(p=v,_=x[v],v=null),_&&_.count&&_.opacity){_.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,_,v));for(var h=[],S=1;S<_.activation.length;S++)_.activation[S]&&(_.activation[S]===!0||_.activation[S].data.length)&&h.push.apply(h,function(w){if(Array.isArray(w))return a(w)}(y=this.getMarkerDrawOptions(S,_,v))||function(w){if(typeof Symbol<"u"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}(y)||k(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());h.length&&this.drawMarker(h)}},m.prototype.getMarkerDrawOptions=function(p,v,y){var x=v.range,_=v.tree,h=v.viewport,S=v.activation,w=v.selectionBuffer,E=v.count;if(this.regl,!_)return y?[t({},v,{markerTexture:this.markerTextures[p],activation:S[p],count:y.length,elements:y,offset:0})]:[t({},v,{markerTexture:this.markerTextures[p],activation:S[p],offset:0})];var C=[],P=_.range(x,{lod:!0,px:[(x[2]-x[0])/h.width,(x[3]-x[1])/h.height]});if(y){for(var O=S[p].data,R=new Uint8Array(E),U=0;U<y.length;U++){var z=y[U];R[z]=O?O[z]:1}w.subdata(R)}for(var N=P.length;N--;){var W=M(P[N],2),F=W[0],V=W[1];C.push(t({},v,{markerTexture:this.markerTextures[p],activation:y?w:S[p],offset:F,count:V-F}))}return C},m.prototype.update=function(){for(var p=this,v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];if(y.length){y.length===1&&Array.isArray(y[0])&&(y=y[0]);var _=this.groups,h=this.gl,S=this.regl,w=this.maxSize,E=this.maxColors,C=this.palette;this.groups=_=y.map(function(P,O){var R=_[O];if(P===void 0)return R;P===null?P={positions:null}:typeof P=="function"?P={ondraw:P}:typeof P[0]=="number"&&(P={positions:P}),(P=r(P,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(P.positions=[]),P.tooManyColors!=null&&(p.tooManyColors=P.tooManyColors),R||(_[O]=R={id:O,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:S.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},P=t({},m.defaults,P)),P.positions&&!("marker"in P)&&(P.marker=R.marker,delete R.marker),P.marker&&!("positions"in P)&&(P.positions=R.positions,delete R.positions);var U=0,z=0;if(n(R,P,[{snap:!0,size:function(ve,be){return ve==null&&(ve=m.defaults.size),U+=ve&&ve.length?1:0,ve},borderSize:function(ve,be){return ve==null&&(ve=m.defaults.borderSize),U+=ve&&ve.length?1:0,ve},opacity:parseFloat,color:function(ve,be){return ve==null&&(ve=m.defaults.color),ve=p.updateColor(ve),z++,ve},borderColor:function(ve,be){return ve==null&&(ve=m.defaults.borderColor),ve=p.updateColor(ve),z++,ve},bounds:function(ve,be,me){return"range"in me||(me.range=null),ve},positions:function(ve,be,me){var ge=be.snap,ke=be.positionBuffer,we=be.positionFractBuffer,ue=be.selectionBuffer;if(ve.x||ve.y)return ve.x.length?be.xAttr={buffer:S.buffer(ve.x),offset:0,stride:4,count:ve.x.length}:be.xAttr={buffer:ve.x.buffer,offset:4*ve.x.offset||0,stride:4*(ve.x.stride||1),count:ve.x.count},ve.y.length?be.yAttr={buffer:S.buffer(ve.y),offset:0,stride:4,count:ve.y.length}:be.yAttr={buffer:ve.y.buffer,offset:4*ve.y.offset||0,stride:4*(ve.y.stride||1),count:ve.y.count},be.count=Math.max(be.xAttr.count,be.yAttr.count),ve;ve=o(ve,"float64");var oe=be.count=Math.floor(ve.length/2),he=be.bounds=oe?b(ve,2):null;if(me.range||be.range||(delete be.range,me.range=he),me.marker||be.marker||(delete be.marker,me.marker=null),ge&&(ge===!0||oe>ge)?be.tree=s(ve,{bounds:he}):ge&&ge.length&&(be.tree=ge),be.tree){var Ee={primitive:"points",usage:"static",data:be.tree,type:"uint32"};be.elements?be.elements(Ee):be.elements=S.elements(Ee)}var Te=u.float32(ve);return ke({data:Te,usage:"dynamic"}),we({data:u.fract32(ve,Te),usage:"dynamic"}),ue({data:new Uint8Array(oe),type:"uint8",usage:"stream"}),ve}},{marker:function(ve,be,me){var ge=be.activation;if(ge.forEach(function(Te){return Te&&Te.destroy&&Te.destroy()}),ge.length=0,ve&&typeof ve[0]!="number"){for(var ke=[],we=0,ue=Math.min(ve.length,be.count);we<ue;we++){var oe=p.addMarker(ve[we]);ke[oe]||(ke[oe]=new Uint8Array(be.count)),ke[oe][we]=1}for(var he=0;he<ke.length;he++)if(ke[he]){var Ee={data:ke[he],type:"uint8",usage:"static"};ge[he]?ge[he](Ee):ge[he]=S.buffer(Ee),ge[he].data=ke[he]}}else ge[p.addMarker(ve)]=!0;return ve},range:function(ve,be,me){var ge=be.bounds;if(ge)return ve||(ve=ge),be.scale=[1/(ve[2]-ve[0]),1/(ve[3]-ve[1])],be.translate=[-ve[0],-ve[1]],be.scaleFract=u.fract(be.scale),be.translateFract=u.fract(be.translate),ve},viewport:function(ve){return d(ve||[h.drawingBufferWidth,h.drawingBufferHeight])}}]),U){var N=R,W=N.count,F=N.size,V=N.borderSize,j=N.sizeBuffer,te=new Uint8Array(2*W);if(F.length||V.length)for(var J=0;J<W;J++)te[2*J]=Math.round(255*(F[J]==null?F:F[J])/w),te[2*J+1]=Math.round(255*(V[J]==null?V:V[J])/w);j({data:te,usage:"dynamic"})}if(z){var K,Z=R,X=Z.count,Q=Z.color,re=Z.borderColor,ae=Z.colorBuffer;if(p.tooManyColors){if(Q.length||re.length){K=new Uint8Array(8*X);for(var ie=0;ie<X;ie++){var le=Q[ie];K[8*ie]=C[4*le],K[8*ie+1]=C[4*le+1],K[8*ie+2]=C[4*le+2],K[8*ie+3]=C[4*le+3];var pe=re[ie];K[8*ie+4]=C[4*pe],K[8*ie+5]=C[4*pe+1],K[8*ie+6]=C[4*pe+2],K[8*ie+7]=C[4*pe+3]}}}else if(Q.length||re.length){K=new Uint8Array(4*X+2);for(var de=0;de<X;de++)Q[de]!=null&&(K[4*de]=Q[de]%E,K[4*de+1]=Math.floor(Q[de]/E)),re[de]!=null&&(K[4*de+2]=re[de]%E,K[4*de+3]=Math.floor(re[de]/E))}ae({data:K||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return R})}},m.prototype.addMarker=function(p){var v,y=this.markerTextures,x=this.regl,_=this.markerCache,h=p==null?0:_.indexOf(p);if(h>=0)return h;if(p instanceof Uint8Array||p instanceof Uint8ClampedArray)v=p;else{v=new Uint8Array(p.length);for(var S=0,w=p.length;S<w;S++)v[S]=255*p[S]}var E=Math.floor(Math.sqrt(v.length));return h=y.length,_.push(p),y.push(x.texture({channels:1,data:v,radius:E,mag:"linear",min:"linear"})),h},m.prototype.updateColor=function(p){var v=this.paletteIds,y=this.palette,x=this.maxColors;Array.isArray(p)||(p=[p]);var _=[];if(typeof p[0]=="number"){var h=[];if(Array.isArray(p))for(var S=0;S<p.length;S+=4)h.push(p.slice(S,S+4));else for(var w=0;w<p.length;w+=4)h.push(p.subarray(w,w+4));p=h}for(var E=0;E<p.length;E++){var C=p[E];C=T(C,"uint8");var P=g(C,!1);if(v[P]==null){var O=y.length;v[P]=Math.floor(O/4),y[O]=C[0],y[O+1]=C[1],y[O+2]=C[2],y[O+3]=C[3]}_[E]=v[P]}return!this.tooManyColors&&y.length>4*x&&(this.tooManyColors=!0),this.updatePalette(y),_.length===1?_[0]:_},m.prototype.updatePalette=function(p){if(!this.tooManyColors){var v=this.maxColors,y=this.paletteTexture,x=Math.ceil(.25*p.length/v);if(x>1)for(var _=.25*(p=p.slice()).length%v;_<x*v;_++)p.push(0,0,0,0);y.height<x&&y.resize(v,x),y.subimage({width:Math.min(.25*p.length,v),height:x,data:p},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(p){p.sizeBuffer.destroy(),p.positionBuffer.destroy(),p.positionFractBuffer.destroy(),p.colorBuffer.destroy(),p.activation.forEach(function(v){return v&&v.destroy&&v.destroy()}),p.selectionBuffer.destroy(),p.elements&&p.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(p){return p&&p.destroy&&p.destroy()}),this};var f=e(50896);ee.exports=function(p,v){var y=new c(p,v),x=y.render.bind(y);return f(x,{render:x,update:y.update.bind(y),draw:y.draw.bind(y),destroy:y.destroy.bind(y),regl:y.regl,gl:y.gl,canvas:y.gl.canvas,groups:y.groups,markers:y.markerCache,palette:y.palette}),x}},55795:function(ee,D,e){var M=e(38540),k=e(55616),a=e(76752),T=e(3951),b=e(67752),g=e(51160),s=e(47520);function t(o,l){if(!(this instanceof t))return new t(o);this.traces=[],this.passes={},this.regl=o,this.scatter=M(o),this.canvas=this.scatter.canvas}function i(o,l,u){return(o.id!=null?o.id:o)<<16|(255&l)<<8|255&u}function r(o,l,u){var d,c,m,f,p=o[l],v=o[u];return p.length>2?(p[0],p[2],d=p[1],c=p[3]):p.length?(d=p[0],c=p[1]):(p.x,d=p.y,p.x,p.width,c=p.y+p.height),v.length>2?(m=v[0],f=v[2],v[1],v[3]):v.length?(m=v[0],f=v[1]):(m=v.x,v.y,f=v.x+v.width,v.y,v.height),[m,d,f,c]}function n(o){if(typeof o=="number")return[o,o,o,o];if(o.length===2)return[o[0],o[1],o[0],o[1]];var l=g(o);return[l.x,l.y,l.x+l.width,l.y+l.height]}ee.exports=t,t.prototype.render=function(){for(var o,l=this,u=[],d=arguments.length;d--;)u[d]=arguments[d];return u.length&&(o=this).update.apply(o,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=T(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,T(function(){l.dirty=!1})),this)},t.prototype.update=function(){for(var o,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var d=0;d<l.length;d++)this.updateItem(d,l[d]);this.traces=this.traces.filter(Boolean);for(var c=[],m=0,f=0;f<this.traces.length;f++){for(var p=this.traces[f],v=this.traces[f].passes,y=0;y<v.length;y++)c.push(this.passes[v[y]]);p.passOffset=m,m+=p.passes.length}return(o=this.scatter).update.apply(o,c),this}},t.prototype.updateItem=function(o,l){var u=this.regl;if(l===null)return this.traces[o]=null,this;if(!l)return this;var d,c=k(l,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),m=this.traces[o]||(this.traces[o]={id:o,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:g([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(m.color=c.color),c.size!=null&&(m.size=c.size),c.marker!=null&&(m.marker=c.marker),c.borderColor!=null&&(m.borderColor=c.borderColor),c.borderSize!=null&&(m.borderSize=c.borderSize),c.opacity!=null&&(m.opacity=c.opacity),c.viewport&&(m.viewport=g(c.viewport)),c.diagonal!=null&&(m.diagonal=c.diagonal),c.upper!=null&&(m.upper=c.upper),c.lower!=null&&(m.lower=c.lower),c.data){m.buffer(s(c.data)),m.columns=c.data.length,m.count=c.data[0].length,m.bounds=[];for(var f=0;f<m.columns;f++)m.bounds[f]=a(c.data[f],1)}c.range&&(m.range=c.range,d=m.range&&typeof m.range[0]!="number"),c.domain&&(m.domain=c.domain);var p=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===m.columns&&typeof c.padding[c.padding.length-1]=="number"?(m.padding=c.padding.map(n),p=!0):m.padding=n(c.padding));var v=m.columns,y=m.count,x=m.viewport.width,_=m.viewport.height,h=m.viewport.x,S=m.viewport.y,w=x/v,E=_/v;m.passes=[];for(var C=0;C<v;C++)for(var P=0;P<v;P++)if((m.diagonal||P!==C)&&(m.upper||!(C>P))&&(m.lower||!(C<P))){var O=i(m.id,C,P),R=this.passes[O]||(this.passes[O]={});if(c.data&&(c.transpose?R.positions={x:{buffer:m.buffer,offset:P,count:y,stride:v},y:{buffer:m.buffer,offset:C,count:y,stride:v}}:R.positions={x:{buffer:m.buffer,offset:P*y,count:y},y:{buffer:m.buffer,offset:C*y,count:y}},R.bounds=r(m.bounds,C,P)),c.domain||c.viewport||c.data){var U=p?r(m.padding,C,P):m.padding;if(m.domain){var z=r(m.domain,C,P),N=z[0],W=z[1],F=z[2],V=z[3];R.viewport=[h+N*x+U[0],S+W*_+U[1],h+F*x-U[2],S+V*_-U[3]]}else R.viewport=[h+P*w+w*U[0],S+C*E+E*U[1],h+(P+1)*w-w*U[2],S+(C+1)*E-E*U[3]]}c.color&&(R.color=m.color),c.size&&(R.size=m.size),c.marker&&(R.marker=m.marker),c.borderSize&&(R.borderSize=m.borderSize),c.borderColor&&(R.borderColor=m.borderColor),c.opacity&&(R.opacity=m.opacity),c.range&&(R.range=d?r(m.range,C,P):m.range||R.bounds),m.passes.push(O)}return this},t.prototype.draw=function(){for(var o,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var d=[],c=0;c<l.length;c++)if(typeof l[c]=="number"){var m=this.traces[l[c]],f=m.passes,p=m.passOffset;d.push.apply(d,b(p,p+f.length))}else if(l[c].length){var v=l[c],y=this.traces[c],x=y.passes,_=y.passOffset;x=x.map(function(h,S){d[_+S]=v})}(o=this.scatter).draw.apply(o,d)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(o){o.buffer&&o.buffer.destroy&&o.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},28624:function(ee){ee.exports=function(){function D(Be,Ge){this.id=re++,this.type=Be,this.data=Ge}function e(Be){if(Be.length===0)return[];var Ge=Be.charAt(0),at=Be.charAt(Be.length-1);if(1<Be.length&&Ge===at&&(Ge==='"'||Ge==="'"))return['"'+Be.substr(1,Be.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Ge=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Be))return e(Be.substr(0,Ge.index)).concat(e(Ge[1])).concat(e(Be.substr(Ge.index+Ge[0].length)));if((Ge=Be.split(".")).length===1)return['"'+Be.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Be=[],at=0;at<Ge.length;++at)Be=Be.concat(e(Ge[at]));return Be}function M(Be){return"["+e(Be).join("][")+"]"}function k(Be){return typeof Be=="string"?Be.split():Be}function a(Be){return typeof Be=="string"?document.querySelector(Be):Be}function T(Be){var Ge,at,nt,Re,Fe=Be||{};Be={};var rt=[],Ye=[],ct=typeof window>"u"?1:window.devicePixelRatio,ht=!1,dt={},ut=function(xt){},kt=function(){};if(typeof Fe=="string"?Ge=document.querySelector(Fe):typeof Fe=="object"&&(typeof Fe.nodeName=="string"&&typeof Fe.appendChild=="function"&&typeof Fe.getBoundingClientRect=="function"?Ge=Fe:typeof Fe.drawArrays=="function"||typeof Fe.drawElements=="function"?nt=(Re=Fe).canvas:("gl"in Fe?Re=Fe.gl:"canvas"in Fe?nt=a(Fe.canvas):"container"in Fe&&(at=a(Fe.container)),"attributes"in Fe&&(Be=Fe.attributes),"extensions"in Fe&&(rt=k(Fe.extensions)),"optionalExtensions"in Fe&&(Ye=k(Fe.optionalExtensions)),"onDone"in Fe&&(ut=Fe.onDone),"profile"in Fe&&(ht=!!Fe.profile),"pixelRatio"in Fe&&(ct=+Fe.pixelRatio),"cachedCode"in Fe&&(dt=Fe.cachedCode))),Ge&&(Ge.nodeName.toLowerCase()==="canvas"?nt=Ge:at=Ge),!Re){if(!nt){if(!(Ge=function(xt,vt,Mt){function St(){var en=window.innerWidth,Nt=window.innerHeight;xt!==document.body&&(en=(Nt=Gt.getBoundingClientRect()).right-Nt.left,Nt=Nt.bottom-Nt.top),Gt.width=Mt*en,Gt.height=Mt*Nt}var It,Gt=document.createElement("canvas");return Q(Gt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),xt.appendChild(Gt),xt===document.body&&(Gt.style.position="absolute",Q(xt.style,{margin:0,padding:0})),xt!==document.body&&typeof ResizeObserver=="function"?(It=new ResizeObserver(function(){setTimeout(St)})).observe(xt):window.addEventListener("resize",St,!1),St(),{canvas:Gt,onDestroy:function(){It?It.disconnect():window.removeEventListener("resize",St),xt.removeChild(Gt)}}}(at||document.body,0,ct)))return null;nt=Ge.canvas,kt=Ge.onDestroy}Be.premultipliedAlpha===void 0&&(Be.premultipliedAlpha=!0),Re=function(xt,vt){function Mt(St){try{return xt.getContext(St,vt)}catch{return null}}return Mt("webgl")||Mt("experimental-webgl")||Mt("webgl-experimental")}(nt,Be)}return Re?{gl:Re,canvas:nt,container:at,extensions:rt,optionalExtensions:Ye,pixelRatio:ct,profile:ht,cachedCode:dt,onDone:ut,onDestroy:kt}:(kt(),ut("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function b(Be,Ge){for(var at=Array(Be),nt=0;nt<Be;++nt)at[nt]=Ge(nt);return at}function g(Be){var Ge,at;return Ge=(65535<Be)<<4,Ge|=at=(255<(Be>>>=Ge))<<3,(Ge|=at=(15<(Be>>>=at))<<2)|(at=(3<(Be>>>=at))<<1)|Be>>>at>>1}function s(){function Be(nt){e:{for(var Re=16;268435456>=Re;Re*=16)if(nt<=Re){nt=Re;break e}nt=0}return 0<(Re=at[g(nt)>>2]).length?Re.pop():new ArrayBuffer(nt)}function Ge(nt){at[g(nt.byteLength)>>2].push(nt)}var at=b(8,function(){return[]});return{alloc:Be,free:Ge,allocType:function(nt,Re){var Fe=null;switch(nt){case 5120:Fe=new Int8Array(Be(Re),0,Re);break;case 5121:Fe=new Uint8Array(Be(Re),0,Re);break;case 5122:Fe=new Int16Array(Be(2*Re),0,Re);break;case 5123:Fe=new Uint16Array(Be(2*Re),0,Re);break;case 5124:Fe=new Int32Array(Be(4*Re),0,Re);break;case 5125:Fe=new Uint32Array(Be(4*Re),0,Re);break;case 5126:Fe=new Float32Array(Be(4*Re),0,Re);break;default:return null}return Fe.length!==Re?Fe.subarray(0,Re):Fe},freeType:function(nt){Ge(nt.buffer)}}}function t(Be){return!!Be&&typeof Be=="object"&&Array.isArray(Be.shape)&&Array.isArray(Be.stride)&&typeof Be.offset=="number"&&Be.shape.length===Be.stride.length&&(Array.isArray(Be.data)||ve(Be.data))}function i(Be,Ge,at,nt,Re,Fe){for(var rt=0;rt<Ge;++rt)for(var Ye=Be[rt],ct=0;ct<at;++ct)for(var ht=Ye[ct],dt=0;dt<nt;++dt)Re[Fe++]=ht[dt]}function r(Be,Ge,at,nt,Re){for(var Fe=1,rt=at+1;rt<Ge.length;++rt)Fe*=Ge[rt];var Ye=Ge[at];if(Ge.length-at==4){var ct=Ge[at+1],ht=Ge[at+2];for(Ge=Ge[at+3],rt=0;rt<Ye;++rt)i(Be[rt],ct,ht,Ge,nt,Re),Re+=Fe}else for(rt=0;rt<Ye;++rt)r(Be[rt],Ge,at+1,nt,Re),Re+=Fe}function n(Be){return 0|ge[Object.prototype.toString.call(Be)]}function o(Be,Ge){for(var at=0;at<Ge.length;++at)Be[at]=Ge[at]}function l(Be,Ge,at,nt,Re,Fe,rt){for(var Ye=0,ct=0;ct<at;++ct)for(var ht=0;ht<nt;++ht)Be[Ye++]=Ge[Re*ct+Fe*ht+rt]}function u(Be,Ge,at,nt){function Re(ut){this.id=ct++,this.buffer=Be.createBuffer(),this.type=ut,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,at.profile&&(this.stats={size:0})}function Fe(ut,kt,xt){ut.byteLength=kt.byteLength,Be.bufferData(ut.type,kt,xt)}function rt(ut,kt,xt,vt,Mt,St){if(ut.usage=xt,Array.isArray(kt)){if(ut.dtype=vt||5126,0<kt.length)if(Array.isArray(kt[0])){Mt=oe(kt);for(var It=vt=1;It<Mt.length;++It)vt*=Mt[It];ut.dimension=vt,Fe(ut,kt=ue(kt,Mt,ut.dtype),xt),St?ut.persistentData=kt:pe.freeType(kt)}else typeof kt[0]=="number"?(ut.dimension=Mt,o(Mt=pe.allocType(ut.dtype,kt.length),kt),Fe(ut,Mt,xt),St?ut.persistentData=Mt:pe.freeType(Mt)):ve(kt[0])&&(ut.dimension=kt[0].length,ut.dtype=vt||n(kt[0])||5126,Fe(ut,kt=ue(kt,[kt.length,kt[0].length],ut.dtype),xt),St?ut.persistentData=kt:pe.freeType(kt))}else if(ve(kt))ut.dtype=vt||n(kt),ut.dimension=Mt,Fe(ut,kt,xt),St&&(ut.persistentData=new Uint8Array(new Uint8Array(kt.buffer)));else if(t(kt)){Mt=kt.shape;var Gt=kt.stride,en=(It=kt.offset,0),Nt=0,jt=0,Jt=0;Mt.length===1?(en=Mt[0],Nt=1,jt=Gt[0],Jt=0):Mt.length===2&&(en=Mt[0],Nt=Mt[1],jt=Gt[0],Jt=Gt[1]),ut.dtype=vt||n(kt.data)||5126,ut.dimension=Nt,l(Mt=pe.allocType(ut.dtype,en*Nt),kt.data,en,Nt,jt,Jt,It),Fe(ut,Mt,xt),St?ut.persistentData=Mt:pe.freeType(Mt)}else kt instanceof ArrayBuffer&&(ut.dtype=5121,ut.dimension=Mt,Fe(ut,kt,xt),St&&(ut.persistentData=new Uint8Array(new Uint8Array(kt))))}function Ye(ut){Ge.bufferCount--,nt(ut),Be.deleteBuffer(ut.buffer),ut.buffer=null,delete ht[ut.id]}var ct=0,ht={};Re.prototype.bind=function(){Be.bindBuffer(this.type,this.buffer)},Re.prototype.destroy=function(){Ye(this)};var dt=[];return at.profile&&(Ge.getTotalBufferSize=function(){var ut=0;return Object.keys(ht).forEach(function(kt){ut+=ht[kt].stats.size}),ut}),{create:function(ut,kt,xt,vt){function Mt(It){var Gt=35044,en=null,Nt=0,jt=0,Jt=1;return Array.isArray(It)||ve(It)||t(It)||It instanceof ArrayBuffer?en=It:typeof It=="number"?Nt=0|It:It&&("data"in It&&(en=It.data),"usage"in It&&(Gt=we[It.usage]),"type"in It&&(jt=ke[It.type]),"dimension"in It&&(Jt=0|It.dimension),"length"in It&&(Nt=0|It.length)),St.bind(),en?rt(St,en,Gt,jt,Jt,vt):(Nt&&Be.bufferData(St.type,Nt,Gt),St.dtype=jt||5121,St.usage=Gt,St.dimension=Jt,St.byteLength=Nt),at.profile&&(St.stats.size=St.byteLength*he[St.dtype]),Mt}Ge.bufferCount++;var St=new Re(kt);return ht[St.id]=St,xt||Mt(ut),Mt._reglType="buffer",Mt._buffer=St,Mt.subdata=function(It,Gt){var en,Nt=0|(Gt||0);if(St.bind(),ve(It)||It instanceof ArrayBuffer)Be.bufferSubData(St.type,Nt,It);else if(Array.isArray(It)){if(0<It.length)if(typeof It[0]=="number"){var jt=pe.allocType(St.dtype,It.length);o(jt,It),Be.bufferSubData(St.type,Nt,jt),pe.freeType(jt)}else(Array.isArray(It[0])||ve(It[0]))&&(en=oe(It),jt=ue(It,en,St.dtype),Be.bufferSubData(St.type,Nt,jt),pe.freeType(jt))}else if(t(It)){en=It.shape;var Jt=It.stride,An=jt=0,_n=0,un=0;en.length===1?(jt=en[0],An=1,_n=Jt[0],un=0):en.length===2&&(jt=en[0],An=en[1],_n=Jt[0],un=Jt[1]),en=Array.isArray(It.data)?St.dtype:n(It.data),l(en=pe.allocType(en,jt*An),It.data,jt,An,_n,un,It.offset),Be.bufferSubData(St.type,Nt,en),pe.freeType(en)}return Mt},at.profile&&(Mt.stats=St.stats),Mt.destroy=function(){Ye(St)},Mt},createStream:function(ut,kt){var xt=dt.pop();return xt||(xt=new Re(ut)),xt.bind(),rt(xt,kt,35040,0,1,!1),xt},destroyStream:function(ut){dt.push(ut)},clear:function(){be(ht).forEach(Ye),dt.forEach(Ye)},getBuffer:function(ut){return ut&&ut._buffer instanceof Re?ut._buffer:null},restore:function(){be(ht).forEach(function(ut){ut.buffer=Be.createBuffer(),Be.bindBuffer(ut.type,ut.buffer),Be.bufferData(ut.type,ut.persistentData||ut.byteLength,ut.usage)})},_initBuffer:rt}}function d(Be,Ge,at,nt){function Re(ut){this.id=ct++,Ye[this.id]=this,this.buffer=ut,this.primType=4,this.type=this.vertCount=0}function Fe(ut,kt,xt,vt,Mt,St,It){var Gt;if(ut.buffer.bind(),kt?((Gt=It)||ve(kt)&&(!t(kt)||ve(kt.data))||(Gt=Ge.oes_element_index_uint?5125:5123),at._initBuffer(ut.buffer,kt,xt,Gt,3)):(Be.bufferData(34963,St,xt),ut.buffer.dtype=Gt||5121,ut.buffer.usage=xt,ut.buffer.dimension=3,ut.buffer.byteLength=St),Gt=It,!It){switch(ut.buffer.dtype){case 5121:case 5120:Gt=5121;break;case 5123:case 5122:Gt=5123;break;case 5125:case 5124:Gt=5125}ut.buffer.dtype=Gt}ut.type=Gt,0>(kt=Mt)&&(kt=ut.buffer.byteLength,Gt===5123?kt>>=1:Gt===5125&&(kt>>=2)),ut.vertCount=kt,kt=vt,0>vt&&(kt=4,(vt=ut.buffer.dimension)===1&&(kt=0),vt===2&&(kt=1),vt===3&&(kt=4)),ut.primType=kt}function rt(ut){nt.elementsCount--,delete Ye[ut.id],ut.buffer.destroy(),ut.buffer=null}var Ye={},ct=0,ht={uint8:5121,uint16:5123};Ge.oes_element_index_uint&&(ht.uint32=5125),Re.prototype.bind=function(){this.buffer.bind()};var dt=[];return{create:function(ut,kt){function xt(St){if(St)if(typeof St=="number")vt(St),Mt.primType=4,Mt.vertCount=0|St,Mt.type=5121;else{var It=null,Gt=35044,en=-1,Nt=-1,jt=0,Jt=0;Array.isArray(St)||ve(St)||t(St)?It=St:("data"in St&&(It=St.data),"usage"in St&&(Gt=we[St.usage]),"primitive"in St&&(en=Ee[St.primitive]),"count"in St&&(Nt=0|St.count),"type"in St&&(Jt=ht[St.type]),"length"in St?jt=0|St.length:(jt=Nt,Jt===5123||Jt===5122?jt*=2:Jt!==5125&&Jt!==5124||(jt*=4))),Fe(Mt,It,Gt,en,Nt,jt,Jt)}else vt(),Mt.primType=4,Mt.vertCount=0,Mt.type=5121;return xt}var vt=at.create(null,34963,!0),Mt=new Re(vt._buffer);return nt.elementsCount++,xt(ut),xt._reglType="elements",xt._elements=Mt,xt.subdata=function(St,It){return vt.subdata(St,It),xt},xt.destroy=function(){rt(Mt)},xt},createStream:function(ut){var kt=dt.pop();return kt||(kt=new Re(at.create(null,34963,!0,!1)._buffer)),Fe(kt,ut,35040,-1,-1,0,0),kt},destroyStream:function(ut){dt.push(ut)},getElements:function(ut){return typeof ut=="function"&&ut._elements instanceof Re?ut._elements:null},clear:function(){be(Ye).forEach(rt)}}}function c(Be){for(var Ge=pe.allocType(5123,Be.length),at=0;at<Be.length;++at)if(isNaN(Be[at]))Ge[at]=65535;else if(Be[at]===1/0)Ge[at]=31744;else if(Be[at]===-1/0)Ge[at]=64512;else{Te[0]=Be[at];var nt=(Fe=Me[0])>>>31<<15,Re=(Fe<<1>>>24)-127,Fe=Fe>>13&1023;Ge[at]=-24>Re?nt:-14>Re?nt+(Fe+1024>>-14-Re):15<Re?nt+31744:nt+(Re+15<<10)+Fe}return Ge}function m(Be){return Array.isArray(Be)||ve(Be)}function f(Be){return"[object "+Be+"]"}function p(Be){return Array.isArray(Be)&&(Be.length===0||typeof Be[0]=="number")}function v(Be){return!(!Array.isArray(Be)||Be.length===0||!m(Be[0]))}function y(Be){return Object.prototype.toString.call(Be)}function x(Be){if(!Be)return!1;var Ge=y(Be);return 0<=Ve.indexOf(Ge)||p(Be)||v(Be)||t(Be)}function _(Be,Ge){Be.type===36193?(Be.data=c(Ge),pe.freeType(Ge)):Be.data=Ge}function h(Be,Ge,at,nt,Re,Fe){if(Be=it[Be]!==void 0?it[Be]:fe[Be]*Xe[Ge],Fe&&(Be*=6),Re){for(nt=0;1<=at;)nt+=Be*at*at,at/=2;return nt}return Be*at*nt}function S(Be,Ge,at,nt,Re,Fe,rt){function Ye(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function ct(qt,hn){qt.internalformat=hn.internalformat,qt.format=hn.format,qt.type=hn.type,qt.compressed=hn.compressed,qt.premultiplyAlpha=hn.premultiplyAlpha,qt.flipY=hn.flipY,qt.unpackAlignment=hn.unpackAlignment,qt.colorSpace=hn.colorSpace,qt.width=hn.width,qt.height=hn.height,qt.channels=hn.channels}function ht(qt,hn){if(typeof hn=="object"&&hn){"premultiplyAlpha"in hn&&(qt.premultiplyAlpha=hn.premultiplyAlpha),"flipY"in hn&&(qt.flipY=hn.flipY),"alignment"in hn&&(qt.unpackAlignment=hn.alignment),"colorSpace"in hn&&(qt.colorSpace=Cn[hn.colorSpace]),"type"in hn&&(qt.type=Sn[hn.type]);var Et=qt.width,Ht=qt.height,Kt=qt.channels,gn=!1;"shape"in hn?(Et=hn.shape[0],Ht=hn.shape[1],hn.shape.length===3&&(Kt=hn.shape[2],gn=!0)):("radius"in hn&&(Et=Ht=hn.radius),"width"in hn&&(Et=hn.width),"height"in hn&&(Ht=hn.height),"channels"in hn&&(Kt=hn.channels,gn=!0)),qt.width=0|Et,qt.height=0|Ht,qt.channels=0|Kt,Et=!1,"format"in hn&&(Et=hn.format,Ht=qt.internalformat=Nn[Et],qt.format=vn[Ht],Et in Sn&&!("type"in hn)&&(qt.type=Sn[Et]),Et in zn&&(qt.compressed=!0),Et=!0),!gn&&Et?qt.channels=fe[qt.format]:gn&&!Et&&qt.channels!==ze[qt.format]&&(qt.format=qt.internalformat=ze[qt.channels])}}function dt(qt){Be.pixelStorei(37440,qt.flipY),Be.pixelStorei(37441,qt.premultiplyAlpha),Be.pixelStorei(37443,qt.colorSpace),Be.pixelStorei(3317,qt.unpackAlignment)}function ut(){Ye.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function kt(qt,hn){var Et=null;if(x(hn)?Et=hn:hn&&(ht(qt,hn),"x"in hn&&(qt.xOffset=0|hn.x),"y"in hn&&(qt.yOffset=0|hn.y),x(hn.data)&&(Et=hn.data)),hn.copy){var Ht=Re.viewportWidth,Kt=Re.viewportHeight;qt.width=qt.width||Ht-qt.xOffset,qt.height=qt.height||Kt-qt.yOffset,qt.needsCopy=!0}else if(Et){if(ve(Et))qt.channels=qt.channels||4,qt.data=Et,"type"in hn||qt.type!==5121||(qt.type=0|ge[Object.prototype.toString.call(Et)]);else if(p(Et)){switch(qt.channels=qt.channels||4,Kt=(Ht=Et).length,qt.type){case 5121:case 5123:case 5125:case 5126:(Kt=pe.allocType(qt.type,Kt)).set(Ht),qt.data=Kt;break;case 36193:qt.data=c(Ht)}qt.alignment=1,qt.needsFree=!0}else if(t(Et)){Ht=Et.data,Array.isArray(Ht)||qt.type!==5121||(qt.type=0|ge[Object.prototype.toString.call(Ht)]),Kt=Et.shape;var gn,pn,yn,on,Zt=Et.stride;Kt.length===3?(yn=Kt[2],on=Zt[2]):on=yn=1,gn=Kt[0],pn=Kt[1],Kt=Zt[0],Zt=Zt[1],qt.alignment=1,qt.width=gn,qt.height=pn,qt.channels=yn,qt.format=qt.internalformat=ze[yn],qt.needsFree=!0,gn=on,Et=Et.offset,yn=qt.width,on=qt.height,pn=qt.channels;for(var Xt=pe.allocType(qt.type===36193?5126:qt.type,yn*on*pn),nn=0,ln=0;ln<on;++ln)for(var kn=0;kn<yn;++kn)for(var En=0;En<pn;++En)Xt[nn++]=Ht[Kt*kn+Zt*ln+gn*En+Et];_(qt,Xt)}else if(y(Et)===xe||y(Et)===_e||y(Et)===Oe)y(Et)===xe||y(Et)===_e?qt.element=Et:qt.element=Et.canvas,qt.width=qt.element.width,qt.height=qt.element.height,qt.channels=4;else if(y(Et)===De)qt.element=Et,qt.width=Et.width,qt.height=Et.height,qt.channels=4;else if(y(Et)===Pe)qt.element=Et,qt.width=Et.naturalWidth,qt.height=Et.naturalHeight,qt.channels=4;else if(y(Et)===Ue)qt.element=Et,qt.width=Et.videoWidth,qt.height=Et.videoHeight,qt.channels=4;else if(v(Et)){for(Ht=qt.width||Et[0].length,Kt=qt.height||Et.length,Zt=qt.channels,Zt=m(Et[0][0])?Zt||Et[0][0].length:Zt||1,gn=me.shape(Et),yn=1,on=0;on<gn.length;++on)yn*=gn[on];yn=pe.allocType(qt.type===36193?5126:qt.type,yn),me.flatten(Et,gn,"",yn),_(qt,yn),qt.alignment=1,qt.width=Ht,qt.height=Kt,qt.channels=Zt,qt.format=qt.internalformat=ze[Zt],qt.needsFree=!0}}else qt.width=qt.width||1,qt.height=qt.height||1,qt.channels=qt.channels||4}function xt(qt,hn,Et,Ht,Kt){var gn=qt.element,pn=qt.data,yn=qt.internalformat,on=qt.format,Zt=qt.type,Xt=qt.width,nn=qt.height;dt(qt),gn?Be.texSubImage2D(hn,Kt,Et,Ht,on,Zt,gn):qt.compressed?Be.compressedTexSubImage2D(hn,Kt,Et,Ht,yn,Xt,nn,pn):qt.needsCopy?(nt(),Be.copyTexSubImage2D(hn,Kt,Et,Ht,qt.xOffset,qt.yOffset,Xt,nn)):Be.texSubImage2D(hn,Kt,Et,Ht,Xt,nn,on,Zt,pn)}function vt(){return fn.pop()||new ut}function Mt(qt){qt.needsFree&&pe.freeType(qt.data),ut.call(qt),fn.push(qt)}function St(){Ye.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function It(qt,hn,Et){var Ht=qt.images[0]=vt();qt.mipmask=1,Ht.width=qt.width=hn,Ht.height=qt.height=Et,Ht.channels=qt.channels=4}function Gt(qt,hn){var Et=null;if(x(hn))ct(Et=qt.images[0]=vt(),qt),kt(Et,hn),qt.mipmask=1;else if(ht(qt,hn),Array.isArray(hn.mipmap))for(var Ht=hn.mipmap,Kt=0;Kt<Ht.length;++Kt)ct(Et=qt.images[Kt]=vt(),qt),Et.width>>=Kt,Et.height>>=Kt,kt(Et,Ht[Kt]),qt.mipmask|=1<<Kt;else ct(Et=qt.images[0]=vt(),qt),kt(Et,hn),qt.mipmask=1;ct(qt,qt.images[0])}function en(qt,hn){for(var Et=qt.images,Ht=0;Ht<Et.length&&Et[Ht];++Ht){var Kt=Et[Ht],gn=hn,pn=Ht,yn=Kt.element,on=Kt.data,Zt=Kt.internalformat,Xt=Kt.format,nn=Kt.type,ln=Kt.width,kn=Kt.height;dt(Kt),yn?Be.texImage2D(gn,pn,Xt,Xt,nn,yn):Kt.compressed?Be.compressedTexImage2D(gn,pn,Zt,ln,kn,0,on):Kt.needsCopy?(nt(),Be.copyTexImage2D(gn,pn,Xt,Kt.xOffset,Kt.yOffset,ln,kn,0)):Be.texImage2D(gn,pn,Xt,ln,kn,0,Xt,nn,on||null)}}function Nt(){var qt=Tn.pop()||new St;Ye.call(qt);for(var hn=qt.mipmask=0;16>hn;++hn)qt.images[hn]=null;return qt}function jt(qt){for(var hn=qt.images,Et=0;Et<hn.length;++Et)hn[Et]&&Mt(hn[Et]),hn[Et]=null;Tn.push(qt)}function Jt(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function An(qt,hn){"min"in hn&&(qt.minFilter=Pn[hn.min],0<=Se.indexOf(qt.minFilter)&&!("faces"in hn)&&(qt.genMipmaps=!0)),"mag"in hn&&(qt.magFilter=wn[hn.mag]);var Et=qt.wrapS,Ht=qt.wrapT;if("wrap"in hn){var Kt=hn.wrap;typeof Kt=="string"?Et=Ht=xn[Kt]:Array.isArray(Kt)&&(Et=xn[Kt[0]],Ht=xn[Kt[1]])}else"wrapS"in hn&&(Et=xn[hn.wrapS]),"wrapT"in hn&&(Ht=xn[hn.wrapT]);if(qt.wrapS=Et,qt.wrapT=Ht,"anisotropic"in hn&&(qt.anisotropic=hn.anisotropic),"mipmap"in hn){switch(Et=!1,typeof hn.mipmap){case"string":qt.mipmapHint=sn[hn.mipmap],Et=qt.genMipmaps=!0;break;case"boolean":Et=qt.genMipmaps=hn.mipmap;break;case"object":qt.genMipmaps=!1,Et=!0}!Et||"min"in hn||(qt.minFilter=9984)}}function _n(qt,hn){Be.texParameteri(hn,10241,qt.minFilter),Be.texParameteri(hn,10240,qt.magFilter),Be.texParameteri(hn,10242,qt.wrapS),Be.texParameteri(hn,10243,qt.wrapT),Ge.ext_texture_filter_anisotropic&&Be.texParameteri(hn,34046,qt.anisotropic),qt.genMipmaps&&(Be.hint(33170,qt.mipmapHint),Be.generateMipmap(hn))}function un(qt){Ye.call(this),this.mipmask=0,this.internalformat=6408,this.id=jn++,this.refCount=1,this.target=qt,this.texture=Be.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Jt,rt.profile&&(this.stats={size:0})}function Wt(qt){Be.activeTexture(33984),Be.bindTexture(qt.target,qt.texture)}function rn(){var qt=$n[0];qt?Be.bindTexture(qt.target,qt.texture):Be.bindTexture(3553,null)}function $t(qt){var hn=qt.texture,Et=qt.unit,Ht=qt.target;0<=Et&&(Be.activeTexture(33984+Et),Be.bindTexture(Ht,null),$n[Et]=null),Be.deleteTexture(hn),qt.texture=null,qt.params=null,qt.pixels=null,qt.refCount=0,delete On[qt.id],Fe.textureCount--}var sn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},xn={repeat:10497,clamp:33071,mirror:33648},wn={nearest:9728,linear:9729},Pn=Q({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},wn),Cn={none:0,browser:37444},Sn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Nn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},zn={};Ge.ext_srgb&&(Nn.srgb=35904,Nn.srgba=35906),Ge.oes_texture_float&&(Sn.float32=Sn.float=5126),Ge.oes_texture_half_float&&(Sn.float16=Sn["half float"]=36193),Ge.webgl_depth_texture&&(Q(Nn,{depth:6402,"depth stencil":34041}),Q(Sn,{uint16:5123,uint32:5125,"depth stencil":34042})),Ge.webgl_compressed_texture_s3tc&&Q(zn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Ge.webgl_compressed_texture_atc&&Q(zn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Ge.webgl_compressed_texture_pvrtc&&Q(zn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Ge.webgl_compressed_texture_etc1&&(zn["rgb etc1"]=36196);var er=Array.prototype.slice.call(Be.getParameter(34467));Object.keys(zn).forEach(function(qt){var hn=zn[qt];0<=er.indexOf(hn)&&(Nn[qt]=hn)});var nr=Object.keys(Nn);at.textureFormats=nr;var ir=[];Object.keys(Nn).forEach(function(qt){ir[Nn[qt]]=qt});var Yn=[];Object.keys(Sn).forEach(function(qt){Yn[Sn[qt]]=qt});var mr=[];Object.keys(wn).forEach(function(qt){mr[wn[qt]]=qt});var Bt=[];Object.keys(Pn).forEach(function(qt){Bt[Pn[qt]]=qt});var Qt=[];Object.keys(xn).forEach(function(qt){Qt[xn[qt]]=qt});var vn=nr.reduce(function(qt,hn){var Et=Nn[hn];return Et===6409||Et===6406||Et===6409||Et===6410||Et===6402||Et===34041||Ge.ext_srgb&&(Et===35904||Et===35906)?qt[Et]=Et:Et===32855||0<=hn.indexOf("rgba")?qt[Et]=6408:qt[Et]=6407,qt},{}),fn=[],Tn=[],jn=0,On={},Dn=at.maxTextureUnits,$n=Array(Dn).map(function(){return null});return Q(un.prototype,{bind:function(){this.bindCount+=1;var qt=this.unit;if(0>qt){for(var hn=0;hn<Dn;++hn){var Et=$n[hn];if(Et){if(0<Et.bindCount)continue;Et.unit=-1}$n[hn]=this,qt=hn;break}rt.profile&&Fe.maxTextureUnits<qt+1&&(Fe.maxTextureUnits=qt+1),this.unit=qt,Be.activeTexture(33984+qt),Be.bindTexture(this.target,this.texture)}return qt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&$t(this)}}),rt.profile&&(Fe.getTotalTextureSize=function(){var qt=0;return Object.keys(On).forEach(function(hn){qt+=On[hn].stats.size}),qt}),{create2D:function(qt,hn){function Et(Kt,gn){var pn=Ht.texInfo;Jt.call(pn);var yn=Nt();return typeof Kt=="number"?It(yn,0|Kt,typeof gn=="number"?0|gn:0|Kt):Kt?(An(pn,Kt),Gt(yn,Kt)):It(yn,1,1),pn.genMipmaps&&(yn.mipmask=(yn.width<<1)-1),Ht.mipmask=yn.mipmask,ct(Ht,yn),Ht.internalformat=yn.internalformat,Et.width=yn.width,Et.height=yn.height,Wt(Ht),en(yn,3553),_n(pn,3553),rn(),jt(yn),rt.profile&&(Ht.stats.size=h(Ht.internalformat,Ht.type,yn.width,yn.height,pn.genMipmaps,!1)),Et.format=ir[Ht.internalformat],Et.type=Yn[Ht.type],Et.mag=mr[pn.magFilter],Et.min=Bt[pn.minFilter],Et.wrapS=Qt[pn.wrapS],Et.wrapT=Qt[pn.wrapT],Et}var Ht=new un(3553);return On[Ht.id]=Ht,Fe.textureCount++,Et(qt,hn),Et.subimage=function(Kt,gn,pn,yn){gn|=0,pn|=0,yn|=0;var on=vt();return ct(on,Ht),on.width=0,on.height=0,kt(on,Kt),on.width=on.width||(Ht.width>>yn)-gn,on.height=on.height||(Ht.height>>yn)-pn,Wt(Ht),xt(on,3553,gn,pn,yn),rn(),Mt(on),Et},Et.resize=function(Kt,gn){var pn=0|Kt,yn=0|gn||pn;if(pn===Ht.width&&yn===Ht.height)return Et;Et.width=Ht.width=pn,Et.height=Ht.height=yn,Wt(Ht);for(var on=0;Ht.mipmask>>on;++on){var Zt=pn>>on,Xt=yn>>on;if(!Zt||!Xt)break;Be.texImage2D(3553,on,Ht.format,Zt,Xt,0,Ht.format,Ht.type,null)}return rn(),rt.profile&&(Ht.stats.size=h(Ht.internalformat,Ht.type,pn,yn,!1,!1)),Et},Et._reglType="texture2d",Et._texture=Ht,rt.profile&&(Et.stats=Ht.stats),Et.destroy=function(){Ht.decRef()},Et},createCube:function(qt,hn,Et,Ht,Kt,gn){function pn(Zt,Xt,nn,ln,kn,En){var Fn,Bn=yn.texInfo;for(Jt.call(Bn),Fn=0;6>Fn;++Fn)on[Fn]=Nt();if(typeof Zt!="number"&&Zt){if(typeof Zt=="object")if(Xt)Gt(on[0],Zt),Gt(on[1],Xt),Gt(on[2],nn),Gt(on[3],ln),Gt(on[4],kn),Gt(on[5],En);else if(An(Bn,Zt),ht(yn,Zt),"faces"in Zt)for(Zt=Zt.faces,Fn=0;6>Fn;++Fn)ct(on[Fn],yn),Gt(on[Fn],Zt[Fn]);else for(Fn=0;6>Fn;++Fn)Gt(on[Fn],Zt)}else for(Zt=0|Zt||1,Fn=0;6>Fn;++Fn)It(on[Fn],Zt,Zt);for(ct(yn,on[0]),yn.mipmask=Bn.genMipmaps?(on[0].width<<1)-1:on[0].mipmask,yn.internalformat=on[0].internalformat,pn.width=on[0].width,pn.height=on[0].height,Wt(yn),Fn=0;6>Fn;++Fn)en(on[Fn],34069+Fn);for(_n(Bn,34067),rn(),rt.profile&&(yn.stats.size=h(yn.internalformat,yn.type,pn.width,pn.height,Bn.genMipmaps,!0)),pn.format=ir[yn.internalformat],pn.type=Yn[yn.type],pn.mag=mr[Bn.magFilter],pn.min=Bt[Bn.minFilter],pn.wrapS=Qt[Bn.wrapS],pn.wrapT=Qt[Bn.wrapT],Fn=0;6>Fn;++Fn)jt(on[Fn]);return pn}var yn=new un(34067);On[yn.id]=yn,Fe.cubeCount++;var on=Array(6);return pn(qt,hn,Et,Ht,Kt,gn),pn.subimage=function(Zt,Xt,nn,ln,kn){nn|=0,ln|=0,kn|=0;var En=vt();return ct(En,yn),En.width=0,En.height=0,kt(En,Xt),En.width=En.width||(yn.width>>kn)-nn,En.height=En.height||(yn.height>>kn)-ln,Wt(yn),xt(En,34069+Zt,nn,ln,kn),rn(),Mt(En),pn},pn.resize=function(Zt){if((Zt|=0)!==yn.width){pn.width=yn.width=Zt,pn.height=yn.height=Zt,Wt(yn);for(var Xt=0;6>Xt;++Xt)for(var nn=0;yn.mipmask>>nn;++nn)Be.texImage2D(34069+Xt,nn,yn.format,Zt>>nn,Zt>>nn,0,yn.format,yn.type,null);return rn(),rt.profile&&(yn.stats.size=h(yn.internalformat,yn.type,pn.width,pn.height,!1,!0)),pn}},pn._reglType="textureCube",pn._texture=yn,rt.profile&&(pn.stats=yn.stats),pn.destroy=function(){yn.decRef()},pn},clear:function(){for(var qt=0;qt<Dn;++qt)Be.activeTexture(33984+qt),Be.bindTexture(3553,null),$n[qt]=null;be(On).forEach($t),Fe.cubeCount=0,Fe.textureCount=0},getTexture:function(qt){return null},restore:function(){for(var qt=0;qt<Dn;++qt){var hn=$n[qt];hn&&(hn.bindCount=0,hn.unit=-1,$n[qt]=null)}be(On).forEach(function(Et){Et.texture=Be.createTexture(),Be.bindTexture(Et.target,Et.texture);for(var Ht=0;32>Ht;++Ht)if(Et.mipmask&1<<Ht)if(Et.target===3553)Be.texImage2D(3553,Ht,Et.internalformat,Et.width>>Ht,Et.height>>Ht,0,Et.internalformat,Et.type,null);else for(var Kt=0;6>Kt;++Kt)Be.texImage2D(34069+Kt,Ht,Et.internalformat,Et.width>>Ht,Et.height>>Ht,0,Et.internalformat,Et.type,null);_n(Et.texInfo,Et.target)})},refresh:function(){for(var qt=0;qt<Dn;++qt){var hn=$n[qt];hn&&(hn.bindCount=0,hn.unit=-1,$n[qt]=null),Be.activeTexture(33984+qt),Be.bindTexture(3553,null),Be.bindTexture(34067,null)}}}}function w(Be,Ge,at,nt,Re,Fe){function rt(un,Wt,rn){this.target=un,this.texture=Wt,this.renderbuffer=rn;var $t=un=0;Wt?(un=Wt.width,$t=Wt.height):rn&&(un=rn.width,$t=rn.height),this.width=un,this.height=$t}function Ye(un){un&&(un.texture&&un.texture._texture.decRef(),un.renderbuffer&&un.renderbuffer._renderbuffer.decRef())}function ct(un,Wt,rn){un&&(un.texture?un.texture._texture.refCount+=1:un.renderbuffer._renderbuffer.refCount+=1)}function ht(un,Wt){Wt&&(Wt.texture?Be.framebufferTexture2D(36160,un,Wt.target,Wt.texture._texture.texture,0):Be.framebufferRenderbuffer(36160,un,36161,Wt.renderbuffer._renderbuffer.renderbuffer))}function dt(un){var Wt=3553,rn=null,$t=null,sn=un;return typeof un=="object"&&(sn=un.data,"target"in un&&(Wt=0|un.target)),(un=sn._reglType)==="texture2d"||un==="textureCube"?rn=sn:un==="renderbuffer"&&($t=sn,Wt=36161),new rt(Wt,rn,$t)}function ut(un,Wt,rn,$t,sn){return rn?((un=nt.create2D({width:un,height:Wt,format:$t,type:sn}))._texture.refCount=0,new rt(3553,un,null)):((un=Re.create({width:un,height:Wt,format:$t}))._renderbuffer.refCount=0,new rt(36161,null,un))}function kt(un){return un&&(un.texture||un.renderbuffer)}function xt(un,Wt,rn){un&&(un.texture?un.texture.resize(Wt,rn):un.renderbuffer&&un.renderbuffer.resize(Wt,rn),un.width=Wt,un.height=rn)}function vt(){this.id=An++,_n[this.id]=this,this.framebuffer=Be.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Mt(un){un.colorAttachments.forEach(Ye),Ye(un.depthAttachment),Ye(un.stencilAttachment),Ye(un.depthStencilAttachment)}function St(un){Be.deleteFramebuffer(un.framebuffer),un.framebuffer=null,Fe.framebufferCount--,delete _n[un.id]}function It(un){var Wt;Be.bindFramebuffer(36160,un.framebuffer);var rn=un.colorAttachments;for(Wt=0;Wt<rn.length;++Wt)ht(36064+Wt,rn[Wt]);for(Wt=rn.length;Wt<at.maxColorAttachments;++Wt)Be.framebufferTexture2D(36160,36064+Wt,3553,null,0);Be.framebufferTexture2D(36160,33306,3553,null,0),Be.framebufferTexture2D(36160,36096,3553,null,0),Be.framebufferTexture2D(36160,36128,3553,null,0),ht(36096,un.depthAttachment),ht(36128,un.stencilAttachment),ht(33306,un.depthStencilAttachment),Be.checkFramebufferStatus(36160),Be.isContextLost(),Be.bindFramebuffer(36160,en.next?en.next.framebuffer:null),en.cur=en.next,Be.getError()}function Gt(un,Wt){function rn(sn,xn){var wn,Pn=0,Cn=0,Sn=!0,Nn=!0;wn=null;var zn=!0,er="rgba",nr="uint8",ir=1,Yn=null,mr=null,Bt=null,Qt=!1;typeof sn=="number"?(Pn=0|sn,Cn=0|xn||Pn):sn?("shape"in sn?(Pn=(Cn=sn.shape)[0],Cn=Cn[1]):("radius"in sn&&(Pn=Cn=sn.radius),"width"in sn&&(Pn=sn.width),"height"in sn&&(Cn=sn.height)),("color"in sn||"colors"in sn)&&(wn=sn.color||sn.colors,Array.isArray(wn)),wn||("colorCount"in sn&&(ir=0|sn.colorCount),"colorTexture"in sn&&(zn=!!sn.colorTexture,er="rgba4"),"colorType"in sn&&(nr=sn.colorType,!zn)&&(nr==="half float"||nr==="float16"?er="rgba16f":nr!=="float"&&nr!=="float32"||(er="rgba32f")),"colorFormat"in sn&&(er=sn.colorFormat,0<=Nt.indexOf(er)?zn=!0:0<=jt.indexOf(er)&&(zn=!1))),("depthTexture"in sn||"depthStencilTexture"in sn)&&(Qt=!(!sn.depthTexture&&!sn.depthStencilTexture)),"depth"in sn&&(typeof sn.depth=="boolean"?Sn=sn.depth:(Yn=sn.depth,Nn=!1)),"stencil"in sn&&(typeof sn.stencil=="boolean"?Nn=sn.stencil:(mr=sn.stencil,Sn=!1)),"depthStencil"in sn&&(typeof sn.depthStencil=="boolean"?Sn=Nn=sn.depthStencil:(Bt=sn.depthStencil,Nn=Sn=!1))):Pn=Cn=1;var vn=null,fn=null,Tn=null,jn=null;if(Array.isArray(wn))vn=wn.map(dt);else if(wn)vn=[dt(wn)];else for(vn=Array(ir),wn=0;wn<ir;++wn)vn[wn]=ut(Pn,Cn,zn,er,nr);for(Pn=Pn||vn[0].width,Cn=Cn||vn[0].height,Yn?fn=dt(Yn):Sn&&!Nn&&(fn=ut(Pn,Cn,Qt,"depth","uint32")),mr?Tn=dt(mr):Nn&&!Sn&&(Tn=ut(Pn,Cn,!1,"stencil","uint8")),Bt?jn=dt(Bt):!Yn&&!mr&&Nn&&Sn&&(jn=ut(Pn,Cn,Qt,"depth stencil","depth stencil")),Sn=null,wn=0;wn<vn.length;++wn)ct(vn[wn]),vn[wn]&&vn[wn].texture&&(Nn=mt[vn[wn].texture._texture.format]*gt[vn[wn].texture._texture.type],Sn===null&&(Sn=Nn));return ct(fn),ct(Tn),ct(jn),Mt($t),$t.width=Pn,$t.height=Cn,$t.colorAttachments=vn,$t.depthAttachment=fn,$t.stencilAttachment=Tn,$t.depthStencilAttachment=jn,rn.color=vn.map(kt),rn.depth=kt(fn),rn.stencil=kt(Tn),rn.depthStencil=kt(jn),rn.width=$t.width,rn.height=$t.height,It($t),rn}var $t=new vt;return Fe.framebufferCount++,rn(un,Wt),Q(rn,{resize:function(sn,xn){var wn=Math.max(0|sn,1),Pn=Math.max(0|xn||wn,1);if(wn===$t.width&&Pn===$t.height)return rn;for(var Cn=$t.colorAttachments,Sn=0;Sn<Cn.length;++Sn)xt(Cn[Sn],wn,Pn);return xt($t.depthAttachment,wn,Pn),xt($t.stencilAttachment,wn,Pn),xt($t.depthStencilAttachment,wn,Pn),$t.width=rn.width=wn,$t.height=rn.height=Pn,It($t),rn},_reglType:"framebuffer",_framebuffer:$t,destroy:function(){St($t),Mt($t)},use:function(sn){en.setFBO({framebuffer:rn},sn)}})}var en={cur:null,next:null,dirty:!1,setFBO:null},Nt=["rgba"],jt=["rgba4","rgb565","rgb5 a1"];Ge.ext_srgb&&jt.push("srgba"),Ge.ext_color_buffer_half_float&&jt.push("rgba16f","rgb16f"),Ge.webgl_color_buffer_float&&jt.push("rgba32f");var Jt=["uint8"];Ge.oes_texture_half_float&&Jt.push("half float","float16"),Ge.oes_texture_float&&Jt.push("float","float32");var An=0,_n={};return Q(en,{getFramebuffer:function(un){return typeof un=="function"&&un._reglType==="framebuffer"&&(un=un._framebuffer)instanceof vt?un:null},create:Gt,createCube:function(un){function Wt($t){var sn,xn={color:null},wn=0,Pn=null;sn="rgba";var Cn="uint8",Sn=1;if(typeof $t=="number"?wn=0|$t:$t?("shape"in $t?wn=$t.shape[0]:("radius"in $t&&(wn=0|$t.radius),"width"in $t?wn=0|$t.width:"height"in $t&&(wn=0|$t.height)),("color"in $t||"colors"in $t)&&(Pn=$t.color||$t.colors,Array.isArray(Pn)),Pn||("colorCount"in $t&&(Sn=0|$t.colorCount),"colorType"in $t&&(Cn=$t.colorType),"colorFormat"in $t&&(sn=$t.colorFormat)),"depth"in $t&&(xn.depth=$t.depth),"stencil"in $t&&(xn.stencil=$t.stencil),"depthStencil"in $t&&(xn.depthStencil=$t.depthStencil)):wn=1,Pn)if(Array.isArray(Pn))for($t=[],sn=0;sn<Pn.length;++sn)$t[sn]=Pn[sn];else $t=[Pn];else for($t=Array(Sn),Pn={radius:wn,format:sn,type:Cn},sn=0;sn<Sn;++sn)$t[sn]=nt.createCube(Pn);for(xn.color=Array($t.length),sn=0;sn<$t.length;++sn)Sn=$t[sn],wn=wn||Sn.width,xn.color[sn]={target:34069,data:$t[sn]};for(sn=0;6>sn;++sn){for(Sn=0;Sn<$t.length;++Sn)xn.color[Sn].target=34069+sn;0<sn&&(xn.depth=rn[0].depth,xn.stencil=rn[0].stencil,xn.depthStencil=rn[0].depthStencil),rn[sn]?rn[sn](xn):rn[sn]=Gt(xn)}return Q(Wt,{width:wn,height:wn,color:$t})}var rn=Array(6);return Wt(un),Q(Wt,{faces:rn,resize:function($t){var sn=0|$t;if(sn===Wt.width)return Wt;var xn=Wt.color;for($t=0;$t<xn.length;++$t)xn[$t].resize(sn);for($t=0;6>$t;++$t)rn[$t].resize(sn);return Wt.width=Wt.height=sn,Wt},_reglType:"framebufferCube",destroy:function(){rn.forEach(function($t){$t.destroy()})}})},clear:function(){be(_n).forEach(St)},restore:function(){en.cur=null,en.next=null,en.dirty=!0,be(_n).forEach(function(un){un.framebuffer=Be.createFramebuffer(),It(un)})}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function C(Be,Ge,at,nt,Re,Fe,rt){function Ye(){this.id=++dt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var xt=Ge.oes_vertex_array_object;this.vao=xt?xt.createVertexArrayOES():null,ut[this.id]=this,this.buffers=[]}var ct=at.maxAttributes,ht=Array(ct);for(at=0;at<ct;++at)ht[at]=new E;var dt=0,ut={},kt={Record:E,scope:{},state:ht,currentVAO:null,targetVAO:null,restore:Ge.oes_vertex_array_object?function(){Ge.oes_vertex_array_object&&be(ut).forEach(function(xt){xt.refresh()})}:function(){},createVAO:function(xt){function vt(St){var It;Array.isArray(St)?(It=St,Mt.elements&&Mt.ownsElements&&Mt.elements.destroy(),Mt.elements=null,Mt.ownsElements=!1,Mt.offset=0,Mt.count=0,Mt.instances=-1,Mt.primitive=4):(St.elements?(It=St.elements,Mt.ownsElements?(typeof It=="function"&&It._reglType==="elements"?Mt.elements.destroy():Mt.elements(It),Mt.ownsElements=!1):Fe.getElements(St.elements)?(Mt.elements=St.elements,Mt.ownsElements=!1):(Mt.elements=Fe.create(St.elements),Mt.ownsElements=!0)):(Mt.elements=null,Mt.ownsElements=!1),It=St.attributes,Mt.offset=0,Mt.count=-1,Mt.instances=-1,Mt.primitive=4,Mt.elements&&(Mt.count=Mt.elements._elements.vertCount,Mt.primitive=Mt.elements._elements.primType),"offset"in St&&(Mt.offset=0|St.offset),"count"in St&&(Mt.count=0|St.count),"instances"in St&&(Mt.instances=0|St.instances),"primitive"in St&&(Mt.primitive=Ee[St.primitive])),St={};var Gt=Mt.attributes;Gt.length=It.length;for(var en=0;en<It.length;++en){var Nt,jt=It[en],Jt=Gt[en]=new E,An=jt.data||jt;Array.isArray(An)||ve(An)||t(An)?(Mt.buffers[en]&&(Nt=Mt.buffers[en],ve(An)&&Nt._buffer.byteLength>=An.byteLength?Nt.subdata(An):(Nt.destroy(),Mt.buffers[en]=null)),Mt.buffers[en]||(Nt=Mt.buffers[en]=Re.create(jt,34962,!1,!0)),Jt.buffer=Re.getBuffer(Nt),Jt.size=0|Jt.buffer.dimension,Jt.normalized=!1,Jt.type=Jt.buffer.dtype,Jt.offset=0,Jt.stride=0,Jt.divisor=0,Jt.state=1,St[en]=1):Re.getBuffer(jt)?(Jt.buffer=Re.getBuffer(jt),Jt.size=0|Jt.buffer.dimension,Jt.normalized=!1,Jt.type=Jt.buffer.dtype,Jt.offset=0,Jt.stride=0,Jt.divisor=0,Jt.state=1):Re.getBuffer(jt.buffer)?(Jt.buffer=Re.getBuffer(jt.buffer),Jt.size=0|(+jt.size||Jt.buffer.dimension),Jt.normalized=!!jt.normalized||!1,Jt.type="type"in jt?ke[jt.type]:Jt.buffer.dtype,Jt.offset=0|(jt.offset||0),Jt.stride=0|(jt.stride||0),Jt.divisor=0|(jt.divisor||0),Jt.state=1):"x"in jt&&(Jt.x=+jt.x||0,Jt.y=+jt.y||0,Jt.z=+jt.z||0,Jt.w=+jt.w||0,Jt.state=2)}for(Nt=0;Nt<Mt.buffers.length;++Nt)!St[Nt]&&Mt.buffers[Nt]&&(Mt.buffers[Nt].destroy(),Mt.buffers[Nt]=null);return Mt.refresh(),vt}var Mt=new Ye;return nt.vaoCount+=1,vt.destroy=function(){for(var St=0;St<Mt.buffers.length;++St)Mt.buffers[St]&&Mt.buffers[St].destroy();Mt.buffers.length=0,Mt.ownsElements&&(Mt.elements.destroy(),Mt.elements=null,Mt.ownsElements=!1),Mt.destroy()},vt._vao=Mt,vt._reglType="vao",vt(xt)},getVAO:function(xt){return typeof xt=="function"&&xt._vao?xt._vao:null},destroyBuffer:function(xt){for(var vt=0;vt<ht.length;++vt){var Mt=ht[vt];Mt.buffer===xt&&(Be.disableVertexAttribArray(vt),Mt.buffer=null)}},setVAO:Ge.oes_vertex_array_object?function(xt){if(xt!==kt.currentVAO){var vt=Ge.oes_vertex_array_object;xt?vt.bindVertexArrayOES(xt.vao):vt.bindVertexArrayOES(null),kt.currentVAO=xt}}:function(xt){if(xt!==kt.currentVAO){if(xt)xt.bindAttrs();else{for(var vt=Ge.angle_instanced_arrays,Mt=0;Mt<ht.length;++Mt){var St=ht[Mt];St.buffer?(Be.enableVertexAttribArray(Mt),St.buffer.bind(),Be.vertexAttribPointer(Mt,St.size,St.type,St.normalized,St.stride,St.offfset),vt&&St.divisor&&vt.vertexAttribDivisorANGLE(Mt,St.divisor)):(Be.disableVertexAttribArray(Mt),Be.vertexAttrib4f(Mt,St.x,St.y,St.z,St.w))}rt.elements?Be.bindBuffer(34963,rt.elements.buffer.buffer):Be.bindBuffer(34963,null)}kt.currentVAO=xt}},clear:Ge.oes_vertex_array_object?function(){be(ut).forEach(function(xt){xt.destroy()})}:function(){}};return Ye.prototype.bindAttrs=function(){for(var xt=Ge.angle_instanced_arrays,vt=this.attributes,Mt=0;Mt<vt.length;++Mt){var St=vt[Mt];St.buffer?(Be.enableVertexAttribArray(Mt),Be.bindBuffer(34962,St.buffer.buffer),Be.vertexAttribPointer(Mt,St.size,St.type,St.normalized,St.stride,St.offset),xt&&St.divisor&&xt.vertexAttribDivisorANGLE(Mt,St.divisor)):(Be.disableVertexAttribArray(Mt),Be.vertexAttrib4f(Mt,St.x,St.y,St.z,St.w))}for(xt=vt.length;xt<ct;++xt)Be.disableVertexAttribArray(xt);(xt=Fe.getElements(this.elements))?Be.bindBuffer(34963,xt.buffer.buffer):Be.bindBuffer(34963,null)},Ye.prototype.refresh=function(){var xt=Ge.oes_vertex_array_object;xt&&(xt.bindVertexArrayOES(this.vao),this.bindAttrs(),kt.currentVAO=null,xt.bindVertexArrayOES(null))},Ye.prototype.destroy=function(){if(this.vao){var xt=Ge.oes_vertex_array_object;this===kt.currentVAO&&(kt.currentVAO=null,xt.bindVertexArrayOES(null)),xt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ut[this.id]&&(delete ut[this.id],--nt.vaoCount)},kt}function P(Be,Ge,at,nt){function Re(vt,Mt,St,It){this.name=vt,this.id=Mt,this.location=St,this.info=It}function Fe(vt,Mt){for(var St=0;St<vt.length;++St)if(vt[St].id===Mt.id)return void(vt[St].location=Mt.location);vt.push(Mt)}function rt(vt,Mt,St){if(!(Gt=(St=vt===35632?ht:dt)[Mt])){var It=Ge.str(Mt),Gt=Be.createShader(vt);Be.shaderSource(Gt,It),Be.compileShader(Gt),St[Mt]=Gt}return Gt}function Ye(vt,Mt){this.id=xt++,this.fragId=vt,this.vertId=Mt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,nt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ct(vt,Mt,St){var It;It=rt(35632,vt.fragId);var Gt=rt(35633,vt.vertId);if(Mt=vt.program=Be.createProgram(),Be.attachShader(Mt,It),Be.attachShader(Mt,Gt),St)for(It=0;It<St.length;++It)Gt=St[It],Be.bindAttribLocation(Mt,Gt[0],Gt[1]);Be.linkProgram(Mt),Gt=Be.getProgramParameter(Mt,35718),nt.profile&&(vt.stats.uniformsCount=Gt);var en=vt.uniforms;for(It=0;It<Gt;++It)if(St=Be.getActiveUniform(Mt,It))if(1<St.size)for(var Nt=0;Nt<St.size;++Nt){var jt=St.name.replace("[0]","["+Nt+"]");Fe(en,new Re(jt,Ge.id(jt),Be.getUniformLocation(Mt,jt),St))}else Fe(en,new Re(St.name,Ge.id(St.name),Be.getUniformLocation(Mt,St.name),St));for(Gt=Be.getProgramParameter(Mt,35721),nt.profile&&(vt.stats.attributesCount=Gt),vt=vt.attributes,It=0;It<Gt;++It)(St=Be.getActiveAttrib(Mt,It))&&Fe(vt,new Re(St.name,Ge.id(St.name),Be.getAttribLocation(Mt,St.name),St))}var ht={},dt={},ut={},kt=[],xt=0;return nt.profile&&(at.getMaxUniformsCount=function(){var vt=0;return kt.forEach(function(Mt){Mt.stats.uniformsCount>vt&&(vt=Mt.stats.uniformsCount)}),vt},at.getMaxAttributesCount=function(){var vt=0;return kt.forEach(function(Mt){Mt.stats.attributesCount>vt&&(vt=Mt.stats.attributesCount)}),vt}),{clear:function(){var vt=Be.deleteShader.bind(Be);be(ht).forEach(vt),ht={},be(dt).forEach(vt),dt={},kt.forEach(function(Mt){Be.deleteProgram(Mt.program)}),kt.length=0,ut={},at.shaderCount=0},program:function(vt,Mt,St,It){var Gt=ut[Mt];Gt||(Gt=ut[Mt]={});var en=Gt[vt];if(en&&(en.refCount++,!It))return en;var Nt=new Ye(Mt,vt);return at.shaderCount++,ct(Nt,St,It),en||(Gt[vt]=Nt),kt.push(Nt),Q(Nt,{destroy:function(){if(Nt.refCount--,0>=Nt.refCount){Be.deleteProgram(Nt.program);var jt=kt.indexOf(Nt);kt.splice(jt,1),at.shaderCount--}0>=Gt[Nt.vertId].refCount&&(Be.deleteShader(dt[Nt.vertId]),delete dt[Nt.vertId],delete ut[Nt.fragId][Nt.vertId]),Object.keys(ut[Nt.fragId]).length||(Be.deleteShader(ht[Nt.fragId]),delete ht[Nt.fragId],delete ut[Nt.fragId])}})},restore:function(){ht={},dt={};for(var vt=0;vt<kt.length;++vt)ct(kt[vt],null,kt[vt].attributes.map(function(Mt){return[Mt.location,Mt.name]}))},shader:rt,frag:-1,vert:-1}}function O(Be,Ge,at,nt,Re,Fe,rt){function Ye(ct){var ht;ht=Ge.next===null?5121:Ge.next.colorAttachments[0].texture._texture.type;var dt=0,ut=0,kt=nt.framebufferWidth,xt=nt.framebufferHeight,vt=null;return ve(ct)?vt=ct:ct&&(dt=0|ct.x,ut=0|ct.y,kt=0|(ct.width||nt.framebufferWidth-dt),xt=0|(ct.height||nt.framebufferHeight-ut),vt=ct.data||null),at(),ct=kt*xt*4,vt||(ht===5121?vt=new Uint8Array(ct):ht===5126&&(vt=vt||new Float32Array(ct))),Be.pixelStorei(3333,4),Be.readPixels(dt,ut,kt,xt,6408,ht,vt),vt}return function(ct){return ct&&"framebuffer"in ct?function(ht){var dt;return Ge.setFBO({framebuffer:ht.framebuffer},function(){dt=Ye(ht)}),dt}(ct):Ye(ct)}}function R(Be,Ge){return Be>>>Ge|Be<<32-Ge}function U(Be,Ge){var at=(65535&Be)+(65535&Ge);return(Be>>16)+(Ge>>16)+(at>>16)<<16|65535&at}function z(Be){return Array.prototype.slice.call(Be)}function N(Be){return z(Be).join("")}function W(Be){function Ge(){var dt=[],ut=[];return Q(function(){dt.push.apply(dt,z(arguments))},{def:function(){var kt="v"+Re++;return ut.push(kt),0<arguments.length&&(dt.push(kt,"="),dt.push.apply(dt,z(arguments)),dt.push(";")),kt},toString:function(){return N([0<ut.length?"var "+ut.join(",")+";":"",N(dt)])}})}function at(){function dt(Mt,St){kt(Mt,St,"=",ut.def(Mt,St),";")}var ut=Ge(),kt=Ge(),xt=ut.toString,vt=kt.toString;return Q(function(){ut.apply(ut,z(arguments))},{def:ut.def,entry:ut,exit:kt,save:dt,set:function(Mt,St,It){dt(Mt,St),ut(Mt,St,"=",It,";")},toString:function(){return xt()+vt()}})}var nt=Be&&Be.cache,Re=0,Fe=[],rt=[],Ye=[],ct=Ge(),ht={};return{global:ct,link:function(dt,ut){var kt=ut&&ut.stable;if(!kt){for(var xt=0;xt<rt.length;++xt)if(rt[xt]===dt&&!Ye[xt])return Fe[xt]}return xt="g"+Re++,Fe.push(xt),rt.push(dt),Ye.push(kt),xt},block:Ge,proc:function(dt,ut){function kt(){var St="a"+xt.length;return xt.push(St),St}var xt=[];ut=ut||0;for(var vt=0;vt<ut;++vt)kt();var Mt=(vt=at()).toString;return ht[dt]=Q(vt,{arg:kt,toString:function(){return N(["function(",xt.join(),"){",Mt(),"}"])}})},scope:at,cond:function(){var dt=N(arguments),ut=at(),kt=at(),xt=ut.toString,vt=kt.toString;return Q(ut,{then:function(){return ut.apply(ut,z(arguments)),this},else:function(){return kt.apply(kt,z(arguments)),this},toString:function(){var Mt=vt();return Mt&&(Mt="else{"+Mt+"}"),N(["if(",dt,"){",xt(),"}",Mt])}})},compile:function(){var dt=['"use strict";',ct,"return {"];Object.keys(ht).forEach(function(xt){dt.push('"',xt,'":',ht[xt].toString(),",")}),dt.push("}");var ut,kt=N(dt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return nt&&(ut=function(xt){for(var vt,Mt="",St=0;St<xt.length;St++)vt=xt.charCodeAt(St),Mt+="0123456789abcdef".charAt(vt>>>4&15)+"0123456789abcdef".charAt(15&vt);return Mt}(function(xt){for(var vt=Array(xt.length>>2),Mt=0;Mt<vt.length;Mt++)vt[Mt]=0;for(Mt=0;Mt<8*xt.length;Mt+=8)vt[Mt>>5]|=(255&xt.charCodeAt(Mt/8))<<24-Mt%32;var St,It,Gt,en,Nt,jt,Jt,An,_n,un,Wt,rn=8*xt.length;for(xt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Mt=Array(64),vt[rn>>5]|=128<<24-rn%32,vt[15+(rn+64>>9<<4)]=rn,An=0;An<vt.length;An+=16){for(rn=xt[0],St=xt[1],It=xt[2],Gt=xt[3],en=xt[4],Nt=xt[5],jt=xt[6],Jt=xt[7],_n=0;64>_n;_n++){var $t;16>_n?Mt[_n]=vt[_n+An]:(un=_n,Wt=U(Wt=R(Wt=Mt[_n-2],17)^R(Wt,19)^Wt>>>10,Mt[_n-7]),$t=R($t=Mt[_n-15],7)^R($t,18)^$t>>>3,Mt[un]=U(U(Wt,$t),Mt[_n-16])),un=U(U(U(U(Jt,un=R(un=en,6)^R(un,11)^R(un,25)),en&Nt^~en&jt),et[_n]),Mt[_n]),Wt=U(Jt=R(Jt=rn,2)^R(Jt,13)^R(Jt,22),rn&St^rn&It^St&It),Jt=jt,jt=Nt,Nt=en,en=U(Gt,un),Gt=It,It=St,St=rn,rn=U(un,Wt)}xt[0]=U(rn,xt[0]),xt[1]=U(St,xt[1]),xt[2]=U(It,xt[2]),xt[3]=U(Gt,xt[3]),xt[4]=U(en,xt[4]),xt[5]=U(Nt,xt[5]),xt[6]=U(jt,xt[6]),xt[7]=U(Jt,xt[7])}for(vt="",Mt=0;Mt<32*xt.length;Mt+=8)vt+=String.fromCharCode(xt[Mt>>5]>>>24-Mt%32&255);return vt}(function(xt){for(var vt,Mt,St="",It=-1;++It<xt.length;)vt=xt.charCodeAt(It),Mt=It+1<xt.length?xt.charCodeAt(It+1):0,55296<=vt&&56319>=vt&&56320<=Mt&&57343>=Mt&&(vt=65536+((1023&vt)<<10)+(1023&Mt),It++),127>=vt?St+=String.fromCharCode(vt):2047>=vt?St+=String.fromCharCode(192|vt>>>6&31,128|63&vt):65535>=vt?St+=String.fromCharCode(224|vt>>>12&15,128|vt>>>6&63,128|63&vt):2097151>=vt&&(St+=String.fromCharCode(240|vt>>>18&7,128|vt>>>12&63,128|vt>>>6&63,128|63&vt));return St}(kt))),nt[ut])?nt[ut].apply(null,rt):(kt=Function.apply(null,Fe.concat(kt)),nt&&(nt[ut]=kt),kt.apply(null,rt))}}}function F(Be){return Array.isArray(Be)||ve(Be)||t(Be)}function V(Be){return Be.sort(function(Ge,at){return Ge==="viewport"?-1:at==="viewport"?1:Ge<at?-1:1})}function j(Be,Ge,at,nt){this.thisDep=Be,this.contextDep=Ge,this.propDep=at,this.append=nt}function te(Be){return Be&&!(Be.thisDep||Be.contextDep||Be.propDep)}function J(Be){return new j(!1,!1,!1,Be)}function K(Be,Ge){var at=Be.type;if(at===0)return new j(!0,1<=(at=Be.data.length),2<=at,Ge);if(at===4)return new j((at=Be.data).thisDep,at.contextDep,at.propDep,Ge);if(at===5)return new j(!1,!1,!1,Ge);if(at===6){for(var nt=at=!1,Re=!1,Fe=0;Fe<Be.data.length;++Fe){var rt=Be.data[Fe];rt.type===1?Re=!0:rt.type===2?nt=!0:rt.type===3?at=!0:rt.type===0?(at=!0,1<=(rt=rt.data)&&(nt=!0),2<=rt&&(Re=!0)):rt.type===4&&(at=at||rt.data.thisDep,nt=nt||rt.data.contextDep,Re=Re||rt.data.propDep)}return new j(at,nt,Re,Ge)}return new j(at===3,at===2,at===1,Ge)}function Z(Be,Ge,at,nt,Re,Fe,rt,Ye,ct,ht,dt,ut,kt,xt,vt,Mt){function St(Et){return Et.replace(".","_")}function It(Et,Ht,Kt){var gn=St(Et);jn.push(Et),Tn[gn]=fn[gn]=!!Kt,On[gn]=Ht}function Gt(Et,Ht,Kt){var gn=St(Et);jn.push(Et),Array.isArray(Kt)?(fn[gn]=Kt.slice(),Tn[gn]=Kt.slice()):fn[gn]=Tn[gn]=Kt,Dn[gn]=Ht}function en(){var Et=W({cache:vt}),Ht=Et.link,Kt=Et.global;Et.id=hn++,Et.batchId="0";var gn=Ht($n),pn=Et.shared={props:"a0"};Object.keys($n).forEach(function(nn){pn[nn]=Kt.def(gn,".",nn)});var yn=Et.next={},on=Et.current={};Object.keys(Dn).forEach(function(nn){Array.isArray(fn[nn])&&(yn[nn]=Kt.def(pn.next,".",nn),on[nn]=Kt.def(pn.current,".",nn))});var Zt=Et.constants={};Object.keys(qt).forEach(function(nn){Zt[nn]=Kt.def(JSON.stringify(qt[nn]))}),Et.invoke=function(nn,ln){switch(ln.type){case 0:var kn=["this",pn.context,pn.props,Et.batchId];return nn.def(Ht(ln.data),".call(",kn.slice(0,Math.max(ln.data.length+1,4)),")");case 1:return nn.def(pn.props,ln.data);case 2:return nn.def(pn.context,ln.data);case 3:return nn.def("this",ln.data);case 4:return ln.data.append(Et,nn),ln.data.ref;case 5:return ln.data.toString();case 6:return ln.data.map(function(En){return Et.invoke(nn,En)})}},Et.attribCache={};var Xt={};return Et.scopeAttrib=function(nn){if((nn=Ge.id(nn))in Xt)return Xt[nn];var ln=ht.scope[nn];return ln||(ln=ht.scope[nn]=new Yn),Xt[nn]=Ht(ln)},Et}function Nt(Et,Ht){var Kt=Et.static,gn=Et.dynamic;if("framebuffer"in Kt){var pn=Kt.framebuffer;return pn?(pn=Ye.getFramebuffer(pn),J(function(on,Zt){var Xt=on.link(pn),nn=on.shared;return Zt.set(nn.framebuffer,".next",Xt),nn=nn.context,Zt.set(nn,".framebufferWidth",Xt+".width"),Zt.set(nn,".framebufferHeight",Xt+".height"),Xt})):J(function(on,Zt){var Xt=on.shared;return Zt.set(Xt.framebuffer,".next","null"),Xt=Xt.context,Zt.set(Xt,".framebufferWidth",Xt+".drawingBufferWidth"),Zt.set(Xt,".framebufferHeight",Xt+".drawingBufferHeight"),"null"})}if("framebuffer"in gn){var yn=gn.framebuffer;return K(yn,function(on,Zt){var Xt=on.invoke(Zt,yn),nn=on.shared,ln=nn.framebuffer;return Xt=Zt.def(ln,".getFramebuffer(",Xt,")"),Zt.set(ln,".next",Xt),nn=nn.context,Zt.set(nn,".framebufferWidth",Xt+"?"+Xt+".width:"+nn+".drawingBufferWidth"),Zt.set(nn,".framebufferHeight",Xt+"?"+Xt+".height:"+nn+".drawingBufferHeight"),Xt})}return null}function jt(Et,Ht,Kt){function gn(nn){if(nn in pn){var ln=Ge.id(pn[nn]);return(nn=J(function(){return ln})).id=ln,nn}if(nn in yn){var kn=yn[nn];return K(kn,function(En,Fn){var Bn=En.invoke(Fn,kn);return Fn.def(En.shared.strings,".id(",Bn,")")})}return null}var pn=Et.static,yn=Et.dynamic,on=gn("frag"),Zt=gn("vert"),Xt=null;return te(on)&&te(Zt)?(Xt=dt.program(Zt.id,on.id,null,Kt),Et=J(function(nn,ln){return nn.link(Xt)})):Et=new j(on&&on.thisDep||Zt&&Zt.thisDep,on&&on.contextDep||Zt&&Zt.contextDep,on&&on.propDep||Zt&&Zt.propDep,function(nn,ln){var kn,En,Fn=nn.shared.shader;return kn=on?on.append(nn,ln):ln.def(Fn,".","frag"),En=Zt?Zt.append(nn,ln):ln.def(Fn,".","vert"),ln.def(Fn+".program("+En+","+kn+")")}),{frag:on,vert:Zt,progVar:Et,program:Xt}}function Jt(Et,Ht){function Kt(Bn,Zn){if(Bn in gn){var Vn=0|gn[Bn];return Zn?yn.offset=Vn:yn.instances=Vn,J(function(Kn,Wn){return Zn&&(Kn.OFFSET=Vn),Vn})}if(Bn in pn){var Xn=pn[Bn];return K(Xn,function(Kn,Wn){var fr=Kn.invoke(Wn,Xn);return Zn&&(Kn.OFFSET=fr),fr})}if(Zn){if(Xt)return J(function(Kn,Wn){return Kn.OFFSET=0});if(on)return new j(Zt.thisDep,Zt.contextDep,Zt.propDep,function(Kn,Wn){return Wn.def(Kn.shared.vao+".currentVAO?"+Kn.shared.vao+".currentVAO.offset:0")})}else if(on)return new j(Zt.thisDep,Zt.contextDep,Zt.propDep,function(Kn,Wn){return Wn.def(Kn.shared.vao+".currentVAO?"+Kn.shared.vao+".currentVAO.instances:-1")});return null}var gn=Et.static,pn=Et.dynamic,yn={},on=!1,Zt=function(){if("vao"in gn){var Bn=gn.vao;return Bn!==null&&ht.getVAO(Bn)===null&&(Bn=ht.createVAO(Bn)),on=!0,yn.vao=Bn,J(function(Vn){var Xn=ht.getVAO(Bn);return Xn?Vn.link(Xn):"null"})}if("vao"in pn){on=!0;var Zn=pn.vao;return K(Zn,function(Vn,Xn){var Kn=Vn.invoke(Xn,Zn);return Xn.def(Vn.shared.vao+".getVAO("+Kn+")")})}return null}(),Xt=!1,nn=function(){if("elements"in gn){var Bn=gn.elements;if(yn.elements=Bn,F(Bn)){var Zn=yn.elements=Fe.create(Bn,!0);Bn=Fe.getElements(Zn),Xt=!0}else Bn&&(Bn=Fe.getElements(Bn),Xt=!0);return Zn=J(function(Xn,Kn){if(Bn){var Wn=Xn.link(Bn);return Xn.ELEMENTS=Wn}return Xn.ELEMENTS=null}),Zn.value=Bn,Zn}if("elements"in pn){Xt=!0;var Vn=pn.elements;return K(Vn,function(Xn,Kn){var Wn=(fr=Xn.shared).isBufferArgs,fr=fr.elements,ar=Xn.invoke(Kn,Vn),lr=Kn.def("null");return Wn=Kn.def(Wn,"(",ar,")"),ar=Xn.cond(Wn).then(lr,"=",fr,".createStream(",ar,");").else(lr,"=",fr,".getElements(",ar,");"),Kn.entry(ar),Kn.exit(Xn.cond(Wn).then(fr,".destroyStream(",lr,");")),Xn.ELEMENTS=lr})}return on?new j(Zt.thisDep,Zt.contextDep,Zt.propDep,function(Xn,Kn){return Kn.def(Xn.shared.vao+".currentVAO?"+Xn.shared.elements+".getElements("+Xn.shared.vao+".currentVAO.elements):null")}):null}(),ln=Kt("offset",!0),kn=function(){if("primitive"in gn){var Bn=gn.primitive;return yn.primitive=Bn,J(function(Vn,Xn){return Ee[Bn]})}if("primitive"in pn){var Zn=pn.primitive;return K(Zn,function(Vn,Xn){var Kn=Vn.constants.primTypes,Wn=Vn.invoke(Xn,Zn);return Xn.def(Kn,"[",Wn,"]")})}return Xt?te(nn)?nn.value?J(function(Vn,Xn){return Xn.def(Vn.ELEMENTS,".primType")}):J(function(){return 4}):new j(nn.thisDep,nn.contextDep,nn.propDep,function(Vn,Xn){var Kn=Vn.ELEMENTS;return Xn.def(Kn,"?",Kn,".primType:",4)}):on?new j(Zt.thisDep,Zt.contextDep,Zt.propDep,function(Vn,Xn){return Xn.def(Vn.shared.vao+".currentVAO?"+Vn.shared.vao+".currentVAO.primitive:4")}):null}(),En=function(){if("count"in gn){var Bn=0|gn.count;return yn.count=Bn,J(function(){return Bn})}if("count"in pn){var Zn=pn.count;return K(Zn,function(Vn,Xn){return Vn.invoke(Xn,Zn)})}return Xt?te(nn)?nn?ln?new j(ln.thisDep,ln.contextDep,ln.propDep,function(Vn,Xn){return Xn.def(Vn.ELEMENTS,".vertCount-",Vn.OFFSET)}):J(function(Vn,Xn){return Xn.def(Vn.ELEMENTS,".vertCount")}):J(function(){return-1}):new j(nn.thisDep||ln.thisDep,nn.contextDep||ln.contextDep,nn.propDep||ln.propDep,function(Vn,Xn){var Kn=Vn.ELEMENTS;return Vn.OFFSET?Xn.def(Kn,"?",Kn,".vertCount-",Vn.OFFSET,":-1"):Xn.def(Kn,"?",Kn,".vertCount:-1")}):on?new j(Zt.thisDep,Zt.contextDep,Zt.propDep,function(Vn,Xn){return Xn.def(Vn.shared.vao,".currentVAO?",Vn.shared.vao,".currentVAO.count:-1")}):null}(),Fn=Kt("instances",!1);return{elements:nn,primitive:kn,count:En,instances:Fn,offset:ln,vao:Zt,vaoActive:on,elementsActive:Xt,static:yn}}function An(Et,Ht){var Kt=Et.static,gn=Et.dynamic,pn={};return Object.keys(Kt).forEach(function(yn){var on=Kt[yn],Zt=Ge.id(yn),Xt=new Yn;if(F(on))Xt.state=1,Xt.buffer=Re.getBuffer(Re.create(on,34962,!1,!0)),Xt.type=0;else if(ln=Re.getBuffer(on))Xt.state=1,Xt.buffer=ln,Xt.type=0;else if("constant"in on){var nn=on.constant;Xt.buffer="null",Xt.state=2,typeof nn=="number"?Xt.x=nn:$e.forEach(function(Vn,Xn){Xn<nn.length&&(Xt[Vn]=nn[Xn])})}else{var ln=F(on.buffer)?Re.getBuffer(Re.create(on.buffer,34962,!1,!0)):Re.getBuffer(on.buffer),kn=0|on.offset,En=0|on.stride,Fn=0|on.size,Bn=!!on.normalized,Zn=0;"type"in on&&(Zn=ke[on.type]),on=0|on.divisor,Xt.buffer=ln,Xt.state=1,Xt.size=Fn,Xt.normalized=Bn,Xt.type=Zn||ln.dtype,Xt.offset=kn,Xt.stride=En,Xt.divisor=on}pn[yn]=J(function(Vn,Xn){var Kn=Vn.attribCache;if(Zt in Kn)return Kn[Zt];var Wn={isStream:!1};return Object.keys(Xt).forEach(function(fr){Wn[fr]=Xt[fr]}),Xt.buffer&&(Wn.buffer=Vn.link(Xt.buffer),Wn.type=Wn.type||Wn.buffer+".dtype"),Kn[Zt]=Wn})}),Object.keys(gn).forEach(function(yn){var on=gn[yn];pn[yn]=K(on,function(Zt,Xt){function nn(Kn){Xt(Bn[Kn],"=",ln,".",Kn,"|0;")}var ln=Zt.invoke(Xt,on),kn=Zt.shared,En=Zt.constants,Fn=kn.isBufferArgs,Bn=(kn=kn.buffer,{isStream:Xt.def(!1)}),Zn=new Yn;Zn.state=1,Object.keys(Zn).forEach(function(Kn){Bn[Kn]=Xt.def(""+Zn[Kn])});var Vn=Bn.buffer,Xn=Bn.type;return Xt("if(",Fn,"(",ln,")){",Bn.isStream,"=true;",Vn,"=",kn,".createStream(",34962,",",ln,");",Xn,"=",Vn,".dtype;","}else{",Vn,"=",kn,".getBuffer(",ln,");","if(",Vn,"){",Xn,"=",Vn,".dtype;",'}else if("constant" in ',ln,"){",Bn.state,"=",2,";","if(typeof "+ln+'.constant === "number"){',Bn[$e[0]],"=",ln,".constant;",$e.slice(1).map(function(Kn){return Bn[Kn]}).join("="),"=0;","}else{",$e.map(function(Kn,Wn){return Bn[Kn]+"="+ln+".constant.length>"+Wn+"?"+ln+".constant["+Wn+"]:0;"}).join(""),"}}else{","if(",Fn,"(",ln,".buffer)){",Vn,"=",kn,".createStream(",34962,",",ln,".buffer);","}else{",Vn,"=",kn,".getBuffer(",ln,".buffer);","}",Xn,'="type" in ',ln,"?",En.glTypes,"[",ln,".type]:",Vn,".dtype;",Bn.normalized,"=!!",ln,".normalized;"),nn("size"),nn("offset"),nn("stride"),nn("divisor"),Xt("}}"),Xt.exit("if(",Bn.isStream,"){",kn,".destroyStream(",Vn,");","}"),Bn})}),pn}function _n(Et,Ht,Kt,gn,pn){function yn(Zn){var Vn=Zt[Zn];Vn&&(nn[Zn]=Vn)}var on=function(Zn,Vn){if(typeof(Xn=Zn.static).frag=="string"&&typeof Xn.vert=="string"){if(0<Object.keys(Vn.dynamic).length)return null;var Xn=Vn.static,Kn=Object.keys(Xn);if(0<Kn.length&&typeof Xn[Kn[0]]=="number"){for(var Wn=[],fr=0;fr<Kn.length;++fr)Wn.push([0|Xn[Kn[fr]],Kn[fr]]);return Wn}}return null}(Et,Ht),Zt=function(Zn,Vn,Xn){function Kn(lr){if(lr in Wn){var tr=Wn[lr];lr=!0;var pr,_r,Or=0|tr.x,ri=0|tr.y;return"width"in tr?pr=0|tr.width:lr=!1,"height"in tr?_r=0|tr.height:lr=!1,new j(!lr&&Vn&&Vn.thisDep,!lr&&Vn&&Vn.contextDep,!lr&&Vn&&Vn.propDep,function(Pi,ei){var Ti=Pi.shared.context,ra=pr;"width"in tr||(ra=ei.def(Ti,".","framebufferWidth","-",Or));var ia=_r;return"height"in tr||(ia=ei.def(Ti,".","framebufferHeight","-",ri)),[Or,ri,ra,ia]})}if(lr in fr){var ai=fr[lr];return lr=K(ai,function(Pi,ei){var Ti=Pi.invoke(ei,ai),ra=Pi.shared.context,ia=ei.def(Ti,".x|0"),Bo=ei.def(Ti,".y|0");return[ia,Bo,ei.def('"width" in ',Ti,"?",Ti,".width|0:","(",ra,".","framebufferWidth","-",ia,")"),Ti=ei.def('"height" in ',Ti,"?",Ti,".height|0:","(",ra,".","framebufferHeight","-",Bo,")")]}),Vn&&(lr.thisDep=lr.thisDep||Vn.thisDep,lr.contextDep=lr.contextDep||Vn.contextDep,lr.propDep=lr.propDep||Vn.propDep),lr}return Vn?new j(Vn.thisDep,Vn.contextDep,Vn.propDep,function(Pi,ei){var Ti=Pi.shared.context;return[0,0,ei.def(Ti,".","framebufferWidth"),ei.def(Ti,".","framebufferHeight")]}):null}var Wn=Zn.static,fr=Zn.dynamic;if(Zn=Kn("viewport")){var ar=Zn;Zn=new j(Zn.thisDep,Zn.contextDep,Zn.propDep,function(lr,tr){var pr=ar.append(lr,tr),_r=lr.shared.context;return tr.set(_r,".viewportWidth",pr[2]),tr.set(_r,".viewportHeight",pr[3]),pr})}return{viewport:Zn,scissor_box:Kn("scissor.box")}}(Et,kn=Nt(Et)),Xt=Jt(Et),nn=function(Zn,Vn){var Xn=Zn.static,Kn=Zn.dynamic,Wn={};return jn.forEach(function(fr){function ar(tr,pr){if(fr in Xn){var _r=tr(Xn[fr]);Wn[lr]=J(function(){return _r})}else if(fr in Kn){var Or=Kn[fr];Wn[lr]=K(Or,function(ri,ai){return pr(ri,ai,ri.invoke(ai,Or))})}}var lr=St(fr);switch(fr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return ar(function(tr){return tr},function(tr,pr,_r){return _r});case"depth.func":return ar(function(tr){return Ot[tr]},function(tr,pr,_r){return pr.def(tr.constants.compareFuncs,"[",_r,"]")});case"depth.range":return ar(function(tr){return tr},function(tr,pr,_r){return[pr.def("+",_r,"[0]"),pr=pr.def("+",_r,"[1]")]});case"blend.func":return ar(function(tr){return[Pt["srcRGB"in tr?tr.srcRGB:tr.src],Pt["dstRGB"in tr?tr.dstRGB:tr.dst],Pt["srcAlpha"in tr?tr.srcAlpha:tr.src],Pt["dstAlpha"in tr?tr.dstAlpha:tr.dst]]},function(tr,pr,_r){function Or(ei,Ti){return pr.def('"',ei,Ti,'" in ',_r,"?",_r,".",ei,Ti,":",_r,".",ei)}tr=tr.constants.blendFuncs;var ri=Or("src","RGB"),ai=Or("dst","RGB"),Pi=(ri=pr.def(tr,"[",ri,"]"),pr.def(tr,"[",Or("src","Alpha"),"]"));return[ri,ai=pr.def(tr,"[",ai,"]"),Pi,tr=pr.def(tr,"[",Or("dst","Alpha"),"]")]});case"blend.equation":return ar(function(tr){return typeof tr=="string"?[mr[tr],mr[tr]]:typeof tr=="object"?[mr[tr.rgb],mr[tr.alpha]]:void 0},function(tr,pr,_r){var Or=tr.constants.blendEquations,ri=pr.def(),ai=pr.def();return(tr=tr.cond("typeof ",_r,'==="string"')).then(ri,"=",ai,"=",Or,"[",_r,"];"),tr.else(ri,"=",Or,"[",_r,".rgb];",ai,"=",Or,"[",_r,".alpha];"),pr(tr),[ri,ai]});case"blend.color":return ar(function(tr){return b(4,function(pr){return+tr[pr]})},function(tr,pr,_r){return b(4,function(Or){return pr.def("+",_r,"[",Or,"]")})});case"stencil.mask":return ar(function(tr){return 0|tr},function(tr,pr,_r){return pr.def(_r,"|0")});case"stencil.func":return ar(function(tr){return[Ot[tr.cmp||"keep"],tr.ref||0,"mask"in tr?tr.mask:-1]},function(tr,pr,_r){return[tr=pr.def('"cmp" in ',_r,"?",tr.constants.compareFuncs,"[",_r,".cmp]",":",7680),pr.def(_r,".ref|0"),pr=pr.def('"mask" in ',_r,"?",_r,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return ar(function(tr){return[fr==="stencil.opBack"?1029:1028,Lt[tr.fail||"keep"],Lt[tr.zfail||"keep"],Lt[tr.zpass||"keep"]]},function(tr,pr,_r){function Or(ai){return pr.def('"',ai,'" in ',_r,"?",ri,"[",_r,".",ai,"]:",7680)}var ri=tr.constants.stencilOps;return[fr==="stencil.opBack"?1029:1028,Or("fail"),Or("zfail"),Or("zpass")]});case"polygonOffset.offset":return ar(function(tr){return[0|tr.factor,0|tr.units]},function(tr,pr,_r){return[pr.def(_r,".factor|0"),pr=pr.def(_r,".units|0")]});case"cull.face":return ar(function(tr){var pr=0;return tr==="front"?pr=1028:tr==="back"&&(pr=1029),pr},function(tr,pr,_r){return pr.def(_r,'==="front"?',1028,":",1029)});case"frontFace":return ar(function(tr){return He[tr]},function(tr,pr,_r){return pr.def(_r+'==="cw"?2304:2305')});case"colorMask":return ar(function(tr){return tr.map(function(pr){return!!pr})},function(tr,pr,_r){return b(4,function(Or){return"!!"+_r+"["+Or+"]"})});case"sample.coverage":return ar(function(tr){return["value"in tr?tr.value:1,!!tr.invert]},function(tr,pr,_r){return[pr.def('"value" in ',_r,"?+",_r,".value:1"),pr=pr.def("!!",_r,".invert")]})}}),Wn}(Et),ln=jt(Et,0,on);yn("viewport"),yn(St("scissor.box"));var kn,En=0<Object.keys(nn).length;if((kn={framebuffer:kn,draw:Xt,shader:ln,state:nn,dirty:En,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(Zn){var Vn,Xn=Zn.static;if(Zn=Zn.dynamic,"profile"in Xn){var Kn=!!Xn.profile;(Vn=J(function(fr,ar){return Kn})).enable=Kn}else if("profile"in Zn){var Wn=Zn.profile;Vn=K(Wn,function(fr,ar){return fr.invoke(ar,Wn)})}return Vn}(Et),kn.uniforms=function(Zn,Vn){var Xn=Zn.static,Kn=Zn.dynamic,Wn={};return Object.keys(Xn).forEach(function(fr){var ar,lr=Xn[fr];if(typeof lr=="number"||typeof lr=="boolean")ar=J(function(){return lr});else if(typeof lr=="function"){var tr=lr._reglType;tr==="texture2d"||tr==="textureCube"?ar=J(function(pr){return pr.link(lr)}):tr!=="framebuffer"&&tr!=="framebufferCube"||(ar=J(function(pr){return pr.link(lr.color[0])}))}else m(lr)&&(ar=J(function(pr){return pr.global.def("[",b(lr.length,function(_r){return lr[_r]}),"]")}));ar.value=lr,Wn[fr]=ar}),Object.keys(Kn).forEach(function(fr){var ar=Kn[fr];Wn[fr]=K(ar,function(lr,tr){return lr.invoke(tr,ar)})}),Wn}(Kt),kn.drawVAO=kn.scopeVAO=Xt.vao,!kn.drawVAO&&ln.program&&!on&&at.angle_instanced_arrays&&Xt.static.elements){var Fn=!0;if(Et=ln.program.attributes.map(function(Zn){return Zn=Ht.static[Zn],Fn=Fn&&!!Zn,Zn}),Fn&&0<Et.length){var Bn=ht.getVAO(ht.createVAO({attributes:Et,elements:Xt.static.elements}));kn.drawVAO=new j(null,null,null,function(Zn,Vn){return Zn.link(Bn)}),kn.useVAO=!0}}return on?kn.useVAO=!0:kn.attributes=An(Ht),kn.context=function(Zn){var Vn=Zn.static,Xn=Zn.dynamic,Kn={};return Object.keys(Vn).forEach(function(Wn){var fr=Vn[Wn];Kn[Wn]=J(function(ar,lr){return typeof fr=="number"||typeof fr=="boolean"?""+fr:ar.link(fr)})}),Object.keys(Xn).forEach(function(Wn){var fr=Xn[Wn];Kn[Wn]=K(fr,function(ar,lr){return ar.invoke(lr,fr)})}),Kn}(gn),kn}function un(Et,Ht,Kt){var gn=Et.shared.context,pn=Et.scope();Object.keys(Kt).forEach(function(yn){Ht.save(gn,"."+yn);var on=Kt[yn].append(Et,Ht);Array.isArray(on)?pn(gn,".",yn,"=[",on.join(),"];"):pn(gn,".",yn,"=",on,";")}),Ht(pn)}function Wt(Et,Ht,Kt,gn){var pn,yn=(Zt=Et.shared).gl,on=Zt.framebuffer;Qt&&(pn=Ht.def(Zt.extensions,".webgl_draw_buffers"));var Zt=(Xt=Et.constants).drawBuffer,Xt=Xt.backBuffer;Et=Kt?Kt.append(Et,Ht):Ht.def(on,".next"),gn||Ht("if(",Et,"!==",on,".cur){"),Ht("if(",Et,"){",yn,".bindFramebuffer(",36160,",",Et,".framebuffer);"),Qt&&Ht(pn,".drawBuffersWEBGL(",Zt,"[",Et,".colorAttachments.length]);"),Ht("}else{",yn,".bindFramebuffer(",36160,",null);"),Qt&&Ht(pn,".drawBuffersWEBGL(",Xt,");"),Ht("}",on,".cur=",Et,";"),gn||Ht("}")}function rn(Et,Ht,Kt){var gn=Et.shared,pn=gn.gl,yn=Et.current,on=Et.next,Zt=gn.current,Xt=gn.next,nn=Et.cond(Zt,".dirty");jn.forEach(function(ln){var kn,En;if(!((ln=St(ln))in Kt.state))if(ln in on){kn=on[ln],En=yn[ln];var Fn=b(fn[ln].length,function(Bn){return nn.def(kn,"[",Bn,"]")});nn(Et.cond(Fn.map(function(Bn,Zn){return Bn+"!=="+En+"["+Zn+"]"}).join("||")).then(pn,".",Dn[ln],"(",Fn,");",Fn.map(function(Bn,Zn){return En+"["+Zn+"]="+Bn}).join(";"),";"))}else kn=nn.def(Xt,".",ln),Fn=Et.cond(kn,"!==",Zt,".",ln),nn(Fn),ln in On?Fn(Et.cond(kn).then(pn,".enable(",On[ln],");").else(pn,".disable(",On[ln],");"),Zt,".",ln,"=",kn,";"):Fn(pn,".",Dn[ln],"(",kn,");",Zt,".",ln,"=",kn,";")}),Object.keys(Kt.state).length===0&&nn(Zt,".dirty=false;"),Ht(nn)}function $t(Et,Ht,Kt,gn){var pn,yn=Et.shared,on=Et.current,Zt=yn.current,Xt=yn.gl;V(Object.keys(Kt)).forEach(function(nn){var ln=Kt[nn];if(!gn||gn(ln)){var kn=ln.append(Et,Ht);if(On[nn]){var En=On[nn];te(ln)?(pn=Et.link(kn,{stable:!0}),Ht(Et.cond(pn).then(Xt,".enable(",En,");").else(Xt,".disable(",En,");")),Ht(Zt,".",nn,"=",pn,";")):(Ht(Et.cond(kn).then(Xt,".enable(",En,");").else(Xt,".disable(",En,");")),Ht(Zt,".",nn,"=",kn,";"))}else if(m(kn)){var Fn=on[nn];Ht(Xt,".",Dn[nn],"(",kn,");",kn.map(function(Bn,Zn){return Fn+"["+Zn+"]="+Bn}).join(";"),";")}else te(ln)?(pn=Et.link(kn,{stable:!0}),Ht(Xt,".",Dn[nn],"(",pn,");",Zt,".",nn,"=",pn,";")):Ht(Xt,".",Dn[nn],"(",kn,");",Zt,".",nn,"=",kn,";")}})}function sn(Et,Ht){Bt&&(Et.instancing=Ht.def(Et.shared.extensions,".angle_instanced_arrays"))}function xn(Et,Ht,Kt,gn,pn){function yn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function on(Zn){Zn(nn=Ht.def(),"=",yn(),";"),typeof pn=="string"?Zn(En,".count+=",pn,";"):Zn(En,".count++;"),xt&&(gn?Zn(ln=Ht.def(),"=",Bn,".getNumPendingQueries();"):Zn(Bn,".beginQuery(",En,");"))}function Zt(Zn){Zn(En,".cpuTime+=",yn(),"-",nn,";"),xt&&(gn?Zn(Bn,".pushScopeStats(",ln,",",Bn,".getNumPendingQueries(),",En,");"):Zn(Bn,".endQuery();"))}function Xt(Zn){var Vn=Ht.def(Fn,".profile");Ht(Fn,".profile=",Zn,";"),Ht.exit(Fn,".profile=",Vn,";")}var nn,ln,kn=Et.shared,En=Et.stats,Fn=kn.current,Bn=kn.timer;if(Kt=Kt.profile){if(te(Kt))return void(Kt.enable?(on(Ht),Zt(Ht.exit),Xt("true")):Xt("false"));Xt(Kt=Kt.append(Et,Ht))}else Kt=Ht.def(Fn,".profile");on(kn=Et.block()),Ht("if(",Kt,"){",kn,"}"),Zt(Et=Et.block()),Ht.exit("if(",Kt,"){",Et,"}")}function wn(Et,Ht,Kt,gn,pn){function yn(Zt,Xt,nn){function ln(){Ht("if(!",Bn,".buffer){",En,".enableVertexAttribArray(",Fn,");}");var Kn,Wn=nn.type;Kn=nn.size?Ht.def(nn.size,"||",Xt):Xt,Ht("if(",Bn,".type!==",Wn,"||",Bn,".size!==",Kn,"||",Xn.map(function(fr){return Bn+"."+fr+"!=="+nn[fr]}).join("||"),"){",En,".bindBuffer(",34962,",",Zn,".buffer);",En,".vertexAttribPointer(",[Fn,Kn,Wn,nn.normalized,nn.stride,nn.offset],");",Bn,".type=",Wn,";",Bn,".size=",Kn,";",Xn.map(function(fr){return Bn+"."+fr+"="+nn[fr]+";"}).join(""),"}"),Bt&&(Wn=nn.divisor,Ht("if(",Bn,".divisor!==",Wn,"){",Et.instancing,".vertexAttribDivisorANGLE(",[Fn,Wn],");",Bn,".divisor=",Wn,";}"))}function kn(){Ht("if(",Bn,".buffer){",En,".disableVertexAttribArray(",Fn,");",Bn,".buffer=null;","}if(",$e.map(function(Kn,Wn){return Bn+"."+Kn+"!=="+Vn[Wn]}).join("||"),"){",En,".vertexAttrib4f(",Fn,",",Vn,");",$e.map(function(Kn,Wn){return Bn+"."+Kn+"="+Vn[Wn]+";"}).join(""),"}")}var En=on.gl,Fn=Ht.def(Zt,".location"),Bn=Ht.def(on.attributes,"[",Fn,"]");Zt=nn.state;var Zn=nn.buffer,Vn=[nn.x,nn.y,nn.z,nn.w],Xn=["buffer","normalized","offset","stride"];Zt===1?ln():Zt===2?kn():(Ht("if(",Zt,"===",1,"){"),ln(),Ht("}else{"),kn(),Ht("}"))}var on=Et.shared;gn.forEach(function(Zt){var Xt,nn=Zt.name,ln=Kt.attributes[nn];if(ln){if(!pn(ln))return;Xt=ln.append(Et,Ht)}else{if(!pn(We))return;var kn=Et.scopeAttrib(nn);Xt={},Object.keys(new Yn).forEach(function(En){Xt[En]=Ht.def(kn,".",En)})}yn(Et.link(Zt),function(En){switch(En){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Zt.info.type),Xt)})}function Pn(Et,Ht,Kt,gn,pn,yn){for(var on,Zt=Et.shared,Xt=Zt.gl,nn=0;nn<gn.length;++nn){var ln,kn=(Bn=gn[nn]).name,En=Bn.info.type,Fn=Kt.uniforms[kn],Bn=Et.link(Bn)+".location";if(Fn){if(!pn(Fn))continue;if(te(Fn)){if(kn=Fn.value,En===35678||En===35680)Ht(Xt,".uniform1i(",Bn,",",(En=Et.link(kn._texture||kn.color[0]._texture))+".bind());"),Ht.exit(En,".unbind();");else if(En===35674||En===35675||En===35676)Fn=2,En===35675?Fn=3:En===35676&&(Fn=4),Ht(Xt,".uniformMatrix",Fn,"fv(",Bn,",false,",kn=Et.global.def("new Float32Array(["+Array.prototype.slice.call(kn)+"])"),");");else{switch(En){case 5126:on="1f";break;case 35664:on="2f";break;case 35665:on="3f";break;case 35666:on="4f";break;case 35670:case 5124:on="1i";break;case 35671:case 35667:on="2i";break;case 35672:case 35668:on="3i";break;case 35673:case 35669:on="4i"}Ht(Xt,".uniform",on,"(",Bn,",",m(kn)?Array.prototype.slice.call(kn):kn,");")}continue}ln=Fn.append(Et,Ht)}else{if(!pn(We))continue;ln=Ht.def(Zt.uniforms,"[",Ge.id(kn),"]")}switch(En===35678?Ht("if(",ln,"&&",ln,'._reglType==="framebuffer"){',ln,"=",ln,".color[0];","}"):En===35680&&Ht("if(",ln,"&&",ln,'._reglType==="framebufferCube"){',ln,"=",ln,".color[0];","}"),kn=1,En){case 35678:case 35680:En=Ht.def(ln,"._texture"),Ht(Xt,".uniform1i(",Bn,",",En,".bind());"),Ht.exit(En,".unbind();");continue;case 5124:case 35670:on="1i";break;case 35667:case 35671:on="2i",kn=2;break;case 35668:case 35672:on="3i",kn=3;break;case 35669:case 35673:on="4i",kn=4;break;case 5126:on="1f";break;case 35664:on="2f",kn=2;break;case 35665:on="3f",kn=3;break;case 35666:on="4f",kn=4;break;case 35674:on="Matrix2fv";break;case 35675:on="Matrix3fv";break;case 35676:on="Matrix4fv"}if(on.charAt(0)==="M"){Ht(Xt,".uniform",on,"(",Bn,","),Bn=Math.pow(En-35674+2,2);var Zn=Et.global.def("new Float32Array(",Bn,")");Array.isArray(ln)?Ht("false,(",b(Bn,function(Xn){return Zn+"["+Xn+"]="+ln[Xn]}),",",Zn,")"):Ht("false,(Array.isArray(",ln,")||",ln," instanceof Float32Array)?",ln,":(",b(Bn,function(Xn){return Zn+"["+Xn+"]="+ln+"["+Xn+"]"}),",",Zn,")"),Ht(");")}else{if(1<kn){En=[];var Vn=[];for(Fn=0;Fn<kn;++Fn)Array.isArray(ln)?Vn.push(ln[Fn]):Vn.push(Ht.def(ln+"["+Fn+"]")),yn&&En.push(Ht.def());yn&&Ht("if(!",Et.batchId,"||",En.map(function(Xn,Kn){return Xn+"!=="+Vn[Kn]}).join("||"),"){",En.map(function(Xn,Kn){return Xn+"="+Vn[Kn]+";"}).join("")),Ht(Xt,".uniform",on,"(",Bn,",",Vn.join(","),");")}else yn&&(En=Ht.def(),Ht("if(!",Et.batchId,"||",En,"!==",ln,"){",En,"=",ln,";")),Ht(Xt,".uniform",on,"(",Bn,",",ln,");");yn&&Ht("}")}}}function Cn(Et,Ht,Kt,gn){function pn(Wn){var fr=En[Wn];return fr?fr.contextDep&&gn.contextDynamic||fr.propDep?fr.append(Et,Kt):fr.append(Et,Ht):Ht.def(kn,".",Wn)}function yn(){function Wn(){Kt(Xt,".drawElementsInstancedANGLE(",[Bn,Vn,Xn,Zn+"<<(("+Xn+"-5121)>>1)",Zt],");")}function fr(){Kt(Xt,".drawArraysInstancedANGLE(",[Bn,Zn,Vn,Zt],");")}Fn&&Fn!=="null"?Kn?Wn():(Kt("if(",Fn,"){"),Wn(),Kt("}else{"),fr(),Kt("}")):fr()}function on(){function Wn(){Kt(ln+".drawElements("+[Bn,Vn,Xn,Zn+"<<(("+Xn+"-5121)>>1)"]+");")}function fr(){Kt(ln+".drawArrays("+[Bn,Zn,Vn]+");")}Fn&&Fn!=="null"?Kn?Wn():(Kt("if(",Fn,"){"),Wn(),Kt("}else{"),fr(),Kt("}")):fr()}var Zt,Xt,nn=Et.shared,ln=nn.gl,kn=nn.draw,En=gn.draw,Fn=function(){var Wn=En.elements,fr=Ht;return Wn?((Wn.contextDep&&gn.contextDynamic||Wn.propDep)&&(fr=Kt),Wn=Wn.append(Et,fr),En.elementsActive&&fr("if("+Wn+")"+ln+".bindBuffer(34963,"+Wn+".buffer.buffer);")):(Wn=fr.def(),fr(Wn,"=",kn,".","elements",";","if(",Wn,"){",ln,".bindBuffer(",34963,",",Wn,".buffer.buffer);}","else if(",nn.vao,".currentVAO){",Wn,"=",Et.shared.elements+".getElements("+nn.vao,".currentVAO.elements);",vn?"":"if("+Wn+")"+ln+".bindBuffer(34963,"+Wn+".buffer.buffer);","}")),Wn}(),Bn=pn("primitive"),Zn=pn("offset"),Vn=function(){var Wn=En.count,fr=Ht;return Wn?((Wn.contextDep&&gn.contextDynamic||Wn.propDep)&&(fr=Kt),Wn=Wn.append(Et,fr)):Wn=fr.def(kn,".","count"),Wn}();if(typeof Vn=="number"){if(Vn===0)return}else Kt("if(",Vn,"){"),Kt.exit("}");Bt&&(Zt=pn("instances"),Xt=Et.instancing);var Xn=Fn+".type",Kn=En.elements&&te(En.elements)&&!En.vaoActive;Bt&&(typeof Zt!="number"||0<=Zt)?typeof Zt=="string"?(Kt("if(",Zt,">0){"),yn(),Kt("}else if(",Zt,"<0){"),on(),Kt("}")):yn():on()}function Sn(Et,Ht,Kt,gn,pn){return pn=(Ht=en()).proc("body",pn),Bt&&(Ht.instancing=pn.def(Ht.shared.extensions,".angle_instanced_arrays")),Et(Ht,pn,Kt,gn),Ht.compile().body}function Nn(Et,Ht,Kt,gn){sn(Et,Ht),Kt.useVAO?Kt.drawVAO?Ht(Et.shared.vao,".setVAO(",Kt.drawVAO.append(Et,Ht),");"):Ht(Et.shared.vao,".setVAO(",Et.shared.vao,".targetVAO);"):(Ht(Et.shared.vao,".setVAO(null);"),wn(Et,Ht,Kt,gn.attributes,function(){return!0})),Pn(Et,Ht,Kt,gn.uniforms,function(){return!0},!1),Cn(Et,Ht,Ht,Kt)}function zn(Et,Ht,Kt,gn){function pn(){return!0}Et.batchId="a1",sn(Et,Ht),wn(Et,Ht,Kt,gn.attributes,pn),Pn(Et,Ht,Kt,gn.uniforms,pn,!1),Cn(Et,Ht,Ht,Kt)}function er(Et,Ht,Kt,gn){function pn(kn){return kn.contextDep&&on||kn.propDep}function yn(kn){return!pn(kn)}sn(Et,Ht);var on=Kt.contextDep,Zt=Ht.def(),Xt=Ht.def();Et.shared.props=Xt,Et.batchId=Zt;var nn=Et.scope(),ln=Et.scope();Ht(nn.entry,"for(",Zt,"=0;",Zt,"<","a1",";++",Zt,"){",Xt,"=","a0","[",Zt,"];",ln,"}",nn.exit),Kt.needsContext&&un(Et,ln,Kt.context),Kt.needsFramebuffer&&Wt(Et,ln,Kt.framebuffer),$t(Et,ln,Kt.state,pn),Kt.profile&&pn(Kt.profile)&&xn(Et,ln,Kt,!1,!0),gn?(Kt.useVAO?Kt.drawVAO?pn(Kt.drawVAO)?ln(Et.shared.vao,".setVAO(",Kt.drawVAO.append(Et,ln),");"):nn(Et.shared.vao,".setVAO(",Kt.drawVAO.append(Et,nn),");"):nn(Et.shared.vao,".setVAO(",Et.shared.vao,".targetVAO);"):(nn(Et.shared.vao,".setVAO(null);"),wn(Et,nn,Kt,gn.attributes,yn),wn(Et,ln,Kt,gn.attributes,pn)),Pn(Et,nn,Kt,gn.uniforms,yn,!1),Pn(Et,ln,Kt,gn.uniforms,pn,!0),Cn(Et,nn,ln,Kt)):(Ht=Et.global.def("{}"),gn=Kt.shader.progVar.append(Et,ln),Xt=ln.def(gn,".id"),nn=ln.def(Ht,"[",Xt,"]"),ln(Et.shared.gl,".useProgram(",gn,".program);","if(!",nn,"){",nn,"=",Ht,"[",Xt,"]=",Et.link(function(kn){return Sn(zn,Et,Kt,kn,2)}),"(",gn,");}",nn,".call(this,a0[",Zt,"],",Zt,");"))}function nr(Et,Ht){function Kt(Zt){var Xt=Ht.shader[Zt];Xt&&(Xt=Xt.append(Et,gn),isNaN(Xt)?gn.set(pn.shader,"."+Zt,Xt):gn.set(pn.shader,"."+Zt,Et.link(Xt,{stable:!0})))}var gn=Et.proc("scope",3);Et.batchId="a2";var pn=Et.shared,yn=pn.current;if(un(Et,gn,Ht.context),Ht.framebuffer&&Ht.framebuffer.append(Et,gn),V(Object.keys(Ht.state)).forEach(function(Zt){var Xt=Ht.state[Zt],nn=Xt.append(Et,gn);m(nn)?nn.forEach(function(ln,kn){isNaN(ln)?gn.set(Et.next[Zt],"["+kn+"]",ln):gn.set(Et.next[Zt],"["+kn+"]",Et.link(ln,{stable:!0}))}):te(Xt)?gn.set(pn.next,"."+Zt,Et.link(nn,{stable:!0})):gn.set(pn.next,"."+Zt,nn)}),xn(Et,gn,Ht,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Zt){var Xt=Ht.draw[Zt];Xt&&(Xt=Xt.append(Et,gn),isNaN(Xt)?gn.set(pn.draw,"."+Zt,Xt):gn.set(pn.draw,"."+Zt,Et.link(Xt),{stable:!0}))}),Object.keys(Ht.uniforms).forEach(function(Zt){var Xt=Ht.uniforms[Zt].append(Et,gn);Array.isArray(Xt)&&(Xt="["+Xt.map(function(nn){return isNaN(nn)?nn:Et.link(nn,{stable:!0})})+"]"),gn.set(pn.uniforms,"["+Et.link(Ge.id(Zt),{stable:!0})+"]",Xt)}),Object.keys(Ht.attributes).forEach(function(Zt){var Xt=Ht.attributes[Zt].append(Et,gn),nn=Et.scopeAttrib(Zt);Object.keys(new Yn).forEach(function(ln){gn.set(nn,"."+ln,Xt[ln])})}),Ht.scopeVAO){var on=Ht.scopeVAO.append(Et,gn);isNaN(on)?gn.set(pn.vao,".targetVAO",on):gn.set(pn.vao,".targetVAO",Et.link(on,{stable:!0}))}Kt("vert"),Kt("frag"),0<Object.keys(Ht.state).length&&(gn(yn,".dirty=true;"),gn.exit(yn,".dirty=true;")),gn("a1(",Et.shared.context,",a0,",Et.batchId,");")}function ir(Et,Ht,Kt){var gn=Ht.static[Kt];if(gn&&function(ln){if(typeof ln=="object"&&!m(ln)){for(var kn=Object.keys(ln),En=0;En<kn.length;++En)if(ae.isDynamic(ln[kn[En]]))return!0;return!1}}(gn)){var pn=Et.global,yn=Object.keys(gn),on=!1,Zt=!1,Xt=!1,nn=Et.global.def("{}");yn.forEach(function(ln){var kn=gn[ln];if(ae.isDynamic(kn))typeof kn=="function"&&(kn=gn[ln]=ae.unbox(kn)),ln=K(kn,null),on=on||ln.thisDep,Xt=Xt||ln.propDep,Zt=Zt||ln.contextDep;else{switch(pn(nn,".",ln,"="),typeof kn){case"number":pn(kn);break;case"string":pn('"',kn,'"');break;case"object":Array.isArray(kn)&&pn("[",kn.join(),"]");break;default:pn(Et.link(kn))}pn(";")}}),Ht.dynamic[Kt]=new ae.DynamicVariable(4,{thisDep:on,contextDep:Zt,propDep:Xt,ref:nn,append:function(ln,kn){yn.forEach(function(En){var Fn=gn[En];ae.isDynamic(Fn)&&(Fn=ln.invoke(kn,Fn),kn(nn,".",En,"=",Fn,";"))})}}),delete Ht.static[Kt]}}var Yn=ht.Record,mr={add:32774,subtract:32778,"reverse subtract":32779};at.ext_blend_minmax&&(mr.min=32775,mr.max=32776);var Bt=at.angle_instanced_arrays,Qt=at.webgl_draw_buffers,vn=at.oes_vertex_array_object,fn={dirty:!0,profile:Mt.profile},Tn={},jn=[],On={},Dn={};It("dither",3024),It("blend.enable",3042),Gt("blend.color","blendColor",[0,0,0,0]),Gt("blend.equation","blendEquationSeparate",[32774,32774]),Gt("blend.func","blendFuncSeparate",[1,0,1,0]),It("depth.enable",2929,!0),Gt("depth.func","depthFunc",513),Gt("depth.range","depthRange",[0,1]),Gt("depth.mask","depthMask",!0),Gt("colorMask","colorMask",[!0,!0,!0,!0]),It("cull.enable",2884),Gt("cull.face","cullFace",1029),Gt("frontFace","frontFace",2305),Gt("lineWidth","lineWidth",1),It("polygonOffset.enable",32823),Gt("polygonOffset.offset","polygonOffset",[0,0]),It("sample.alpha",32926),It("sample.enable",32928),Gt("sample.coverage","sampleCoverage",[1,!1]),It("stencil.enable",2960),Gt("stencil.mask","stencilMask",-1),Gt("stencil.func","stencilFunc",[519,0,-1]),Gt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Gt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),It("scissor.enable",3089),Gt("scissor.box","scissor",[0,0,Be.drawingBufferWidth,Be.drawingBufferHeight]),Gt("viewport","viewport",[0,0,Be.drawingBufferWidth,Be.drawingBufferHeight]);var $n={gl:Be,context:kt,strings:Ge,next:Tn,current:fn,draw:ut,elements:Fe,buffer:Re,shader:dt,attributes:ht.state,vao:ht,uniforms:ct,framebuffer:Ye,extensions:at,timer:xt,isBufferArgs:F},qt={primTypes:Ee,compareFuncs:Ot,blendFuncs:Pt,blendEquations:mr,stencilOps:Lt,glTypes:ke,orientationType:He};Qt&&(qt.backBuffer=[1029],qt.drawBuffer=b(nt.maxDrawbuffers,function(Et){return Et===0?[0]:b(Et,function(Ht){return 36064+Ht})}));var hn=0;return{next:Tn,current:fn,procs:function(){var Et=en(),Ht=Et.proc("poll"),Kt=Et.proc("refresh"),gn=Et.block();Ht(gn),Kt(gn);var pn,yn=(Xt=Et.shared).gl,on=Xt.next,Zt=Xt.current;gn(Zt,".dirty=false;"),Wt(Et,Ht),Wt(Et,Kt,null,!0),Bt&&(pn=Et.link(Bt)),at.oes_vertex_array_object&&Kt(Et.link(at.oes_vertex_array_object),".bindVertexArrayOES(null);");var Xt=Kt.def(Xt.attributes),nn=Kt.def(0),ln=Et.cond(nn,".buffer");ln.then(yn,".enableVertexAttribArray(i);",yn,".bindBuffer(",34962,",",nn,".buffer.buffer);",yn,".vertexAttribPointer(i,",nn,".size,",nn,".type,",nn,".normalized,",nn,".stride,",nn,".offset);").else(yn,".disableVertexAttribArray(i);",yn,".vertexAttrib4f(i,",nn,".x,",nn,".y,",nn,".z,",nn,".w);",nn,".buffer=null;");var kn=Et.link(nt.maxAttributes,{stable:!0});return Kt("for(var i=0;i<",kn,";++i){",nn,"=",Xt,"[i];",ln,"}"),Bt&&Kt("for(var i=0;i<",kn,";++i){",pn,".vertexAttribDivisorANGLE(i,",Xt,"[i].divisor);","}"),Kt(Et.shared.vao,".currentVAO=null;",Et.shared.vao,".setVAO(",Et.shared.vao,".targetVAO);"),Object.keys(On).forEach(function(En){var Fn=On[En],Bn=gn.def(on,".",En),Zn=Et.block();Zn("if(",Bn,"){",yn,".enable(",Fn,")}else{",yn,".disable(",Fn,")}",Zt,".",En,"=",Bn,";"),Kt(Zn),Ht("if(",Bn,"!==",Zt,".",En,"){",Zn,"}")}),Object.keys(Dn).forEach(function(En){var Fn,Bn,Zn=Dn[En],Vn=fn[En],Xn=Et.block();Xn(yn,".",Zn,"("),m(Vn)?(Zn=Vn.length,Fn=Et.global.def(on,".",En),Bn=Et.global.def(Zt,".",En),Xn(b(Zn,function(Kn){return Fn+"["+Kn+"]"}),");",b(Zn,function(Kn){return Bn+"["+Kn+"]="+Fn+"["+Kn+"];"}).join("")),Ht("if(",b(Zn,function(Kn){return Fn+"["+Kn+"]!=="+Bn+"["+Kn+"]"}).join("||"),"){",Xn,"}")):(Fn=gn.def(on,".",En),Bn=gn.def(Zt,".",En),Xn(Fn,");",Zt,".",En,"=",Fn,";"),Ht("if(",Fn,"!==",Bn,"){",Xn,"}")),Kt(Xn)}),Et.compile()}(),compile:function(Et,Ht,Kt,gn,pn){var yn=en();yn.stats=yn.link(pn),Object.keys(Ht.static).forEach(function(Zt){ir(yn,Ht,Zt)}),_t.forEach(function(Zt){ir(yn,Et,Zt)});var on=_n(Et,Ht,Kt,gn);return on.shader.program&&(on.shader.program.attributes.sort(function(Zt,Xt){return Zt.name<Xt.name?-1:1}),on.shader.program.uniforms.sort(function(Zt,Xt){return Zt.name<Xt.name?-1:1})),function(Zt,Xt){var nn=Zt.proc("draw",1);sn(Zt,nn),un(Zt,nn,Xt.context),Wt(Zt,nn,Xt.framebuffer),rn(Zt,nn,Xt),$t(Zt,nn,Xt.state),xn(Zt,nn,Xt,!1,!0);var ln=Xt.shader.progVar.append(Zt,nn);if(nn(Zt.shared.gl,".useProgram(",ln,".program);"),Xt.shader.program)Nn(Zt,nn,Xt,Xt.shader.program);else{nn(Zt.shared.vao,".setVAO(null);");var kn=Zt.global.def("{}"),En=nn.def(ln,".id"),Fn=nn.def(kn,"[",En,"]");nn(Zt.cond(Fn).then(Fn,".call(this,a0);").else(Fn,"=",kn,"[",En,"]=",Zt.link(function(Bn){return Sn(Nn,Zt,Xt,Bn,1)}),"(",ln,");",Fn,".call(this,a0);"))}0<Object.keys(Xt.state).length&&nn(Zt.shared.current,".dirty=true;"),Zt.shared.vao&&nn(Zt.shared.vao,".setVAO(null);")}(yn,on),nr(yn,on),function(Zt,Xt){function nn(Vn){return Vn.contextDep&&kn||Vn.propDep}var ln=Zt.proc("batch",2);Zt.batchId="0",sn(Zt,ln);var kn=!1,En=!0;Object.keys(Xt.context).forEach(function(Vn){kn=kn||Xt.context[Vn].propDep}),kn||(un(Zt,ln,Xt.context),En=!1);var Fn=!1;if((Bn=Xt.framebuffer)?(Bn.propDep?kn=Fn=!0:Bn.contextDep&&kn&&(Fn=!0),Fn||Wt(Zt,ln,Bn)):Wt(Zt,ln,null),Xt.state.viewport&&Xt.state.viewport.propDep&&(kn=!0),rn(Zt,ln,Xt),$t(Zt,ln,Xt.state,function(Vn){return!nn(Vn)}),Xt.profile&&nn(Xt.profile)||xn(Zt,ln,Xt,!1,"a1"),Xt.contextDep=kn,Xt.needsContext=En,Xt.needsFramebuffer=Fn,(En=Xt.shader.progVar).contextDep&&kn||En.propDep)er(Zt,ln,Xt,null);else if(En=En.append(Zt,ln),ln(Zt.shared.gl,".useProgram(",En,".program);"),Xt.shader.program)er(Zt,ln,Xt,Xt.shader.program);else{ln(Zt.shared.vao,".setVAO(null);");var Bn=Zt.global.def("{}"),Zn=(Fn=ln.def(En,".id"),ln.def(Bn,"[",Fn,"]"));ln(Zt.cond(Zn).then(Zn,".call(this,a0,a1);").else(Zn,"=",Bn,"[",Fn,"]=",Zt.link(function(Vn){return Sn(er,Zt,Xt,Vn,2)}),"(",En,");",Zn,".call(this,a0,a1);"))}0<Object.keys(Xt.state).length&&ln(Zt.shared.current,".dirty=true;"),Zt.shared.vao&&ln(Zt.shared.vao,".setVAO(null);")}(yn,on),Q(yn.compile(),{destroy:function(){on.shader.program.destroy()}})}}}function X(Be,Ge){for(var at=0;at<Be.length;++at)if(Be[at]===Ge)return at;return-1}var Q=function(Be,Ge){for(var at=Object.keys(Ge),nt=0;nt<at.length;++nt)Be[at[nt]]=Ge[at[nt]];return Be},re=0,ae={DynamicVariable:D,define:function(Be,Ge){return new D(Be,M(Ge+""))},isDynamic:function(Be){return typeof Be=="function"&&!Be._reglType||Be instanceof D},unbox:function Be(Ge,at){return typeof Ge=="function"?new D(0,Ge):typeof Ge=="number"||typeof Ge=="boolean"?new D(5,Ge):Array.isArray(Ge)?new D(6,Ge.map(function(nt,Re){return Be(nt)})):Ge instanceof D?Ge:void 0},accessor:M},ie={next:typeof requestAnimationFrame=="function"?function(Be){return requestAnimationFrame(Be)}:function(Be){return setTimeout(Be,16)},cancel:typeof cancelAnimationFrame=="function"?function(Be){return cancelAnimationFrame(Be)}:clearTimeout},le=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},pe=s();pe.zero=s();var de=function(Be,Ge){var at=1;Ge.ext_texture_filter_anisotropic&&(at=Be.getParameter(34047));var nt=1,Re=1;Ge.webgl_draw_buffers&&(nt=Be.getParameter(34852),Re=Be.getParameter(36063));var Fe=!!Ge.oes_texture_float;if(Fe){Fe=Be.createTexture(),Be.bindTexture(3553,Fe),Be.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var rt=Be.createFramebuffer();if(Be.bindFramebuffer(36160,rt),Be.framebufferTexture2D(36160,36064,3553,Fe,0),Be.bindTexture(3553,null),Be.checkFramebufferStatus(36160)!==36053)Fe=!1;else{Be.viewport(0,0,1,1),Be.clearColor(1,0,0,1),Be.clear(16384);var Ye=pe.allocType(5126,4);Be.readPixels(0,0,1,1,6408,5126,Ye),Be.getError()?Fe=!1:(Be.deleteFramebuffer(rt),Be.deleteTexture(Fe),Fe=Ye[0]===1),pe.freeType(Ye)}}return Ye=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Ye=Be.createTexture(),rt=pe.allocType(5121,36),Be.activeTexture(33984),Be.bindTexture(34067,Ye),Be.texImage2D(34069,0,6408,3,3,0,6408,5121,rt),pe.freeType(rt),Be.bindTexture(34067,null),Be.deleteTexture(Ye),Ye=!Be.getError()),{colorBits:[Be.getParameter(3410),Be.getParameter(3411),Be.getParameter(3412),Be.getParameter(3413)],depthBits:Be.getParameter(3414),stencilBits:Be.getParameter(3415),subpixelBits:Be.getParameter(3408),extensions:Object.keys(Ge).filter(function(ct){return!!Ge[ct]}),maxAnisotropic:at,maxDrawbuffers:nt,maxColorAttachments:Re,pointSizeDims:Be.getParameter(33901),lineWidthDims:Be.getParameter(33902),maxViewportDims:Be.getParameter(3386),maxCombinedTextureUnits:Be.getParameter(35661),maxCubeMapSize:Be.getParameter(34076),maxRenderbufferSize:Be.getParameter(34024),maxTextureUnits:Be.getParameter(34930),maxTextureSize:Be.getParameter(3379),maxAttributes:Be.getParameter(34921),maxVertexUniforms:Be.getParameter(36347),maxVertexTextureUnits:Be.getParameter(35660),maxVaryingVectors:Be.getParameter(36348),maxFragmentUniforms:Be.getParameter(36349),glsl:Be.getParameter(35724),renderer:Be.getParameter(7937),vendor:Be.getParameter(7936),version:Be.getParameter(7938),readFloat:Fe,npotTextureCube:Ye}},ve=function(Be){return Be instanceof Uint8Array||Be instanceof Uint16Array||Be instanceof Uint32Array||Be instanceof Int8Array||Be instanceof Int16Array||Be instanceof Int32Array||Be instanceof Float32Array||Be instanceof Float64Array||Be instanceof Uint8ClampedArray},be=function(Be){return Object.keys(Be).map(function(Ge){return Be[Ge]})},me={shape:function(Be){for(var Ge=[];Be.length;Be=Be[0])Ge.push(Be.length);return Ge},flatten:function(Be,Ge,at,nt){var Re=1;if(Ge.length)for(var Fe=0;Fe<Ge.length;++Fe)Re*=Ge[Fe];else Re=0;switch(at=nt||pe.allocType(at,Re),Ge.length){case 0:break;case 1:for(nt=Ge[0],Ge=0;Ge<nt;++Ge)at[Ge]=Be[Ge];break;case 2:for(nt=Ge[0],Ge=Ge[1],Fe=Re=0;Fe<nt;++Fe)for(var rt=Be[Fe],Ye=0;Ye<Ge;++Ye)at[Re++]=rt[Ye];break;case 3:i(Be,Ge[0],Ge[1],Ge[2],at,0);break;default:r(Be,Ge,0,at,0)}return at}},ge={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ke={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},we={dynamic:35048,stream:35040,static:35044},ue=me.flatten,oe=me.shape,he=[];he[5120]=1,he[5122]=2,he[5124]=4,he[5121]=1,he[5123]=2,he[5125]=4,he[5126]=4;var Ee={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Te=new Float32Array(1),Me=new Uint32Array(Te.buffer),Se=[9984,9986,9985,9987],ze=[0,6409,6410,6407,6408],fe={};fe[6409]=fe[6406]=fe[6402]=1,fe[34041]=fe[6410]=2,fe[6407]=fe[35904]=3,fe[6408]=fe[35906]=4;var xe=f("HTMLCanvasElement"),_e=f("OffscreenCanvas"),Oe=f("CanvasRenderingContext2D"),De=f("ImageBitmap"),Pe=f("HTMLImageElement"),Ue=f("HTMLVideoElement"),Ve=Object.keys(ge).concat([xe,_e,Oe,De,Pe,Ue]),Xe=[];Xe[5121]=1,Xe[5126]=4,Xe[36193]=2,Xe[5123]=2,Xe[5125]=4;var it=[];it[32854]=2,it[32855]=2,it[36194]=2,it[34041]=4,it[33776]=.5,it[33777]=.5,it[33778]=1,it[33779]=1,it[35986]=.5,it[35987]=1,it[34798]=1,it[35840]=.5,it[35841]=.25,it[35842]=.5,it[35843]=.25,it[36196]=.5;var tt=[];tt[32854]=2,tt[32855]=2,tt[36194]=2,tt[33189]=2,tt[36168]=1,tt[34041]=4,tt[35907]=4,tt[34836]=16,tt[34842]=8,tt[34843]=6;var pt=function(Be,Ge,at,nt,Re){function Fe(ut){this.id=ht++,this.refCount=1,this.renderbuffer=ut,this.format=32854,this.height=this.width=0,Re.profile&&(this.stats={size:0})}function rt(ut){var kt=ut.renderbuffer;Be.bindRenderbuffer(36161,null),Be.deleteRenderbuffer(kt),ut.renderbuffer=null,ut.refCount=0,delete dt[ut.id],nt.renderbufferCount--}var Ye={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Ge.ext_srgb&&(Ye.srgba=35907),Ge.ext_color_buffer_half_float&&(Ye.rgba16f=34842,Ye.rgb16f=34843),Ge.webgl_color_buffer_float&&(Ye.rgba32f=34836);var ct=[];Object.keys(Ye).forEach(function(ut){ct[Ye[ut]]=ut});var ht=0,dt={};return Fe.prototype.decRef=function(){0>=--this.refCount&&rt(this)},Re.profile&&(nt.getTotalRenderbufferSize=function(){var ut=0;return Object.keys(dt).forEach(function(kt){ut+=dt[kt].stats.size}),ut}),{create:function(ut,kt){function xt(Mt,St){var It=0,Gt=0,en=32854;if(typeof Mt=="object"&&Mt?("shape"in Mt?(It=0|(Gt=Mt.shape)[0],Gt=0|Gt[1]):("radius"in Mt&&(It=Gt=0|Mt.radius),"width"in Mt&&(It=0|Mt.width),"height"in Mt&&(Gt=0|Mt.height)),"format"in Mt&&(en=Ye[Mt.format])):typeof Mt=="number"?(It=0|Mt,Gt=typeof St=="number"?0|St:It):Mt||(It=Gt=1),It!==vt.width||Gt!==vt.height||en!==vt.format)return xt.width=vt.width=It,xt.height=vt.height=Gt,vt.format=en,Be.bindRenderbuffer(36161,vt.renderbuffer),Be.renderbufferStorage(36161,en,It,Gt),Re.profile&&(vt.stats.size=tt[vt.format]*vt.width*vt.height),xt.format=ct[vt.format],xt}var vt=new Fe(Be.createRenderbuffer());return dt[vt.id]=vt,nt.renderbufferCount++,xt(ut,kt),xt.resize=function(Mt,St){var It=0|Mt,Gt=0|St||It;return It===vt.width&&Gt===vt.height||(xt.width=vt.width=It,xt.height=vt.height=Gt,Be.bindRenderbuffer(36161,vt.renderbuffer),Be.renderbufferStorage(36161,vt.format,It,Gt),Re.profile&&(vt.stats.size=tt[vt.format]*vt.width*vt.height)),xt},xt._reglType="renderbuffer",xt._renderbuffer=vt,Re.profile&&(xt.stats=vt.stats),xt.destroy=function(){vt.decRef()},xt},clear:function(){be(dt).forEach(rt)},restore:function(){be(dt).forEach(function(ut){ut.renderbuffer=Be.createRenderbuffer(),Be.bindRenderbuffer(36161,ut.renderbuffer),Be.renderbufferStorage(36161,ut.format,ut.width,ut.height)}),Be.bindRenderbuffer(36161,null)}}},mt=[];mt[6408]=4,mt[6407]=3;var gt=[];gt[5121]=1,gt[5126]=4,gt[36193]=2;var et=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],$e=["x","y","z","w"],_t="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Pt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ot={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},He={cw:2304,ccw:2305},We=new j(!1,!1,!1,function(){});return function(Be){function Ge(){if(zn.length===0)Nt&&Nt.update(),Yn=null;else{Yn=ie.next(Ge),dt();for(var Bt=zn.length-1;0<=Bt;--Bt){var Qt=zn[Bt];Qt&&Qt(_n,null,0)}xt.flush(),Nt&&Nt.update()}}function at(){!Yn&&0<zn.length&&(Yn=ie.next(Ge))}function nt(){Yn&&(ie.cancel(Ge),Yn=null)}function Re(Bt){Bt.preventDefault(),nt(),er.forEach(function(Qt){Qt()})}function Fe(Bt){xt.getError(),Mt.restore(),sn.restore(),Wt.restore(),xn.restore(),wn.restore(),Pn.restore(),$t.restore(),Nt&&Nt.restore(),Cn.procs.refresh(),at(),nr.forEach(function(Qt){Qt()})}function rt(Bt){function Qt(Et,Ht){var Kt={},gn={};return Object.keys(Et).forEach(function(pn){var yn=Et[pn];if(ae.isDynamic(yn))gn[pn]=ae.unbox(yn,pn);else{if(Ht&&Array.isArray(yn)){for(var on=0;on<yn.length;++on)if(ae.isDynamic(yn[on]))return void(gn[pn]=ae.unbox(yn,pn))}Kt[pn]=yn}}),{dynamic:gn,static:Kt}}var vn=Qt(Bt.context||{},!0),fn=Qt(Bt.uniforms||{},!0),Tn=Qt(Bt.attributes||{},!1);Bt=Qt(function(Et){function Ht(gn){if(gn in Kt){var pn=Kt[gn];delete Kt[gn],Object.keys(pn).forEach(function(yn){Kt[gn+"."+yn]=pn[yn]})}}var Kt=Q({},Et);return delete Kt.uniforms,delete Kt.attributes,delete Kt.context,delete Kt.vao,"stencil"in Kt&&Kt.stencil.op&&(Kt.stencil.opBack=Kt.stencil.opFront=Kt.stencil.op,delete Kt.stencil.op),Ht("blend"),Ht("depth"),Ht("cull"),Ht("stencil"),Ht("polygonOffset"),Ht("scissor"),Ht("sample"),"vao"in Et&&(Kt.vao=Et.vao),Kt}(Bt),!1);var jn={gpuTime:0,cpuTime:0,count:0},On=Cn.compile(Bt,Tn,fn,vn,jn),Dn=On.draw,$n=On.batch,qt=On.scope,hn=[];return Q(function(Et,Ht){var Kt;if(typeof Et=="function")return qt.call(this,null,Et,0);if(typeof Ht=="function")if(typeof Et=="number")for(Kt=0;Kt<Et;++Kt)qt.call(this,null,Ht,Kt);else{if(!Array.isArray(Et))return qt.call(this,Et,Ht,0);for(Kt=0;Kt<Et.length;++Kt)qt.call(this,Et[Kt],Ht,Kt)}else if(typeof Et=="number"){if(0<Et)return $n.call(this,function(gn){for(;hn.length<gn;)hn.push(null);return hn}(0|Et),0|Et)}else{if(!Array.isArray(Et))return Dn.call(this,Et);if(Et.length)return $n.call(this,Et,Et.length)}},{stats:jn,destroy:function(){On.destroy()}})}function Ye(Bt,Qt){var vn=0;Cn.procs.poll();var fn=Qt.color;fn&&(xt.clearColor(+fn[0]||0,+fn[1]||0,+fn[2]||0,+fn[3]||0),vn|=16384),"depth"in Qt&&(xt.clearDepth(+Qt.depth),vn|=256),"stencil"in Qt&&(xt.clearStencil(0|Qt.stencil),vn|=1024),xt.clear(vn)}function ct(Bt){return zn.push(Bt),at(),{cancel:function(){var Qt=X(zn,Bt);zn[Qt]=function vn(){var fn=X(zn,vn);zn[fn]=zn[zn.length-1],--zn.length,0>=zn.length&&nt()}}}}function ht(){var Bt=Sn.viewport,Qt=Sn.scissor_box;Bt[0]=Bt[1]=Qt[0]=Qt[1]=0,_n.viewportWidth=_n.framebufferWidth=_n.drawingBufferWidth=Bt[2]=Qt[2]=xt.drawingBufferWidth,_n.viewportHeight=_n.framebufferHeight=_n.drawingBufferHeight=Bt[3]=Qt[3]=xt.drawingBufferHeight}function dt(){_n.tick+=1,_n.time=kt(),ht(),Cn.procs.poll()}function ut(){xn.refresh(),ht(),Cn.procs.refresh(),Nt&&Nt.update()}function kt(){return(le()-jt)/1e3}if(!(Be=T(Be)))return null;var xt=Be.gl,vt=xt.getContextAttributes();xt.isContextLost();var Mt=function(Bt,Qt){function vn(On){var Dn;On=On.toLowerCase();try{Dn=fn[On]=Bt.getExtension(On)}catch{}return!!Dn}for(var fn={},Tn=0;Tn<Qt.extensions.length;++Tn){var jn=Qt.extensions[Tn];if(!vn(jn))return Qt.onDestroy(),Qt.onDone('"'+jn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Qt.optionalExtensions.forEach(vn),{extensions:fn,restore:function(){Object.keys(fn).forEach(function(On){if(fn[On]&&!vn(On))throw Error("(regl): error restoring extension "+On)})}}}(xt,Be);if(!Mt)return null;var St=function(){var Bt={"":0},Qt=[""];return{id:function(vn){var fn=Bt[vn];return fn||(fn=Bt[vn]=Qt.length,Qt.push(vn),fn)},str:function(vn){return Qt[vn]}}}(),It={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Gt=Be.cachedCode||{},en=Mt.extensions,Nt=function(Bt,Qt){function vn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function fn(hn,Et,Ht){var Kt=On.pop()||new vn;Kt.startQueryIndex=hn,Kt.endQueryIndex=Et,Kt.sum=0,Kt.stats=Ht,Dn.push(Kt)}if(!Qt.ext_disjoint_timer_query)return null;var Tn=[],jn=[],On=[],Dn=[],$n=[],qt=[];return{beginQuery:function(hn){var Et=Tn.pop()||Qt.ext_disjoint_timer_query.createQueryEXT();Qt.ext_disjoint_timer_query.beginQueryEXT(35007,Et),jn.push(Et),fn(jn.length-1,jn.length,hn)},endQuery:function(){Qt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:fn,update:function(){var hn,Et;if((hn=jn.length)!==0){qt.length=Math.max(qt.length,hn+1),$n.length=Math.max($n.length,hn+1),$n[0]=0;var Ht=qt[0]=0;for(Et=hn=0;Et<jn.length;++Et){var Kt=jn[Et];Qt.ext_disjoint_timer_query.getQueryObjectEXT(Kt,34919)?(Ht+=Qt.ext_disjoint_timer_query.getQueryObjectEXT(Kt,34918),Tn.push(Kt)):jn[hn++]=Kt,$n[Et+1]=Ht,qt[Et+1]=hn}for(jn.length=hn,Et=hn=0;Et<Dn.length;++Et){var gn=(Ht=Dn[Et]).startQueryIndex;Kt=Ht.endQueryIndex,Ht.sum+=$n[Kt]-$n[gn],gn=qt[gn],(Kt=qt[Kt])===gn?(Ht.stats.gpuTime+=Ht.sum/1e6,On.push(Ht)):(Ht.startQueryIndex=gn,Ht.endQueryIndex=Kt,Dn[hn++]=Ht)}Dn.length=hn}},getNumPendingQueries:function(){return jn.length},clear:function(){Tn.push.apply(Tn,jn);for(var hn=0;hn<Tn.length;hn++)Qt.ext_disjoint_timer_query.deleteQueryEXT(Tn[hn]);jn.length=0,Tn.length=0},restore:function(){jn.length=0,Tn.length=0}}}(0,en),jt=le(),Jt=xt.drawingBufferWidth,An=xt.drawingBufferHeight,_n={tick:0,time:0,viewportWidth:Jt,viewportHeight:An,framebufferWidth:Jt,framebufferHeight:An,drawingBufferWidth:Jt,drawingBufferHeight:An,pixelRatio:Be.pixelRatio},un=(Jt={elements:null,primitive:4,count:-1,offset:0,instances:-1},de(xt,en)),Wt=u(xt,It,Be,function(Bt){return $t.destroyBuffer(Bt)}),rn=d(xt,en,Wt,It),$t=C(xt,en,un,It,Wt,rn,Jt),sn=P(xt,St,It,Be),xn=S(xt,en,un,function(){Cn.procs.poll()},_n,It,Be),wn=pt(xt,en,0,It,Be),Pn=w(xt,en,un,xn,wn,It),Cn=Z(xt,St,en,un,Wt,rn,0,Pn,{},$t,sn,Jt,_n,Nt,Gt,Be),Sn=(St=O(xt,Pn,Cn.procs.poll,_n),Cn.next),Nn=xt.canvas,zn=[],er=[],nr=[],ir=[Be.onDestroy],Yn=null;Nn&&(Nn.addEventListener("webglcontextlost",Re,!1),Nn.addEventListener("webglcontextrestored",Fe,!1));var mr=Pn.setFBO=rt({framebuffer:ae.define.call(null,1,"framebuffer")});return ut(),vt=Q(rt,{clear:function(Bt){if("framebuffer"in Bt)if(Bt.framebuffer&&Bt.framebuffer_reglType==="framebufferCube")for(var Qt=0;6>Qt;++Qt)mr(Q({framebuffer:Bt.framebuffer.faces[Qt]},Bt),Ye);else mr(Bt,Ye);else Ye(0,Bt)},prop:ae.define.bind(null,1),context:ae.define.bind(null,2),this:ae.define.bind(null,3),draw:rt({}),buffer:function(Bt){return Wt.create(Bt,34962,!1,!1)},elements:function(Bt){return rn.create(Bt,!1)},texture:xn.create2D,cube:xn.createCube,renderbuffer:wn.create,framebuffer:Pn.create,framebufferCube:Pn.createCube,vao:$t.createVAO,attributes:vt,frame:ct,on:function(Bt,Qt){var vn;switch(Bt){case"frame":return ct(Qt);case"lost":vn=er;break;case"restore":vn=nr;break;case"destroy":vn=ir}return vn.push(Qt),{cancel:function(){for(var fn=0;fn<vn.length;++fn)if(vn[fn]===Qt){vn[fn]=vn[vn.length-1],vn.pop();break}}}},limits:un,hasExtension:function(Bt){return 0<=un.extensions.indexOf(Bt.toLowerCase())},read:St,destroy:function(){zn.length=0,nt(),Nn&&(Nn.removeEventListener("webglcontextlost",Re),Nn.removeEventListener("webglcontextrestored",Fe)),sn.clear(),Pn.clear(),wn.clear(),$t.clear(),xn.clear(),rn.clear(),Wt.clear(),Nt&&Nt.clear(),ir.forEach(function(Bt){Bt()})},_gl:xt,_refresh:ut,poll:function(){dt(),Nt&&Nt.update()},now:kt,stats:It,getCachedCode:function(){return Gt},preloadCachedCode:function(Bt){Object.entries(Bt).forEach(function(Qt){Gt[Qt[0]]=Qt[1]})}}),Be.onDone(null,vt),vt}}()},30456:function(ee,D,e){var M=e(33576),k=M.Buffer;function a(b,g){for(var s in b)g[s]=b[s]}function T(b,g,s){return k(b,g,s)}k.from&&k.alloc&&k.allocUnsafe&&k.allocUnsafeSlow?ee.exports=M:(a(M,D),D.Buffer=T),T.prototype=Object.create(k.prototype),a(k,T),T.from=function(b,g,s){if(typeof b=="number")throw new TypeError("Argument must not be a number");return k(b,g,s)},T.alloc=function(b,g,s){if(typeof b!="number")throw new TypeError("Argument must be a number");var t=k(b);return g!==void 0?typeof s=="string"?t.fill(g,s):t.fill(g):t.fill(0),t},T.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return k(b)},T.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return M.SlowBuffer(b)}},14500:function(ee,D,e){var M=e(53664),k=e(64348),a=e(39640)(),T=e(2304),b=M("%TypeError%"),g=M("%Math.floor%");ee.exports=function(s,t){if(typeof s!="function")throw new b("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||g(t)!==t)throw new b("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],r=!0,n=!0;if("length"in s&&T){var o=T(s,"length");o&&!o.configurable&&(r=!1),o&&!o.writable&&(n=!1)}return(r||n||!i)&&(a?k(s,"length",t,!0,!0):k(s,"length",t)),s}},29936:function(ee,D,e){ee.exports=k;var M=e(61252).EventEmitter;function k(){M.call(this)}e(6768)(k,M),k.Readable=e(12348),k.Writable=e(11288),k.Duplex=e(15316),k.Transform=e(22477),k.PassThrough=e(27136),k.finished=e(15932),k.pipeline=e(38180),k.Stream=k,k.prototype.pipe=function(a,T){var b=this;function g(l){a.writable&&a.write(l)===!1&&b.pause&&b.pause()}function s(){b.readable&&b.resume&&b.resume()}b.on("data",g),a.on("drain",s),a._isStdio||T&&T.end===!1||(b.on("end",i),b.on("close",r));var t=!1;function i(){t||(t=!0,a.end())}function r(){t||(t=!0,typeof a.destroy=="function"&&a.destroy())}function n(l){if(o(),M.listenerCount(this,"error")===0)throw l}function o(){b.removeListener("data",g),a.removeListener("drain",s),b.removeListener("end",i),b.removeListener("close",r),b.removeListener("error",n),a.removeListener("error",n),b.removeListener("end",o),b.removeListener("close",o),a.removeListener("close",o)}return b.on("error",n),a.on("error",n),b.on("end",o),b.on("close",o),a.on("close",o),a.emit("pipe",b),a}},92784:function(ee){var D={};function e(k,a,T){T||(T=Error);var b=function(g){var s,t;function i(r,n,o){return g.call(this,function(l,u,d){return typeof a=="string"?a:a(l,u,d)}(r,n,o))||this}return t=g,(s=i).prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t,i}(T);b.prototype.name=T.name,b.prototype.code=k,D[k]=b}function M(k,a){if(Array.isArray(k)){var T=k.length;return k=k.map(function(b){return String(b)}),T>2?"one of ".concat(a," ").concat(k.slice(0,T-1).join(", "),", or ")+k[T-1]:T===2?"one of ".concat(a," ").concat(k[0]," or ").concat(k[1]):"of ".concat(a," ").concat(k[0])}return"of ".concat(a," ").concat(String(k))}e("ERR_INVALID_OPT_VALUE",function(k,a){return'The value "'+a+'" is invalid for option "'+k+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(k,a,T){var b,g,s,t,i;if(typeof a=="string"&&(g="not ",a.substr(0,4)===g)?(b="must not be",a=a.replace(/^not /,"")):b="must be",function(n,o,l){return(l===void 0||l>n.length)&&(l=n.length),n.substring(l-9,l)===o}(k," argument"))s="The ".concat(k," ").concat(b," ").concat(M(a,"type"));else{var r=(typeof i!="number"&&(i=0),i+1>(t=k).length||t.indexOf(".",i)===-1?"argument":"property");s='The "'.concat(k,'" ').concat(r," ").concat(b," ").concat(M(a,"type"))}return s+". Received type ".concat(typeof T)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ee.exports.i=D},15316:function(ee,D,e){var M=e(4168),k=Object.keys||function(n){var o=[];for(var l in n)o.push(l);return o};ee.exports=t;var a=e(12348),T=e(11288);e(6768)(t,a);for(var b=k(T.prototype),g=0;g<b.length;g++){var s=b[g];t.prototype[s]||(t.prototype[s]=T.prototype[s])}function t(n){if(!(this instanceof t))return new t(n);a.call(this,n),T.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||M.nextTick(r,this)}function r(n){n.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}})},27136:function(ee,D,e){ee.exports=k;var M=e(22477);function k(a){if(!(this instanceof k))return new k(a);M.call(this,a)}e(6768)(k,M),k.prototype._transform=function(a,T,b){b(null,a)}},12348:function(ee,D,e){var M,k=e(4168);ee.exports=_,_.ReadableState=x,e(61252).EventEmitter;var a,T=function(J,K){return J.listeners(K).length},b=e(4776),g=e(33576).Buffer,s=e.g.Uint8Array||function(){},t=e(19768);a=t&&t.debuglog?t.debuglog("stream"):function(){};var i,r,n,o=e(47264),l=e(55324),u=e(24888).getHighWaterMark,d=e(92784).i,c=d.ERR_INVALID_ARG_TYPE,m=d.ERR_STREAM_PUSH_AFTER_EOF,f=d.ERR_METHOD_NOT_IMPLEMENTED,p=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(6768)(_,b);var v=l.errorOrDestroy,y=["error","close","destroy","pause","resume"];function x(J,K,Z){M=M||e(15316),J=J||{},typeof Z!="boolean"&&(Z=K instanceof M),this.objectMode=!!J.objectMode,Z&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=u(this,J,"readableHighWaterMark",Z),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(i||(i=e(86032).o),this.decoder=new i(J.encoding),this.encoding=J.encoding)}function _(J){if(M=M||e(15316),!(this instanceof _))return new _(J);var K=this instanceof M;this._readableState=new x(J,this,K),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),b.call(this)}function h(J,K,Z,X,Q){a("readableAddChunk",K);var re,ae=J._readableState;if(K===null)ae.reading=!1,function(ie,le){if(a("onEofChunk"),!le.ended){if(le.decoder){var pe=le.decoder.end();pe&&pe.length&&(le.buffer.push(pe),le.length+=le.objectMode?1:pe.length)}le.ended=!0,le.sync?C(ie):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,P(ie)))}}(J,ae);else if(Q||(re=function(ie,le){var pe,de;return de=le,g.isBuffer(de)||de instanceof s||typeof le=="string"||le===void 0||ie.objectMode||(pe=new c("chunk",["string","Buffer","Uint8Array"],le)),pe}(ae,K)),re)v(J,re);else if(ae.objectMode||K&&K.length>0)if(typeof K=="string"||ae.objectMode||Object.getPrototypeOf(K)===g.prototype||(K=function(ie){return g.from(ie)}(K)),X)ae.endEmitted?v(J,new p):S(J,ae,K,!0);else if(ae.ended)v(J,new m);else{if(ae.destroyed)return!1;ae.reading=!1,ae.decoder&&!Z?(K=ae.decoder.write(K),ae.objectMode||K.length!==0?S(J,ae,K,!1):O(J,ae)):S(J,ae,K,!1)}else X||(ae.reading=!1,O(J,ae));return!ae.ended&&(ae.length<ae.highWaterMark||ae.length===0)}function S(J,K,Z,X){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,J.emit("data",Z)):(K.length+=K.objectMode?1:Z.length,X?K.buffer.unshift(Z):K.buffer.push(Z),K.needReadable&&C(J)),O(J,K)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(J){this._readableState&&(this._readableState.destroyed=J)}}),_.prototype.destroy=l.destroy,_.prototype._undestroy=l.undestroy,_.prototype._destroy=function(J,K){K(J)},_.prototype.push=function(J,K){var Z,X=this._readableState;return X.objectMode?Z=!0:typeof J=="string"&&((K=K||X.defaultEncoding)!==X.encoding&&(J=g.from(J,K),K=""),Z=!0),h(this,J,K,!1,Z)},_.prototype.unshift=function(J){return h(this,J,null,!0,!1)},_.prototype.isPaused=function(){return this._readableState.flowing===!1},_.prototype.setEncoding=function(J){i||(i=e(86032).o);var K=new i(J);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,X="";Z!==null;)X+=K.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),X!==""&&this._readableState.buffer.push(X),this._readableState.length=X.length,this};var w=1073741824;function E(J,K){return J<=0||K.length===0&&K.ended?0:K.objectMode?1:J!=J?K.flowing&&K.length?K.buffer.head.data.length:K.length:(J>K.highWaterMark&&(K.highWaterMark=function(Z){return Z>=w?Z=w:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}(J)),J<=K.length?J:K.ended?K.length:(K.needReadable=!0,0))}function C(J){var K=J._readableState;a("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(a("emitReadable",K.flowing),K.emittedReadable=!0,k.nextTick(P,J))}function P(J){var K=J._readableState;a("emitReadable_",K.destroyed,K.length,K.ended),K.destroyed||!K.length&&!K.ended||(J.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,W(J)}function O(J,K){K.readingMore||(K.readingMore=!0,k.nextTick(R,J,K))}function R(J,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var Z=K.length;if(a("maybeReadMore read 0"),J.read(0),Z===K.length)break}K.readingMore=!1}function U(J){var K=J._readableState;K.readableListening=J.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:J.listenerCount("data")>0&&J.resume()}function z(J){a("readable nexttick read 0"),J.read(0)}function N(J,K){a("resume",K.reading),K.reading||J.read(0),K.resumeScheduled=!1,J.emit("resume"),W(J),K.flowing&&!K.reading&&J.read(0)}function W(J){var K=J._readableState;for(a("flow",K.flowing);K.flowing&&J.read()!==null;);}function F(J,K){return K.length===0?null:(K.objectMode?Z=K.buffer.shift():!J||J>=K.length?(Z=K.decoder?K.buffer.join(""):K.buffer.length===1?K.buffer.first():K.buffer.concat(K.length),K.buffer.clear()):Z=K.buffer.consume(J,K.decoder),Z);var Z}function V(J){var K=J._readableState;a("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,k.nextTick(j,K,J))}function j(J,K){if(a("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,K.readable=!1,K.emit("end"),J.autoDestroy)){var Z=K._writableState;(!Z||Z.autoDestroy&&Z.finished)&&K.destroy()}}function te(J,K){for(var Z=0,X=J.length;Z<X;Z++)if(J[Z]===K)return Z;return-1}_.prototype.read=function(J){a("read",J),J=parseInt(J,10);var K=this._readableState,Z=J;if(J!==0&&(K.emittedReadable=!1),J===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return a("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?V(this):C(this),null;if((J=E(J,K))===0&&K.ended)return K.length===0&&V(this),null;var X,Q=K.needReadable;return a("need readable",Q),(K.length===0||K.length-J<K.highWaterMark)&&a("length less than watermark",Q=!0),K.ended||K.reading?a("reading or ended",Q=!1):Q&&(a("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(J=E(Z,K))),(X=J>0?F(J,K):null)===null?(K.needReadable=K.length<=K.highWaterMark,J=0):(K.length-=J,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),Z!==J&&K.ended&&V(this)),X!==null&&this.emit("data",X),X},_.prototype._read=function(J){v(this,new f("_read()"))},_.prototype.pipe=function(J,K){var Z=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=J;break;case 1:X.pipes=[X.pipes,J];break;default:X.pipes.push(J)}X.pipesCount+=1,a("pipe count=%d opts=%j",X.pipesCount,K);var Q=K&&K.end===!1||J===k.stdout||J===k.stderr?be:re;function re(){a("onend"),J.end()}X.endEmitted?k.nextTick(Q):Z.once("end",Q),J.on("unpipe",function me(ge,ke){a("onunpipe"),ge===Z&&ke&&ke.hasUnpiped===!1&&(ke.hasUnpiped=!0,a("cleanup"),J.removeListener("close",de),J.removeListener("finish",ve),J.removeListener("drain",ae),J.removeListener("error",pe),J.removeListener("unpipe",me),Z.removeListener("end",re),Z.removeListener("end",be),Z.removeListener("data",le),ie=!0,!X.awaitDrain||J._writableState&&!J._writableState.needDrain||ae())});var ae=function(me){return function(){var ge=me._readableState;a("pipeOnDrain",ge.awaitDrain),ge.awaitDrain&&ge.awaitDrain--,ge.awaitDrain===0&&T(me,"data")&&(ge.flowing=!0,W(me))}}(Z);J.on("drain",ae);var ie=!1;function le(me){a("ondata");var ge=J.write(me);a("dest.write",ge),ge===!1&&((X.pipesCount===1&&X.pipes===J||X.pipesCount>1&&te(X.pipes,J)!==-1)&&!ie&&(a("false write response, pause",X.awaitDrain),X.awaitDrain++),Z.pause())}function pe(me){a("onerror",me),be(),J.removeListener("error",pe),T(J,"error")===0&&v(J,me)}function de(){J.removeListener("finish",ve),be()}function ve(){a("onfinish"),J.removeListener("close",de),be()}function be(){a("unpipe"),Z.unpipe(J)}return Z.on("data",le),function(me,ge,ke){if(typeof me.prependListener=="function")return me.prependListener(ge,ke);me._events&&me._events[ge]?Array.isArray(me._events[ge])?me._events[ge].unshift(ke):me._events[ge]=[ke,me._events[ge]]:me.on(ge,ke)}(J,"error",pe),J.once("close",de),J.once("finish",ve),J.emit("pipe",Z),X.flowing||(a("pipe resume"),Z.resume()),J},_.prototype.unpipe=function(J){var K=this._readableState,Z={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return J&&J!==K.pipes||(J||(J=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,J&&J.emit("unpipe",this,Z)),this;if(!J){var X=K.pipes,Q=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var re=0;re<Q;re++)X[re].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=te(K.pipes,J);return ae===-1||(K.pipes.splice(ae,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),J.emit("unpipe",this,Z)),this},_.prototype.on=function(J,K){var Z=b.prototype.on.call(this,J,K),X=this._readableState;return J==="data"?(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1&&this.resume()):J==="readable"&&(X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,a("on readable",X.length,X.reading),X.length?C(this):X.reading||k.nextTick(z,this))),Z},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(J,K){var Z=b.prototype.removeListener.call(this,J,K);return J==="readable"&&k.nextTick(U,this),Z},_.prototype.removeAllListeners=function(J){var K=b.prototype.removeAllListeners.apply(this,arguments);return J!=="readable"&&J!==void 0||k.nextTick(U,this),K},_.prototype.resume=function(){var J=this._readableState;return J.flowing||(a("resume"),J.flowing=!J.readableListening,function(K,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,k.nextTick(N,K,Z))}(this,J)),J.paused=!1,this},_.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(J){var K=this,Z=this._readableState,X=!1;for(var Q in J.on("end",function(){if(a("wrapped end"),Z.decoder&&!Z.ended){var ae=Z.decoder.end();ae&&ae.length&&K.push(ae)}K.push(null)}),J.on("data",function(ae){a("wrapped data"),Z.decoder&&(ae=Z.decoder.write(ae)),Z.objectMode&&ae==null||(Z.objectMode||ae&&ae.length)&&(K.push(ae)||(X=!0,J.pause()))}),J)this[Q]===void 0&&typeof J[Q]=="function"&&(this[Q]=function(ae){return function(){return J[ae].apply(J,arguments)}}(Q));for(var re=0;re<y.length;re++)J.on(y[re],this.emit.bind(this,y[re]));return this._read=function(ae){a("wrapped _read",ae),X&&(X=!1,J.resume())},this},typeof Symbol=="function"&&(_.prototype[Symbol.asyncIterator]=function(){return r===void 0&&(r=e(60328)),r(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),_._fromList=F,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(_.from=function(J,K){return n===void 0&&(n=e(90555)),n(_,J,K)})},22477:function(ee,D,e){ee.exports=t;var M=e(92784).i,k=M.ERR_METHOD_NOT_IMPLEMENTED,a=M.ERR_MULTIPLE_CALLBACK,T=M.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=M.ERR_TRANSFORM_WITH_LENGTH_0,g=e(15316);function s(n,o){var l=this._transformState;l.transforming=!1;var u=l.writecb;if(u===null)return this.emit("error",new a);l.writechunk=null,l.writecb=null,o!=null&&this.push(o),u(n);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);g.call(this,n),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",i)}function i(){var n=this;typeof this._flush!="function"||this._readableState.destroyed?r(this,null,null):this._flush(function(o,l){r(n,o,l)})}function r(n,o,l){if(o)return n.emit("error",o);if(l!=null&&n.push(l),n._writableState.length)throw new b;if(n._transformState.transforming)throw new T;return n.push(null)}e(6768)(t,g),t.prototype.push=function(n,o){return this._transformState.needTransform=!1,g.prototype.push.call(this,n,o)},t.prototype._transform=function(n,o,l){l(new k("_transform()"))},t.prototype._write=function(n,o,l){var u=this._transformState;if(u.writecb=l,u.writechunk=n,u.writeencoding=o,!u.transforming){var d=this._readableState;(u.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},t.prototype._read=function(n){var o=this._transformState;o.writechunk===null||o.transforming?o.needTransform=!0:(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform))},t.prototype._destroy=function(n,o){g.prototype._destroy.call(this,n,function(l){o(l)})}},11288:function(ee,D,e){var M,k=e(4168);function a(O){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(U,z,N){var W=U.entry;for(U.entry=null;W;){var F=W.callback;z.pendingcb--,F(void 0),W=W.next}z.corkedRequestsFree.next=U})(R,O)}}ee.exports=_,_.WritableState=x;var T,b={deprecate:e(96656)},g=e(4776),s=e(33576).Buffer,t=e.g.Uint8Array||function(){},i=e(55324),r=e(24888).getHighWaterMark,n=e(92784).i,o=n.ERR_INVALID_ARG_TYPE,l=n.ERR_METHOD_NOT_IMPLEMENTED,u=n.ERR_MULTIPLE_CALLBACK,d=n.ERR_STREAM_CANNOT_PIPE,c=n.ERR_STREAM_DESTROYED,m=n.ERR_STREAM_NULL_VALUES,f=n.ERR_STREAM_WRITE_AFTER_END,p=n.ERR_UNKNOWN_ENCODING,v=i.errorOrDestroy;function y(){}function x(O,R,U){M=M||e(15316),O=O||{},typeof U!="boolean"&&(U=R instanceof M),this.objectMode=!!O.objectMode,U&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=r(this,O,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=O.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(W,F){var V=W._writableState,j=V.sync,te=V.writecb;if(typeof te!="function")throw new u;if(function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(V),F)(function(K,Z,X,Q,re){--Z.pendingcb,X?(k.nextTick(re,Q),k.nextTick(P,K,Z),K._writableState.errorEmitted=!0,v(K,Q)):(re(Q),K._writableState.errorEmitted=!0,v(K,Q),P(K,Z))})(W,V,j,F,te);else{var J=E(V)||W.destroyed;J||V.corked||V.bufferProcessing||!V.bufferedRequest||w(W,V),j?k.nextTick(S,W,V,J,te):S(W,V,J,te)}})(R,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(O){var R=this instanceof(M=M||e(15316));if(!R&&!T.call(_,this))return new _(O);this._writableState=new x(O,this,R),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),g.call(this)}function h(O,R,U,z,N,W,F){R.writelen=z,R.writecb=F,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new c("write")):U?O._writev(N,R.onwrite):O._write(N,W,R.onwrite),R.sync=!1}function S(O,R,U,z){U||function(N,W){W.length===0&&W.needDrain&&(W.needDrain=!1,N.emit("drain"))}(O,R),R.pendingcb--,z(),P(O,R)}function w(O,R){R.bufferProcessing=!0;var U=R.bufferedRequest;if(O._writev&&U&&U.next){var z=R.bufferedRequestCount,N=new Array(z),W=R.corkedRequestsFree;W.entry=U;for(var F=0,V=!0;U;)N[F]=U,U.isBuf||(V=!1),U=U.next,F+=1;N.allBuffers=V,h(O,R,!0,R.length,N,"",W.finish),R.pendingcb++,R.lastBufferedRequest=null,W.next?(R.corkedRequestsFree=W.next,W.next=null):R.corkedRequestsFree=new a(R),R.bufferedRequestCount=0}else{for(;U;){var j=U.chunk,te=U.encoding,J=U.callback;if(h(O,R,!1,R.objectMode?1:j.length,j,te,J),U=U.next,R.bufferedRequestCount--,R.writing)break}U===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=U,R.bufferProcessing=!1}function E(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function C(O,R){O._final(function(U){R.pendingcb--,U&&v(O,U),R.prefinished=!0,O.emit("prefinish"),P(O,R)})}function P(O,R){var U=E(R);if(U&&(function(N,W){W.prefinished||W.finalCalled||(typeof N._final!="function"||W.destroyed?(W.prefinished=!0,N.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,k.nextTick(C,N,W)))}(O,R),R.pendingcb===0&&(R.finished=!0,O.emit("finish"),R.autoDestroy))){var z=O._readableState;(!z||z.autoDestroy&&z.endEmitted)&&O.destroy()}return U}e(6768)(_,g),x.prototype.getBuffer=function(){for(var O=this.bufferedRequest,R=[];O;)R.push(O),O=O.next;return R},function(){try{Object.defineProperty(x.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(O){return!!T.call(this,O)||this===_&&O&&O._writableState instanceof x}})):T=function(O){return O instanceof this},_.prototype.pipe=function(){v(this,new d)},_.prototype.write=function(O,R,U){var z,N=this._writableState,W=!1,F=!N.objectMode&&(z=O,s.isBuffer(z)||z instanceof t);return F&&!s.isBuffer(O)&&(O=function(V){return s.from(V)}(O)),typeof R=="function"&&(U=R,R=null),F?R="buffer":R||(R=N.defaultEncoding),typeof U!="function"&&(U=y),N.ending?function(V,j){var te=new f;v(V,te),k.nextTick(j,te)}(this,U):(F||function(V,j,te,J){var K;return te===null?K=new m:typeof te=="string"||j.objectMode||(K=new o("chunk",["string","Buffer"],te)),!K||(v(V,K),k.nextTick(J,K),!1)}(this,N,O,U))&&(N.pendingcb++,W=function(V,j,te,J,K,Z){if(!te){var X=function(ie,le,pe){return ie.objectMode||ie.decodeStrings===!1||typeof le!="string"||(le=s.from(le,pe)),le}(j,J,K);J!==X&&(te=!0,K="buffer",J=X)}var Q=j.objectMode?1:J.length;j.length+=Q;var re=j.length<j.highWaterMark;if(re||(j.needDrain=!0),j.writing||j.corked){var ae=j.lastBufferedRequest;j.lastBufferedRequest={chunk:J,encoding:K,isBuf:te,callback:Z,next:null},ae?ae.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else h(V,j,!1,Q,J,K,Z);return re}(this,N,F,O,R,U)),W},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,O.writing||O.corked||O.bufferProcessing||!O.bufferedRequest||w(this,O))},_.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new p(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(O,R,U){U(new l("_write()"))},_.prototype._writev=null,_.prototype.end=function(O,R,U){var z=this._writableState;return typeof O=="function"?(U=O,O=null,R=null):typeof R=="function"&&(U=R,R=null),O!=null&&this.write(O,R),z.corked&&(z.corked=1,this.uncork()),z.ending||function(N,W,F){W.ending=!0,P(N,W),F&&(W.finished?k.nextTick(F):N.once("finish",F)),W.ended=!0,N.writable=!1}(this,z,U),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),_.prototype.destroy=i.destroy,_.prototype._undestroy=i.undestroy,_.prototype._destroy=function(O,R){R(O)}},60328:function(ee,D,e){var M,k=e(4168);function a(m,f,p){return f in m?Object.defineProperty(m,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[f]=p,m}var T=e(15932),b=Symbol("lastResolve"),g=Symbol("lastReject"),s=Symbol("error"),t=Symbol("ended"),i=Symbol("lastPromise"),r=Symbol("handlePromise"),n=Symbol("stream");function o(m,f){return{value:m,done:f}}function l(m){var f=m[b];if(f!==null){var p=m[n].read();p!==null&&(m[i]=null,m[b]=null,m[g]=null,f(o(p,!1)))}}function u(m){k.nextTick(l,m)}var d=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((a(M={get stream(){return this[n]},next:function(){var m=this,f=this[s];if(f!==null)return Promise.reject(f);if(this[t])return Promise.resolve(o(void 0,!0));if(this[n].destroyed)return new Promise(function(x,_){k.nextTick(function(){m[s]?_(m[s]):x(o(void 0,!0))})});var p,v=this[i];if(v)p=new Promise(function(x,_){return function(h,S){x.then(function(){_[t]?h(o(void 0,!0)):_[r](h,S)},S)}}(v,this));else{var y=this[n].read();if(y!==null)return Promise.resolve(o(y,!1));p=new Promise(this[r])}return this[i]=p,p}},Symbol.asyncIterator,function(){return this}),a(M,"return",function(){var m=this;return new Promise(function(f,p){m[n].destroy(null,function(v){v?p(v):f(o(void 0,!0))})})}),M),d);ee.exports=function(m){var f,p=Object.create(c,(a(f={},n,{value:m,writable:!0}),a(f,b,{value:null,writable:!0}),a(f,g,{value:null,writable:!0}),a(f,s,{value:null,writable:!0}),a(f,t,{value:m._readableState.endEmitted,writable:!0}),a(f,r,{value:function(v,y){var x=p[n].read();x?(p[i]=null,p[b]=null,p[g]=null,v(o(x,!1))):(p[b]=v,p[g]=y)},writable:!0}),f));return p[i]=null,T(m,function(v){if(v&&v.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=p[g];return y!==null&&(p[i]=null,p[b]=null,p[g]=null,y(v)),void(p[s]=v)}var x=p[b];x!==null&&(p[i]=null,p[b]=null,p[g]=null,x(o(void 0,!0))),p[t]=!0}),m.on("readable",u.bind(null,p)),p}},47264:function(ee,D,e){function M(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),i.push.apply(i,r)}return i}function k(s,t,i){return t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function a(s,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}var T=e(33576).Buffer,b=e(21576).inspect,g=b&&b.custom||"inspect";ee.exports=function(){function s(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var t,i;return t=s,i=[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,o=""+n.data;n=n.next;)o+=r+n.data;return o}},{key:"concat",value:function(r){if(this.length===0)return T.alloc(0);for(var n,o,l,u=T.allocUnsafe(r>>>0),d=this.head,c=0;d;)n=d.data,o=u,l=c,T.prototype.copy.call(n,o,l),c+=d.data.length,d=d.next;return u}},{key:"consume",value:function(r,n){var o;return r<this.head.data.length?(o=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):o=r===this.head.data.length?this.shift():n?this._getString(r):this._getBuffer(r),o}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,o=1,l=n.data;for(r-=l.length;n=n.next;){var u=n.data,d=r>u.length?u.length:r;if(d===u.length?l+=u:l+=u.slice(0,r),(r-=d)==0){d===u.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=u.slice(d));break}++o}return this.length-=o,l}},{key:"_getBuffer",value:function(r){var n=T.allocUnsafe(r),o=this.head,l=1;for(o.data.copy(n),r-=o.data.length;o=o.next;){var u=o.data,d=r>u.length?u.length:r;if(u.copy(n,n.length-r,0,d),(r-=d)==0){d===u.length?(++l,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=u.slice(d));break}++l}return this.length-=l,n}},{key:g,value:function(r,n){return b(this,function(o){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?M(Object(u),!0).forEach(function(d){k(o,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):M(Object(u)).forEach(function(d){Object.defineProperty(o,d,Object.getOwnPropertyDescriptor(u,d))})}return o}({},n,{depth:0,customInspect:!1}))}}],i&&a(t.prototype,i),s}()},55324:function(ee,D,e){var M=e(4168);function k(b,g){T(b,g),a(b)}function a(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function T(b,g){b.emit("error",g)}ee.exports={destroy:function(b,g){var s=this,t=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return t||i?(g?g(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,M.nextTick(T,this,b)):M.nextTick(T,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(r){!g&&r?s._writableState?s._writableState.errorEmitted?M.nextTick(a,s):(s._writableState.errorEmitted=!0,M.nextTick(k,s,r)):M.nextTick(k,s,r):g?(M.nextTick(a,s),g(r)):M.nextTick(a,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,g){var s=b._readableState,t=b._writableState;s&&s.autoDestroy||t&&t.autoDestroy?b.destroy(g):b.emit("error",g)}}},15932:function(ee,D,e){var M=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function k(){}ee.exports=function a(T,b,g){if(typeof b=="function")return a(T,null,b);b||(b={}),g=function(m){var f=!1;return function(){if(!f){f=!0;for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];m.apply(this,v)}}}(g||k);var s=b.readable||b.readable!==!1&&T.readable,t=b.writable||b.writable!==!1&&T.writable,i=function(){T.writable||n()},r=T._writableState&&T._writableState.finished,n=function(){t=!1,r=!0,s||g.call(T)},o=T._readableState&&T._readableState.endEmitted,l=function(){s=!1,o=!0,t||g.call(T)},u=function(m){g.call(T,m)},d=function(){var m;return s&&!o?(T._readableState&&T._readableState.ended||(m=new M),g.call(T,m)):t&&!r?(T._writableState&&T._writableState.ended||(m=new M),g.call(T,m)):void 0},c=function(){T.req.on("finish",n)};return function(m){return m.setHeader&&typeof m.abort=="function"}(T)?(T.on("complete",n),T.on("abort",d),T.req?c():T.on("request",c)):t&&!T._writableState&&(T.on("end",i),T.on("close",i)),T.on("end",l),T.on("finish",n),b.error!==!1&&T.on("error",u),T.on("close",d),function(){T.removeListener("complete",n),T.removeListener("abort",d),T.removeListener("request",c),T.req&&T.req.removeListener("finish",n),T.removeListener("end",i),T.removeListener("close",i),T.removeListener("finish",n),T.removeListener("end",l),T.removeListener("error",u),T.removeListener("close",d)}}},90555:function(ee){ee.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(ee,D,e){var M,k=e(92784).i,a=k.ERR_MISSING_ARGS,T=k.ERR_STREAM_DESTROYED;function b(t){if(t)throw t}function g(t){t()}function s(t,i){return t.pipe(i)}ee.exports=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var n,o=function(u){return u.length?typeof u[u.length-1]!="function"?b:u.pop():b}(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new a("streams");var l=i.map(function(u,d){var c=d<i.length-1;return function(m,f,p,v){v=function(_){var h=!1;return function(){h||(h=!0,_.apply(void 0,arguments))}}(v);var y=!1;m.on("close",function(){y=!0}),M===void 0&&(M=e(15932)),M(m,{readable:f,writable:p},function(_){if(_)return v(_);y=!0,v()});var x=!1;return function(_){if(!y&&!x)return x=!0,function(h){return h.setHeader&&typeof h.abort=="function"}(m)?m.abort():typeof m.destroy=="function"?m.destroy():void v(_||new T("pipe"))}}(u,c,d>0,function(m){n||(n=m),m&&l.forEach(g),c||(l.forEach(g),o(n))})});return i.reduce(s)}},24888:function(ee,D,e){var M=e(92784).i.ERR_INVALID_OPT_VALUE;ee.exports={getHighWaterMark:function(k,a,T,b){var g=function(s,t,i){return s.highWaterMark!=null?s.highWaterMark:t?s[i]:null}(a,b,T);if(g!=null){if(!isFinite(g)||Math.floor(g)!==g||g<0)throw new M(b?T:"highWaterMark",g);return Math.floor(g)}return k.objectMode?16:16384}}},4776:function(ee,D,e){ee.exports=e(61252).EventEmitter},86032:function(ee,D,e){var M=e(30456).Buffer,k=M.isEncoding||function(o){switch((o=""+o)&&o.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(o){var l;switch(this.encoding=function(u){var d=function(c){if(!c)return"utf8";for(var m;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(m)return;c=(""+c).toLowerCase(),m=!0}}(u);if(typeof d!="string"&&(M.isEncoding===k||!k(u)))throw new Error("Unknown encoding: "+u);return d||u}(o),this.encoding){case"utf16le":this.text=g,this.end=s,l=4;break;case"utf8":this.fillLast=b,l=4;break;case"base64":this.text=t,this.end=i,l=3;break;default:return this.write=r,void(this.end=n)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(l)}function T(o){return o<=127?0:o>>5==6?2:o>>4==14?3:o>>3==30?4:o>>6==2?-1:-2}function b(o){var l=this.lastTotal-this.lastNeed,u=function(d,c,m){if((192&c[0])!=128)return d.lastNeed=0,"";if(d.lastNeed>1&&c.length>1){if((192&c[1])!=128)return d.lastNeed=1,"";if(d.lastNeed>2&&c.length>2&&(192&c[2])!=128)return d.lastNeed=2,""}}(this,o);return u!==void 0?u:this.lastNeed<=o.length?(o.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(o.copy(this.lastChar,l,0,o.length),void(this.lastNeed-=o.length))}function g(o,l){if((o.length-l)%2==0){var u=o.toString("utf16le",l);if(u){var d=u.charCodeAt(u.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=o[o.length-1],o.toString("utf16le",l,o.length-1)}function s(o){var l=o&&o.length?this.write(o):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,u)}return l}function t(o,l){var u=(o.length-l)%3;return u===0?o.toString("base64",l):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=o[o.length-1]:(this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1]),o.toString("base64",l,o.length-u))}function i(o){var l=o&&o.length?this.write(o):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function r(o){return o.toString(this.encoding)}function n(o){return o&&o.length?this.write(o):""}D.o=a,a.prototype.write=function(o){if(o.length===0)return"";var l,u;if(this.lastNeed){if((l=this.fillLast(o))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<o.length?l?l+this.text(o,u):this.text(o,u):l||""},a.prototype.end=function(o){var l=o&&o.length?this.write(o):"";return this.lastNeed?l+"":l},a.prototype.text=function(o,l){var u=function(c,m,f){var p=m.length-1;if(p<f)return 0;var v=T(m[p]);return v>=0?(v>0&&(c.lastNeed=v-1),v):--p<f||v===-2?0:(v=T(m[p]))>=0?(v>0&&(c.lastNeed=v-2),v):--p<f||v===-2?0:(v=T(m[p]))>=0?(v>0&&(v===2?v=0:c.lastNeed=v-3),v):0}(this,o,l);if(!this.lastNeed)return o.toString("utf8",l);this.lastTotal=u;var d=o.length-(u-this.lastNeed);return o.copy(this.lastChar,0,d),o.toString("utf8",l,d)},a.prototype.fillLast=function(o){if(this.lastNeed<=o.length)return o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,o.length),this.lastNeed-=o.length}},55619:function(ee,D,e){var M=e(45408),k=e(86844)("stream-parser");ee.exports=function(c){var m=c&&typeof c._transform=="function",f=c&&typeof c._write=="function";if(!m&&!f)throw new Error("must pass a Writable or Transform stream in");k("extending Parser into stream"),c._bytes=t,c._skipBytes=i,m&&(c._passthrough=r),m?c._transform=o:c._write=n};var a=-1,T=0,b=1,g=2;function s(c){k("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=a,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,m){M(!this._parserCallback,'there is already a "callback" set!'),M(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||s(this),k("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=m,this._parserState=T}function i(c,m){M(!this._parserCallback,'there is already a "callback" set!'),M(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||s(this),k("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=m,this._parserState=b}function r(c,m){M(!this._parserCallback,'There is already a "callback" set!'),M(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||s(this),k("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=m,this._parserState=g}function n(c,m,f){this._parserInit||s(this),k("write(%o bytes)",c.length),typeof m=="function"&&(f=m),u(this,c,null,f)}function o(c,m,f){this._parserInit||s(this),k("transform(%o bytes)",c.length),typeof m!="function"&&(m=this._parserOutput),u(this,c,m,f)}function l(c,m,f,p){if(c._parserBytesLeft-=m.length,k("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===T?(c._parserBuffers.push(m),c._parserBuffered+=m.length):c._parserState===g&&f(m),c._parserBytesLeft!==0)return p;var v=c._parserCallback;if(v&&c._parserState===T&&c._parserBuffers.length>1&&(m=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==T&&(m=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=a,c._parserBuffers.splice(0),v){var y=[];m&&y.push(m),f&&y.push(f);var x=v.length>y.length;x&&y.push(d(p));var _=v.apply(c,y);if(!x||p===_)return p}}var u=d(function c(m,f,p,v){return m._parserBytesLeft<=0?v(new Error("got data but not currently parsing anything")):f.length<=m._parserBytesLeft?function(){return l(m,f,p,v)}:function(){var y=f.slice(0,m._parserBytesLeft);return l(m,y,p,function(x){return x?v(x):f.length>y.length?function(){return c(m,f.slice(y.length),p,v)}:void 0})}});function d(c){return function(){for(var m=c.apply(this,arguments);typeof m=="function";)m=m();return m}}},86844:function(ee,D,e){var M=e(4168);function k(){var a;try{a=D.storage.debug}catch{}return!a&&M!==void 0&&"env"in M&&(a=M.env.DEBUG),a}(D=ee.exports=e(89416)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},D.formatArgs=function(a){var T=this.useColors;if(a[0]=(T?"%c":"")+this.namespace+(T?" %c":" ")+a[0]+(T?"%c ":" ")+"+"+D.humanize(this.diff),T){var b="color: "+this.color;a.splice(1,0,b,"color: inherit");var g=0,s=0;a[0].replace(/%[a-zA-Z%]/g,function(t){t!=="%%"&&(g++,t==="%c"&&(s=g))}),a.splice(s,0,b)}},D.save=function(a){try{a==null?D.storage.removeItem("debug"):D.storage.debug=a}catch{}},D.load=k,D.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},D.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),D.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],D.formatters.j=function(a){try{return JSON.stringify(a)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}},D.enable(k())},89416:function(ee,D,e){var M;function k(a){function T(){if(T.enabled){var b=T,g=+new Date,s=g-(M||g);b.diff=s,b.prev=M,b.curr=g,M=g;for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];t[0]=D.coerce(t[0]),typeof t[0]!="string"&&t.unshift("%O");var r=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(n,o){if(n==="%%")return n;r++;var l=D.formatters[o];if(typeof l=="function"){var u=t[r];n=l.call(b,u),t.splice(r,1),r--}return n}),D.formatArgs.call(b,t),(T.log||D.log||console.log.bind(console)).apply(b,t)}}return T.namespace=a,T.enabled=D.enabled(a),T.useColors=D.useColors(),T.color=function(b){var g,s=0;for(g in b)s=(s<<5)-s+b.charCodeAt(g),s|=0;return D.colors[Math.abs(s)%D.colors.length]}(a),typeof D.init=="function"&&D.init(T),T}(D=ee.exports=k.debug=k.default=k).coerce=function(a){return a instanceof Error?a.stack||a.message:a},D.disable=function(){D.enable("")},D.enable=function(a){D.save(a),D.names=[],D.skips=[];for(var T=(typeof a=="string"?a:"").split(/[\s,]+/),b=T.length,g=0;g<b;g++)T[g]&&((a=T[g].replace(/\*/g,".*?"))[0]==="-"?D.skips.push(new RegExp("^"+a.substr(1)+"$")):D.names.push(new RegExp("^"+a+"$")))},D.enabled=function(a){var T,b;for(T=0,b=D.skips.length;T<b;T++)if(D.skips[T].test(a))return!1;for(T=0,b=D.names.length;T<b;T++)if(D.names[T].test(a))return!0;return!1},D.humanize=e(93744),D.names=[],D.skips=[],D.formatters={}},93744:function(ee){var D=1e3,e=60*D,M=60*e,k=24*M;function a(T,b,g){if(!(T<b))return T<1.5*b?Math.floor(T/b)+" "+g:Math.ceil(T/b)+" "+g+"s"}ee.exports=function(T,b){b=b||{};var g,s=typeof T;if(s==="string"&&T.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var r=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*k;case"hours":case"hour":case"hrs":case"hr":case"h":return r*M;case"minutes":case"minute":case"mins":case"min":case"m":return r*e;case"seconds":case"second":case"secs":case"sec":case"s":return r*D;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(T);if(s==="number"&&isNaN(T)===!1)return b.long?a(g=T,k,"day")||a(g,M,"hour")||a(g,e,"minute")||a(g,D,"second")||g+" ms":function(t){return t>=k?Math.round(t/k)+"d":t>=M?Math.round(t/M)+"h":t>=e?Math.round(t/e)+"m":t>=D?Math.round(t/D)+"s":t+"ms"}(T);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(T))}},39956:function(ee,D,e){var M=e(32868);ee.exports=function(k,a,T){if(k==null)throw Error("First argument should be a string");if(a==null)throw Error("Separator should be a string or a RegExp");T?(typeof T=="string"||Array.isArray(T))&&(T={ignore:T}):T={},T.escape==null&&(T.escape=!0),T.ignore==null?T.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof T.ignore=="string"&&(T.ignore=[T.ignore]),T.ignore=T.ignore.map(function(n){return n.length===1&&(n+=n),n}));var b=M.parse(k,{flat:!0,brackets:T.ignore}),g=b[0].split(a);if(T.escape){for(var s=[],t=0;t<g.length;t++){var i=g[t],r=g[t+1];i[i.length-1]==="\\"&&i[i.length-2]!=="\\"?(s.push(i+a+r),t++):s.push(i)}g=s}for(t=0;t<g.length;t++)b[0]=g[t],g[t]=M.stringify(b,{flat:!0});return g}},78484:function(ee){ee.exports=function(D){for(var e=D.length,M=new Array(e),k=new Array(e),a=new Array(e),T=new Array(e),b=new Array(e),g=new Array(e),s=0;s<e;++s)M[s]=-1,k[s]=0,a[s]=!1,T[s]=0,b[s]=-1,g[s]=[];var t,i=0,r=[],n=[];function o(d){var c=[d],m=[d];for(M[d]=k[d]=i,a[d]=!0,i+=1;m.length>0;){d=m[m.length-1];var f=D[d];if(T[d]<f.length){for(var p=T[d];p<f.length;++p){var v=f[p];if(M[v]<0){M[v]=k[v]=i,a[v]=!0,i+=1,c.push(v),m.push(v);break}a[v]&&(k[d]=0|Math.min(k[d],k[v])),b[v]>=0&&g[d].push(b[v])}T[d]=p}else{if(k[d]===M[d]){var y=[],x=[],_=0;for(p=c.length-1;p>=0;--p){var h=c[p];if(a[h]=!1,y.push(h),x.push(g[h]),_+=g[h].length,b[h]=r.length,h===d){c.length=p;break}}r.push(y);var S=new Array(_);for(p=0;p<x.length;p++)for(var w=0;w<x[p].length;w++)S[--_]=x[p][w];n.push(S)}m.pop()}}}for(s=0;s<e;++s)M[s]<0&&o(s);for(s=0;s<n.length;s++){var l=n[s];if(l.length!==0){l.sort(function(d,c){return d-c}),t=[l[0]];for(var u=1;u<l.length;u++)l[u]!==l[u-1]&&t.push(l[u]);n[s]=t}}return{components:r,adjacencyList:n}}},92848:function(ee,D,e){e.r(D);var M=2*Math.PI,k=function(b,g,s,t,i,r,n){var o=b.x,l=b.y;return{x:t*(o*=g)-i*(l*=s)+r,y:i*o+t*l+n}},a=function(b,g){var s=g===1.5707963267948966?.551915024494:g===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(g/4),t=Math.cos(b),i=Math.sin(b),r=Math.cos(b+g),n=Math.sin(b+g);return[{x:t-i*s,y:i+t*s},{x:r+n*s,y:n-r*s},{x:r,y:n}]},T=function(b,g,s,t){var i=b*s+g*t;return i>1&&(i=1),i<-1&&(i=-1),(b*t-g*s<0?-1:1)*Math.acos(i)};D.default=function(b){var g=b.px,s=b.py,t=b.cx,i=b.cy,r=b.rx,n=b.ry,o=b.xAxisRotation,l=o===void 0?0:o,u=b.largeArcFlag,d=u===void 0?0:u,c=b.sweepFlag,m=c===void 0?0:c,f=[];if(r===0||n===0)return[];var p=Math.sin(l*M/360),v=Math.cos(l*M/360),y=v*(g-t)/2+p*(s-i)/2,x=-p*(g-t)/2+v*(s-i)/2;if(y===0&&x===0)return[];r=Math.abs(r),n=Math.abs(n);var _=Math.pow(y,2)/Math.pow(r,2)+Math.pow(x,2)/Math.pow(n,2);_>1&&(r*=Math.sqrt(_),n*=Math.sqrt(_));var h=function(z,N,W,F,V,j,te,J,K,Z,X,Q){var re=Math.pow(V,2),ae=Math.pow(j,2),ie=Math.pow(X,2),le=Math.pow(Q,2),pe=re*ae-re*le-ae*ie;pe<0&&(pe=0),pe/=re*le+ae*ie;var de=(pe=Math.sqrt(pe)*(te===J?-1:1))*V/j*Q,ve=pe*-j/V*X,be=Z*de-K*ve+(z+W)/2,me=K*de+Z*ve+(N+F)/2,ge=(X-de)/V,ke=(Q-ve)/j,we=(-X-de)/V,ue=(-Q-ve)/j,oe=T(1,0,ge,ke),he=T(ge,ke,we,ue);return J===0&&he>0&&(he-=M),J===1&&he<0&&(he+=M),[be,me,oe,he]}(g,s,t,i,r,n,d,m,p,v,y,x),S=function(z,N){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function(W,F){var V=[],j=!0,te=!1,J=void 0;try{for(var K,Z=W[Symbol.iterator]();!(j=(K=Z.next()).done)&&(V.push(K.value),!F||V.length!==F);j=!0);}catch(X){te=!0,J=X}finally{try{!j&&Z.return&&Z.return()}finally{if(te)throw J}}return V}(z,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(h,4),w=S[0],E=S[1],C=S[2],P=S[3],O=Math.abs(P)/(M/4);Math.abs(1-O)<1e-7&&(O=1);var R=Math.max(Math.ceil(O),1);P/=R;for(var U=0;U<R;U++)f.push(a(C,P)),C+=P;return f.map(function(z){var N=k(z[0],r,n,v,p,w,E),W=N.x,F=N.y,V=k(z[1],r,n,v,p,w,E),j=V.x,te=V.y,J=k(z[2],r,n,v,p,w,E);return{x1:W,y1:F,x2:j,y2:te,x:J.x,y:J.y}})}},74840:function(ee,D,e){var M=e(21984),k=e(49972),a=e(41976),T=e(53520),b=e(45408);ee.exports=function(g){if(Array.isArray(g)&&g.length===1&&typeof g[0]=="string"&&(g=g[0]),typeof g=="string"&&(b(T(g),"String is not an SVG path."),g=M(g)),b(Array.isArray(g),"Argument should be a string or an array of path segments."),g=k(g),!(g=a(g)).length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],t=0,i=g.length;t<i;t++)for(var r=g[t].slice(1),n=0;n<r.length;n+=2)r[n+0]<s[0]&&(s[0]=r[n+0]),r[n+1]<s[1]&&(s[1]=r[n+1]),r[n+0]>s[2]&&(s[2]=r[n+0]),r[n+1]>s[3]&&(s[3]=r[n+1]);return s}},41976:function(ee,D,e){ee.exports=function(T){for(var b,g=[],s=0,t=0,i=0,r=0,n=null,o=null,l=0,u=0,d=0,c=T.length;d<c;d++){var m=T[d],f=m[0];switch(f){case"M":i=m[1],r=m[2];break;case"A":var p=M({px:l,py:u,cx:m[6],cy:m[7],rx:m[1],ry:m[2],xAxisRotation:m[3],largeArcFlag:m[4],sweepFlag:m[5]});if(!p.length)continue;for(var v,y=0;y<p.length;y++)m=["C",(v=p[y]).x1,v.y1,v.x2,v.y2,v.x,v.y],y<p.length-1&&g.push(m);break;case"S":var x=l,_=u;b!="C"&&b!="S"||(x+=x-s,_+=_-t),m=["C",x,_,m[1],m[2],m[3],m[4]];break;case"T":b=="Q"||b=="T"?(n=2*l-n,o=2*u-o):(n=l,o=u),m=a(l,u,n,o,m[1],m[2]);break;case"Q":n=m[1],o=m[2],m=a(l,u,m[1],m[2],m[3],m[4]);break;case"L":m=k(l,u,m[1],m[2]);break;case"H":m=k(l,u,m[1],u);break;case"V":m=k(l,u,l,m[1]);break;case"Z":m=k(l,u,i,r)}b=f,l=m[m.length-2],u=m[m.length-1],m.length>4?(s=m[m.length-4],t=m[m.length-3]):(s=l,t=u),g.push(m)}return g};var M=e(92848);function k(T,b,g,s){return["C",T,b,g,s,g,s]}function a(T,b,g,s,t,i){return["C",T/3+.6666666666666666*g,b/3+.6666666666666666*s,t/3+.6666666666666666*g,i/3+.6666666666666666*s,t,i]}},20472:function(ee,D,e){var M,k=e(74840),a=e(21984),T=e(22235),b=e(53520),g=e(29620),s=document.createElement("canvas"),t=s.getContext("2d");ee.exports=function(i,r){if(!b(i))throw Error("Argument should be valid svg path string");var n,o;r||(r={}),r.shape?(n=r.shape[0],o=r.shape[1]):(n=s.width=r.w||r.width||200,o=s.height=r.h||r.height||200);var l=Math.min(n,o),u=r.stroke||0,d=r.viewbox||r.viewBox||k(i),c=[n/(d[2]-d[0]),o/(d[3]-d[1])],m=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,n,o),t.fillStyle="white",u&&(typeof u!="number"&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*n,.5*o),t.scale(m,m),function(){if(M!=null)return M;var v=document.createElement("canvas").getContext("2d");if(v.canvas.width=v.canvas.height=1,!window.Path2D)return M=!1;var y=new Path2D("M0,0h1v1h-1v-1Z");v.fillStyle="black",v.fill(y);var x=v.getImageData(0,0,1,1);return M=x&&x.data&&x.data[3]===255}()){var f=new Path2D(i);t.fill(f),u&&t.stroke(f)}else{var p=a(i);T(t,p),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),g(t,{cutoff:r.cutoff!=null?r.cutoff:.5,radius:r.radius!=null?r.radius:.5*l})}},49760:function(ee,D,e){var M;(function(k){var a=/^\s+/,T=/\s+$/,b=0,g=k.round,s=k.min,t=k.max,i=k.random;function r(X,Q){if(Q=Q||{},(X=X||"")instanceof r)return X;if(!(this instanceof r))return new r(X,Q);var re=function(ae){var ie,le,pe,de={r:0,g:0,b:0},ve=1,be=null,me=null,ge=null,ke=!1,we=!1;return typeof ae=="string"&&(ae=function(ue){ue=ue.replace(a,"").replace(T,"").toLowerCase();var oe,he=!1;if(C[ue])ue=C[ue],he=!0;else if(ue=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(oe=K.rgb.exec(ue))?{r:oe[1],g:oe[2],b:oe[3]}:(oe=K.rgba.exec(ue))?{r:oe[1],g:oe[2],b:oe[3],a:oe[4]}:(oe=K.hsl.exec(ue))?{h:oe[1],s:oe[2],l:oe[3]}:(oe=K.hsla.exec(ue))?{h:oe[1],s:oe[2],l:oe[3],a:oe[4]}:(oe=K.hsv.exec(ue))?{h:oe[1],s:oe[2],v:oe[3]}:(oe=K.hsva.exec(ue))?{h:oe[1],s:oe[2],v:oe[3],a:oe[4]}:(oe=K.hex8.exec(ue))?{r:z(oe[1]),g:z(oe[2]),b:z(oe[3]),a:V(oe[4]),format:he?"name":"hex8"}:(oe=K.hex6.exec(ue))?{r:z(oe[1]),g:z(oe[2]),b:z(oe[3]),format:he?"name":"hex"}:(oe=K.hex4.exec(ue))?{r:z(oe[1]+""+oe[1]),g:z(oe[2]+""+oe[2]),b:z(oe[3]+""+oe[3]),a:V(oe[4]+""+oe[4]),format:he?"name":"hex8"}:!!(oe=K.hex3.exec(ue))&&{r:z(oe[1]+""+oe[1]),g:z(oe[2]+""+oe[2]),b:z(oe[3]+""+oe[3]),format:he?"name":"hex"}}(ae)),typeof ae=="object"&&(Z(ae.r)&&Z(ae.g)&&Z(ae.b)?(ie=ae.r,le=ae.g,pe=ae.b,de={r:255*R(ie,255),g:255*R(le,255),b:255*R(pe,255)},ke=!0,we=String(ae.r).substr(-1)==="%"?"prgb":"rgb"):Z(ae.h)&&Z(ae.s)&&Z(ae.v)?(be=W(ae.s),me=W(ae.v),de=function(ue,oe,he){ue=6*R(ue,360),oe=R(oe,100),he=R(he,100);var Ee=k.floor(ue),Te=ue-Ee,Me=he*(1-oe),Se=he*(1-Te*oe),ze=he*(1-(1-Te)*oe),fe=Ee%6;return{r:255*[he,Se,Me,Me,ze,he][fe],g:255*[ze,he,he,Se,Me,Me][fe],b:255*[Me,Me,ze,he,he,Se][fe]}}(ae.h,be,me),ke=!0,we="hsv"):Z(ae.h)&&Z(ae.s)&&Z(ae.l)&&(be=W(ae.s),ge=W(ae.l),de=function(ue,oe,he){var Ee,Te,Me;function Se(xe,_e,Oe){return Oe<0&&(Oe+=1),Oe>1&&(Oe-=1),Oe<1/6?xe+6*(_e-xe)*Oe:Oe<.5?_e:Oe<2/3?xe+(_e-xe)*(2/3-Oe)*6:xe}if(ue=R(ue,360),oe=R(oe,100),he=R(he,100),oe===0)Ee=Te=Me=he;else{var ze=he<.5?he*(1+oe):he+oe-he*oe,fe=2*he-ze;Ee=Se(fe,ze,ue+1/3),Te=Se(fe,ze,ue),Me=Se(fe,ze,ue-1/3)}return{r:255*Ee,g:255*Te,b:255*Me}}(ae.h,be,ge),ke=!0,we="hsl"),ae.hasOwnProperty("a")&&(ve=ae.a)),ve=O(ve),{ok:ke,format:ae.format||we,r:s(255,t(de.r,0)),g:s(255,t(de.g,0)),b:s(255,t(de.b,0)),a:ve}}(X);this._originalInput=X,this._r=re.r,this._g=re.g,this._b=re.b,this._a=re.a,this._roundA=g(100*this._a)/100,this._format=Q.format||re.format,this._gradientType=Q.gradientType,this._r<1&&(this._r=g(this._r)),this._g<1&&(this._g=g(this._g)),this._b<1&&(this._b=g(this._b)),this._ok=re.ok,this._tc_id=b++}function n(X,Q,re){X=R(X,255),Q=R(Q,255),re=R(re,255);var ae,ie,le=t(X,Q,re),pe=s(X,Q,re),de=(le+pe)/2;if(le==pe)ae=ie=0;else{var ve=le-pe;switch(ie=de>.5?ve/(2-le-pe):ve/(le+pe),le){case X:ae=(Q-re)/ve+(Q<re?6:0);break;case Q:ae=(re-X)/ve+2;break;case re:ae=(X-Q)/ve+4}ae/=6}return{h:ae,s:ie,l:de}}function o(X,Q,re){X=R(X,255),Q=R(Q,255),re=R(re,255);var ae,ie,le=t(X,Q,re),pe=s(X,Q,re),de=le,ve=le-pe;if(ie=le===0?0:ve/le,le==pe)ae=0;else{switch(le){case X:ae=(Q-re)/ve+(Q<re?6:0);break;case Q:ae=(re-X)/ve+2;break;case re:ae=(X-Q)/ve+4}ae/=6}return{h:ae,s:ie,v:de}}function l(X,Q,re,ae){var ie=[N(g(X).toString(16)),N(g(Q).toString(16)),N(g(re).toString(16))];return ae&&ie[0].charAt(0)==ie[0].charAt(1)&&ie[1].charAt(0)==ie[1].charAt(1)&&ie[2].charAt(0)==ie[2].charAt(1)?ie[0].charAt(0)+ie[1].charAt(0)+ie[2].charAt(0):ie.join("")}function u(X,Q,re,ae){return[N(F(ae)),N(g(X).toString(16)),N(g(Q).toString(16)),N(g(re).toString(16))].join("")}function d(X,Q){Q=Q===0?0:Q||10;var re=r(X).toHsl();return re.s-=Q/100,re.s=U(re.s),r(re)}function c(X,Q){Q=Q===0?0:Q||10;var re=r(X).toHsl();return re.s+=Q/100,re.s=U(re.s),r(re)}function m(X){return r(X).desaturate(100)}function f(X,Q){Q=Q===0?0:Q||10;var re=r(X).toHsl();return re.l+=Q/100,re.l=U(re.l),r(re)}function p(X,Q){Q=Q===0?0:Q||10;var re=r(X).toRgb();return re.r=t(0,s(255,re.r-g(-Q/100*255))),re.g=t(0,s(255,re.g-g(-Q/100*255))),re.b=t(0,s(255,re.b-g(-Q/100*255))),r(re)}function v(X,Q){Q=Q===0?0:Q||10;var re=r(X).toHsl();return re.l-=Q/100,re.l=U(re.l),r(re)}function y(X,Q){var re=r(X).toHsl(),ae=(re.h+Q)%360;return re.h=ae<0?360+ae:ae,r(re)}function x(X){var Q=r(X).toHsl();return Q.h=(Q.h+180)%360,r(Q)}function _(X){var Q=r(X).toHsl(),re=Q.h;return[r(X),r({h:(re+120)%360,s:Q.s,l:Q.l}),r({h:(re+240)%360,s:Q.s,l:Q.l})]}function h(X){var Q=r(X).toHsl(),re=Q.h;return[r(X),r({h:(re+90)%360,s:Q.s,l:Q.l}),r({h:(re+180)%360,s:Q.s,l:Q.l}),r({h:(re+270)%360,s:Q.s,l:Q.l})]}function S(X){var Q=r(X).toHsl(),re=Q.h;return[r(X),r({h:(re+72)%360,s:Q.s,l:Q.l}),r({h:(re+216)%360,s:Q.s,l:Q.l})]}function w(X,Q,re){Q=Q||6,re=re||30;var ae=r(X).toHsl(),ie=360/re,le=[r(X)];for(ae.h=(ae.h-(ie*Q>>1)+720)%360;--Q;)ae.h=(ae.h+ie)%360,le.push(r(ae));return le}function E(X,Q){Q=Q||6;for(var re=r(X).toHsv(),ae=re.h,ie=re.s,le=re.v,pe=[],de=1/Q;Q--;)pe.push(r({h:ae,s:ie,v:le})),le=(le+de)%1;return pe}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(299*X.r+587*X.g+114*X.b)/1e3},getLuminance:function(){var X,Q,re,ae=this.toRgb();return X=ae.r/255,Q=ae.g/255,re=ae.b/255,.2126*(X<=.03928?X/12.92:k.pow((X+.055)/1.055,2.4))+.7152*(Q<=.03928?Q/12.92:k.pow((Q+.055)/1.055,2.4))+.0722*(re<=.03928?re/12.92:k.pow((re+.055)/1.055,2.4))},setAlpha:function(X){return this._a=O(X),this._roundA=g(100*this._a)/100,this},toHsv:function(){var X=o(this._r,this._g,this._b);return{h:360*X.h,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=o(this._r,this._g,this._b),Q=g(360*X.h),re=g(100*X.s),ae=g(100*X.v);return this._a==1?"hsv("+Q+", "+re+"%, "+ae+"%)":"hsva("+Q+", "+re+"%, "+ae+"%, "+this._roundA+")"},toHsl:function(){var X=n(this._r,this._g,this._b);return{h:360*X.h,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=n(this._r,this._g,this._b),Q=g(360*X.h),re=g(100*X.s),ae=g(100*X.l);return this._a==1?"hsl("+Q+", "+re+"%, "+ae+"%)":"hsla("+Q+", "+re+"%, "+ae+"%, "+this._roundA+")"},toHex:function(X){return l(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return function(Q,re,ae,ie,le){var pe=[N(g(Q).toString(16)),N(g(re).toString(16)),N(g(ae).toString(16)),N(F(ie))];return le&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)&&pe[3].charAt(0)==pe[3].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0)+pe[3].charAt(0):pe.join("")}(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:g(this._r),g:g(this._g),b:g(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+g(this._r)+", "+g(this._g)+", "+g(this._b)+")":"rgba("+g(this._r)+", "+g(this._g)+", "+g(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:g(100*R(this._r,255))+"%",g:g(100*R(this._g,255))+"%",b:g(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+g(100*R(this._r,255))+"%, "+g(100*R(this._g,255))+"%, "+g(100*R(this._b,255))+"%)":"rgba("+g(100*R(this._r,255))+"%, "+g(100*R(this._g,255))+"%, "+g(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(P[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(X){var Q="#"+u(this._r,this._g,this._b,this._a),re=Q,ae=this._gradientType?"GradientType = 1, ":"";if(X){var ie=r(X);re="#"+u(ie._r,ie._g,ie._b,ie._a)}return"progid:DXImageTransform.Microsoft.gradient("+ae+"startColorstr="+Q+",endColorstr="+re+")"},toString:function(X){var Q=!!X;X=X||this._format;var re=!1,ae=this._a<1&&this._a>=0;return Q||!ae||X!=="hex"&&X!=="hex6"&&X!=="hex3"&&X!=="hex4"&&X!=="hex8"&&X!=="name"?(X==="rgb"&&(re=this.toRgbString()),X==="prgb"&&(re=this.toPercentageRgbString()),X!=="hex"&&X!=="hex6"||(re=this.toHexString()),X==="hex3"&&(re=this.toHexString(!0)),X==="hex4"&&(re=this.toHex8String(!0)),X==="hex8"&&(re=this.toHex8String()),X==="name"&&(re=this.toName()),X==="hsl"&&(re=this.toHslString()),X==="hsv"&&(re=this.toHsvString()),re||this.toHexString()):X==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(X,Q){var re=X.apply(null,[this].concat([].slice.call(Q)));return this._r=re._r,this._g=re._g,this._b=re._b,this.setAlpha(re._a),this},lighten:function(){return this._applyModification(f,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(X,Q){return X.apply(null,[this].concat([].slice.call(Q)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(h,arguments)}},r.fromRatio=function(X,Q){if(typeof X=="object"){var re={};for(var ae in X)X.hasOwnProperty(ae)&&(re[ae]=ae==="a"?X[ae]:W(X[ae]));X=re}return r(X,Q)},r.equals=function(X,Q){return!(!X||!Q)&&r(X).toRgbString()==r(Q).toRgbString()},r.random=function(){return r.fromRatio({r:i(),g:i(),b:i()})},r.mix=function(X,Q,re){re=re===0?0:re||50;var ae=r(X).toRgb(),ie=r(Q).toRgb(),le=re/100;return r({r:(ie.r-ae.r)*le+ae.r,g:(ie.g-ae.g)*le+ae.g,b:(ie.b-ae.b)*le+ae.b,a:(ie.a-ae.a)*le+ae.a})},r.readability=function(X,Q){var re=r(X),ae=r(Q);return(k.max(re.getLuminance(),ae.getLuminance())+.05)/(k.min(re.getLuminance(),ae.getLuminance())+.05)},r.isReadable=function(X,Q,re){var ae,ie,le,pe,de,ve=r.readability(X,Q);switch(ie=!1,(le=re,(pe=((le=le||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&pe!=="AAA"&&(pe="AA"),(de=(le.size||"small").toLowerCase())!=="small"&&de!=="large"&&(de="small"),ae={level:pe,size:de}).level+ae.size){case"AAsmall":case"AAAlarge":ie=ve>=4.5;break;case"AAlarge":ie=ve>=3;break;case"AAAsmall":ie=ve>=7}return ie},r.mostReadable=function(X,Q,re){var ae,ie,le,pe,de=null,ve=0;ie=(re=re||{}).includeFallbackColors,le=re.level,pe=re.size;for(var be=0;be<Q.length;be++)(ae=r.readability(X,Q[be]))>ve&&(ve=ae,de=r(Q[be]));return r.isReadable(X,de,{level:le,size:pe})||!ie?de:(re.includeFallbackColors=!1,r.mostReadable(X,["#fff","#000"],re))};var C=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=r.hexNames=function(X){var Q={};for(var re in X)X.hasOwnProperty(re)&&(Q[X[re]]=re);return Q}(C);function O(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function R(X,Q){(function(ae){return typeof ae=="string"&&ae.indexOf(".")!=-1&&parseFloat(ae)===1})(X)&&(X="100%");var re=function(ae){return typeof ae=="string"&&ae.indexOf("%")!=-1}(X);return X=s(Q,t(0,parseFloat(X))),re&&(X=parseInt(X*Q,10)/100),k.abs(X-Q)<1e-6?1:X%Q/parseFloat(Q)}function U(X){return s(1,t(0,X))}function z(X){return parseInt(X,16)}function N(X){return X.length==1?"0"+X:""+X}function W(X){return X<=1&&(X=100*X+"%"),X}function F(X){return k.round(255*parseFloat(X)).toString(16)}function V(X){return z(X)/255}var j,te,J,K=(te="[\\s|\\(]+("+(j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",J="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",{CSS_UNIT:new RegExp(j),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+J),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+J),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+J),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Z(X){return!!K.CSS_UNIT.exec(X)}ee.exports?ee.exports=r:(M=(function(){return r}).call(D,e,D,ee))===void 0||(ee.exports=M)})(Math)},37816:function(ee){ee.exports=e,ee.exports.float32=ee.exports.float=e,ee.exports.fract32=ee.exports.fract=function(M,k){if(M.length){if(M instanceof Float32Array)return new Float32Array(M.length);k instanceof Float32Array||(k=e(M));for(var a=0,T=k.length;a<T;a++)k[a]=M[a]-k[a];return k}return e(M-e(M))};var D=new Float32Array(1);function e(M){return M.length?M instanceof Float32Array?M:new Float32Array(M):(D[0]=M,D[0])}},23464:function(ee,D,e){var M=e(65819);ee.exports=T;var k=96;function a(b,g){var s=M(getComputedStyle(b).getPropertyValue(g));return s[0]*T(s[1],b)}function T(b,g){switch(g=g||document.body,b=(b||"px").trim().toLowerCase(),g!==window&&g!==document||(g=document.body),b){case"%":return g.clientHeight/100;case"ch":case"ex":return function(s,t){var i=document.createElement("div");i.style["font-size"]="128"+s,t.appendChild(i);var r=a(i,"font-size")/128;return t.removeChild(i),r}(b,g);case"em":return a(g,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return k;case"cm":return k/2.54;case"mm":return k/25.4;case"pt":return k/72;case"pc":return k/6}return 1}},55712:function(ee,D,e){function M(T){return T}function k(T,b){return typeof b=="string"&&(b=T.objects[b]),b.type==="GeometryCollection"?{type:"FeatureCollection",features:b.geometries.map(function(g){return a(T,g)})}:a(T,b)}function a(T,b){var g=b.id,s=b.bbox,t=b.properties==null?{}:b.properties,i=function(r,n){var o=function(p){if(p==null)return M;var v,y,x=p.scale[0],_=p.scale[1],h=p.translate[0],S=p.translate[1];return function(w,E){E||(v=y=0);var C=2,P=w.length,O=new Array(P);for(O[0]=(v+=w[0])*x+h,O[1]=(y+=w[1])*_+S;C<P;)O[C]=w[C],++C;return O}}(r.transform),l=r.arcs;function u(p,v){v.length&&v.pop();for(var y=l[p<0?~p:p],x=0,_=y.length;x<_;++x)v.push(o(y[x],x));p<0&&function(h,S){for(var w,E=h.length,C=E-S;C<--E;)w=h[C],h[C++]=h[E],h[E]=w}(v,_)}function d(p){return o(p)}function c(p){for(var v=[],y=0,x=p.length;y<x;++y)u(p[y],v);return v.length<2&&v.push(v[0]),v}function m(p){for(var v=c(p);v.length<4;)v.push(v[0]);return v}function f(p){return p.map(m)}return function p(v){var y,x=v.type;switch(x){case"GeometryCollection":return{type:x,geometries:v.geometries.map(p)};case"Point":y=d(v.coordinates);break;case"MultiPoint":y=v.coordinates.map(d);break;case"LineString":y=c(v.arcs);break;case"MultiLineString":y=v.arcs.map(c);break;case"Polygon":y=f(v.arcs);break;case"MultiPolygon":y=v.arcs.map(f);break;default:return null}return{type:x,coordinates:y}}(n)}(T,b);return g==null&&s==null?{type:"Feature",properties:t,geometry:i}:s==null?{type:"Feature",id:g,properties:t,geometry:i}:{type:"Feature",id:g,bbox:s,properties:t,geometry:i}}e.d(D,{NO:function(){return k}})},73384:function(ee,D,e){var M=e(54612);ee.exports=function(k){if(typeof k!="function"||!hasOwnProperty.call(k,"length"))return!1;try{if(typeof k.length!="number"||typeof k.call!="function"||typeof k.apply!="function")return!1}catch{return!1}return!M(k)}},57980:function(ee,D,e){var M=e(81680),k=e(7328),a=e(33940),T=e(18856),b=function(g,s){return g.replace("%v",T(s))};ee.exports=function(g,s,t){if(!k(t))throw new TypeError(b(s,g));if(!M(g)){if("default"in t)return t.default;if(t.isOptional)return null}var i=a(t.errorMessage);throw M(i)||(i=s),new TypeError(b(i,g))}},32336:function(ee){ee.exports=function(D){try{return D.toString()}catch{try{return String(D)}catch{return null}}}},18856:function(ee,D,e){var M=e(32336),k=/[\n\r\u2028\u2029]/g;ee.exports=function(a){var T=M(a);return T===null?"<Non-coercible to string value>":(T.length>100&&(T=T.slice(0,99)+""),T=T.replace(k,function(b){switch(b){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},7328:function(ee,D,e){var M=e(81680),k={object:!0,function:!0,undefined:!0};ee.exports=function(a){return!!M(a)&&hasOwnProperty.call(k,typeof a)}},87396:function(ee,D,e){var M=e(57980),k=e(85488);ee.exports=function(a){return k(a)?a:M(a,"%v is not a plain function",arguments[1])}},85488:function(ee,D,e){var M=e(73384),k=/^\s*class[\s{/}]/,a=Function.prototype.toString;ee.exports=function(T){return!!M(T)&&!k.test(a.call(T))}},54612:function(ee,D,e){var M=e(7328);ee.exports=function(k){if(!M(k))return!1;try{return!!k.constructor&&k.constructor.prototype===k}catch{return!1}}},33940:function(ee,D,e){var M=e(81680),k=e(7328),a=Object.prototype.toString;ee.exports=function(T){if(!M(T))return null;if(k(T)){var b=T.toString;if(typeof b!="function"||b===a)return null}try{return""+T}catch{return null}}},18496:function(ee,D,e){var M=e(57980),k=e(81680);ee.exports=function(a){return k(a)?a:M(a,"Cannot use %v",arguments[1])}},81680:function(ee){ee.exports=function(D){return D!=null}},14144:function(ee,D,e){var M=e(308),k=e(10352),a=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:k([32,0]),UINT16:k([32,0]),UINT32:k([32,0]),BIGUINT64:k([32,0]),INT8:k([32,0]),INT16:k([32,0]),INT32:k([32,0]),BIGINT64:k([32,0]),FLOAT:k([32,0]),DOUBLE:k([32,0]),DATA:k([32,0]),UINT8C:k([32,0]),BUFFER:k([32,0])});var T=typeof Uint8ClampedArray<"u",b=typeof BigUint64Array<"u",g=typeof BigInt64Array<"u",s=e.g.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=k([32,0])),s.BIGUINT64||(s.BIGUINT64=k([32,0])),s.BIGINT64||(s.BIGINT64=k([32,0])),s.BUFFER||(s.BUFFER=k([32,0]));var t=s.DATA,i=s.BUFFER;function r(S){if(S){var w=S.length||S.byteLength,E=M.log2(w);t[E].push(S)}}function n(S){S=M.nextPow2(S);var w=M.log2(S),E=t[w];return E.length>0?E.pop():new ArrayBuffer(S)}function o(S){return new Uint8Array(n(S),0,S)}function l(S){return new Uint16Array(n(2*S),0,S)}function u(S){return new Uint32Array(n(4*S),0,S)}function d(S){return new Int8Array(n(S),0,S)}function c(S){return new Int16Array(n(2*S),0,S)}function m(S){return new Int32Array(n(4*S),0,S)}function f(S){return new Float32Array(n(4*S),0,S)}function p(S){return new Float64Array(n(8*S),0,S)}function v(S){return T?new Uint8ClampedArray(n(S),0,S):o(S)}function y(S){return b?new BigUint64Array(n(8*S),0,S):null}function x(S){return g?new BigInt64Array(n(8*S),0,S):null}function _(S){return new DataView(n(S),0,S)}function h(S){S=M.nextPow2(S);var w=M.log2(S),E=i[w];return E.length>0?E.pop():new a(S)}D.free=function(S){if(a.isBuffer(S))i[M.log2(S.length)].push(S);else{if(Object.prototype.toString.call(S)!=="[object ArrayBuffer]"&&(S=S.buffer),!S)return;var w=S.length||S.byteLength,E=0|M.log2(w);t[E].push(S)}},D.freeUint8=D.freeUint16=D.freeUint32=D.freeBigUint64=D.freeInt8=D.freeInt16=D.freeInt32=D.freeBigInt64=D.freeFloat32=D.freeFloat=D.freeFloat64=D.freeDouble=D.freeUint8Clamped=D.freeDataView=function(S){r(S.buffer)},D.freeArrayBuffer=r,D.freeBuffer=function(S){i[M.log2(S.length)].push(S)},D.malloc=function(S,w){if(w===void 0||w==="arraybuffer")return n(S);switch(w){case"uint8":return o(S);case"uint16":return l(S);case"uint32":return u(S);case"int8":return d(S);case"int16":return c(S);case"int32":return m(S);case"float":case"float32":return f(S);case"double":case"float64":return p(S);case"uint8_clamped":return v(S);case"bigint64":return x(S);case"biguint64":return y(S);case"buffer":return h(S);case"data":case"dataview":return _(S);default:return null}return null},D.mallocArrayBuffer=n,D.mallocUint8=o,D.mallocUint16=l,D.mallocUint32=u,D.mallocInt8=d,D.mallocInt16=c,D.mallocInt32=m,D.mallocFloat32=D.mallocFloat=f,D.mallocFloat64=D.mallocDouble=p,D.mallocUint8Clamped=v,D.mallocBigUint64=y,D.mallocBigInt64=x,D.mallocDataView=_,D.mallocBuffer=h,D.clearCache=function(){for(var S=0;S<32;++S)s.UINT8[S].length=0,s.UINT16[S].length=0,s.UINT32[S].length=0,s.INT8[S].length=0,s.INT16[S].length=0,s.INT32[S].length=0,s.FLOAT[S].length=0,s.DOUBLE[S].length=0,s.BIGUINT64[S].length=0,s.BIGINT64[S].length=0,s.UINT8C[S].length=0,t[S].length=0,i[S].length=0}},92384:function(ee){var D=/[\'\"]/;ee.exports=function(e){return e?(D.test(e.charAt(0))&&(e=e.substr(1)),D.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},45223:function(ee){ee.exports=function(D,e,M){Array.isArray(M)||(M=[].slice.call(arguments,2));for(var k=0,a=M.length;k<a;k++){var T=M[k];for(var b in T)if((e[b]===void 0||Array.isArray(e[b])||D[b]!==e[b])&&b in e){var g;if(T[b]===!0)g=e[b];else if(T[b]===!1||typeof T[b]=="function"&&(g=T[b](e[b],D,e))===void 0)continue;D[b]=g}}return D}},96656:function(ee,D,e){function M(k){try{if(!e.g.localStorage)return!1}catch{return!1}var a=e.g.localStorage[k];return a!=null&&String(a).toLowerCase()==="true"}ee.exports=function(k,a){if(M("noDeprecation"))return k;var T=!1;return function(){if(!T){if(M("throwDeprecation"))throw new Error(a);M("traceDeprecation")?console.trace(a):console.warn(a),T=!0}return k.apply(this,arguments)}}},75272:function(ee){ee.exports=function(D){return D&&typeof D=="object"&&typeof D.copy=="function"&&typeof D.fill=="function"&&typeof D.readUInt8=="function"}},41088:function(ee,D,e){var M=e(91148),k=e(84420),a=e(96632),T=e(7728);function b(R){return R.call.bind(R)}var g=typeof BigInt<"u",s=typeof Symbol<"u",t=b(Object.prototype.toString),i=b(Number.prototype.valueOf),r=b(String.prototype.valueOf),n=b(Boolean.prototype.valueOf);if(g)var o=b(BigInt.prototype.valueOf);if(s)var l=b(Symbol.prototype.valueOf);function u(R,U){if(typeof R!="object")return!1;try{return U(R),!0}catch{return!1}}function d(R){return t(R)==="[object Map]"}function c(R){return t(R)==="[object Set]"}function m(R){return t(R)==="[object WeakMap]"}function f(R){return t(R)==="[object WeakSet]"}function p(R){return t(R)==="[object ArrayBuffer]"}function v(R){return typeof ArrayBuffer<"u"&&(p.working?p(R):R instanceof ArrayBuffer)}function y(R){return t(R)==="[object DataView]"}function x(R){return typeof DataView<"u"&&(y.working?y(R):R instanceof DataView)}D.isArgumentsObject=M,D.isGeneratorFunction=k,D.isTypedArray=T,D.isPromise=function(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"},D.isArrayBufferView=function(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):T(R)||x(R)},D.isUint8Array=function(R){return a(R)==="Uint8Array"},D.isUint8ClampedArray=function(R){return a(R)==="Uint8ClampedArray"},D.isUint16Array=function(R){return a(R)==="Uint16Array"},D.isUint32Array=function(R){return a(R)==="Uint32Array"},D.isInt8Array=function(R){return a(R)==="Int8Array"},D.isInt16Array=function(R){return a(R)==="Int16Array"},D.isInt32Array=function(R){return a(R)==="Int32Array"},D.isFloat32Array=function(R){return a(R)==="Float32Array"},D.isFloat64Array=function(R){return a(R)==="Float64Array"},D.isBigInt64Array=function(R){return a(R)==="BigInt64Array"},D.isBigUint64Array=function(R){return a(R)==="BigUint64Array"},d.working=typeof Map<"u"&&d(new Map),D.isMap=function(R){return typeof Map<"u"&&(d.working?d(R):R instanceof Map)},c.working=typeof Set<"u"&&c(new Set),D.isSet=function(R){return typeof Set<"u"&&(c.working?c(R):R instanceof Set)},m.working=typeof WeakMap<"u"&&m(new WeakMap),D.isWeakMap=function(R){return typeof WeakMap<"u"&&(m.working?m(R):R instanceof WeakMap)},f.working=typeof WeakSet<"u"&&f(new WeakSet),D.isWeakSet=function(R){return f(R)},p.working=typeof ArrayBuffer<"u"&&p(new ArrayBuffer),D.isArrayBuffer=v,y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&y(new DataView(new ArrayBuffer(1),0,1)),D.isDataView=x;var _=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function h(R){return t(R)==="[object SharedArrayBuffer]"}function S(R){return _!==void 0&&(h.working===void 0&&(h.working=h(new _)),h.working?h(R):R instanceof _)}function w(R){return u(R,i)}function E(R){return u(R,r)}function C(R){return u(R,n)}function P(R){return g&&u(R,o)}function O(R){return s&&u(R,l)}D.isSharedArrayBuffer=S,D.isAsyncFunction=function(R){return t(R)==="[object AsyncFunction]"},D.isMapIterator=function(R){return t(R)==="[object Map Iterator]"},D.isSetIterator=function(R){return t(R)==="[object Set Iterator]"},D.isGeneratorObject=function(R){return t(R)==="[object Generator]"},D.isWebAssemblyCompiledModule=function(R){return t(R)==="[object WebAssembly.Module]"},D.isNumberObject=w,D.isStringObject=E,D.isBooleanObject=C,D.isBigIntObject=P,D.isSymbolObject=O,D.isBoxedPrimitive=function(R){return w(R)||E(R)||C(R)||P(R)||O(R)},D.isAnyArrayBuffer=function(R){return typeof Uint8Array<"u"&&(v(R)||S(R))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(D,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})},35840:function(ee,D,e){var M=e(4168),k=Object.getOwnPropertyDescriptors||function(O){for(var R=Object.keys(O),U={},z=0;z<R.length;z++)U[R[z]]=Object.getOwnPropertyDescriptor(O,R[z]);return U},a=/%[sdj%]/g;D.format=function(O){if(!m(O)){for(var R=[],U=0;U<arguments.length;U++)R.push(s(arguments[U]));return R.join(" ")}U=1;for(var z=arguments,N=z.length,W=String(O).replace(a,function(V){if(V==="%%")return"%";if(U>=N)return V;switch(V){case"%s":return String(z[U++]);case"%d":return Number(z[U++]);case"%j":try{return JSON.stringify(z[U++])}catch{return"[Circular]"}default:return V}}),F=z[U];U<N;F=z[++U])d(F)||!v(F)?W+=" "+F:W+=" "+s(F);return W},D.deprecate=function(O,R){if(M!==void 0&&M.noDeprecation===!0)return O;if(M===void 0)return function(){return D.deprecate(O,R).apply(this,arguments)};var U=!1;return function(){if(!U){if(M.throwDeprecation)throw new Error(R);M.traceDeprecation?console.trace(R):console.error(R),U=!0}return O.apply(this,arguments)}};var T={},b=/^$/;if(M.env.NODE_DEBUG){var g=M.env.NODE_DEBUG;g=g.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+g+"$","i")}function s(O,R){var U={seen:[],stylize:i};return arguments.length>=3&&(U.depth=arguments[2]),arguments.length>=4&&(U.colors=arguments[3]),u(R)?U.showHidden=R:R&&D._extend(U,R),f(U.showHidden)&&(U.showHidden=!1),f(U.depth)&&(U.depth=2),f(U.colors)&&(U.colors=!1),f(U.customInspect)&&(U.customInspect=!0),U.colors&&(U.stylize=t),r(U,O,U.depth)}function t(O,R){var U=s.styles[R];return U?"\x1B["+s.colors[U][0]+"m"+O+"\x1B["+s.colors[U][1]+"m":O}function i(O,R){return O}function r(O,R,U){if(O.customInspect&&R&&_(R.inspect)&&R.inspect!==D.inspect&&(!R.constructor||R.constructor.prototype!==R)){var z=R.inspect(U,O);return m(z)||(z=r(O,z,U)),z}var N=function(Z,X){if(f(X))return Z.stylize("undefined","undefined");if(m(X)){var Q="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Z.stylize(Q,"string")}return c(X)?Z.stylize(""+X,"number"):u(X)?Z.stylize(""+X,"boolean"):d(X)?Z.stylize("null","null"):void 0}(O,R);if(N)return N;var W=Object.keys(R),F=function(Z){var X={};return Z.forEach(function(Q,re){X[Q]=!0}),X}(W);if(O.showHidden&&(W=Object.getOwnPropertyNames(R)),x(R)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return n(R);if(W.length===0){if(_(R)){var V=R.name?": "+R.name:"";return O.stylize("[Function"+V+"]","special")}if(p(R))return O.stylize(RegExp.prototype.toString.call(R),"regexp");if(y(R))return O.stylize(Date.prototype.toString.call(R),"date");if(x(R))return n(R)}var j,te="",J=!1,K=["{","}"];return l(R)&&(J=!0,K=["[","]"]),_(R)&&(te=" [Function"+(R.name?": "+R.name:"")+"]"),p(R)&&(te=" "+RegExp.prototype.toString.call(R)),y(R)&&(te=" "+Date.prototype.toUTCString.call(R)),x(R)&&(te=" "+n(R)),W.length!==0||J&&R.length!=0?U<0?p(R)?O.stylize(RegExp.prototype.toString.call(R),"regexp"):O.stylize("[Object]","special"):(O.seen.push(R),j=J?function(Z,X,Q,re,ae){for(var ie=[],le=0,pe=X.length;le<pe;++le)E(X,String(le))?ie.push(o(Z,X,Q,re,String(le),!0)):ie.push("");return ae.forEach(function(de){de.match(/^\d+$/)||ie.push(o(Z,X,Q,re,de,!0))}),ie}(O,R,U,F,W):W.map(function(Z){return o(O,R,U,F,Z,J)}),O.seen.pop(),function(Z,X,Q){return Z.reduce(function(re,ae){return ae.indexOf(`
`),re+ae.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Q[0]+(X===""?"":X+`
 `)+" "+Z.join(`,
  `)+" "+Q[1]:Q[0]+X+" "+Z.join(", ")+" "+Q[1]}(j,te,K)):K[0]+te+K[1]}function n(O){return"["+Error.prototype.toString.call(O)+"]"}function o(O,R,U,z,N,W){var F,V,j;if((j=Object.getOwnPropertyDescriptor(R,N)||{value:R[N]}).get?V=j.set?O.stylize("[Getter/Setter]","special"):O.stylize("[Getter]","special"):j.set&&(V=O.stylize("[Setter]","special")),E(z,N)||(F="["+N+"]"),V||(O.seen.indexOf(j.value)<0?(V=d(U)?r(O,j.value,null):r(O,j.value,U-1)).indexOf(`
`)>-1&&(V=W?V.split(`
`).map(function(te){return"  "+te}).join(`
`).slice(2):`
`+V.split(`
`).map(function(te){return"   "+te}).join(`
`)):V=O.stylize("[Circular]","special")),f(F)){if(W&&N.match(/^\d+$/))return V;(F=JSON.stringify(""+N)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=O.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=O.stylize(F,"string"))}return F+": "+V}function l(O){return Array.isArray(O)}function u(O){return typeof O=="boolean"}function d(O){return O===null}function c(O){return typeof O=="number"}function m(O){return typeof O=="string"}function f(O){return O===void 0}function p(O){return v(O)&&h(O)==="[object RegExp]"}function v(O){return typeof O=="object"&&O!==null}function y(O){return v(O)&&h(O)==="[object Date]"}function x(O){return v(O)&&(h(O)==="[object Error]"||O instanceof Error)}function _(O){return typeof O=="function"}function h(O){return Object.prototype.toString.call(O)}function S(O){return O<10?"0"+O.toString(10):O.toString(10)}D.debuglog=function(O){if(O=O.toUpperCase(),!T[O])if(b.test(O)){var R=M.pid;T[O]=function(){var U=D.format.apply(D,arguments);console.error("%s %d: %s",O,R,U)}}else T[O]=function(){};return T[O]},D.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},D.types=e(41088),D.isArray=l,D.isBoolean=u,D.isNull=d,D.isNullOrUndefined=function(O){return O==null},D.isNumber=c,D.isString=m,D.isSymbol=function(O){return typeof O=="symbol"},D.isUndefined=f,D.isRegExp=p,D.types.isRegExp=p,D.isObject=v,D.isDate=y,D.types.isDate=y,D.isError=x,D.types.isNativeError=x,D.isFunction=_,D.isPrimitive=function(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||O===void 0},D.isBuffer=e(75272);var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(O,R){return Object.prototype.hasOwnProperty.call(O,R)}D.log=function(){var O,R;console.log("%s - %s",(R=[S((O=new Date).getHours()),S(O.getMinutes()),S(O.getSeconds())].join(":"),[O.getDate(),w[O.getMonth()],R].join(" ")),D.format.apply(D,arguments))},D.inherits=e(6768),D._extend=function(O,R){if(!R||!v(R))return O;for(var U=Object.keys(R),z=U.length;z--;)O[U[z]]=R[U[z]];return O};var C=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function P(O,R){if(!O){var U=new Error("Promise was rejected with a falsy value");U.reason=O,O=U}return R(O)}D.promisify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');if(C&&O[C]){var R;if(typeof(R=O[C])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(R,C,{value:R,enumerable:!1,writable:!1,configurable:!0}),R}function R(){for(var U,z,N=new Promise(function(V,j){U=V,z=j}),W=[],F=0;F<arguments.length;F++)W.push(arguments[F]);W.push(function(V,j){V?z(V):U(j)});try{O.apply(this,W)}catch(V){z(V)}return N}return Object.setPrototypeOf(R,Object.getPrototypeOf(O)),C&&Object.defineProperty(R,C,{value:R,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(R,k(O))},D.promisify.custom=C,D.callbackify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function R(){for(var U=[],z=0;z<arguments.length;z++)U.push(arguments[z]);var N=U.pop();if(typeof N!="function")throw new TypeError("The last argument must be of type Function");var W=this,F=function(){return N.apply(W,arguments)};O.apply(this,U).then(function(V){M.nextTick(F.bind(null,null,V))},function(V){M.nextTick(P.bind(null,V,F))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(O)),Object.defineProperties(R,k(O)),R}},5408:function(ee,D,e){var M=e(13380);ee.exports=function(k){return M("webgl",k)}},96632:function(ee,D,e){var M=e(46492),k=e(63436),a=e(57916),T=e(99676),b=e(2304),g=T("Object.prototype.toString"),s=e(46672)(),t=typeof globalThis>"u"?e.g:globalThis,i=k(),r=T("String.prototype.slice"),n=Object.getPrototypeOf,o=T("Array.prototype.indexOf",!0)||function(u,d){for(var c=0;c<u.length;c+=1)if(u[c]===d)return c;return-1},l={__proto__:null};M(i,s&&b&&n?function(u){var d=new t[u];if(Symbol.toStringTag in d){var c=n(d),m=b(c,Symbol.toStringTag);if(!m){var f=n(c);m=b(f,Symbol.toStringTag)}l["$"+u]=a(m.get)}}:function(u){var d=new t[u],c=d.slice||d.set;c&&(l["$"+u]=a(c))}),ee.exports=function(u){if(!u||typeof u!="object")return!1;if(!s){var d=r(g(u),8,-1);return o(i,d)>-1?d:d==="Object"&&function(c){var m=!1;return M(l,function(f,p){if(!m)try{f(c),m=r(p,1)}catch{}}),m}(u)}return b?function(c){var m=!1;return M(l,function(f,p){if(!m)try{"$"+f(c)===p&&(m=r(p,1))}catch{}}),m}(u):null}},67020:function(ee,D,e){var M=e(38700),k=e(50896),a=M.instance();function T(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}T.prototype=new M.baseCalendar,k(T.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(n,o){if(typeof n=="string"){var l=n.match(g);return l?l[0]:""}var u=this._validateYear(n),d=n.month(),c=""+this.toChineseMonth(u,d);return o&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,d)&&(c+="i"),c},monthNames:function(n){if(typeof n=="string"){var o=n.match(s);return o?o[0]:""}var l=this._validateYear(n),u=n.month(),d=["","","","","","","","","","","",""][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(d=""+d),d},monthNamesShort:function(n){if(typeof n=="string"){var o=n.match(t);return o?o[0]:""}var l=this._validateYear(n),u=n.month(),d=["","","","","","","","","","","",""][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(d=""+d),d},parseMonth:function(n,o){n=this._validateYear(n);var l,u=parseInt(o);if(isNaN(u))o[0]===""&&(l=!0,o=o.substring(1)),o[o.length-1]===""&&(o=o.substring(0,o.length-1)),u=1+["","","","","","","","","","","",""].indexOf(o);else{var d=o[o.length-1];l=d==="i"||d==="I"}return this.toMonthIndex(n,u,l)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(n,o){if(n.year&&(n=n.year()),typeof n!="number"||n<1888||n>2111)throw o.replace(/\{0\}/,this.local.name);return n},toMonthIndex:function(n,o,l){var u=this.intercalaryMonth(n);if(l&&o!==u||o<1||o>12)throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!l&&o<=u?o-1:o:o-1},toChineseMonth:function(n,o){n.year&&(o=(n=n.year()).month());var l=this.intercalaryMonth(n);if(o<0||o>(l?12:11))throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return l?o<l?o+1:o:o+1},intercalaryMonth:function(n){return n=this._validateYear(n),i[n-i[0]]>>13},isIntercalaryMonth:function(n,o){n.year&&(o=(n=n.year()).month());var l=this.intercalaryMonth(n);return!!l&&l===o},leapYear:function(n){return this.intercalaryMonth(n)!==0},weekOfYear:function(n,o,l){var u,d=this._validateYear(n,M.local.invalidyear),c=r[d-r[0]],m=c>>9&4095,f=c>>5&15,p=31&c;(u=a.newDate(m,f,p)).add(4-(u.dayOfWeek()||7),"d");var v=this.toJD(n,o,l)-u.toJD();return 1+Math.floor(v/7)},monthsInYear:function(n){return this.leapYear(n)?13:12},daysInMonth:function(n,o){n.year&&(o=n.month(),n=n.year()),n=this._validateYear(n);var l=i[n-i[0]];if(o>(l>>13?12:11))throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return l&1<<12-o?30:29},weekDay:function(n,o,l){return(this.dayOfWeek(n,o,l)||7)<6},toJD:function(n,o,l){var u=this._validate(n,c,l,M.local.invalidDate);n=this._validateYear(u.year()),o=u.month(),l=u.day();var d=this.isIntercalaryMonth(n,o),c=this.toChineseMonth(n,o),m=function(f,p,v,y,x){var _,h,S;if(typeof f=="object")h=f,_=p||{};else{var w;if(!(typeof f=="number"&&f>=1888&&f<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof p=="number"&&p>=1&&p<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof v=="number"&&v>=1&&v<=30))throw new Error("Lunar day outside range 1 - 30");typeof y=="object"?(w=!1,_=y):(w=!!y,_={}),h={year:f,month:p,day:v,isIntercalary:w}}S=h.day-1;var E,C=i[h.year-i[0]],P=C>>13;E=P&&(h.month>P||h.isIntercalary)?h.month:h.month-1;for(var O=0;O<E;O++)S+=C&1<<12-O?30:29;var R=r[h.year-r[0]],U=new Date(R>>9&4095,(R>>5&15)-1,(31&R)+S);return _.year=U.getFullYear(),_.month=1+U.getMonth(),_.day=U.getDate(),_}(n,c,l,d);return a.toJD(m.year,m.month,m.day)},fromJD:function(n){var o=a.fromJD(n),l=function(d,c,m,f){var p,v;if(typeof d=="object")p=d,v=c||{};else{if(!(typeof d=="number"&&d>=1888&&d<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof c=="number"&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof m=="number"&&m>=1&&m<=31))throw new Error("Solar day outside range 1 - 31");p={year:d,month:c,day:m},v={}}var y=r[p.year-r[0]],x=p.year<<9|p.month<<5|p.day;v.year=x>=y?p.year:p.year-1,y=r[v.year-r[0]];var _,h=new Date(y>>9&4095,(y>>5&15)-1,31&y),S=new Date(p.year,p.month-1,p.day);_=Math.round((S-h)/864e5);var w,E=i[v.year-i[0]];for(w=0;w<13;w++){var C=E&1<<12-w?30:29;if(_<C)break;_-=C}var P=E>>13;return!P||w<P?(v.isIntercalary=!1,v.month=1+w):w===P?(v.isIntercalary=!0,v.month=w):(v.isIntercalary=!1,v.month=w),v.day=1+_,v}(o.year(),o.month(),o.day()),u=this.toMonthIndex(l.year,l.month,l.isIntercalary);return this.newDate(l.year,u,l.day)},fromString:function(n){var o=n.match(b),l=this._validateYear(+o[1]),u=+o[2],d=!!o[3],c=this.toMonthIndex(l,u,d),m=+o[4];return this.newDate(l,c,m)},add:function(n,o,l){var u=n.year(),d=n.month(),c=this.isIntercalaryMonth(u,d),m=this.toChineseMonth(u,d),f=Object.getPrototypeOf(T.prototype).add.call(this,n,o,l);if(l==="y"){var p=f.year(),v=f.month(),y=this.isIntercalaryMonth(p,m),x=c&&y?this.toMonthIndex(p,m,!0):this.toMonthIndex(p,m,!1);x!==v&&f.month(x)}return f}});var b=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,g=/^\d?\d[iI]?/m,s=/^??[]?/m,t=/^??[]?/m;M.calendars.chinese=T;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],r=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},89792:function(ee,D,e){var M=e(38700),k=e(50896);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var b=this._validate(T,this.minMonth,this.minDay,M.local.invalidYear);return(T=b.year()+(b.year()<0?1:0))%4==3||T%4==-1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear),13},weekOfYear:function(T,b,g){var s=this.newDate(T,b,g);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(T,b){var g=this._validate(T,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===13&&this.leapYear(g.year())?1:0)},weekDay:function(T,b,g){return(this.dayOfWeek(T,b,g)||7)<6},toJD:function(T,b,g){var s=this._validate(T,b,g,M.local.invalidDate);return(T=s.year())<0&&T++,s.day()+30*(s.month()-1)+365*(T-1)+Math.floor(T/4)+this.jdEpoch-1},fromJD:function(T){var b=Math.floor(T)+.5-this.jdEpoch,g=Math.floor((b-Math.floor((b+366)/1461))/365)+1;g<=0&&g--,b=Math.floor(T)+.5-this.newDate(g,1,1).toJD();var s=Math.floor(b/30)+1,t=b-30*(s-1)+1;return this.newDate(g,s,t)}}),M.calendars.coptic=a},55668:function(ee,D,e){var M=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),!1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),13},daysInYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),400},weekOfYear:function(b,g,s){var t=this.newDate(b,g,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(b,g){var s=this._validate(b,g,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(b,g,s){return(this._validate(b,g,s,M.local.invalidDate).day()+1)%8},weekDay:function(b,g,s){var t=this.dayOfWeek(b,g,s);return t>=2&&t<=6},extraInfo:function(b,g,s){var t=this._validate(b,g,s,M.local.invalidDate);return{century:T[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(b,g,s){var t=this._validate(b,g,s,M.local.invalidDate);return b=t.year()+(t.year()<0?1:0),g=t.month(),(s=t.day())+(g>1?16:0)+(g>2?32*(g-2):0)+400*(b-1)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b+.5)-Math.floor(this.jdEpoch)-1;var g=Math.floor(b/400)+1;b-=400*(g-1),b+=b>15?16:0;var s=Math.floor(b/32)+1,t=b-32*(s-1)+1;return this.newDate(g<=0?g-1:g,s,t)}});var T={20:"Fruitbat",21:"Anchovy"};M.calendars.discworld=a},65168:function(ee,D,e){var M=e(38700),k=e(50896);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var b=this._validate(T,this.minMonth,this.minDay,M.local.invalidYear);return(T=b.year()+(b.year()<0?1:0))%4==3||T%4==-1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear),13},weekOfYear:function(T,b,g){var s=this.newDate(T,b,g);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(T,b){var g=this._validate(T,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===13&&this.leapYear(g.year())?1:0)},weekDay:function(T,b,g){return(this.dayOfWeek(T,b,g)||7)<6},toJD:function(T,b,g){var s=this._validate(T,b,g,M.local.invalidDate);return(T=s.year())<0&&T++,s.day()+30*(s.month()-1)+365*(T-1)+Math.floor(T/4)+this.jdEpoch-1},fromJD:function(T){var b=Math.floor(T)+.5-this.jdEpoch,g=Math.floor((b-Math.floor((b+366)/1461))/365)+1;g<=0&&g--,b=Math.floor(T)+.5-this.newDate(g,1,1).toJD();var s=Math.floor(b/30)+1,t=b-30*(s-1)+1;return this.newDate(g,s,t)}}),M.calendars.ethiopian=a},2084:function(ee,D,e){var M=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function T(b,g){return b-g*Math.floor(b/g)}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var g=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return this._leapYear(g.year())},_leapYear:function(b){return T(7*(b=b<0?b+1:b)+1,19)<7},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),this._leapYear(b.year?b.year():b)?13:12},weekOfYear:function(b,g,s){var t=this.newDate(b,g,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){return b=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear).year(),this.toJD(b===-1?1:b+1,7,1)-this.toJD(b,7,1)},daysInMonth:function(b,g){return b.year&&(g=b.month(),b=b.year()),this._validate(b,g,this.minDay,M.local.invalidMonth),g===12&&this.leapYear(b)||g===8&&T(this.daysInYear(b),10)===5?30:g===9&&T(this.daysInYear(b),10)===3?29:this.daysPerMonth[g-1]},weekDay:function(b,g,s){return this.dayOfWeek(b,g,s)!==6},extraInfo:function(b,g,s){var t=this._validate(b,g,s,M.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(b,g,s){var t=this._validate(b,g,s,M.local.invalidDate);b=t.year(),g=t.month(),s=t.day();var i=b<=0?b+1:b,r=this.jdEpoch+this._delay1(i)+this._delay2(i)+s+1;if(g<7){for(var n=7;n<=this.monthsInYear(b);n++)r+=this.daysInMonth(b,n);for(n=1;n<g;n++)r+=this.daysInMonth(b,n)}else for(n=7;n<g;n++)r+=this.daysInMonth(b,n);return r},_delay1:function(b){var g=Math.floor((235*b-234)/19),s=12084+13753*g,t=29*g+Math.floor(s/25920);return T(3*(t+1),7)<3&&t++,t},_delay2:function(b){var g=this._delay1(b-1),s=this._delay1(b);return this._delay1(b+1)-s==356?2:s-g==382?1:0},fromJD:function(b){b=Math.floor(b)+.5;for(var g=Math.floor(98496*(b-this.jdEpoch)/35975351)-1;b>=this.toJD(g===-1?1:g+1,7,1);)g++;for(var s=b<this.toJD(g,1,1)?7:1;b>this.toJD(g,s,this.daysInMonth(g,s));)s++;var t=b-this.toJD(g,s,1)+1;return this.newDate(g,s,t)}}),M.calendars.hebrew=a},26368:function(ee,D,e){var M=e(38700),k=e(50896);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){return(11*this._validate(T,this.minMonth,this.minDay,M.local.invalidYear).year()+14)%30<11},weekOfYear:function(T,b,g){var s=this.newDate(T,b,g);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(T){return this.leapYear(T)?355:354},daysInMonth:function(T,b){var g=this._validate(T,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(T,b,g){return this.dayOfWeek(T,b,g)!==5},toJD:function(T,b,g){var s=this._validate(T,b,g,M.local.invalidDate);return T=s.year(),b=s.month(),T=T<=0?T+1:T,(g=s.day())+Math.ceil(29.5*(b-1))+354*(T-1)+Math.floor((3+11*T)/30)+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var b=Math.floor((30*(T-this.jdEpoch)+10646)/10631);b=b<=0?b-1:b;var g=Math.min(12,Math.ceil((T-29-this.toJD(b,1,1))/29.5)+1),s=T-this.toJD(b,g,1)+1;return this.newDate(b,g,s)}}),M.calendars.islamic=a},24747:function(ee,D,e){var M=e(38700),k=e(50896);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var b=this._validate(T,this.minMonth,this.minDay,M.local.invalidYear);return(T=b.year()<0?b.year()+1:b.year())%4==0},weekOfYear:function(T,b,g){var s=this.newDate(T,b,g);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(T,b){var g=this._validate(T,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(T,b,g){return(this.dayOfWeek(T,b,g)||7)<6},toJD:function(T,b,g){var s=this._validate(T,b,g,M.local.invalidDate);return T=s.year(),b=s.month(),g=s.day(),T<0&&T++,b<=2&&(T--,b+=12),Math.floor(365.25*(T+4716))+Math.floor(30.6001*(b+1))+g-1524.5},fromJD:function(T){var b=Math.floor(T+.5)+1524,g=Math.floor((b-122.1)/365.25),s=Math.floor(365.25*g),t=Math.floor((b-s)/30.6001),i=t-Math.floor(t<14?1:13),r=g-Math.floor(i>2?4716:4715),n=b-s-Math.floor(30.6001*t);return r<=0&&r--,this.newDate(r,i,n)}}),M.calendars.julian=a},65616:function(ee,D,e){var M=e(38700),k=e(50896);function a(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}function T(g,s){return g-s*Math.floor(g/s)}function b(g,s){return T(g-1,s)+1}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(g){return this._validate(g,this.minMonth,this.minDay,M.local.invalidYear),!1},formatYear:function(g){g=this._validate(g,this.minMonth,this.minDay,M.local.invalidYear).year();var s=Math.floor(g/400);return g%=400,g+=g<0?400:0,s+"."+Math.floor(g/20)+"."+g%20},forYear:function(g){if((g=g.split(".")).length<3)throw"Invalid Mayan year";for(var s=0,t=0;t<g.length;t++){var i=parseInt(g[t],10);if(Math.abs(i)>19||t>0&&i<0)throw"Invalid Mayan year";s=20*s+i}return s},monthsInYear:function(g){return this._validate(g,this.minMonth,this.minDay,M.local.invalidYear),18},weekOfYear:function(g,s,t){return this._validate(g,s,t,M.local.invalidDate),0},daysInYear:function(g){return this._validate(g,this.minMonth,this.minDay,M.local.invalidYear),360},daysInMonth:function(g,s){return this._validate(g,s,this.minDay,M.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(g,s,t){return this._validate(g,s,t,M.local.invalidDate).day()},weekDay:function(g,s,t){return this._validate(g,s,t,M.local.invalidDate),!0},extraInfo:function(g,s,t){var i=this._validate(g,s,t,M.local.invalidDate).toJD(),r=this._toHaab(i),n=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[r[0]-1],haabMonth:r[0],haabDay:r[1],tzolkinDayName:this.local.tzolkinMonths[n[0]-1],tzolkinDay:n[0],tzolkinTrecena:n[1]}},_toHaab:function(g){var s=T(8+(g-=this.jdEpoch)+340,365);return[Math.floor(s/20)+1,T(s,20)]},_toTzolkin:function(g){return[b(20+(g-=this.jdEpoch),20),b(g+4,13)]},toJD:function(g,s,t){var i=this._validate(g,s,t,M.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(g){g=Math.floor(g)+.5-this.jdEpoch;var s=Math.floor(g/360);g%=360,g+=g<0?360:0;var t=Math.floor(g/20),i=g%20;return this.newDate(s,t,i)}}),M.calendars.mayan=a},30632:function(ee,D,e){var M=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar;var T=M.instance("gregorian");k(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var g=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear);return T.leapYear(g.year()+(g.year()<1?1:0)+1469)},weekOfYear:function(b,g,s){var t=this.newDate(b,g,s);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,g){var s=this._validate(b,g,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(b,g,s){return(this.dayOfWeek(b,g,s)||7)<6},toJD:function(b,g,s){var t=this._validate(b,g,s,M.local.invalidMonth);(b=t.year())<0&&b++;for(var i=t.day(),r=1;r<t.month();r++)i+=this.daysPerMonth[r-1];return i+T.toJD(b+1468,3,13)},fromJD:function(b){b=Math.floor(b+.5);for(var g=Math.floor((b-(this.jdEpoch-1))/366);b>=this.toJD(g+1,1,1);)g++;for(var s=b-Math.floor(this.toJD(g,1,1)+.5)+1,t=1;s>this.daysInMonth(g,t);)s-=this.daysInMonth(g,t),t++;return this.newDate(g,t,s)}}),M.calendars.nanakshahi=a},73040:function(ee,D,e){var M=e(38700),k=e(50896);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(T){return this.daysInYear(T)!==this.daysPerYear},weekOfYear:function(T,b,g){var s=this.newDate(T,b,g);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(T){if(T=this._validate(T,this.minMonth,this.minDay,M.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[T]===void 0)return this.daysPerYear;for(var b=0,g=this.minMonth;g<=12;g++)b+=this.NEPALI_CALENDAR_DATA[T][g];return b},daysInMonth:function(T,b){return T.year&&(b=T.month(),T=T.year()),this._validate(T,b,this.minDay,M.local.invalidMonth),this.NEPALI_CALENDAR_DATA[T]===void 0?this.daysPerMonth[b-1]:this.NEPALI_CALENDAR_DATA[T][b]},weekDay:function(T,b,g){return this.dayOfWeek(T,b,g)!==6},toJD:function(T,b,g){var s=this._validate(T,b,g,M.local.invalidDate);T=s.year(),b=s.month(),g=s.day();var t=M.instance(),i=0,r=b,n=T;this._createMissingCalendarData(T);var o=T-(r>9||r===9&&g>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(b!==9&&(i=g,r--);r!==9;)r<=0&&(r=12,n--),i+=this.NEPALI_CALENDAR_DATA[n][r],r--;return b===9?(i+=g-this.NEPALI_CALENDAR_DATA[n][0])<0&&(i+=t.daysInYear(o)):i+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(o,1,1).add(i,"d").toJD()},fromJD:function(T){var b=M.instance().fromJD(T),g=b.year(),s=b.dayOfYear(),t=g+56;this._createMissingCalendarData(t);for(var i=9,r=this.NEPALI_CALENDAR_DATA[t][0],n=this.NEPALI_CALENDAR_DATA[t][i]-r+1;s>n;)++i>12&&(i=1,t++),n+=this.NEPALI_CALENDAR_DATA[t][i];var o=this.NEPALI_CALENDAR_DATA[t][i]-(n-s);return this.newDate(t,i,o)},_createMissingCalendarData:function(T){var b=this.daysPerMonth.slice(0);b.unshift(17);for(var g=T-1;g<T+2;g++)this.NEPALI_CALENDAR_DATA[g]===void 0&&(this.NEPALI_CALENDAR_DATA[g]=b)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),M.calendars.nepali=a},1104:function(ee,D,e){var M=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function T(b,g){return b-g*Math.floor(b/g)}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var g=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return 682*((g.year()-(g.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(b,g,s){var t=this.newDate(b,g,s);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,g){var s=this._validate(b,g,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(b,g,s){return this.dayOfWeek(b,g,s)!==5},toJD:function(b,g,s){var t=this._validate(b,g,s,M.local.invalidDate);b=t.year(),g=t.month(),s=t.day();var i=b-(b>=0?474:473),r=474+T(i,2820);return s+(g<=7?31*(g-1):30*(g-1)+6)+Math.floor((682*r-110)/2816)+365*(r-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(b){var g=(b=Math.floor(b)+.5)-this.toJD(475,1,1),s=Math.floor(g/1029983),t=T(g,1029983),i=2820;if(t!==1029982){var r=Math.floor(t/366),n=T(t,366);i=Math.floor((2134*r+2816*n+2815)/1028522)+r+1}var o=i+2820*s+474;o=o<=0?o-1:o;var l=b-this.toJD(o,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),d=b-this.toJD(o,u,1)+1;return this.newDate(o,u,d)}}),M.calendars.persian=a,M.calendars.jalali=a},51456:function(ee,D,e){var M=e(38700),k=e(50896),a=M.instance();function T(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}T.prototype=new M.baseCalendar,k(T.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(b){var g=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(g.year()),a.leapYear(b)},weekOfYear:function(b,g,s){var t=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(t.year()),a.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,g){var s=this._validate(b,g,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(b,g,s){return(this.dayOfWeek(b,g,s)||7)<6},toJD:function(b,g,s){var t=this._validate(b,g,s,M.local.invalidDate);return b=this._t2gYear(t.year()),a.toJD(b,t.month(),t.day())},fromJD:function(b){var g=a.fromJD(b),s=this._g2tYear(g.year());return this.newDate(s,g.month(),g.day())},_t2gYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)},_g2tYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)}}),M.calendars.taiwan=T},4592:function(ee,D,e){var M=e(38700),k=e(50896),a=M.instance();function T(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}T.prototype=new M.baseCalendar,k(T.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var g=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(g.year()),a.leapYear(b)},weekOfYear:function(b,g,s){var t=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(t.year()),a.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,g){var s=this._validate(b,g,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(b,g,s){return(this.dayOfWeek(b,g,s)||7)<6},toJD:function(b,g,s){var t=this._validate(b,g,s,M.local.invalidDate);return b=this._t2gYear(t.year()),a.toJD(b,t.month(),t.day())},fromJD:function(b){var g=a.fromJD(b),s=this._g2tYear(g.year());return this.newDate(s,g.month(),g.day())},_t2gYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)},_g2tYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)}}),M.calendars.thai=T},45348:function(ee,D,e){var M=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(b){var g=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return this.daysInYear(g.year())===355},weekOfYear:function(b,g,s){var t=this.newDate(b,g,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){for(var g=0,s=1;s<=12;s++)g+=this.daysInMonth(b,s);return g},daysInMonth:function(b,g){for(var s=this._validate(b,g,this.minDay,M.local.invalidMonth).toJD()-24e5+.5,t=0,i=0;i<T.length;i++){if(T[i]>s)return T[t]-T[t-1];t++}return 30},weekDay:function(b,g,s){return this.dayOfWeek(b,g,s)!==5},toJD:function(b,g,s){var t=this._validate(b,g,s,M.local.invalidDate),i=12*(t.year()-1)+t.month()-15292;return t.day()+T[i-1]-1+24e5-.5},fromJD:function(b){for(var g=b-24e5+.5,s=0,t=0;t<T.length&&!(T[t]>g);t++)s++;var i=s+15292,r=Math.floor((i-1)/12),n=r+1,o=i-12*r,l=g-T[s-1]+1;return this.newDate(n,o,l)},isValid:function(b,g,s){var t=M.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(b=b.year!=null?b.year:b)>=1276&&b<=1500),t},_validate:function(b,g,s,t){var i=M.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw t.replace(/\{0\}/,this.local.name);return i}}),M.calendars.ummalqura=a;var T=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(ee,D,e){var M=e(50896);function k(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function a(t,i,r,n){if(this._calendar=t,this._year=i,this._month=r,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function T(t,i){return"000000".substring(0,i-(t=""+t).length)+t}function b(){this.shortYearCutoff="+10"}function g(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}M(k.prototype,{instance:function(t,i){t=(t||"gregorian").toLowerCase(),i=i||"";var r=this._localCals[t+"-"+i];if(!r&&this.calendars[t]&&(r=new this.calendars[t](i),this._localCals[t+"-"+i]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return r},newDate:function(t,i,r,n,o){return(n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,o):n)||this.instance()).newDate(t,i,r)},substituteDigits:function(t){return function(i){return(i+"").replace(/[0-9]/g,function(r){return t[r]})}},substituteChineseDigits:function(t,i){return function(r){for(var n="",o=0;r>0;){var l=r%10;n=(l===0?"":t[l]+i[o])+n,o++,r=Math.floor(r/10)}return n.indexOf(t[1]+i[1])===0&&(n=n.substr(1)),n||t[0]}}}),M(a.prototype,{newDate:function(t,i,r){return this._calendar.newDate(t??this,i,r)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,i,r){if(!this._calendar.isValid(t,i,r))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=i,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,i){return this._calendar.add(this,t,i)},set:function(t,i){return this._calendar.set(this,t,i)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var i=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return i===0?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+T(Math.abs(this.year()),4)+"-"+T(this.month(),2)+"-"+T(this.day(),2)}}),M(b.prototype,{_validateLevel:0,newDate:function(t,i,r){return t==null?this.today():(t.year&&(this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),r=t.day(),i=t.month(),t=t.year()),new a(this,t,i,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+T(Math.abs(i.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(t,i){var r=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(t,i){var r=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,r,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),r},daysInYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,i,r){return this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(t,i,r){return this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,i,r),i,r)},_add:function(t,i,r){if(this._validateLevel++,r==="d"||r==="w"){var n=t.toJD()+i*(r==="w"?this.daysInWeek():1),o=t.calendar().fromJD(n);return this._validateLevel--,[o.year(),o.month(),o.day()]}try{var l=t.year()+(r==="y"?i:0),u=t.monthOfYear()+(r==="m"?i:0);o=t.day(),r==="y"?(t.month()!==this.fromMonthOfYear(l,u)&&(u=this.newDate(l,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(l)),o=Math.min(o,this.daysInMonth(l,this.fromMonthOfYear(l,u)))):r==="m"&&(function(c){for(;u<c.minMonth;)l--,u+=c.monthsInYear(l);for(var m=c.monthsInYear(l);u>m-1+c.minMonth;)l++,u-=m,m=c.monthsInYear(l)}(this),o=Math.min(o,this.daysInMonth(l,this.fromMonthOfYear(l,u))));var d=[l,this.fromMonthOfYear(l,u),o];return this._validateLevel--,d}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,i,r,n){if(!(this.hasYearZero||n!=="y"&&n!=="m"||i[0]!==0&&t.year()>0==i[0]>0)){var o={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],l=r<0?-1:1;i=this._add(t,r*o[0]+l*o[1],o[2])}return t.date(i[0],i[1],i[2])},set:function(t,i,r){this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var n=r==="y"?i:t.year(),o=r==="m"?i:t.month(),l=r==="d"?i:t.day();return r!=="y"&&r!=="m"||(l=Math.min(l,this.daysInMonth(n,o))),t.date(n,o,l)},isValid:function(t,i,r){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var o=this.newDate(t,i,this.minDay);n=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(o)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(o)}return this._validateLevel--,n},toJSDate:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(s.instance().fromJSDate(t).toJD())},_validate:function(t,i,r,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,i,r))throw n.replace(/\{0\}/,this.local.name);var o=this.newDate(t,i,r);return this._validateLevel--,o}catch(l){throw this._validateLevel--,l}}}),g.prototype=new b,M(g.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(t=i.year()+(i.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,i,r){var n=this.newDate(t,i,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,i){var r=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(t,i,r){return(this.dayOfWeek(t,i,r)||7)<6},toJD:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);t=n.year(),i=n.month(),r=n.day(),t<0&&t++,i<3&&(i+=12,t--);var o=Math.floor(t/100),l=2-o+Math.floor(o/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+r+l-1524.5},fromJD:function(t){var i=Math.floor(t+.5),r=Math.floor((i-186721625e-2)/36524.25),n=1524+(r=i+1+r-Math.floor(r/4)),o=Math.floor((n-122.1)/365.25),l=Math.floor(365.25*o),u=Math.floor((n-l)/30.6001),d=n-l-Math.floor(30.6001*u),c=u-(u>13.5?13:1),m=o-(c>2.5?4716:4715);return m<=0&&m--,this.newDate(m,c,d)},toJSDate:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),o=new Date(n.year(),n.month()-1,n.day());return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.setHours(o.getHours()>12?o.getHours()+2:0),o},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var s=ee.exports=new k;s.cdate=a,s.baseCalendar=b,s.calendars.gregorian=g},15168:function(ee,D,e){var M=e(50896),k=e(38700);M(k.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),k.local=k.regionalOptions[""],M(k.cdate.prototype,{formatDate:function(a,T){return typeof a!="string"&&(T=a,a=""),this._calendar.formatDate(a||"",this,T)}}),M(k.baseCalendar.prototype,{UNIX_EPOCH:k.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:k.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,T,b){if(typeof a!="string"&&(b=T,T=a,a=""),!T)return"";if(T.calendar()!==this)throw k.local.invalidFormat||k.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat;for(var g,s,t,i=(b=b||{}).dayNamesShort||this.local.dayNamesShort,r=b.dayNames||this.local.dayNames,n=b.monthNumbers||this.local.monthNumbers,o=b.monthNamesShort||this.local.monthNamesShort,l=b.monthNames||this.local.monthNames,u=(b.calculateWeek||this.local.calculateWeek,function(h,S){for(var w=1;_+w<a.length&&a.charAt(_+w)===h;)w++;return _+=w-1,Math.floor(w/(S||1))>1}),d=function(h,S,w,E){var C=""+S;if(u(h,E))for(;C.length<w;)C="0"+C;return C},c=this,m=function(h){return typeof n=="function"?n.call(c,h,u("m")):v(d("m",h.month(),2))},f=function(h,S){return S?typeof l=="function"?l.call(c,h):l[h.month()-c.minMonth]:typeof o=="function"?o.call(c,h):o[h.month()-c.minMonth]},p=this.local.digits,v=function(h){return b.localNumbers&&p?p(h):h},y="",x=!1,_=0;_<a.length;_++)if(x)a.charAt(_)!=="'"||u("'")?y+=a.charAt(_):x=!1;else switch(a.charAt(_)){case"d":y+=v(d("d",T.day(),2));break;case"D":y+=(g=T.dayOfWeek(),s=i,t=r,u("D")?t[g]:s[g]);break;case"o":y+=d("o",T.dayOfYear(),3);break;case"w":y+=d("w",T.weekOfYear(),2);break;case"m":y+=m(T);break;case"M":y+=f(T,u("M"));break;case"y":y+=u("y",2)?T.year():(T.year()%100<10?"0":"")+T.year()%100;break;case"Y":u("Y",2),y+=T.formatYear();break;case"J":y+=T.toJD();break;case"@":y+=(T.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(T.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?y+="'":x=!0;break;default:y+=a.charAt(_)}return y},parseDate:function(a,T,b){if(T==null)throw k.local.invalidArguments||k.regionalOptions[""].invalidArguments;if((T=typeof T=="object"?T.toString():T+"")==="")return null;a=a||this.local.dateFormat;var g=(b=b||{}).shortYearCutoff||this.shortYearCutoff;g=typeof g!="string"?g:this.today().year()%100+parseInt(g,10);for(var s=b.dayNamesShort||this.local.dayNamesShort,t=b.dayNames||this.local.dayNames,i=b.parseMonth||this.local.parseMonth,r=b.monthNumbers||this.local.monthNumbers,n=b.monthNamesShort||this.local.monthNamesShort,o=b.monthNames||this.local.monthNames,l=-1,u=-1,d=-1,c=-1,m=-1,f=!1,p=!1,v=function(R,U){for(var z=1;C+z<a.length&&a.charAt(C+z)===R;)z++;return C+=z-1,Math.floor(z/(U||1))>1},y=function(R,U){var z=v(R,U),N=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],W=new RegExp("^-?\\d{1,"+N+"}"),F=T.substring(E).match(W);if(!F)throw(k.local.missingNumberAt||k.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=F[0].length,parseInt(F[0],10)},x=this,_=function(){if(typeof r=="function"){v("m");var R=r.call(x,T.substring(E));return E+=R.length,R}return y("m")},h=function(R,U,z,N){for(var W=v(R,N)?z:U,F=0;F<W.length;F++)if(T.substr(E,W[F].length).toLowerCase()===W[F].toLowerCase())return E+=W[F].length,F+x.minMonth;throw(k.local.unknownNameAt||k.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},S=function(){if(typeof o=="function"){var R=v("M")?o.call(x,T.substring(E)):n.call(x,T.substring(E));return E+=R.length,R}return h("M",n,o)},w=function(){if(T.charAt(E)!==a.charAt(C))throw(k.local.unexpectedLiteralAt||k.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,C=0;C<a.length;C++)if(p)a.charAt(C)!=="'"||v("'")?w():p=!1;else switch(a.charAt(C)){case"d":c=y("d");break;case"D":h("D",s,t);break;case"o":m=y("o");break;case"w":y("w");break;case"m":d=_();break;case"M":d=S();break;case"y":var P=C;f=!v("y",2),C=P,u=y("y",2);break;case"Y":u=y("Y",2);break;case"J":l=y("J")+.5,T.charAt(E)==="."&&(E++,y("J"));break;case"@":l=y("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":l=y("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=T.length;break;case"'":v("'")?w():p=!0;break;default:w()}if(E<T.length)throw k.local.unexpectedText||k.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&f&&(u+=g===-1?1900:this.today().year()-this.today().year()%100-(u<=g?0:100)),typeof d=="string"&&(d=i.call(this,u,d)),m>-1){d=1,c=m;for(var O=this.daysInMonth(u,d);c>O;O=this.daysInMonth(u,d))d++,c-=O}return l>-1?this.fromJD(l):this.newDate(u,d,c)},determineDate:function(a,T,b,g,s){b&&typeof b!="object"&&(s=g,g=b,b=null),typeof g!="string"&&(s=g,g="");var t=this;return T=T?T.newDate():null,a==null?T:typeof a=="string"?function(i){try{return t.parseDate(g,i,s)}catch{}for(var r=((i=i.toLowerCase()).match(/^c/)&&b?b.newDate():null)||t.today(),n=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,o=n.exec(i);o;)r.add(parseInt(o[1],10),o[2]||"d"),o=n.exec(i);return r}(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?T:t.today().add(a,"d"):t.newDate(a)}})},21576:function(){},19768:function(){},63436:function(ee,D,e){var M=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],k=typeof globalThis>"u"?e.g:globalThis;ee.exports=function(){for(var a=[],T=0;T<M.length;T++)typeof k[M[T]]=="function"&&(a[a.length]=M[T]);return a}},67756:function(ee,D,e){function M(pe,de,ve){pe.prototype=de.prototype=ve,ve.constructor=pe}function k(pe,de){var ve=Object.create(pe.prototype);for(var be in de)ve[be]=de[be];return ve}function a(){}e.d(D,{qy:function(){return le},Gz:function(){return J}});var T=.7,b=1/T,g="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,r=new RegExp("^rgb\\(".concat(g,",").concat(g,",").concat(g,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),o=new RegExp("^rgba\\(".concat(g,",").concat(g,",").concat(g,",").concat(s,"\\)$")),l=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(s,"\\)$")),u=new RegExp("^hsl\\(".concat(s,",").concat(t,",").concat(t,"\\)$")),d=new RegExp("^hsla\\(".concat(s,",").concat(t,",").concat(t,",").concat(s,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function f(){return this.rgb().formatRgb()}function p(pe){var de,ve;return pe=(pe+"").trim().toLowerCase(),(de=i.exec(pe))?(ve=de[1].length,de=parseInt(de[1],16),ve===6?v(de):ve===3?new _(de>>8&15|de>>4&240,de>>4&15|240&de,(15&de)<<4|15&de,1):ve===8?y(de>>24&255,de>>16&255,de>>8&255,(255&de)/255):ve===4?y(de>>12&15|de>>8&240,de>>8&15|de>>4&240,de>>4&15|240&de,((15&de)<<4|15&de)/255):null):(de=r.exec(pe))?new _(de[1],de[2],de[3],1):(de=n.exec(pe))?new _(255*de[1]/100,255*de[2]/100,255*de[3]/100,1):(de=o.exec(pe))?y(de[1],de[2],de[3],de[4]):(de=l.exec(pe))?y(255*de[1]/100,255*de[2]/100,255*de[3]/100,de[4]):(de=u.exec(pe))?P(de[1],de[2]/100,de[3]/100,1):(de=d.exec(pe))?P(de[1],de[2]/100,de[3]/100,de[4]):c.hasOwnProperty(pe)?v(c[pe]):pe==="transparent"?new _(NaN,NaN,NaN,0):null}function v(pe){return new _(pe>>16&255,pe>>8&255,255&pe,1)}function y(pe,de,ve,be){return be<=0&&(pe=de=ve=NaN),new _(pe,de,ve,be)}function x(pe,de,ve,be){return arguments.length===1?((me=pe)instanceof a||(me=p(me)),me?new _((me=me.rgb()).r,me.g,me.b,me.opacity):new _):new _(pe,de,ve,be??1);var me}function _(pe,de,ve,be){this.r=+pe,this.g=+de,this.b=+ve,this.opacity=+be}function h(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b))}function S(){var pe=w(this.opacity);return"".concat(pe===1?"rgb(":"rgba(").concat(E(this.r),", ").concat(E(this.g),", ").concat(E(this.b)).concat(pe===1?")":", ".concat(pe,")"))}function w(pe){return isNaN(pe)?1:Math.max(0,Math.min(1,pe))}function E(pe){return Math.max(0,Math.min(255,Math.round(pe)||0))}function C(pe){return((pe=E(pe))<16?"0":"")+pe.toString(16)}function P(pe,de,ve,be){return be<=0?pe=de=ve=NaN:ve<=0||ve>=1?pe=de=NaN:de<=0&&(pe=NaN),new R(pe,de,ve,be)}function O(pe){if(pe instanceof R)return new R(pe.h,pe.s,pe.l,pe.opacity);if(pe instanceof a||(pe=p(pe)),!pe)return new R;if(pe instanceof R)return pe;var de=(pe=pe.rgb()).r/255,ve=pe.g/255,be=pe.b/255,me=Math.min(de,ve,be),ge=Math.max(de,ve,be),ke=NaN,we=ge-me,ue=(ge+me)/2;return we?(ke=de===ge?(ve-be)/we+6*(ve<be):ve===ge?(be-de)/we+2:(de-ve)/we+4,we/=ue<.5?ge+me:2-ge-me,ke*=60):we=ue>0&&ue<1?0:ke,new R(ke,we,ue,pe.opacity)}function R(pe,de,ve,be){this.h=+pe,this.s=+de,this.l=+ve,this.opacity=+be}function U(pe){return(pe=(pe||0)%360)<0?pe+360:pe}function z(pe){return Math.max(0,Math.min(1,pe||0))}function N(pe,de,ve){return 255*(pe<60?de+(ve-de)*pe/60:pe<180?ve:pe<240?de+(ve-de)*(240-pe)/60:de)}M(a,p,{copy:function(pe){return Object.assign(new this.constructor,this,pe)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return O(this).formatHsl()},formatRgb:f,toString:f}),M(_,x,k(a,{brighter:function(pe){return pe=pe==null?b:Math.pow(b,pe),new _(this.r*pe,this.g*pe,this.b*pe,this.opacity)},darker:function(pe){return pe=pe==null?T:Math.pow(T,pe),new _(this.r*pe,this.g*pe,this.b*pe,this.opacity)},rgb:function(){return this},clamp:function(){return new _(E(this.r),E(this.g),E(this.b),w(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h,formatHex:h,formatHex8:function(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b)).concat(C(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:S,toString:S})),M(R,function(pe,de,ve,be){return arguments.length===1?O(pe):new R(pe,de,ve,be??1)},k(a,{brighter:function(pe){return pe=pe==null?b:Math.pow(b,pe),new R(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?T:Math.pow(T,pe),new R(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=this.h%360+360*(this.h<0),de=isNaN(pe)||isNaN(this.s)?0:this.s,ve=this.l,be=ve+(ve<.5?ve:1-ve)*de,me=2*ve-be;return new _(N(pe>=240?pe-240:pe+120,me,be),N(pe,me,be),N(pe<120?pe+240:pe-120,me,be),this.opacity)},clamp:function(){return new R(U(this.h),z(this.s),z(this.l),w(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var pe=w(this.opacity);return"".concat(pe===1?"hsl(":"hsla(").concat(U(this.h),", ").concat(100*z(this.s),"%, ").concat(100*z(this.l),"%").concat(pe===1?")":", ".concat(pe,")"))}}));var W=function(pe){return function(){return pe}};function F(pe,de){var ve=de-pe;return ve?function(be,me){return function(ge){return be+ge*me}}(pe,ve):W(isNaN(pe)?de:pe)}var V=function pe(de){var ve=function(me){return(me=+me)==1?F:function(ge,ke){return ke-ge?function(we,ue,oe){return we=Math.pow(we,oe),ue=Math.pow(ue,oe)-we,oe=1/oe,function(he){return Math.pow(we+he*ue,oe)}}(ge,ke,me):W(isNaN(ge)?ke:ge)}}(de);function be(me,ge){var ke=ve((me=x(me)).r,(ge=x(ge)).r),we=ve(me.g,ge.g),ue=ve(me.b,ge.b),oe=F(me.opacity,ge.opacity);return function(he){return me.r=ke(he),me.g=we(he),me.b=ue(he),me.opacity=oe(he),me+""}}return be.gamma=pe,be}(1);function j(pe,de){var ve,be=de?de.length:0,me=pe?Math.min(be,pe.length):0,ge=new Array(me),ke=new Array(be);for(ve=0;ve<me;++ve)ge[ve]=le(pe[ve],de[ve]);for(;ve<be;++ve)ke[ve]=de[ve];return function(we){for(ve=0;ve<me;++ve)ke[ve]=ge[ve](we);return ke}}function te(pe,de){var ve=new Date;return pe=+pe,de=+de,function(be){return ve.setTime(pe*(1-be)+de*be),ve}}function J(pe,de){return pe=+pe,de=+de,function(ve){return pe*(1-ve)+de*ve}}function K(pe){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},K(pe)}function Z(pe,de){var ve,be={},me={};for(ve in pe!==null&&K(pe)==="object"||(pe={}),de!==null&&K(de)==="object"||(de={}),de)ve in pe?be[ve]=le(pe[ve],de[ve]):me[ve]=de[ve];return function(ge){for(ve in be)me[ve]=be[ve](ge);return me}}var X=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q=new RegExp(X.source,"g");function re(pe,de){var ve,be,me,ge=X.lastIndex=Q.lastIndex=0,ke=-1,we=[],ue=[];for(pe+="",de+="";(ve=X.exec(pe))&&(be=Q.exec(de));)(me=be.index)>ge&&(me=de.slice(ge,me),we[ke]?we[ke]+=me:we[++ke]=me),(ve=ve[0])===(be=be[0])?we[ke]?we[ke]+=be:we[++ke]=be:(we[++ke]=null,ue.push({i:ke,x:J(ve,be)})),ge=Q.lastIndex;return ge<de.length&&(me=de.slice(ge),we[ke]?we[ke]+=me:we[++ke]=me),we.length<2?ue[0]?function(oe){return function(he){return oe(he)+""}}(ue[0].x):function(oe){return function(){return oe}}(de):(de=ue.length,function(oe){for(var he,Ee=0;Ee<de;++Ee)we[(he=ue[Ee]).i]=he.x(oe);return we.join("")})}function ae(pe,de){de||(de=[]);var ve,be=pe?Math.min(de.length,pe.length):0,me=de.slice();return function(ge){for(ve=0;ve<be;++ve)me[ve]=pe[ve]*(1-ge)+de[ve]*ge;return me}}function ie(pe){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},ie(pe)}function le(pe,de){var ve,be,me=ie(de);return de==null||me==="boolean"?W(de):(me==="number"?J:me==="string"?(ve=p(de))?(de=ve,V):re:de instanceof p?V:de instanceof Date?te:(be=de,!ArrayBuffer.isView(be)||be instanceof DataView?Array.isArray(de)?j:typeof de.valueOf!="function"&&typeof de.toString!="function"||isNaN(de)?Z:J:ae))(pe,de)}},30584:function(ee){ee.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(ee){ee.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(ee){ee.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(ee){ee.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(ee){ee.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(ee){ee.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},wi={};function pa(ee){var D=wi[ee];if(D!==void 0)return D.exports;var e=wi[ee]={exports:{}};return es[ee].call(e.exports,e,e.exports,pa),e.exports}return pa.n=function(ee){var D=ee&&ee.__esModule?function(){return ee.default}:function(){return ee};return pa.d(D,{a:D}),D},pa.d=function(ee,D){for(var e in D)pa.o(D,e)&&!pa.o(ee,e)&&Object.defineProperty(ee,e,{enumerable:!0,get:D[e]})},pa.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),pa.o=function(ee,D){return Object.prototype.hasOwnProperty.call(ee,D)},pa.r=function(ee){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ee,"__esModule",{value:!0})},pa(13792)}()})})(Uh);var Pd=Uh.exports;const Od=jh(Pd);var Vh={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(Ia,ou){(function(es,wi){Ia.exports=wi()})(Cd,function es(){var wi=typeof self<"u"?self:typeof window<"u"?window:wi!==void 0?wi:{},pa=!wi.document&&!!wi.postMessage,ee=wi.IS_PAPA_WORKER||!1,D={},e=0,M={parse:function(m,f){var p=(f=f||{}).dynamicTyping||!1;if(c(p)&&(f.dynamicTypingFunction=p,p={}),f.dynamicTyping=p,f.transform=!!c(f.transform)&&f.transform,f.worker&&M.WORKERS_SUPPORTED){var v=function(){if(!M.WORKERS_SUPPORTED)return!1;var x=(h=wi.URL||wi.webkitURL||null,S=es.toString(),M.BLOB_URL||(M.BLOB_URL=h.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",S,")();"],{type:"text/javascript"})))),_=new wi.Worker(x),h,S;return _.onmessage=n,_.id=e++,D[_.id]=_}();return v.userStep=f.step,v.userChunk=f.chunk,v.userComplete=f.complete,v.userError=f.error,f.step=c(f.step),f.chunk=c(f.chunk),f.complete=c(f.complete),f.error=c(f.error),delete f.worker,void v.postMessage({input:m,config:f,workerId:v.id})}var y=null;return M.NODE_STREAM_INPUT,typeof m=="string"?(m=function(x){return x.charCodeAt(0)===65279?x.slice(1):x}(m),y=f.download?new T(f):new g(f)):m.readable===!0&&c(m.read)&&c(m.on)?y=new s(f):(wi.File&&m instanceof File||m instanceof Object)&&(y=new b(f)),y.stream(m)},unparse:function(m,f){var p=!1,v=!0,y=",",x=`\r
`,_='"',h=_+_,S=!1,w=null,E=!1;(function(){if(typeof f=="object"){if(typeof f.delimiter!="string"||M.BAD_DELIMITERS.filter(function(R){return f.delimiter.indexOf(R)!==-1}).length||(y=f.delimiter),(typeof f.quotes=="boolean"||typeof f.quotes=="function"||Array.isArray(f.quotes))&&(p=f.quotes),typeof f.skipEmptyLines!="boolean"&&typeof f.skipEmptyLines!="string"||(S=f.skipEmptyLines),typeof f.newline=="string"&&(x=f.newline),typeof f.quoteChar=="string"&&(_=f.quoteChar),typeof f.header=="boolean"&&(v=f.header),Array.isArray(f.columns)){if(f.columns.length===0)throw new Error("Option columns is empty");w=f.columns}f.escapeChar!==void 0&&(h=f.escapeChar+_),(typeof f.escapeFormulae=="boolean"||f.escapeFormulae instanceof RegExp)&&(E=f.escapeFormulae instanceof RegExp?f.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var C=new RegExp(i(_),"g");if(typeof m=="string"&&(m=JSON.parse(m)),Array.isArray(m)){if(!m.length||Array.isArray(m[0]))return P(null,m,S);if(typeof m[0]=="object")return P(w||Object.keys(m[0]),m,S)}else if(typeof m=="object")return typeof m.data=="string"&&(m.data=JSON.parse(m.data)),Array.isArray(m.data)&&(m.fields||(m.fields=m.meta&&m.meta.fields||w),m.fields||(m.fields=Array.isArray(m.data[0])?m.fields:typeof m.data[0]=="object"?Object.keys(m.data[0]):[]),Array.isArray(m.data[0])||typeof m.data[0]=="object"||(m.data=[m.data])),P(m.fields||[],m.data||[],S);throw new Error("Unable to serialize unrecognized input");function P(R,U,z){var N="";typeof R=="string"&&(R=JSON.parse(R)),typeof U=="string"&&(U=JSON.parse(U));var W=Array.isArray(R)&&0<R.length,F=!Array.isArray(U[0]);if(W&&v){for(var V=0;V<R.length;V++)0<V&&(N+=y),N+=O(R[V],V);0<U.length&&(N+=x)}for(var j=0;j<U.length;j++){var te=W?R.length:U[j].length,J=!1,K=W?Object.keys(U[j]).length===0:U[j].length===0;if(z&&!W&&(J=z==="greedy"?U[j].join("").trim()==="":U[j].length===1&&U[j][0].length===0),z==="greedy"&&W){for(var Z=[],X=0;X<te;X++){var Q=F?R[X]:X;Z.push(U[j][Q])}J=Z.join("").trim()===""}if(!J){for(var re=0;re<te;re++){0<re&&!K&&(N+=y);var ae=W&&F?R[re]:re;N+=O(U[j][ae],re)}j<U.length-1&&(!z||0<te&&!K)&&(N+=x)}}return N}function O(R,U){if(R==null)return"";if(R.constructor===Date)return JSON.stringify(R).slice(1,25);var z=!1;E&&typeof R=="string"&&E.test(R)&&(R="'"+R,z=!0);var N=R.toString().replace(C,h);return(z=z||p===!0||typeof p=="function"&&p(R,U)||Array.isArray(p)&&p[U]||function(W,F){for(var V=0;V<F.length;V++)if(-1<W.indexOf(F[V]))return!0;return!1}(N,M.BAD_DELIMITERS)||-1<N.indexOf(y)||N.charAt(0)===" "||N.charAt(N.length-1)===" ")?_+N+_:N}}};if(M.RECORD_SEP="",M.UNIT_SEP="",M.BYTE_ORDER_MARK="\uFEFF",M.BAD_DELIMITERS=["\r",`
`,'"',M.BYTE_ORDER_MARK],M.WORKERS_SUPPORTED=!pa&&!!wi.Worker,M.NODE_STREAM_INPUT=1,M.LocalChunkSize=10485760,M.RemoteChunkSize=5242880,M.DefaultDelimiter=",",M.Parser=r,M.ParserHandle=t,M.NetworkStreamer=T,M.FileStreamer=b,M.StringStreamer=g,M.ReadableStreamStreamer=s,wi.jQuery){var k=wi.jQuery;k.fn.parse=function(m){var f=m.config||{},p=[];return this.each(function(x){if(!(k(this).prop("tagName").toUpperCase()==="INPUT"&&k(this).attr("type").toLowerCase()==="file"&&wi.FileReader)||!this.files||this.files.length===0)return!0;for(var _=0;_<this.files.length;_++)p.push({file:this.files[_],inputElem:this,instanceConfig:k.extend({},f)})}),v(),this;function v(){if(p.length!==0){var x,_,h,S,w=p[0];if(c(m.before)){var E=m.before(w.file,w.inputElem);if(typeof E=="object"){if(E.action==="abort")return x="AbortError",_=w.file,h=w.inputElem,S=E.reason,void(c(m.error)&&m.error({name:x},_,h,S));if(E.action==="skip")return void y();typeof E.config=="object"&&(w.instanceConfig=k.extend(w.instanceConfig,E.config))}else if(E==="skip")return void y()}var C=w.instanceConfig.complete;w.instanceConfig.complete=function(P){c(C)&&C(P,w.file,w.inputElem),y()},M.parse(w.file,w.instanceConfig)}else c(m.complete)&&m.complete()}function y(){p.splice(0,1),v()}}}function a(m){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(f){var p=u(f);p.chunkSize=parseInt(p.chunkSize),f.step||f.chunk||(p.chunkSize=null),this._handle=new t(p),(this._handle.streamer=this)._config=p}).call(this,m),this.parseChunk=function(f,p){if(this.isFirstChunk&&c(this._config.beforeFirstChunk)){var v=this._config.beforeFirstChunk(f);v!==void 0&&(f=v)}this.isFirstChunk=!1,this._halted=!1;var y=this._partialLine+f;this._partialLine="";var x=this._handle.parse(y,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var _=x.meta.cursor;this._finished||(this._partialLine=y.substring(_-this._baseIndex),this._baseIndex=_),x&&x.data&&(this._rowCount+=x.data.length);var h=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(ee)wi.postMessage({results:x,workerId:M.WORKER_ID,finished:h});else if(c(this._config.chunk)&&!p){if(this._config.chunk(x,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);x=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(x.data),this._completeResults.errors=this._completeResults.errors.concat(x.errors),this._completeResults.meta=x.meta),this._completed||!h||!c(this._config.complete)||x&&x.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),h||x&&x.meta.paused||this._nextChunk(),x}this._halted=!0},this._sendError=function(f){c(this._config.error)?this._config.error(f):ee&&this._config.error&&wi.postMessage({workerId:M.WORKER_ID,error:f,finished:!1})}}function T(m){var f;(m=m||{}).chunkSize||(m.chunkSize=M.RemoteChunkSize),a.call(this,m),this._nextChunk=pa?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(p){this._input=p,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(f=new XMLHttpRequest,this._config.withCredentials&&(f.withCredentials=this._config.withCredentials),pa||(f.onload=d(this._chunkLoaded,this),f.onerror=d(this._chunkError,this)),f.open(this._config.downloadRequestBody?"POST":"GET",this._input,!pa),this._config.downloadRequestHeaders){var p=this._config.downloadRequestHeaders;for(var v in p)f.setRequestHeader(v,p[v])}if(this._config.chunkSize){var y=this._start+this._config.chunkSize-1;f.setRequestHeader("Range","bytes="+this._start+"-"+y)}try{f.send(this._config.downloadRequestBody)}catch(x){this._chunkError(x.message)}pa&&f.status===0&&this._chunkError()}},this._chunkLoaded=function(){f.readyState===4&&(f.status<200||400<=f.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:f.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(p){var v=p.getResponseHeader("Content-Range");return v===null?-1:parseInt(v.substring(v.lastIndexOf("/")+1))}(f),this.parseChunk(f.responseText)))},this._chunkError=function(p){var v=f.statusText||p;this._sendError(new Error(v))}}function b(m){var f,p;(m=m||{}).chunkSize||(m.chunkSize=M.LocalChunkSize),a.call(this,m);var v=typeof FileReader<"u";this.stream=function(y){this._input=y,p=y.slice||y.webkitSlice||y.mozSlice,v?((f=new FileReader).onload=d(this._chunkLoaded,this),f.onerror=d(this._chunkError,this)):f=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var y=this._input;if(this._config.chunkSize){var x=Math.min(this._start+this._config.chunkSize,this._input.size);y=p.call(y,this._start,x)}var _=f.readAsText(y,this._config.encoding);v||this._chunkLoaded({target:{result:_}})},this._chunkLoaded=function(y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(y.target.result)},this._chunkError=function(){this._sendError(f.error)}}function g(m){var f;a.call(this,m=m||{}),this.stream=function(p){return f=p,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var p,v=this._config.chunkSize;return v?(p=f.substring(0,v),f=f.substring(v)):(p=f,f=""),this._finished=!f,this.parseChunk(p)}}}function s(m){a.call(this,m=m||{});var f=[],p=!0,v=!1;this.pause=function(){a.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){a.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(y){this._input=y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){v&&f.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),f.length?this.parseChunk(f.shift()):p=!0},this._streamData=d(function(y){try{f.push(typeof y=="string"?y:y.toString(this._config.encoding)),p&&(p=!1,this._checkIsFinished(),this.parseChunk(f.shift()))}catch(x){this._streamError(x)}},this),this._streamError=d(function(y){this._streamCleanUp(),this._sendError(y)},this),this._streamEnd=d(function(){this._streamCleanUp(),v=!0,this._streamData("")},this),this._streamCleanUp=d(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function t(m){var f,p,v,y=Math.pow(2,53),x=-y,_=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,h=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,S=this,w=0,E=0,C=!1,P=!1,O=[],R={data:[],errors:[],meta:{}};if(c(m.step)){var U=m.step;m.step=function(j){if(R=j,W())N();else{if(N(),R.data.length===0)return;w+=j.data.length,m.preview&&w>m.preview?p.abort():(R.data=R.data[0],U(R,S))}}}function z(j){return m.skipEmptyLines==="greedy"?j.join("").trim()==="":j.length===1&&j[0].length===0}function N(){return R&&v&&(V("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+M.DefaultDelimiter+"'"),v=!1),m.skipEmptyLines&&(R.data=R.data.filter(function(j){return!z(j)})),W()&&function(){if(!R)return;function j(J,K){c(m.transformHeader)&&(J=m.transformHeader(J,K)),O.push(J)}if(Array.isArray(R.data[0])){for(var te=0;W()&&te<R.data.length;te++)R.data[te].forEach(j);R.data.splice(0,1)}else R.data.forEach(j)}(),function(){if(!R||!m.header&&!m.dynamicTyping&&!m.transform)return R;function j(J,K){var Z,X=m.header?{}:[];for(Z=0;Z<J.length;Z++){var Q=Z,re=J[Z];m.header&&(Q=Z>=O.length?"__parsed_extra":O[Z]),m.transform&&(re=m.transform(re,Q)),re=F(Q,re),Q==="__parsed_extra"?(X[Q]=X[Q]||[],X[Q].push(re)):X[Q]=re}return m.header&&(Z>O.length?V("FieldMismatch","TooManyFields","Too many fields: expected "+O.length+" fields but parsed "+Z,E+K):Z<O.length&&V("FieldMismatch","TooFewFields","Too few fields: expected "+O.length+" fields but parsed "+Z,E+K)),X}var te=1;return!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(j),te=R.data.length):R.data=j(R.data,0),m.header&&R.meta&&(R.meta.fields=O),E+=te,R}()}function W(){return m.header&&O.length===0}function F(j,te){return J=j,m.dynamicTypingFunction&&m.dynamicTyping[J]===void 0&&(m.dynamicTyping[J]=m.dynamicTypingFunction(J)),(m.dynamicTyping[J]||m.dynamicTyping)===!0?te==="true"||te==="TRUE"||te!=="false"&&te!=="FALSE"&&(function(K){if(_.test(K)){var Z=parseFloat(K);if(x<Z&&Z<y)return!0}return!1}(te)?parseFloat(te):h.test(te)?new Date(te):te===""?null:te):te;var J}function V(j,te,J,K){var Z={type:j,code:te,message:J};K!==void 0&&(Z.row=K),R.errors.push(Z)}this.parse=function(j,te,J){var K=m.quoteChar||'"';if(m.newline||(m.newline=function(Q,re){Q=Q.substring(0,1048576);var ae=new RegExp(i(re)+"([^]*?)"+i(re),"gm"),ie=(Q=Q.replace(ae,"")).split("\r"),le=Q.split(`
`),pe=1<le.length&&le[0].length<ie[0].length;if(ie.length===1||pe)return`
`;for(var de=0,ve=0;ve<ie.length;ve++)ie[ve][0]===`
`&&de++;return de>=ie.length/2?`\r
`:"\r"}(j,K)),v=!1,m.delimiter)c(m.delimiter)&&(m.delimiter=m.delimiter(j),R.meta.delimiter=m.delimiter);else{var Z=function(Q,re,ae,ie,le){var pe,de,ve,be;le=le||[",","	","|",";",M.RECORD_SEP,M.UNIT_SEP];for(var me=0;me<le.length;me++){var ge=le[me],ke=0,we=0,ue=0;ve=void 0;for(var oe=new r({comments:ie,delimiter:ge,newline:re,preview:10}).parse(Q),he=0;he<oe.data.length;he++)if(ae&&z(oe.data[he]))ue++;else{var Ee=oe.data[he].length;we+=Ee,ve!==void 0?0<Ee&&(ke+=Math.abs(Ee-ve),ve=Ee):ve=Ee}0<oe.data.length&&(we/=oe.data.length-ue),(de===void 0||ke<=de)&&(be===void 0||be<we)&&1.99<we&&(de=ke,pe=ge,be=we)}return{successful:!!(m.delimiter=pe),bestDelimiter:pe}}(j,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);Z.successful?m.delimiter=Z.bestDelimiter:(v=!0,m.delimiter=M.DefaultDelimiter),R.meta.delimiter=m.delimiter}var X=u(m);return m.preview&&m.header&&X.preview++,f=j,p=new r(X),R=p.parse(f,te,J),N(),C?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return C},this.pause=function(){C=!0,p.abort(),f=c(m.chunk)?"":f.substring(p.getCharIndex())},this.resume=function(){S.streamer._halted?(C=!1,S.streamer.parseChunk(f,!0)):setTimeout(S.resume,3)},this.aborted=function(){return P},this.abort=function(){P=!0,p.abort(),R.meta.aborted=!0,c(m.complete)&&m.complete(R),f=""}}function i(m){return m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(m){var f,p=(m=m||{}).delimiter,v=m.newline,y=m.comments,x=m.step,_=m.preview,h=m.fastMode,S=f=m.quoteChar===void 0||m.quoteChar===null?'"':m.quoteChar;if(m.escapeChar!==void 0&&(S=m.escapeChar),(typeof p!="string"||-1<M.BAD_DELIMITERS.indexOf(p))&&(p=","),y===p)throw new Error("Comment character same as delimiter");y===!0?y="#":(typeof y!="string"||-1<M.BAD_DELIMITERS.indexOf(y))&&(y=!1),v!==`
`&&v!=="\r"&&v!==`\r
`&&(v=`
`);var w=0,E=!1;this.parse=function(C,P,O){if(typeof C!="string")throw new Error("Input must be a string");var R=C.length,U=p.length,z=v.length,N=y.length,W=c(x),F=[],V=[],j=[],te=w=0;if(!C)return Te();if(m.header&&!P){var J=C.split(v)[0].split(p),K=[],Z={},X=!1;for(var Q in J){var re=J[Q];c(m.transformHeader)&&(re=m.transformHeader(re,Q));var ae=re,ie=Z[re]||0;for(0<ie&&(X=!0,ae=re+"_"+ie),Z[re]=ie+1;K.includes(ae);)ae=ae+"_"+ie;K.push(ae)}if(X){var le=C.split(v);le[0]=K.join(p),C=le.join(v)}}if(h||h!==!1&&C.indexOf(f)===-1){for(var pe=C.split(v),de=0;de<pe.length;de++){if(j=pe[de],w+=j.length,de!==pe.length-1)w+=v.length;else if(O)return Te();if(!y||j.substring(0,N)!==y){if(W){if(F=[],ue(j.split(p)),Me(),E)return Te()}else ue(j.split(p));if(_&&_<=de)return F=F.slice(0,_),Te(!0)}}return Te()}for(var ve=C.indexOf(p,w),be=C.indexOf(v,w),me=new RegExp(i(S)+i(f),"g"),ge=C.indexOf(f,w);;)if(C[w]!==f)if(y&&j.length===0&&C.substring(w,w+N)===y){if(be===-1)return Te();w=be+z,be=C.indexOf(v,w),ve=C.indexOf(p,w)}else if(ve!==-1&&(ve<be||be===-1))j.push(C.substring(w,ve)),w=ve+U,ve=C.indexOf(p,w);else{if(be===-1)break;if(j.push(C.substring(w,be)),Ee(be+z),W&&(Me(),E))return Te();if(_&&F.length>=_)return Te(!0)}else for(ge=w,w++;;){if((ge=C.indexOf(f,ge+1))===-1)return O||V.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:F.length,index:w}),he();if(ge===R-1)return he(C.substring(w,ge).replace(me,f));if(f!==S||C[ge+1]!==S){if(f===S||ge===0||C[ge-1]!==S){ve!==-1&&ve<ge+1&&(ve=C.indexOf(p,ge+1)),be!==-1&&be<ge+1&&(be=C.indexOf(v,ge+1));var ke=oe(be===-1?ve:Math.min(ve,be));if(C.substr(ge+1+ke,U)===p){j.push(C.substring(w,ge).replace(me,f)),C[w=ge+1+ke+U]!==f&&(ge=C.indexOf(f,w)),ve=C.indexOf(p,w),be=C.indexOf(v,w);break}var we=oe(be);if(C.substring(ge+1+we,ge+1+we+z)===v){if(j.push(C.substring(w,ge).replace(me,f)),Ee(ge+1+we+z),ve=C.indexOf(p,w),ge=C.indexOf(f,w),W&&(Me(),E))return Te();if(_&&F.length>=_)return Te(!0);break}V.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:F.length,index:w}),ge++}}else ge++}return he();function ue(Se){F.push(Se),te=w}function oe(Se){var ze=0;if(Se!==-1){var fe=C.substring(ge+1,Se);fe&&fe.trim()===""&&(ze=fe.length)}return ze}function he(Se){return O||(Se===void 0&&(Se=C.substring(w)),j.push(Se),w=R,ue(j),W&&Me()),Te()}function Ee(Se){w=Se,ue(j),j=[],be=C.indexOf(v,w)}function Te(Se){return{data:F,errors:V,meta:{delimiter:p,linebreak:v,aborted:E,truncated:!!Se,cursor:te+(P||0)}}}function Me(){x(Te()),F=[],V=[]}},this.abort=function(){E=!0},this.getCharIndex=function(){return w}}function n(m){var f=m.data,p=D[f.workerId],v=!1;if(f.error)p.userError(f.error,f.file);else if(f.results&&f.results.data){var y={abort:function(){v=!0,o(f.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:l,resume:l};if(c(p.userStep)){for(var x=0;x<f.results.data.length&&(p.userStep({data:f.results.data[x],errors:f.results.errors,meta:f.results.meta},y),!v);x++);delete f.results}else c(p.userChunk)&&(p.userChunk(f.results,y,f.file),delete f.results)}f.finished&&!v&&o(f.workerId,f.results)}function o(m,f){var p=D[m];c(p.userComplete)&&p.userComplete(f),p.terminate(),delete D[m]}function l(){throw new Error("Not implemented.")}function u(m){if(typeof m!="object"||m===null)return m;var f=Array.isArray(m)?[]:{};for(var p in m)f[p]=u(m[p]);return f}function d(m,f){return function(){m.apply(f,arguments)}}function c(m){return typeof m=="function"}return ee&&(wi.onmessage=function(m){var f=m.data;if(M.WORKER_ID===void 0&&f&&(M.WORKER_ID=f.workerId),typeof f.input=="string")wi.postMessage({workerId:M.WORKER_ID,results:M.parse(f.input,f.config),finished:!0});else if(wi.File&&f.input instanceof File||f.input instanceof Object){var p=M.parse(f.input,f.config);p&&wi.postMessage({workerId:M.WORKER_ID,results:p,finished:!0})}}),(T.prototype=Object.create(a.prototype)).constructor=T,(b.prototype=Object.create(a.prototype)).constructor=b,(g.prototype=Object.create(g.prototype)).constructor=g,(s.prototype=Object.create(a.prototype)).constructor=s,M})})(Vh);var Id=Vh.exports;const zd=jh(Id),Dd="app-data/batter_bp2vec.csv";function Rd(Ia,ou,es){var wi={x:Ia,y:ou,z:es,mode:"markers",type:"scatter3d",marker:{size:4,color:es,colorscale:"Viridis",opacity:.8,line:{width:1,color:"rgb(255, 255, 255, 0.5)"}},hoverinfo:"x+y+z+text"},pa={title:"3D PCA Scatter Plot of Batters",autosize:!0,margin:{l:0,r:0,b:0,t:30},scene:{xaxis:{title:"PCA 0"},yaxis:{title:"PCA 1"},zaxis:{title:"PCA 2"},aspectratio:{x:1,y:1,z:1},camera:{eye:{x:1.25,y:1.25,z:1.25}}},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)"};Od.newPlot("scatterPlot",[wi],pa,{responsive:!0})}fetch(Dd).then(Ia=>Ia.text()).then(Ia=>{zd.parse(Ia,{complete:ou=>{const es=ou.data,wi=es.map(D=>D.pca_0),pa=es.map(D=>D.pca_1),ee=es.map(D=>D.pca_2);Rd(wi,pa,ee)},header:!0})}).catch(Ia=>console.error("Error loading the CSV file:",Ia));
